;/*FB_PKG_DELIM*/

__d("PolarisDesktopCommentLikeCount_comment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisDesktopCommentLikeCount_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_like_count",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisCommentLikedByList_comment"},{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null}],type:"XDTCommentDict",abstractKey:null};a.exports=e}),null);
__d("usePolarisCommentLikedByList_comment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisCommentLikedByList_comment",selections:[{kind:"RequiredField",field:e,action:"THROW"},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comment_like_count",storageKey:null}],type:"XDTCommentDict",abstractKey:null}})();a.exports=e}),null);
__d("usePolarisCommentLikedByList",["CometRelay","PolarisCommentLikedByListDialogRoot.entrypoint","PolarisLikedByListDialogPlaceholder.react","react","useIGDSEntryPointDialog","usePolarisCommentLikedByList_comment.graphql","usePolarisViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useCallback;function d(t){var a,i,l=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisCommentLikedByList_comment.graphql"),t),s=r("usePolarisViewer")(),d=(s==null?void 0:s.id)===(l==null||(a=l.user)==null?void 0:a.pk),m=r("useIGDSEntryPointDialog")(r("PolarisCommentLikedByListDialogRoot.entrypoint"),{routeParams:{},routeProps:{commentId:l.pk}},"button",function(e){return u.jsx(r("PolarisLikedByListDialogPlaceholder.react"),{onClose:e})}),p=m[0];return c(function(){var e,t,n;p({isOwnerTheViewer:d,likeAndViewCountsDisabled:!1,likeCount:(e=l.comment_like_count)!=null?e:void 0,ownerUsername:(t=l==null||(n=l.user)==null?void 0:n.username)!=null?t:"",productType:void 0,viewCount:0})},[l.comment_like_count,l==null||(i=l.user)==null?void 0:i.username,p,d])}l.default=d}),98);
__d("PolarisDesktopCommentLikeCount.react",["cx","fbt","CometRelay","IGDSText.react","PolarisCommentActionButton.react","PolarisCommentLikeListsActions","PolarisCommentLikedByListContainerLazy.react","PolarisDesktopCommentLikeCount_comment.graphql","PolarisLikedByListVariant","PolarisReactRedux.react","QE2Logger","qex","react","react-compiler-runtime","usePolarisCommentLikeCountString","usePolarisCommentLikedByList","usePolarisLoggedOutIntentEntryPointDialog"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useEffect,f=m.useState;function g(){var e=o("react-compiler-runtime").c(8),t=r("usePolarisLoggedOutIntentEntryPointDialog")(),n=t[0],a=t[1],i;e[0]!==n?(i=function(){n==null||n({source:"post_comment_like_count"})},e[0]=n,e[1]=i):i=e[1];var l;e[2]!==a?(l=function(){return a==null?void 0:a()},e[2]=a,e[3]=l):l=e[3];var s;e[4]===Symbol.for("react.memo_cache_sentinel")?(s=d.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:u._(/*BTDS*/"Like")}),e[4]=s):s=e[4];var c;return e[5]!==i||e[6]!==l?(c=d.jsx("button",{className:"_a9ze",onClick:i,onMouseEnter:l,children:s}),e[5]=i,e[6]=l,e[7]=c):c=e[7],c}function h(t){var a=o("react-compiler-runtime").c(12),i=t.allowLoggedOutFallbackLike,l=t.comment,s=i===void 0?!1:i,u=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisDesktopCommentLikeCount_comment.graphql"),l),c=r("usePolarisCommentLikeCountString")(u==null?void 0:u.comment_like_count),m=f(!1),p=m[0],_=m[1],h=r("usePolarisCommentLikedByList")(u),C;a[0]!==h?(C=function(){o("QE2Logger").logExposureForIGWebCookieCritical("ig_web_h1_2023_desktop_reels_comment_likes_graphql","is_enabled"),r("qex")._("1656")?h():_(!0)},a[0]=h,a[1]=C):C=a[1];var b=C;if(c==null){if(s){var v;return a[2]===Symbol.for("react.memo_cache_sentinel")?(v=d.jsx(g,{}),a[2]=v):v=a[2],v}return null}var S;a[3]!==b||a[4]!==c?(S=d.jsx(r("PolarisCommentActionButton.react"),{label:c,onClick:b}),a[3]=b,a[4]=c,a[5]=S):S=a[5];var R;a[6]!==u.pk||a[7]!==p?(R=u.pk!=null&&p===!0?d.jsx(y,{commentId:u.pk,onClose:function(){return _(!1)}}):null,a[6]=u.pk,a[7]=p,a[8]=R):R=a[8];var L;return a[9]!==S||a[10]!==R?(L=d.jsxs(d.Fragment,{children:[S,R]}),a[9]=S,a[10]=R,a[11]=L):L=a[11],L}function y(e){var t=o("react-compiler-runtime").c(7),n=e.commentId,a=e.onClose,i=o("PolarisReactRedux.react").useDispatch(),l,s;t[0]!==n||t[1]!==i?(l=function(){i(o("PolarisCommentLikeListsActions").requestCommentLikes(n))},s=[i,n],t[0]=n,t[1]=i,t[2]=l,t[3]=s):(l=t[2],s=t[3]),_(l,s);var u;return t[4]!==n||t[5]!==a?(u=d.jsx(r("PolarisCommentLikedByListContainerLazy.react"),{commentId:n,display:r("PolarisLikedByListVariant").Modal,onClose:a}),t[4]=n,t[5]=a,t[6]=u):u=t[6],u}l.default=h}),226);
__d("PolarisPostComment_comment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"};return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__PolarisIsLoggedInrelayprovider"}],kind:"Fragment",metadata:null,name:"PolarisPostComment_comment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"child_comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e,{args:null,kind:"FragmentSpread",name:"PolarisPostCommentAvatar_user"}],storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisCommentLikeButton_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostChildComments_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentContent_comment"},{args:null,kind:"FragmentSpread",name:"usePolarisPostCommentState_comment"},{args:null,kind:"FragmentSpread",name:"PolarisCommentReplyButton_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentViewpoint_comment"},{args:null,kind:"FragmentSpread",name:"PolarisDesktopCommentLikeCount_comment"},{condition:"__relay_internal__pv__PolarisIsLoggedInrelayprovider",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostCommentActionButtons_comment"}]}],type:"XDTCommentDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisPostComment.next.react",["CometRelay","IGDSBox.react","PolarisCommentLikeButton.next.react","PolarisCommentReplyButton.react","PolarisCommentScrollHelper","PolarisCommentTranslationPrompt.next.react","PolarisDesktopCommentLikeCount.react","PolarisIsLoggedIn","PolarisPostChildComments.next.react","PolarisPostCommentAvatar.react","PolarisPostCommentContent.next.react","PolarisPostCommentViewpoint.react","PolarisPostComment_comment.graphql","cr:7735","cr:8420","react","react-compiler-runtime","usePolarisPostCommentState","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useRef,p=c.useState,_=32,f=12,g=3e3,h={childCommentsContainer:{marginInlineStart:"xpdvgm7",$$css:!0},likeButton:{paddingBottom:"xjkvuk6",$$css:!0}};function y(t){var a=o("react-compiler-runtime").c(39),i=t.enableLikeStubForLoggedOut,l=t.mediaCode,s=t.mediaId,c=t.mediaOwnerId,_=t.queryReference,f=i===void 0?!1:i,y=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostComment_comment.graphql"),_),C=r("usePolarisPostCommentState")(y),b=C.isParentComment,v=C.setShowReplies,S=C.setShowTranslatedText,R=C.setTranslatedText,L=C.showReplies,E=C.showTranslatedText,k=C.translatedText,I=p(!1),T=I[0],D=I[1],x=p(!1),$=x[0],P=x[1],N=y.restricted_status===1,M=r("usePrevious")(y.child_comment_count),w,A;a[0]!==y.child_comment_count||a[1]!==M||a[2]!==v||a[3]!==L?(w=function(){M!=null&&y.child_comment_count===M+1&&L===!1&&v(!0)},A=[y.child_comment_count,M,L,v],a[0]=y.child_comment_count,a[1]=M,a[2]=v,a[3]=L,a[4]=w,a[5]=A):(w=a[4],A=a[5]),d(w,A);var F=m(null),O=p(!1),B=O[0],W=O[1],q,U;a[6]!==y.pk?(q=function(){if(y.pk!=null)return o("PolarisCommentScrollHelper").subscribeToCommentScroll(y.pk,function(){var e=F.current;e!=null&&(e.scrollIntoView({behavior:"smooth",block:"center"}),window.setTimeout(function(){o("PolarisCommentScrollHelper").observeElementVisible(e,function(){W(!0),window.setTimeout(function(){W(!1)},g)})},200))})},U=[y.pk],a[6]=y.pk,a[7]=q,a[8]=U):(q=a[7],U=a[8]),d(q,U);var V;a[9]!==y||a[10]!==f||a[11]!==B||a[12]!==$||a[13]!==N||a[14]!==l||a[15]!==s||a[16]!==c||a[17]!==S||a[18]!==R||a[19]!==T||a[20]!==E||a[21]!==k?(V=function(t){var e;return u.jsx("div",babelHelpers.extends({},{0:{},1:{className:"x7t6ubo x10e4vud x1ucxfef xa3vuyk x1obq294 x5a5i1n xde0f50 x15x8krk x1qfufaz x1w5wx5t xmzvs34 xf159sx"}}[!!B<<0],{onMouseEnter:function(){return P(!0)},onMouseLeave:function(){return P(!1)},ref:function(n){F.current=n,typeof t=="function"&&t(n)},children:u.jsxs(r("IGDSBox.react"),{direction:"row",display:"flex",paddingY:3,children:[u.jsx("div",{className:"xbmvrgn",children:u.jsx(r("PolarisPostCommentAvatar.react"),{restrictedStatus:(e=y.restricted_status)!=null?e:0,user:y.user})}),u.jsxs(r("IGDSBox.react"),{direction:"row",display:"flex",flex:"grow",children:[u.jsxs(r("IGDSBox.react"),{direction:"column",display:"flex",flex:"grow",children:[u.jsx(r("PolarisPostCommentContent.next.react"),{comment:y,isInlineComment:!1,mediaCode:l,showRestrictedContent:T,showTranslatedText:E,showVerifiedBadge:!0,translatedText:k}),u.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",height:16,marginTop:2,children:[u.jsx(r("PolarisDesktopCommentLikeCount.react"),{allowLoggedOutFallbackLike:f,comment:y}),!N&&u.jsx(o("PolarisCommentReplyButton.react").PolarisCommentReplyButton,{commentFragment:y,mediaCode:l,mediaId:s}),u.jsx(r("PolarisCommentTranslationPrompt.next.react"),{hasTranslation:y.has_translation,id:y.pk,setShowTranslatedText:S,setTranslatedText:R,showTranslatedText:E,translatedTextExists:k!=null}),n("cr:8420")&&u.jsx(n("cr:8420"),{isHovered:$,mediaId:s,mediaOwnerId:c,queryReference:y,setShowRestrictedContent:D,showRestrictedContent:T})]}),n("cr:7735")!=null&&u.jsx(n("cr:7735"),{commentId:y.pk})]}),o("PolarisIsLoggedIn").isLoggedIn()?u.jsx(r("IGDSBox.react"),{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginStart:2,children:u.jsx(r("PolarisCommentLikeButton.next.react"),{color:"ig-secondary-icon",queryReference:y,size:16,xstyle:h.likeButton})}):null]})]})}))},a[9]=y,a[10]=f,a[11]=B,a[12]=$,a[13]=N,a[14]=l,a[15]=s,a[16]=c,a[17]=S,a[18]=R,a[19]=T,a[20]=E,a[21]=k,a[22]=V):V=a[22];var H;a[23]!==y||a[24]!==s||a[25]!==c||a[26]!==V?(H=u.jsx(r("PolarisPostCommentViewpoint.react"),{mediaId:s,mediaOwnerId:c,queryReference:y,children:V}),a[23]=y,a[24]=s,a[25]=c,a[26]=V,a[27]=H):H=a[27];var G;a[28]!==y||a[29]!==b||a[30]!==l||a[31]!==s||a[32]!==c||a[33]!==v||a[34]!==L?(G=b?u.jsx(r("IGDSBox.react"),{xstyle:h.childCommentsContainer,children:u.jsx(r("PolarisPostChildComments.next.react"),{mediaCode:l,mediaId:s,mediaOwnerId:c,parentCommentQueryRef:y,setShowReplies:v,showReplies:L})}):null,a[28]=y,a[29]=b,a[30]=l,a[31]=s,a[32]=c,a[33]=v,a[34]=L,a[35]=G):G=a[35];var z;return a[36]!==H||a[37]!==G?(z=u.jsxs(u.Fragment,{children:[H,G]}),a[36]=H,a[37]=G,a[38]=z):z=a[38],z}l.default=y}),98);
__d("PolarisPostCommentActionButtons_comment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCommentActionButtons_comment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"parent_comment_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"},{kind:"RequiredField",field:e,action:"THROW"}],storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"useShowCommentOptionsModal_comment"}],type:"XDTCommentDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisPostCommentOptionsButton.react",["IGDSBox.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon.react","PolarisPostStrings","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.onClick,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(r("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:s.jsx(r("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:o("PolarisPostStrings").COMMENT_OPTIONS_ALT_TEXT,color:"ig-secondary-text"})}),t[0]=a):a=t[0];var i;return t[1]!==n?(i=s.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,onClick:n,children:a}),t[1]=n,t[2]=i):i=t[2],i}l.default=u}),98);
__d("PolarisPostCommentActionButtons.react",["CometRelay","IGDSDialogPlaceholder.react","JSResourceForInteraction","PolarisApproveCommentDialog.react","PolarisCommentActionButton.react","PolarisIgWellbeingRestrictManageCommentFalcoEvent","PolarisPostCommentActionButtons_comment.graphql","PolarisPostCommentOptionsButton.react","PolarisPostDetailsSectionProvider.react","PolarisPostStrings","react","react-compiler-runtime","useIGDSLazyDialog","usePolarisApproveRestrictedComment","usePolarisPostDeleteComment","usePolarisViewer","useShowCommentOptionsModal"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useCallback,d=r("JSResourceForInteraction")("PolarisApproveCommentDialog.next.react").__setRef("PolarisPostCommentActionButtons.react"),m=r("JSResourceForInteraction")("PolarisDeleteCommentModal.next.react").__setRef("PolarisPostCommentActionButtons.react");function p(t){var a=o("react-compiler-runtime").c(54),i=t.isHovered,l=t.mediaId,s=t.mediaOwnerId,c=t.queryReference,p=t.setShowRestrictedContent,g=t.showRestrictedContent,h=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostCommentActionButtons_comment.graphql"),c),y=h.restricted_status===1,C=y&&!g,b=y&&g,v=h.parent_comment_id!=null?h.parent_comment_id:h.pk,S=r("usePolarisViewer")(),R=o("PolarisPostDetailsSectionProvider.react").usePolarisPostDetailsSectionProvider(),L=r("usePolarisPostDeleteComment")(h.pk,l,h.parent_comment_id),E=r("useIGDSLazyDialog")(d,f),k=E[0],I=r("useIGDSLazyDialog")(m,_),T=I[0],D=r("usePolarisApproveRestrictedComment")(h.pk),x;a[0]!==h.pk||a[1]!==h.user.pk||a[2]!==h.user.username||a[3]!==v||a[4]!==D||a[5]!==l||a[6]!==k?(x=function(){var e,t=(e=h.user)==null?void 0:e.username;t!=null&&k({commentId:h.pk,commentOwnerId:h.user.pk,commentOwnerUsername:t,commentThreadId:v,mediaId:l,onApproveComment:D})},a[0]=h.pk,a[1]=h.user.pk,a[2]=h.user.username,a[3]=v,a[4]=D,a[5]=l,a[6]=k,a[7]=x):x=a[7];var $=x,P;a[8]!==R||a[9]!==L||a[10]!==T?(P=function(){T({analyticsContext:R,onDelete:L})},a[8]=R,a[9]=L,a[10]=T,a[11]=P):P=a[11];var N=P,M;a[12]!==h.pk||a[13]!==h.user.pk||a[14]!==v||a[15]!==l||a[16]!==p?(M=function(){r("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:h.user.pk,commentId:h.pk,commentThreadId:v,parentMediaId:l,step:"pending_comment_see_hidden"}),p(!0)},a[12]=h.pk,a[13]=h.user.pk,a[14]=v,a[15]=l,a[16]=p,a[17]=M):M=a[17];var w=M,A;a[18]!==h.pk||a[19]!==h.user.pk||a[20]!==v||a[21]!==l||a[22]!==$?(A=function(){r("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:h.user.pk,commentId:h.pk,commentThreadId:v,parentMediaId:l,step:"pending_comment_approve"}),$()},a[18]=h.pk,a[19]=h.user.pk,a[20]=v,a[21]=l,a[22]=$,a[23]=A):A=a[23];var F=A,O;a[24]!==h||a[25]!==l||a[26]!==s?(O={mediaId:l,mediaOwnerId:s,queryReference:h},a[24]=h,a[25]=l,a[26]=s,a[27]=O):O=a[27];var B=r("useShowCommentOptionsModal")(O),W;a[28]!==h.pk||a[29]!==h.user.pk||a[30]!==v||a[31]!==l||a[32]!==N||a[33]!==g?(W=function(){r("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:h.user.pk,commentId:h.pk,commentThreadId:v,parentMediaId:l,step:g?"pending_comment_delete":"pending_comment_delete_hidden"}),N()},a[28]=h.pk,a[29]=h.user.pk,a[30]=v,a[31]=l,a[32]=N,a[33]=g,a[34]=W):W=a[34];var q=W,U;a[35]!==i||a[36]!==y||a[37]!==B||a[38]!==(S==null?void 0:S.id)?(U=!y&&(S==null?void 0:S.id)!=null&&i&&u.jsx(r("PolarisPostCommentOptionsButton.react"),{onClick:B}),a[35]=i,a[36]=y,a[37]=B,a[38]=S==null?void 0:S.id,a[39]=U):U=a[39];var V;a[40]!==w||a[41]!==C?(V=C&&u.jsx(r("PolarisCommentActionButton.react"),{label:o("PolarisPostStrings").RESTRICT_SEE_COMMENT_TEXT,onClick:w}),a[40]=w,a[41]=C,a[42]=V):V=a[42];var H;a[43]!==F||a[44]!==b?(H=b&&u.jsx(r("PolarisCommentActionButton.react"),{label:o("PolarisApproveCommentDialog.react").APPROVE_COMMENT_CTA,onClick:F}),a[43]=F,a[44]=b,a[45]=H):H=a[45];var G;a[46]!==q||a[47]!==y?(G=y&&u.jsx(r("PolarisCommentActionButton.react"),{label:o("PolarisPostStrings").RESTRICT_DELETE_COMMENT_TEXT,onClick:q}),a[46]=q,a[47]=y,a[48]=G):G=a[48];var z;return a[49]!==G||a[50]!==U||a[51]!==V||a[52]!==H?(z=u.jsxs(u.Fragment,{children:[U,V,H,G]}),a[49]=G,a[50]=U,a[51]=V,a[52]=H,a[53]=z):z=a[53],z}function _(e){return u.jsx(r("IGDSDialogPlaceholder.react"),{onClose:e,size:"default"})}_.displayName=_.name+" [from "+i.id+"]";function f(e){return u.jsx(r("IGDSDialogPlaceholder.react"),{onClose:e,size:"default"})}f.displayName=f.name+" [from "+i.id+"]",l.default=p}),98);