;/*FB_PKG_DELIM*/

__d("PolarisClipsDesktopCommentsPopoverQuery.graphql",["PolarisClipsDesktopCommentsPopoverQuery_instagramRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"media_id"}],t=[{kind:"Variable",name:"id",variableName:"media_id"}],r={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},o={kind:"RequiredField",field:r,action:"THROW"},a={alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"PolarisClipsDesktopCommentsPopoverQuery",selections:[{kind:"RequiredField",field:{alias:null,args:t,concreteType:"XDTMediaDict",kind:"LinkedField",name:"fetch__XDTMediaDict",plural:!1,selections:[o,a,i,l,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[o],storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentsContainer_media"}],storageKey:null},action:"THROW"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"PolarisClipsDesktopCommentsPopoverQuery",selections:[{alias:null,args:t,concreteType:"XDTMediaDict",kind:"LinkedField",name:"fetch__XDTMediaDict",plural:!1,selections:[r,a,i,l,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[r,s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},{alias:null,args:null,concreteType:"XDTCrosspostMetadataDict",kind:"LinkedField",name:"crosspost_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_feed_feedback_aggregated",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fb_comment_count",storageKey:null},s],storageKey:null}]},params:{id:n("PolarisClipsDesktopCommentsPopoverQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["fetch__XDTMediaDict"]},name:"PolarisClipsDesktopCommentsPopoverQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("PolarisLexicalCommentInputStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e={avatarContainer:{paddingInlineStart:"x135b78x",$$css:!0},avatarContainerMobile:{paddingInlineEnd:"xf159sx",paddingInlineStart:"x1c1uobl",$$css:!0},commentInputBorderColor:{borderTopColor:"x1qkvvx7",borderInlineEndColor:"x1diz5gb",borderBottomColor:"x1ufvan5",borderInlineStartColor:"x1tose7w",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",maxHeight:"x1vke2v8",overflowX:"x6ikm8r",overflowY:"x1odjw0f",position:"x1n2onr6",width:"xh8yej3",$$css:!0},contenteditable:{color:"x5n08af",width:"xh8yej3",wordBreak:"x13faqbe",$$css:!0},contenteditableCommon:{fontSize:"xl565be",lineHeight:"x5dp1im",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,width:"xh8yej3",$$css:!0},controlsContainer:{alignItems:"x1qjc9v5",boxSizing:"x9f619",display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"x2lah0s",fontSize:"xk390pu",justifyContent:"x1qughib",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6",verticalAlign:"x11njtxf",$$css:!0},outerContainer:{alignItems:"x6s0dn4",backgroundColor:"xnz67gz",borderTopColor:"xl4qmuc",borderInlineEndColor:"xm4i03v",borderBottomColor:"xd18jyu",borderInlineStartColor:"xrgb9v1",borderStartStartRadius:"xum2pek",borderStartEndRadius:"x1p2znge",borderEndEndRadius:"xckx8r1",borderEndStartRadius:"x12qyh8a",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",boxSizing:"x9f619",display:"x78zum5",minHeight:"x1ba4aug",outline:"x1a2a7pz",position:"x1n2onr6",width:"xh8yej3",$$css:!0},outerContainerMobile:{borderTopColor:"x1yvgwvq",borderInlineEndColor:"xjd31um",borderBottomColor:"x1ixjvfu",borderInlineStartColor:"xwt6s21",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"xu0aao5",$$css:!0},outerContainerMobileWithReplyingToBar:{borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",minHeight:"x4lt0of",paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,paddingTop:"x1nn3v0j",$$css:!0},paragraph:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0},placeholder:{marginTop:"xr9ek0c",outline:"x1a2a7pz",pointerEvents:"x47corl",position:"x10l6tqk",$$css:!0},replyingToBarContainer:{width:"xgqk73l",$$css:!0}};l.default=e}),98);
__d("PolarisLexicalCommentInputPlaceholder.react",["IGDSBox.react","PolarisEmojiButton.react","PolarisGenericStrings","PolarisLexicalCommentInputStyles","PolarisUA","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useState,d={editor:{backgroundColor:"xjbqb8w",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",color:"xzsf02u",overflowX:"xw2csxc",overflowY:"x1odjw0f",position:"x1n2onr6",tabSize:"x1hnll1o","::placeholder_color":"xs3hnx8","::placeholder_fontSize":"x1db89rt","::placeholder_marginBottom":"xyfr5zc","::placeholder_opacity":"x7xwk5j",":focus-visible_outline":"xpqswwc",$$css:!0},editorWrapper:{height:"x1fgtraw",maxHeight:"xz75wtk",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(9),a=t.initialCommentText,i=t.setInitialCommentText,l=t.setIsInteracted,s;n[0]===Symbol.for("react.memo_cache_sentinel")?(s=(e||(e=r("stylex"))).props(d.editor,r("PolarisLexicalCommentInputStyles").contenteditableCommon,r("PolarisLexicalCommentInputStyles").contenteditable),n[0]=s):s=n[0];var c;n[1]!==i?(c=function(t){i(t.target.value)},n[1]=i,n[2]=c):c=n[2];var m;n[3]!==l?(m=function(){return l(!0)},n[3]=l,n[4]=m):m=n[4];var p;return n[5]!==a||n[6]!==c||n[7]!==m?(p=u.jsx("input",babelHelpers.extends({},s,{onChange:c,onFocus:m,placeholder:o("PolarisGenericStrings").COMMENT_PLACEHOLDER_TEXT,suppressContentEditableWarning:!0,value:a})),n[5]=a,n[6]=c,n[7]=m,n[8]=p):p=n[8],p}function p(t){var n=o("react-compiler-runtime").c(16),a=t.initialCommentText,i=t.setInitialCommentText,l=t.setIsInteracted,s=c(!1),p=s[0],_=s[1],f;n[0]===Symbol.for("react.memo_cache_sentinel")?(f=(e||(e=r("stylex"))).props([r("PolarisLexicalCommentInputStyles").container,d.editorWrapper]),n[0]=f):f=n[0];var g;n[1]!==a||n[2]!==i||n[3]!==l?(g=u.jsx("div",babelHelpers.extends({},f,{children:u.jsx(m,{initialCommentText:a,setInitialCommentText:i,setIsInteracted:l})})),n[1]=a,n[2]=i,n[3]=l,n[4]=g):g=n[4];var h;n[5]===Symbol.for("react.memo_cache_sentinel")?(h=(e||(e=r("stylex"))).props(r("PolarisLexicalCommentInputStyles").controlsContainer),n[5]=h):h=n[5];var y;n[6]!==a||n[7]!==p||n[8]!==i||n[9]!==l?(y=!o("PolarisUA").isMobile()&&u.jsx("div",{className:"x135b78x",onFocus:function(){return l(!0)},children:u.jsx(r("PolarisEmojiButton.react"),{color:"ig-secondary-text",isEmojiTrayOpen:p,onEmojiClick:function(t){l(!0),i(a+t),_(!1)},setEmojiTrayOpen:_})}),n[6]=a,n[7]=p,n[8]=i,n[9]=l,n[10]=y):y=n[10];var C;n[11]!==y?(C=u.jsx("div",babelHelpers.extends({},h,{children:u.jsx(r("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",paddingX:2,paddingY:1,position:"relative",children:y})})),n[11]=y,n[12]=C):C=n[12];var b;return n[13]!==g||n[14]!==C?(b=u.jsxs(u.Fragment,{children:[g,C]}),n[13]=g,n[14]=C,n[15]=b):b=n[15],b}l.default=p}),98);
__d("usePolarisLexicalCommentInputState",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c={analyticsContext:"reelsTab",clearCurrentReply:function(){},isSidecar:!1,isVideo:!1,ownerId:"",postId:"",viewerId:"",viewerProfilePicture:null},d=s.createContext(c);function m(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.value,a;return t[0]!==n||t[1]!==r?(a=s.jsx(d.Provider,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function p(){return u(d)}l.PolarisLexicalCommentInputStateProvider=m,l.usePolarisLexicalCommentInputState=p}),98);
__d("PolarisLexicalCommentInputLoader.react",["CometPlaceholder.react","PolarisLexicalCommentInputPlaceholder.react","react","react-compiler-runtime","requireDeferred","useDeferredModuleOnReady","usePolarisLexicalCommentInputState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState,m=r("requireDeferred")("PolarisLexicalCommentInput.react").__setRef("PolarisLexicalCommentInputLoader.react");function p(){var e=o("react-compiler-runtime").c(8),t=d(!1),n=t[0],a=t[1],l=d(""),u=l[0],p=l[1],_=o("usePolarisLexicalCommentInputState").usePolarisLexicalCommentInputState(),f=_.repliedToUsername,g,h;e[0]!==f?(g=function(){f!=null&&a(!0)},h=[f],e[0]=f,e[1]=g,e[2]=h):(g=e[1],h=e[2]),c(g,h);var y=r("useDeferredModuleOnReady")(m);if(n&&y!=null){var C;return e[3]!==y||e[4]!==u?(C=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(y,{initialCommentText:u})}),e[3]=y,e[4]=u,e[5]=C):C=e[5],C}var b;return e[6]!==u?(b=s.jsx(r("PolarisLexicalCommentInputPlaceholder.react"),{initialCommentText:u,setInitialCommentText:p,setIsInteracted:a}),e[6]=u,e[7]=b):b=e[7],b}l.default=p}),98);
__d("PolarisImmersiveMediaViewerLayoutContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(null);function d(){return u(c)}function m(){var e=d(),t=(e==null?void 0:e.state.isSidePanelOpen)===!0;return!t}l.usePolarisImmersiveMediaViewerLayout=d,l.usePolarisIsImmersiveViewerFullScreen=m}),98);
__d("PolarisLexicalCommentInputWrapper.react",["IGDSAvatar.react","IGDSBox.react","PolarisImmersiveMediaViewerLayoutContext.react","PolarisLexicalCommentInputStyles","PolarisPostCommentInputReplyingToBar.react","PolarisUA","react","react-compiler-runtime","stylex","usePolarisLexicalCommentInputState"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(25),a=t.children,i=o("PolarisImmersiveMediaViewerLayoutContext.react").usePolarisImmersiveMediaViewerLayout(),l=(i==null?void 0:i.state.showCommentInputBorder)===!0,s=o("usePolarisLexicalCommentInputState").usePolarisLexicalCommentInputState(),c=s.clearCurrentReply,d=s.repliedToUsername,m=s.viewerProfilePicture,p;n[0]!==m?(p=m!=null&&u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props([r("PolarisLexicalCommentInputStyles").avatarContainer,o("PolarisUA").isMobile()&&r("PolarisLexicalCommentInputStyles").avatarContainerMobile]),{children:u.jsx(r("IGDSAvatar.react"),{alt:"",size:"small",src:m})})),n[0]=m,n[1]=p):p=n[1];var _=p,f;n[2]!==_?(f=o("PolarisUA").isMobile()&&_,n[2]=_,n[3]=f):f=n[3];var g=l&&r("PolarisLexicalCommentInputStyles").commentInputBorderColor,h;n[4]===Symbol.for("react.memo_cache_sentinel")?(h=o("PolarisUA").isMobile()&&r("PolarisLexicalCommentInputStyles").outerContainerMobile,n[4]=h):h=n[4];var y;n[5]!==d?(y=o("PolarisUA").isMobile()&&d!=null&&r("PolarisLexicalCommentInputStyles").outerContainerMobileWithReplyingToBar,n[5]=d,n[6]=y):y=n[6];var C;n[7]!==g||n[8]!==y?(C=[r("PolarisLexicalCommentInputStyles").outerContainer,g,h,y],n[7]=g,n[8]=y,n[9]=C):C=n[9];var b;n[10]!==c||n[11]!==d?(b=o("PolarisUA").isMobile()&&d!=null&&u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(r("PolarisLexicalCommentInputStyles").replyingToBarContainer),{children:u.jsx(r("PolarisPostCommentInputReplyingToBar.react"),{isRevampedMobileInput:!0,onClearReply:c,username:d})})),n[10]=c,n[11]=d,n[12]=b):b=n[12];var v;n[13]!==_?(v=o("PolarisUA").isDesktop()&&_,n[13]=_,n[14]=v):v=n[14];var S;n[15]!==a||n[16]!==v?(S=u.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",width:"100%",children:[v,a]}),n[15]=a,n[16]=v,n[17]=S):S=n[17];var R;n[18]!==C||n[19]!==b||n[20]!==S?(R=u.jsxs(r("IGDSBox.react"),{direction:"column",justifyContent:"center",position:"relative",xstyle:C,children:[b,S]}),n[18]=C,n[19]=b,n[20]=S,n[21]=R):R=n[21];var L;return n[22]!==R||n[23]!==f?(L=u.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",width:"100%",children:[f,R]}),n[22]=R,n[23]=f,n[24]=L):L=n[24],L}l.default=c}),98);
__d("PolarisLexicalPostCommentInput.react",["PolarisLexicalCommentInputLoader.react","PolarisLexicalCommentInputWrapper.react","PolarisPendingCommentActions","PolarisPostDetailsSectionProvider.react","PolarisReactRedux.react","react","react-compiler-runtime","usePolarisLexicalCommentInputState","usePolarisSelector"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(22),n=e.adInfo,a=e.isSidecar,i=e.isVideo,l=e.ownerId,u=e.postId,c=e.viewerId,d=e.viewerProfilePicture,m=o("PolarisPostDetailsSectionProvider.react").usePolarisPostDetailsSectionProvider(),p;t[0]!==u?(p=function(t){var e;return(e=t.pendingComments[u])!=null?e:{}},t[0]=u,t[1]=p):p=t[1];var _=r("usePolarisSelector")(p),f=_.repliedToCommentAuthorId,g=_.repliedToCommentId,h=_.repliedToCommentParentId,y=_.repliedToUsername,C=o("PolarisReactRedux.react").useDispatch(),b;t[2]!==C||t[3]!==u?(b=function(){C(o("PolarisPendingCommentActions").clearPendingComment(u))},t[2]=C,t[3]=u,t[4]=b):b=t[4];var v=b,S;t[5]!==n||t[6]!==m||t[7]!==v||t[8]!==a||t[9]!==i||t[10]!==l||t[11]!==u||t[12]!==f||t[13]!==g||t[14]!==h||t[15]!==y||t[16]!==c||t[17]!==d?(S={adInfo:n,analyticsContext:m,clearCurrentReply:v,isSidecar:a,isVideo:i,ownerId:l,postId:u,repliedToCommentAuthorId:f,repliedToCommentId:g,repliedToCommentParentId:h,repliedToUsername:y,viewerId:c,viewerProfilePicture:d},t[5]=n,t[6]=m,t[7]=v,t[8]=a,t[9]=i,t[10]=l,t[11]=u,t[12]=f,t[13]=g,t[14]=h,t[15]=y,t[16]=c,t[17]=d,t[18]=S):S=t[18];var R;t[19]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(r("PolarisLexicalCommentInputWrapper.react"),{children:s.jsx(r("PolarisLexicalCommentInputLoader.react"),{})}),t[19]=R):R=t[19];var L;return t[20]!==S?(L=s.jsx(o("usePolarisLexicalCommentInputState").PolarisLexicalCommentInputStateProvider,{value:S,children:R}),t[20]=S,t[21]=L):L=t[21],L}l.default=u}),98);
__d("usePolarisClipsDesktopPopoverCloseOnScroll",["PolarisClipsTabDesktopContainerElementProvider.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e){var t=o("react-compiler-runtime").c(4),n=o("PolarisClipsTabDesktopContainerElementProvider.react").usePolarisClipsTabDesktopContainerElementProvider(),r=n.element,a,i;t[0]!==r||t[1]!==e?(a=function(){return r==null||r.addEventListener("scroll",e),(function(){r==null||r.removeEventListener("scroll",e)})},i=[r,e],t[0]=r,t[1]=e,t[2]=a,t[3]=i):(a=t[2],i=t[3]),s(a,i)}l.default=u}),98);
__d("PolarisClipsDesktopCommentsPopover.react",["CometPlaceholder.react","CometRelay","IGDSBox.react","IGDSPopover.react","IGDSText.react","PolarisClipsDesktopCommentsButtonContext","PolarisClipsDesktopCommentsContainerPopoverPlaceholder.react","PolarisClipsDesktopCommentsPopoverQuery.graphql","PolarisClipsDesktopPopoverHeader.react","PolarisClipsTabHelpers","PolarisCommentScrollHelper","PolarisGenericStrings","PolarisLexicalPostCommentInput.react","PolarisMediaConstants","PolarisPendingCommentActions","PolarisPostCommentInputReplyingToBar.react","PolarisPostCommentsContainer.react","PolarisPostDetailsSectionProvider.react","PolarisReactRedux.react","cr:1342","react","react-compiler-runtime","usePolarisClipsDesktopPopoverCloseOnScroll","usePolarisSelector","usePolarisViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useRef,p=343,_={arrowContainer:{marginBottom:"x1yztbdb",$$css:!0},commentContainer:{width:"xh8yej3",$$css:!0}};function f(e){var t=o("react-compiler-runtime").c(3),n=e.containerHeight,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[0]=a):a=t[0],d(g,a);var i;return t[1]!==n?(i=u.jsx(r("PolarisClipsDesktopCommentsContainerPopoverPlaceholder.react"),{containerHeight:n}),t[1]=n,t[2]=i):i=t[2],i}function g(){return function(){window.dispatchEvent(new Event("resize"))}}var h=e!==void 0?e:e=n("PolarisClipsDesktopCommentsPopoverQuery.graphql");function y(e){var t,a=e.props,l=a.adInfo,s=a.anchorRef,c=a.onClose,g=e.queries,y=g.commentsQuery,C=g.mediaQuery,b=o("CometRelay").usePreloadedQuery(h,C),v=b.fetch__XDTMediaDict,S=v.commenting_disabled_for_viewer,R=v.pk,L=v.product_type,E=v.user.pk,k=r("usePolarisViewer")(),I=o("PolarisReactRedux.react").useDispatch(),T=r("usePolarisSelector")(function(e){var t;return(t=e.pendingComments[R])==null?void 0:t.repliedToUsername}),D=function(){I(o("PolarisPendingCommentActions").clearPendingComment(R))};r("usePolarisClipsDesktopPopoverCloseOnScroll")(c);var x=o("PolarisClipsDesktopCommentsButtonContext").usePolarisClipsDesktopCommentsButton();d(function(){if((x==null?void 0:x.commentIdToScrollRef.current)!=null){var e=x.commentIdToScrollRef.current;x.commentIdToScrollRef.current=null,window.setTimeout(function(){o("PolarisCommentScrollHelper").scrollToComment(e)},200)}},[x]);var $=m(o("PolarisClipsTabHelpers").getMaxPopoverHeight(s==null?void 0:s.current)),P=T!=null?u.jsx(r("IGDSBox.react"),{marginBottom:3,width:"100%",children:u.jsx(r("PolarisPostCommentInputReplyingToBar.react"),{onClearReply:D,username:T})}):null,N=S===!0?u.jsx(r("IGDSText.react"),{color:"tertiaryText",textAlign:"center",zeroMargin:!1,children:o("PolarisGenericStrings").COMMENTING_LIMITED}):u.jsxs(u.Fragment,{children:[P,u.jsx("div",{className:"x1iorvi4 xh8yej3",children:u.jsx(r("PolarisLexicalPostCommentInput.react"),{adInfo:l,isSidecar:!1,isVideo:L===o("PolarisMediaConstants").MediaTypes.VIDEO,ownerId:E,postId:R,viewerId:(t=k==null?void 0:k.id)!=null?t:"",viewerProfilePicture:k==null?void 0:k.profilePictureUrl})})]});return u.jsx(r("IGDSPopover.react"),{arrowContainerXStyle:_.arrowContainer,popoverContent:u.jsx(o("PolarisPostDetailsSectionProvider.react").PolarisPostDetailsSectionProvider,{value:"reelsTab",children:u.jsxs(r("IGDSBox.react"),{maxHeight:$.current,width:p,children:[u.jsx(r("PolarisClipsDesktopPopoverHeader.react"),{onClose:c,children:o("PolarisGenericStrings").COMMENTS_TEXT}),u.jsxs(r("IGDSBox.react"),{flex:"grow",minHeight:52,overflow:"auto",paddingX:8,children:[n("cr:1342")!=null&&u.jsx(r("IGDSBox.react"),{marginTop:2,children:u.jsx(n("cr:1342"),{commentsCount:v==null?void 0:v.comment_count})}),u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(f,{containerHeight:$.current}),name:i.id,children:u.jsx(r("PolarisPostCommentsContainer.react"),{adInfo:l,commentsQuery:y,media:v,xStyle:_.commentContainer})})]}),u.jsx(r("IGDSBox.react"),{alignItems:"center",bottom:!0,marginBottom:3,marginTop:3,paddingX:7,width:"100%",children:N})]})}),popoverName:"clips-comments",testid:void 0,withArrow:!0})}y.displayName=y.name+" [from "+i.id+"]",l.default=y}),98);
__d("usePolarisCommentSubmitMutation_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9994909470587413"}),null);
__d("usePolarisCommentSubmitMutation.graphql",["usePolarisCommentSubmitMutation_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"connections"},t={defaultValue:null,kind:"LocalArgument",name:"media_id"},r={defaultValue:null,kind:"LocalArgument",name:"request_data"},o=[{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Variable",name:"request_data",variableName:"request_data"}],a={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null};return{fragment:{argumentDefinitions:[e,t,r],kind:"Fragment",metadata:null,name:"usePolarisCommentSubmitMutation",selections:[{alias:null,args:o,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"RequiredField",field:a,action:"THROW"},{kind:"RequiredField",field:i,action:"THROW"},{kind:"RequiredField",field:l,action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[i,s,u,c,d,m],storageKey:null},action:"THROW"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,r,t],kind:"Operation",name:"usePolarisCommentSubmitMutation",selections:[{alias:null,args:o,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[a,i,l,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[i,s,u,c,d,m,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"prependNode",key:"",kind:"LinkedHandle",name:"node",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"},{kind:"Literal",name:"edgeTypeName",value:"XDTGetCommentsResponseEdge"}]}],storageKey:null}]},params:{id:n("usePolarisCommentSubmitMutation_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_web__comments__media_id__add_queryable"]},name:"usePolarisCommentSubmitMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("usePolarisCommentSubmit",["CometRelay","Lexical","LexicalComposerContext","PolarisAdsEngagementLogger","PolarisCommentsSortContext.react","PolarisDsaQEHelpers","PolarisEngagementLogger","PolarisGenericStrings","PolarisSortCommentsUtil","igMapTypenameToRelayID","polarisGetXDTMediaDict","polarisLogAction","react","usePolarisCommentSubmitMutation.graphql","usePolarisLexicalCommentInputState","usePolarisShowToast"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useContext,m=u.useEffect,p=u.useState,_=e!==void 0?e:e=n("usePolarisCommentSubmitMutation.graphql");function f(e){var t=p(""),n=t[0],a=t[1],i=d(o("PolarisCommentsSortContext.react").PolarisCommentsSortContext),l=i.commentsSortOrder,s=o("LexicalComposerContext").useLexicalComposerContext(),u=s[0];m(function(){u.registerUpdateListener(function(e){var t=e.editorState;t.read(function(){a(o("Lexical").$getRoot().getTextContent())})})},[u]);var f=o("usePolarisLexicalCommentInputState").usePolarisLexicalCommentInputState(),g=o("CometRelay").useMutation(_),h=g[0],y=r("usePolarisShowToast")(),C=c(function(){u.update(function(){o("Lexical").$getRoot().clear()})},[u]),b=c(function(){var t,a,i,s,u;e(!0),r("polarisLogAction")("comment",{source:f.analyticsContext});var c={adId:(t=(a=f.adInfo)==null?void 0:a.ad_id)!=null?t:"",adTrackingToken:(i=(s=f.adInfo)==null?void 0:s.tracking_token)!=null?i:""},d=o("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",{data:{},media_id:f.postId,sort_order:l}),m=o("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection",{media_id:f.postId,parent_comment_id:(u=f.repliedToCommentParentId)!=null?u:f.repliedToCommentId});h({onCompleted:function(n){r("polarisLogAction")("commentSuccess",{});var t=1;f.isSidecar&&(t=8),f.isVideo&&(t=2);var a={commentAuthorId:f.viewerId,commentId:n.xdt_web__comments__media_id__add_queryable.node.pk,containerModule:f.analyticsContext,mediaAuthorId:f.ownerId,mediaId:f.postId,mediaType:t,parentCommentAuthorId:f.repliedToCommentAuthorId,parentCommentId:f.repliedToCommentId};c.adId!=null&&c.adTrackingToken!=null?o("PolarisAdsEngagementLogger").logAdComment(a,c):o("PolarisEngagementLogger").logOrganicComment(a),C(),f.clearCurrentReply(),e(!1)},onError:function(){e(!1),y({actionHandler:function(){return b()},actionText:o("PolarisGenericStrings").COMMENT_CREATION_RETRY_TEXT,text:o("PolarisGenericStrings").COMMENT_CREATION_FAILURE_TEXT}),r("polarisLogAction")("commentFailure",{source:f.analyticsContext})},updater:function(t){var e,n=r("polarisGetXDTMediaDict")(t,f.postId);if(n!=null){var a=parseInt(n.getValue("comment_count"),10),i=isNaN(a)?1:a+1;n.setValue(i,"comment_count")}if(o("PolarisDsaQEHelpers").hasNonProfiledExperienceEnabled()){for(var s of o("PolarisSortCommentsUtil").commentsOptions)if(s!==l){var u,c=o("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",{data:{},media_id:f.postId,sort_order:s});(u=t.get(c))==null||u.invalidateRecord()}}if(f.repliedToCommentId!=null){var d=r("igMapTypenameToRelayID")("XDTCommentDict",null,f.repliedToCommentId),m=t.get(d),p=(e=m==null?void 0:m.getValue("child_comment_count"))!=null?e:0;m==null||m.setValue(Number(p)+1,"child_comment_count")}},variables:{connections:[f.repliedToCommentId==null?d:m],media_id:f.postId,request_data:{comment_text:n,replied_to_comment_id:f.repliedToCommentId}}})},[e,f,l,h,n,C,y]);return b}l.default=f}),98);
__d("PolarisCommentPostButton.react",["IGDSButton.react","Lexical","LexicalComposerContext","PolarisGenericStrings","react","react-compiler-runtime","usePolarisCommentSubmit"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(6),n=e.setIsLoading,a=d(0),i=a[0],l=a[1],u=o("LexicalComposerContext").useLexicalComposerContext(),m=u[0],p=r("usePolarisCommentSubmit")(n),_,f;if(t[0]!==m?(_=function(){m.registerUpdateListener(function(e){var t=e.editorState;t.read(function(){l(o("Lexical").$getRoot().getTextContentSize())})})},f=[m],t[0]=m,t[1]=_,t[2]=f):(_=t[1],f=t[2]),c(_,f),i===0)return null;var g=i===0,h;return t[3]!==p||t[4]!==g?(h=s.jsx(r("IGDSButton.react"),{isDisabled:g,label:o("PolarisGenericStrings").POST_COMMENT_TEXT,onClick:p,variant:"primary_link"}),t[3]=p,t[4]=g,t[5]=h):h=t[5],h}l.default=m}),98);
__d("PolarisLexicalCommentEmojiButton.react",["PolarisEmojiButton.react","react","react-compiler-runtime","usePolarisLexicalEmojiButton"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.isOpen,a=e.onClose,i=e.onOpen,l=r("usePolarisLexicalEmojiButton")(a),u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u={className:"x135b78x"},t[0]=u):u=t[0];var c;return t[1]!==n||t[2]!==l||t[3]!==i?(c=s.jsx("div",babelHelpers.extends({},u,{children:s.jsx(r("PolarisEmojiButton.react"),{color:"ig-secondary-text",isEmojiTrayOpen:n,onEmojiClick:l,setEmojiTrayOpen:i})})),t[1]=n,t[2]=l,t[3]=i,t[4]=c):c=t[4],c}l.default=u}),98);
__d("PolarisLexicalCommentEnterKeyPlugin.react",["Lexical","LexicalComposerContext","react","react-compiler-runtime","usePolarisCommentSubmit"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e){var t=o("react-compiler-runtime").c(5),n=e.setIsLoading,a=o("LexicalComposerContext").useLexicalComposerContext(),i=a[0],l=r("usePolarisCommentSubmit")(n),s=c(0),d=s[0],m=s[1],p,_;return t[0]!==d||t[1]!==i||t[2]!==l?(p=function(){return i.registerUpdateListener(function(e){var t=e.editorState;t.read(function(){m(o("Lexical").$getRoot().getTextContentSize())})}),i.registerCommand(o("Lexical").KEY_ENTER_COMMAND,function(e){if(!(e!=null&&e.shiftKey)&&d!==0)l();else if(d===0)return!0;return!1},o("Lexical").COMMAND_PRIORITY_LOW)},_=[d,i,l],t[0]=d,t[1]=i,t[2]=l,t[3]=p,t[4]=_):(p=t[3],_=t[4]),u(p,_),null}l.default=d}),98);
__d("PolarisLexicalCommentReplyPlugin.react",["Lexical","LexicalComposerContext","isStringNullOrEmpty","react","react-compiler-runtime","usePolarisLexicalCommentInputState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(){var e=o("react-compiler-runtime").c(4),t=o("LexicalComposerContext").useLexicalComposerContext(),n=t[0],a=o("usePolarisLexicalCommentInputState").usePolarisLexicalCommentInputState(),i=a.repliedToUsername,l=c(!0),s,d;return e[0]!==n||e[1]!==i?(s=function(){l.current===!0&&i==null?l.current=!1:(l.current=!1,n.update(function(){var e=o("Lexical").$getRoot();if(e.clear(),!r("isStringNullOrEmpty")(i)){var t=o("Lexical").$createParagraphNode();t.append(o("Lexical").$createTextNode("@"+i+" ")),t.selectEnd(),e.append(t)}}))},d=[n,i],e[0]=n,e[1]=i,e[2]=s,e[3]=d):(s=e[2],d=e[3]),u(s,d),null}l.default=d}),98);
__d("PolarisLexicalCommentInput.react",["FBLogger","IGDSBox.react","IGDSSpinner.react","IGDSTextVariants.react","Lexical","LexicalErrorBoundary","LexicalPlainTextPlugin","MLCComposer.react","MLCContentEditable.react","MLCFocusPlugin.react","MLCHistoryPlugin.react","PolarisCommentPostButton.react","PolarisGenericStrings","PolarisLexicalCommentEmojiButton.react","PolarisLexicalCommentEnterKeyPlugin.react","PolarisLexicalCommentInputStyles","PolarisLexicalCommentReplyPlugin.react","PolarisLexicalHashtagNode","PolarisLexicalHashtagPlugin.react","PolarisLexicalMentionNode","PolarisLexicalMentionsPlugin.react","PolarisLexicalTypeaheadContainer.react","PolarisUA","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useMemo,m=c.useState,p={paragraph:(e||(e=r("stylex")))(r("PolarisLexicalCommentInputStyles").paragraph)};function _(t){var n=o("react-compiler-runtime").c(33),a=t.initialCommentText,i=t.initialFocus,l=i===void 0?!0:i,s=m(!1),c=s[0],d=s[1],_=m(!1),g=_[0],h=_[1],y=m(!1),C=y[0],b=y[1],v;n[0]===Symbol.for("react.memo_cache_sentinel")?(v={editable:!0,nodes:[o("PolarisLexicalMentionNode").PolarisLexicalMentionNode,o("PolarisLexicalHashtagNode").PolarisLexicalHashtagNode],onError:f,theme:p},n[0]=v):v=n[0];var S;n[1]!==a||n[2]!==l?(S={editor:v,editorState:function(){var e=o("Lexical").$getRoot();e.append(o("Lexical").$createParagraphNode().append(o("Lexical").$createTextNode(a))),l===!0&&e.selectEnd()},policyProduct:"instagram",surface:"INSTAGRAM_WEB"},n[1]=a,n[2]=l,n[3]=S):S=n[3];var R=S,L;n[4]===Symbol.for("react.memo_cache_sentinel")?(L=function(){h(!1),d(!0)},n[4]=L):L=n[4];var E=L,k;n[5]===Symbol.for("react.memo_cache_sentinel")?(k=function(){h(!1),d(!1)},n[5]=k):k=n[5];var I=k,T;n[6]===Symbol.for("react.memo_cache_sentinel")?(T=function(){h(!0)},n[6]=T):T=n[6];var D=T,x;n[7]===Symbol.for("react.memo_cache_sentinel")?(x=function(){h(!1)},n[7]=x):x=n[7];var $=x,P;n[8]===Symbol.for("react.memo_cache_sentinel")?(P=u.jsx(r("IGDSBox.react"),{alignItems:"center",width:"100%",children:u.jsx(r("IGDSSpinner.react"),{size:o("PolarisUA").isMobile()?"small":"medium"})}),n[8]=P):P=n[8];var N=P,M;n[9]===Symbol.for("react.memo_cache_sentinel")?(M=o("PolarisGenericStrings").COMMENT_PLACEHOLDER_TEXT.toString(),n[9]=M):M=n[9];var w;n[10]===Symbol.for("react.memo_cache_sentinel")?(w=u.jsx(o("LexicalPlainTextPlugin").PlainTextPlugin,{contentEditable:u.jsx(r("MLCContentEditable.react"),{"aria-placeholder":M,ariaLabel:o("PolarisGenericStrings").COMMENT_PLACEHOLDER_TEXT,placeholder:u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props([r("PolarisLexicalCommentInputStyles").contenteditableCommon,r("PolarisLexicalCommentInputStyles").placeholder]),{children:u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"start",children:o("PolarisGenericStrings").COMMENT_PLACEHOLDER_TEXT})})),xstyle:[r("PolarisLexicalCommentInputStyles").contenteditableCommon,r("PolarisLexicalCommentInputStyles").contenteditable]}),ErrorBoundary:o("LexicalErrorBoundary").LexicalErrorBoundary}),n[10]=w):w=n[10];var A=w,F;n[11]===Symbol.for("react.memo_cache_sentinel")?(F=(e||(e=r("stylex"))).props(r("PolarisLexicalCommentInputStyles").container),n[11]=F):F=n[11];var O=C?N:A,B;n[12]!==O?(B=u.jsx("div",babelHelpers.extends({},F,{children:O})),n[12]=O,n[13]=B):B=n[13];var W;n[14]===Symbol.for("react.memo_cache_sentinel")?(W=(e||(e=r("stylex"))).props(r("PolarisLexicalCommentInputStyles").controlsContainer),n[14]=W):W=n[14];var q;n[15]===Symbol.for("react.memo_cache_sentinel")?(q=u.jsx(r("PolarisCommentPostButton.react"),{setIsLoading:b}),n[15]=q):q=n[15];var U;n[16]!==g?(U=o("PolarisUA").isDesktop()&&u.jsx(r("PolarisLexicalCommentEmojiButton.react"),{isOpen:g,modalSize:"large",onClose:$,onOpen:D}),n[16]=g,n[17]=U):U=n[17];var V;n[18]!==U?(V=u.jsx("div",babelHelpers.extends({},W,{children:u.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",paddingX:2,paddingY:1,position:"relative",children:[q,U]})})),n[18]=U,n[19]=V):V=n[19];var H;n[20]!==c?(H=u.jsx(r("PolarisLexicalTypeaheadContainer.react"),{isDisabled:c,position:"above"}),n[20]=c,n[21]=H):H=n[21];var G,z,j,K,Q,X;n[22]===Symbol.for("react.memo_cache_sentinel")?(G=u.jsx(r("MLCFocusPlugin.react"),{onBlur:E,onFocus:I}),z=u.jsx(o("MLCHistoryPlugin.react").MLCHistoryPlugin,{}),j=u.jsx(r("PolarisLexicalMentionsPlugin.react"),{}),K=u.jsx(r("PolarisLexicalHashtagPlugin.react"),{}),Q=u.jsx(r("PolarisLexicalCommentReplyPlugin.react"),{}),X=u.jsx(r("PolarisLexicalCommentEnterKeyPlugin.react"),{setIsLoading:b}),n[22]=G,n[23]=z,n[24]=j,n[25]=K,n[26]=Q,n[27]=X):(G=n[22],z=n[23],j=n[24],K=n[25],Q=n[26],X=n[27]);var Y;return n[28]!==R||n[29]!==B||n[30]!==V||n[31]!==H?(Y=u.jsxs(r("MLCComposer.react"),{initialConfig:R,children:[B,V,H,G,z,j,K,Q,X]}),n[28]=R,n[29]=B,n[30]=V,n[31]=H,n[32]=Y):Y=n[32],Y}function f(e){r("FBLogger")("ig_web").warn(String(e))}l.default=_}),98);
__d("PolarisMediaInsightsImmersiveMediaViewerLayoutContext.react",["err","react","react-compiler-runtime","useWindowSize"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=u.useReducer,p=768,_=s.createContext(null);function f(e,t){switch(t.type){case"toggleSidePannel":return babelHelpers.extends({},e,{isSidePanelOpen:!e.isSidePanelOpen});default:throw r("err")("Unhandled action type: "+t.type)}}function g(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=r("useWindowSize")(),i=a.innerWidth,l=i>p,u;t[0]!==l?(u={isSidePanelOpen:l},t[0]=l,t[1]=u):u=t[1];var c=m(f,u),d=c[0],g=c[1],h;t[2]!==d?(h={dispatch:g,state:d},t[2]=d,t[3]=h):h=t[3];var y=h,C;return t[4]!==n||t[5]!==y?(C=s.jsx(_.Provider,{value:y,children:n}),t[4]=n,t[5]=y,t[6]=C):C=t[6],C}function h(){var e=c(_),t=(e==null?void 0:e.state.isSidePanelOpen)===!1;return t}l.PolarisMediaInsightsImmersiveMediaViewerLayoutContextProvider=g,l.usePolarisIsMediaInsightsImmersiveViewerFullScreen=h}),98);