;/*FB_PKG_DELIM*/

__d("ArmadilloReceiveWriteDbFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5720"),s=o("FalcoLoggerInternal").create("armadillo_receive_write_db_failure",e),u=s;l.default=u}),98);
__d("ArmadilloReceiveWriteDbSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5721"),s=o("FalcoLoggerInternal").create("armadillo_receive_write_db_success",e),u=s;l.default=u}),98);
__d("ArmadilloTaskHandlers",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e,s={add:(e=r("JSResourceForInteraction"))("AddTaskHandler").__setRef("ArmadilloTaskHandlers"),get_messenger_db_dump_attachments_for_bug_reporting:e("GetMessengerDBDumpAttachments").__setRef("ArmadilloTaskHandlers"),maw_get_devices:e("MAWGetDevicesTaskHandler").__setRef("ArmadilloTaskHandlers"),preload_messenger_db_dump_attachments_for_bug_reporting:e("PreloadDBDumpAttachments").__setRef("ArmadilloTaskHandlers"),test:e("TestNativeTaskHandler").__setRef("ArmadilloTaskHandlers"),zenon_send_chatd_mws_message:e("MAWZenonSendMultiwayMsgChatdTaskHandler").__setRef("ArmadilloTaskHandlers")};l.TASK_HANDLERS_RESOURCES=s}),98);
__d("OpfsSyncApi",["WAResultOrError","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e="blobs";function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n,a=t.blob,i=t.fileName;if(((n=navigator)==null||(n=n.storage)==null?void 0:n.getDirectory)==null)return o("WAResultOrError").makeError("opfs-not-supported");var l=yield navigator.storage.getDirectory(),s=yield l.getDirectoryHandle(e,{create:!0});try{return yield s.getFileHandle(i,{create:!1}),o("WAResultOrError").makeResult("file-exists")}catch(e){var u=r("getErrorSafe")(e);if(u.name==="NotFoundError"){var c=yield s.getFileHandle(i,{create:!0}),d=yield c.createSyncAccessHandle(),m=new DataView(a);return d.write(m,{at:0}),d.close(),o("WAResultOrError").makeResult("file-written")}return o("WAResultOrError").makeError("file-read-error")}}),u.apply(this,arguments)}function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n,a=t.fileName;if(((n=navigator)==null||(n=n.storage)==null?void 0:n.getDirectory)==null)return o("WAResultOrError").makeError("opfs-not-supported");var i=yield navigator.storage.getDirectory(),l=yield i.getDirectoryHandle(e,{create:!0});try{var s=yield l.getFileHandle(a,{create:!1}),u=yield s.createSyncAccessHandle(),c=u.getSize(),d=new ArrayBuffer(c),m=new DataView(d);return yield u.read(m,{at:0}),u.close(),o("WAResultOrError").makeResult(d)}catch(e){var p=r("getErrorSafe")(e);return p.name==="NotFoundError"?o("WAResultOrError").makeResult():o("WAResultOrError").makeError("file-read-error")}}),d.apply(this,arguments)}function m(){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t;if(((t=navigator)==null||(t=t.storage)==null?void 0:t.getDirectory)==null)return o("WAResultOrError").makeError("opfs-not-supported");var n=yield navigator.storage.getDirectory();return n.removeEntry(e,{recursive:!0}).then(function(){return o("WAResultOrError").makeResult()}).catch(function(e){var t=r("getErrorSafe")(e);return t.name==="NotFoundError"?o("WAResultOrError").makeResult():o("WAResultOrError").makeError("directory-clear-error")})}),p.apply(this,arguments)}l.maybeWriteToOpfs=s,l.readFromOpfs=c,l.cleanupFolder=m}),98);
__d("BlobStorageApi",["OpfsSyncApi"],(function(t,n,r,o,a,i,l){"use strict";var e={writeIfNotExist:function(t){var e=t.blob,n=t.fileName;return o("OpfsSyncApi").maybeWriteToOpfs({fileName:n,blob:e})},read:function(t){var e=t.fileName;return o("OpfsSyncApi").readFromOpfs({fileName:e})},clear:function(){return o("OpfsSyncApi").cleanupFolder()}};l.default=e}),98);
__d("BlobStorageTypes",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e}i.toBlobFileName=e}),66);
__d("BroadcastChannelClientServerHandshake",["FBLogger","Promise","Random","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){e.addEventListener("message",function(t){var n;((n=t.data)==null?void 0:n.type)==="BroadcastChannelHandshake-syn"&&e.postMessage({nonce:t.data.nonce,type:"BroadcastChannelHandshake-syn-ack"})})}function u(t,a){var i=o("Random").random(),l=0;return new(e||(e=n("Promise")))(function(e,n){var o=!1,s=function(){if(l===6){o=!0,t.removeEventListener("message",u);try{throw r("FBLogger")("messenger_web").mustfixThrow("[LS] BC handshake failed, failing, likely worker failure%s",a!=null?" for"+a:"")}catch(e){n(e)}return}o||(t.postMessage({nonce:i,type:"BroadcastChannelHandshake-syn"}),r("setTimeout")(s,100*Math.pow(2,l++)))},u=function(r){var n,a;((n=r.data)==null?void 0:n.type)==="BroadcastChannelHandshake-syn-ack"&&((a=r.data)==null?void 0:a.nonce)===i&&(e(),o=!0,t.removeEventListener("message",u))};t.addEventListener("message",u),s()})}l.listen=s,l.checkAlive=u}),98);
__d("CometTaskFrameworkTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["UNKNOWN","BACKGROUND","CURRENT_THREAD","LS_WORKER","MAW_WORKER","TEST"]),l="comet_task_framework";i.ExecutionContext=e,i.TASK_FRAMEWORK_PREFIX=l}),66);
__d("InstamadilloTaskHandlers",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e,s={33:(e=r("JSResourceForInteraction"))("IGDUnsendMessageTaskHandler").__setRef("InstamadilloTaskHandlers"),46:e("IGDSendMessageTaskHandler").__setRef("InstamadilloTaskHandlers"),igd_edit_message:e("IGDEditMessageTaskHandler").__setRef("InstamadilloTaskHandlers"),igd_react_message:e("IGDSendRemoveReactionTaskHandler").__setRef("InstamadilloTaskHandlers"),igd_send_media_message:e("IGDSendMediaMessageTaskHandler").__setRef("InstamadilloTaskHandlers"),igd_send_xma_receiver_fetch:e("IGDSendXmaReceiverFetchTaskHandler").__setRef("InstamadilloTaskHandlers")};l.TASK_HANDLERS_RESOURCES=s}),98);
__d("CometTaskHandlers",["ArmadilloTaskHandlers","InstamadilloTaskHandlers"],(function(t,n,r,o,a,i,l){"use strict";var e=babelHelpers.extends({},o("ArmadilloTaskHandlers").TASK_HANDLERS_RESOURCES,o("InstamadilloTaskHandlers").TASK_HANDLERS_RESOURCES);l.TASK_HANDLERS_RESOURCES=e}),98);
__d("EBConsoleUtils",["EBDeps","FBLogger","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=new TextDecoder,n=t.decode(e),o=parseInt(n,10);if(isNaN(o))throw r("FBLogger")("encrypted_backups").mustfixThrow('Invalid integer string in buffer: "%s"',n);return o}function s(t){return t.sort(function(t,n){var r=e(t.epochAnonIdBlob),o=e(n.epochAnonIdBlob);return r-o})}function u(e){for(var t="",n=e.byteLength,r=0;r<n;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function c(e){return u(new Uint8Array(e))}function d(){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield o("EBDeps").getDeps().getLSDB(),n=yield t.runInTransaction(function(e){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.secure_encrypted_backups_epochs))},"readwrite"),r=s(n);return r.map(function(t){return babelHelpers.extends({},t,{anonId:e(t.epochAnonIdBlob),epochAnonIdBlobBase64:c(t.epochAnonIdBlob),epochHeadBase64:t.epochHead!=null?c(t.epochHead):null,epochRootKeyBlobBase64:c(t.epochRootKeyBlob)})})}),m.apply(this,arguments)}function p(e){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("EBDeps").getDeps().getLSDB();yield t.runInTransaction((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){for(var n=yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.secure_encrypted_backups_epochs)),r=s(n),a=0;a<r.length;a++)a<r.length-e&&(yield t.secure_encrypted_backups_epochs.delete(r[a].epochId))});return function(e){return t.apply(this,arguments)}})(),"readwrite")}),_.apply(this,arguments)}l.blobToInt32=e,l.sortEpochsByAnonId=s,l.uint8ArrayToBase64=u,l.arrayBufferToBase64=c,l.getAllEpochsSorted=d,l.deleteEpochsExceptLastN=p}),98);
__d("EncryptedBackupsConvertToLegacyAttachmentContext",["MAWCastToMsgrServerMediaType","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=[];for(var r of t){var a=o("MAWCastToMsgrServerMediaType").castMediaAttachmentTypeToServerMediaType(r.mediaType);a==null?o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["invalid "," media type for legacy attachment upload"])),r.mediaType):n.push({mediaObjectId:r.mediaObjectId,mediaType:a})}return n}l.default=s}),98);
__d("EncryptedBackupsCreateUploadEntity",["EBGenerateMessageTags","EncryptedBackupsConvertToLegacyAttachmentContext","EncryptedBackupsCreateAttachmentContext","EncryptedBackupsUploadEntity","EncryptedBackupsUtils","FBLogger","I64","MAWEBSwitch","MAWMPSCreateBackupDirective","MpsTypes","WAGlobals","WAJids","WAStanzaUtils","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("WAJids").createJidUtils({platform:"msgr"});function u(t,n){var a=t.directive,i=t.insertionSource,l=t.message;if(a.actionType===o("MpsTypes").ActionType.DeleteTopLevel&&a.targetTimestampMs==null)throw r("FBLogger")("wmi").mustfixThrow("invalid-deletion-protobuf-no-target-timestamp");var u=i===o("MpsTypes").InsertionSource.Send?"upload-sent-message":i===o("MpsTypes").InsertionSource.Receive?"upload-received-message":(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+i)})(),c=o("MAWMPSCreateBackupDirective").getTargetProtocolMsgIdForMessage(a,l),d=o("MAWMPSCreateBackupDirective").createBackupDirectiveFromMPSMessage(a,c);if(d==null)throw r("FBLogger")("wmi").mustfixThrow("invalid-protobuf-no-backup-directive");var m=o("EncryptedBackupsUploadEntity").toEbBackupMessageBytes(l.payload),p=o("WAJids").unsafeCoerceToChatJid(l.threadId),_=a.actionType===o("MpsTypes").ActionType.DeleteTopLevel?o("WAStanzaUtils").toStanzaId(a.targetMessageId):o("WAStanzaUtils").toStanzaId(l.messageId),f=a.actionType===o("MpsTypes").ActionType.DeleteTopLevel&&a.targetTimestampMs!=null?o("WATimeUtils").castToMillisTime(a.targetTimestampMs):o("WATimeUtils").castToMillisTime(l.timestampMs),g=!r("MAWEBSwitch").isEnabled(),h=o("WATimeUtils").castMilliSecondsToUnixTime(f),y=s.toUserJid(l.senderId),C=y===o("WAGlobals").getMyUserJid()?o("WAJids").AUTHOR_ME:y,b={author:C,chat:p,externalId:_},v=o("EncryptedBackupsCreateAttachmentContext").createAttachmentContext(m),S=[],R=r("EncryptedBackupsConvertToLegacyAttachmentContext")(v),L=v.map(function(e){return o("EBGenerateMessageTags").generateEBMessageTags(e.mediaType)}).filter(Boolean);R.length>0&&R.forEach(function(e){var t=e.mediaObjectId,n=e.mediaType;S.push({deliveryObjectId:t,mediaType:n,messageId:b.externalId,productType:"msgr",threadId:o("WAJids").threadIdForChatJid(p),threadJid:p,ts:h})});var E={backupActionType:d.actionType,backupDirective:d,failTsMs:o("WATimeUtils").castToMillisTime(0),instanceKey:n,isRetroactiveUpload:g,msgId:b,msgIdKey:o("EncryptedBackupsUtils").convertWAMsgIdToStringId(b),msgType:"text",originalMsgProtocolId:d.originalMsgProtocolId,protobuf:m,senderId:(e||(e=o("I64"))).of_string(o("WAJids").userIdFromJid(y)),serverTs:h,sortOrderMs:f,tags:L,triggerSource:u,uploadStatus:o("EncryptedBackupsUploadEntity").EbUploadStatus.NEEDS_BACKUP,uploadTsSec:o("WATimeUtils").unixTime()};return v.length>0&&(E=babelHelpers.extends({},E,{attachmentContext:v,legacyAttachmentContext:S,msgType:"media"})),E}l.createUploadEntity=u}),98);
__d("EBEnqueueMessagesForUpload",["EBAPIQPLPoints","EBMessageProbe","EBMinosDisableLabyrinth10Uploads","EncryptedBackupsCreateUploadEntity","EncryptedBackupsUploadQueue","EncryptedBackupsUploadQueueV3","FBLogger","MWEBODSEntityName.enum","MWEBODSUtils","MpsTypes","Promise","QPLFlow","WAHashStringToNumber","WAStanzaUtils","asyncToGeneratorRuntime","getErrorSafe","getSafeQplErrorMessage","gkx","justknobx","qpl","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var a=new Map;if(t.length===0||o("EBMinosDisableLabyrinth10Uploads").disableLabyrinth10Uploads())return(e||(e=n("Promise"))).resolve();o("MWEBODSUtils").markODSForEB(r("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.api.receive.process",t.length);var i=[],l=[],s=r("qpl")._(521477113,"2698");return t.forEach(function(e){var t=o("WAHashStringToNumber").hashStringToNumber(r("uuidv4")()),n=o("WAStanzaUtils").toStanzaId(e.message.messageId);a.set(n,o("QPLFlow").startQPLFlow(s,{instanceKey:t,timeoutInMs:r("justknobx")._("308")})),o("EBMessageProbe").getEBMessageProbeInstance().addMarkerToItem(e.message.messageId,"mps_upload_enqueue_start");try{var u;if(r("gkx")("10326")){var c=o("EncryptedBackupsUploadQueueV3").uploadEntityFromIncomingPayload(e);l.push(c)}else{var d=o("EncryptedBackupsCreateUploadEntity").createUploadEntity(e,t);i.push(d)}(u=a.get(n))==null||u.addPoint(o("EBAPIQPLPoints").EBUploadQueueQPLPoints.UPLOAD_PAYLOAD_CREATED)}catch(e){var m,p=r("getErrorSafe")(e);(m=a.get(n))==null||m.endFail(o("EBAPIQPLPoints").EBUploadQueueQPLPoints.UPLOAD_PAYLOAD_CREATION_FAILURE,{string:{errorDescription:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(p)}})}}),o("MWEBODSUtils").markODSForEB(r("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.api.receive.enqueue",i.length),r("gkx")("10326")?d(l,a):u(i,a)}function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){try{var n=yield o("EncryptedBackupsUploadQueue").ebUploadQueue().addAndCommit(e);e.forEach(function(e,r){var a,i=n[r];(a=t.get(e.msgId.externalId))==null||a.endSuccess(),o("EBMessageProbe").getEBMessageProbeInstance().updateSample(o("MpsTypes").toMessageId(e.msgId.externalId),function(e){e.queueId=i})})}catch(n){var a=r("getErrorSafe")(n);throw e.forEach(function(e){var n;(n=t.get(e.msgId.externalId))==null||n.endFail(o("EBAPIQPLPoints").EBUploadQueueQPLPoints.ENQUEUE_FAILURE)}),r("FBLogger")("wmi").catching(a).mustfixThrow("Failed to enqueue entities")}}),c.apply(this,arguments)}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){try{yield o("EncryptedBackupsUploadQueueV3").getUploadQueue().add(e),e.forEach(function(e){var n;(n=t.get(o("WAStanzaUtils").toStanzaId(e.messageId)))==null||n.endSuccess()})}catch(a){var n=r("getErrorSafe")(a);throw e.forEach(function(e){var n;(n=t.get(o("WAStanzaUtils").toStanzaId(e.messageId)))==null||n.endFail(o("EBAPIQPLPoints").EBUploadQueueQPLPoints.ENQUEUE_FAILURE)}),r("FBLogger")("wmi").catching(n).mustfixThrow("Failed to enqueue entities")}}),m.apply(this,arguments)}l.default=s}),98);
__d("EBQPLPoints",[],(function(t,n,r,o,a,i){"use strict";var e={ATTACHMENT_CONTEXT_END:"attachment_context_end",ATTACHMENT_CONTEXT_START:"attachment_context_start",DIRECTIVE_GENERATION_END:"directive_generation_end",DIRECTIVE_GENERATION_FAIL:"directive_generation_fail",DIRECTIVE_GENERATION_START:"directive_generation_start",MESSAGE_TAG_GENERATION_END:"message_tag_generation_end",MESSAGE_TAG_GENERATION_START:"message_tag_generation_start"};i.EBEnqueueMinosQPLCommonPoints=e}),66);
__d("EBEnqueueMinosMessage",["EBDB","EBGenerateMessageTags","EBMinosFalcoLoggerUtils","EBMinosLoadMailboxKeys","EBMinosLogger","EBMinosQplFlow","EBMinosTypes","EBQPLPoints","EBSenderUploadQueue","EncryptedBackupsCreateAttachmentContext","EncryptedBackupsUploadEntity","FBLogger","MAWEBSwitch","MAWMPSCreateBackupDirective","MessageBackupSupplementalKeyGenerator","Promise","WAErrorMessage","WAJids","WAResultOrError","WATagsLogger","asyncToGeneratorRuntime","getErrorSafe","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f=o("WATagsLogger").TAGS(["enqueueMinosMsg"]);function g(e,t){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a){a.addAnnotations({bool:{wmi_lb11_mailbox_key_enhancements_enabled:r("gkx")("3685"),wmi_mailbox_key_cache_enabled:r("gkx")("16129")}});try{var i=yield(_||(_=n("Promise"))).all(t.map((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=yield o("EBMinosLoadMailboxKeys").loadMailboxKeys(t);if((n==null?void 0:n.epoch_head)==null||(n==null?void 0:n.encryption_public_key)==null||(n==null?void 0:n.public_key_fbid)==null){(n==null?void 0:n.epoch_head)!=null&&((n==null?void 0:n.encryption_public_key)==null||(n==null?void 0:n.public_key_fbid)==null)&&f.ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Missing required fields for mailbox keys: ",""])),n);return}return{epochHead:n.epoch_head,mailboxKey:n.encryption_public_key,mailboxKeyFbid:n.public_key_fbid,participantId:t}});return function(e){return t.apply(this,arguments)}})())),l=i.filter(Boolean);return a.addAnnotations({int:{participant_ids_count:t.length,participant_mailbox_keys_count:l.length}}),o("WAResultOrError").makeResult(l)}catch(e){var u=r("getErrorSafe")(e);return r("FBLogger")("wmi_minos").catching(u).MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Runtime error in getEpochHeadsForContacts"]))),o("WAResultOrError").makeError("runtime-error")}}),h.apply(this,arguments)}function y(e){var t=o("WAJids").unsafeCoerceToUserJid(e);return o("EBMinosTypes").unsafeCastToUserFbId(o("WAJids").userIdFromJid(t))}function C(e){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.message,n=e.updateDirective;o("EBMinosLogger").minosLogger.DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["start enqueueing message"])));var a=o("EBMinosQplFlow").startMinosMessageEnqueueQpl({threadId:t.threadId}),i={isEbEnabled:r("MAWEBSwitch").isEnabled(),messageId:t.messageId,threadId:t.threadId};try{a.addPoint(o("EBQPLPoints").EBEnqueueMinosQPLCommonPoints.DIRECTIVE_GENERATION_START);var l=o("MAWMPSCreateBackupDirective").getTargetProtocolMsgIdForMessage(n,t),s=o("MAWMPSCreateBackupDirective").createBackupDirectiveFromMPSMessage(n,l);if(s==null)return a.endFailWithError(o("EBQPLPoints").EBEnqueueMinosQPLCommonPoints.DIRECTIVE_GENERATION_FAIL,"null backup directive"),o("EBMinosFalcoLoggerUtils").logEBMinosArmadilloReceiveWriteDbFailure(i),f.ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate backup directive"]))),o("WAResultOrError").makeError("directives-generation-error");a.addPoint(o("EBQPLPoints").EBEnqueueMinosQPLCommonPoints.DIRECTIVE_GENERATION_END);var _=R(s.actionType,t.messageId,n.targetMessageId);a.addPoint(o("EBQPLPoints").EBEnqueueMinosQPLCommonPoints.ATTACHMENT_CONTEXT_START);var h=o("EncryptedBackupsCreateAttachmentContext").createAttachmentContext(o("EncryptedBackupsUploadEntity").toEbBackupMessageBytes(t.payload));a.addPoint(o("EBQPLPoints").EBEnqueueMinosQPLCommonPoints.ATTACHMENT_CONTEXT_END),a.addPoint(o("EBQPLPoints").EBEnqueueMinosQPLCommonPoints.MESSAGE_TAG_GENERATION_START);var C=h==null?void 0:h.map(function(e){return o("EBGenerateMessageTags").generateEBMessageTags(e.mediaType)}).filter(Boolean);a.addPoint(o("EBQPLPoints").EBEnqueueMinosQPLCommonPoints.MESSAGE_TAG_GENERATION_END);var b=y(t.threadId),L=o("EBMinosTypes").unsafeCastToUserFbId(t.senderId);a.addPoint("get_participant_epoch_heads_start");var E=yield g([L,b],a);if(E.success===!1)return a.endFailWithError("get_participant_epoch_heads_failed"),o("WAResultOrError").makeError("unable-to-fetch-epoch-heads-error");var k=E.value;if(k.length===0)return o("EBMinosLogger").minosLogger.DEV(d||(d=babelHelpers.taggedTemplateLiteralLoose(["skip enqueueing message. No recipient epoch heads."]))),a.addPoint("get_participant_epoch_heads_end",{bool:{no_recipient_epoch_heads:!0}}),a.endSuccess(),o("WAResultOrError").makeResult();a.addPoint("get_ebdb_start");var I=yield o("EBDB").getEBDB(),T=yield I.store("secure_encrypted_backups_client_state").readAll(),D=T[0],x=o("EBMinosTypes").unsafeCastToBackupFbid((D==null?void 0:D.backupId)!=null?String(D==null?void 0:D.backupId):"-1");a.addPoint("get_ebdb_end"),a.addPoint("get_participant_epoch_heads_end");var $=v({attachmentContext:h,backupFbid:x,deletionOfflineThreadingId:_,directive:s,isEphemeral:n.expiryTimestampMs!=null,mailboxKeys:k,message:t,supplementalOpToken:S(n),tags:C});return f.LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Enqueueing message"]))),yield o("EBSenderUploadQueue").enqueueMessages([$]).then(function(){o("EBMinosFalcoLoggerUtils").logEBMinosArmadilloReceiveWriteDbSuccess(babelHelpers.extends({},i,{isSupplementalUpload:s.supplementalKey!=null})),a.endSuccess()}),o("WAResultOrError").makeResult()}catch(e){var P=o("WAErrorMessage").maybeGetMessageFromError(e);return f.ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Failed to enqueue: ",""])),P),a.endFailWithError("runtime-error",P),o("EBMinosFalcoLoggerUtils").logEBMinosArmadilloReceiveWriteDbFailure(i),o("WAResultOrError").makeError("runtime-error")}}),b.apply(this,arguments)}function v(e){var t=e.attachmentContext,n=e.backupFbid,r=e.deletionOfflineThreadingId,o=e.directive,a=e.isEphemeral,i=e.mailboxKeys,l=e.message,s=e.supplementalOpToken,u=e.tags;return babelHelpers.extends({attachmentContext:t,backupFbid:n,deletionOfflineThreadingId:r,directive:o,isEphemeral:a,mailboxKeys:i},l,{supplementalOpToken:s,tags:u})}function S(e){var t=e.supplementalKey;if(t!=null){var n=o("MessageBackupSupplementalKeyGenerator").parseIdentifierString(t);return o("EBMinosTypes").castToSupplementalOpToken(n.type)}}function R(e,t,n){return e===4?n:e===3?t:void 0}l.enqueueSentMinosMessageForUpload=C}),98);
__d("EBGraphQLQueryModule",["EBCreateGraphQLFetchFnUnified","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield o("EBCreateGraphQLFetchFnUnified").createGraphQlFetchFnUnified();return n(e,t)}),s.apply(this,arguments)}l.ebGraphQLQueryModule=e}),98);
__d("EBGraphQLTypeUtils",["err"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(/^\d+$/.test(e)===!1)throw r("err")("threadId is not a number");return Number(e)}function s(e){return e.toString()}l.threadIdToThreadIdInt=e,l.timestampMsToTimestampMsString=s}),98);
__d("EBLSResignCdnUrlDeferred",["gkx","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("EBLSResignCdnUrl").__setRef("EBLSResignCdnUrlDeferred");function s(t){return e.load().then(function(e){return r("gkx")("12896")?e.resignCdnUrlUsingEbdb(t):e.DEPRECATED_eblsResignCdnUrlWithGraphQL(t)})}l.eblsResignCdnUrlWithGraphQL=s}),98);
__d("EBMessageProbeSamplingPreprocessor",["EBMessageProbe","FBLogger","MAWEBLSInWorkerSwitch","MAWProtobufDeserializers","MpsPreprocessor","MpsTypes","WAJids","WATimeUtils","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.insertionSource,r=e.message,a=o("MAWProtobufDeserializers").DeserializedBackupMessage.create(r.payload),i=(t=a.proto.metadata)==null?void 0:t.timestampMs,l=i!=null?Number(i):r.timestampMs,u=s(a),c=o("WAJids").unsafeCoerceToChatJid(r.threadId);return{chatJid:c,insertionSource:String(n),markers:[],messageId:r.messageId,messageType:u!=null?u:"unknown",timestampMs:o("WATimeUtils").castToMillisTime(l)}}function s(e){var t=e.payload();return(function(e){if((typeof e=="object"&&e!==null||typeof e=="function")&&e.kind==="transportEvent"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.kind==="adminMessage"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.kind==="locallyTransformedMessage")return"unsupported";if((typeof e=="object"&&e!==null||typeof e=="function")&&e.kind==="messageApplication"){var t=e;return(function(e){if((typeof e=="object"&&e!==null||typeof e=="function")&&e.kind==="consumerApplication"){var t=e;return c(t)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.kind==="armadillo"){var n=e;return u(n)}if(e===void 0)return"unsupported";throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})(t.subProtocol())}throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})(t)}function u(e){var t,n=(t=e.payload)==null?void 0:t.content;return(n==null?void 0:n.extendedContentMessage)!=null?"xma":"unsupported"}function c(e){var t,n,r=(t=e.payload)==null?void 0:t.content;if((r==null?void 0:r.messageText)!=null)return"text";if((r==null?void 0:r.reactionMessage)!=null)return"reaction";if((r==null?void 0:r.editMessage)!=null)return"edit";if(((n=e.attachmentMessage())==null||(n=n.payload)==null||(n=n.ancillary)==null?void 0:n.gifPlayback)===!0)return"gif";var o=e.attachmentMessage();return o!=null?o.kind==="imageTransport"?"image":o.kind==="audioTransport"?"audio":o.kind==="videoTransport"?"video":o.kind==="documentTransport"?"document":o.kind==="stickerTransport"?"sticker":(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+o.kind)})():"unsupported"}function d(t){try{var n=e(t),a=o("EBMessageProbe").getEBMessageProbeInstance();return a.sample(n),a.hasStarted()||a.start(),null}catch(e){return r("getErrorSafe")(e)}}var m=o("MpsPreprocessor").preprocessor(function(e){var t=e.ctx,n=e.payloadList;return r("MAWEBLSInWorkerSwitch").isEnabled()?n.forEach(function(e){if(e.directive.actionType===o("MpsTypes").ActionType.UpsertTopLevel&&!e.directive.isLocalOnly){var t=d(e);t!=null&&r("FBLogger")("wmi_eb").warn("Failed to sample message for probe: %s",t.message)}}):t.messageToQpl.all().addPoint("eb_message_probe_sampling_skipped"),{ctx:t,errors:new Map,payloadList:n}},"eb_message_probe_sampling");l.EBMessageProbeSamplingPreprocessor=m}),98);
__d("EBMessageRangeQueryForThreadsQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24862964906707992"}),null);
__d("EBMessageRangeQueryForThreadsQuery.graphql",["EBMessageRangeQueryForThreadsQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"app_id"},t={defaultValue:!1,kind:"LocalArgument",name:"minos_gk_enabled"},r={defaultValue:null,kind:"LocalArgument",name:"restore_payload_strings"},o={defaultValue:null,kind:"LocalArgument",name:"restore_type"},a=[{kind:"Variable",name:"app_id",variableName:"app_id"},{kind:"Variable",name:"restore_payload_strings",variableName:"restore_payload_strings"},{kind:"Variable",name:"restore_type",variableName:"restore_type"}],i={alias:null,args:null,kind:"ScalarField",name:"encryption_version",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"epoch_anon_id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"epoch_id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"encrypted_protobuf_stanza",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"protobuf_timestamp_ms",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"sk_ciphertext",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"supplemental_key",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"supplemental_otid",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"actor_token",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"encrypted_protobuf",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"mek_fbid",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"mek_id",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"protobuf_timestamp",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"transport_sender_signing_pk",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"transport_sender_message_signature",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"franking_tag",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"reporting_tag",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"message_encryption_version",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"message_metadata_version",storageKey:null},E=[l,s],k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[e,t,r,o],kind:"Fragment",metadata:null,name:"EBMessageRangeQueryForThreadsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:a,concreteType:"XFBEncryptedBackupMessages",kind:"LinkedField",name:"messages_from_selected_threads",plural:!0,selections:[{args:[{kind:"Variable",name:"minos_gk_enabled",variableName:"minos_gk_enabled"}],kind:"FragmentSpread",name:"handleRestoreMessagesGraphQLResponse_XFBEncryptedBackupMessages"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,o,e,t],kind:"Operation",name:"EBMessageRangeQueryForThreadsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:a,concreteType:"XFBEncryptedBackupMessages",kind:"LinkedField",name:"messages_from_selected_threads",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMessage",kind:"LinkedField",name:"encrypted_messages",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEchoDocument",kind:"LinkedField",name:"echo_document",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"echo_document_string",storageKey:null},i,l,s,{alias:null,args:null,kind:"ScalarField",name:"epoch_fingerprint",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"otid",storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanzas",kind:"LinkedField",name:"protobuf_stanzas",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_tags",storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanza",kind:"LinkedField",name:"top_level_protobuf",plural:!1,selections:[u,i,l,s,c,d],storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanza",kind:"LinkedField",name:"supplemental_protobufs",plural:!0,selections:[u,i,l,s,c,d,m,p],storageKey:null},{alias:null,args:null,concreteType:"XFBUnencryptedProtobufStanza",kind:"LinkedField",name:"top_level_protobuf_unencrypted",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"unencrypted_protobuf",storageKey:null},c],storageKey:null},{condition:"minos_gk_enabled",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMinosProtobufStanza",kind:"LinkedField",name:"top_level_protobuf_v2",plural:!1,selections:[_,f,g,h,y,C,b,v,S,R,L],storageKey:null},{alias:null,args:null,concreteType:"XFBMinosProtobufStanza",kind:"LinkedField",name:"supplemental_protobufs_v2",plural:!0,selections:[_,f,y,g,h,m,p,C,b,v,S,R,L],storageKey:null}]}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_id",storageKey:null},{alias:null,args:null,concreteType:"XFBMessageRangeInfo",kind:"LinkedField",name:"message_range_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_more_before",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_more_after",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_message_timestamp_ms_before",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_message_timestamp_ms_after",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_delete_mailbox",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"exception_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_not_found",storageKey:null},{alias:null,args:null,concreteType:"XFBEpochDerivationSet",kind:"LinkedField",name:"epoch_derivation_set",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupsEpochEdge",kind:"LinkedField",name:"epoch_edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"backward_edge",storageKey:null},{alias:null,args:null,concreteType:"XFBEpochForwardEdge",kind:"LinkedField",name:"forward_edge",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"auth_public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_entropy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entropy_fingerprint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"epoch_storage_public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"psk_fingerprint",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEpochIds",kind:"LinkedField",name:"from_epoch",plural:!1,selections:E,storageKey:null},{alias:null,args:null,concreteType:"XFBEpochIds",kind:"LinkedField",name:"to_epoch",plural:!1,selections:E,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"from_epoch_fingerprint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"to_epoch_fingerprint",storageKey:null}],storageKey:null}],storageKey:null},{condition:"minos_gk_enabled",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMinosDecryptionKeyMap",kind:"LinkedField",name:"minos_decryption_keys",plural:!0,selections:[k,{alias:null,args:null,concreteType:"XFBMinosDecryptionKeys",kind:"LinkedField",name:"keys",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBMinosMekInfo",kind:"LinkedField",name:"mek_info",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"roster_hash",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_mek",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mek_creation_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mek_encryption_version",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBMinosRecipientInfo",kind:"LinkedField",name:"recipient_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"epoch_fbid",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"epoch_head",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBMekCreatorInfo",kind:"LinkedField",name:"mek_creator_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBMinosEncryptionKeys",kind:"LinkedField",name:"minos_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sender_auth_pk",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_epoch_head",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBMinosTransportKeys",kind:"LinkedField",name:"transport_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ephm_hpke_pk",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ephm_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mek_creator_transport_signing_pk",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}],storageKey:null}],storageKey:null},k],storageKey:null}],storageKey:null}]},params:{id:n("EBMessageRangeQueryForThreadsQuery_facebookRelayOperation"),metadata:{},name:"EBMessageRangeQueryForThreadsQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("EBSourceTypes",["LSMEBTaskCreationSource"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case"media_gallery_restore":return r("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE;case"file_gallery_restore":return r("LSMEBTaskCreationSource").FILE_GALLERY_RESTORE;case"messenger_dyi":return r("LSMEBTaskCreationSource").MSGR_DYI;case"message_probe":return r("LSMEBTaskCreationSource").UNKNOWN;case"unknown":return r("LSMEBTaskCreationSource").UNKNOWN;default:return r("LSMEBTaskCreationSource").UNKNOWN}}l.castTaskCreationSourceToLSTaskSource=e}),98);
__d("LSEncryptedBackupsMessagesRangeQueryDirection",[],(function(t,n,r,o,a,i){var e=Object.freeze({BEFORE:1,AFTER:2});i.default=e}),66);
__d("EBMessageRangeQueryForThreadsQueryVariables",["Base64Utils","EBGraphQLTypeUtils","EBMessageRangeQueryUtils","EBSourceTypes","LSEncryptedBackupsMessagesRangeQueryDirection","WAJids","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i,l,s,u,c){var d=e.map(function(e){var t=e.direction,n=e.from,c=n[0],d=e.chatJid,m=e.numMessages,p=t==="before"?r("LSEncryptedBackupsMessagesRangeQueryDirection").BEFORE:r("LSEncryptedBackupsMessagesRangeQueryDirection").AFTER,_=o("WAJids").threadIdForChatJid(d);return JSON.stringify({restore_context:{act_thread_id:_,site:"www",source:o("EBSourceTypes").castTaskCreationSourceToLSTaskSource(u),tam_thread_subtype:0},success:{device_context:{device_id:a,locally_available_epochs:i,raw_tokens:{mailbox_root_key:o("Base64Utils").fromArrayBuffer(l),ocmf_client_state_blob:o("Base64Utils").fromArrayBuffer(s)}},direction:p,query_num_messages:m!=null?m:void 0,reference_timestamp:o("EBMessageRangeQueryUtils").safeTimestampMsString(c),server_thread_key:o("EBGraphQLTypeUtils").threadIdToThreadIdInt(_),source:o("EBSourceTypes").castTaskCreationSourceToLSTaskSource(u)}})});return{app_id:n,minos_gk_enabled:(r("gkx")("20911")||u==="messenger_dyi")&&c,restore_payload_strings:d,restore_type:t==="initial"?"INITIAL_RESTORE":"RANGE_QUERY_RESTORE"}}l.messageRangeQueryForThreadsQueryVariables=e}),98);
__d("EBMessageRangeQueryForThreads",["EBAPIConvertNativeToLS","EBAPIDecryptionModule","EBAPIQPLPoints","EBAPISharedTypes","EBDedupeLabyrinthMessages","EBDeriveAndStoreEpochs","EBGetClientState","EBGraphQLQueryModule","EBMessageRangeQueryForThreadsQuery.graphql","EBMessageRangeQueryForThreadsQueryVariables","EBMinosCheckWasmFeatureSupport","EBMinosInterfaceTypes","I64","LSVec","MAWCurrentUser","MAWEncryptedBackupUtils","MAWHandleEBRestoreWithHIM","MAWJobDefinitions","MAWMpsXMAValidationPreprocessor","MpsTypes","Promise","QPLFlow","WAHashStringToNumber","WAJids","WAResultOrError","asyncToGeneratorRuntime","err","getSafeQplErrorMessage","gkx","handleRestoreMessagesGraphQLResponse","justknobx","qpl","requireDeferred","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=r("requireDeferred")("EBDedupeEncryptedLabyrinthMessages").__setRef("EBMessageRangeQueryForThreads"),d=r("requireDeferred")("EBMinosDecryptAndValidateMessages").__setRef("EBMessageRangeQueryForThreads"),m=e!==void 0?e:e=n("EBMessageRangeQueryForThreadsQuery.graphql");function p(e){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.instanceKey,a=e.restoreType,i=e.source,l=e.storage,p=e.threads,_=yield o("EBMinosCheckWasmFeatureSupport").checkWasmFeatureSupport(),f=o("WAHashStringToNumber").hashStringToNumber(t!=null?t:r("uuidv4")()),g=r("qpl")._(521473850,"2910"),h=o("QPLFlow").startQPLFlow(g,{annotations:{bool:{is_wasm_serializer_on:r("gkx")("18428"),minos_rollout_enabled:r("gkx")("20911"),occam_only_mailbox_users:r("gkx")("16674")},int:{batchSize:p.length,messagesRequested:p.reduce(function(e,t){var n;return e+((n=t.numMessages)!=null?n:0)},0)},string:{source:i!=null?i:"unknown"}},instanceKey:f,timeoutInMs:r("justknobx")._("2950")});try{var y,C,b;if(p.length===0)throw h.endFail(o("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_PARAMETERS),r("err")("invalid parameters");var v=yield o("EBGetClientState").getClientState(l);if(h.addPoint(o("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.CLIENT_STATE_RETRIEVED,{string:{device_id:(y=v==null?void 0:v.deviceId)!=null?y:(u||(u=o("I64"))).to_string((u||(u=o("I64"))).zero)}}),v==null)throw h.endFail(o("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE,{string:{error_description:o("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE}}),r("err")("no client state");var S=v.backupId,R=v.deviceId,L=v.locally_available_epochs,E=v.mailboxRootKey,k=v.ocmfClientStateBlob;if(S==null||R==null||E==null||k==null)throw h.endFail(o("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE,{bool:{hasBackupId:S!=null,hasDeviceId:R!=null,hasMailboxRootKey:E!=null,hasOcmfClientStateBlob:k!=null},string:{error_description:o("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE}}),r("err")("invalid client state");var I=o("EBMessageRangeQueryForThreadsQueryVariables").messageRangeQueryForThreadsQueryVariables(p,a,(C=o("MAWCurrentUser").getAppID())!=null?C:"0",R,L,E,k,i,_);h.addPoint(o("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_START);var T=yield o("EBGraphQLQueryModule").ebGraphQLQueryModule(m,I);h.addPoint(o("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_END);var D=T==null||(b=T.viewer)==null||(b=b.encrypted_backup)==null||(b=b.mailbox)==null?void 0:b.messages_from_selected_threads;if(D==null)throw h.endFail(o("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE,{string:{error_description:o("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE}}),r("err")("invalid graphql response");var x=!1;h.addPoint("decryption_start");var $=yield(s||(s=n("Promise"))).all(D.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){try{var a,u=e;if(u==null)return o("WAResultOrError").makeError("invalid-graphql-response");if(x===!0)return o("WAResultOrError").makeError("server-side-exception");var m=u.backup_id,f=u.encrypted_messages,g=u.epoch_derivation_set,y=u.exception_string,C=u.message_range_info,b=u.minos_decryption_keys,v=u.should_delete_mailbox,R=u.thread_not_found;if(y!=null)return h.addAnnotations({string:{serverExceptionString:y}}),R!=null&&R?o("WAResultOrError").makeError("thread-not-found-on-server"):(v===!0&&(x=!0),o("WAResultOrError").makeError("server-side-exception"));yield o("EBDeriveAndStoreEpochs").deriveAndStoreEpochsNonLS(l,g);var L=C||{},E=L.has_more_after,k=L.has_more_before,I=L.next_message_timestamp_ms_after,T=L.next_message_timestamp_ms_before;if(k==null||E==null||I==null||T==null)return o("WAResultOrError").makeError("missing-message-range-info");var D=p[t],$=o("WAJids").threadIdForChatJid(D.chatJid),P=o("MpsTypes").toThreadId(D.chatJid),N=r("gkx")("20911")||i==="messenger_dyi",M=N&&_?o("EBMinosInterfaceTypes").processMinosMessages(f):[],w=N&&_?yield d.load().then(function(e){return e.minosDecryptAndValidateMessages({encryptedMinosMessages:M,entryPoint:"range_query",minosDecryptionKeys:b,qplFlow:h,source:i,threadId:P,validator:r("gkx")("5782")?o("MAWMpsXMAValidationPreprocessor").xmaValidator():function(){return(s||(s=n("Promise"))).resolve(o("WAResultOrError").makeResult())}})}):o("WAResultOrError").makeResult({decryptionResult:new Map,errorMessages:[]}),A=w.success===!0&&w.value.decryptionResult.size>0?w.value.decryptionResult:null,F=w.success===!0?w.value.errorMessages:[(a=w.error)!=null?a:"unknown-error"];h.addAnnotations({bool:{minos_decrypt_success:F.length===0},string_array:{minos_decrypt_errors:F}});var O=N&&A!=null&&_?yield c.load().then(function(e){return e.dedupeEncryptedLabyrinthMessages(f,A,h)}):f,B=o("handleRestoreMessagesGraphQLResponse").processMessageArray(O,m!=null?o("EBMinosInterfaceTypes").unsafeCastToBackupFbid(m):S),W=B.encryptedNonLSEchoMessages,q=B.encryptedNonLSProtobufs,U=yield o("EBAPIDecryptionModule").decryptUsingNativeJS(l,$,q,W,i,"range_query");if(!U.success){var V,H=U.error,G=H.message,z=o("EBAPISharedTypes").EBAPIRestoreErrorValues.find(function(e){return e===G});return h.endFail("decrypt_labyrinth10_messages_failure",{string:{error_description:H.message,errorStackTrace:(V=H.stack)!=null?V:""}}),z!=null?o("WAResultOrError").makeError(z):o("WAResultOrError").makeError("native-decryption-error")}h.addAnnotations({bool:{labyrinth_10_toplevel_decrypt_success:U.value.decryptedEchoMessages.length===W.length&&U.value.decryptedProtobufs.length===q.length}});var j=U.value.decryptedEchoMessages,K=U.value.decryptedProtobufs,Q=(r("gkx")("20911")||i==="messenger_dyi")&&_?o("EBDedupeLabyrinthMessages").dedupeLabyrinthMessages(K,A):K;h.addAnnotations({int:{decryptedEchoMessageCount:j.length,decryptedProtobufCount:Q.length}});var X=o("EBAPIConvertNativeToLS").convertNativeDecryptionResponseToDecryptedMessageType(j,Q),Y=o("MAWHandleEBRestoreWithHIM").convertEchoMessagesToEBProtobufs(r("LSVec").toArray(X.echo).map(o("MAWJobDefinitions").toEncodedEchoMessage),D.chatJid),J=o("MAWEncryptedBackupUtils").convertLSTypesToJSTypesForRestoreJob(X.protobuf),Z=r("gkx")("10800")?[].concat(Y,J):[].concat(J,Y);return o("WAResultOrError").makeResult({args:D,messageRangeInfo:{has_more_after:E,has_more_before:k,next_message_timestamp_ms_after:I,next_message_timestamp_ms_before:T},messages:r("gkx")("10800")?Array.from(new Map(Z.map(function(e){return[e.otid,e]})).values()):Z})}catch(e){return o("WAResultOrError").makeError("runtime-error")}});return function(t,n){return e.apply(this,arguments)}})()));h.addPoint("decryption_end");var P=$.reduce(function(e,t){var n=t.success;return n===!1?e+1:e},0),N=D.length;return P>0?h.endFail(o("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.BATCH_RESTORE_AND_DECRYPT_FAILURE,{bool:{allSuccessful:!1},int:{attemptCount:N,errorCount:P},string_array:{decryption_and_validation_errors:$.map(function(e){var t;return e.success?"success":(t=e.error)!=null?t:"unknown-error"})}}):h.endSuccess({bool:{allSuccessful:!0},int:{attemptCount:N,errorCount:0},string_array:{decryption_and_validation_errors:$.map(function(e){var t;return(t=e.error)!=null?t:"success"})}}),$}catch(e){throw h.endFail(o("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,{string:{error:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}}),e}}),_.apply(this,arguments)}l.messageRangeQueryForThreads=p}),98);
__d("EBMinosFetchContactKeysQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="26531892553066563"}),null);
__d("EBMinosFetchContactKeysQuery.graphql",["EBMinosFetchContactKeysQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],r={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBMinosFetchMailboxPublicKeysForContact",kind:"LinkedField",name:"contact_id_to_minos_params",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"contact_id",storageKey:null},{alias:null,args:null,concreteType:"XFBMinosFetchMailboxPublicKeysShape",kind:"LinkedField",name:"mailbox_public_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"enc_pk_b64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"epoch_anon_id_b64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"epoch_head_b64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"epoch_head_ctime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"auth_pk_b64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sign_pk_b64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prev_epoch_head_b64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"self_signature_b64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbid",storageKey:null}],storageKey:null}],storageKey:null}],type:"XFBMinosFetchMailboxPublicKeysResponse",abstractKey:null},o={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],type:"XFBMinosFetchMailboxPublicKeysError",abstractKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"EBMinosFetchContactKeysQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"xfb_minos_fetch_mailbox_public_keys",plural:!1,selections:[r,o],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"EBMinosFetchContactKeysQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"xfb_minos_fetch_mailbox_public_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,o],storageKey:null}]},params:{id:n("EBMinosFetchContactKeysQuery_facebookRelayOperation"),metadata:{},name:"EBMinosFetchContactKeysQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("EBMinosFetchContactKeys",["EBBase64Decode","EBGraphQLQueryModule","EBMinosFetchContactKeysQuery.graphql","EBMinosTypes","WALongInt","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("EBMinosFetchContactKeysQuery.graphql");function u(e,t){var n,a,i=new TextDecoder().decode((a=r("EBBase64Decode"))(e.epochAnonIdB64));return{contactFbid:t,epochAnonId:(n=o("EBMinosTypes")).unsafeCastToEpochNumber(o("WALongInt").decimalStringToLongInt(i)),epochHead:n.unsafeCastToEpochHead(a(e.epochHeadB64)),epochHeadCreationTime:n.unsafeCastToEpochCreationTime(o("WATimeUtils").castToUnixTime(e.epochHeadCtime)),mailboxAuthPublicKey:n.unsafeCastToMailboxAuthPK(a(e.authPkB64)),mailboxEncryptionPublicKey:n.unsafeCastToMailboxEncryptionPK(a(e.encPkB64)),mailboxSigningPublicKey:n.unsafeCastToMailboxSigningPK(a(e.signPkB64)),previousEpochHead:e.prevEpochHeadB64!=null?o("EBMinosTypes").unsafeCastToEpochHead(r("EBBase64Decode")(e.prevEpochHeadB64)):null,publicKeyFbid:o("EBMinosTypes").unsafeCastToMailboxFbId(o("WALongInt").decimalStringToLongInt(e.fbid)),selfEpochSignature:o("EBMinosTypes").unsafeCastToEpochSelfSig(r("EBBase64Decode")(e.selfSignatureB64))}}function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.contactIds,n=e.useCase,a={input:{contact_ids:t.map(function(e){return String(e)}),request_uuid:r("uuidv4")(),use_case:n}},i=yield o("EBGraphQLQueryModule").ebGraphQLQueryModule(s,a),l=i==null?void 0:i.xfb_minos_fetch_mailbox_public_keys;if(l==null)return o("WAResultOrError").makeError("GraphQL response is empty");if(l.code!=null){var c;return o("WAResultOrError").makeError("GraphQL error: "+l.code+" - "+((c=l.message)!=null?c:"Unknown error"))}if(l.contact_id_to_minos_params==null)return o("WAResultOrError").makeError("Missing contact_id_to_minos_params in response");var d=l.contact_id_to_minos_params.map(function(e){var t=e.mailbox_public_keys,n=e.contact_id,r=t==null?void 0:t.enc_pk_b64,a=t==null?void 0:t.epoch_anon_id_b64,i=t==null?void 0:t.epoch_head_b64,l=t==null?void 0:t.epoch_head_ctime,s=t==null?void 0:t.auth_pk_b64,c=t==null?void 0:t.sign_pk_b64,d=t==null?void 0:t.prev_epoch_head_b64,m=t==null?void 0:t.self_signature_b64,p=t==null?void 0:t.fbid;if(n!=null){var _=o("EBMinosTypes").unsafeCastToUserFbId(n);return r==null||a==null||i==null||l==null||s==null||c==null||m==null||p==null?{contactId:_,mailboxPublicKeys:null}:{contactId:_,mailboxPublicKeys:u({authPkB64:s,encPkB64:r,epochAnonIdB64:a,epochHeadB64:i,epochHeadCtime:l,fbid:p,prevEpochHeadB64:d,selfSignatureB64:m,signPkB64:c},_)}}});return o("WAResultOrError").makeResult({contactKeys:d.filter(Boolean)})}),d.apply(this,arguments)}l.fetchContactMinosKeys=c}),98);
__d("EBSMDBAPI",["EBDB","EBSMProperties","FBLogger","Promise","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.hasUserGivenAutoRestoreConsent,i=a?["secure_encrypted_backups_epochs","secure_encrypted_backups_client_state"]:[];i.push("auto_restore_opt_out");var l=Array.from(r("EBSMProperties").persistedTables).filter(function(e){return!i.includes(e)});try{var s=a?[]:["device_state"];if(s=s.concat(l),s.length>0){var u=yield o("EBDB").getEBDB();yield u.runInTransaction(s,"readwrite",function(t){return(e||(e=n("Promise"))).all(s.map(function(e){return t.stores[e].clear()}))},"EBDB - clear on logout")}}catch(e){var c=r("getErrorSafe")(e);r("FBLogger")("wmi_eb").catching(c).mustfix("Error clearing EBIDB non-persisted rows")}}),u.apply(this,arguments)}l.clearEBIDBNonPersistedRows=s}),98);
__d("EBSMWorkerThreadAPI",["EBAPIQPLPoints","EBDeps","I64","LSIntEnum","MAWWaitForBackendSetup","MWEncryptedBackupsFirstRestoreUpsellTime","Promise","QPLFlow","WAResultOrError","WebSession","justknobx","qpl","requireDeferred","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c=r("requireDeferred"))("EBAddDeviceWithKeys").__setRef("EBSMWorkerThreadAPI"),m=c("EBAddDeviceWithRecoveryCode").__setRef("EBSMWorkerThreadAPI"),p=c("EBAddVirtualDevice").__setRef("EBSMWorkerThreadAPI"),_=c("EBDeleteBackupsOnClient").__setRef("EBSMWorkerThreadAPI"),f=c("EBDeleteEncryptedBackup").__setRef("EBSMWorkerThreadAPI"),g=c("EBFetchBackupIds").__setRef("EBSMWorkerThreadAPI"),h=c("EBGenerateRecoveryCode").__setRef("EBSMWorkerThreadAPI"),y=c("EBGetEBState").__setRef("EBSMWorkerThreadAPI"),C=c("EBGetLSVirtualDevices").__setRef("EBSMWorkerThreadAPI"),b=c("EBInitializeBackup").__setRef("EBSMWorkerThreadAPI"),v=c("EBIsEbEnabled").__setRef("EBSMWorkerThreadAPI"),S=c("EBOptOut").__setRef("EBSMWorkerThreadAPI"),R=c("EBOtcAddDevice").__setRef("EBSMWorkerThreadAPI"),L=c("EBRepairEpochs").__setRef("EBSMWorkerThreadAPI"),E=c("EBRevokeVirtualDevice").__setRef("EBSMWorkerThreadAPI"),k=c("EBSyncEpochs").__setRef("EBSMWorkerThreadAPI"),I={addDeviceWithEBKeys:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.load().then(function(e){return e.addDeviceWithEBKeys.apply(e,t)})},addDeviceWithRecoveryCode:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(t.length===0||t[0]==null)return(u||(u=n("Promise"))).reject("Missing args");var i=o("QPLFlow").startQPLFlow(r("qpl")._(521473756,"2768"),{annotations:{bool:{isBackendSetupOnStart:o("EBDeps").getDeps().isBackendSetupSuccessful(),isEBAddDeviceWithKeys:!1,isInWorker:!0}},timeoutInMs:r("justknobx")._("2444")});return m.load().then(function(e){return e.addDeviceWithRecoveryCode(babelHelpers.extends({},t[0],{qplFlow:i}))})},addVirtualDevice:function(t){var e=t.actionType,a=t.recoveryCodeData;r("vulture")("dtFBWuqqZn2ymmkfyf9gVXZZXd0=");var i=o("QPLFlow").startQPLFlow(r("qpl")._(521483240,"615"),{annotations:{int:{actionType:e}},timeoutInMs:r("justknobx")._("4211")});return i.addPoint("add_virtual_device_worker_start"),a==null?(i.endFail("add_virtual_device_fail_no_recovery_code_worker"),(u||(u=n("Promise"))).resolve(o("WAResultOrError").makeError("ADD_VIRTUAL_DEVICE_NULL_RECOVERY_CODE_DATA"))):p.load().then(function(t){return t.addVirtualDevice({actionType:e,qplFlow:i,recoveryCodeData:a})})},deleteBackupsOnClient:function(t){var e=t.reason;return _.load().then(function(t){return t.deleteBackupsOnClient({reason:e})})},deleteEncryptedBackup:function(t){var e=t.reason,n=o("QPLFlow").startQPLFlow(r("qpl")._(521484370,"2995"),{timeoutInMs:r("justknobx")._("4553")});return n.addPoint(o("EBAPIQPLPoints").EBDeleteEBQPLPoints.DELETE_EB_WORKER_START),f.load().then(function(t){return t.deleteEncryptedBackup({qplFlow:n,reason:e})})},ebOptOut:function(){var e=o("QPLFlow").startQPLFlow(r("qpl")._(521482558,"2558"),{annotations:{string:{ebSessionIdentifier:o("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime(),fetchBackupIdsVersion:"msys",sessionTabId:o("WebSession").getId()}}});return e.addPoint(o("EBAPIQPLPoints").EBOptOutQPLPoints.OPT_OUT_BACKUP_WORKER_START),S.load().then(function(t){return t.ebOptOut({qplFlow:e})})},fetchBackupIds:function(t){var e=o("QPLFlow").startQPLFlow(r("qpl")._(521471024,"2275"),{annotations:{string:{ebSessionIdentifier:o("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime(),fetchBackupIdsVersion:"msys",sessionTabId:o("WebSession").getId()}}});return e.addPoint("eb_fetch_backup_ids_worker_start"),g.load().then(function(n){return n.fetchBackupIds(t,e)})},generateRecoveryCode:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.load().then(function(e){return e.generateRecoveryCode.apply(e,t)})},getEBState:function(){return y.load().then(function(e){return e.GetEbState()})},getLSVirtualDevices:function(t){return C.load().then(function(e){return e.getLSVirtualDevices(t)})},initializeBackup:function(a){var t=a.recoveryCodeData,i=a.virtualDeviceType,l=o("QPLFlow").startQPLFlow(r("qpl")._(521478750,"2850"),{annotations:{int:{virtualDeviceType:(e||(e=o("I64"))).to_int32(i)}},timeoutInMs:r("justknobx")._("4211")});l.addPoint(o("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_WORKER_START);var c=e.equal(i,(s||(s=o("LSIntEnum"))).ofNumber(16));return t==null&&!c?(l.endFail("recoveryCodeData null for non-Automatic EB"),(u||(u=n("Promise"))).resolve(o("WAResultOrError").makeError("recoveryCodeData null for non-Automatic EB"))):b.load().then(function(e){return e.initializeBackup(l,i,t)})},isEbEnabled:function(){return v.load().then(function(e){return e.isEbEnabledEbSwitch()})},optOutOfBackup:function(){return(u||(u=n("Promise"))).resolve()},otcAddDevice:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=o("QPLFlow").startQPLFlow(r("qpl")._(521473756,"2768"),{annotations:{bool:{isBackendSetupOnStart:o("MAWWaitForBackendSetup").isBackendSetupSuccessful(),isEBAddDeviceWithKeys:!1,isInWorker:!0,isOTC:!0}},timeoutInMs:r("justknobx")._("2444")});return R.load().then(function(e){return e.otcAddDevice(babelHelpers.extends({},t[0],{qplFlow:a}))})},repairEpochs:function(){return L.load().then(function(e){return e.EBRepairEpochs()})},revokeVirtualDevice:function(t){var e=t.virtualDeviceId,n=o("QPLFlow").startQPLFlow(r("qpl")._(521473995,"3294"));return n.addPoint("revoke_virtual_device_worker_start"),E.load().then(function(t){return t.revokeVirtualDevice(e,n)})},syncEpochs:function(){return k.load().then(function(e){return e.EBSyncEpochs()})}},T=I;l.default=T}),98);
__d("EBStateConsistencyMonitor",["EBIsEbEnabled","EBLogger","EBWorkerEBDBApi","MAWEBLSInWorkerSwitch","MAWEBSwitch","MAWODSProxy","QPLFlow","Random","WAOdsEnums","WAShiftTimer","asyncToGeneratorRuntime","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h,y,C,b,v=o("EBLogger").EBLogger().tags(["EBStateConsistencyMonitor"]),S=(function(){function t(e){var t=this;this.$3=!1,this.$4=null,this.$5=!0,this.$6=0,this.$1=e,this.$2=new(o("WAShiftTimer")).ShiftTimer(function(){t.$7()})}var a=t.prototype;return a.start=function(){if(this.$3){v.DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["EBStateConsistencyMonitor already running"])));return}this.$3=!0,v.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Starting EBStateConsistencyMonitor with interval ","ms"])),this.$1),this.$8(),this.$9()},a.stop=function(){if(!this.$3){v.DEBUG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["EBStateConsistencyMonitor not running"])));return}this.$3=!1,this.$2.cancel(),v.DEBUG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Stopped EBStateConsistencyMonitor"])))},a.$7=function(){this.$3&&(this.$8(),this.$9())},a.$9=function(){this.$3&&this.$2.onOrBefore(this.$1)},a.$8=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var e=yield this.$10();this.$11(e)}catch(e){e instanceof Error?v.catching(e).MUSTFIX(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Failed to check EB state consistency"]))):v.MUSTFIX(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Failed to check EB state consistency: ",""])),String(e))}});function t(){return e.apply(this,arguments)}return t})(),a.$10=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=Date.now(),t=r("MAWEBLSInWorkerSwitch").isEnabled(),n=yield o("EBIsEbEnabled").isEBEnabled(),a=null;try{a=yield o("EBWorkerEBDBApi").isEBEnabledEBDB()}catch(e){e instanceof Error?v.catching(e).MUSTFIX(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Failed to read EBDB client state directly"]))):v.DEBUG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["Failed to read EBDB client state directly: ",""])),String(e))}return{ebdbDirectState:a,isEBEnabledState:n,timestamp:e,workerSwitchState:t}});function t(){return e.apply(this,arguments)}return t})(),a.$11=function(t){var e=t.ebdbDirectState,n=t.isEBEnabledState,a=t.timestamp,i=t.workerSwitchState,l=this.$5,s=this.$6,u=this.$12(t),c=u.length>0,d=l||c;if(l||this.$6++,!d){v.DEBUG(f||(f=babelHelpers.taggedTemplateLiteralLoose(["No state changes detected, skipping ODS metrics"])));return}v.DEBUG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["EB State Snapshot: workerSwitch=",", isEBEnabled=",", ebdbDirect="," at "," shouldLogMetrics=",""])),String(i),String(n),e!=null?String(e):"null",a,d),!l&&u.length>0&&(u.forEach(function(e){o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.EB_SWITCH_STATE,key:"eb_consistency.source_change."+e}),v.DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["EB Source Change: "," state changed"])),e)}),o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.EB_SWITCH_STATE,key:"eb_consistency.sources_changed.count_"+u.length})),this.$5=!1,this.$4=t;var m=l?".first_time":".on_change",p=i===n;if(o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.EB_SWITCH_STATE,key:"eb_consistency.worker_switch_vs_lightspeed."+(p?"consistent":"inconsistent")+m}),l&&o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.EB_SWITCH_STATE,key:"eb_consistency.worker_switch_vs_lightspeed."+(p?"consistent":"inconsistent")+".first_time_only"}),p||v.WARN(y||(y=babelHelpers.taggedTemplateLiteralLoose(["EB State Inconsistency: WorkerSwitch(",") vs Lightspeed(",")"])),String(i),String(n)),e!=null){var _=i===e,S=n===e;o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.EB_SWITCH_STATE,key:"eb_consistency.worker_switch_vs_ebdb."+(_?"consistent":"inconsistent")+m}),o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.EB_SWITCH_STATE,key:"eb_consistency.lightspeed_vs_ebdb."+(S?"consistent":"inconsistent")+m}),l&&(o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.EB_SWITCH_STATE,key:"eb_consistency.worker_switch_vs_ebdb."+(_?"consistent":"inconsistent")+".first_time_only"}),o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.EB_SWITCH_STATE,key:"eb_consistency.lightspeed_vs_ebdb."+(S?"consistent":"inconsistent")+".first_time_only"})),_||v.WARN(C||(C=babelHelpers.taggedTemplateLiteralLoose(["EB State Inconsistency: WorkerSwitch(",") vs EBDB(",")"])),String(i),String(e)),S||v.WARN(b||(b=babelHelpers.taggedTemplateLiteralLoose(["EB State Inconsistency: Lightspeed(",") vs EBDB(",")"])),String(n),String(e));var R=p&&_&&S;if(o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.EB_SWITCH_STATE,key:"eb_consistency.all_three_sources."+(R?"consistent":"inconsistent")+m}),l&&o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.EB_SWITCH_STATE,key:"eb_consistency.all_three_sources."+(R?"consistent":"inconsistent")+".first_time_only"}),I(l)){var L=o("QPLFlow").startQPLFlow(r("qpl")._(521478131,"1562"),{annotations:{bool:{isFirstCheck:l,lightspeedVsEbdb:S,main_thread_state:r("MAWEBSwitch").isEnabled(),switchVsEbdb:_,switchVsLightspeed:p,worker_state:n,worker_switch_state:i},int:{timesChecked:s},string:{source:"consistency_monitor"}}});R?L.endSuccess():L.endFail("inconsistent_state")}}else o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.EB_SWITCH_STATE,key:"eb_consistency.ebdb_direct_unavailable"+m}),l&&o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.EB_SWITCH_STATE,key:"eb_consistency.ebdb_direct_unavailable.first_time_only"})},a.$12=function(t){if(this.$4==null)return[];var e=this.$4,n=[];return e.workerSwitchState!==t.workerSwitchState&&n.push("worker_switch"),e.isEBEnabledState!==t.isEBEnabledState&&n.push("lightspeed"),e.ebdbDirectState!==t.ebdbDirectState&&n.push("ebdb_direct"),n},a.isRunning=function(){return this.$3},t})(),R=null;function L(){if(R==null){var e=r("justknobx")._("3206");R=new S(e)}return R}function E(){var e=L();e.start()}function k(){var e=L();e.stop()}function I(e){var t=e?r("justknobx")._("3455"):r("justknobx")._("3679");return o("Random").random()<t/100}l.getEBStateConsistencyMonitor=L,l.startEBStateConsistencyMonitoring=E,l.stopEBStateConsistencyMonitoring=k}),98);
__d("EBSyncMailboxKeysForContacts",["EBMinosFetchContactKeys","EBMinosLogger","EBMinosMailboxKeysCache","EBMinosQplFlow","EBMinosVerifyEpochAndWriteMailboxKey","Promise","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r="SPECIFIC_CONTACTS",a=o("EBMinosQplFlow").startMinosMailboxKeyFetchQpl(),i=t.filter(function(t){var n=o("EBMinosMailboxKeysCache").getCachedMailboxKeys(t);return n==null?(o("EBMinosLogger").minosLogger.LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Cached mailbox keys not found for contact ",""])),t),!0):!1});if(i.length===0){a.endSuccess({string:{reason:"cache_hit"}});return}a.addPoint("fetch_keys_start");var l=yield o("EBMinosFetchContactKeys").fetchContactMinosKeys({contactIds:i,useCase:r});if(a.addPoint("fetch_keys_end"),l.value==null){a.endSuccess({string:{reason:"server does_not_have_keys"}});return}if(!l.success){a.endFailWithError("fetch_keys_failed",l.error);return}a.addPoint("verify_keys_start");var c=l.value.contactKeys.map(function(e){var t=e.contactId,r=e.mailboxPublicKeys;return r==null?(u||(u=n("Promise"))).resolve(!1):o("EBMinosVerifyEpochAndWriteMailboxKey").verifyEpochAndWriteMailboxKeyToMailbox(babelHelpers.extends({entryPoint:"fetch-and-verify-minos-keys",userFbid:t},r),o("EBMinosLogger").minosLogger)});a.addPoint("verify_keys_end"),(u||(u=n("Promise"))).all(c).then(function(e){var t=e.every(function(e){return e===!0});t?a.endSuccess():a.endFailWithError("verify_keys_failed","One or more keys failed verification")}).catch(function(e){o("EBMinosLogger").minosLogger.ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Failed to verify keys: ",""])),e.message),a.endFailWithError("verify_keys_failed",e.message)})}),d.apply(this,arguments)}l.syncMailboxKeysForContacts=c}),98);
__d("EBWorkerGetEBState",["EBLS","I64","LSAuthorityLevel","LSIntEnum","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t;yield o("EBLS").init();var n=yield o("EBLS").getLSStorage(),a=yield(t=o("ReQL")).firstAsync(t.fromTableAscending(n.tables.encrypted_backups)),i=yield t.firstAsync(t.fromTableAscending(n.tables.secure_encrypted_backups_client_state));return a==null?2:(e||(e=o("I64"))).equal(a.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))?1:(e||(e=o("I64"))).equal(a.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))?m(i,a):-1}),c.apply(this,arguments)}var d="-1";function m(t,n){var a=n.backupId;return a==null?2:(e||(e=o("I64"))).to_string(a)===d?-1:t==null||!(e||(e=o("I64"))).equal(t.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))||!(e||(e=o("I64"))).equal(t.backupId,a)?4:3}l.getEBWorkerState=u}),98);
__d("EBWorkerOptOut",["asyncToGeneratorRuntime"],(function(t,n,r,o,a,i){"use strict";function e(){return l.apply(this,arguments)}function l(){return l=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){}),l.apply(this,arguments)}i.ebOptOutInWorker=e}),66);
__d("EncryptedBackupsDYIFileUtils",["FBLogger","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e="media",s="messages.zip";function u(){if(navigator.storage!=null&&navigator.storage.getDirectory!=null)return navigator.storage.getDirectory();throw r("FBLogger")("wmi_eb").mustfixThrow("Storage management API is not supported. Please try one of the supported browsers.")}function c(){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield u();return t.getDirectoryHandle(e,{create:!0})}),d.apply(this,arguments)}function m(e,t,n){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var o=yield e.getFileHandle(t,{create:!0});try{var a=yield o.createSyncAccessHandle();a.write(n),a.flush(),a.close()}catch(e){if(e instanceof Error){if(e instanceof TypeError)try{var i=yield o.createWritable();yield i.write(n),yield i.close();return}catch(e){throw e instanceof Error?e instanceof TypeError?r("FBLogger")("wmi_eb").mustfixThrow("Write operation is not supported. Please try one of the supported browsers."):r("FBLogger")("wmi_eb").mustfixThrow("Failed to write using writable: %e",e.message):e}throw r("FBLogger")("wmi_eb").mustfixThrow("Failed to write using sync access handle: %s",e.message)}throw e}}),p.apply(this,arguments)}function _(e,t){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield e.getFileHandle(t);try{var o=yield n.createSyncAccessHandle(),a=new ArrayBuffer(o.getSize());return o.read(a),o.close(),new Blob([a])}catch(e){if(e instanceof Error){if(e instanceof TypeError)return n.getFile();throw r("FBLogger")("wmi_eb").mustfixThrow("Failed to read file %s, %s",t,e.message)}throw e}}),f.apply(this,arguments)}l.DyiMediaFolder=e,l.DyiArchiveFilename=s,l.getRootFolderHandle=u,l.getMediaFolderHandle=c,l.writeFile=m,l.readFile=_}),98);
__d("MAWThreadKeyUtils",["I64","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return(e||(e=o("I64"))).to_string(t)}function u(e){return e}function c(e){return r("vulture")("9DZDuAw4Bd5gY57CNHpZSR8vpLc="),e}function d(t){return(e||(e=o("I64"))).of_string(t)}function m(e){return e}l.stringThreadKeyFromThreadKey=s,l.toStringThreadKey=u,l.stringThreadKeyFromString=c,l.stringThreadKeyToI64=d,l.stringThreadKeyToString=m}),98);
__d("EncryptedBackupsDYIGenerateThreadMetadata",["CurrentUser","EncryptedBackupsDYISingleton","I64","IGDWebUtils","LSMessagingThreadTypeUtil","MAWThreadKeyUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(){return o("IGDWebUtils").isOnInstagramWeb()?(c||(c=o("I64"))).of_string(r("CurrentUser").getEIMU()):(c||(c=o("I64"))).of_string(r("CurrentUser").getAccountID())}function m(e,t){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(o("MAWThreadKeyUtils").stringThreadKeyToI64(t)))}function p(e,t){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(t))}function _(e,t){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.tables.contacts).filter(function(e){return t.has((c||(c=o("I64"))).to_string(e.id))}))}function f(e,t){var n;return(n=o("ReQL")).toArrayAsync(n.leftJoin(n.fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(t),n.fromTableAscending(e.tables.contacts,["name"])))}function g(e){return o("LSMessagingThreadTypeUtil").isOneToOne(e)||o("LSMessagingThreadTypeUtil").isOpenOneToOne(e)}function h(e,t,n){if(n!=null&&n.trim()!=="")return n+"_"+t;switch(e.length){case 0:return"Thread_"+t;case 1:return e[0]+"_"+t;case 2:return e[0]+"and"+e[1]+"_"+t;case 3:return""+e[0]+e[1]+"and"+e[2]+"_"+t;case 4:return""+e[0]+e[1]+e[2]+"and1other_"+t;default:return""+e[0]+e[1]+e[2]+"and"+(e.length-3)+"others_"+t}}function y(e,t,n,r,o,a){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r,a,i,l){var s=[],u=[i],d=yield m(r,t);if(d!=null)if(g(d.threadType)){var _=n.getThreadIdForThreadKey(t);if(_==null){n.getLogger().WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Cannot find thread id for thread key ",""])),t);return}var y=yield p(r,(c||(c=o("I64"))).of_string(_));(y==null?void 0:y.id)!=null&&(y==null?void 0:y.name)!=null&&n.setContactNameForContactId((c||(c=o("I64"))).to_string(y.id),y.name);var C=(y==null?void 0:y.name)||"Unknown User";s.push(C),u.push(C),n.setThreadMetaDataByThreadKey(t,u,h(s,l,d.threadName))}else{var b=yield f(r,d.threadKey);b.forEach(function(e){var t=e[0],r=e[1];if((t==null?void 0:t.contactId)!=null&&(r==null?void 0:r.name)!=null&&n.setContactNameForContactId((c||(c=o("I64"))).to_string(t.contactId),r.name),!(c||(c=o("I64"))).equal(t.contactId,a)){var i=(r==null?void 0:r.name)||"Unknown User";s.push(i),u.push(i)}}),n.setThreadMetaDataByThreadKey(t,u,h(s,l,d.threadName))}else n.setThreadMetaDataByThreadKey(t,u,h(s,l))}),C.apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,r,a=o("EncryptedBackupsDYISingleton").getSingleton(),i=a.getLogger(),l=yield a.getDB(),m=yield p(l,d()),_=(t=m==null?void 0:m.id)!=null?t:(c||(c=o("I64"))).zero,f=(r=m==null?void 0:m.name)!=null?r:"Me";return a.setContactNameForContactId((c||(c=o("I64"))).to_string(_),f),e.reduce((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){yield e;var r=a.getThreadIdForThreadKey(t);return r==null&&i.WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Cannot find thread id for thread key ",""])),t),y(t,a,l,_,f,n)});return function(t,n,r){return e.apply(this,arguments)}})(),(u||(u=n("Promise"))).resolve())}),v.apply(this,arguments)}l.getAllUnmappedContacts=_,l.EncryptedBackupsDYIGenerateThreadMetadata=b}),98);
__d("EncryptedBackupsDYITypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({NotStarted:0,InProgress:1,Completed:2,Failed:3}),l=n("$InternalEnum")({Armadillo:0,Instamadillo:1});i.EncryptedBackupsDYIState=e,i.EncryptedBackupsDYIConfig=l}),66);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("fflate-0.6.10",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){var t,n="";try{t={}.Worker}catch(e){}e.default=t?function(e,r,o,a,i){var l=!1,s=new t(e+n,{eval:!0}).on("error",function(e){return i(e,null)}).on("message",function(e){return i(null,e)}).on("exit",function(e){e&&!l&&i(new Error("exited with code "+e),null)});return s.postMessage(o,a),s.terminate=function(){return l=!0,t.prototype.terminate.call(s)},s}:function(e,t,n,r,o){setImmediate(function(){return o(new Error("async operations unsupported - update to Node 12+ (or Node 10-11 with the --experimental-worker CLI flag)"),null)});var a=function(){};return{terminate:a,postMessage:a}}}var u=!1;function c(){return u||(u=!0,s()),l.exports}var d={},m={exports:d};function p(){var e=c(),t=Uint8Array,n=Uint16Array,r=Uint32Array,o=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),i=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(e,t){for(var o=new n(31),a=0;a<31;++a)o[a]=t+=1<<e[a-1];for(var i=new r(o[30]),a=1;a<30;++a)for(var l=o[a];l<o[a+1];++l)i[l]=l-o[a]<<5|a;return[o,i]},s=l(o,2),u=s[0],m=s[1];u[28]=258,m[258]=28;for(var p=l(a,0),_=p[0],f=p[1],g=new n(32768),h=0;h<32768;++h){var y=(h&43690)>>>1|(h&21845)<<1;y=(y&52428)>>>2|(y&13107)<<2,y=(y&61680)>>>4|(y&3855)<<4,g[h]=((y&65280)>>>8|(y&255)<<8)>>>1}for(var C=(function(e,t,r){for(var o=e.length,a=0,i=new n(t);a<o;++a)++i[e[a]-1];var l=new n(t);for(a=0;a<t;++a)l[a]=l[a-1]+i[a-1]<<1;var s;if(r){s=new n(1<<t);var u=15-t;for(a=0;a<o;++a)if(e[a])for(var c=a<<4|e[a],d=t-e[a],m=l[e[a]-1]++<<d,p=m|(1<<d)-1;m<=p;++m)s[g[m]>>>u]=c}else for(s=new n(o),a=0;a<o;++a)e[a]&&(s[a]=g[l[e[a]-1]++]>>>15-e[a]);return s}),b=new t(288),h=0;h<144;++h)b[h]=8;for(var h=144;h<256;++h)b[h]=9;for(var h=256;h<280;++h)b[h]=7;for(var h=280;h<288;++h)b[h]=8;for(var v=new t(32),h=0;h<32;++h)v[h]=5;var S=C(b,9,0),R=C(b,9,1),L=C(v,5,0),E=C(v,5,1),k=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},I=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},T=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},D=function(e){return(e/8|0)+(e&7&&1)},x=function(e,o,a){(o==null||o<0)&&(o=0),(a==null||a>e.length)&&(a=e.length);var i=new(e instanceof n?n:e instanceof r?r:t)(a-o);return i.set(e.subarray(o,a)),i},$=function(e,n,r){var l=e.length;if(!l||r&&!r.l&&l<5)return n||new t(0);var s=!n||r,c=!r||r.i;r||(r={}),n||(n=new t(l*3));var d=function(e){var r=n.length;if(e>r){var o=new t(Math.max(r*2,e));o.set(n),n=o}},m=r.f||0,p=r.p||0,f=r.b||0,g=r.l,h=r.d,y=r.m,b=r.n,v=l*8;do{if(!g){r.f=m=I(e,p,1);var S=I(e,p+1,3);if(p+=3,S)if(S==1)g=R,h=E,y=9,b=5;else if(S==2){var N=I(e,p,31)+257,M=I(e,p+10,15)+4,w=N+I(e,p+5,31)+1;p+=14;for(var A=new t(w),F=new t(19),O=0;O<M;++O)F[i[O]]=I(e,p+O*3,7);p+=M*3;for(var B=k(F),W=(1<<B)-1,q=C(F,B,1),O=0;O<w;){var U=q[I(e,p,W)];p+=U&15;var L=U>>>4;if(L<16)A[O++]=L;else{var V=0,H=0;for(L==16?(H=3+I(e,p,3),p+=2,V=A[O-1]):L==17?(H=3+I(e,p,7),p+=3):L==18&&(H=11+I(e,p,127),p+=7);H--;)A[O++]=V}}var G=A.subarray(0,N),z=A.subarray(N);y=k(G),b=k(z),g=C(G,y,1),h=C(z,b,1)}else throw"invalid block type";else{var L=D(p)+4,$=e[L-4]|e[L-3]<<8,P=L+$;if(P>l){if(c)throw"unexpected EOF";break}s&&d(f+$),n.set(e.subarray(L,P),f),r.b=f+=$,r.p=p=P*8;continue}if(p>v){if(c)throw"unexpected EOF";break}}s&&d(f+131072);for(var j=(1<<y)-1,K=(1<<b)-1,Q=p;;Q=p){var V=g[T(e,p)&j],X=V>>>4;if(p+=V&15,p>v){if(c)throw"unexpected EOF";break}if(!V)throw"invalid length/literal";if(X<256)n[f++]=X;else if(X==256){Q=p,g=null;break}else{var Y=X-254;if(X>264){var O=X-257,J=o[O];Y=I(e,p,(1<<J)-1)+u[O],p+=J}var Z=h[T(e,p)&K],ee=Z>>>4;if(!Z)throw"invalid distance";p+=Z&15;var z=_[ee];if(ee>3){var J=a[ee];z+=T(e,p)&(1<<J)-1,p+=J}if(p>v){if(c)throw"unexpected EOF";break}s&&d(f+131072);for(var te=f+Y;f<te;f+=4)n[f]=n[f-z],n[f+1]=n[f+1-z],n[f+2]=n[f+2-z],n[f+3]=n[f+3-z];f=te}}r.l=g,r.p=Q,r.b=f,g&&(m=1,r.m=y,r.d=h,r.n=b)}while(!m);return f==n.length?n:x(n,0,f)},P=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},N=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},M=function(e,r){for(var o=[],a=0;a<e.length;++a)e[a]&&o.push({s:a,f:e[a]});var i=o.length,l=o.slice();if(!i)return[q,0];if(i==1){var s=new t(o[0].s+1);return s[o[0].s]=1,[s,1]}o.sort(function(e,t){return e.f-t.f}),o.push({s:-1,f:25001});var u=o[0],c=o[1],d=0,m=1,p=2;for(o[0]={s:-1,f:u.f+c.f,l:u,r:c};m!=i-1;)u=o[o[d].f<o[p].f?d++:p++],c=o[d!=m&&o[d].f<o[p].f?d++:p++],o[m++]={s:-1,f:u.f+c.f,l:u,r:c};for(var _=l[0].s,a=1;a<i;++a)l[a].s>_&&(_=l[a].s);var f=new n(_+1),g=w(o[m-1],f,0);if(g>r){var a=0,h=0,y=g-r,C=1<<y;for(l.sort(function(e,t){return f[t.s]-f[e.s]||e.f-t.f});a<i;++a){var b=l[a].s;if(f[b]>r)h+=C-(1<<g-f[b]),f[b]=r;else break}for(h>>>=y;h>0;){var v=l[a].s;f[v]<r?h-=1<<r-f[v]++-1:++a}for(;a>=0&&h;--a){var S=l[a].s;f[S]==r&&(--f[S],++h)}g=r}return[new t(f),g]},w=function(e,t,n){return e.s==-1?Math.max(w(e.l,t,n+1),w(e.r,t,n+1)):t[e.s]=n},A=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new n(++t),o=0,a=e[0],i=1,l=function(e){r[o++]=e},s=1;s<=t;++s)if(e[s]==a&&s!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=e[s]}return[r.subarray(0,o),t]},F=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},O=function(e,t,n){var r=n.length,o=D(t+2);e[o]=r&255,e[o+1]=r>>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var a=0;a<r;++a)e[o+a+4]=n[a];return(o+4+r)*8},B=function(e,t,r,l,s,u,c,d,m,p,_){P(t,_++,r),++s[256];for(var f=M(s,15),g=f[0],h=f[1],y=M(u,15),R=y[0],E=y[1],k=A(g),I=k[0],T=k[1],D=A(R),x=D[0],$=D[1],w=new n(19),B=0;B<I.length;++B)w[I[B]&31]++;for(var B=0;B<x.length;++B)w[x[B]&31]++;for(var W=M(w,7),q=W[0],U=W[1],V=19;V>4&&!q[i[V-1]];--V);var H=p+5<<3,G=F(s,b)+F(u,v)+c,z=F(s,g)+F(u,R)+c+14+3*V+F(w,q)+(2*w[16]+3*w[17]+7*w[18]);if(H<=G&&H<=z)return O(t,_,e.subarray(m,m+p));var j,K,Q,X;if(P(t,_,1+(z<G)),_+=2,z<G){j=C(g,h,0),K=g,Q=C(R,E,0),X=R;var Y=C(q,U,0);P(t,_,T-257),P(t,_+5,$-1),P(t,_+10,V-4),_+=14;for(var B=0;B<V;++B)P(t,_+3*B,q[i[B]]);_+=3*V;for(var J=[I,x],Z=0;Z<2;++Z)for(var ee=J[Z],B=0;B<ee.length;++B){var te=ee[B]&31;P(t,_,Y[te]),_+=q[te],te>15&&(P(t,_,ee[B]>>>5&127),_+=ee[B]>>>12)}}else j=S,K=b,Q=L,X=v;for(var B=0;B<d;++B)if(l[B]>255){var te=l[B]>>>18&31;N(t,_,j[te+257]),_+=K[te+257],te>7&&(P(t,_,l[B]>>>23&31),_+=o[te]);var ne=l[B]&31;N(t,_,Q[ne]),_+=X[ne],ne>3&&(N(t,_,l[B]>>>5&8191),_+=a[ne])}else N(t,_,j[l[B]]),_+=K[l[B]];return N(t,_,j[256]),_+K[256]},W=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),q=new t(0),U=function(e,i,l,s,u,c){var d=e.length,p=new t(s+d+5*(1+Math.ceil(d/7e3))+u),_=p.subarray(s,p.length-u),g=0;if(!i||d<8)for(var h=0;h<=d;h+=65535){var y=h+65535;y<d?g=O(_,g,e.subarray(h,y)):(_[h]=c,g=O(_,g,e.subarray(h,d)))}else{for(var C=W[i-1],b=C>>>13,v=C&8191,S=(1<<l)-1,R=new n(32768),L=new n(S+1),E=Math.ceil(l/3),k=2*E,I=function(t){return(e[t]^e[t+1]<<E^e[t+2]<<k)&S},T=new r(25e3),$=new n(288),P=new n(32),N=0,M=0,h=0,w=0,A=0,F=0;h<d;++h){var U=I(h),V=h&32767,H=L[U];if(R[V]=H,L[U]=V,A<=h){var G=d-h;if((N>7e3||w>24576)&&G>423){g=B(e,_,0,T,$,P,M,w,F,h-F,g),w=N=M=0,F=h;for(var z=0;z<286;++z)$[z]=0;for(var z=0;z<30;++z)P[z]=0}var j=2,K=0,Q=v,X=V-H&32767;if(G>2&&U==I(h-X))for(var Y=Math.min(b,G)-1,J=Math.min(32767,h),Z=Math.min(258,G);X<=J&&--Q&&V!=H;){if(e[h+j]==e[h+j-X]){for(var ee=0;ee<Z&&e[h+ee]==e[h+ee-X];++ee);if(ee>j){if(j=ee,K=X,ee>Y)break;for(var te=Math.min(X,ee-2),ne=0,z=0;z<te;++z){var re=h-X+z+32768&32767,oe=R[re],ae=re-oe+32768&32767;ae>ne&&(ne=ae,H=re)}}}V=H,H=R[V],X+=V-H+32768&32767}if(K){T[w++]=268435456|m[j]<<18|f[K];var ie=m[j]&31,le=f[K]&31;M+=o[ie]+a[le],++$[257+ie],++P[le],A=h+j,++N}else T[w++]=e[h],++$[e[h]]}}g=B(e,_,c,T,$,P,M,w,F,h-F,g),!c&&g&7&&(g=O(_,g+1,q))}return x(p,0,s+D(g)+u)},V=(function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(n&1&&-306674912)^n>>>1;e[t]=n}return e})(),H=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=V[n&255^t[r]]^n>>>8;e=n},d:function(){return~e}}},G=function(){var e=1,t=0;return{p:function(n){for(var r=e,o=t,a=n.length,i=0;i!=a;){for(var l=Math.min(i+2655,a);i<l;++i)o+=r+=n[i];r=(r&65535)+15*(r>>16),o=(o&65535)+15*(o>>16)}e=r,t=o},d:function(){return e%=65521,t%=65521,(e&255)<<24|e>>>8<<16|(t&255)<<8|t>>>8}}},z=function(e,t,n,r,o){return U(e,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+t.mem,n,r,!o)},j=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},K=function(e,t,n){for(var r=e(),o=e.toString(),a=o.slice(o.indexOf("[")+1,o.lastIndexOf("]")).replace(/ /g,"").split(","),i=0;i<r.length;++i){var l=r[i],s=a[i];if(typeof l=="function"){t+=";"+s+"=";var u=l.toString();if(l.prototype)if(u.indexOf("[native code]")!=-1){var c=u.indexOf(" ",8)+1;t+=u.slice(c,u.indexOf("(",c))}else{t+=u;for(var d in l.prototype)t+=";"+s+".prototype."+d+"="+l.prototype[d].toString()}else t+=u}else n[s]=l}return[t,n]},Q=[],X=function(e){var o=[];for(var a in e)(e[a]instanceof t||e[a]instanceof n||e[a]instanceof r)&&o.push((e[a]=new e[a].constructor(e[a])).buffer);return o},Y=function(t,n,r,o){var a;if(!Q[r]){for(var i="",l={},s=t.length-1,u=0;u<s;++u)a=K(t[u],i,l),i=a[0],l=a[1];Q[r]=K(t[s],i,l)}var c=j({},Q[r][1]);return e.default(Q[r][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+n.toString()+"}",r,c,X(c),o)},J=function(){return[t,n,r,o,a,i,u,_,R,E,g,C,k,I,T,D,x,$,Ie,oe,ae]},Z=function(){return[t,n,r,o,a,i,m,f,S,b,L,v,g,W,q,C,P,N,M,w,A,F,O,B,D,x,U,z,Re,oe]},ee=function(){return[pe,ge,me,H,V]},te=function(){return[_e,fe]},ne=function(){return[he,me,G]},re=function(){return[ye]},oe=function(e){return postMessage(e,[e.buffer])},ae=function(e){return e&&e.size&&new t(e.size)},ie=function(e,t,n,r,o,a){var i=Y(n,r,o,function(e,t){i.terminate(),a(e,t)});return i.postMessage([e,t],t.consume?[e.buffer]:[]),function(){i.terminate()}},le=function(e){return e.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(t){return e.push(t.data[0],t.data[1])}},se=function(e,t,n,r,o){var a,i=Y(e,r,o,function(e,n){e?(i.terminate(),t.ondata.call(t,e)):(n[1]&&i.terminate(),t.ondata.call(t,e,n[0],n[1]))});i.postMessage(n),t.push=function(e,n){if(a)throw"stream finished";if(!t.ondata)throw"no stream handler";i.postMessage([e,a=n],[e.buffer])},t.terminate=function(){i.terminate()}},ue=function(e,t){return e[t]|e[t+1]<<8},ce=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},de=function(e,t){return ce(e,t)+ce(e,t+4)*4294967296},me=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},pe=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:t.level==9?2:0,e[9]=3,t.mtime!=0&&me(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},_e=function(e){if(e[0]!=31||e[1]!=139||e[2]!=8)throw"invalid gzip data";var t=e[3],n=10;t&4&&(n+=e[10]|(e[11]<<8)+2);for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(t&2)},fe=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},ge=function(e){return 10+(e.filename&&e.filename.length+1||0)},he=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)},ye=function(e){if((e[0]&15)!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(e[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Ce(e,t){return!t&&typeof e=="function"&&(t=e,e={}),this.ondata=t,e}var be=(function(){function e(e,t){!t&&typeof e=="function"&&(t=e,e={}),this.ondata=t,this.o=e||{}}return e.prototype.p=function(e,t){this.ondata(z(e,this.o,0,0,!t),t)},e.prototype.push=function(e,t){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=t,this.p(e,t||!1)},e})();d.Deflate=be;var ve=(function(){function e(e,t){se([Z,function(){return[le,be]}],this,Ce.call(this,e,t),function(e){var t=new be(e.data);onmessage=le(t)},6)}return e})();d.AsyncDeflate=ve;function Se(e,t,n){if(n||(n=t,t={}),typeof n!="function")throw"no callback";return ie(e,t,[Z],function(e){return oe(Re(e.data[0],e.data[1]))},0,n)}d.deflate=Se;function Re(e,t){return z(e,t||{},0,0)}d.deflateSync=Re;var Le=(function(){function e(e){this.s={},this.p=new t(0),this.ondata=e}return e.prototype.e=function(e){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var n=this.p.length,r=new t(n+e.length);r.set(this.p),r.set(e,n),this.p=r},e.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,n=$(this.p,this.o,this.s);this.ondata(x(n,t,this.s.b),this.d),this.o=x(n,this.s.b-32768),this.s.b=this.o.length,this.p=x(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e})();d.Inflate=Le;var Ee=(function(){function e(e){this.ondata=e,se([J,function(){return[le,Le]}],this,0,function(){var e=new Le;onmessage=le(e)},7)}return e})();d.AsyncInflate=Ee;function ke(e,t,n){if(n||(n=t,t={}),typeof n!="function")throw"no callback";return ie(e,t,[J],function(e){return oe(Ie(e.data[0],ae(e.data[1])))},1,n)}d.inflate=ke;function Ie(e,t){return $(e,t)}d.inflateSync=Ie;var Te=(function(){function e(e,t){this.c=H(),this.l=0,this.v=1,be.call(this,e,t)}return e.prototype.push=function(e,t){be.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e),this.l+=e.length;var n=z(e,this.o,this.v&&ge(this.o),t&&8,!t);this.v&&(pe(n,this.o),this.v=0),t&&(me(n,n.length-8,this.c.d()),me(n,n.length-4,this.l)),this.ondata(n,t)},e})();d.Gzip=Te,d.Compress=Te;var De=(function(){function e(e,t){se([Z,ee,function(){return[le,be,Te]}],this,Ce.call(this,e,t),function(e){var t=new Te(e.data);onmessage=le(t)},8)}return e})();d.AsyncGzip=De,d.AsyncCompress=De;function xe(e,t,n){if(n||(n=t,t={}),typeof n!="function")throw"no callback";return ie(e,t,[Z,ee,function(){return[$e]}],function(e){return oe($e(e.data[0],e.data[1]))},2,n)}d.gzip=xe,d.compress=xe;function $e(e,t){t||(t={});var n=H(),r=e.length;n.p(e);var o=z(e,t,ge(t),8),a=o.length;return pe(o,t),me(o,a-8,n.d()),me(o,a-4,r),o}d.gzipSync=$e,d.compressSync=$e;var Pe=(function(){function e(e){this.v=1,Le.call(this,e)}return e.prototype.push=function(e,t){if(Le.prototype.e.call(this,e),this.v){var n=this.p.length>3?_e(this.p):4;if(n>=this.p.length&&!t)return;this.p=this.p.subarray(n),this.v=0}if(t){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}Le.prototype.c.call(this,t)},e})();d.Gunzip=Pe;var Ne=(function(){function e(e){this.ondata=e,se([J,te,function(){return[le,Le,Pe]}],this,0,function(){var e=new Pe;onmessage=le(e)},9)}return e})();d.AsyncGunzip=Ne;function Me(e,t,n){if(n||(n=t,t={}),typeof n!="function")throw"no callback";return ie(e,t,[J,te,function(){return[we]}],function(e){return oe(we(e.data[0]))},3,n)}d.gunzip=Me;function we(e,n){return $(e.subarray(_e(e),-8),n||new t(fe(e)))}d.gunzipSync=we;var Ae=(function(){function e(e,t){this.c=G(),this.v=1,be.call(this,e,t)}return e.prototype.push=function(e,t){be.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e);var n=z(e,this.o,this.v&&2,t&&4,!t);this.v&&(he(n,this.o),this.v=0),t&&me(n,n.length-4,this.c.d()),this.ondata(n,t)},e})();d.Zlib=Ae;var Fe=(function(){function e(e,t){se([Z,ne,function(){return[le,be,Ae]}],this,Ce.call(this,e,t),function(e){var t=new Ae(e.data);onmessage=le(t)},10)}return e})();d.AsyncZlib=Fe;function Oe(e,t,n){if(n||(n=t,t={}),typeof n!="function")throw"no callback";return ie(e,t,[Z,ne,function(){return[Be]}],function(e){return oe(Be(e.data[0],e.data[1]))},4,n)}d.zlib=Oe;function Be(e,t){t||(t={});var n=G();n.p(e);var r=z(e,t,2,4);return he(r,t),me(r,r.length-4,n.d()),r}d.zlibSync=Be;var We=(function(){function e(e){this.v=1,Le.call(this,e)}return e.prototype.push=function(e,t){if(Le.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}if(t){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}Le.prototype.c.call(this,t)},e})();d.Unzlib=We;var qe=(function(){function e(e){this.ondata=e,se([J,re,function(){return[le,Le,We]}],this,0,function(){var e=new We;onmessage=le(e)},11)}return e})();d.AsyncUnzlib=qe;function Ue(e,t,n){if(n||(n=t,t={}),typeof n!="function")throw"no callback";return ie(e,t,[J,re,function(){return[Ve]}],function(e){return oe(Ve(e.data[0],ae(e.data[1])))},5,n)}d.unzlib=Ue;function Ve(e,t){return $((ye(e),e.subarray(2,-4)),t)}d.unzlibSync=Ve;var He=(function(){function e(e){this.G=Pe,this.I=Le,this.Z=We,this.ondata=e}return e.prototype.push=function(e,n){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(e,n);else{if(this.p&&this.p.length){var r=new t(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var o=this,a=function(){o.ondata.apply(o,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(a):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(a):new this.Z(a),this.s.push(this.p,n),this.p=null}}},e})();d.Decompress=He;var Ge=(function(){function e(e){this.G=Ne,this.I=Ee,this.Z=qe,this.ondata=e}return e.prototype.push=function(e,t){He.prototype.push.call(this,e,t)},e})();d.AsyncDecompress=Ge;function ze(e,t,n){if(n||(n=t,t={}),typeof n!="function")throw"no callback";return e[0]==31&&e[1]==139&&e[2]==8?Me(e,t,n):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?ke(e,t,n):Ue(e,t,n)}d.decompress=ze;function je(e,t){return e[0]==31&&e[1]==139&&e[2]==8?we(e,t):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?Ie(e,t):Ve(e,t)}d.decompressSync=je;var Ke=function(e,n,r,o){for(var a in e){var i=e[a],l=n+a;i instanceof t?r[l]=[i,o]:Array.isArray(i)?r[l]=[i[0],j(o,i[1])]:Ke(i,l+"/",r,o)}},Qe=typeof TextEncoder!="undefined"&&new TextEncoder,Xe=typeof TextDecoder!="undefined"&&new TextDecoder,Ye=0;try{Xe.decode(q,{stream:!0}),Ye=1}catch(e){}var Je=function(e){for(var t="",n=0;;){var r=e[n++],o=(r>127)+(r>223)+(r>239);if(n+o>e.length)return[t,x(e,n-1)];o?o==3?(r=((r&15)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,t+=String.fromCharCode(55296|r>>10,56320|r&1023)):o&1?t+=String.fromCharCode((r&31)<<6|e[n++]&63):t+=String.fromCharCode((r&15)<<12|(e[n++]&63)<<6|e[n++]&63):t+=String.fromCharCode(r)}},Ze=(function(){function e(e){this.ondata=e,Ye?this.t=new TextDecoder:this.p=q}return e.prototype.push=function(e,n){if(!this.ondata)throw"no callback";if(n=!!n,this.t){if(this.ondata(this.t.decode(e,{stream:!0}),n),n){if(this.t.decode().length)throw"invalid utf-8 data";this.t=null}return}if(!this.p)throw"stream finished";var r=new t(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length);var o=Je(r),a=o[0],i=o[1];if(n){if(i.length)throw"invalid utf-8 data";this.p=null}else this.p=i;this.ondata(a,n)},e})();d.DecodeUTF8=Ze;var et=(function(){function e(e){this.ondata=e}return e.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(this.d)throw"stream finished";this.ondata(tt(e),this.d=t||!1)},e})();d.EncodeUTF8=et;function tt(e,n){if(n){for(var r=new t(e.length),o=0;o<e.length;++o)r[o]=e.charCodeAt(o);return r}if(Qe)return Qe.encode(e);for(var a=e.length,i=new t(e.length+(e.length>>1)),l=0,s=function(e){i[l++]=e},o=0;o<a;++o){if(l+5>i.length){var u=new t(l+8+(a-o<<1));u.set(i),i=u}var c=e.charCodeAt(o);c<128||n?s(c):c<2048?(s(192|c>>6),s(128|c&63)):c>55295&&c<57344?(c=65536+(c&1047552)|e.charCodeAt(++o)&1023,s(240|c>>18),s(128|c>>12&63),s(128|c>>6&63),s(128|c&63)):(s(224|c>>12),s(128|c>>6&63),s(128|c&63))}return x(i,0,l)}d.strToU8=tt;function nt(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}else{if(Xe)return Xe.decode(e);var o=Je(e),a=o[0],i=o[1];if(i.length)throw"invalid utf-8 data";return a}}d.strFromU8=nt;var rt=function(e){return e==1?3:e<6?2:e==9?1:0},ot=function(e,t){return t+30+ue(e,t+26)+ue(e,t+28)},at=function(e,t,n){var r=ue(e,t+28),o=nt(e.subarray(t+46,t+46+r),!(ue(e,t+8)&2048)),a=t+46+r,i=ce(e,t+20),l=n&&i==4294967295?it(e,a):[i,ce(e,t+24),ce(e,t+42)],s=l[0],u=l[1],c=l[2];return[ue(e,t+10),s,u,o,a+ue(e,t+30)+ue(e,t+32),c]},it=function(e,t){for(;ue(e,t)!=1;t+=4+ue(e,t+2));return[de(e,t+12),de(e,t+4),de(e,t+20)]},lt=function(e){var t=0;if(e)for(var n in e){var r=e[n].length;if(r>65535)throw"extra field too long";t+=r+4}return t},st=function(e,t,n,r,o,a,i,l){var s=r.length,u=n.extra,c=l&&l.length,d=lt(u);me(e,t,i!=null?33639248:67324752),t+=4,i!=null&&(e[t++]=20,e[t++]=n.os),e[t]=20,t+=2,e[t++]=n.flag<<1|(a==null&&8),e[t++]=o&&8,e[t++]=n.compression&255,e[t++]=n.compression>>8;var m=new Date(n.mtime==null?Date.now():n.mtime),p=m.getFullYear()-1980;if(p<0||p>119)throw"date not in range 1980-2099";if(me(e,t,p<<25|m.getMonth()+1<<21|m.getDate()<<16|m.getHours()<<11|m.getMinutes()<<5|m.getSeconds()>>>1),t+=4,a!=null&&(me(e,t,n.crc),me(e,t+4,a),me(e,t+8,n.size)),me(e,t+12,s),me(e,t+14,d),t+=16,i!=null&&(me(e,t,c),me(e,t+6,n.attrs),me(e,t+10,i),t+=14),e.set(r,t),t+=s,d)for(var _ in u){var f=u[_],g=f.length;me(e,t,+_),me(e,t+2,g),e.set(f,t+4),t+=4+g}return c&&(e.set(l,t),t+=c),t},ut=function(e,t,n,r,o){me(e,t,101010256),me(e,t+8,n),me(e,t+10,n),me(e,t+12,r),me(e,t+16,o)},ct=(function(){function e(e){this.filename=e,this.c=H(),this.size=0,this.compression=0}return e.prototype.process=function(e,t){this.ondata(null,e,t)},e.prototype.push=function(e,t){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},e})();d.ZipPassThrough=ct;var dt=(function(){function e(e,t){var n=this;t||(t={}),ct.call(this,e),this.d=new be(t,function(e,t){n.ondata(null,e,t)}),this.compression=8,this.flag=rt(t.level)}return e.prototype.process=function(e,t){try{this.d.push(e,t)}catch(e){this.ondata(e,null,t)}},e.prototype.push=function(e,t){ct.prototype.push.call(this,e,t)},e})();d.ZipDeflate=dt;var mt=(function(){function e(e,t){var n=this;t||(t={}),ct.call(this,e),this.d=new ve(t,function(e,t,r){n.ondata(e,t,r)}),this.compression=8,this.flag=rt(t.level),this.terminate=this.d.terminate}return e.prototype.process=function(e,t){this.d.push(e,t)},e.prototype.push=function(e,t){ct.prototype.push.call(this,e,t)},e})();d.AsyncZipDeflate=mt;var pt=(function(){function e(e){this.ondata=e,this.u=[],this.d=1}return e.prototype.add=function(e){var n=this;if(this.d&2)throw"stream finished";var r=tt(e.filename),o=r.length,a=e.comment,i=a&&tt(a),l=o!=e.filename.length||i&&a.length!=i.length,s=o+lt(e.extra)+30;if(o>65535)throw"filename too long";var u=new t(s);st(u,0,e,r,l);var c=[u],d=function(){for(var e=0,t=c;e<t.length;e++){var r=t[e];n.ondata(null,r,!1)}c=[]},m=this.d;this.d=0;var p=this.u.length,_=j(e,{f:r,u:l,o:i,t:function(){e.terminate&&e.terminate()},r:function(){if(d(),m){var e=n.u[p+1];e?e.r():n.d=1}m=1}}),f=0;e.ondata=function(r,o,a){if(r)n.ondata(r,o,a),n.terminate();else if(f+=o.length,c.push(o),a){var i=new t(16);me(i,0,134695760),me(i,4,e.crc),me(i,8,f),me(i,12,e.size),c.push(i),_.c=f,_.b=s+f+16,_.crc=e.crc,_.size=e.size,m&&_.r(),m=1}else m&&d()},this.u.push(_)},e.prototype.end=function(){var e=this;if(this.d&2)throw this.d&1?"stream finishing":"stream finished";this.d?this.e():this.u.push({r:function(){e.d&1&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3},e.prototype.e=function(){for(var e=0,n=0,r=0,o=0,a=this.u;o<a.length;o++){var i=a[o];r+=46+i.f.length+lt(i.extra)+(i.o?i.o.length:0)}for(var l=new t(r+22),s=0,u=this.u;s<u.length;s++){var i=u[s];st(l,e,i,i.f,i.u,i.c,n,i.o),e+=46+i.f.length+lt(i.extra)+(i.o?i.o.length:0),n+=i.b}ut(l,e,this.u.length,r,n),this.ondata(null,l,!0),this.d=2},e.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++){var n=t[e];n.t()}this.d=2},e})();d.Zip=pt;function _t(e,n,r){if(r||(r=n,n={}),typeof r!="function")throw"no callback";var o={};Ke(e,"",o,n);var a=Object.keys(o),i=a.length,l=0,s=0,u=i,c=new Array(i),d=[],m=function(){for(var e=0;e<d.length;++e)d[e]()},p=function(){var e=new t(s+22),n=l,o=s-l;s=0;for(var a=0;a<u;++a){var i=c[a];try{var d=i.c.length;st(e,s,i,i.f,i.u,d);var m=30+i.f.length+lt(i.extra),p=s+m;e.set(i.c,p),st(e,l,i,i.f,i.u,d,s,i.m),l+=16+m+(i.m?i.m.length:0),s=p+d}catch(e){return r(e,null)}}ut(e,l,c.length,o,n),r(null,e)};i||p();for(var _=function(e){var t=a[e],n=o[t],u=n[0],_=n[1],f=H(),g=u.length;f.p(u);var h=tt(t),y=h.length,C=_.comment,b=C&&tt(C),v=b&&b.length,S=lt(_.extra),R=_.level==0?0:8,L=function(n,o){if(n)m(),r(n,null);else{var a=o.length;c[e]=j(_,{size:g,crc:f.d(),c:o,f:h,m:b,u:y!=t.length||b&&C.length!=v,compression:R}),l+=30+y+S+a,s+=76+2*(y+S)+(v||0)+a,--i||p()}};if(y>65535&&L("filename too long",null),!R)L(null,u);else if(g<16e4)try{L(null,Re(u,_))}catch(e){L(e,null)}else d.push(Se(u,_,L))},f=0;f<u;++f)_(f);return m}d.zip=_t;function ft(e,n){n||(n={});var r={},o=[];Ke(e,"",r,n);var a=0,i=0;for(var l in r){var s=r[l],u=s[0],c=s[1],d=c.level==0?0:8,m=tt(l),p=m.length,_=c.comment,f=_&&tt(_),g=f&&f.length,h=lt(c.extra);if(p>65535)throw"filename too long";var y=d?Re(u,c):u,C=y.length,b=H();b.p(u),o.push(j(c,{size:u.length,crc:b.d(),c:y,f:m,m:f,u:p!=l.length||f&&_.length!=g,o:a,compression:d})),a+=30+p+h+C,i+=76+2*(p+h)+(g||0)+C}for(var v=new t(i+22),S=a,R=i-a,L=0;L<o.length;++L){var m=o[L];st(v,m.o,m,m.f,m.u,m.c.length);var E=30+m.f.length+lt(m.extra);v.set(m.c,m.o+E),st(v,a,m,m.f,m.u,m.c.length,m.o,m.m),a+=16+E+(m.m?m.m.length:0)}return ut(v,a,o.length,R,S),v}d.zipSync=ft;var gt=(function(){function e(){}return e.prototype.push=function(e,t){this.ondata(null,e,t)},e.compression=0,e})();d.UnzipPassThrough=gt;var ht=(function(){function e(){var e=this;this.i=new Le(function(t,n){e.ondata(null,t,n)})}return e.prototype.push=function(e,t){try{this.i.push(e,t)}catch(n){this.ondata(n,e,t)}},e.compression=8,e})();d.UnzipInflate=ht;var yt=(function(){function e(e,t){var n=this;t<32e4?this.i=new Le(function(e,t){n.ondata(null,e,t)}):(this.i=new Ee(function(e,t,r){n.ondata(e,t,r)}),this.terminate=this.i.terminate)}return e.prototype.push=function(e,t){this.i.terminate&&(e=x(e,0)),this.i.push(e,t)},e.compression=8,e})();d.AsyncUnzipInflate=yt;var Ct=(function(){function e(e){this.onfile=e,this.k=[],this.o={0:gt},this.p=q}return e.prototype.push=function(e,n){var r=this;if(!this.onfile)throw"no callback";if(!this.p)throw"stream finished";if(this.c>0){var o=Math.min(this.c,e.length),a=e.subarray(0,o);if(this.c-=o,this.d?this.d.push(a,!this.c):this.k[0].push(a),e=e.subarray(o),e.length)return this.push(e,n)}else{var i=0,l=0,s=void 0,u=void 0;this.p.length?e.length?(u=new t(this.p.length+e.length),u.set(this.p),u.set(e,this.p.length)):u=this.p:u=e;for(var c=u.length,d=this.c,m=d&&this.d,p=function(){var e,t=ce(u,l);if(t==67324752){i=1,s=l,_.d=null,_.c=0;var n=ue(u,l+6),o=ue(u,l+8),a=n&2048,m=n&8,p=ue(u,l+26),f=ue(u,l+28);if(c>l+30+p+f){var g=[];_.k.unshift(g),i=2;var h=ce(u,l+18),y=ce(u,l+22),C=nt(u.subarray(l+30,l+=30+p),!a);h==4294967295?(e=m?[-2]:it(u,l),h=e[0],y=e[1]):m&&(h=-1),l+=f,_.c=h;var b,v={name:C,compression:o,start:function(){if(!v.ondata)throw"no callback";if(!h)v.ondata(null,q,!0);else{var e=r.o[o];if(!e)throw"unknown compression type "+o;b=h<0?new e(C):new e(C,h,y),b.ondata=function(e,t,n){v.ondata(e,t,n)};for(var t=0,n=g;t<n.length;t++){var a=n[t];b.push(a,!1)}r.k[0]==g&&r.c?r.d=b:b.push(q,!0)}},terminate:function(){b&&b.terminate&&b.terminate()}};h>=0&&(v.size=h,v.originalSize=y),_.onfile(v)}return"break"}else if(d){if(t==134695760)return s=l+=12+(d==-2&&8),i=3,_.c=0,"break";if(t==33639248)return s=l-=4,i=3,_.c=0,"break"}},_=this;l<c-4;++l){var f=p();if(f==="break")break}if(this.p=q,d<0){var g=i?u.subarray(0,s-12-(d==-2&&8)-(ce(u,s-16)==134695760&&4)):u.subarray(0,l);m?m.push(g,!!i):this.k[+(i==2)].push(g)}if(i&2)return this.push(u.subarray(l),n);this.p=u.subarray(l)}if(n){if(this.c)throw"invalid zip file";this.p=null}},e.prototype.register=function(e){this.o[e.compression]=e},e})();d.Unzip=Ct;function bt(e,n){if(typeof n!="function")throw"no callback";for(var r=[],o=function(){for(var e=0;e<r.length;++e)r[e]()},a={},i=e.length-22;ce(e,i)!=101010256;--i)if(!i||e.length-i>65558){n("invalid zip file",null);return}var l=ue(e,i+8);l||n(null,{});var s=l,u=ce(e,i+16),c=u==4294967295;if(c){if(i=ce(e,i-12),ce(e,i)!=101075792){n("invalid zip file",null);return}s=l=ce(e,i+32),u=ce(e,i+48)}for(var d=function(i){var s=at(e,u,c),d=s[0],m=s[1],p=s[2],_=s[3],f=s[4],g=s[5],h=ot(e,g);u=f;var y=function(e,t){e?(o(),n(e,null)):(a[_]=t,--l||n(null,a))};if(!d)y(null,x(e,h,h+m));else if(d==8){var C=e.subarray(h,h+m);if(m<32e4)try{y(null,Ie(C,new t(p)))}catch(e){y(e,null)}else r.push(ke(C,{size:p},y))}else y("unknown compression type "+d,null)},m=0;m<s;++m)d(m);return o}d.unzip=bt;function vt(e){for(var n={},r=e.length-22;ce(e,r)!=101010256;--r)if(!r||e.length-r>65558)throw"invalid zip file";var o=ue(e,r+8);if(!o)return{};var a=ce(e,r+16),i=a==4294967295;if(i){if(r=ce(e,r-12),ce(e,r)!=101075792)throw"invalid zip file";o=ce(e,r+32),a=ce(e,r+48)}for(var l=0;l<o;++l){var s=at(e,a,i),u=s[0],c=s[1],d=s[2],m=s[3],p=s[4],_=s[5],f=ot(e,_);if(a=p,!u)n[m]=x(e,f,f+c);else if(u==8)n[m]=Ie(e.subarray(f,f+c),new t(d));else throw"unknown compression type "+u}return n}d.unzipSync=vt}var _=!1;function f(){return _||(_=!0,p()),m.exports}function g(e){switch(e){case void 0:return f()}}a.exports=g}),null);
__d("fflate",["fflate-0.6.10"],(function(t,n,r,o,a,i){a.exports=n("fflate-0.6.10")()}),null);
__d("EncryptedBackupsDYIZipUtils",["EncryptedBackupsDYIFileUtils","asyncToGeneratorRuntime","fflate"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m;function p(e,t,n,r,o,a){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r,a,i,l){var p=yield o("EncryptedBackupsDYIFileUtils").getRootFolderHandle(),_=yield p.getFileHandle("messages.zip",{create:!0});a("stream_file_start");var g=yield _.createWritable({keepExisting:!1,mode:"exclusive"}),h=new(o("fflate")).Zip,y=0;h.ondata=function(t,n,o){if(t){r.ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Generic stream error"]))),a("stream_file_error"),l(t);return}y++,y%1e3===0&&r.LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Writing chunk #",""])),y),g.write(n).catch(function(e){r.ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Error during data event"]))),a("stream_file_error"),l(e)}),o&&(r.LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Finished ZIP file generation. Saving the results"]))),a("stream_file_end"),a("write_file_start"),g.close().then(function(){a("write_file_end"),r.LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Closed the writing stream"]))),i()}).catch(function(e){r.ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Error during end event"]))),a("write_file_error"),l(e)}))};for(var C of t){var b=C.threadName+".json",v=new(o("fflate")).ZipDeflate(b,{level:9}),S=new TextEncoder().encode(JSON.stringify(C,null,2));h.add(v),v.push(S,!0)}for(var R of n)yield f(h,R);h.end()}),_.apply(this,arguments)}function f(e,t){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=t.split("/").pop(),r=yield o("EncryptedBackupsDYIFileUtils").getMediaFolderHandle(),a=yield o("EncryptedBackupsDYIFileUtils").readFile(r,n!=null?n:t),i=yield a.arrayBuffer(),l=new Uint8Array(i),s=new(o("fflate")).ZipPassThrough(t);e.add(s),s.push(l,!0)}),g.apply(this,arguments)}l.generateZipFile=p}),98);
__d("EncryptedBackupsDYISingleton",["EncryptedBackupsDYIFileUtils","EncryptedBackupsDYIGenerateThreadMetadata","EncryptedBackupsDYISingletonFactory","EncryptedBackupsDYITypes","EncryptedBackupsDYIZipUtils","FBLogger","I64","LSIntEnum","MAWBridge","MAWQplProxy","WAHashUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=["senderId"],s,u,c,d,m,p,_,f,g,h,y,C,b,v=null;function S(){try{return WorkerGlobalScope!==void 0&&self instanceof WorkerGlobalScope}catch(e){return!1}}function R(e,t,n){if(v==null)switch(e){case o("EncryptedBackupsDYITypes").EncryptedBackupsDYIConfig.Armadillo:if(S())throw r("FBLogger")("wmi_eb").mustfixThrow("EncryptedBackupsDYISingleton for Armadillo can only be initialised in the main thread");v=o("EncryptedBackupsDYISingletonFactory").getMAWEncryptedBackupsDYISingleton(t,n);break;case o("EncryptedBackupsDYITypes").EncryptedBackupsDYIConfig.Instamadillo:if(!S())throw r("FBLogger")("wmi_eb").mustfixThrow("EncryptedBackupsDYISingleton for Instamadillo can only be initialised in the worker");v=o("EncryptedBackupsDYISingletonFactory").getIGDEncryptedBackupsDYISingleton(t,n);break}}function L(){if(v==null)throw r("FBLogger")("wmi_eb").mustfixThrow("EncryptedBackupsDYISingleton is not initialised. Please call EncryptedBackupsDYISingleton.initSingleton() first.");return v}var E=(function(){function t(e,t,n,r){this.$5=new Map,this.$6=new Set,this.$7=new Set,this.$8=new Map,this.$9=new Map,this.$10=new Map,this.$11=new Map,this.$12=new Map,this.$1=e,this.$2=t,this.$3=n,this.$4=r}var r=t.prototype;return r.getDB=function(){return this.$1()},r.getLogger=function(){return this.$4},r.getAllMediaUrls=function(){return Array.from(this.$5.values())},r.$13=function(t){return this.$5.get(t)},r.setMediaUrlByPlainTextHash=function(t,n){this.$5.has(t)||this.$5.set(t,n)},r.addThreadKeyToThreadsRestoreInProgress=function(t){this.$6.add(t)},r.isThreadRestoreInProgressForThreadKey=function(t){return this.$6.has(t)},r.deleteThreadKeyFromThreadsRestoreInProgress=function(t){this.$6.delete(t),this.$4.LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Finished handling message range queries for thread with thread key ",". "," threads left"])),t,this.$6.size),this.$14()&&(this.$4.LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["DYI flow complete - generating output"]))),this.$15())},r.isThreadsRestoreComplete=function(){return this.$6.size===0},r.addPlaintextHashToAttachmentDownloadsInProgress=function(t){this.$7.add(t),this.$4.LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Started processing attachment with plaintext hash ","."])),o("WAHashUtils").sanitisePlaintextHash(t))},r.deletePlaintextHashFromAttachmentDownloadsInProgress=function(t){this.$7.delete(t),this.$4.LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Finished processing attachment with plaintext hash ",". "," attachments left"])),o("WAHashUtils").sanitisePlaintextHash(t),this.$7.size),this.$7.size<30&&this.$4.LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Remaining attachments: ",""])),Array.from(this.$7).map(o("WAHashUtils").sanitisePlaintextHash).join(", ")),this.$14()&&(this.$4.LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["DYI flow complete - generating output"]))),this.$15())},r.isAttachmentDownloadInProgressForPlaintextHash=function(t){return this.$7.has(t)},r.isAttachmentDownloadCompleteForPlaintextHash=function(t){return!!this.$5.get(t)},r.isAttachmentDownloadComplete=function(){return this.$7.size===0},r.setMessagesByThreadKey=function(t,n,r){var e=this.getMessagesByThreadKey(t);e.set(n,r)},r.getMessagesByThreadKey=function(t){return this.$16(t)||this.$8.set(t,new Map),this.$8.get(t)},r.$16=function(t){return this.$8.has(t)},r.hasMessage=function(t,n){var e=this.$8.get(t);return e==null?!1:e.has(n)},r.getThreadIdForThreadKey=function(t){return this.$10.get(t)},r.getThreadKeyForThreadId=function(t){return this.$11.get(t)},r.setThreadMapping=function(t,n){this.$10.set(t,n),this.$11.set(n,t)},r.setThreadMetaDataByThreadKey=function(t,n,r){this.$9.set(t,{participants:n,threadName:r})},r.getThreadMetadataMap=function(){return this.$9},r.setContactNameForContactId=function(t,n){this.$12.set(t,n)},r.getContactNameForContactId=function(t){return this.$12.get(t)},r.getContactNameMap=function(){return this.$12},r.getOutput=function(){var t=this;return Array.from(this.getThreadMetadataMap(),function(n){var r=n[0],o=n[1],a=t.$16(r),i=a?Array.from(t.getMessagesByThreadKey(r),function(e){var n=e[0],r=e[1];return babelHelpers.extends({},r,{media:Array.from(r.media,function(e){var n=t.$13(e);return{uri:n!=null?"./"+n:"Failed to download media"}})})}):[];i=i.map(function(n){var r=n.senderId,o=babelHelpers.objectWithoutPropertiesLoose(n,e);if(r!=null&&o.senderName==="Unknown User"){var a=t.getContactNameForContactId(r);if(a!=null)return babelHelpers.extends({},o,{senderName:a})}return n});var l=i.sort(function(e,t){return typeof e.timestamp=="number"&&typeof t.timestamp=="number"?e.timestamp-t.timestamp:0});return babelHelpers.extends({},o,{messages:l})})},r.$14=function(){return this.isAttachmentDownloadComplete()&&this.isThreadsRestoreComplete()},r.$17=function(t){switch(t){case 0:return o("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.InProgress;case 1:return o("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Completed;case 2:return o("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed;case-1:default:return o("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.NotStarted}},r.updateDYIStatus=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,r=yield this.getDB();yield r.runInTransaction((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){yield t.encrypted_backups_dyi_backup_restore_status.put({currentStatus:(C||(C=o("LSIntEnum"))).ofNumber(e),pk:(b||(b=o("I64"))).zero})});return function(e){return t.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":521"),o("MAWBridge").getBridge().fireAndForget("event","updateDYIStatus",{qplEvent:this.$2,qplInstanceKeyE2E:(t=this.$3)!=null?t:void 0,status:this.$17(e)})});function t(t){return e.apply(this,arguments)}return t})(),r.$18=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=this,t=new Set;this.getContactNameMap().forEach(function(e,n){e==="Unknown User"&&t.add(n)});var n=yield this.getDB(),r=yield o("EncryptedBackupsDYIGenerateThreadMetadata").getAllUnmappedContacts(n,t);r.forEach(function(t){var n=(b||(b=o("I64"))).to_string(t.id);e.setContactNameForContactId(n,t.name)}),this.$4.LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["Fetched remaining contact names, total of "," contacts"])),this.getContactNameMap().size.toString())});function t(){return e.apply(this,arguments)}return t})(),r.$15=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=this;this.logDYIQPLPoint("complete_dyi_flow_start"),yield this.$18(),this.$4.LOG(f||(f=babelHelpers.taggedTemplateLiteralLoose(["Generating output"])));var t=this.getOutput(),r=Array.from(this.$5.values());this.$4.LOG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["Generating zip file"]))),yield o("EncryptedBackupsDYIZipUtils").generateZipFile(t,r,this.$4,function(t,n){e.logDYIQPLPoint(t,n)},n("asyncToGeneratorRuntime").asyncToGenerator(function*(){e.logDYIQPLPoint("complete_dyi_flow_end"),yield e.updateDYIStatus(1),e.clear()}),(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){e.$4.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate zip file: ",""])),t),e.logDYIQPLPoint("complete_dyi_flow_error"),yield e.updateDYIStatus(2),e.clear()});return function(e){return t.apply(this,arguments)}})())});function t(){return e.apply(this,arguments)}return t})(),r.exitDYIEarly=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){t!=null&&this.$4.LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["DYI Exiting Early - Found "," instamadillo threads"])),t),this.logDYIQPLPoint("dyi_exit_early",{int:{dyi_threads:t}}),yield this.updateDYIStatus(e?2:1),this.clear()});function t(t,n){return e.apply(this,arguments)}return t})(),r.clear=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){this.$5=new Map,this.$6=new Set,this.$7=new Set,this.$8=new Map,this.$9=new Map;var e=yield o("EncryptedBackupsDYIFileUtils").getRootFolderHandle();yield e.removeEntry(o("EncryptedBackupsDYIFileUtils").DyiMediaFolder,{recursive:!0})});function t(){return e.apply(this,arguments)}return t})(),r.logDYIQPLPoint=function(t,n){this.$3!=null&&o("MAWQplProxy").sendQplPointThroughBridge(this.$2,t,{annotations:n,instanceKey:this.$3})},t})();l.initSingleton=R,l.getSingleton=L,l.EncryptedBackupsDYISingleton=E}),98);
__d("EncryptedBackupsDYISingletonFactory",["EncryptedBackupsDYISingleton","WATagsLogger","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return new(o("EncryptedBackupsDYISingleton")).EncryptedBackupsDYISingleton(e,r("qpl")._(521478596,"1329"),t,o("WATagsLogger").TAGS(["labyrinth_web","labyrinth_dyi",t==null?"":t.toString()]))}function s(e,t){return new(o("EncryptedBackupsDYISingleton")).EncryptedBackupsDYISingleton(e,r("qpl")._(521479842,"2163"),t,o("WATagsLogger").TAGS(["igd_labyrinth_web","igd_dyi",t==null?"":t.toString()]))}l.getMAWEncryptedBackupsDYISingleton=e,l.getIGDEncryptedBackupsDYISingleton=s}),98);
__d("EncryptedBackupsDYIMediaManager",["Promise","WAMediaManager","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e,s=null,u=new Map,c=new Map;function d(e,t,n){var r=u.get(e);r==null?u.set(e,new Map([[t,n]])):r.set(t,n)}function m(e,t,n){c.set(e,{protocolMsgId:t,sortOrderMs:n})}function p(e){c.delete(e)}function _(){u.clear(),c.clear(),s=null}function f(){return s==null&&(s=o("WAMediaManager").createMediaManager({dbCallbacks:{getMediaEntries:function(r){var t=u.get(r);return t==null?(e||(e=n("Promise"))).resolve(o("WAResultOrError").makeError("no-media-by-plaintext-hash")):(e||(e=n("Promise"))).resolve(o("WAResultOrError").makeResult(t))},getProtocolMsgIdAndSortOrderMs:function(r){return(e||(e=n("Promise"))).resolve(c.get(r))}}})),s}l.addMediaEntry=d,l.addMessage=m,l.deleteMessage=p,l.cleanup=_,l.dyiMediaManager=f}),98);
__d("MAWHandleMediaPreviewBeforeDownloadApi",["MAWMediaPreviewDownloadManager","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(r){return o("MAWMediaPreviewDownloadManager").markMediaPreviewAsDownloading(r),(e||(e=n("Promise"))).resolve()};l.handleMediaPreviewBeforeDownload=s}),98);
__d("MAWHandleMediaPreviewDownloadApi",["MAWBridgeTypesCreators","MAWDbMediaTxns","MAWDbMsgTxns","MAWDexieTable","MAWIndexedDb","MAWLoggerUtils","MAWMediaAfterTxns","MAWMediaDownloadStatus","MAWMediaDownloadStatusForUI","MAWMediaPreviewDownloadManager","MAWMediaUtils","MAWTransactionMode","MWFBLogger","WACryptoSha256","WAHashUtils","WAResultOrError","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MWFBLogger").MWMediaLogger().tags([o("MAWLoggerUtils").Tag.MediaDownload,o("MAWLoggerUtils").Tag.MessageReceive,"MediaPreview"]),c=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){var i=o("WAHashUtils").toPlaintextHash(yield o("WACryptoSha256").sha256(t));o("MAWMediaDownloadStatusForUI").sendMediaDownloadStatusToUI({details:"handle_media_download",hash:e,status:r("MAWMediaDownloadStatus").DOWNLOADING,type:"preview"});var l=o("MAWMediaPreviewDownloadManager").getMediaPreviewDownloadingResolvable(e);return l!=null&&(l.resolve(new Blob([t],{type:"image/jpeg"})),o("MAWMediaPreviewDownloadManager").removeMediaPreviewDownloadingResolvable(e)),d(e,i,t,n,a)});return function(n,r,o,a){return e.apply(this,arguments)}})(),d=o("MAWIndexedDb").makeMsgrTransactor({media:o("MAWTransactionMode").READWRITE,messages:o("MAWTransactionMode").READONLY,threads:o("MAWTransactionMode").READONLY},"handleMediaPreviewDownload",function(t){return(function(n,a,i,l,c){return o("MAWDexieTable").dexieAll([o("MAWDbMediaTxns").maybeGetMediaFromPlaintextHash(t,n),o("MAWDbMsgTxns").maybeGetMsgByProtocolMsgId(t,c)]).then(function(c){var d=c[0],m=c[1];if(u.DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Handling preview for main hash ","... preview hash ","..."])),o("WAHashUtils").sanitisePlaintextHash(n),o("WAHashUtils").sanitisePlaintextHash(a)),d==null)return o("MAWMediaDownloadStatusForUI").sendMediaDownloadStatusToUI({details:"missing_media_on_save",hash:n,status:r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE,type:"preview"}),u.WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Main media for preview is null. Type: ",""])),l),o("WAResultOrError").makeError("missing-media-on-save");var p=function(){switch(l){case"image":return t.media.update(d.mediaId,babelHelpers.extends({},d,{validatedImageInfo:babelHelpers.extends({},d.validatedImageInfo,{jpegThumbnail:i})}));case"video":return t.media.update(d.mediaId,babelHelpers.extends({},d,{validatedVideoInfo:babelHelpers.extends({},d.validatedVideoInfo,{jpegThumbnail:i})}));default:return o("MAWDexieTable").dexieResolve()}};return o("MAWMediaDownloadStatusForUI").sendMediaDownloadStatusToUI({details:"handle_media_download_success",hash:n,status:r("MAWMediaDownloadStatus").SUCCESS,type:"preview"}),p().then(function(){return t.messages.where("msgId").anyOf(d.msgIds).toArray().then(function(e){return t.threads.where("jid").anyOf(e.map(function(e){return e.threadJid})).toArray().then(function(n){return o("MAWDexieTable").dexieAll(n.map(function(n){var r=o("MAWMediaUtils").createHdTypesForBridgeMedia(e),a=o("MAWBridgeTypesCreators").createBridgeMedia({chatJid:n.jid,filteredMsgIds:o("MAWBridgeTypesCreators").getMsgIdsFilteredByJid(e,n.jid),hasMediaForUI:!0,hdTypes:r,media:d,sortOrderMs:m==null?void 0:m.sortOrderMs});return o("MAWMediaAfterTxns").handleNewMediaAfterTxnWithBridgeMedia(t,a,e)})).then(function(){return o("WAResultOrError").makeResult()})})})})})})});l.handleMediaPreviewDownload=c}),98);
__d("MAWHandleMediaPreviewDownloadAsFailedApi",["MAWMediaPreviewDownloadManager","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(r,a){return o("MAWMediaPreviewDownloadManager").markMediaPreviewAsFailed(r,a),(e||(e=n("Promise"))).resolve()};l.handleMediaPreviewDownloadFailed=s}),98);
__d("EncryptedBackupsDYIMediaDownload",["EBLogger","EncryptedBackupsDYIMediaManager","MAWDbMsg","MAWDownloadAndHandleMedia","Promise","WAHashUtils","WAResultOrError","WAStartMediaDownloadQplFlow","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=t.mediaEntry,a=t.plaintextHash,i=t.protocolMsgId,l=t.sortOrderMs,s=o("EncryptedBackupsDYIMediaManager").dyiMediaManager(),u=o("EBLogger").EBLogger().tags(["labyrinth_web","labyrinth_dyi"]),c=o("MAWDbMsg").toMsgId(i.chat+"_"+i.externalId+"_m");if(c==null)return u.mustfix("Failed to construct the msgId from protocolMsgId for media with plaintext hash: %s",o("WAHashUtils").sanitisePlaintextHash(a)),(e||(e=n("Promise"))).resolve(o("WAResultOrError").makeError("missing-media-entry"));o("EncryptedBackupsDYIMediaManager").addMediaEntry(a,c,r),o("EncryptedBackupsDYIMediaManager").addMessage(c,i,l);var d="DYIMediaManager",m=o("WAStartMediaDownloadQplFlow").startMediaDownloadQplFlow({downloadEntry:d,msgType:null,protocolMsgId:null,triggerUIView:null});u.debug("Enqueuing DYI media download for media with plaintext hash: %s",o("WAHashUtils").sanitisePlaintextHash(a));var p=yield s.enqueueDownloadFullSize({fullSizePlaintextHash:a,mediaDownloadFlow:m,priority:o("MAWDownloadAndHandleMedia").getPriorityFromDownloadEntry(d)});return p.success?m.endSuccess():m.endFail(p.error),p}),u.apply(this,arguments)}l.downloadDYIMedia=s}),98);
__d("EncryptedBackupsDYIMediaDownloadHandlers",["EncryptedBackupsDYIFileUtils","EncryptedBackupsDYISingleton","FBLogger","Promise","WAResultOrError","asyncToGeneratorRuntime","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){var i=yield o("EncryptedBackupsDYIFileUtils").getMediaFolderHandle(),l=t.split("/")[1],s=r("uuidv4")()+"."+l;yield o("EncryptedBackupsDYIFileUtils").writeFile(i,s,n);var u=o("EncryptedBackupsDYISingleton").getSingleton();return u.setMediaUrlByPlainTextHash(e,o("EncryptedBackupsDYIFileUtils").DyiMediaFolder+"/"+s),u.deletePlaintextHashFromAttachmentDownloadsInProgress(e),o("WAResultOrError").makeResult()});return function(n,r,o,a){return e.apply(this,arguments)}})(),u=function(){return r("FBLogger")("wmi_eb").debug("[DYIMediaPreviewHandler] Skipping previews for DYI"),(e||(e=n("Promise"))).resolve(o("WAResultOrError").makeResult())};l.DYIMediaDownloadHandler=s,l.DYIMediaPreviewHandler=u}),98);
__d("MebWAMediaDownloader",["MAWHandleMediaPreviewBeforeDownloadApi","MAWHandleMediaPreviewDownloadApi","MAWHandleMediaPreviewDownloadAsFailedApi","WAAPI","WAIsMediaExpiredError","WALogger","WAStartMediaDownloadQplFlow","WATimeUtils","asyncToGeneratorRuntime","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(function(){function t(e,t,n){this.mediaDownloadMetadata=e,this.downloadCallbacks=t,this.waApiDownloadCall=n}var a=t.prototype;return a.handle=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t,n=this.mediaDownloadMetadata.mediaEntry.mediaKeyTimestamp;if(n==null)return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][WAMediaDownloader] Cannot download media - missing mediaKeyTimestamp"]))),this.handleError();var a=!o("WATimeUtils").happenedWithin(n,29*o("WATimeUtils").DAY_SECONDS),i=(t=this.mediaDownloadMetadata.isUrlRenewed)!=null?t:!1;if(!i&&(a||r("gkx")("23960")))return o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] downloading media from MI directly"]))),this.handleUrlExpired();var l=this.mediaDownloadMetadata,u=l.hash,c=l.mediaEntry,d=l.protocolMsgId,m=yield this.waApiDownloadCall(u,c,d);return m.success?this.downloadCallbacks.onDownloadSuccess({mimeType:m.value.mimeType,plaintext:m.value.plaintext}):o("WAIsMediaExpiredError").isMediaExpiredError(m.error)?this.handleUrlExpired():this.handleError()});function a(){return t.apply(this,arguments)}return a})(),a.handleUrlExpired=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e;return yield this.downloadCallbacks.onUrlExpired(),(e=this.mediaDownloadHandler)==null?void 0:e.handle()});function t(){return e.apply(this,arguments)}return t})(),a.handleError=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e;return yield this.downloadCallbacks.onDownloadError(),(e=this.mediaDownloadHandler)==null?void 0:e.handle()});function t(){return e.apply(this,arguments)}return t})(),a.getDownloadMetadata=function(){return this.mediaDownloadMetadata},a.setNextHandler=function(t){this.mediaDownloadHandler=t},t})(),c=function(t,n,a){var e=o("WAStartMediaDownloadQplFlow").startMediaDownloadQplFlow({downloadEntry:"MebWAMediaDownloader",msgType:null,protocolMsgId:a,triggerUIView:null});return r("WAAPI").downloadMedia({downloadMediaMetric:e,handleMediaPreviewBeforeDownload:o("MAWHandleMediaPreviewBeforeDownloadApi").handleMediaPreviewBeforeDownload,handleMediaPreviewDownload:o("MAWHandleMediaPreviewDownloadApi").handleMediaPreviewDownload,handleMediaPreviewDownloadFailed:o("MAWHandleMediaPreviewDownloadAsFailedApi").handleMediaPreviewDownloadFailed,hash:t,mediaEntry:n,protocolMsgId:a})};l.MebWAMediaDownloader=u,l.MebWADownloadMediaFromWorker=c}),98);
__d("EncryptedBackupsDYIMessageProcessingUtils",["EncryptedBackupsDYIMediaDownloadHandlers","EncryptedBackupsDYISingleton","FBLogger","MAWBridge","MAWFrontendMediaUtils","MebWAMediaDownloader","Promise","WAHashUtils","WAJids","WALongInt","WAMediaUtils","WAProgressiveJpegGetScanLengths","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h;function y(e,t){return{isUnsent:!1,media:new Set,reactions:[],senderName:C(e),text:"",timestamp:t!=null?t:0,type:""}}function C(e){var t=o("EncryptedBackupsDYISingleton").getSingleton(),n="Unknown User";if(e!=null){var r=t.getContactNameForContactId(e);r!=null&&(n=r)}return n}function b(e,t,n,r){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){var i=o("EncryptedBackupsDYISingleton").getSingleton(),l=i.getLogger(),s=l.TAGS([o("WAHashUtils").sanitisePlaintextHash(e)]);r("FBLogger")("wmi_eb").tags(["labyrinth_dyi"]).debug("Sending the media download bridge call for plaintext hash: %s",o("WAHashUtils").sanitisePlaintextHash(e));var u=yield o("MAWBridge").getBridge().sendAndReceive("backend","dyiDownloadMediaV2",{mediaEntry:a,plaintextHash:e,protocolMsgId:t,sortOrderMs:n});if(r("FBLogger")("wmi_eb").tags(["labyrinth_dyi"]).debug("Received the media download result from the bridge for plaintext hash: %s, success: %s, error: %s",o("WAHashUtils").sanitisePlaintextHash(e),u.success?"true":"false",u.error),u.success){var c=u.value,d=c.unvalidatedMimeType,m=c.validatedResult,h=m.skipValidation?d:m.mimeType,y=yield o("EncryptedBackupsDYIMediaDownloadHandlers").DYIMediaDownloadHandler(e,h,m.validatedPlaintext,t);if(!y.success){s.WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Failed to save media: ",", ",""])),y.error,y.payload),l.ERROR(_||(_=babelHelpers.taggedTemplateLiteralLoose(["Failed to save media: ",", ",""])),y.error,y.payload),i.deletePlaintextHashFromAttachmentDownloadsInProgress(e);return}}else{s.WARN(f||(f=babelHelpers.taggedTemplateLiteralLoose(["Failed to download media: ",", ",""])),u.error,u.payload),l.ERROR(g||(g=babelHelpers.taggedTemplateLiteralLoose(["Failed to download media: ",", ",""])),u.error,u.payload),i.deletePlaintextHashFromAttachmentDownloadsInProgress(e);return}}),v.apply(this,arguments)}function S(t,r,a,i,l,p,_,f,g,y,C){var b=o("EncryptedBackupsDYISingleton").getSingleton(),v=b.getLogger(),S=v.TAGS([o("WAHashUtils").sanitisePlaintextHash(g)]),R={author:o("WAJids").toMsgrUserJid(_),chat:o("WAJids").toMsgrUserJid(l),externalId:f},L={hash:g,isUrlRenewed:!1,mediaEntry:i,protocolMsgId:R,sortOrderMs:y},E={onDownloadError:function(){return S.WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to download media"]))),v.ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Failed to download media"]))),b.deletePlaintextHashFromAttachmentDownloadsInProgress(L.hash),(h||(h=n("Promise"))).resolve()},onDownloadSuccess:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){S.LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Successfully downloaded media"])));var t=e.mimeType,n=e.plaintext;yield o("EncryptedBackupsDYIMediaDownloadHandlers").DYIMediaDownloadHandler(L.hash,t,n,R)});function t(t){return e.apply(this,arguments)}return t})(),onUrlExpired:function(){return S.LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Media CDN URL has expired and should be renewed"]))),(h||(h=n("Promise"))).resolve()}},k=new(o("MebWAMediaDownloader")).MebWAMediaDownloader(L,E,t),I=i.serverMediaType,T=i.objectId;if(I!=null&&T!=null&&typeof y=="number"){var D={backupEntFbid:r,deliveryObjectId:T,hash:g,mediaType:I,messageId:f,productType:a,sortOrder:y,threadId:l,threadKey:p},x={onResignCdnUrlFailure:function(t){return S.WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Failed to resign CDN URL: ",""])),t.message),v.ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Failed to resign CDN URL: ",""])),t.message),b.deletePlaintextHashFromAttachmentDownloadsInProgress(L.hash),(h||(h=n("Promise"))).resolve()},onResignCdnUrlSuccess:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){});function t(){return e.apply(this,arguments)}return t})()},$=C(D,x);k.setNextHandler($),$.setNextHandler(new(o("MebWAMediaDownloader")).MebWAMediaDownloader(L,E,t))}k.handle()}function R(e,t,n){var r,a,i,l,s,u,c,d,m,p,_,f=(r=e.integral)==null||(r=r.transport)==null||(r=r.ancillary)==null?void 0:r.mimetype;if(f==null)return o("WAResultOrError").makeError("mime-type-missing");var g=o("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(f,t).serverMediaType;if(g==null)return o("WAResultOrError").makeError("server-media-type-missing");var h=(a=e.integral)==null||(a=a.transport)==null||(a=a.integral)==null?void 0:a.directPath;if(h==null)return o("WAResultOrError").makeError("direct-path-missing");var y=(i=e.integral)==null||(i=i.transport)==null||(i=i.integral)==null?void 0:i.fileSha256;if(y==null)return o("WAResultOrError").makeError("plaintext-hash-missing");var C=o("WALongInt").maybeNumber((l=e.integral)==null||(l=l.transport)==null||(l=l.integral)==null?void 0:l.mediaKeyTimestamp);if(C==null)return o("WAResultOrError").makeError("media-key-timestamp-missing");var b;if(((s=e.ancillary)==null?void 0:s.scanLengths)!=null&&((u=e.ancillary)==null?void 0:u.scansSidecar)!=null){var v=e.ancillary,S=v.scanLengths,R=v.scansSidecar;b={scanLengths:S.map(o("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength),sidecar:R}}var L;if(((c=e.integral)==null||(c=c.transport)==null||(c=c.ancillary)==null||(c=c.thumbnail)==null?void 0:c.downloadableThumbnail)!=null){var E=e.integral.transport.ancillary.thumbnail.downloadableThumbnail,k=E.directPath,I=E.fileEncSha256,T=E.fileSha256,D=E.mediaKey,x=E.mediaKeyTimestamp,$=E.objectId;L={directPath:k,fileEncSha256:I,fileSha256:T,mediaKey:D,mediaKeyTimestamp:o("WALongInt").maybeNumber(x),objectId:$}}var P={directPath:h,downloadableThumbnail:L,fileEncSha256:(d=e.integral)==null||(d=d.transport)==null||(d=d.integral)==null?void 0:d.fileEncSha256,filename:n,fileSha256:y,mediaKey:(m=e.integral)==null||(m=m.transport)==null||(m=m.integral)==null?void 0:m.mediaKey,mediaKeyTimestamp:o("WATimeUtils").castToUnixTime(C),objectId:(p=e.integral)==null||(p=p.transport)==null||(p=p.ancillary)==null?void 0:p.objectId,progressiveJpegDetails:b,serverMediaType:g,size:o("WALongInt").maybeNumber((_=e.integral)==null||(_=_.transport)==null||(_=_.ancillary)==null?void 0:_.fileLength)};return o("WAResultOrError").makeResult(o("WAMediaUtils").rawDataToMediaEntry(P))}l.buildBaseDyiMessage=y,l.getSenderName=C,l.downloadMediaWithMediaManager=b,l.startMediaDownloadChain=S,l.decodeMediaEntryFromAttachmentPayload=R}),98);
__d("IGDAWAdminWriteICDCMsgTxn",["Promise","cr:10743","cr:2327","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e=n("cr:2327"))!=null?e:n("cr:10743");function c(e,t,o){return r("vulture")("0u4LdQ5rjWgu0xNHykDuwUn8fhs="),u?u.writeICDCAdminMsg(e,t,o):(s||(s=n("Promise"))).resolve()}l.writeICDCAdminMsg=c}),98);
__d("IGDAWAdminWriteUserDeviceMsgTxn",["Promise","cr:10744","cr:2693"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e=n("cr:2693"))!=null?e:n("cr:10744");function c(e,t,r,o,a,i){return u?u.writeUserDeviceAdminMsg(e,t,r,o,a,i):(s||(s=n("Promise"))).resolve()}l.writeUserDeviceAdminMsg=c}),98);
__d("IGDAWDbAddDeviceChangeAlertsTxn",["asyncToGeneratorRuntime"],(function(t,n,r,o,a,i){"use strict";function e(e,t){return l.apply(this,arguments)}function l(){return l=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){yield e.e2ee_deviceChangeAlerts.put(t)}),l.apply(this,arguments)}i.addDeviceChangeAlertsTxn=e}),66);
__d("IGDAWDbUpdateDeviceChangeAlertsTxn",["I64","MAWUnsafeCoerce","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){yield e.e2ee_deviceChangeAlerts.upsert([t.deviceChangeAlertsId],t)}),u.apply(this,arguments)}function c(t){return o("MAWUnsafeCoerce").unsafeCoerce((e||(e=o("I64"))).of_float(t))}l.updateDeviceChangeAlertsTxn=s,l.convertDeviceChangeAlertsId=c}),98);
__d("IGDAWDbUpdateDeviceChangeAlertsLogInStatusTxn",["IGDAWDbUpdateDeviceChangeAlertsTxn","Promise","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){if(r!=null){var a=yield o("ReQL").toArrayAsync(o("ReQL").fromTableDescending(t.e2ee_deviceChangeAlerts.index("deviceJid")).getKeyRange(r).filter(function(e){return!e.loggedOut}));yield(e||(e=n("Promise"))).all(a.map(function(e){return o("IGDAWDbUpdateDeviceChangeAlertsTxn").updateDeviceChangeAlertsTxn(t,babelHelpers.extends({},e,{loggedOut:!0}))}))}}),u.apply(this,arguments)}l.updateDeviceChangeAlertsLogInStatusTxn=s}),98);
__d("IGDDbThreadTxns",["I64","Promise","ReQL","WAJids","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){return new Map(yield t.runInTransaction(function(t){return(s||(s=n("Promise"))).all(r.map((function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var r,a=o("WAJids").extractUserId(n);return[a,yield(r=o("ReQL")).toArrayAsync(r.mergeJoin(r.fromTableAscending(t.participants.index("contactIdThreadKey"),[]).getKeyRange((e||(e=o("I64"))).of_string(a)),o("ReQL").fromTableAscending(t.threads)).map(function(e){var t=e[0],n=e[1];return n}))]});return function(e){return r.apply(this,arguments)}})()))},"readonly",void 0,void 0,i.id+":24"))}),c.apply(this,arguments)}l.getAllThreadsForUsers=u}),98);
__d("IGDHandleICDCErrorInstruction",["IGDAWAdminWriteICDCMsgTxn","MAWODSProxy","Promise","WAOdsEnums","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a){var l=a.shouldShowAdminMessages,s=a.threads;l&&(yield t.runInTransaction((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){yield(e||(e=n("Promise"))).all(s.map(function(e){return o("IGDAWAdminWriteICDCMsgTxn").writeICDCAdminMsg(t,e,r.notificationTs)})),o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.ICDC,key:"icdc"})});return function(e){return t.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":30"))}),u.apply(this,arguments)}l.handleICDCError=s}),98);
__d("IGDHandleIdentityAddedInstruction",["IGDAWAdminWriteUserDeviceMsgTxn","IGDAWDbAddDeviceChangeAlertsTxn","MAWAdminWriteUserDeviceMsgTxn","MAWDbDeviceChangeAlerts","MAWODSProxy","Promise","WAOdsEnums","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a){var l=a.allowSecurityAlertForSelf,s=a.contactId,u=a.isMe,d=a.shouldShowAdminMessages,m=a.threads;yield t.runInTransaction((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=c(t,r,u,l),i=a.promise,p=a.showSelfAlerts,_=d?m.map(function(e){return o("IGDAWAdminWriteUserDeviceMsgTxn").writeUserDeviceAdminMsg(t,s,u,e,o("MAWAdminWriteUserDeviceMsgTxn").DeviceChange.add,r.notificationTs)}):[];yield(e||(e=n("Promise"))).all([i].concat(_)),(p||d)&&o("MAWODSProxy").odsBumpEntityKey({entity:u?o("WAOdsEnums").Entity.SECURITY_ALERT_FOR_SELF:o("WAOdsEnums").Entity.SECURITY_ALERT_FOR_CONTACT,key:o("MAWDbDeviceChangeAlerts").ADD})});return function(e){return t.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":47")}),u.apply(this,arguments)}function c(t,r,a,i){var l=!1,s=(e||(e=n("Promise"))).resolve();if(a&&r.model!=null&&r.platform!=null&&r.notificationTs!=null){l=!0;var u=r.instruction==="identityChanged"?o("MAWDbDeviceChangeAlerts").KEY_CHANGE:o("MAWDbDeviceChangeAlerts").ADD;if(r.device==null||r.identity==null)return{promise:s,showSelfAlerts:l};s=o("IGDAWDbAddDeviceChangeAlertsTxn").addDeviceChangeAlertsTxn(t,{action:u,deviceJid:r.device,identity:r.identity,isArchived:!i,isConfirmed:!1,isNotified:!1,model:r.model,platform:r.platform,ts:r.notificationTs})}return{promise:s,showSelfAlerts:l}}l.handleIdentityAdded=s,l.addDeviceChangeAlerts=c}),98);
__d("IGDHandleIdentityChangedInstruction",["IGDAWAdminWriteUserDeviceMsgTxn","IGDHandleIdentityAddedInstruction","MAWAdminWriteUserDeviceMsgTxn","MAWDbDeviceChangeAlerts","MAWODSProxy","Promise","WAJids","WAOdsEnums","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a){var l=a.allowSecurityAlertForSelf,s=a.isMe,u=a.shouldShowAdminMessages,c=a.threads;yield t.runInTransaction((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=o("IGDHandleIdentityAddedInstruction").addDeviceChangeAlerts(t,r,s,l),i=a.promise,d=a.showSelfAlerts,m=u?c.map(function(e){return o("IGDAWAdminWriteUserDeviceMsgTxn").writeUserDeviceAdminMsg(t,o("WAJids").extractUserId(r.jid),s,e,o("MAWAdminWriteUserDeviceMsgTxn").DeviceChange.update,r.notificationTs)}):[];yield(e||(e=n("Promise"))).all([i].concat(m)),(d||u)&&o("MAWODSProxy").odsBumpEntityKey({entity:s?o("WAOdsEnums").Entity.SECURITY_ALERT_FOR_SELF:o("WAOdsEnums").Entity.SECURITY_ALERT_FOR_CONTACT,key:o("MAWDbDeviceChangeAlerts").KEY_CHANGE})});return function(e){return t.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":31")}),u.apply(this,arguments)}l.handleIdentityChanged=s}),98);
__d("IGDHandleIdentityRemovedInstruction",["IGDAWAdminWriteUserDeviceMsgTxn","IGDAWDbUpdateDeviceChangeAlertsLogInStatusTxn","MAWAdminWriteUserDeviceMsgTxn","MAWDbDeviceChangeAlerts","MAWODSProxy","Promise","WAOdsEnums","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a){var l=a.contactId,s=a.isMe,u=a.shouldShowAdminMessages,c=a.threads;yield t.runInTransaction((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=s?o("IGDAWDbUpdateDeviceChangeAlertsLogInStatusTxn").updateDeviceChangeAlertsLogInStatusTxn(t,r.device):(e||(e=n("Promise"))).resolve(),i=u?c.map(function(e){return o("IGDAWAdminWriteUserDeviceMsgTxn").writeUserDeviceAdminMsg(t,l,s,e,o("MAWAdminWriteUserDeviceMsgTxn").DeviceChange.remove,r.notificationTs)}):[];yield(e||(e=n("Promise"))).all([a].concat(i)),(s||u)&&o("MAWODSProxy").odsBumpEntityKey({entity:s?o("WAOdsEnums").Entity.SECURITY_ALERT_FOR_SELF:o("WAOdsEnums").Entity.SECURITY_ALERT_FOR_CONTACT,key:o("MAWDbDeviceChangeAlerts").REMOVE})});return function(e){return t.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":30")}),u.apply(this,arguments)}l.handleIdentityRemoved=s}),98);
__d("MAWGetReStoreDBError",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.message=t,n.name="MAWGetReStoreDBError",n}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.default=e}),66);
__d("MAWReStoreDbSetup",["FBLogger","MAWGetReStoreDBError","asyncToGeneratorRuntime","cr:10742","cr:2924","cr:3535"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e=(s=n("cr:3535"))!=null?s:n("cr:10742"))!=null?e:n("cr:2924"),c=u==null?void 0:u.createDB,d;function m(){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield d;e==null||e.closeDb==null||e.closeDb(),d=null}),p.apply(this,arguments)}function _(){if(c==null)throw r("FBLogger")("messenger_web").mustfixThrow("Unexpected invocation of OneDB");return d==null&&(d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var e=yield c();return yield e.runInTransaction(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){}),"readwrite",void 0,void 0,i.id+":44"),e}catch(e){throw new(r("MAWGetReStoreDBError"))("Failed to get ReStore DB: "+e)}})()),d}function f(){return c!=null}l.closeDB=m,l.getDB=_,l.shouldUseReStoreDb=f}),98);
__d("MAWReStoreDb",["FBLogger","MAWIndexedDb","MAWReStoreDbSetup","asyncToGeneratorRuntime","getErrorSafe","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(r("gkx")("3577"))try{var t=yield o("MAWReStoreDbSetup").getDB();return t}catch(e){var n=r("getErrorSafe")(e);throw r("FBLogger")("igd_web").blameToPreviousFrame().catching(n).mustfixThrow("Failed to get ReStore DB: %s",arguments[0])}return e==null&&(o("MAWIndexedDb").willSetupDB()?e=o("MAWIndexedDb").getDB().then(function(){return o("MAWReStoreDbSetup").getDB()}):e=o("MAWReStoreDbSetup").getDB()),e}),u.apply(this,arguments)}function c(){return o("MAWReStoreDbSetup").shouldUseReStoreDb()}l.getDB=s,l.shouldUseReStoreDb=c}),98);
__d("IGDAWProtocolQueueInstructions",["FBLogger","IGDDbThreadTxns","IGDHandleICDCErrorInstruction","IGDHandleIdentityAddedInstruction","IGDHandleIdentityChangedInstruction","IGDHandleIdentityRemovedInstruction","MAWDbAppMeta","MAWReStoreDb","Promise","WAAssertUnreachable","WAGlobals","WAJids","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("MAWReStoreDb").getDB(i.id+":35"),n=yield c(t,e),a=n[0],l=a.allowSecurityAlertForContact,s=a.allowSecurityAlertForSelf,u=n[1],d=[];for(var p of e){var _,g=p.jid,h=o("WAJids").extractUserId(g),y=g===o("WAGlobals").getMyUserJid(),C=m({allowSecurityAlertForContact:l,isICDCError:p.instruction==="icdcError",isMe:y}),b={allowSecurityAlertForSelf:s,contactId:h,isMe:y,shouldShowAdminMessages:C,threads:(_=u.get(h))!=null?_:[]};try{yield f(t,p,b),d.push(p.stanzaQueueId)}catch(e){var v=r("getErrorSafe")(e);r("FBLogger")("igd_web").warn("Failed to handle instruction. The error is %s",v.message)}}return{followUpParams:void 0,toAck:d}}),u.apply(this,arguments)}function c(e,t){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=new Set(t.map(function(e){return e.jid})),r=yield p(e),a=r.allowSecurityAlertForContact&&t.some(function(e){return e.jid!==o("WAGlobals").getMyUserJid()}),i=t.some(function(e){return e.instruction==="icdcError"}),l=a||i,s=l?yield o("IGDDbThreadTxns").getAllThreadsForUsers(e,Array.from(n)):new Map;return[r,s]}),d.apply(this,arguments)}function m(e){var t=e.allowSecurityAlertForContact,n=e.isICDCError,r=e.isMe;return!r&&(t||n)}function p(e){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r,a,i=yield(e||(e=n("Promise"))).all([t.tables.e2ee_appMeta.get(o("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlertForSelf),t.tables.e2ee_appMeta.get(o("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlert)]),l=i[0],s=i[1];return{allowSecurityAlertForContact:(r=s==null?void 0:s.value.allowSecurityAlert)!=null?r:!1,allowSecurityAlertForSelf:(a=l==null?void 0:l.value.allowSecurityAlertForSelf)!=null?a:!0}}),_.apply(this,arguments)}function f(e,t,n){switch(t.instruction){case"identityChanged":return o("IGDHandleIdentityChangedInstruction").handleIdentityChanged(e,t,n);case"identityAdded":return o("IGDHandleIdentityAddedInstruction").handleIdentityAdded(e,t,n);case"identityRemoved":return o("IGDHandleIdentityRemovedInstruction").handleIdentityRemoved(e,t,n);case"icdcError":return o("IGDHandleICDCErrorInstruction").handleICDCError(e,t,n);default:throw r("WAAssertUnreachable")(t)}}l.handleInstructions=s,l.getShouldShowAdminMessages=m}),98);
__d("WAFtsTokenizerBaseNormalizer",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){var t=this,n=[];this.$1=new Map,e.forEach(function(e){var r=e[0],o=e[1];t.$1.set(r,o),n.push(r)}),this.$2=new RegExp(n.join("|"),"g")}var t=e.prototype;return t.normalize=function(t){var e=this;return t===void 0&&(t=""),t.replace(this.$2,function(t){var n=e.$1.get(t);return n!=null?n:t})},e})();i.default=e}),66);
__d("WAFtsTokenizerPostLowercaseNormalizer",["WAFtsTokenizerBaseNormalizer"],(function(t,n,r,o,a,i,l){"use strict";var e=[["\u0131","i"],["\u0629","\u0647"],["\u0640",""],["\u0649","\u064A"],["\u0671","\u0627"],["\u06A4","\u0641"],["\u06A9","\u0643"],["\u06BA","\u0646"],["\u06BE","\u0647"],["\u06C3","\u06C2"],["\u06CC","\u064A"],["\u06D2","\u064A"],["\u06D5","\u0647"],["\u06F0","\u0660"],["\u06F1","\u0661"],["\u06F2","\u0662"],["\u06F3","\u0663"],["\u06F4","\u0664"],["\u06F5","\u0665"],["\u06F6","\u0666"],["\u06F7","\u0667"],["\u06F8","\u0668"],["\u06F9","\u0669"],["\u08BB","\u0641"],["\u08BC","\u0642"],["\u08BD","\u0646"],["\u200C",""],["\u0966","0"],["\u0967","1"],["\u0968","2"],["\u0969","3"],["\u096A","4"],["\u096B","5"],["\u096C","6"],["\u096D","7"],["\u096E","8"],["\u096F","9"],["\u0901","\u0902"],["\u0903",""],["\u093C",""],["\u09E6","0"],["\u09E7","1"],["\u09E8","2"],["\u09E9","3"],["\u09EA","4"],["\u09EB","5"],["\u09EC","6"],["\u09ED","7"],["\u09EE","8"],["\u09EF","9"],["\u0A66","0"],["\u0A67","1"],["\u0A68","2"],["\u0A69","3"],["\u0A6A","4"],["\u0A6B","5"],["\u0A6C","6"],["\u0A6D","7"],["\u0A6E","8"],["\u0A6F","9"],["\u0C66","0"],["\u0C67","1"],["\u0C68","2"],["\u0C69","3"],["\u0C6A","4"],["\u0C6B","5"],["\u0C6C","6"],["\u0C6D","7"],["\u0C6E","8"],["\u0C6F","9"],["\u0AE6","0"],["\u0AE7","1"],["\u0AE8","2"],["\u0AE9","3"],["\u0AEA","4"],["\u0AEB","5"],["\u0AEC","6"],["\u0AED","7"],["\u0AEE","8"],["\u0AEF","9"],["\u0CE6","0"],["\u0CE7","1"],["\u0CE8","2"],["\u0CE9","3"],["\u0CEA","4"],["\u0CEB","5"],["\u0CEC","6"],["\u0CED","7"],["\u0CEE","8"],["\u0CEF","9"],["\u0D66","0"],["\u0D67","1"],["\u0D68","2"],["\u0D69","3"],["\u0D6A","4"],["\u0D6B","5"],["\u0D6C","6"],["\u0D6D","7"],["\u0D6E","8"],["\u0D6F","9"],["\u0142","l"]],s=new(r("WAFtsTokenizerBaseNormalizer"))(e),u=s;l.default=u}),98);
__d("WAFtsTokenizerPreNFKDNormalizer",["WAFtsTokenizerBaseNormalizer"],(function(t,n,r,o,a,i,l){"use strict";var e=[["\u0675","\u0674\u0627"],["\u0676","\u0674\u0648"],["\u0677","\u0674\u06C7"],["\u0678","\u0674\u0649"],["\u0905\u0946","\u0904"],["\u0905\u093E","\u0906"],["\u0930\u094D\u0907","\u0908"],["\u0909\u0941","\u090A"],["\u090F\u0945","\u090D"],["\u090F\u0946","\u090E"],["\u090F\u0947","\u0910"],["\u0905\u0949","\u0911"],["\u0906\u0945","\u0911"],["\u0905\u094A","\u0912"],["\u0906\u0946","\u0912"],["\u0905\u094B","\u0913"],["\u0906\u0947","\u0913"],["\u0905\u094C","\u0914"],["\u0906\u0948","\u0914"],["\u0905\u0945","\u0972"],["\u0905\u093A","\u0973"],["\u0905\u093B","\u0974"],["\u0906\u093A","\u0974"],["\u0905\u094F","\u0975"],["\u0905\u0956","\u0976"],["\u0905\u0957","\u0977"],["\u0985\u09BE","\u0986"],["\u098B\u09C3","\u09E0"],["\u098C\u09E2","\u09E1"],["\u0A05\u0A3E","\u0A06"],["\u0A72\u0A3F","\u0A07"],["\u0A72\u0A40","\u0A08"],["\u0A73\u0A41","\u0A09"],["\u0A73\u0A42","\u0A0A"],["\u0A72\u0A47","\u0A0F"],["\u0A05\u0A48","\u0A10"],["\u0A73\u0A4B","\u0A13"],["\u0A05\u0A4C","\u0A14"],["\u0A85\u0ABE","\u0A86"],["\u0A85\u0AC5","\u0A8D"],["\u0A85\u0AC7","\u0A8F"],["\u0A85\u0AC8","\u0A90"],["\u0A85\u0AC9","\u0A91"],["\u0A85\u0ACB","\u0A93"],["\u0A85\u0ABE\u0AC5","\u0A93"],["\u0A85\u0ACC","\u0A94"],["\u0A85\u0ABE\u0AC8","\u0A94"],["\u0AC5\u0ABE","\u0AC9"],["\u0B05\u0B3E","\u0B06"],["\u0B0F\u0B57","\u0B10"],["\u0B13\u0B57","\u0B14"],["\u0BB8\u0BCD\u0BB0\u0BC0","\u0BB6\u0BCD\u0BB0\u0BC0"],["\u0C12\u0C55","\u0C13"],["\u0C12\u0C4C","\u0C14"],["\u0C3F\u0C55","\u0C40"],["\u0C46\u0C55","\u0C47"],["\u0C4A\u0C55","\u0C4B"],["\u0C89\u0CBE","\u0C8A"],["\u0C92\u0CCC","\u0C94"],["\u0C8B\u0CBE","\u0CE0"],["\u0D07\u0D57","\u0D08"],["\u0D09\u0D57","\u0D0A"],["\u0D0E\u0D46","\u0D10"],["\u0D12\u0D3E","\u0D13"],["\u0D12\u0D57","\u0D14"],["\u0D23\u0D4D\u200D","\u0D7A"],["\u0D28\u0D4D\u200D","\u0D7B"],["\u0D30\u0D4D\u200D","\u0D7C"],["\u0D32\u0D4D\u200D","\u0D7D"],["\u0D33\u0D4D\u200D","\u0D7E"],["\u0D85\u0DCF","\u0D86"],["\u0D85\u0DD0","\u0D87"],["\u0D85\u0DD1","\u0D88"],["\u0D8B\u0DDF","\u0D8C"],["\u0D8D\u0DD8","\u0D8E"],["\u0D8F\u0DDF","\u0D90"],["\u0D91\u0DCA","\u0D92"],["\u0D91\u0DD9","\u0D93"],["\u0D94\u0DDF","\u0D96"]],s=new(r("WAFtsTokenizerBaseNormalizer"))(e),u=s;l.default=u}),98);
__d("WAFtsMultiLangTokenizer",["WAFtsTokenizerPostLowercaseNormalizer","WAFtsTokenizerPreNFKDNormalizer"],(function(t,n,r,o,a,i,l){"use strict";var e={NFC_CHARACTER:/(?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3030\u3038-\u303B\u303D\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u31F0-\u31FF\u3297\u3299\u32D0-\u32FE\u3300-\u3357\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA490-\uA4C6\uF900-\uFA6D\uFA70-\uFAD9\uFF66-\uFF6F\uFF71-\uFF9D]|\uD81B[\uDFF0\uDFF1]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/g,NFC_WORD:/((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u1100-\u11FF\u302E\u302F\u3131-\u318E\u3200-\u321E\u3260-\u327E\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u0E01-\u0E3A\u0E40-\u0E5B])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u0F00-\u0F47\u0F49-\u0F6C\u0F71-\u0F97\u0F99-\u0FBC\u0FBE-\u0FCC\u0FCE-\u0FD4\u0FD9\u0FDA])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u1000-\u109F\uA9E0-\uA9FE\uAA60-\uAA7F])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u19E0-\u19FF])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u02EA\u02EB\u3105-\u312F\u31A0-\u31BF])+/g},s=/(?![\u0902\u094D])(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50]|\uD804[\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])+/g,u=/(?:[!-#%-\/:-@\[-`\{-~\xA1\xA7\xA8\xAB\xAC\xAF\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u200D\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u2118\u2140-\u2144\u214B\u2190-\u2194\u219A\u219B\u21A0\u21A3\u21A6\u21AE\u21CE\u21CF\u21D2\u21D4\u21F4-\u22FF\u2308-\u230B\u2320\u2321\u2329\u232A\u237C\u239B-\u23B3\u23DC-\u23E1\u25B7\u25C1\u25F8-\u25FF\u266F\u2768-\u2775\u27C0-\u27FF\u2900-\u2AFF\u2B30-\u2B44\u2B47-\u2B4C\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u309B\u309C\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBC1\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE2\uFFE3\uFFE9-\uFFEC]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDEF0\uDEF1]|\uD83C[\uDFFB-\uDFFF])/g,c=/(^|(?:[\t\n\r -#%-\*,-\/:;\?@\[-\]_\{\}\xA0\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]))((?:[0-9A-Z\^`-z\xA8\xAA\xAF\xB2-\xB5\xB7-\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u034E\u0350-\u0357\u035D-\u0362\u0370-\u0377\u037A-\u037D\u037F\u0384-\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u05D0-\u05EA\u05EF-\u05F2\u0620-\u0652\u0657\u0658\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u06EE-\u06FC\u06FF\u0710\u0712-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u0815\u0818-\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08E3-\u08FE\u0904-\u0939\u093C\u093D\u094D\u0950-\u0954\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC\u09BD\u09CD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A4D\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC\u0ABD\u0ACD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0AFD-\u0AFF\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C\u0B3D\u0B4D\u0B55\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BCD\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C4D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC\u0CBD\u0CCD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3D\u0D4D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E4C\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBA\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECC\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F82-\u0F84\u0F86-\u0F8C\u0FC6\u1000-\u102A\u1037\u1039\u103A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1063-\u1066\u1069-\u1070\u1075-\u1081\u1087-\u109B\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17C9-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1939-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A75-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B05-\u1B34\u1B44-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B83-\u1BA0\u1BAA\u1BAB\u1BAE-\u1BE5\u1C00-\u1C23\u1C36\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CFA\u1D00-\u1DBF\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA67C\uA67D\uA67F-\uA69D\uA6A0-\uA6F1\uA700-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA92B-\uA92E\uA930-\uA946\uA953\uA960-\uA97C\uA984-\uA9B3\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAABF-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABE2\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE20-\uFE2F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3E\uFF40-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE3]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE6\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCB9\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD33\uDD34\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD73\uDD76\uDD83-\uDDB2\uDDC0-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE35\uDE36\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEE9\uDEEA\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C\uDF3D\uDF4D\uDF50\uDF5D-\uDF61\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC34\uDC42\uDC46-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC2-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDBF\uDDC0\uDDD8-\uDDDB\uDE00-\uDE2F\uDE3F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB6-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF2B\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDC39\uDC3A\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3D-\uDD3F\uDD41\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE34\uDE3A\uDE47\uDE50\uDE5C-\uDE89\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC3F\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD42\uDD44-\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD97\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6\uDD00-\uDD46\uDD48-\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+)[\"\'\xAB\xBB\u2018-\u201F\u2039\u203A\u2E42\u300C-\u300F\u301D-\u301F\uFE41-\uFE44\uFF02\uFF07\uFF62\uFF63]((?:[0-9A-Z\^`-z\xA8\xAA\xAF\xB2-\xB5\xB7-\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u034E\u0350-\u0357\u035D-\u0362\u0370-\u0377\u037A-\u037D\u037F\u0384-\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u05D0-\u05EA\u05EF-\u05F2\u0620-\u0652\u0657\u0658\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u06EE-\u06FC\u06FF\u0710\u0712-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u0815\u0818-\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08E3-\u08FE\u0904-\u0939\u093C\u093D\u094D\u0950-\u0954\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC\u09BD\u09CD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A4D\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC\u0ABD\u0ACD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0AFD-\u0AFF\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C\u0B3D\u0B4D\u0B55\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BCD\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C4D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC\u0CBD\u0CCD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3D\u0D4D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E4C\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBA\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECC\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F82-\u0F84\u0F86-\u0F8C\u0FC6\u1000-\u102A\u1037\u1039\u103A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1063-\u1066\u1069-\u1070\u1075-\u1081\u1087-\u109B\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17C9-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1939-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A75-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B05-\u1B34\u1B44-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B83-\u1BA0\u1BAA\u1BAB\u1BAE-\u1BE5\u1C00-\u1C23\u1C36\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CFA\u1D00-\u1DBF\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA67C\uA67D\uA67F-\uA69D\uA6A0-\uA6F1\uA700-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA92B-\uA92E\uA930-\uA946\uA953\uA960-\uA97C\uA984-\uA9B3\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAABF-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABE2\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE20-\uFE2F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3E\uFF40-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE3]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE6\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCB9\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD33\uDD34\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD73\uDD76\uDD83-\uDDB2\uDDC0-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE35\uDE36\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEE9\uDEEA\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C\uDF3D\uDF4D\uDF50\uDF5D-\uDF61\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC34\uDC42\uDC46-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC2-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDBF\uDDC0\uDDD8-\uDDDB\uDE00-\uDE2F\uDE3F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB6-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF2B\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDC39\uDC3A\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3D-\uDD3F\uDD41\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE34\uDE3A\uDE47\uDE50\uDE5C-\uDE89\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC3F\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD42\uDD44-\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD97\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6\uDD00-\uDD46\uDD48-\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+)($|(?:[\t\n\r -#%-\*,-\/:;\?@\[-\]_\{\}\xA0\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]))/g,d=/(?:[\t\n\r -#%-\*,-\/:;\?@\[-\]_\{\}\xA0\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F])+/g,m=/(?:[\$\xA2-\xA5\u058F\u060B\u07FE\u07FF\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BF\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6]|\uD807[\uDFDD-\uDFE0]|\uD838\uDEFF|\uD83B\uDCB0)+/g;function p(e){return e.replace(c,function(e,t,n,r,o){return" "+n+r+" "+n+" "+r+" "})}function _(e){return e.split(d)}function f(e){return e.replace(u,"")}function g(e){return e.replace(s,"")}function h(t){return t.normalize("NFC").replace(e.NFC_CHARACTER,function(e){return" "+e+" "})}function y(t){return t.normalize("NFC").replace(e.NFC_WORD,function(e){return" "+e+" "})}function C(e){return e.replace(m,function(e){return" "+e+" "})}var b=(function(){function t(){}var n=t.prototype;return n.tokenize=function(n){n===void 0&&(n="");var t=p(n),o=C(h(y(t))),a=_(o),i=a.map(function(t){var n=t;if(n=f(n),n.length)n.match(e.NFC_CHARACTER)||n.match(e.NFC_WORD)?n=n.normalize("NFC"):(n=g(r("WAFtsTokenizerPreNFKDNormalizer").normalize(n).normalize("NFKD")),n=n.toLocaleLowerCase("en-US"),n=r("WAFtsTokenizerPostLowercaseNormalizer").normalize(n));else return n;return n});return new Set(i.filter(function(e){return!!e&&!!e.trim()&&!e.match(d)}))},t})();l.default=b}),98);
__d("MAWFTSIsMessageValidForSearch",["MAWMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.ephemeralSetting!=null&&e.ephemeralSetting.ephemeralExpirationInSec>0}function s(t){var n=t.msgContent,r=t.sortOrderMs,a=t.type,i=n==null?void 0:n.content;return i==null||r==null||a!==o("MAWMsgType").MSG_TYPE.TEXT&&a!==o("MAWMsgType").MSG_TYPE.XMA||e(t)?null:{content:i,sortOrderMs:r}}l.verifyMessageValidity=s}),98);
__d("MpsMessageToSearchBridge",["MpsMessageToBridgeWrapper"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=o("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(e.toplevelProtobuf);if(e.expiryTimestampMs==null){var r=(t=n.deserialize().encryptedTransportMessage())==null||(t=t.consumerMessage())==null||(t=t.payload)==null||(t=t.content)==null||(t=t.messageText)==null?void 0:t.text;return r==null?null:{chatJid:n.getChatJid(),externalId:n.getExternalId(),msg:{content:r,sender:n.message.senderId,ts:n.getUnixTs()},sortOrderMs:n.message.timestampMs}}}l.messageToSearchBridge=e}),98);
__d("MAWOptimisticUploadManager",[],(function(t,n,r,o,a,i){"use strict";var e=new Map;function l(){return e}function s(){e.clear()}i.getOptimisticUploadManager=l,i.clearOptimisticUploadManager=s}),66);
__d("MAWGetDownloadableThumbnailForMediaApi",["MAWOptimisticUploadManager","WALogger","WAResultOrError","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n,r=o("MAWOptimisticUploadManager").getOptimisticUploadManager().get(t);if(r==null)return null;var a=r.previewPlaintextHash;if(a==null)return null;var i=o("MAWOptimisticUploadManager").getOptimisticUploadManager().get(a);if(i==null)return null;var l=yield(n=i.optimisticUploadPromise)==null?void 0:n.catch(function(t){return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["GetDownloadableThumbnail - previewEntry optimistedPromise rejected with ",""])),t),o("WAResultOrError").makeError("runtime-error")});if(l==null||l.success!==!0)return null;var s=l.value,u=s.directPath,c=s.fileEncSha256,d=s.fileSha256,m=s.mediaKey,p=s.mediaKeyTimestamp,_=s.objectId;return{directPath:u,fileEncSha256:c,fileSha256:d,mediaKey:m,mediaKeyTimestamp:p,objectId:_}});return function(n){return t.apply(this,arguments)}})();l.getDownloadableThumbnailForMedia=s}),98);
__d("MAWUploadAndHandleMedia",["MAWMediaManager","MWFBLogger","WAResultOrError","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MWFBLogger").MWMediaLogger();function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.chatJid,r=t.dbCallbacks,a=t.filename,i=t.hash,l=t.plaintext,c=t.protocolMsgId,d=t.serverMediaType,m=t.size,p=t.uploadMediaMetric,_=yield o("MAWMediaManager").getMawMediaManager().enqueueUploadFullSize({chatJid:n,mediaUploadFlow:p,plaintext:l,plaintextHash:i,serverMediaType:d});if(_.success!==!0)return u.WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to enqueue upload full size: ",""])),_.error),p.endFail(_.error),_;p.addPoint("get_downloadable_thumbnail_start");var f=yield r.getDownloadableThumbnailForMedia(i).catch(function(e){return u.catching(e).MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["getDownloadableThumbnailForMedia unexpected runtime-erorr: ",""])),e),null});p.addPoint("get_downloadable_thumbnail_end");var g=babelHelpers.extends({},_.value,{downloadableThumbnail:f,filename:a,size:m});return p.endSuccess(),o("WAResultOrError").makeResult(g)}),d.apply(this,arguments)}l.uploadAndHandleMedia=c}),98);
__d("WAStartMediaUploadQplFlow",["QPLFlow","WAGetStorageQplAnnotations","WAJids","WAMediaQplHelper","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.chatJid,n=e.fileSize,a=e.isVideoGif,i=e.serverMediaType,l=e.uploadEntry,s=o("QPLFlow").startQPLFlow(r("qpl")._(25313100,"131"),{annotations:{string:{chat_type:o("WAJids").switchOnMsgrChatJidType(t,{group:function(){return"group"},user:function(){return"user"}}),jid:t,media_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(n),media_type:a===!0?"gif":i,upload_entry:l},int:{byteLength:n}}});return r("promiseDone")(o("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(e){s.addAnnotations(e)})),s}l.startMediaUploadQplFlow=e}),98);
__d("createInstamadilloAddMessagePayload",["I64","InstamadilloMessageIdUtils"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return t!=null?{ephemeralityParams:{ephemeralDurationSec:(e||(e=o("I64"))).to_int32(t)}}:{}}function u(t){return t.isForwarded===!0?{forwardingParams:{forwardedThreadId:(e||(e=o("I64"))).to_string(t.threadKey)}}:{}}function c(t){if(t.replySourceId==null&&t.replySourceTimestampMs==null)return{};function n(){return t.replySourceId!=null?{repliedToMessageOtid:o("InstamadilloMessageIdUtils").fromInstamadilloMessageId(t.replySourceId).stanzaId}:{}}function r(){return t.replySourceTimestampMs!=null?{repliedToMessageWaServerTimeSec:(e||(e=o("I64"))).to_string(t.replySourceTimestampMs)}:{}}return{repliedToMessage:babelHelpers.extends({},n(),r())}}function d(e,t){var n={content:{text:{text:t?void 0:e.text}},metadata:babelHelpers.extends({},s(e.ephemeralDurationInSec),u(e),c(e))};return n}function m(e,t){var n={content:{media:t},metadata:babelHelpers.extends({},s(e.ephemeralDurationInSec),u(e),c(e))};return n}function p(e,t){var n={content:{receiverFetchXma:JSON.parse(t)},metadata:babelHelpers.extends({},s(e.ephemeralDurationInSec),u(e),c(e))};return n}l.createInstamadilloAddMessageTextPayload=d,l.createInstamadilloAddMessageMediaPayload=m,l.createInstamadilloAddMessageReceiverFetchXmaPayload=p}),98);
__d("createInstamadilloTransportPayload",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t={add:e};return t}function l(e){var t={supplement:e};return t}function s(e){var t={delete:e};return t}function u(e){var t={franking:e};return t}i.createInstamadilloAddMessageTransportPayload=e,i.createInstamadilloSupplementMessageTransportPayload=l,i.createInstamadilloDeleteMessageTransportPayload=s,i.createInstamadilloFrankingTransportPayload=u}),66);
__d("MWBUtil",[],(function(t,n,r,o,a,i){"use strict";var e=30,l=["impersonation"],s=["ig_user_impersonation"],u=Array.of.apply(Array,l.concat(s));i.SPAM_REPORT_MESSAGE_COUNT=e,i.MSGR_IMPERSONATION_TAGS=l,i.IG_IMPERSONATION_TAGS=s,i.ALL_IMPERSONATION_TAGS=u}),66);
__d("MAWHandleEchoProtobufsRestoreApi",["EBLogger","EchoMessageMediaFieldUtils","EncryptedBackupsDYIMessageProcessingUtils","LSMEBTaskCreationSource","MAWJids","MAWMediaUtils","MAWMsg","MAWMsgType","MAWODSProxy","MAWUnstoredContentToUnstoredDbContentUtils","MessageBackupSupplementalKeyGenerator","WAAckLevel","WAArmadilloApplication.pb","WAArmadilloBackupMessage.pb","WABase64","WAConsumerApplication.pb","WAHashUtils","WAJids","WAMediaTransport.pb","WAMsgApplication.pb","WAMsgType","WAOdsEnums","WAParseMediaTransportProtocol","WAParseMessageApplication","WAStanzaUtils","WATimeUtils","decodeProtobuf"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I,T,D=o("EBLogger").EBLogger().tags(["ProtobufRestore"]);function x(t){var n=t.isMediaGalleryRestore,a=t.taskSource,i;return n!=null&&n?(o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.EB_RESTORE,key:"is_media_gallery_restore_param"}),D.WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["isMediaGalleryRestore is deprecated. Consider using taskSource insted"]))),i=r("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE):i=a!=null?a:r("LSMEBTaskCreationSource").UNKNOWN,babelHelpers.extends({},t,{isMediaGalleryRestore:void 0,taskSource:i})}function $(e,t,n){var r={author:n,chat:t,externalId:e};return r}function P(e,t,n,r,a,i,l,p,_,f,g,h,y,C,b,v){if(e===o("MAWMsgType").MSG_TYPE.TEXT)if(l==null){D.MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Text content cannot be null for msg type text - unable to restore msg"])));return}else{var S={ack:n===o("WAJids").AUTHOR_ME?o("WAAckLevel").ACK.SENT:o("WAAckLevel").ACK.RECEIVED,forwardingScore:i,id:r,isForwarded:a,msgContent:{content:l,mentionedJids:p!=null?p.map(o("WAJids").validateUserJid).filter(Boolean):void 0},ts:t,type:o("MAWMsgType").MSG_TYPE.TEXT};return S}else if(e===o("MAWMsgType").MSG_TYPE.VIDEO){var R={ack:n===o("WAJids").AUTHOR_ME?o("WAAckLevel").ACK.SENT:o("WAAckLevel").ACK.RECEIVED,forwardingScore:i,id:r,isForwarded:a,mediaId:void 0,ts:t,type:o("MAWMsgType").MSG_TYPE.VIDEO};return R}else if(e===o("MAWMsgType").MSG_TYPE.GIF){var L={ack:n===o("WAJids").AUTHOR_ME?o("WAAckLevel").ACK.SENT:o("WAAckLevel").ACK.RECEIVED,forwardingScore:i,id:r,isForwarded:a,mediaId:void 0,ts:t,type:o("MAWMsgType").MSG_TYPE.GIF};return L}else if(e===o("MAWMsgType").MSG_TYPE.IMAGE){var E={ack:n===o("WAJids").AUTHOR_ME?o("WAAckLevel").ACK.SENT:o("WAAckLevel").ACK.RECEIVED,forwardingScore:i,id:r,isForwarded:a,mediaId:void 0,ts:t,type:o("MAWMsgType").MSG_TYPE.IMAGE};return E}else if(e===o("MAWMsgType").MSG_TYPE.STICKER){var k={ack:n===o("WAJids").AUTHOR_ME?o("WAAckLevel").ACK.SENT:o("WAAckLevel").ACK.RECEIVED,forwardingScore:i,id:r,isForwarded:a,mediaId:void 0,ts:t,type:o("MAWMsgType").MSG_TYPE.STICKER};return k}else if(e===o("MAWMsgType").MSG_TYPE.PTT){var I={ack:n===o("WAJids").AUTHOR_ME?o("WAAckLevel").ACK.SENT:o("WAAckLevel").ACK.RECEIVED,forwardingScore:i,id:r,isForwarded:a,mediaId:void 0,ts:t,type:o("MAWMsgType").MSG_TYPE.PTT};return I}else if(e===o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE){var T={ack:n===o("WAJids").AUTHOR_ME?o("WAAckLevel").ACK.SENT:o("WAAckLevel").ACK.RECEIVED,forwardingScore:i,id:r,isForwarded:a,mediaId:void 0,ts:t,type:o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE};return T}else if(e===o("MAWMsgType").MSG_TYPE.XMA){var x={ack:n===o("WAJids").AUTHOR_ME?o("WAAckLevel").ACK.SENT:o("WAAckLevel").ACK.RECEIVED,forwardingScore:i,id:r,isForwarded:a,ts:t,type:o("MAWMsgType").MSG_TYPE.XMA};return x}else if(e===o("MAWMsgType").MSG_TYPE.REVOKED){if(_==null){D.MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["No revoked msg external id found for revoked msg"])));return}var $={ack:n===o("WAJids").AUTHOR_ME?o("WAAckLevel").ACK.SENT:o("WAAckLevel").ACK.RECEIVED,ebTimestampMs:null,id:r,msgContent:void 0,revokedExternalId:_,ts:t,type:o("MAWMsgType").MSG_TYPE.REVOKED,unsendMsgContentDeleteTs:t};return $}else if(e===o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE){var P={ack:o("WAAckLevel").ACK.SENT,id:r,ts:t,type:o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE};return P}else if(e===o("MAWMsgType").MSG_TYPE.RECEIVER_FETCH){var N={ack:n===o("WAJids").AUTHOR_ME?o("WAAckLevel").ACK.SENT:o("WAAckLevel").ACK.RECEIVED,forwardingScore:i,id:r,isForwarded:a,ts:t,type:o("MAWMsgType").MSG_TYPE.RECEIVER_FETCH};return N}else if(e===o("MAWMsgType").MSG_TYPE.RAVEN){if(f==null){D.MUSTFIX(c||(c=babelHelpers.taggedTemplateLiteralLoose(["No raven msg ephemeral type found for raven msg"])));return}if(g==null){D.MUSTFIX(d||(d=babelHelpers.taggedTemplateLiteralLoose(["No raven msg media type found for raven msg"])));return}var M={ack:n===o("WAJids").AUTHOR_ME?o("WAAckLevel").ACK.SENT:o("WAAckLevel").ACK.RECEIVED,id:r,mediaId:h,ravenEphemeralMediaState:o("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN,ravenEphemeralType:f,ravenMediaType:g,ts:t,type:o("MAWMsgType").MSG_TYPE.RAVEN};return M}else if(e===o("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE){if(y==null||C==null||b==null||v==null){D.MUSTFIX(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] One of the mandatory fields is missing for the group poll creation msg"])));return}var w={ack:n===o("WAJids").AUTHOR_ME?o("WAAckLevel").ACK.SENT:o("WAAckLevel").ACK.RECEIVED,id:r,ts:t,type:o("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE};return w}}function N(e,t,n,r,a){var i,l,s,u,c,d,m,C,b=e.metadata,v=e.msgType;if(b==null){D.MUSTFIX(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Missing required metadata, unable to create db msg from protobuf"])));return}if(v==null){D.MUSTFIX(_||(_=babelHelpers.taggedTemplateLiteralLoose(["Missing required msg type, unable to create db msg from protobuf"])));return}var S=b.messageId,R=b.senderId,L=(i=e.decodedPayload)==null?void 0:i.text,E=(l=e.decodedPayload)==null?void 0:l.mentionedJid;if(S==null){D.MUSTFIX(f||(f=babelHelpers.taggedTemplateLiteralLoose(["Missing required message id, unable to create db msg from protobuf"])));return}if(R==null){D.MUSTFIX(g||(g=babelHelpers.taggedTemplateLiteralLoose(["Missing required author, unable to create db msg from protobuf"])));return}var k=o("WATimeUtils").castMilliSecondsToUnixTime(e.sortOrderMs),I=o("MAWJids").toUserJid(R),T=o("WAStanzaUtils").toStanzaId(S),x=I===n?o("WAJids").AUTHOR_ME:I,N=$(T,t,I);if(e.editMsgData.length>0){var M=k;e.editMsgData.forEach(function(e){var t;if(e.ts>M&&((t=e.editMsgContent.message)==null?void 0:t.text)!=null){var n,r;M=e.ts,L=(n=e.editMsgContent.message)==null?void 0:n.text,E=(r=e.editMsgContent.message)==null?void 0:r.mentionedJid}})}var w=P(v,k,x,N,e.isForwarded,e.forwardingScore,L,E,e.revokedMsgExternalId,e.ravenMsgEphemeralType,e.ravenMsgMediaType,(s=e.ravenUnstoredMedia)==null?void 0:s.plaintextHash,(u=e.groupPollInfo)==null?void 0:u.encKey,(c=e.groupPollInfo)==null?void 0:c.name,(d=e.groupPollInfo)==null?void 0:d.options,(m=e.groupPollInfo)==null?void 0:m.selectableOptionsCount);if(w==null){D.MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Missing required fields, unable to create db msg from protobuf for thread jid "," and otid ",""])),t,T);return}var A;if(e.xmaData!=null&&((C=e.xmaData)==null?void 0:C.targetType)!=null){var F,O={author:I,externalId:T,targetType:(F=e.xmaData)==null?void 0:F.targetType,threadJid:t};A={unstoredAssociatedMedia:void 0,unstoredAssociatedMsg:void 0,unstoredFavicon:void 0,unstoredHeaderMedia:void 0,unstoredPreviews:void 0,xma:O}}var B={unstoredGroupPollCreateInfo:e.groupPollInfo,unstoredMedia:void 0,unstoredMsg:w,unstoredQuotedMedia:void 0,unstoredReceiverFetchInfo:e.receiverFetchInfo,unstoredXMA:A};w.type===o("MAWMsgType").MSG_TYPE.RAVEN&&e.ravenUnstoredMedia!=null&&(B.unstoredMedia=e.ravenUnstoredMedia);var W=o("MAWUnstoredContentToUnstoredDbContentUtils").unstoredContentToUnstoredDbContent(B);if(W.unstoredDbMsg!=null){var q=W.unstoredDbMsg;q.sortOrderMs=e.sortOrderMs,q.serverTs=o("WATimeUtils").castToUnixTime(e.sortOrderMs/1e3),e.noteReply!=null&&(q.quote={content:e.noteReply,remoteJid:void 0});var U=r.get(S);q.author!=null&&n===q.author&&q.author!==o("WAJids").AUTHOR_SYSTEM&&(q.author=o("WAJids").AUTHOR_ME),U!=null&&(q.quoteExternalId=o("WAStanzaUtils").toStanzaId(U)),v===o("MAWMsgType").MSG_TYPE.TEXT&&(q.editCount=e.editMsgData.length);var V={author:q.author,stanzaId:T,unstoredDbContent:W};return W.unstoredDbMedia!=null&&a!=null&&a.set(T,W.unstoredDbMedia),V}D.MUSTFIX(y||(y=babelHelpers.taggedTemplateLiteralLoose(["Failed to create db msg from protobuf"])))}function M(e){switch(e){case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE:return o("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.IMAGE_JPEG;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF:return o("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.GIF;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER:return o("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.STICKER;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO:return o("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.AUDIO_MP4;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO:return o("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.AUDIO_WAV;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.XMA_IMAGE:return o("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.IMAGE_JPEG;default:return null}}function w(e){switch(e){case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE:return o("EchoMessageMediaFieldUtils").AttachmentType.IMAGE;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF:return o("EchoMessageMediaFieldUtils").AttachmentType.GIF;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER:return o("EchoMessageMediaFieldUtils").AttachmentType.STICKER;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO:return o("EchoMessageMediaFieldUtils").AttachmentType.VIDEO;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO:return o("EchoMessageMediaFieldUtils").AttachmentType.PTT;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.XMA_IMAGE:return o("EchoMessageMediaFieldUtils").AttachmentType.XMA;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.DOCUMENT:return o("EchoMessageMediaFieldUtils").AttachmentType.DOCUMENT;default:return null}}function A(e){var t;switch(e){case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE:t="image/jpeg";break;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO:t="audio/wav";break;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO:t="video/mp4";break;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF:t="image/gif";break;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER:t="image/webp";break;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.XMA_IMAGE:t="image/jpeg";break;case o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.DOCUMENT:t="application/octet-stream";break;default:D.MUSTFIX(C||(C=babelHelpers.taggedTemplateLiteralLoose(["Unsupported media type, cannot get mimetype for attachment"])))}return t}function F(e,t,n){var r,a,i,l,s,u,c,d,m,p,_=t,f=e.ancillary,g=e.integral,h=g==null||(r=g.transport)==null||(r=r.integral)==null?void 0:r.fileSha256,y=g==null||(a=g.transport)==null||(a=a.integral)==null?void 0:a.fileEncSha256,C=g==null||(i=g.transport)==null||(i=i.integral)==null?void 0:i.mediaKey,S=(g==null||(l=g.transport)==null||(l=l.integral)==null?void 0:l.mediaKeyTimestamp)!=null&&typeof(g==null||(s=g.transport)==null?void 0:s.integral.mediaKeyTimestamp)=="number"?g==null||(u=g.transport)==null?void 0:u.integral.mediaKeyTimestamp:void 0;o("MAWMediaUtils").isTransportLegacyGif(e)&&(_=o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF);var R=g==null||(c=g.transport)==null||(c=c.ancillary)==null||(c=c.thumbnail)==null?void 0:c.thumbnailHeight,L=g==null||(d=g.transport)==null||(d=d.ancillary)==null||(d=d.thumbnail)==null?void 0:d.thumbnailWidth,E=M(_),k=w(_);if(k===null){D.MUSTFIX(b||(b=babelHelpers.taggedTemplateLiteralLoose(["Invalid attachment type, cannot restore attachment"])));return}var I=o("EncryptedBackupsDYIMessageProcessingUtils").decodeMediaEntryFromAttachmentPayload(e,k===o("EchoMessageMediaFieldUtils").AttachmentType.XMA,n);I.success||D.WARN(v||(v=babelHelpers.taggedTemplateLiteralLoose(["Cannot generate media entry data, ",""])),I.error);var T={attachmentObjectId:g==null||(m=g.transport)==null||(m=m.ancillary)==null?void 0:m.objectId,attachmentType:k,directPath:g==null||(p=g.transport)==null||(p=p.integral)==null?void 0:p.directPath,encryptedHash:y!=null?o("WAHashUtils").toPlaintextHash(y):void 0,filename:n,height:f==null?void 0:f.height,mediaEntryData:I.value,mediaKey:C!=null?o("WABase64").encodeB64UrlSafe(C):void 0,mediaKeyTimestamp:S,mediaPlayableDuration:f==null?void 0:f.seconds,plaintextHash:h!=null?o("WAHashUtils").toPlaintextHash(h):void 0,width:f==null?void 0:f.width,xAttachmentType:_,xContentType:"full"},x=A(_);return x!=null&&(T.mediaContentType=x),E!=null&&(T.previewContentType=E,T.previewContentHeight=R,T.previewContentWidth=L),o("EchoMessageMediaFieldUtils").convertMediaMetadataDetailsToMediaMetadata(T,"protobuf")}function O(e,t,n){var r,a=F(e,t,n);if(a==null)return{mediaMetadata:void 0,previewMetadata:null};var i=e.integral,l=null,s=i==null||(r=i.transport)==null||(r=r.ancillary)==null||(r=r.thumbnail)==null?void 0:r.downloadableThumbnail;if(s!=null){var u=s.fileSha256,c=s.fileEncSha256,d=s.mediaKey,m=typeof s.mediaKeyTimestamp=="number"?s.mediaKeyTimestamp:void 0;return l={attachmentObjectId:s.objectId,attachmentType:o("EchoMessageMediaFieldUtils").AttachmentType.IMAGE,directPath:s.directPath,encryptedHash:c!=null?o("WAHashUtils").toPlaintextHash(c):void 0,filename:void 0,height:void 0,mediaKey:d!=null?o("WABase64").encodeB64UrlSafe(d):void 0,mediaKeyTimestamp:m,mediaPlayableDuration:void 0,plaintextHash:u!=null?o("WAHashUtils").toPlaintextHash(u):void 0,width:void 0,xAttachmentType:o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.MESSENGER_PREVIEW,xContentType:"preview"},{mediaMetadata:a,previewMetadata:o("EchoMessageMediaFieldUtils").convertMediaMetadataDetailsToMediaMetadata(l,"protobuf")}}return{mediaMetadata:a,previewMetadata:null}}function B(e,t,n,r,a,i){i===void 0&&(i=null),t!=null&&e!=null&&(n.push({mediaMetadata:t,mediaRestoreType:r,previewMetadata:i}),a.set(o("WAStanzaUtils").toStanzaId(e),n))}function W(e){switch(e){case 0:return o("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE;case 1:return o("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY;case 2:return o("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT;default:return}}function q(e,t,n,r,a,i,l,s,u,c,d){var m,p,_,f,g,h,y,C,b,v,I=V(e,i,l,s),T=I==null||(m=I.obj.payload)==null?void 0:m.content,x={editMsgData:[],externalId:r,forwardingScore:(p=I==null||(_=I.metadata)==null?void 0:_.forwardingScore)!=null?p:0,isForwarded:(f=I==null||(g=I.metadata)==null?void 0:g.isForwarded)!=null?f:!1,metadata:e.metadata,reactionData:[],sortOrderMs:t,unknownFieldCount:e.$$unknownFieldCount},$,P=[];if(T!=null){if(T.messageText!=null)return x.msgType=o("MAWMsgType").MSG_TYPE.TEXT,x.decodedPayload=T.messageText,x;if(T.extendedContentMessage!=null){var N,M,w;if(x.msgType=o("MAWMsgType").MSG_TYPE.XMA,x.xmaData=T.extendedContentMessage,((N=T.extendedContentMessage)==null?void 0:N.headerImage)!=null){var A,q=o("decodeProtobuf").decodeProtobufWithUnknowns(o("WAMediaTransport.pb").ImageTransportSpec,(A=T.extendedContentMessage)==null?void 0:A.headerImage.payload),H=F(q,o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE);B(r,H,P,"xma_header",u)}if(((M=T.extendedContentMessage)==null?void 0:M.favicon)!=null){var G,z=o("decodeProtobuf").decodeProtobufWithUnknowns(o("WAMediaTransport.pb").ImageTransportSpec,(G=T.extendedContentMessage)==null?void 0:G.favicon.payload),j=F(z,o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE);B(r,j,P,"xma_favicon",u)}if(((w=T.extendedContentMessage)==null?void 0:w.previews)!=null){var K;(K=T.extendedContentMessage)==null||K.previews.forEach(function(e){var t=o("decodeProtobuf").decodeProtobufWithUnknowns(o("WAMediaTransport.pb").ImageTransportSpec,e.payload),n=F(t,o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE);x.mediaMetadata=n,B(r,n,P,"xma_preview",u)})}return x}else if(T.audioMessage!=null){var Q,X=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").AudioTransportSpec,(Q=T.audioMessage)==null||(Q=Q.audio)==null?void 0:Q.payload);return $=F(X,o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO),x.msgType=o("MAWMsgType").MSG_TYPE.PTT,x.mediaMetadata=$,B(r,$,P,"attachment",u),x}else if(T.videoMessage!=null){var Y,J=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").VideoTransportSpec,(Y=T.videoMessage)==null||(Y=Y.video)==null?void 0:Y.payload),Z=O(J,o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO),ee=Z.mediaMetadata,te=Z.previewMetadata;return $=ee,$!=null&&$.xAttachmentType===o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF?x.msgType=o("MAWMsgType").MSG_TYPE.GIF:x.msgType=o("MAWMsgType").MSG_TYPE.VIDEO,x.mediaMetadata=$,B(r,$,P,"attachment",u,te),x}else if(T.imageMessage!=null){var ne,re=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").ImageTransportSpec,(ne=T.imageMessage)==null||(ne=ne.image)==null?void 0:ne.payload),oe=O(re,o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE),ae=oe.mediaMetadata,ie=oe.previewMetadata;return $=ae,x.msgType=o("MAWMsgType").MSG_TYPE.IMAGE,x.mediaMetadata=$,B(r,$,P,"attachment",u,ie),x}else if(T.stickerMessage!=null){var le,se,ue=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").StickerTransportSpec,(le=T.stickerMessage)==null||(le=le.sticker)==null?void 0:le.payload);if(((se=ue.integral)==null?void 0:se.receiverFetchId)!=null){var ce=o("WAParseMediaTransportProtocol").parseStickerReceiverFetchInfo(ue);return ce==null?(D.MUSTFIX(S||(S=babelHelpers.taggedTemplateLiteralLoose(["[MAWHandleEchoProtobufsRestoreApi] consumerMessage has no sticker receiver fetch info"]))),x):(x.msgType=o("MAWMsgType").MSG_TYPE.RECEIVER_FETCH,x.receiverFetchInfo=ce,x)}return $=F(ue,o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER),x.msgType=o("MAWMsgType").MSG_TYPE.STICKER,x.mediaMetadata=$,B(r,$,P,"attachment",u),x}else if(T.documentMessage!=null){var de,me,pe=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").DocumentTransportSpec,(de=T.documentMessage)==null||(de=de.document)==null?void 0:de.payload);return $=F(pe,o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.DOCUMENT,(me=T.documentMessage)==null?void 0:me.fileName),x.msgType=o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE,x.mediaMetadata=$,B(r,$,P,"attachment",u),x}}else if((I==null||(h=I.obj.payload)==null||(h=h.applicationData)==null?void 0:h.revoke)!=null){var _e,fe=I==null||(_e=I.obj.payload)==null||(_e=_e.applicationData)==null||(_e=_e.revoke)==null||(_e=_e.key)==null?void 0:_e.id;if(fe==null)D.MUSTFIX(R||(R=babelHelpers.taggedTemplateLiteralLoose(["Unable to retrieve revoked message external id"])));else return x.revokedMsgExternalId=o("WAStanzaUtils").toStanzaId(fe),x.msgType=o("MAWMsgType").MSG_TYPE.REVOKED,x}if((I==null||(y=I.obj.payload)==null||(y=y.content)==null?void 0:y.bumpExistingMessage)!=null){var ge,he,ye,Ce=I==null||(ge=I.obj.payload)==null||(ge=ge.content)==null?void 0:ge.bumpExistingMessage,be=(he=Ce.key)==null?void 0:he.id;be!=null&&(l.has(be)||i.add(be),s.set(r,be));var ve=(ye=Ce.key)==null?void 0:ye.participant;if(ve==null){var Se;ve=(Se=Ce.key)==null?void 0:Se.remoteJid}if(ve==null)D.MUSTFIX(L||(L=babelHelpers.taggedTemplateLiteralLoose(["No author found for original message that was bumped - unable to restore"])));else{var Re=o("WAJids").unsafeCoerceToUserJid(ve),Le=Re===n?o("WAJids").AUTHOR_ME:Re;return c.set(o("WAStanzaUtils").toStanzaId(r),Le),x.msgType=o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE,x}}if((I==null||(C=I.obj)==null||(C=C.payload)==null||(C=C.content)==null?void 0:C.noteReplyMessage)!=null){var Ee,ke,Ie=I==null||(Ee=I.obj)==null||(Ee=Ee.payload)==null||(Ee=Ee.content)==null?void 0:Ee.noteReplyMessage,Te=Ie.noteTimestampMs,De=Ie.noteText,xe=(ke=e.metadata)==null?void 0:ke.senderId;if(Te!=null&&typeof Te=="number"&&xe!=null&&a!=null){var $e=o("MAWJids").toUserJid(xe),Pe=o("MAWJids").toUserJid(a),Ne=Pe===$e?n:Pe,Me={author:Ne===n?o("WAJids").AUTHOR_ME:Ne,externalId:o("WAStanzaUtils").toStanzaId(r),ts:o("WATimeUtils").castMilliSecondsToUnixTime(Te),type:o("WAMsgType").NOTE_REPLY};if((De==null?void 0:De.text)!=null){var we={content:De==null?void 0:De.text,mentionedJids:De==null?void 0:De.mentionedJid.map(function(e){return o("MAWJids").toUserJid(e)})};Me.msgContent=we}x.noteReply=Me}if(Ie.textContent!=null)return x.msgType=o("MAWMsgType").MSG_TYPE.TEXT,x.decodedPayload=Ie.textContent,x;if(Ie.stickerContent!=null){var Ae=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").StickerTransportSpec,Ie.stickerContent.payload);return $=F(Ae,o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER),x.msgType=o("MAWMsgType").MSG_TYPE.STICKER,x.mediaMetadata=$,B(r,$,P,"attachment",u),x}else if(Ie.videoContent!=null){var Fe=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").VideoTransportSpec,Ie.videoContent.payload);return $=F(Fe,o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO),$!=null&&$.xAttachmentType===o("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF?x.msgType=o("MAWMsgType").MSG_TYPE.GIF:x.msgType=o("MAWMsgType").MSG_TYPE.VIDEO,x.mediaMetadata=$,B(r,$,P,"attachment",u),x}}if((I==null||(b=I.obj)==null||(b=b.payload)==null||(b=b.content)==null?void 0:b.ravenMessageMsgr)!=null){var Oe,Be,We;if(x.ravenMsgEphemeralType=W(I==null||(Oe=I.obj)==null||(Oe=Oe.payload)==null||(Oe=Oe.content)==null||(Oe=Oe.ravenMessageMsgr)==null?void 0:Oe.ephemeralType),(I==null||(Be=I.obj)==null||(Be=Be.payload)==null||(Be=Be.content)==null||(Be=Be.ravenMessageMsgr)==null?void 0:Be.imageMessage)!=null){if(d==null||!d){var qe;x.ravenUnstoredMedia=o("WAParseMediaTransportProtocol").decodeImageTransport(I==null||(qe=I.obj)==null||(qe=qe.payload)==null||(qe=qe.content)==null||(qe=qe.ravenMessageMsgr)==null||(qe=qe.imageMessage)==null?void 0:qe.payload,o("WATimeUtils").castMilliSecondsToUnixTime(x.sortOrderMs),"image")}x.ravenMsgMediaType=o("MAWMsg").MAWRavenMsgMediaType.IMAGE}else if((I==null||(We=I.obj)==null||(We=We.payload)==null||(We=We.content)==null||(We=We.ravenMessageMsgr)==null?void 0:We.videoMessage)!=null){if(d==null||!d){var Ue,Ve=o("decodeProtobuf").decodeProtobufWithUnknowns(o("WAMediaTransport.pb").VideoTransportSpec,I==null||(Ue=I.obj)==null||(Ue=Ue.payload)==null||(Ue=Ue.content)==null||(Ue=Ue.ravenMessageMsgr)==null||(Ue=Ue.videoMessage)==null?void 0:Ue.payload),He=o("WAParseMediaTransportProtocol").parseVideoMsg(Ve,o("WATimeUtils").castMilliSecondsToUnixTime(x.sortOrderMs),!1);He!=null?x.ravenUnstoredMedia=He:D.MUSTFIX(E||(E=babelHelpers.taggedTemplateLiteralLoose(["Decoded raven video unstored message is null - unable to restore"])))}x.ravenMsgMediaType=o("MAWMsg").MAWRavenMsgMediaType.VIDEO}return x.msgType=o("MAWMsgType").MSG_TYPE.RAVEN,x}else if((I==null||(v=I.obj)==null||(v=v.payload)==null||(v=v.content)==null?void 0:v.pollCreationMessage)!=null){x.msgType=o("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE;var Ge=I.obj.payload.content.pollCreationMessage,ze=Ge.encKey,je=Ge.name,Ke=Ge.options,Qe=Ge.selectableOptionsCount;return ze!=null&&je!=null&&Ke!=null&&(x.groupPollInfo={encKey:ze,name:je,options:Ke.map(function(e){var t=e.optionName;return t}).filter(Boolean),selectableOptionsCount:Qe||0}),x}return I!=null&&U(x,I.obj),D.MUSTFIX(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Unable to retrieve decoded protobuf from backup message - unsupported message type"]))),x}function U(e,t){var n,r,o,a,i,l,s,u,c,d,m,p,_,f;(t==null||(n=t.payload)==null||(n=n.content)==null?void 0:n.locationMessage)!=null&&(e.futureProofMessageType="locationMessage"),(t==null||(r=t.payload)==null||(r=r.content)==null?void 0:r.liveLocationMessage)!=null&&(e.futureProofMessageType="liveLocationMessage"),(t==null||(o=t.payload)==null||(o=o.content)==null?void 0:o.pollUpdateMessage)!=null&&(e.futureProofMessageType="pollUpdateMessage"),(t==null||(a=t.payload)==null||(a=a.content)==null?void 0:a.viewOnceMessage)!=null&&(e.futureProofMessageType="viewOnceMessage"),(t==null||(i=t.payload)==null||(i=i.content)==null?void 0:i.contactMessage)!=null&&(e.futureProofMessageType="contactMessage"),(t==null||(l=t.payload)==null||(l=l.content)==null?void 0:l.extendedTextMessage)!=null&&(e.futureProofMessageType="extendedTextMessage"),(t==null||(s=t.payload)==null||(s=s.content)==null?void 0:s.groupInviteMessage)!=null&&(e.futureProofMessageType="groupInviteMessage"),(t==null||(u=t.payload)==null||(u=u.content)==null?void 0:u.commonSticker)!=null&&(e.futureProofMessageType="commonSticker"),(t==null||(c=t.payload)==null||(c=c.content)==null?void 0:c.screenshotAction)!=null&&(e.futureProofMessageType="screenshotAction"),(t==null||(d=t.payload)==null||(d=d.content)==null?void 0:d.extendedMessageContentWithSear)!=null&&(e.futureProofMessageType="extendedMessageContentWithSear"),(t==null||(m=t.payload)==null||(m=m.content)==null?void 0:m.imageGalleryMessage)!=null&&(e.futureProofMessageType="imageGalleryMessage"),(t==null||(p=t.payload)==null||(p=p.content)==null?void 0:p.paymentsTransactionMessage)!=null&&(e.futureProofMessageType="paymentsTransactionMessage"),(t==null||(_=t.payload)==null||(_=_.applicationData)==null?void 0:_.metadataSync)!=null&&(e.futureProofMessageType="metadataSync"),(t==null||(f=t.payload)==null||(f=f.applicationData)==null?void 0:f.aiBotResponse)!=null&&(e.futureProofMessageType="aiBotResponse")}function V(e,t,n,r){var a,i=(a=e.metadata)==null?void 0:a.messageId,l=o("decodeProtobuf").decodeProtobuf(o("WAMsgApplication.pb").MessageApplicationSpec,e.encryptedTransportMessage),s=o("WAParseMessageApplication").parseMessageApplication(l);if(s.type==="error"){D.MUSTFIX(I||(I=babelHelpers.taggedTemplateLiteralLoose(["Message contains unparseable message application - unable to restore message"])));return}var u=l.metadata,c=u==null?void 0:u.quotedMessage,d=c==null?void 0:c.stanzaId;if(i!=null&&d!=null&&(n.has(d)||t.add(d),r.set(i,d)),s.subprotocolType==="armadillo"){var m=o("decodeProtobuf").decodeProtobufWithUnknowns(o("WAArmadilloApplication.pb").ArmadilloSpec,s.payload);return{metadata:u,obj:m}}else if(s.subprotocolType==="consumerMessage")return{metadata:u,obj:o("decodeProtobuf").decodeProtobufWithUnknowns(o("WAConsumerApplication.pb").ConsumerApplicationSpec,s.payload)}}function H(e,t,n,r,o,a,i,l,s){return e.map(function(e){return G(e,t,n,r,o,a,i,l,s)})}function G(e,t,n,r,a,i,l,s,u){i===void 0&&(i=new Map);var c=o("decodeProtobuf").decodeProtobuf(o("WAArmadilloBackupMessage.pb").BackupMessageSpec,e.toplevelProtobuf.decryptedProtobuf),d=q(c,e.toplevelProtobuf.protobufTimestampMS,t,e.otid,n,r,a,i,l,s,u),m=e.supplementalProtobufs;for(var p of m){var _=p[0],f=p[1],g=o("MessageBackupSupplementalKeyGenerator").parseIdentifierString(_);o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.MAW_EB_DECODE_MESSAGE_PROTOBUF_SUPPLEMENTAL,key:g.type});var h=o("decodeProtobuf").decodeProtobuf(o("WAArmadilloBackupMessage.pb").BackupMessageSpec,f.decryptedProtobuf);if(h.encryptedTransportMessage!=null)switch(g.type){case"raven_action_message":{var y=V(h,r,a,i),C=g.senderJid,b=C===t?o("WAJids").AUTHOR_ME:C;if(y!=null){var v,S,R,L=y.obj,E=(v=L.payload)==null||(v=v.content)==null||(v=v.ravenActionNotifMessage)==null?void 0:v.actionTimestamp,k=(S=L.payload)==null||(S=S.content)==null||(S=S.ravenActionNotifMessage)==null?void 0:S.actionType;if(E!=null&&k!=null&&typeof E=="number"&&((R=L.payload)==null||(R=R.content)==null||(R=R.ravenActionNotifMessage)==null||(R=R.key)==null?void 0:R.id)!=null){var I,x,$,P,N=o("WAStanzaUtils").toStanzaId((I=L.payload)==null||(I=I.content)==null||(I=I.ravenActionNotifMessage)==null||(I=I.key)==null?void 0:I.id);if(((x=h.metadata)==null?void 0:x.timestampMs)!=null&&typeof(($=h.metadata)==null?void 0:$.timestampMs)=="number"&&((P=h.metadata)==null?void 0:P.messageId)!=null){var M,w,A=(M=h.metadata)==null?void 0:M.messageId,F=o("WATimeUtils").castMilliSecondsToUnixTime((w=h.metadata)==null?void 0:w.timestampMs),O=o("WAStanzaUtils").toStanzaId(A),B=k===0?o("MAWMsg").MAWRavenActionNotifType.PLAYED:k===1?o("MAWMsg").MAWRavenActionNotifType.SCREENSHOTTED:o("MAWMsg").MAWRavenActionNotifType.FORCE_DISABLED,W={ack:o("WAAckLevel").ACK.RECEIVED,actionTimestamp:o("WATimeUtils").castMilliSecondsToUnixTime(E),actionType:B,author:b,externalId:O,ravenActionToMsgExternalId:N,ts:F,type:o("MAWMsgType").MSG_TYPE.RAVEN_ACTION};d.ravenActionUnstoredMsg=W}}}break}case"reaction":{var U,H,G=(U=h.metadata)==null?void 0:U.messageId,z=(H=V(h,r,a,i))==null||(H=H.obj.payload)==null||(H=H.content)==null?void 0:H.reactionMessage,j=o("WAJids").extractUserId(g.senderJid);z!=null&&j!=null&&d.reactionData.push({reaction:z,reactionExternalId:G,senderId:j,ts:o("WATimeUtils").castMilliSecondsToUnixTime(f.protobufTimestampMS)});break}case"edit":{var K,Q,X=(K=V(h,r,a,i))==null||(K=K.obj.payload)==null||(K=K.content)==null?void 0:K.editMessage,Y=(Q=h.metadata)==null?void 0:Q.senderId;if(X!=null){var J,Z=(J=X.key)==null?void 0:J.id,ee=X.timestampMs;if(Z!=null&&ee!=null&&Y!=null&&typeof ee=="number"){var te=o("MAWJids").toUserJid(Y),ne=te===t?o("WAJids").AUTHOR_ME:te;d.editMsgData.push({author:ne,editMsgContent:X,externalId:o("WAStanzaUtils").toStanzaId(d.externalId),originalMsgExternalId:o("WAStanzaUtils").toStanzaId(Z),ts:o("WATimeUtils").castMilliSecondsToUnixTime(ee)})}}break}case"poll_update":{var re,oe=V(h,r,a,i);if(oe==null)continue;var ae=(re=oe.obj.payload)==null||(re=re.content)==null?void 0:re.pollUpdateMessage;if(ae!=null){var ie={externalId:o("WAStanzaUtils").toStanzaId(g.rawIdentifierString)};ae.addOption!=null&&(ie.addOption=ae.addOption),ae.vote!=null&&(ie.vote=ae.vote),ae.pollCreationMessageKey!=null&&(ie.pollCreationMessageKey=ae.pollCreationMessageKey),d.groupPollUpdateData!=null?d.groupPollUpdateData.push(ie):d.groupPollUpdateData=[ie]}break}case"unknown":{var le=_.split(":"),se=le[0];D.MUSTFIX(T||(T=babelHelpers.taggedTemplateLiteralLoose(["Unknown supplemental identifier. Identifier prefix: ",". Parts: ",""])),se||"null",le.length);break}default:g.type}}return a.add(e.otid),d}l.removeDeprecatedProtobufRestoreArgs=x,l.createUnstoredDbContentFromProtobufObject=N,l.decodeProtobufArray=H,l.decodeDecryptedMessageProtobuf=G}),98);
__d("MAWStateManagerSyncToMainThread",["FBLogger","MAWBridge","WACommsConnectionState"],(function(t,n,r,o,a,i,l){"use strict";var e={WACommsConnectionState:o("WACommsConnectionState").WACommsConnectionState};function s(){var t=function(n){var t=e[n];d(n,t.get()),t.onSet(function(e){d(n,e)})};for(var n of Object.keys(e))t(n)}function u(t,n){var o=e[t];if(o==null){r("FBLogger")("messenger_e2ee_web").warn("Unable to find GenericStateManager for key %s",t);return}o.set(n)}function c(){for(var t of Object.keys(e)){var n=e[t];d(t,n.get())}}function d(e,t){o("MAWBridge").getBridge().fireAndForget("event","updateStateManagerStateInMainThread",{stateManagerKey:e,value:t})}l.subscribeAndSyncStateManagerValuesToMainThread=s,l.updateStateManagerInMainThreadFromBridgeCall=u,l.resendCurrentValuesToMainThread=c}),98);
__d("WAFrameSocket",["WABinary","WAErrors","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(function(e){function t(t){var n,r="SocketClosed";return n=e.call(this,t!=null?t:r)||this,n.name=r,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.toString=function(){return this.name},t})(babelHelpers.wrapNativeSuper(Error)),m=(function(){function t(t,n){var r=this;this.$3=new(o("WABinary")).Binary,this.closed=!1,this.$4=!1,this.onFrame=null,this.onClose=null,this.$5=function(e){r.$3.writeByteArray(e),r.convertBufferedToFrames()},this.$6=function(){if(r.$3.peek(p)){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["FrameSocket closed, waiting for pending processing"]))),r.$4=!0;return}r.$9()},this.$7=function(e){},this.$2=n,this.$1=t,t.onData=this.$5,t.onClose=this.$6,t.onError=this.$7}var n=t.prototype;return n.sendFrame=function(t){if(!this.$4){this.throwIfClosed();var e=this.$2,n=t.byteLength;this.$8(n);var r=this.$1.dataToSend;e?(this.$2=null,r.ensureAdditionalCapacity(e.length+3+n),r.writeByteArray(e)):r.ensureAdditionalCapacity(3+n),r.writeUint8(n>>16),r.writeUint16(n&65535),r.write(t),this.$1.requestSend()}},n.$9=function(){if(!this.closed){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["FrameSocket closed"]))),this.$4=!1,this.closed=!0;var e=this.onClose;e&&e()}},n.$8=function(t){if(t>=1<<24)throw o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Buffer to send: ",""])),t),new(o("WAErrors")).BufferTooLargeError("Buffer too large: "+t)},n.convertBufferedToFrames=function(){for(var e=this.$3,t=this.onFrame;t&&e.peek(p);){var n=_(e),r=e.readByteArrayView(n);t(r),t=this.onFrame}this.$4&&!e.peek(p)&&this.$9(),t&&e.size()&&o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["FrameSocket: queueing partial frame of "," bytes"])),e.size())},n.throwIfClosed=function(){if(this.closed)throw new d},n.close=function(){this.$1.close()},t})();function p(e){if(e.size()<3)return!1;var t=_(e);return t<=e.size()}function _(e){return e.readUint8()<<16|e.readUint16()}l.SocketClosed=d,l.FrameSocket=m}),98);
__d("WANoiseSocket",["Promise","WACryptoDependencies","WALogger","WAPromiseQueue","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=n("Promise"))).reject("UNINITIALIZED HANDSHAKE"),c=new Uint8Array(0);u.catch(function(){});var d=(function(){function t(t,n,r){var a=this;this.$4=[],this.$5=new(o("WAPromiseQueue")).PromiseQueue,this.$6=new(o("WAPromiseQueue")).PromiseQueue,this.$7=0,this.$8=0,this.$9=!1,this.$14=function(t){a.$1.closed?o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["NoiseSocket socket closed while encrypting frame"]))):a.$1.sendFrame(t)},this.$12=function(e){var t=a.$7++;a.$5.enqueueHandlers(_(a.$2,t,void 0,e),a.$15)},this.$13=function(){a.$9=!0,a.$5.wait().then(function(){a.$9=!1;var e=a.$11;e&&e()})},this.$15=function(e){a.$10?a.$10(e):a.$4.push(e)},this.$1=t,this.$3=n,this.$2=r,t.onFrame=this.$12,this.$1.onClose=this.$13,t.convertBufferedToFrames()}var r=t.prototype;return r.sendFrameAsync=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield this.sendFrame(e);return t});function t(t){return e.apply(this,arguments)}return t})(),r.sendFrame=function(t){if(this.$9)return(s||(s=n("Promise"))).resolve();this.$1.throwIfClosed();var e=this.$8++;return this.$6.enqueueHandlers(p(this.$3,e,void 0,t),this.$14)},r.setOnFrame=function(t){this.$10=t},r.setOnClose=function(t){this.$11=t},r.close=function(){this.$1.close()},t})();function m(e){var t=new ArrayBuffer(12),n=new DataView(t);return n.setUint32(8,e),new Uint8Array(t)}function p(e,t,n,r){return o("WACryptoDependencies").getCrypto().subtle.encrypt({name:"AES-GCM",iv:m(t),additionalData:n?new Uint8Array(n):c},e,r)}function _(e,t,n,r){return o("WACryptoDependencies").getCrypto().subtle.decrypt({name:"AES-GCM",iv:m(t),additionalData:n?new Uint8Array(n):c},e,r)}l.NoiseSocket=d}),98);
__d("MAWDbGetDeviceChangeAlertsTxn",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e.deviceChangeAlerts.get(t)}i.getDeviceChangeAlertsTxn=e}),66);
__d("WADevToolsDebugFns",["WADevToolsBridge"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t={};for(var n in e){var r=e[n];t[n]={id:n,args:r.serializedArgs,desc:r.desc,title:r.name}}o("WADevToolsBridge").getDevToolBridge().setHandlers("backend",{getDebugFns:function(){return t},callDebugFn:function(n){var t,r=n.args,o=n.id;(t=e[o]).execute.apply(t,r)}})}function s(e,t){return babelHelpers.extends({name:e},t)}l.registerDebugFnsToDevTool=e,l.defineDebugFunction=s}),98);
__d("MAWDebugSendMultipleMsgs",["MAWBridge","MAWExternalId","MAWLoggerUtils","Promise","WADevToolsDebugFns","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("WADevToolsDebugFns").defineDebugFunction("sendMultipleMsgs",{desc:"Sends multiple messages to a thread",execute:function(a,i){return(e||(e=n("Promise"))).all(Array.from(Array(i).keys()).map(function(e){return o("MAWBridge").getBridge().sendAndReceive("backend","sendMsg",{args:{content:e+" message"},chatJid:a,externalId:o("MAWExternalId").generateExternalId(),qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:o("MAWLoggerUtils").getInstanceKey()})}))},serializedArgs:[{desc:"ChatJid of the thread to send messages to",name:"chatJid",placeholder:"1234@msgr",type:"string"},{desc:"Number of messages to send",name:"numberOfMsgs",placeholder:"100",type:"number"}]});l.sendMultipleMsgs=s}),98);
__d("WAIndexDBStorage",["Promise","err"],(function(t,n,r,o,a,i,l){var e,s="idb-storage-testing-db",u="idb-storage-testing-store";function c(){return new(e||(e=n("Promise")))(function(e,t){var n=indexedDB.open(s);n.onerror=function(e){t(e.target.error)},n.onupgradeneeded=function(e){var t=e.target.result;t.createObjectStore(u)},n.onsuccess=function(t){var n=t.target.result;e(n)}})}function d(t){var r=t.fileBuffer,o=t.idb,a=t.key;return new(e||(e=n("Promise")))(function(e,t){var n=o.transaction([u],"readwrite");n.oncomplete=function(){e()},n.onerror=function(e){t(e.target.error)},n.onabort=function(e){t(e.target.error)};var i=n.objectStore(u),l=i.put(r,a);l.onerror=function(e){t(e.target.error)},l.onsuccess=function(){e()}})}function m(t){var o=t.idb,a=t.key;return new(e||(e=n("Promise")))(function(e,t){var n=o.transaction([u],"readonly");n.onerror=function(e){t(e.target.error)},n.onabort=function(e){t(e.target.error)};var i=n.objectStore(u),l=i.get(a);l.onerror=function(e){t(e.target.error)},l.onsuccess=function(){if(!(l.result instanceof ArrayBuffer)){t(r("err")("Result is not an ArrayBuffer"));return}e(l.result)}})}function p(t){var r=t.idb;return new(e||(e=n("Promise")))(function(e,t){var n=r.transaction([u],"readwrite");n.oncomplete=function(){e()},n.onerror=function(e){t(e.target.error)},n.onabort=function(e){t(e.target.error)};var o=n.objectStore(u),a=o.clear();a.onerror=function(e){t(e.target.error)},a.onsuccess=function(){e()}})}function _(e){var t=e.idb;t.close(),indexedDB.deleteDatabase(s)}l.prepareIDB=c,l.writeToIDB=d,l.readFromIDB=m,l.cleanupIDB=p,l.deleteIdb=_}),98);
__d("WAOpfsSyncStorage",["Promise","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i){"use strict";var e,l="opfs-storage-testing-filesystem";function s(){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t;if((navigator==null||(t=navigator.storage)==null?void 0:t.getDirectory)==null)return(e||(e=n("Promise"))).reject("OPFS is not supported");var r=yield navigator.storage.getDirectory(),o=yield r.getDirectoryHandle(l,{create:!0});return o}),u.apply(this,arguments)}function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.directoryHandle,n=e.fileBuffer,r=e.fileName,o=yield t.getFileHandle(r,{create:!0}),a=yield o.createSyncAccessHandle(),i=new DataView(n);return a.write(i,{at:0}),a.close()}),d.apply(this,arguments)}function m(e){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.directoryHandle,n=e.fileName,r=yield t.getFileHandle(n),o=yield r.createSyncAccessHandle(),a=o.getSize(),i=new ArrayBuffer(a),l=new DataView(i);return yield o.read(l,{at:0}),o.close(),i}),p.apply(this,arguments)}function _(e){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r,o=t.directoryHandle,a=t.fileName;if((navigator==null||(r=navigator.storage)==null?void 0:r.getDirectory)==null)return(e||(e=n("Promise"))).reject("OPFS is not supported");yield o.removeEntry(a)}),f.apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r,o=t.directoryHandle;if((navigator==null||(r=navigator.storage)==null?void 0:r.getDirectory)==null)return(e||(e=n("Promise"))).reject("OPFS is not supported");var a=0,i=!1,l=!1,s;try{for(var u=babelHelpers.asyncIterator(o.values()),c;i=!(c=yield u.next()).done;i=!1){var d=c.value;a++}}catch(e){l=!0,s=e}finally{try{i&&u.return!=null&&(yield u.return())}finally{if(l)throw s}}return a}),h.apply(this,arguments)}i.prepareFileSystem=s,i.writeToFileSystem=c,i.readFromFileSystem=m,i.cleanupFileSystem=_,i.getFileCount=g}),66);
__d("WATestBenchmark",["asyncToGeneratorRuntime"],(function(t,n,r,o,a,i){var e=function(){return performance.now()};function l(e,t,n){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,o){var a={},i=[],l=(function(){var o=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n,o){i.push(n),a[n]=[];for(var l=0;l<t;l++){for(var s=e(),u=0;u<r;u++)yield o(l,u);var c=e();a[n].push((c-s)/r)}});return function(t,n){return o.apply(this,arguments)}})();return yield o(l),i.map(function(e){var t=a[e].sort(function(e,t){return e-t}),n=t.length;return{name:e,min:t[0],p50:t[Math.floor(n/2)],avg:t.reduce(function(e,t){return e+t},0)/n}})}),s.apply(this,arguments)}function u(e){if(e<1){var t=Math.round(e*1e4);return t+"\u03BCs"}var n=Math.round(e);return n+"ms"}function c(e,t){t.forEach(function(t){var n=t.avg,r=t.min,o=t.name,a=t.p50;e("["+o+"] min: "+u(r)+", avg: "+u(n)+", p50: "+u(a))})}function d(e,t){var n="\n";t.forEach(function(e){var t=e.avg,r=e.min,o=e.name,a=e.p50;n+=o+","+Math.round(r)+","+Math.round(t)+","+Math.round(a)+"\n"}),e(n)}i.createBenchmark=l,i.printReport=c,i.printAsCSVInMS=d}),66);
__d("WAWebCacheStorage",["asyncToGeneratorRuntime"],(function(t,n,r,o,a,i){var e="web-cache-storage-testing";function l(){return caches.open(e)}function s(e){var t=e.cache,n=e.fileBuffer,r=e.key,o=new Response(n);return t.put(r,o)}function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.cache,n=e.key,r=yield t.match(n);return r.arrayBuffer()}),c.apply(this,arguments)}function d(){return caches.delete(e).then(function(){})}function m(e){var t=e.cache;return t.keys().then(function(e){return e.length})}i.prepareCache=l,i.writeToCache=s,i.readFromCache=u,i.cleanupCache=d,i.getCacheCount=m}),66);
__d("WARunStorageBenchmark",["Promise","WAIndexDBStorage","WAOpfsSyncStorage","WATestBenchmark","WAWebCacheStorage","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a,i,l){var s=1024*a,u=new Blob([new Uint8Array(s).fill(255)]),c=yield u.arrayBuffer();t("datapoints: "+i+" repetitions: "+l+" blob size: "+a+"KB");var d=yield o("WAIndexDBStorage").prepareIDB();yield o("WAIndexDBStorage").cleanupIDB({idb:d}),yield o("WAWebCacheStorage").cleanupCache();var m=yield o("WAWebCacheStorage").prepareCache(),p=yield o("WAOpfsSyncStorage").prepareFileSystem();t("start write benchmark...");var _=yield o("WATestBenchmark").createBenchmark(i,l,(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield e("IndexedDB write",(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){yield o("WAIndexDBStorage").writeToIDB({idb:d,fileBuffer:yield c,key:e+"_"+t})});return function(t,n){return e.apply(this,arguments)}})()),yield e("Web Cache write",(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){yield o("WAWebCacheStorage").writeToCache({cache:m,fileBuffer:c,key:e+"_"+t})});return function(t,n){return e.apply(this,arguments)}})()),yield e("OPFS Sync write",(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){yield o("WAOpfsSyncStorage").writeToFileSystem({directoryHandle:p,fileBuffer:c,fileName:e+"_"+t})});return function(t,n){return e.apply(this,arguments)}})())});return function(t){return e.apply(this,arguments)}})());t("end write benchmark..."),r?o("WATestBenchmark").printAsCSVInMS(t,_):o("WATestBenchmark").printReport(t,_),t("start read benchmark...");var f=yield o("WATestBenchmark").createBenchmark(i,l,(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r;yield t("IndexedDB read",(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){r=yield o("WAIndexDBStorage").readFromIDB({idb:d,key:e+"_"+t})});return function(t,n){return e.apply(this,arguments)}})());var a;yield t("Web Cache read",(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){a=yield o("WAWebCacheStorage").readFromCache({cache:m,key:e+"_"+t})});return function(t,n){return e.apply(this,arguments)}})());var i;if(yield t("OPFS Sync read",(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){i=yield o("WAOpfsSyncStorage").readFromFileSystem({directoryHandle:p,fileName:e+"_"+t}),yield o("WAOpfsSyncStorage").cleanupFileSystem({directoryHandle:p,fileName:e+"_"+t})});return function(t,n){return e.apply(this,arguments)}})()),!(r instanceof ArrayBuffer&&a instanceof ArrayBuffer&&i instanceof ArrayBuffer))return(e||(e=n("Promise"))).reject("read result is not ArrayBuffer")});return function(e){return t.apply(this,arguments)}})());t("end read benchmark..."),r?o("WATestBenchmark").printAsCSVInMS(t,f):o("WATestBenchmark").printReport(t,f)});return function(n,r,o,a,i){return t.apply(this,arguments)}})();l.runStorageBenchmark=s}),98);
__d("WormDbDebuggingUtils",["WAJids","WASignalDB","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WASignalDB").getDbPromise();return e.runInTransaction(["identity"],"readonly",function(e){return e.stores.identity.readAll()},"debug-get-identities")}),s.apply(this,arguments)}function u(){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WASignalDB").getDbPromise();return e.runInTransaction(["contacts"],"readonly",function(e){return e.stores.contacts.readAll()},"debug-get-contacts")}),c.apply(this,arguments)}function d(){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WASignalDB").getDbPromise();return e.runInTransaction(["session"],"readonly",function(e){return e.stores.session.readAll()},"debug-get-sessions")}),m.apply(this,arguments)}function p(){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WASignalDB").getDbPromise();return e.runInTransaction(["senderKeySessions"],"readonly",function(e){return e.stores.senderKeySessions.readAll()},"debug-get-sender-key-sessions")}),_.apply(this,arguments)}function f(){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WASignalDB").getDbPromise();return e.runInTransaction(["prekey"],"readonly",function(e){return e.stores.prekey.readAll()},"debug-get-prekeys")}),g.apply(this,arguments)}function h(){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WASignalDB").getDbPromise();return e.runInTransaction(["prekeyGeneration"],"readonly",function(e){return e.stores.prekeyGeneration.readAll()},"debug-get-prekey-generations")}),y.apply(this,arguments)}function C(){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WASignalDB").getDbPromise();return e.runInTransaction(["signedPrekey"],"readonly",function(e){return e.stores.signedPrekey.readAll()},"debug-get-signed-prekeys")}),b.apply(this,arguments)}function v(){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WASignalDB").getDbPromise();return e.runInTransaction(["meta"],"readonly",function(e){return e.stores.meta.readAll()},"debug-get-meta-rows")}),S.apply(this,arguments)}function R(t){return e().then(function(e){return e.filter(function(e){return e.userJid===t})})}function L(e){return u().then(function(t){return t.find(function(t){return t.contactJid===e})})}function E(e){return d().then(function(t){return t.filter(function(t){return o("WAJids").extractUserJid(t.id)===e})})}function k(e){return p().then(function(t){return t.filter(function(t){return t.userJid===e})})}l.getIdentities=e,l.getContacts=u,l.getSessions=d,l.getSenderKeySessions=p,l.getPrekeys=f,l.getPrekeyGenerations=h,l.getSignedPrekeys=C,l.getMetaRows=v,l.getIdentitiesForUser=R,l.getContact=L,l.getSessionsForUser=E,l.getSenderKeySessionsForUser=k}),98);
__d("MAWDebug",["BlobStorageApi","EBConsoleUtils","EBDBConsistencyApi","EBDeps","EBLS","EBWorkerEBDBApi","EBWorkerEBSMStateUtils","ExecutionEnvironment","FBLogger","LSMEBTaskCreationSource","MAWAdminWriteCutoverThreadMsgTxn","MAWArmadilloPollTableSchema.pb","MAWBackend","MAWBridge","MAWBulkHandleIncomingMsgApi","MAWCacheServiceDB","MAWConfig","MAWCurrentUser","MAWDbAddDeviceChangeAlertsTxn","MAWDbAppDataTxns","MAWDbChunkTxns","MAWDbDeviceChangeAlerts","MAWDbEditMsgHistoryTxns","MAWDbGetDeviceChangeAlertsByOptionsTxn","MAWDbGetDeviceChangeAlertsTxn","MAWDbGetUnArchivedDeviceChangeAlertsCountTxn","MAWDbGroupInfoTxns","MAWDbGroupInviteTxns","MAWDbMediaTxns","MAWDbMsg","MAWDbMsgTxns","MAWDbMsgTypeVersionTxns","MAWDbObjDecode","MAWDbObjEncode","MAWDbParticipantTxns","MAWDbPendingReceiptTxns","MAWDbPoll","MAWDbReactionsTxns","MAWDbThreadTxns","MAWDbUnrenderedMsgTxns","MAWDbUpdateDeviceChangeAlertsLogInStatusTxn","MAWDbUpdateDeviceChangeAlertsTxn","MAWDbVersion","MAWDbXMATxns","MAWDebugSendMultipleMsgs","MAWDexieTable","MAWEphemeralCleaner","MAWEphemeralSettingsTxns","MAWExternalId","MAWGroupSetMemberAddMode","MAWJids","MAWJobDefinitions","MAWJobManager","MAWKeychainNaClCrypto","MAWLoadMsgsApi","MAWLoggerUtils","MAWMediaUtils","MAWMsgType","MAWRotateDTSG","MAWSendEphemeralSettingMsg","MAWTransactionMode","MAWTransactor","MAWUnsafeCoerce","MAWVault","MpsTypes","OfflineThreadingId","Promise","QPLFlow","WAAPI","WAAbPropsInit","WABuildMpsPayload","WADbTransactor","WADevicesState","WAExceededStorageQuota","WAGatherMediaInfo","WAGetPlatformFromStanzaId","WAGlobals","WAGzip","WAHandleFailureUtils","WAJids","WAJobOrchestratorTypes","WALogger","WAMPSFlushable","WAMediaUtils","WAProtocolQueue","WARotateSignedPreKey","WARunStorageBenchmark","WASignalDB","WASignalOther","WATimeUtils","WebMps","WebStorageEstimator","WormDbDebuggingUtils","asyncToGeneratorRuntime","emptyFunction","err","gkx","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=["s2sInstanceKey","s2sUserFlowQPLEvent"],s,u,c,d={addBadProtocolQueueInstruction:function(){var e={instruction:"bad",type:"instruction"};return o("WAProtocolQueue").protocolQueue().addAndCommit([e])},addDeviceChangeAlerts:function(t){return m(_({deviceChangeAlerts:o("MAWTransactionMode").READWRITE})(o("MAWDbAddDeviceChangeAlertsTxn").addDeviceChangeAlertsTxn)(t))},addGroupParticipants:function(t,n,r){return o("MAWJobManager").getJobManager().waitUntilCompleted(o("MAWJobDefinitions").jobSerializers.addGroupParticipants(t,n,r))},addICDCAlert:function(t){return o("WAGlobals").getWaOneQueue().enqueue(function(){return o("WAMPSFlushable").mpsFlushable.enqueue(o("WABuildMpsPayload").buildMpsIcdcAdminMessage(t,o("WATimeUtils").unixTime(),o("WAGlobals").getDependencies().generateExternalId()),function(){},"maw_debug"),(c||(c=n("Promise"))).resolve()},{flush:!0,operationType:"debug_operation"}).then(r("emptyFunction"))},benchmarkStorage:function(t,n,r,a){t===void 0&&(t=!1),n===void 0&&(n=1),r===void 0&&(r=50),a===void 0&&(a=500),o("WARunStorageBenchmark").runStorageBenchmark(function(e){return console.log("[storage benchmark]: "+e)},t,n,r,a)},checkStorageQuota:function(){return o("WAExceededStorageQuota").checkStorageQuota()},clearBlobStorage:function(){return r("BlobStorageApi").clear().then(function(e){if(e.success)r("FBLogger")("BlobStorage").info("Blob storage cleared");else throw r("err")("Failed to clear blob storage")})},createGroup:function(t,n,r){return o("MAWJobManager").getJobManager().waitUntilCompleted(o("MAWJobDefinitions").createStartJobInfo("createGroup",{extras:{clientThreadKey:r,platform:"msgr"},key:r,s2sInstanceKey:o("MAWLoggerUtils").getInstanceKey(),subject:t,users:n}))},createOrUpdateThread:function(t){return o("MAWBridge").getBridge().sendAndReceive("backend","createOrUpdateThread",{contactFbid:t,description:"MAWDebug",threadKey:o("OfflineThreadingId").createOfflineThreadingID()})},createTestPoll:function(t){_({poll:o("MAWTransactionMode").READWRITE})(function(e){return e.poll.put({chatJid:t,encKey:new ArrayBuffer(0),latestSenderTimestampsMs:new Map([["@me",o("WATimeUtils").millisTime()]]),pollAuthor:"@me",pollOptions:new Map([[o("MAWDbPoll").convertStringToOptionHash("option1Hash"),{optionText:"option1",voteAuthors:new Set(["@me"])}]]),pollParticipantCount:2,pollStanzaId:o("MAWExternalId").generateExternalId(),pollState:o("MAWArmadilloPollTableSchema.pb").POLL_STATE.OPEN,selectableOptionsCount:0,title:"Test Poll"})})(t)},decodeEAR:function(t,n){return o("MAWDbObjDecode").decodeDbObj(t,n)},deflate:function(t){var e=o("WAGzip").createDeflate();return e.push(t,!0),e.result()},deleteGroupInvitesByThreadAndInvitedParticipant:function(t,n){return m(_({groupInvites:o("MAWTransactionMode").READWRITE})(o("MAWDbGroupInviteTxns").deleteGroupInvitesByThreadAndInvitedParticipant)(t,n))},demoteGroupParticipants:function(t,n){return o("MAWJobManager").getJobManager().waitUntilCompleted(o("MAWJobDefinitions").jobSerializers.demoteGroupParticipants(t,n))},deregisterPhone:function(){r("promiseDone")(o("WAHandleFailureUtils").deregisterPhone())},dropExpiredMessagesFromDB:function(){var e=o("MAWEphemeralCleaner").getEphemeralCleaner_FOR_TESTING_ONLY();if(e)e.purgeDeletions.update(o("WATimeUtils").futureUnixTime(5));else throw r("err")("Cannot delete expired msgs as cleaner is not initialized!")},dropExpiredMessagesFromUI:function(){var e=o("MAWEphemeralCleaner").getEphemeralCleaner_FOR_TESTING_ONLY();if(e)e.expiry.update(o("WATimeUtils").futureUnixTime(5));else throw r("err")("Cannot delete expired msgs as cleaner is not initialized!")},encodeEAR:function(t,n){return o("MAWDbObjEncode").encodeDbObj(t,n)},encryptEARTweetNaCl:function(t,n,r){return o("MAWKeychainNaClCrypto").encryptTweetNaCl(t,n,r)},estimateStorage:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WebStorageEstimator").estimateStorage();return e});function t(){return e.apply(this,arguments)}return t})(),executeQuery:function(t){var e=Object.keys(o("MAWDbVersion").CURRENT_MAW_STORES).filter(function(e){return o("MAWDbVersion").CURRENT_MAW_STORES[e]!=null}).reduce(function(e,t){var n;return babelHelpers.extends({},e,(n={},n[t+""]=o("MAWTransactionMode").READWRITE,n))},{});return _(e)(t)()},fetchMessagesForSpamReport:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield o("WebMps").mps().spamReportLoadMessages({numMessages:t!=null?t:30,threadId:e});return n});function t(t,n){return e.apply(this,arguments)}return t})(),forwardMsg:function(t,n){return o("MAWBridge").getBridge().sendAndReceive("backend","forwardMsg",{args:{args:{},chatJid:t,externalId:o("MAWExternalId").generateExternalId(),protocolMsgId:n},qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:o("MAWLoggerUtils").getInstanceKey()})},fromUnixTime:function(t){return o("WATimeUtils").toDate(t)},gatherMediaInfo:function(){r("promiseDone")(o("WAGatherMediaInfo").gatherMediaInfo())},generateAndUploadPreKeys:function(){return r("WAAPI").generateAndUploadPreKeys({reason:"test"})},generateAndUploadPreKeysMultipleCalls:function(){return(c||(c=n("Promise"))).all([r("WAAPI").generateAndUploadPreKeys({reason:"test"}),r("WAAPI").generateAndUploadPreKeys({reason:"test"}),r("WAAPI").generateAndUploadPreKeys({reason:"test"})])},generateCipherTextMessagesForChat:function(t,r){return(c||(c=n("Promise"))).all(Array.from({length:r}).map(function(e,n){var r=o("WATimeUtils").castMilliSecondsToUnixTime(Date.now()),a=o("MAWExternalId").generateExternalId(),i={ack:2,altIndex:void 0,author:"@me",externalId:a,msgContent:{content:"Stub message #"+n},msgId:o("MAWDbMsg").craftMsgIdV2(1,1,{externalId:a}),serverTs:r,threadJid:t,ts:r,type:o("MAWMsgType").MSG_TYPE.CIPHERTEXT};return _({messages:o("MAWTransactionMode").READWRITE})(function(e){return e.messages.add(i)})(i)}))},generateDuplicateMessagesForChat:function(t,n){return d.generateMessagesForChat(t,n).then(function(e){var t=e.msgResults.values().map(function(e){var t;return(t=e.value)==null?void 0:t.protocolMsgId.externalId}).filter(Boolean),n=t[0];return _({messages:o("MAWTransactionMode").READWRITE})(function(e){return o("MAWDexieTable").dexieAll(t.map(function(t){return e.messages.get({externalId:t}).then(function(t){if(t!=null)return e.messages.put(babelHelpers.extends({},t,{externalId:n,protocolMsgId:void 0}))})})).then(r("emptyFunction"))})(t)})},generateMessagesForChat:function(t,n){return o("MAWBulkHandleIncomingMsgApi").bulkHandleIncomingMsgs(Array.from({length:n}).map(function(e,n){var r=o("WATimeUtils").castMilliSecondsToUnixTime(Date.now()),a=o("MAWExternalId").generateExternalId(),i={ack:2,altIndex:void 0,author:"@me",externalId:a,msgContent:{content:"Stub message #"+n},serverTs:r,ts:r,type:"Text"};return{msgData:{folder:null,id:{author:"@me",chat:t,externalId:a},msg:{encoded:new Uint8Array(0),version:"v2"},recipientsCount:null,reportingMeta:null,ts:r,type:"IncomingMsg"},receiveFlow:o("QPLFlow").startNoopQPLFlow(),stanzaSource:"wa-incoming",unstoredContent:{unstoredDbMedia:null,unstoredDbMsg:i,unstoredDbReaction:null,unstoredDbReceiverFetchInfo:null}}}),r("LSMEBTaskCreationSource").TEST_ONLY)},getAbProp:function(t){return o("WAAbPropsInit").getAbProp(t)},getAbProps:function(){return o("WAAbPropsInit").getAbProps()},getAppDatas:function(t){return m(_({appData:o("MAWTransactionMode").READONLY})(o("MAWDbAppDataTxns").bulkGetAppData)(t))},getAppMetaByKey:function(t){return m(_({appMeta:o("MAWTransactionMode").READONLY})(o("MAWDbMsgTypeVersionTxns").getAppMetaValue)(t))},getChunksByChunkId:function(t){return m(_({chunk:o("MAWTransactionMode").READONLY})(o("MAWDbChunkTxns").bulkGetChunks)(t))},getClockSkew:function(){return o("WATimeUtils").getClockSkew()},getConfig:function(){return Object.fromEntries(Object.entries(o("MAWConfig").getConfig()).map(function(e){var t=e[0],n=e[1],r=n;try{r=n()}catch(e){r=n}return[t,r]}))},getCurrentUserDeviceList:function(){return r("WAAPI").getCurrentUserDeviceList()},getDeviceChangeAlerts:function(t){return m(_({deviceChangeAlerts:o("MAWTransactionMode").READWRITE})(o("MAWDbGetDeviceChangeAlertsTxn").getDeviceChangeAlertsTxn)(t))},getDeviceChangeAlertsByOptions:function(t){return m(_({deviceChangeAlerts:o("MAWTransactionMode").READWRITE})(o("MAWDbGetDeviceChangeAlertsByOptionsTxn").getDeviceChangeAlertsByOptionsTxn)(t))},getDeviceChangeAlertsByOptionsLLA:function(t){return o("MAWBridge").getBridge().sendAndReceive("backend","getDeviceChangeAlertsByOptions",{options:t})},getDevices:function(t,n){return r("WAAPI").getDevices({ignoreDhash:n,reason:"debug",users:new Set(t)})},getDevicesState:function(){return o("WADevicesState").getDevicesState()},getEBDBClientState:function(){return o("EBWorkerEBDBApi").getSecureEBClientState()},getEBDeps:function(){return o("EBDeps").getDeps()},getEBEpochs:function(){return o("EBConsoleUtils").getAllEpochsSorted()},getEBSMConsistency:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return o("EBDBConsistencyApi").checkRegistrationConsistency((yield o("EBLS").genLSClient()).db)});function t(){return e.apply(this,arguments)}return t})(),getEBSMWorkerState:function(){return(u||(u=r("ExecutionEnvironment"))).isInWorker?o("EBWorkerEBSMStateUtils").getEBSMWorkerState():o("MAWBridge").getBridge().sendAndReceive("backend","getEBSMWorkerState")},getEditMsgHistoryByEditMsgHistoryId:function(t){return m(_({editMsgHistory:o("MAWTransactionMode").READONLY})(o("MAWDbEditMsgHistoryTxns").bulkGetEditMsgHistorys)(t))},getEditMsgHistoryByProtocolMsgId:function(t){return m(_({editMsgHistory:o("MAWTransactionMode").READONLY})(o("MAWDbEditMsgHistoryTxns").maybeGetEditMsgHistoryFromProtocolMsgId)(t))},getGroupInfosByGroupJid:function(t){return m(_({groupInfo:o("MAWTransactionMode").READONLY})(o("MAWDbGroupInfoTxns").getGroupInfos)(t))},getGroupInvite:function(t,n){return m(_({groupInvites:o("MAWTransactionMode").READONLY})(o("MAWDbGroupInviteTxns").maybeGetGroupInvite)(t,n))},getGroupInvitesByThreadAndInvitedParticipant:function(t,n){return m(_({groupInvites:o("MAWTransactionMode").READONLY})(o("MAWDbGroupInviteTxns").getGroupInvitesByThreadAndInvitedParticipant)(t,n))},getHmacKeyFromGlobals:function(){return o("WAGlobals").getHMACKey()},getKeyTransparencyVerificationStatus:function(t){return o("MAWBridge").getBridge().sendAndReceive("kt","keyVerificationStatus",{userJid:t})},getMediaBackupForObjectId:function(t){return m(_({mediaBackup:o("MAWTransactionMode").READONLY})(o("MAWDbMediaTxns").maybeGetMediaBackupRowFromObjectId)(t))},getMediaByIdWithDecodedMediaEntries:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield _({media:o("MAWTransactionMode").READONLY})(o("MAWDbMediaTxns").bulkGetMedias)(e);return t.forEach(function(e){e!=null&&e.mediaEntries&&(e.mediaEntries=new Map(Array.from(e.mediaEntries,function(e){var t=e[0],n=e[1];return[t,o("WAMediaUtils").decodeMediaEntryData(n)]})))}),m((c||(c=n("Promise"))).resolve(t))});function t(t){return e.apply(this,arguments)}return t})(),getMediaByMediaId:function(t){return m(_({media:o("MAWTransactionMode").READONLY})(o("MAWDbMediaTxns").bulkGetMedias)(t))},getMediaByPlaintextHash:function(t){return m(_({media:o("MAWTransactionMode").READONLY})(o("MAWDbMediaTxns").maybeGetMediaFromPlaintextHash)(t))},getMessagesByMsgIds:function(t){return m(_({messages:o("MAWTransactionMode").READONLY})(function(e){return e.messages.where("msgId").anyOf(t).toArray().then(function(e){return e.filter(Boolean)})})(t))},getMsgsByChat:function(t){return m(_({messages:o("MAWTransactionMode").READONLY})(function(e){return e.messages.where("threadJid").equals(t).toArray()})())},getMsgsByMsgId:function(t){return m(_({messages:o("MAWTransactionMode").READONLY})(o("MAWDbMsgTxns").getMsgsByMsgIds)(t))},getMsgsByProtocolMsgId:function(t){return m(_({messages:o("MAWTransactionMode").READONLY})(o("MAWDbMsgTxns").getMsgsByProtocolMsgId)(t))},getNewDTSG:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return(yield o("MAWRotateDTSG").getNewDTSG()).token});function t(){return e.apply(this,arguments)}return t})(),getParticipantsByParticipantKeys:function(t){return m(_({participants:o("MAWTransactionMode").READONLY})(o("MAWDbParticipantTxns").bulkGetParticipants)(t))},getPendingReceipts:function(t){return m(_({pendingReceipts:o("MAWTransactionMode").READONLY})(o("MAWDbPendingReceiptTxns").getPendingReceipts)(t))},getPlatform:function(t){return o("WAGetPlatformFromStanzaId").getPlatformFromStanzaId(t)},getProtocolMsgId:function(t){return o("MAWBridge").getBridge().sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:t})},getReactionByReactToExternalId:function(t){return m(_({reactions:o("MAWTransactionMode").READONLY})(function(e){return e.reactions.where("reactToExternalId").anyOf(t).toArray()})(t))},getReactionByReactToMsgId:function(t){return m(_({messages:o("MAWTransactionMode").READONLY,reactions:o("MAWTransactionMode").READONLY})(function(e){return e.messages.where("msgId").anyOf(t).toArray().then(function(t){return o("MAWDbReactionsTxns").getReactionsFromMessages(e,t)})})(t))},getReceiptByWAMsgId:function(t){return m(f({receipts:o("MAWTransactionMode").READONLY})(function(e,t){return e.receipts.get({waMsgId:t})})(t))},getThreadsByChatJids:function(t){return m(_({threads:o("MAWTransactionMode").READONLY})(o("MAWDbThreadTxns").getThreads)(t))},getUnArchivedDeviceChangeAlertsCount:function(){return m(_({deviceChangeAlerts:o("MAWTransactionMode").READWRITE})(o("MAWDbGetUnArchivedDeviceChangeAlertsCountTxn").getUnArchivedDeviceChangeAlertsCountTxn)())},getUnrenderedMsgsByMsgId:function(t){return m(_({unrenderedMessages:o("MAWTransactionMode").READONLY})(o("MAWDbUnrenderedMsgTxns").getUnrenderedMsgsByMsgIds)(t))},getXMAByXMAId:function(t){return m(_({xma:o("MAWTransactionMode").READONLY})(o("MAWDbXMATxns").bulkGetXMAs)(t))},hmacPlaintextHash:function(t){return o("MAWMediaUtils").genHMACPlaintextHash(t)},inflate:function(t){return o("WAGzip").inflate(t)},leaveGroups:function(t){return o("MAWJobManager").getJobManager().waitUntilCompleted(o("MAWJobDefinitions").jobSerializers.leaveGroups(t))},loadMsgs:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=yield o("MAWLoadMsgsApi").loadMsgsFromTs(e.chatJid,(t=e.numMsgs)!=null?t:10,e.direction,e.sortOrderMs,e.loadOriginalMsg,e.msgId,{admin:!0,editMsgHistory:!0,media:!0,polls:!0,reactions:!0,receiverFetch:!0,xma:!0});return babelHelpers.extends({},n,{msgs:n.msgs.map(function(e){return babelHelpers.extends({},e,{content:e.content!=null?o("MAWVault").unvault(e.content):""})})})});function t(t){return e.apply(this,arguments)}return t})(),makeError:function(t){throw r("FBLogger")("messenger_web_devx").mustfixThrow(t)},makeWAError:function(t){o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["",""])),t)},markThreadAsRead:function(t,n){return o("MAWJobManager").getJobManager().waitUntilCompleted(o("MAWJobDefinitions").jobSerializers.markThreadAsRead(t,null,!1,!1,n,{priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}))},maybeGetChunksByPlaintextHash:function(t){return m(_({chunk:o("MAWTransactionMode").READONLY})(o("MAWDbChunkTxns").maybeGetChunkByPlaintextHash)(t))},maybeGetXMAFromProtocolMsgId:function(t){return m(_({xma:o("MAWTransactionMode").READONLY})(o("MAWDbXMATxns").maybeGetXMAFromProtocolMsgId)(t))},mpsLoadLatestMsg:function(t){return o("WebMps").mps().loadMessages({debug:{purpose:"getLatestTimestampForDebug"},direction:"desc",from:[o("MpsTypes").toTimestamp(Number.MAX_SAFE_INTEGER),void 0],numMessages:1,threadId:o("MpsTypes").toThreadId(t)})},notifyDeviceChange:function(t){return r("WAAPI").notifyDeviceChange({users:t})},overrideAbProp:function(t,n){o("WAAbPropsInit").overrideAbProp(t,n)},promoteGroupParticipants:function(t,n){return o("MAWJobManager").getJobManager().waitUntilCompleted(o("MAWJobDefinitions").jobSerializers.promoteGroupParticipants(t,n))},protocolQueue:function(){return o("WAProtocolQueue").protocolQueue()},putGroupInvite:function(t){return m(_({groupInvites:o("MAWTransactionMode").READWRITE})(o("MAWDbGroupInviteTxns").putGroupInvite)(t))},readCacheStore:function(t){return o("MAWCacheServiceDB").getOrSetupMAWCacheDB().then(function(e){return e.runInTransaction([t],"readonly",function(e){return e.stores[t].readAll()},"Debug - read "+t,i.id+":1142")})},readProtocolQueue:function(){return o("WAProtocolQueue").protocolQueue().read()},readWormStore:function(t){return o("WASignalDB").getDb().runInTransaction([t],"readonly",function(e){return e.stores[t].readAll()},"Debug - read "+t,i.id+":1157")},removeDevice:function(t,n){return r("WAAPI").removeDevice({deviceId:t,identity:n})},removeGroupParticipants:function(t,n){return o("MAWJobManager").getJobManager().waitUntilCompleted(o("MAWJobDefinitions").jobSerializers.removeGroupParticipants(t,n))},reportUserSpam:function(t,n){return o("MAWJobManager").getJobManager().waitUntilCompleted(o("MAWJobDefinitions").jobSerializers.reportUserSpam(t,"frx",n,!1,["harassment"],"fake debug context"))},reregisterPhone:function(){return o("WAHandleFailureUtils").reregisterPhone()},rotateSignedPreKey:function(){return o("WARotateSignedPreKey").rotateSignedPreKey()},runKeyTransparencyVerification:function(t){return o("MAWBridge").getBridge().sendAndReceive("kt","runKeyVerification",{userJid:t})},sendAppData:function(t,n){return o("MAWJobManager").getJobManager().waitUntilCompleted(o("MAWJobDefinitions").jobSerializers.sendAppData({contents:t,deviceJids:n}))},sendEditMsg:function(t,n){return o("MAWBridge").getBridge().sendAndReceive("backend","sendEditMsg",{args:{editMsgContent:{content:t.editMsgContent.content,mentionedJids:[]},originalProtocolMsgId:t.originalProtocolMsgId},chatJid:t.originalProtocolMsgId.chat,externalId:n,qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:o("MAWLoggerUtils").getInstanceKey()})},sendEphemeralSettingMsg:function(t,n){return o("MAWSendEphemeralSettingMsg").sendEphemeralSettingMsgFn({args:n,chatJid:t,externalId:o("MAWExternalId").generateExternalId(),qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:o("MAWLoggerUtils").getInstanceKey()})},sendMessageTooAllExistingGroups:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield _({groupInfo:o("MAWTransactionMode").READONLY})(function(e){return e.groupInfo.toArray()})(),t=[];for(var n of e)t.push(d.sendMsg(n.groupJid,{content:"message to "+n.groupJid+" at "+new Date().getTime(),s2sInstanceKey:o("MAWLoggerUtils").getInstanceKey()}));return t});function t(){return e.apply(this,arguments)}return t})(),sendMsg:function(n,a){var t=a.s2sInstanceKey,i=a.s2sUserFlowQPLEvent,l=babelHelpers.objectWithoutPropertiesLoose(a,e);return o("MAWBridge").getBridge().sendAndReceive("backend","sendMsg",{args:l,chatJid:n,externalId:o("MAWExternalId").generateExternalId(),qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:t})},sendMultipleMsgs:o("MAWDebugSendMultipleMsgs").sendMultipleMsgs.execute,sendReaction:function(t,n,a,i){return o("MAWBridge").getBridge().sendAndReceive("backend","sendReactionMsg",{args:{groupingKey:"",reaction:i,reactToAuthor:a,reactToProtocolMsgId:n},chatJid:t,externalId:n.externalId,qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:o("MAWLoggerUtils").getInstanceKey()})},setEphemeralSettingWithoutUpdate:function(t,n,r,a){var e=r==null?o("WATimeUtils").unixTime():o("WATimeUtils").futureUnixTime(r);return m(_({ephemeralSettings:o("MAWTransactionMode").READWRITE,groupInfo:o("MAWTransactionMode").READONLY,messages:o("MAWTransactionMode").READWRITE,threads:o("MAWTransactionMode").READWRITE})(o("MAWEphemeralSettingsTxns").handleAndWriteOutgoingUserEphemeralSettingChange)(t,n,e,a))},setGroupSubject:function(t,n){return o("MAWJobManager").getJobManager().waitUntilCompleted(o("MAWJobDefinitions").jobSerializers.setGroupSubject(t,n))},setMemberAddMode:function(t,n){return o("MAWGroupSetMemberAddMode").setMemberAddModeFn({groupJid:t,memberAddMode:n})},startComms:function(){var e;(e=o("MAWBackend").getWaComms())==null||e.startComms()},stopComms:function(){var e;(e=o("MAWBackend").getWaComms())==null||e.stopComms()},syncAbProps:function(t){var e=t!==!0;return r("WAAPI").syncAbProps({sendHash:e})},triggerSecureStorageKeyChangeAlert:function(){var e={action:o("MAWDbDeviceChangeAlerts").KEY_CHANGE,deviceJid:o("WAJids").toDeviceJid(o("MAWJids").toUserJid(o("MAWCurrentUser").getID()),o("WAGlobals").getMyDeviceJid()),identity:o("MAWUnsafeCoerce").unsafeCoerce(o("WASignalOther").makeBytes(33)),isArchived:!1,model:"secure_storage",platform:"Meta",ts:o("WATimeUtils").unixTime()};return m(_({deviceChangeAlerts:o("MAWTransactionMode").READWRITE})(o("MAWDbAddDeviceChangeAlertsTxn").addDeviceChangeAlertsTxn)(e))},updateDeviceChangeAlerts:function(t){return m(_({deviceChangeAlerts:o("MAWTransactionMode").READWRITE})(o("MAWDbUpdateDeviceChangeAlertsTxn").updateDeviceChangeAlertsTxn)(t))},updateDeviceChangeAlertsLLA:function(t){return o("MAWBridge").getBridge().sendAndReceive("backend","updateDeviceChangeAlerts",{alert:t})},updateDeviceChangeAlertsLogInStatus:function(t){return m(_({deviceChangeAlerts:o("MAWTransactionMode").READWRITE})(o("MAWDbUpdateDeviceChangeAlertsLogInStatusTxn").updateDeviceChangeAlertsLogInStatusTxn)(t))},wormGetContact:function(t){return o("WormDbDebuggingUtils").getContact(t)},wormGetContacts:function(){return o("WormDbDebuggingUtils").getContacts()},wormGetIdentities:function(){return o("WormDbDebuggingUtils").getIdentities()},wormGetIdentitiesForUser:function(t){return o("WormDbDebuggingUtils").getIdentitiesForUser(t)},wormGetMetaRows:function(){return o("WormDbDebuggingUtils").getMetaRows()},wormGetPrekeyGenerations:function(){return o("WormDbDebuggingUtils").getPrekeyGenerations()},wormGetPrekeys:function(){return o("WormDbDebuggingUtils").getPrekeys()},wormGetSenderKeySessions:function(){return o("WormDbDebuggingUtils").getSenderKeySessions()},wormGetSenderKeySessionsForUser:function(t){return o("WormDbDebuggingUtils").getSenderKeySessionsForUser(t)},wormGetSessions:function(){return o("WormDbDebuggingUtils").getSessions()},wormGetSessionsForUser:function(t){return o("WormDbDebuggingUtils").getSessionsForUser(t)},wormGetSignedPrekeys:function(){return o("WormDbDebuggingUtils").getSignedPrekeys()},writeCutoverThreadAdminMsg:function(t,n){var e;return m(_({chunk:(e=o("MAWTransactionMode")).READONLY,ftsBackloggedMessages:e.READWRITE,groupInfo:e.READONLY,media:e.READONLY,messages:e.READWRITE,threads:e.READWRITE})(o("MAWAdminWriteCutoverThreadMsgTxn").writeCutoverThreadAdminMsg)(t,n))},writeRollbackCutoverThreadAdminMsg:function(t){var e=_({threads:o("MAWTransactionMode").READONLY})(o("MAWDbThreadTxns").getThread)(t);return e.then(function(e){if(!e.success)return(c||(c=n("Promise"))).resolve();var t=e.value;return m(_({chunk:o("MAWTransactionMode").READONLY,ftsBackloggedMessages:o("MAWTransactionMode").READWRITE,groupInfo:o("MAWTransactionMode").READONLY,media:o("MAWTransactionMode").READONLY,messages:o("MAWTransactionMode").READWRITE,threads:o("MAWTransactionMode").READWRITE})(o("MAWAdminWriteCutoverThreadMsgTxn").writeRollbackCutoverAdminMsg)(t))})}};function m(e){return e.then(function(e){return e})}if(r("gkx")("23903")){var p=o("MAWUnsafeCoerce").unsafeCoerce(self);p.Debug=d,p.WAAPI=r("WAAPI")}function _(e){return function(t){return o("MAWTransactor").makeMsgrTransactor(e,"debug",function(e){return(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.apply(void 0,[e].concat(r))})})}}function f(e){return function(t){return o("WADbTransactor").makeSignalTransactor(e,"debug",function(e){return(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.apply(void 0,[e].concat(r))})})}}l.MAWDebugFuncs=d}),98);
__d("XPolarisIGXAPIDirectInstamadilloRestoreCDNUrlControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/api/v1/direct_v2/restoration_cdn_url/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("endpoints",["CSRFGuard","PolarisConfig","Promise","XHRRequest","XPolarisIGXAPIDirectInstamadilloRestoreCDNUrlControllerRouteBuilder","getAsyncParams"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return new(e||(e=n("Promise")))(function(e,n){var a=r("getAsyncParams")("POST"),i=new(r("XHRRequest"))(r("XPolarisIGXAPIDirectInstamadilloRestoreCDNUrlControllerRouteBuilder").buildURL({}));i.setMethod("POST").setRequestHeader("X-IG-App-ID",o("PolarisConfig").getIGAppID()).setData(babelHelpers.extends({},a,{payload:t})).setResponseHandler(function(t){try{var r=t.trim();o("CSRFGuard").exists(r)&&(r=o("CSRFGuard").clean(r));var a=JSON.parse(r);e(a.payload.restoration_cdn_url)}catch(e){n(e)}}).setErrorHandler(function(e){n(e)}).send()})}l.fetchEBRestoreCDNUrl=s}),98);
__d("IGDAWDebug",["I64","IGDAWProtocolQueueInstructions","MAWDebug","MAWReStoreDb","MAWUnsafeCoerce","WAJids","WAProtocolQueue","WASignalKeys","asyncToGeneratorRuntime","cr:7711","endpoints"],(function(t,n,r,o,a,i,l){"use strict";var e,s={UNSAFE_triggerICDCErrorForIGD:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WAJids").toMsgrUserJid(e),n=o("MAWUnsafeCoerce").unsafeCoerce(Math.floor(Date.now()/1e3)),r=o("MAWUnsafeCoerce").unsafeCoerce(42),a={instruction:"icdcError",jid:t,notificationTs:n,priority:o("WAProtocolQueue").WAProtocolQueuePriorityHigh,stanzaQueueId:r,type:"instruction"};yield o("IGDAWProtocolQueueInstructions").handleInstructions([a])});function t(t){return e.apply(this,arguments)}return t})(),UNSAFE_triggerIdentityAddedForIGD:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WAJids").toMsgrUserJid(e),r=o("WAJids").toMsgrDeviceJid(n,t),a=o("MAWUnsafeCoerce").unsafeCoerce(Math.floor(Date.now()/1e3)),i=o("MAWUnsafeCoerce").unsafeCoerce(42),l={device:r,identity:o("WASignalKeys").makeSerializedKeyPair().serializedPubKey,instruction:"identityAdded",jid:n,model:"Chrome",notificationTs:a,platform:"Instagram",priority:o("WAProtocolQueue").WAProtocolQueuePriorityHigh,stanzaQueueId:i,type:"instruction"};yield o("IGDAWProtocolQueueInstructions").handleInstructions([l])});function t(t,n){return e.apply(this,arguments)}return t})(),UNSAFE_triggerIdentityChangedForIGD:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WAJids").toMsgrUserJid(e),r=o("WAJids").toMsgrDeviceJid(n,t),a=o("MAWUnsafeCoerce").unsafeCoerce(Math.floor(Date.now()/1e3)),i=o("MAWUnsafeCoerce").unsafeCoerce(42),l={device:r,identity:o("WASignalKeys").makeSerializedKeyPair().serializedPubKey,instruction:"identityChanged",jid:n,model:"Chrome",notificationTs:a,platform:"Instagram",priority:o("WAProtocolQueue").WAProtocolQueuePriorityHigh,stanzaQueueId:i,type:"instruction"};yield o("IGDAWProtocolQueueInstructions").handleInstructions([l])});function t(t,n){return e.apply(this,arguments)}return t})(),UNSAFE_triggerIdentityRemovedForIGD:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WAJids").toMsgrUserJid(e),r=o("WAJids").toMsgrDeviceJid(n,t),a=o("MAWUnsafeCoerce").unsafeCoerce(Math.floor(Date.now()/1e3)),i=o("MAWUnsafeCoerce").unsafeCoerce(42),l={device:r,instruction:"identityRemoved",jid:n,notificationTs:a,priority:o("WAProtocolQueue").WAProtocolQueuePriorityHigh,stanzaQueueId:i,type:"instruction"};yield o("IGDAWProtocolQueueInstructions").handleInstructions([l])});function t(t,n){return e.apply(this,arguments)}return t})(),fetchEBRestoreCDNUrl:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){try{var t=yield o("endpoints").fetchEBRestoreCDNUrl(e)}catch(e){}});function t(t){return e.apply(this,arguments)}return t})(),fetchInstamadilloMessage:(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a){try{var l=yield o("MAWReStoreDb").getDB(i.id+":144");yield n("cr:7711")==null?void 0:n("cr:7711")(l,(e||(e=o("I64"))).of_float(t),r,a)}catch(e){}});function r(e,n,r){return t.apply(this,arguments)}return r})()};Object.assign(o("MAWDebug").MAWDebugFuncs,s)}),34);
__d("MAWParseXMAIGConfig",["WAArmadilloXMA.pb"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Set([(e=o("WAArmadilloXMA.pb")).EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION]);l.IGD_SUPPORTED_TARGET_TYPES=s}),98);
__d("IGDAWMainWebWorkerConfig",["MAWGK","MAWParseXMAIGConfig","WADbDeviceRegistration","WorkerUtils","getOrchestratorVersion","gkx","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=1,u={armadilloWebProcessFutureproof:function(){return r("MAWGK").armadillo_web_process_futureproof},getSignalFutureMessagesMax:function(){return r("justknobx")._("847")},icdcAlertTriggerFailureCounter:function(){return r("justknobx")._("1970")},icdcCooldownIntervalInMinutes:function(){return 1e4},icdcIntervalInMinutes:function(){return r("justknobx")._("1972")},isDocumentReceiveEnabled:function(){return!1},isFrankingDropOnInvalid:function(){return r("gkx")("23973")},isFrankingDropOnMissing:function(){return r("gkx")("23974")},isICDCErrorEnabled:function(){return r("gkx")("23975")},isMetaAiInvocationMessageRenderEnabled:function(){return!1},isPollsEnabled:function(){return!1},isProgressiveJpegSendEnabled:function(){return!0},isSharedWorkerContext:function(){return(e||(e=o("WorkerUtils"))).isSharedWorkerContext()},jpegThumbnailTargetByteSizeKB:function(){return r("justknobx")._("2338")},maxPrekeysToUpload:function(){return 200},maxUsersForNotifyDeviceChange:function(){return o("WADbDeviceRegistration").MAX_USERS_FOR_NOTIFY_DEVICE_CHANGE},newClockSkewCalculation:function(){return!0},orchestratorVersion:function(){return r("getOrchestratorVersion")()},pjpegPreviewAvoidLastScan:function(){return!0},sessionDropIfTooOld:function(){return r("justknobx")._("2240")},skipProcessingGroupInvite:function(){return!0},waDanglingQueue:function(){return!0}},c={productTypeForEBAttachments:"igd",shouldFallbackToPreviewForFailedProgressiveJpeg:function(){return r("gkx")("2909")},supportedTypesVersion:function(){return r("MAWGK").armadillo_web_process_futureproof?s+1:s},supportedXMATargetTypes:function(){return o("MAWParseXMAIGConfig").IGD_SUPPORTED_TARGET_TYPES}};l.waConfig=u,l.mawConfig=c}),98);
__d("IGDBridgedAPIHandler",["JSResourceForInteraction","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.args,a=t.type;switch(a){case"46":return r("JSResourceForInteraction")("IGDSendMessageTaskHandler").__setRef("IGDBridgedAPIHandler").load().then(function(e){var t=e.handleTask;return t.apply(void 0,n)});case"33":return r("JSResourceForInteraction")("IGDUnsendMessageTaskHandler").__setRef("IGDBridgedAPIHandler").load().then(function(e){var t=e.handleTask;return t.apply(void 0,n)});case"sendEditMessage":return r("JSResourceForInteraction")("IGDEditMessageTaskHandler").__setRef("IGDBridgedAPIHandler").load().then(function(e){var t=e.handleTask;return t.apply(void 0,n)});case"sendMediaMessage":return r("JSResourceForInteraction")("IGDSendMediaMessageTaskHandler").__setRef("IGDBridgedAPIHandler").load().then(function(e){var t=e.handleTask;return t.apply(void 0,n)});case"sendOrRemoveReaction":return r("JSResourceForInteraction")("IGDSendRemoveReactionTaskHandler").__setRef("IGDBridgedAPIHandler").load().then(function(e){var t=e.handleTask;return t.apply(void 0,n)});case"sendXmaReceiverFetch":return r("JSResourceForInteraction")("IGDSendXmaReceiverFetchTaskHandler").__setRef("IGDBridgedAPIHandler").load().then(function(e){var t=e.handleTask;return t.apply(void 0,n)});default:{o("WALogger").DEV(e||(e=babelHelpers.taggedTemplateLiteralLoose(["igdapi: unsupported api call ",""])),a).devConsole(n);return}}}l.igdapi=s}),98);
__d("IGDEbUploadQueue",["EncryptedBackupsUploadQueue","EncryptedBackupsUtils","FBLogger","IGDUploadEbMessages","IGDUploadEbMessagesViaGraphQL","MAWEBSwitch","WAShiftTimer","WAWaitForUserUnblocked","asyncToGeneratorRuntime","gkx","isInstamadilloEB","justknobx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("isInstamadilloEB")()&&r("MAWEBSwitch").isEnabled(),c=o("EncryptedBackupsUploadQueue").logger.TAGS(["IGD","labyrinth-web"]),d=new(o("WAShiftTimer")).ShiftTimer(m);function m(){r("isInstamadilloEB")()&&u&&(r("gkx")("7807")?r("IGDUploadEbMessagesViaGraphQL")().catch(function(t){c.ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose([""," cannot process EB upload over GraphQL"])),t),d.onOrAfter(r("justknobx")._("2366"))}):r("IGDUploadEbMessages")().catch(function(e){c.ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose([""," cannot process EB upload"])),e),d.onOrAfter(r("justknobx")._("2366"))}))}function p(){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var e=o("EncryptedBackupsUploadQueue").ebUploadQueue(),t=[],n=yield e.read({filter:function(n){var e=n.instamadilloItemId,r=n.queueId,a=n.sortOrderMs,i=e!=null?e:a;return i==null||o("EncryptedBackupsUtils").entryOlderThan30Days(i)?(t.push(r),!1):!0},limit:r("justknobx")._("2368"),order:"desc"});return yield e.delete(t),n}catch(e){return e instanceof Error?r("FBLogger")("wmi_eb").catching(e).mustfix("Cannot read from EB upload queue to runtime error"):r("FBLogger")("wmi_eb").warn("Cannot read from EB upload queue"),[]}}),_.apply(this,arguments)}function f(){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield o("WAWaitForUserUnblocked").waitForUserUnblocked(),d.onOrBefore(r("justknobx")._("2367"))}),g.apply(this,arguments)}function h(){r("promiseDone")(f());var e=o("EncryptedBackupsUploadQueue").ebUploadQueue();e.subscribe(function(e){e.type==="flush"&&r("promiseDone")(f())})}l.uploadQueueTimer=d,l.getFilteredEbUploadQueueEntries=p,l.scheduleNextRun=f,l.listenForEbUploadQueueFlush=h}),98);
__d("IGDUploadEbMessages",["EncryptedBackupsUploadQueue","EncryptedBackupsWriteToMPSTables","FBLogger","IGDEbUploadQueue","MAWReStoreDb","WAJids","asyncToGeneratorRuntime","justknobx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("EncryptedBackupsUploadQueue").logger.TAGS(["labyrinth-web"]);function c(){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield o("IGDEbUploadQueue").getFilteredEbUploadQueueEntries();if(t.length!==0){u.LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["upload queue uploading "," messages"])),t.length);var a=yield o("MAWReStoreDb").getDB(i.id+":44"),l=[];yield a.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=!1,r=!1,o;try{for(var a=babelHelpers.asyncIterator(t),i;n=!(i=yield a.next()).done;n=!1){var c=i.value;try{yield m(e,c),l.push(c.queueId)}catch(e){u.ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Failed to create backup directive and upload message: ",""])),e)}}}catch(e){r=!0,o=e}finally{try{n&&a.return!=null&&(yield a.return())}finally{if(r)throw o}}});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":48"),l.length>0&&(yield o("EncryptedBackupsUploadQueue").ebUploadQueue().ack(l)),r("promiseDone")(o("IGDEbUploadQueue").scheduleNextRun())}}),d.apply(this,arguments)}function m(e,t){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=t.backupActionType,a=t.instamadilloItemId,i=t.isOpenEB,l=t.msgId,s=t.originalMsgProtocolId,u=t.protobuf,c=t.senderId,d=t.serverTs,m=t.sortOrderMs,p=t.supplementalKey,_=t.tags,f={backupActionType:n,instamadilloItemId:a,isOpenEB:i,msgId:l,originalMsgProtocolId:s,protobuf:u,senderId:c,serverTs:d,sortOrderMs:m,supplementalKey:p,tags:_},g=o("WAJids").threadIdForChatJid(f.msgId.chat);try{n!==3&&n!==4&&(yield o("EncryptedBackupsWriteToMPSTables").writeToMPSTables(e,f,g,!0),n===1&&(yield o("EncryptedBackupsWriteToMPSTables").writeTagsToMPSTables(e,f,g)))}catch(e){e instanceof Error?r("FBLogger")("wmi_eb").catching(e).mustfix("Cannot process EB upload due to runtime error"):r("FBLogger")("wmi_eb").warn("Failed to write message to MPS tables and upload")}o("IGDEbUploadQueue").uploadQueueTimer.onOrBefore(r("justknobx")._("2366"))}),p.apply(this,arguments)}l.default=c}),98);
__d("IGDUploadEbMessagesViaGraphQL",["EncryptedBackupsUploadQueue","IGDEbUploadQueue","MAWReStoreDb","asyncToGeneratorRuntime","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("EncryptedBackupsUploadQueue").logger.TAGS(["labyrinth-web"]);function u(){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield o("IGDEbUploadQueue").getFilteredEbUploadQueueEntries();if(t.length!==0){s.LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["upload queue uploading "," messages via GraphQl"])),t.length);var r=yield o("MAWReStoreDb").getDB(i.id+":31");yield r.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield d()});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":34")}}),c.apply(this,arguments)}function d(){o("IGDEbUploadQueue").uploadQueueTimer.onOrBefore(r("justknobx")._("2366"))}l.default=u}),98);
__d("MediaDownloadMediator",["asyncToGeneratorRuntime"],(function(t,n,r,o,a,i){"use strict";var e=new Map;function l(t,n){e.set(t,n)}function s(e,t){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var r;yield(r=e.get(t))==null?void 0:r.continue(n),e.delete(t)}),u.apply(this,arguments)}function c(t,n){var r;(r=e.get(t))==null||r.handleError(n),e.delete(t)}i.mapDeliveryObjectIdToMediaDownloader=l,i.handleNewCDNUrlFromMI=s,i.handleMIDownloadFailure=c}),66);
__d("IGDHandleContinueMediaDownload",["MediaDownloadMediator","Promise","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){return yield o("MediaDownloadMediator").handleNewCDNUrlFromMI(t.deliveryObjectId,t.cdnUrl),(e||(e=n("Promise"))).resolve()}),u.apply(this,arguments)}l.handleContinueMediaDownload=s}),98);
__d("MAWBulkCancelDownloadMediaForUI",["MAWMediaManager"],(function(t,n,r,o,a,i,l){"use strict";function e(e){e.forEach(function(e){o("MAWMediaManager").getMawMediaManager().dequeueDownload(e)})}l.bulkCancelDownloadMediaForUI=e}),98);
__d("MAWBulkLoadMessagesForThread",["MAWDexieTable","MAWIndexedDb","MAWLoadMsgsTxns","MAWTransactionMode","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MAWIndexedDb").makeMsgrTransactor({chunk:(e=o("MAWTransactionMode")).READONLY,editMsgHistory:e.READONLY,groupInfo:e.READONLY,media:e.READONLY,messages:e.READONLY,poll:e.READONLY,reactions:e.READONLY,receiverFetchInfo:e.READONLY,threads:e.READONLY,xma:e.READONLY},"bulkLoadMessagesForThread",function(e){return(function(t){var n=t.threads;return o("MAWDexieTable").dexieAll(n.map(function(t){var n=t.jid,r=t.numOfMsgsToLoad;return o("MAWLoadMsgsTxns").loadMsgAndMedia_COMPAT(e,n,r,!0)})).then(r("emptyFunction"))})});l.bulkLoadMessagesForThread=s}),98);
__d("MAWBulkMaybeCreateOrUpdateThreadScheduler",["WorkerScheduler"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return e==null&&(e=o("WorkerScheduler").makeScheduler("bulk-maybe-create-or-update-thread",{maxTaskLimit:1,maxThrottleMs:500,timeoutMs:6e4})),e}l.bulkMaybeCreateOrUpdateThreadScheduler=s}),98);
__d("MAWCreateUpdateThreadUtils",["MAWMICSchema","MAWQplProxy","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a){t.forEach(function(t){return o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(1056836502,"2778"),e,{annotations:n,instanceKey:t})}),a!=null&&o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(25313175,"1551"),"thread_mapping_"+e,{instanceKey:a})}function s(t,n,r,o){n!=null&&e(t,[n],r,o)}function u(e,t,n){t!=null&&o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(1056842055,"807"),e,{instanceKey:t},!1,n)}function c(e,t,n,r){e==="init_sync"&&o("MAWQplProxy").sendQplPointThroughBridge(o("MAWMICSchema").EVENT,t,{annotations:r!=null?r:{}},void 0,{toClientId:n})}function d(e,t,n){e==="init_sync"&&o("MAWQplProxy").sendQPLBoolAnnotationThroughBridge(o("MAWMICSchema").EVENT,t,!0,void 0,{toClientId:n})}l.sendThreadMappingQPLPoints=e,l.sendThreadMappingQPLPoint=s,l.sendBridgeQPLPoint=u,l.maybeSendMICPoint=c,l.maybeSendMICState=d}),98);
__d("MAWBulkMaybeUpsertThreadAndParticipants",["FBLogger","MAWCreateUpdateThreadUtils","MAWDbParticipantTxns","MAWDexieError","MAWDexieTable","MAWGetOrCreateThreadTxns","MAWIndexedDb","MAWODSProxy","MAWTransactionMode","MaybeCreateOrUpdateThreadResultCache","Promise","WAJids","WAOdsEnums","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(r,a){var t=r.threads.filter(function(e){return!o("MaybeCreateOrUpdateThreadResultCache").cache__I_KNOW_WHAT_I_AM_DOING.has(e.chatJid)});return(t.length>0?u(babelHelpers.extends({threads:t},r),a).then(function(e){return e.forEach(function(e){e.status==="fulfilled"&&o("MaybeCreateOrUpdateThreadResultCache").cache__I_KNOW_WHAT_I_AM_DOING.set(e.value.chatJid,e)})}):(e||(e=n("Promise"))).resolve()).then(function(){return r.threads.map(function(e){var t;return(t=o("MaybeCreateOrUpdateThreadResultCache").cache__I_KNOW_WHAT_I_AM_DOING.get(e.chatJid))!=null?t:{jid:e.chatJid,reason:r.reason,status:"rejected"}})})},u=o("MAWIndexedDb").makeMsgrTransactor({messages:o("MAWTransactionMode").READWRITE,participants:o("MAWTransactionMode").READWRITE,threads:o("MAWTransactionMode").READWRITE},"bulkMaybeCreateOrUpdateThread",function(e){return(function(t,n){var a=t.reason,i=t.s2sInstanceKey,l=t.threads,s=function(t){o("MAWCreateUpdateThreadUtils").maybeSendMICState(a,t,n==null?void 0:n.fromClientId)};g(a,n,l.length);var u=Array.from(new Map(l.map(function(e){return[e.authoritativeThreadKey,e]})).values()),m=new Map,y=u.map(function(e){var t=e.chatJid,n=e.instanceKey;return n!=null&&m.set(t,n),n}).filter(Boolean);return o("MAWCreateUpdateThreadUtils").sendThreadMappingQPLPoints("bulk_get_or_create_thread_start",y,void 0,i),o("MAWGetOrCreateThreadTxns").bulkGetOrCreateThread(e,h(u),{logState:s}).then(function(e){return s("threadMapping4BulkGetDone"),e.map(function(e){var t=e.adminMsgParams,n=e.created,r=e.thread,a=m.get(r.jid);return o("MAWCreateUpdateThreadUtils").sendThreadMappingQPLPoint("bulk_get_or_create_thread_end",a,void 0,i),{adminMsgParams:t,created:n,instanceKey:a,thread:r}})}).then(function(t){return t.map(function(t){var n=t.adminMsgParams,r=t.created,a=t.instanceKey,l=t.thread;return o("WAJids").switchOnMsgrChatJidType(l.jid,{group:function(o){return c(e,o,a,i).then(function(e){return _(l,e,r,n)})},user:function(o){return d(e,o,a,i).then(function(e){return p(l,e,r,n)})}})})}).then(function(e){return o("MAWDexieTable").dexieAllSettled(e).then(function(e){f(n,s);var t=[];for(var r of e.entries()){var o=r[0],a=r[1];a.status==="rejected"?t.push(babelHelpers.extends({jid:l[o].chatJid},a)):t.push(a)}return t})}).catch(function(e){throw e.name===o("MAWDexieError").DEXIE_ERROR.BulkError&&e.failures.forEach(function(e){e.name===o("MAWDexieError").DEXIE_ERROR.ConstraintError&&e.message.includes("authoritativeThreadKey")&&r("FBLogger")("maw_threads").warn("[ConstraintError/authoritativeThreadKey] bulk create threads %s",Array.from(new Set(l.map(function(e){return e.authoritativeThreadKey}))).length-Array.from(new Set(l.map(function(e){return e.chatJid}))).length)}),e})})});function c(e,t,n,r){return o("MAWCreateUpdateThreadUtils").sendThreadMappingQPLPoint("get_participants_for_group_start",n,void 0,r),o("MAWDbParticipantTxns").getParticipantsInThreads(e,[t]).then(function(e){return o("MAWCreateUpdateThreadUtils").sendThreadMappingQPLPoint("get_participants_for_group_end",n,{int:{participantsLoaded:e.length}},r),e})}function d(e,t,n,r){return o("MAWCreateUpdateThreadUtils").sendThreadMappingQPLPoint("upsert_participants_in_1_to_1_start",n,void 0,r),o("MAWDbParticipantTxns").bulkRemoveIncorrectAndInsertMissingParticipantsInOneToOneThread(e,t,!1).then(function(e){return o("MAWCreateUpdateThreadUtils").sendThreadMappingQPLPoint("upsert_participants_in_1_to_1_end",n,{int:{participantsLoaded:e.length}},r),e})}function m(e,t,n,r){return{adminMsgParams:r,chatJid:e.jid,clientThreadKey:e.optimisticThreadKey,folder:e.folder,isCreated:n,participants:t.map(function(e){var t=e.type,n=e.userJid;return{type:t,userJid:n}})}}function p(e,t,n,r){return babelHelpers.extends({},m(e,t,n,r),{shouldQueryForGroup:!1})}function _(e,t,n,r){return babelHelpers.extends({},m(e,t,n,r),{shouldQueryForGroup:n||t.length===0||t.some(function(e){return e.addressable!==!0})})}function f(e,t){t("threadMapping5LoadedParticipantsAndMsg"),o("MAWCreateUpdateThreadUtils").sendBridgeQPLPoint("lla_end",e==null?void 0:e.bridgeQPLInstanceKey,{toClientId:e==null?void 0:e.fromClientId})}function g(e,t,n){o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.MAW_THREAD_MAPPING,key:"bulk_create_thread_backend."+(e!=null?e:"unknown")});var r=function(r,a){o("MAWCreateUpdateThreadUtils").maybeSendMICPoint(e,r,t==null?void 0:t.fromClientId,a)};o("MAWCreateUpdateThreadUtils").sendBridgeQPLPoint("lla_start",t==null?void 0:t.bridgeQPLInstanceKey,{toClientId:t==null?void 0:t.fromClientId}),r("bulk_create_thread_start",{int:{thread_mapping_unique_threads:n}})}function h(e){return e.map(function(e){return{authoritativeThreadKey:e.authoritativeThreadKey,description:"bulkCreateThread",instanceKey:e.instanceKey,jid:e.chatJid,lastActivityTimestamp:o("WATimeUtils").castToMillisTime(e.lastActivityTimestampMs),lastReadWatermarkTimestamp:o("WATimeUtils").castToMillisTime(e.lastReadWatermarkTimestampMs)}})}l.bulkMaybeCreateOrUpdateThread=s}),98);
__d("MAWCancelDownloadMediaForUI",["MAWMediaManager"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("MAWMediaManager").getMawMediaManager().dequeueDownload(e)}l.cancelDownloadMediaForUI=e}),98);
__d("MAWChangeSecurityAlertSettingApi",["MAWDbMsgTypeVersionTxns","MAWIndexedDb","MAWTransactionMode"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({appMeta:o("MAWTransactionMode").READWRITE},"changeSecurityAlertSetting",function(e){return(function(t){return o("MAWDbMsgTypeVersionTxns").updateSecurityAlertValueForContact(e,t)})});l.changeSecurityAlertSetting=e}),98);
__d("MAWChangeSecurityAlertSettingForSelfApi",["MAWDbMsgTypeVersionTxns","MAWIndexedDb","MAWTransactionMode"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({appMeta:o("MAWTransactionMode").READWRITE},"changeSecurityAlertSettingForSelf",function(e){return(function(t){return o("MAWDbMsgTypeVersionTxns").updateSecurityAlertValueForSelf(e,t)})});l.changeSecurityAlertSettingForSelf=e}),98);
__d("MAWCompleteUndoThreadCutoverApi",["MAWAdminWriteCutoverThreadMsgTxn","MAWDbThreadTxns","MAWIndexedDb","MAWTransactionMode","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MAWIndexedDb").makeMsgrTransactor({chunk:(s=o("MAWTransactionMode")).READONLY,ftsBackloggedMessages:s.READWRITE,groupInfo:s.READONLY,media:s.READONLY,messages:s.READWRITE,threads:s.READWRITE},"completeUndoThreadCutover",function(t){return(function(n){var r=n.threadJid;return o("MAWDbThreadTxns").getThread(t,r).then(function(n){if(!n.success){o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["UpdateAdminMessageAfterUndoCutover failed to get the thread"])));return}var r=n.value;if(r.isMigratedLocally===!0)return o("MAWDbThreadTxns").markCutoverThreadAsNotMigratedLocally(t,r).then(function(e){return o("MAWAdminWriteCutoverThreadMsgTxn").revertCutoverThreadAdminMsg(t,e).then(function(){return o("MAWAdminWriteCutoverThreadMsgTxn").writeRollbackCutoverAdminMsg(t,e)})})})})});l.completeUndoThreadCutover=u}),98);
__d("MpsSnippetsCacheService",["FBLogger","MAWCacheServiceBase","MAWDbMsg","MAWDbReaction","MAWGetThreadUpdateType","MAWJids","MAWMsg","MAWMsgType","MAWThreadNewestMsgOrReactionUtils","MAWThreadSnippet","MAWThreadSnippetBuildTxns","MAWThreadSnippetUtils","MAWUserJidWrapper","MAWVault","MpsEditToBridge","MpsMessageToBridge","MpsMessageToBridgeWrapper","MpsRavenToBridge","MpsReactionToBridge","MpsToBridgeMessageId","MpsTypes","Promise","WAJids","WALongInt","WebMps","WorkerScheduler","asyncToGeneratorRuntime","getErrorSafe","justknobx","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e,s="[MpsSnippetsCacheService][Worker]",u=(function(t){function a(){return t.call(this,"snippets")||this}babelHelpers.inheritsLoose(a,t);var i=a.prototype;return i.$MpsSnippetsCacheService$p_1=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r,a=o("WAJids").unsafeCoerceToChatJid(t.threadId),i=yield this.$MpsSnippetsCacheService$p_2(t);if(i==null){c({chatJid:a,dropReason:"no-corresponding-message-in-reverb",messageId:t.messageId});return}var l=(r=o("MpsMessageToBridge").mpsFullMessagetoBridge(i))!=null?r:{},s=l.supplementals,u=l.topLevel;if((u==null?void 0:u.kind)==="bridgeMsg"){var d=u.value,m=o("MAWThreadNewestMsgOrReactionUtils").filterForSnippet(o("MAWGetThreadUpdateType").getThreadUpdateTypeForMsg({adminType:d.adminType,author:d.isAuthorMe?o("WAJids").AUTHOR_ME:o("MAWJids").toUserJid(d.sender),msgType:d.type_,xmaMessageType:d.xmaMessageType}),!1);if(m){var p=yield this.getValueFromCache(a);if(p==null){c({chatJid:a,dropReason:"no-value-calculated-from-scratch",messageId:t.messageId});return}if(p.timestamp>t.timestampMs){c({chatJid:a,dropReason:"older-than-last-snippet-value",messageId:t.messageId});return}var _=yield this.$MpsSnippetsCacheService$p_3(a,d,s);return(e||(e=n("Promise"))).resolve([a,_])}}});function r(e){return t.apply(this,arguments)}return r})(),i.$MpsSnippetsCacheService$p_2=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(e);if(o("MpsRavenToBridge").isRavenMsg(t)){var n=yield o("WebMps").mps().loadMessage({config:{shouldFetchSupplementals:!0,strategy:"local-only"},debug:{purpose:"snippet-new-message-fetch-local"},messageId:e.messageId,threadId:e.threadId}),r=n.value;return r}return{expiryTimestampMs:null,supplementalProtobufs:new Map,tags:[],toplevelProtobuf:e}});function t(t){return e.apply(this,arguments)}return t})(),i.$MpsSnippetsCacheService$p_4=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,r=o("WAJids").unsafeCoerceToChatJid(e.threadId),a=yield this.getValueFromCache(r);if(a==null){c({chatJid:r,dropReason:"no-value-calculated-from-scratch",messageId:t});return}if(a.timestamp>e.timestampMs){c({chatJid:r,dropReason:"older-than-last-snippet-value",messageId:t});return}var i=(n=o("MpsReactionToBridge").reactionMessageToBridgeMsg(o("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(e)))==null?void 0:n.value;if(i!=null){var l=yield this.$MpsSnippetsCacheService$p_5(e,t,i);if(l!=null)return l}var s=yield this.$MpsSnippetsCacheService$p_6(e,t,r);if(s!=null)return s});function t(t,n){return e.apply(this,arguments)}return t})(),i.$MpsSnippetsCacheService$p_5=function(r,a,i){var t=this,l=o("WAJids").unsafeCoerceToChatJid(r.threadId),s=(function(){var i=n("asyncToGeneratorRuntime").asyncToGenerator(function*(i){var s,u=yield o("WebMps").mps().loadMessage({config:{strategy:"local-only"},debug:{purpose:"snippet-new-message-fetch-local"},messageId:a,threadId:r.threadId}),d=u.value;if(d==null){c({chatJid:l,dropReason:"no-corresponding-message-in-reverb",messageId:a});return}var m=(s=o("MpsMessageToBridge").mpsFullMessagetoBridge(d))!=null?s:{},p=m.topLevel;if((p==null?void 0:p.kind)==="bridgeMsg"){var _=p.value,f=o("WAJids").userIdFromJid(o("MAWUserJidWrapper").getMyUserJid())===i.actorId,g=o("WAJids").userIdFromJid(o("MAWUserJidWrapper").getMyUserJid())===_.sender,h=o("MAWDbReaction").isIncomingReaction({author:f?o("WAJids").AUTHOR_ME:o("MAWJids").toUserJid(i.actorId),reaction:i.reaction,reactToAuthor:g?o("WAJids").AUTHOR_ME:o("MAWJids").toUserJid(_.sender)});if(!h)return(e||(e=n("Promise"))).resolve();var y=t.$MpsSnippetsCacheService$p_7(l,i);return(e||(e=n("Promise"))).resolve([l,y])}});return function(t){return i.apply(this,arguments)}})(),u=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield t.$MpsSnippetsCacheService$p_8({isLowPriority:!1,threadChatJids:[l]}),n=e[0];return n});return function(){return e.apply(this,arguments)}})();return(function(e){if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="upsert"&&"reaction"in e){var t=e.reaction;return s(t)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="delete")return u();throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})(i)},i.$MpsSnippetsCacheService$p_6=function(r,a,i){var t=o("MpsEditToBridge").editMessageToBridgeMsg(o("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(r));if((t==null?void 0:t.kind)!=="bridgeEditHistoryMsg")return(e||(e=n("Promise"))).resolve();var l=t.value,s=l.author,u=l.editTs,c=l.msgContent,d=c.content,m=c.mentionedJids,p=l.specialTextSize,_={author:s,chatJid:i,content:d,mentionedJids:m,msgType:o("MAWMsgType").MSG_TYPE.TEXT,specialTextSize:p},f=this.$MpsSnippetsCacheService$p_9({snippetMsgId:o("MpsToBridgeMessageId").mpsToBridgeMsgId(r.threadId,a),threadChatJid:i,threadSnippetBuilder:_,timestamp:u*1e3});return(e||(e=n("Promise"))).resolve([i,f])},i.$MpsSnippetsCacheService$p_10=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WAJids").unsafeCoerceToChatJid(e.threadId),n=yield this.getValueFromCache(t);if(!(n!=null&&n.timestamp>e.timestampMs)){var r=yield this.$MpsSnippetsCacheService$p_8({isLowPriority:!1,threadChatJids:[t]}),a=r[0];return a}});function t(t){return e.apply(this,arguments)}return t})(),i.$MpsSnippetsCacheService$p_11=function(a){var t=r("nullthrows")(a.directive);switch(t.actionType){case o("MpsTypes").ActionType.Unknown:case o("MpsTypes").ActionType.Noop:case o("MpsTypes").ActionType.Preprocess:case o("MpsTypes").ActionType.DeleteThread:case o("MpsTypes").ActionType.DeleteSupplemental:case o("MpsTypes").ActionType.DeleteTopLevelWithPlaceholder:return(e||(e=n("Promise"))).resolve();case o("MpsTypes").ActionType.UpsertTopLevel:return this.$MpsSnippetsCacheService$p_1(a.message);case o("MpsTypes").ActionType.UpsertSupplemental:return this.$MpsSnippetsCacheService$p_4(a.message,t.targetMessageId);case o("MpsTypes").ActionType.DeleteTopLevel:return this.$MpsSnippetsCacheService$p_10(a.message)}},i.$MpsSnippetsCacheService$p_12=function(t){var e=new Map;for(var n of t){var r=o("WAJids").unsafeCoerceToChatJid(n.message.threadId),a=e.get(r);(a==null||a.message.timestampMs<n.message.timestampMs)&&e.set(r,n)}return Array.from(e.values())},i.calculateDelta=function(r){var t=this,o=this.$MpsSnippetsCacheService$p_12(r);return(e||(e=n("Promise"))).all(o.map(function(e){return t.$MpsSnippetsCacheService$p_11(e)})).then(function(e){return e.filter(Boolean)})},i.$MpsSnippetsCacheService$p_7=function(t,n){var e,r=o("MAWThreadSnippetBuildTxns").buildReactionThreadSnippet(o("MAWJids").toUserJid(n.actorId),n.reaction,t),a=(e=o("WALongInt").maybeNumber(n.ts*1e3))!=null?e:0,i=n.messageId;return this.$MpsSnippetsCacheService$p_13({snippet:r,snippetReactionId:i,threadChatJid:t,timestamp:a})},i.$MpsSnippetsCacheService$p_9=function(t){var e=t.snippetMsgId,n=t.threadChatJid,r=t.threadSnippetBuilder,a=t.timestamp,i=o("MAWThreadSnippet").buildThreadSnippet(r);return this.$MpsSnippetsCacheService$p_13({snippet:i,snippetMsgId:e,threadChatJid:n,timestamp:a})},i.$MpsSnippetsCacheService$p_13=function(t){var e=t.snippet,n=t.snippetMsgId,r=t.snippetReactionId,a=t.threadChatJid,i=t.timestamp,l=babelHelpers.extends({},e.snippetParams,{strings:e.snippetParams.strings.map(function(e){return o("MAWVault").unvault(e)})});return{key:a,timestamp:i,value:{snippet:babelHelpers.extends({},e,{snippetParams:l}),snippetMsgId:n,snippetReactionId:r}}},i.$MpsSnippetsCacheService$p_3=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=t.mentionedJids?Array.from(t.mentionedJids):void 0,a=o("MAWJids").toUserJid(t.sender),i,l,s=t.replyContent;if(t.type_===o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE&&(s==null?void 0:s.replyToMsgId)!=null){var u=yield o("WebMps").mps().loadMessage({config:{strategy:"local-only"},debug:{purpose:"snippet-reply-fetch-local"},messageId:o("MpsToBridgeMessageId").bridgeMsgIdToMps(s.replyToMsgId).messageId,threadId:o("MpsTypes").toThreadId(e)}),c=u.value;if(c!=null){var d,m=(d=o("MpsMessageToBridge").mpsFullMessagetoBridge(c))==null?void 0:d.topLevel;m!=null&&m.kind==="bridgeMsg"&&(i=m.value.isAuthorMe?o("WAJids").AUTHOR_ME:o("MAWJids").toUserJid(m.value.sender),l=m.value.type_)}}var p,_=n==null?void 0:n.find(function(e){return e.kind==="bridgeMedia"});t.type_===o("MAWMsgType").MSG_TYPE.RAVEN&&_!=null&&(_.value.mediaType===o("MAWMsgType").MSG_TYPE.IMAGE?p=o("MAWMsg").MAWRavenMsgMediaType.IMAGE:_.value.mediaType===o("MAWMsgType").MSG_TYPE.VIDEO&&(p=o("MAWMsg").MAWRavenMsgMediaType.VIDEO));var f=t.content,g=r,h=n==null?void 0:n.find(function(e){return e.kind==="bridgeEditHistoryMsg"});if(h!=null){var y,C;f=(y=h.value.msgContent)==null?void 0:y.content,g=(C=h.value.msgContent)==null?void 0:C.mentionedJids}var b={adminMsgContent:t.adminContent,adminType:t.adminType,author:t.isAuthorMe?o("WAJids").AUTHOR_ME:a,chatJid:e,content:f,gifPlayback:_==null?void 0:_.value.gifPlayback,mentionedJids:g,msgType:t.type_,ravenMediaType:p,replyAuthor:i,replyType:l,specialTextSize:t.specialTextSize,unsupportedType:t.unsupportedType,xmaMessageType:t.xmaMessageType};return this.$MpsSnippetsCacheService$p_9({snippetMsgId:t.msgId,threadChatJid:e,threadSnippetBuilder:b,timestamp:o("MAWDbMsg").getSortOrderWithFallback(t)})});function t(t,n,r){return e.apply(this,arguments)}return t})(),i.$MpsSnippetsCacheService$p_8=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=this,i=t.isLowPriority,l=t.qplFlow,s=t.threadChatJids;l==null||l.addPoint("fetching_from_db_from_scratch_start");var u=yield o("WebMps").mps().batchLoadMessages({config:{priority:i?o("WorkerScheduler").BACKGROUND_PRIORITY:o("WorkerScheduler").BLOCKING_PRIORITY,shouldFetchSupplementals:!0,strategy:"local-only"},debug:{purpose:"update_snippet_from_scratch"},ranges:s.map(function(e){return{direction:"desc",from:[o("MpsTypes").toTimestamp(Number.MAX_SAFE_INTEGER),null],numMessages:r("justknobx")._("1786"),threadId:o("MpsTypes").toThreadId(e)}})});return l==null||l.addPoint("fetching_from_db_from_scratch_end"),u.success===!1?(e||(e=n("Promise"))).resolve([]):(e||(e=n("Promise"))).all(u.value.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=e.messages,r=e.threadId,i=o("WAJids").unsafeCoerceToChatJid(r),s=yield a.$MpsSnippetsCacheService$p_14(n,i,t,l);if(s==null){var u=a.$MpsSnippetsCacheService$p_13({snippet:o("MAWThreadSnippetUtils").EMPTY_SNIPPET_DATA,threadChatJid:i,timestamp:Number.MIN_SAFE_INTEGER});return[r,u]}return[r,s]});return function(t,n){return e.apply(this,arguments)}})()))});function a(e){return t.apply(this,arguments)}return a})(),i.$MpsSnippetsCacheService$p_14=function(a,i,l,u){var t;u==null||u.addPoint("full_message_to_bridge_"+l+"_start");var c=a.map(function(e){try{return o("MpsMessageToBridge").mpsFullMessagetoBridge(e)}catch(e){r("FBLogger")("mps").catching(r("getErrorSafe")(e)).warn("calculateSnippetFromScratchImpl failed to create a bridge object");return}}).filter(Boolean);u==null||u.addPoint("full_message_to_bridge_"+l+"_end"),u==null||u.addPoint("locating_most_recent_message_"+l+"_start");var d=(t=c.find(function(e){var t=e.topLevel;if((t==null?void 0:t.kind)!=="bridgeMsg")return!1;var n=t.value;return o("MAWThreadNewestMsgOrReactionUtils").filterForSnippet(o("MAWGetThreadUpdateType").getThreadUpdateTypeForMsg({adminType:n.adminType,author:n.isAuthorMe?o("WAJids").AUTHOR_ME:o("MAWJids").toUserJid(n.sender),msgType:n.type_,xmaMessageType:n.xmaMessageType}),!1)}))!=null?t:{},m=d.supplementals,p=d.topLevel;if(u==null||u.addPoint("locating_most_recent_message_"+l+"_end"),(p==null?void 0:p.kind)!=="bridgeMsg")return(e||(e=n("Promise"))).resolve();u==null||u.addPoint("locating_most_recent_reaction_"+l+"_start");var _=c.flatMap(function(e,t){var n=e.supplementals,r=e.topLevel;return n==null?void 0:n.map(function(e){return{msgIndex:t,supplemental:e,topLevel:r}})}).filter(Boolean).map(function(e){var t=e.msgIndex,n=e.supplemental,r=e.topLevel;if(n.kind==="bridgeReactionAction"&&n.value.type==="upsert"&&(r==null?void 0:r.kind)==="bridgeMsg")return{msgIndex:t,reaction:n.value.reaction,reactToAuthor:r.value.isAuthorMe?o("WAJids").AUTHOR_ME:o("MAWJids").toUserJid(r.value.sender)}}).filter(Boolean).filter(function(e){var t=e.reaction,n=e.reactToAuthor,r=o("WAJids").userIdFromJid(o("MAWUserJidWrapper").getMyUserJid())===t.actorId;return o("MAWDbReaction").isIncomingReaction({author:r?o("WAJids").AUTHOR_ME:o("MAWJids").toUserJid(t.actorId),reaction:t.reaction,reactToAuthor:n})}),f=_.length===0?null:_.sort(function(e,t){return t.reaction.ts-e.reaction.ts})[0];return u==null||u.addPoint("locating_most_recent_reaction_"+l+"_end"),f!=null&&f.reaction.ts>(p.value!=null?o("MAWDbMsg").getCanonicalTsFromMsg(p.value):0)?(r("FBLogger")("mps").info(s+" Reaction more recent than top message: index %s of %s total messages",f.msgIndex,c.length),(e||(e=n("Promise"))).resolve(this.$MpsSnippetsCacheService$p_7(i,f.reaction))):p.value!=null?this.$MpsSnippetsCacheService$p_3(i,p.value,m):(e||(e=n("Promise"))).resolve()},i.computeCachePayloadFromScratch=function(t,n,r){r===void 0&&(r=!1);var e=t.map(o("WAJids").unsafeCoerceToChatJid);return this.$MpsSnippetsCacheService$p_8({isLowPriority:r,qplFlow:n,threadChatJids:e}).then(function(e){return e.filter(function(e){return e!=null})})},i.shouldDropDelta=function(r){return(e||(e=n("Promise"))).resolve(!1)},a})(r("MAWCacheServiceBase"));function c(e){var t=e.chatJid,n=e.dropReason,o=e.messageId;r("FBLogger")("wmi").info(s+" Drop update for msg, reason: %s, chatJid: %s, messageId: %s",n,t,o)}var d=new u,m=function(){return d};l.MpsSnippetsCacheService=u,l.getMpsSnippetsCacheService=m}),98);
__d("MpsWorkerCacheServices",["FBLogger","MAWBridge","MAWCacheServiceDB","MAWCacheServiceQPL","MAWCacheServiceUtils","MAWLoggerUtils","MAWMpsGating","MpsSnippetsCacheService","WorkerScheduler","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=o("MAWCacheServiceUtils").getMAWCacheServiceBroadcastChannel(),this.$2=o("MpsSnippetsCacheService").getMpsSnippetsCacheService(),this.$3=o("WorkerScheduler").makeScheduler("maw-cache-service-snippets",{concurrency:1,maxTaskLimit:1,maxThrottleMs:6e4})}var t=e.prototype;return t.$4=function(t,n,r,a){if(o("MAWMpsGating").isMpsSnippetsCacheServiceEnabled()){var e={cache:n,instanceKey:a,namespace:t,source:r};this.$1==null?o("MAWBridge").getBridge().fireAndForget("event","broadcastChannelFallback",{event:{data:e},namespace:o("MAWCacheServiceUtils").MAW_CACHE_SERVICE_BROADCAST_CHANNEL}):this.$1.postMessage(e)}},t.$5=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){var i=e.namespace,l=o("MAWCacheServiceUtils").findDuplicates(t,function(e){var t=e[0],n=e[1];return t});if(l.length>0&&(r("FBLogger")("MAWCacheService").mustfix("Found duplicate keys in cache: %s. Original keys: %s, Namespace: %s, Source: %s",l.map(function(e){var t=e[0],n=e[1];return t}).join(", "),t.map(function(e){var t=e[0],n=e[1];return t}).join(", "),i,n),a!=null&&r("MAWCacheServiceQPL").addAnnotationsQPL(a,{bool:{hasDuplicateKeys:!0},string_array:{duplicateKeys:r("MAWCacheServiceQPL").redactKeysForNonEmployee(l.map(function(e){var t=e[0],n=e[1];return t}))}})),t.length===0){a!=null&&(r("MAWCacheServiceQPL").addPointQPL(a,"nothing_to_update_in_cache",n),r("MAWCacheServiceQPL").endSuccessQPL(a));return}a!=null&&r("MAWCacheServiceQPL").addPointQPL(a,"updating_cache_in_persisted_start",n),e.updateInMemoryCacheBulk(t);try{var s=o("MAWCacheServiceDB").convertCacheValueToDBRawValue(t).map(function(e){return babelHelpers.extends({},e,{key:e.key+"_mps_reactive"})}),u=yield o("MAWCacheServiceDB").getOrSetupMAWCacheDB();yield u.runInTransaction([i],"readwrite",function(e){var t=s.map(function(e){return{item:e,selector:[e.key]}});return e.stores[i].bulkUpsert("key",t)},"update_cache_"+i),a!=null&&r("MAWCacheServiceQPL").addPointQPL(a,"updating_cache_in_persisted_end",n)}catch(e){var c=r("getErrorSafe")(e);a!=null&&(r("MAWCacheServiceQPL").addAnnotationsQPL(a,{string:{error:c.message}}),r("MAWCacheServiceQPL").addPointQPL(a,"updating_cache_in_persisted_failed",n)),r("FBLogger")("MAWCacheService").catching(c).mustfix("Failed to update persisted cache")}a!=null&&r("MAWCacheServiceQPL").addPointQPL(a,"broadcasting_to_ui_start",n),this.$4(i,t,n,a)});function t(t,n,r,o){return e.apply(this,arguments)}return t})(),t.calculateDelta=function(t){var e=this,n=this.$2,a=n.shouldDropDelta(t);a.then(function(a){if(!a)return e.$3.runTask({fn:function(){return n.calculateDelta(t).then(function(t){var a=t.map(function(e){var t=e[0],n=e[1];return t}),i=o("MAWLoggerUtils").getInstanceKey();return t.length!==0&&(r("MAWCacheServiceQPL").startQPL(i,n.namespace),r("MAWCacheServiceQPL").addAnnotationsQPL(i,{bool:{isRealtimeUpdate:!0},int:{instanceKey:i},string_array:{realtimeUpdatedKeys:a}})),e.$5(n,t,"realtime-update",i)})},name:"maw_calculate_delta",priority:o("WorkerScheduler").REGULAR_PRIORITY})}).catch(function(e){r("FBLogger")("MAWCacheService").catching(r("getErrorSafe")(e)).warn("Failed to calculate delta")})},t.computeCachePayloadFromScratch=function(t,n,a,i){var e=this;a!=null&&r("MAWCacheServiceQPL").registerInstanceKeyInWorker(a),r("MAWCacheServiceQPL").addPointQPL(a,"compute_from_scratch_start",n),r("MAWCacheServiceQPL").addAnnotationsQPL(a,{string_array:{keysReceivedInWorker:r("MAWCacheServiceQPL").redactKeysForNonEmployee(t)}});var l=this.$2;return this.$3.runTask({fn:function(s){var o=s.metric;return l.computeCachePayloadFromScratch(t,o,i).then(function(t){return r("MAWCacheServiceQPL").addPointQPL(a,"compute_from_scratch_end",n),e.$5(l,t,n,a)}).catch(function(e){r("MAWCacheServiceQPL").endFailureQPL(a,"compute_from_scratch_failed",n),r("FBLogger")("MAWCacheService").catching(e).warn("Failed to compute cache payload from scratch")})},name:"maw_compute_cache_payload_"+n+"_"+(i?"low-pri":"regular"),priority:i?o("WorkerScheduler").BACKGROUND_PRIORITY:o("WorkerScheduler").REGULAR_PRIORITY})},e})(),s=null,u=function(){return s==null&&(s=new e),s};l.getMpsWorkerCacheServices=u}),98);
__d("MAWComputeCachePayloadFromScratch",["MAWCommonScheduler","MAWMpsGating","MAWWorkerCacheServices","MpsWorkerCacheServices","WAWaitForUserUnblocked","WorkerScheduler","asyncToGeneratorRuntime","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.instanceKey,n=e.isLowPriority,a=e.keys,i=e.namespace;return r("gkx")("2792")&&!o("MAWMpsGating").isMpsSnippetsCacheServiceEnabled()&&r("promiseDone")(s({instanceKey:t,isLowPriority:n,keys:a,namespace:i})),s({instanceKey:t,isLowPriority:n,keys:a,namespace:i})}function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.instanceKey,n=e.isLowPriority,r=e.keys,a=e.namespace;return o("MAWMpsGating").isMpsSnippetsCacheServiceEnabled()?(yield o("WAWaitForUserUnblocked").waitForUserUnblocked(),o("MpsWorkerCacheServices").getMpsWorkerCacheServices().computeCachePayloadFromScratch(r,n?"cache-invalidation":"from-scratch",t,n)):n?o("MAWCommonScheduler").mawCommonScheduler().runTask({fn:function(){return o("MAWWorkerCacheServices").getMAWWorkerCacheServices().computeCachePayloadFromScratch(a,r,"cache-invalidation",t)},name:"maw_compute_cache_payload_cache-invalidation",priority:o("WorkerScheduler").BACKGROUND_PRIORITY}):o("MAWWorkerCacheServices").getMAWWorkerCacheServices().computeCachePayloadFromScratch(a,r,"from-scratch",t)}),u.apply(this,arguments)}l.computeCachePayloadFromScratch=e}),98);
__d("MAWConvertEchoMessagesToMsgStanzas",["MAWHandleEBRestoreWithHIM"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("MAWHandleEBRestoreWithHIM").convertEchoMessages(e,t)}l.convertEchoMessagesToMsgStanzas=e}),98);
__d("MAWCreateOrUpdateThreadApi",["MAWIndexedDb","MAWJids","MAWThreadManagementTxns","MAWTransactionMode"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({messages:o("MAWTransactionMode").READWRITE,participants:o("MAWTransactionMode").READWRITE,threads:o("MAWTransactionMode").READWRITE},"createOrUpdateThread",function(e){return(function(t){var n=t.contactFbid,r=t.description,a=t.s2sInstanceKey,i=t.threadKey;return o("MAWThreadManagementTxns").getOrSetupOneToOneThread(e,{description:r,offlineThreadingId:i,skipVerifyThread:!0,userJid:o("MAWJids").toUserJid(n)},a).then(function(e){var t=e.created,n=e.thread;return{clientThreadKey:n.optimisticThreadKey,created:t,folder:n.folder,jid:n.jid}})})});l.createOrUpdateThread=e}),98);
__d("MAWDeleteMediaChunks_FOR_TESTING_ONLY",["MAWIndexedDb","MAWMediaUtils","MAWTransactionMode"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({chunk:o("MAWTransactionMode").READWRITE},"deleteMediaChunks_FOR_TESTING_ONLY",function(e){return(function(t){var n=t.map(o("MAWMediaUtils").genHMACPlaintextHash);return e.chunk.where("hashedPlaintextHash").anyOf(n).delete().then(function(){})})});l.deleteMediaChunks_FOR_TESTING_ONLY=e}),98);
__d("MAWDeleteThreadApi",["FBLogger","MAWIndexedDb","MAWThreadManagementTxns","MAWTransactionMode","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MAWIndexedDb").makeMsgrTransactor({chunk:(s=o("MAWTransactionMode")).READWRITE,deletedMessages:s.READWRITE,groupInfo:s.READWRITE,groupInvites:s.READWRITE,media:s.READWRITE,messages:s.READWRITE,participants:s.READWRITE,pendingStanzas:s.READWRITE,reactions:s.READWRITE,threads:s.READWRITE,unrenderedMessages:s.READWRITE},"deleteThread",function(t){return(function(n){return t.threads.get({jid:n}).then(function(a){if(a==null)throw r("FBLogger")("messenger_web").mustfixThrow("There was no thread to delete in local delete thread");return o("MAWThreadManagementTxns").deleteAllThreadData(t,a).then(function(){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Successfully deleted thread ",""])),n)})})})});l.deleteThread=u}),98);
__d("MAWGetMediaApi",["MAWDbMediaTxns","MAWDexieTable","MAWIndexedDb","MAWTransactionMode","MWFBLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(t){var e=t.media,n=t.xmaMediaType;return e==null?null:{media:e,xmaMediaType:n}},c=o("MAWIndexedDb").makeMsgrTransactor({media:(s=o("MAWTransactionMode")).READONLY},"getMediaByPlaintextHash",function(e){return function(t){return o("MAWDbMediaTxns").maybeGetMediaFromPlaintextHash(e,t)}}),d=o("MAWIndexedDb").makeMsgrTransactor({media:s.READONLY},"getMediaByMediaId",function(e){return function(t){return o("MAWDbMediaTxns").maybeGetMediaFromMediaId(e,t)}}),m=o("MAWIndexedDb").makeMsgrTransactor({media:s.READONLY,xma:s.READONLY},"getMediaByXMAId",function(t){return function(n){return t.xma.get(n).then(function(r){return r==null?(o("MWFBLogger").MWMediaLogger().tags(["downloadMediaForUI"]).MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["cannot find xma with xmaId ",""])),n),[]):o("MAWDexieTable").dexieAll([o("MAWDbMediaTxns").maybeGetMediaFromMediaId(t,r.defaultPreviewMediaId).then(function(e){return u({media:e,xmaMediaType:"preview"})}),o("MAWDbMediaTxns").maybeGetMediaFromMediaId(t,r.headerMediaId).then(function(e){return u({media:e,xmaMediaType:"headerImage"})}),o("MAWDbMediaTxns").maybeGetMediaFromMediaId(t,r.faviconMediaId).then(function(e){return u({media:e,xmaMediaType:"favicon"})})])})}});l.getMediaByPlaintextHash=c,l.getMediaByMediaId=d,l.getMediaByXMAId=m}),98);
__d("MAWGetProtocolMsgIdByMediaMsgId",["MAWIndexedDb","MAWTransactionMode","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({messages:o("MAWTransactionMode").READONLY,threads:o("MAWTransactionMode").READONLY},"getProtocolMsgIdByMediaMsgId",function(e){return(function(t){return e.messages.get({msgId:t}).then(function(t){return t==null?null:e.threads.get({jid:t.threadJid}).then(function(e){return e==null||o("WAJids").isAuthorSystem(t.author)?null:{author:t.author,chat:e.jid,externalId:t.externalId}})})})});l.getProtocolMsgIdByMediaMsgId=e}),98);
__d("MAWDownloadMediaForUI",["MAWDownloadAndHandleMedia","MAWGetMediaApi","MAWGetProtocolMsgIdByMediaMsgId","MAWMediaDownloadStatus","MAWMediaDownloadStatusForUI","MAWMediaManager","MAWMpsGating","MWFBLogger","Promise","WAErrorMessage","WAFindMostRecentMediaEntry","WAHashUtils","WAMediaManager","WAPromiseManagement","WAResultOrError","WAStartMediaDownloadQplFlow","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f=o("MWFBLogger").MWMediaLogger().tags(["downloadMediaForUI"]);function g(e){return(_||(_=n("Promise"))).all(e.media.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield h(e);return{arg:e,result:t}});return function(t){return e.apply(this,arguments)}})()))}function h(t){return y(t).catch(function(t){return f.catching(t).MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Runtime error"]))),o("WAResultOrError").makeError("runtime-error")})}var y=o("WAPromiseManagement").cacheWhilePending(function(e){var t;switch(e.type){case"mediaId":return"mediaId-"+e.mediaId.toString()+"-"+((t=e.downloadType)!=null?t:"fullsizeAndPreview");case"xmaId":return"xmaId-"+e.xmaId.toString();default:{var n;return e.type,"plaintextHash-"+e.plaintextHash+"-"+((n=e.downloadType)!=null?n:"fullsizeAndPreview")}}},C);function C(e){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=R(e);if(f.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["start downloadMediaForUILayout. ",""])),t),o("MAWMpsGating").isMpsMessageRendering()){var a=o("WAStartMediaDownloadQplFlow").startMediaDownloadQplFlow({downloadEntry:"UILayout",msgType:null,protocolMsgId:null,triggerUIView:e.triggerUIView});if(e.type!=="plaintextHash")return f.MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["downloadMediaForUILayout: args.type is not plaintextHash"]))),o("WAResultOrError").makeError("missing-media");var i=e.plaintextHash;o("MAWDownloadAndHandleMedia").sendUIStatusDownloading(i,"download_and_handle_media"),o("MAWMediaDownloadStatusForUI").sendMediaDownloadStatusToUI({details:"download_and_handle_media",hash:i,status:r("MAWMediaDownloadStatus").DOWNLOADING,type:"main"});var l=o("MAWMediaManager").getMawMediaManager().enqueueDownloadFullSizeAndPreview({fullSizePlaintextHash:i,mediaDownloadFlow:a,priority:o("WAMediaManager").MediaTaskPriority.HIGH}),g=l.fullsizePromise,h=l.previewPromise;h.then(function(){o("MAWMediaDownloadStatusForUI").sendMediaDownloadStatusToUI({details:"handle_media_download_success",hash:i,status:r("MAWMediaDownloadStatus").SUCCESS,type:"preview"})});var y=yield g;return y.success===!1?(a.endFail("handle_media_download_fail",{string:{failReason:y.payload==null?y.error:o("WAErrorMessage").maybeGetMessageFromError(y.payload)}}),o("MAWDownloadAndHandleMedia").sendUIStatusFailure(i,y.error),o("WAResultOrError").makeError("runtime-error")):(a.addPoint("handle_media_download_end"),a.endSuccess(),o("MAWDownloadAndHandleMedia").sendUIStatusSuccess(i,y.value.validatedResult),o("WAResultOrError").makeResult())}var C;switch(e.type){case"xmaId":C=yield o("MAWGetMediaApi").getMediaByXMAId(e.xmaId).then(function(e){return e.filter(Boolean)});break;case"mediaId":C=yield o("MAWGetMediaApi").getMediaByMediaId(e.mediaId).then(function(e){return e==null?[]:[{media:e}]});break;default:{e.type,C=yield o("MAWGetMediaApi").getMediaByPlaintextHash(e.plaintextHash).then(function(e){return e==null?[]:[{media:e}]});break}}if(C.length===0)return f.MUSTFIX(c||(c=babelHelpers.taggedTemplateLiteralLoose(["cannot find media with ",""])),t),o("WAResultOrError").makeError("missing-media");var b=yield(_||(_=n("Promise"))).all(C.map((function(){var a=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var a,i=n.media,l=(a=e.xmaMediaType)!=null?a:n.xmaMediaType;try{var s=yield v(i);if(!s.success)return s;var u=s.value,c="UILayout",m=o("WAStartMediaDownloadQplFlow").startMediaDownloadQplFlow({downloadEntry:c,msgType:e.msgType,protocolMsgId:u,triggerUIView:e.triggerUIView,xmaMediaType:l});return yield o("MAWDownloadAndHandleMedia").downloadAndHandleMediaImpl({downloadEntry:c,hash:i.plaintextHash,mediaDownloadFlow:m,msgType:e.msgType,protocolMsgId:u}),o("WAResultOrError").makeResult()}catch(e){return f.catching(r("getErrorSafe")(e)).MUSTFIX(d||(d=babelHelpers.taggedTemplateLiteralLoose(["download media with "," runtime error"])),t),o("WAResultOrError").makeError("runtime-error")}});return function(e){return a.apply(this,arguments)}})())),S=b.filter(function(e){return!e.success});return S.length>0?(f.MUSTFIX(m||(m=babelHelpers.taggedTemplateLiteralLoose(["download media with "," errors: ",""])),t,S.map(function(e){return e.error}).toString()),S[0]):(f.DEBUG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["downloadMediaForUILayout success"]))),o("WAResultOrError").makeResult())}),b.apply(this,arguments)}function v(e){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WAFindMostRecentMediaEntry").findMostRecentMediaEntry(e.mediaEntries);if(!t.success)return t;var n=t.value,r=n[0],a=n[1],i=yield o("MAWGetProtocolMsgIdByMediaMsgId").getProtocolMsgIdByMediaMsgId(r);return i==null?o("WAResultOrError").makeError("no-protocol-msg-id"):o("WAResultOrError").makeResult(i)}),S.apply(this,arguments)}function R(e){switch(e.type){case"mediaId":return"mediaId: "+e.mediaId.toString();case"xmaId":return"xmaId: "+e.xmaId.toString();default:return e.type,"plaintextHash: "+o("WAHashUtils").sanitisePlaintextHash(e.plaintextHash)}}l.bulkDownloadMediaForUI=g,l.downloadMediaForUI=h,l.getMostRecentProtocolMsgId=v}),98);
__d("MAWEBClientStateLogging",["EBGetClientState","EBLS","MAWODSProxy","WAOdsEnums","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=(yield o("EBLS").init()).db,t=yield o("EBGetClientState").getClientState(e);o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.EB_CLIENT_STATE_CHECK,key:t==null?"null":"present"})}),s.apply(this,arguments)}l.logEBClientStateForDebugging=e}),98);
__d("MAWDebugInfoDb",["FBLogger","MAWCurrentUser","MAWIndexedDbMetadata","MAWWormOdsLogger","MessengerWebInitData","WAHex","Worm","WormEAR","WormIDbDriver","asyncToGeneratorRuntime","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e={initRestore:{indexes:{},primaryKey:"key"}},s=null;function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){if(s!=null)return s;var a="maw_debug_info",i=new(o("WormEAR")).WormEAR(e,a,t),l=new(o("WormIDbDriver")).WormIDbDriver(o("MAWIndexedDbMetadata").MAWDebugInfoDBName(o("MAWCurrentUser").getID()),a,e,i,o("MAWWormOdsLogger").wormOdsWorkerLogger,{onBlockingError:function(t){r("FBLogger")("MAWDebugInfoDb").warn("Blocking error: %s",t)},onTransactionError:function(t){r("FBLogger")("MAWDebugInfoDb").warn("Transaction error: %s",t.message)}}),u=new(o("Worm")).WormDatabase(l,n);return s=u,yield u.init(),u}),c.apply(this,arguments)}function d(){return u(o("WAHex").parseHex(r("MessengerWebInitData").accountKeyV2),r("qpl")._(1056840657,"2716"))}l.getMAWDebugInfoDb=d}),98);
__d("MAWEBInitRestoreLogging",["MAWDebugInfoDb","WATimeUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e={restoredInSession:!1,restoreMethod:null,restoreTimeMs:null};function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=t.method;e.restoredInSession=!0;var a=o("WATimeUtils").millisTime();e.restoreMethod=r,e.restoreTimeMs=a;var i=yield o("MAWDebugInfoDb").getMAWDebugInfoDb();yield i.runInTransaction(["initRestore"],"readwrite",(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield e.stores.initRestore.bulkPut([{data:{restoreMethod:r,restoreTimeMs:a},key:"initRestoreDebugInfo"}])});return function(t){return e.apply(this,arguments)}})(),"logInitRestoreMethodForDebugging")}),u.apply(this,arguments)}function c(){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield m();return babelHelpers.extends({},e,t)}),d.apply(this,arguments)}function m(){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("MAWDebugInfoDb").getMAWDebugInfoDb(),t=yield e.runInTransaction(["initRestore"],"readonly",function(e){return e.stores.initRestore.get("initRestoreDebugInfo")},"getInitRestoreDebugInfo");return t==null?{}:babelHelpers.extends({},t.data)}),p.apply(this,arguments)}l.logInitRestoreMethodForDebugging=s,l.getInitRestoreDebugInfo=c}),98);
__d("MAWFTSEBMessagesDataSync",["FBLogger","I64","MAWBridge","MAWDbFTSManifest","MAWFTSIndexedDb","MAWFTSWorker","MAWTransactionMode","MAWVault","Promise","asyncToGeneratorRuntime","err","getErrorSafe","isMAWUniversalSearchWithEBEnabled","justknobx","promiseDone","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=(d=r("justknobx"))._("2645"),p=d._("2606")+d._("2646"),_=d._("2647"),f=[],g=new Map,h=[];function y(e){var t,n;f=f.filter(function(t){return t.tabId!==e}),h=h.filter(function(t){return t!==e}),g.has(e)&&(window.clearTimeout((t=g.get(e))==null?void 0:t.aliveTimeout),(n=g.get(e))==null||(n=n.ongoingTask)==null||n.reject(r("err")("Tab is closed")),g.delete(e))}function C(e,t){var n=window.setTimeout(function(){y(e)},_),r=g.get(e);if(t&&S(e),r!=null){window.clearTimeout(r.aliveTimeout),r.aliveTimeout=n;return}g.set(e,{aliveTimeout:n,ongoingTask:null})}var b=function(t){var e=t.hasFocus,r=t.tabId;return C(r,e),(c||(c=n("Promise"))).resolve()},v=function(t){var e=t.tabId;return y(e),(c||(c=n("Promise"))).resolve()};function S(e){h.length>0&&h[0]===e||(h=[e].concat(h.filter(function(t){return t!==e})))}var R=function(t){var e=t.tabId;return C(e,!0),(c||(c=n("Promise"))).resolve()};function L(e){return E.apply(this,arguments)}function E(){return E=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=g.get(e);if(t!=null){var o=new(c||(c=n("Promise")))(function(e,n){t.ongoingTask={reject:n,resolve:e}});try{yield(c||(c=n("Promise"))).race([o,new c(function(e,t){window.setTimeout(function(){t(r("err")("Task timeout"))},p)})])}catch(e){var a=r("getErrorSafe")(e);r("FBLogger")("fts_worker").catching(a).mustfix("Failed to restore FTS index for tab %s",a.message)}finally{var i=g.get(e);i!=null&&(i.ongoingTask=null),f=f.filter(function(t){return t.tabId!==e})}}}),E.apply(this,arguments)}var k=function(t){var e=t.tabId,a=t.threadJid;return!o("MAWFTSWorker").isFTSInitiated()||f.length>=m||!h.slice(0,m).includes(e)||f.some(function(e){return e.threadJid===a})?(c||(c=n("Promise"))).resolve(!1):(f.push({tabId:e,threadJid:a}),r("promiseDone")(L(e)),(c||(c=n("Promise"))).resolve(!0))},I=function(t){var e=t.error,r=t.tabId;if(e==null){var o;(o=g.get(r))==null||(o=o.ongoingTask)==null||o.resolve()}else{var a;(a=g.get(r))==null||(a=a.ongoingTask)==null||a.reject(e)}return(c||(c=n("Promise"))).resolve()},T=(s=o("MAWFTSIndexedDb")).makeMsgrFTSTransactor({ftsRestoreStatus:(u=o("MAWTransactionMode")).READWRITE},function(t){return function(n,r){return t.ftsRestoreStatus.get(n).then(function(a){var i,l;if(!(a!=null&&(e||(e=o("I64"))).lt((e||(e=o("I64"))).of_string(a.restoredUntilSortOrderMs),(e||(e=o("I64"))).of_string(r)))){var s=(i=(l=a==null?void 0:a.maxRestoredUntilSortOrderMs)!=null?l:a==null?void 0:a.restoredUntilSortOrderMs)!=null?i:r;return t.ftsRestoreStatus.put({maxRestoredUntilSortOrderMs:s,restoredUntilSortOrderMs:r,threadId:n})}})}}),D=s.makeMsgrFTSTransactor({ftsRestoreStatus:u.READWRITE},function(e){return function(t){return e.ftsRestoreStatus.get(t)}}),x=s.makeMsgrFTSTransactor({ftsRestoreStatus:u.READWRITE},function(e){return function(t){return e.ftsRestoreStatus.delete(t)}}),$=s.makeMsgrFTSTransactor({ftsManifest:u.READWRITE},function(e){return function(){return e.ftsManifest.get(o("MAWDbFTSManifest").ManifestKeys.CURR_VERSION).then(function(t){if(t!=null){if(t.restoreSessionId!=null)return t.restoreSessionId;var n=r("uuidv4")();return e.ftsManifest.update(o("MAWDbFTSManifest").ManifestKeys.CURR_VERSION,{restoreSessionId:n}).then(function(){return n})}return""})}}),P=s.makeMsgrFTSTransactor({ftsRestoreStatus:u.READWRITE},function(e){return function(){return e.ftsRestoreStatus.toCollection().toArray()}}),N=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.newSortOrderMs,n=e.threadId,a=e.unvaultedBridgeSearchMessages,i=o("MAWFTSWorker").getFTSWorker(),l=a.map(function(e){var t,r=(t=e.msg)==null?void 0:t.content;return r==null?null:{chatId:n,id:e.externalId,textFragments:[o("MAWVault").isVaulted(r)?o("MAWVault").unvault(r):r],timestamp:e.sortOrderMs}}).filter(Boolean),s;r("isMAWUniversalSearchWithEBEnabled")()&&(s=yield i.getExistingMessageIdsInIndex(a.map(function(e){return e.externalId}))),i.setEphemeralBacklog(l),yield i.index({estimatedNumMessages:l.length,type:"EB"}),yield T(n,t),o("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"AddMessageSearchResult",value:s!=null?a.filter(function(e){return!s.has(e.externalId)}):a}]})});return function(n){return e.apply(this,arguments)}})(),M=s.makeMsgrFTSTransactor({mediaRestoreStatus:u.READWRITE},function(e){return function(t){return e.mediaRestoreStatus.get(t)}}),w=s.makeMsgrFTSTransactor({mediaRestoreStatus:u.READWRITE},function(t){return function(n,r){return t.mediaRestoreStatus.get(n).then(function(a){var i,l;if(!(a!=null&&(e||(e=o("I64"))).lt((e||(e=o("I64"))).of_string(a.restoredUntilSortOrderMs),(e||(e=o("I64"))).of_string(r)))){var s=(i=(l=a==null?void 0:a.maxRestoredUntilSortOrderMs)!=null?l:a==null?void 0:a.restoredUntilSortOrderMs)!=null?i:r;return t.mediaRestoreStatus.put({maxRestoredUntilSortOrderMs:s,restoredUntilSortOrderMs:r,threadId:n})}})}}),A=function(){return $()},F=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=e.threadId,r=yield D(n);return(t=r==null?void 0:r.restoredUntilSortOrderMs)!=null?t:null});return function(n){return e.apply(this,arguments)}})(),O=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.newSortOrderMs,n=e.threadId;yield T(n,t)});return function(n){return e.apply(this,arguments)}})(),B=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.threadId,n=yield D(t);return n});return function(n){return e.apply(this,arguments)}})(),W=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.threadId;yield x(t)});return function(n){return e.apply(this,arguments)}})(),q=function(){return P()},U=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.threadId,n=yield M(t);return n});return function(n){return e.apply(this,arguments)}})(),V=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.newSortOrderMs,n=e.threadId;yield w(n,t)});return function(n){return e.apply(this,arguments)}})(),H=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=e.threadId,r=yield M(n);return(t=r==null?void 0:r.restoredUntilSortOrderMs)!=null?t:null});return function(n){return e.apply(this,arguments)}})();l.searchFTSReportTabAlive=b,l.searchFTSReportTabDestroy=v,l.searchFTSReportTabForeground=R,l.searchFTSRequestRestoreTask=k,l.searchFTSReportTabTaskComplete=I,l.searchIndexUpdate=N,l.searchGetFTSRestoreSessionId=A,l.searchGetFTSNextTimestamp=F,l.searchSetFTSNextTimestamp=O,l.searchFTSGetThreadRestoreStatus=B,l.searchFTSClearThreadRestoreStatus=W,l.searchFTSGetThreadsRestoreStatus=q,l.getThreadMediaRestoreStatus=U,l.setThreadMediaRestoreStatus=V,l.getMediaRestoreNextTimestamp=H}),98);
__d("MAWGetBlobDataUrlByMediaIdApi",["FBLogger","MAWCreateMaybeAddPointForMediaRender","MAWDbChunkTxns","MAWDbMediaTxns","MAWIndexedDb","MAWLegacyMediaDownloadManager","MAWMaybeWithTimeout","MAWMediaManager","MAWMpsGating","MAWTransactionMode","MpsMediaEntryCache","Promise","WAAssertUnreachable","WAHashUtils","WALogger","WAMediaManager","WAResultOrError","WAStartMediaDownloadQplFlow","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=6e4,_=function(a,i,l){var t=o("MAWCreateMaybeAddPointForMediaRender").createMaybeAddPointForMediaRender(l);return t("fetch_blob_api_start",{string:{call_site:i,fetch_by:"mediaId"}}),f(a,i).then(function(l){if(l.success===!1)switch(l.error){case"missing_media":throw t("fetch_blob_api_fail_no_media_found",{string:{fetch_blob_api_fail_no_media_found_error:l.error}}),r("FBLogger")("messenger_web_media").mustfixThrow("Failed to getBlobDataUrlByMediaId because media is not in the media db. mediaId is %s, from %s",a,i);default:throw r("WAAssertUnreachable")(l.error)}var s=l.value,u=s.blob,c=s.media;return u!=null?(t("fetch_blob_api_success",{bool:{has_blob:u.size>0}}),u):(t("fetch_blob_api_no_media_blob_found"),o("MAWMaybeWithTimeout").maybeWithTimeout(new(m||(m=n("Promise")))(function(e){t("fetch_blob_api_fetch_chunk_start"),o("MAWLegacyMediaDownloadManager").setToMediaDownloadManager(c.mediaId,e)}).then(function(e){return t("fetch_blob_api_fetch_chunk_success"),t("fetch_blob_api_success",{bool:{has_blob:e.size>0}}),e}),p,function(){throw t("fetch_blob_api_fetch_chunk_fail_timeout"),o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["getBlobDataUrlByMediaIdDbCall cannot find chunk with mediaId: ",", from ",""])),a,i),r("FBLogger")("messenger_web_media").mustfixThrow("Failed to getBlobDataUrlByMediaId in time. mediaId is %s, from %s",a,i)}))})},f=o("MAWIndexedDb").makeMsgrTransactor({chunk:(d=o("MAWTransactionMode")).READONLY,media:d.READONLY},"getBlobDataUrlByMediaId",function(e){return function(t,n){return e.media.get(t).then(function(r){return r==null?(o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["getBlobDataUrlByMediaIdDbCall cannot find media with mediaId: ",", from ",""])),t,n),o("WAResultOrError").makeError("missing_media")):e.chunk.where("hashedPlaintextHash").equals(r.hashedPlaintextHash).first().then(function(e){return e==null?o("WAResultOrError").makeResult({blob:null,media:r}):o("WAResultOrError").makeResult({blob:new Blob([e.blobData],{type:e.mimetype}),media:r})})})}}),g=function(t,n,r){return h(t,n,r)},h=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a){var i=o("MAWCreateMaybeAddPointForMediaRender").createMaybeAddPointForMediaRender(a),l=o("MpsMediaEntryCache").getEntry(e)!=null&&o("MAWMpsGating").isMpsMediaGalleryEnabled();if(i("fetch_blob_api_start",{bool:{shouldUseMpsGalleryAndMpsMediaManager:l},string:{call_site:t,fetch_by:"plaintextHash"}}),o("MAWMpsGating").isMpsMessageRendering()||l){var s,c=o("WAStartMediaDownloadQplFlow").startMediaDownloadQplFlow({downloadEntry:"UILayout",msgType:null,protocolMsgId:null,triggerUIView:null}),d=l?o("MAWMediaManager").getMpsMediaManager():o("MAWMediaManager").getMawMediaManager(),_=yield d.enqueueDownloadFullSizeAndPreview({fullSizePlaintextHash:e,mediaDownloadFlow:c,priority:o("WAMediaManager").MediaTaskPriority.HIGH}).fullsizePromise;if(!_.success)throw c.endFail(_.error),i("fetch_blob_api_fail_no_media_found",{string:{fetch_blob_api_fail_no_media_found_error:_.error}}),r("FBLogger")("messenger_web_media").mustfixThrow("Failed to getBlobDataUrlByPlaintextHash because hash is not in the media db. hash is %s, from %s",e,t);var f=_.value,g=f.unvalidatedMimeType,h=f.validatedResult,C=(s=h.mimeType)!=null?s:g,b=new Blob([h.validatedPlaintext],{type:C});return c.endSuccess(),i("fetch_blob_api_success",{bool:{has_blob:b.size>0}}),b}return y(e,t).then(function(a){if(!a.success)throw i("fetch_blob_api_fail_no_media_found",{string:{fetch_blob_api_fail_no_media_found_error:a.error}}),r("FBLogger")("messenger_web_media").mustfixThrow("Failed to getBlobDataUrlByPlaintextHash because hash is not in the media db. hash is %s, from %s",e,t);var l=a.value;return l.status==="found_media_and_blob"?(i("fetch_blob_api_success",{bool:{has_blob:l.blob.size>0}}),l.blob):(l.status,i("fetch_blob_api_no_media_blob_found"),o("MAWMaybeWithTimeout").maybeWithTimeout(new(m||(m=n("Promise")))(function(t){i("fetch_blob_api_fetch_chunk_start"),o("MAWLegacyMediaDownloadManager").setToMediaPlaintextDownloadManager(e,t)}).then(function(e){return i("fetch_blob_api_fetch_chunk_success"),i("fetch_blob_api_success",{bool:{has_blob:e.size>0}}),e}),p,function(){throw i("fetch_blob_api_fetch_chunk_fail_timeout"),o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["getBlobDataUrlByPlaintextHash cannot find chunk with hash: ",", from ",""])),o("WAHashUtils").sanitisePlaintextHash(e),t),r("FBLogger")("messenger_web_media").mustfixThrow("Failed to getBlobDataUrlByPlaintextHash in time. hash is %s, from "+t,e,t)}))})});return function(n,r,o){return e.apply(this,arguments)}})(),y=o("MAWIndexedDb").makeMsgrTransactor({chunk:d.READONLY,media:d.READONLY},"getBlobDataUrlByPlaintextHash",function(e){return function(t,n){return o("MAWDbChunkTxns").maybeGetChunkByPlaintextHash(e,t).then(function(r){return r!=null?o("WAResultOrError").makeResult({blob:new Blob([r.blobData],{type:r.mimetype}),status:"found_media_and_blob"}):o("MAWDbMediaTxns").maybeGetMediaFromPlaintextHash(e,t).then(function(e){return e!=null?o("WAResultOrError").makeResult({media:e,status:"found_media_need_blob"}):(o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["getBlobDataUrlByPlaintextHashCall cannot find media or chunk with hash: ",", from ",""])),o("WAHashUtils").sanitisePlaintextHash(t),n),o("WAResultOrError").makeError("missing_media"))})})}});l.getBlobDataUrlByMediaId=_,l.getBlobDataUrlByHashedPlaintextHash=g,l.getBlobDataUrlByPlaintextHash=h}),98);
__d("MAWGetDeviceChangeAlertsByOptionsApi",["MAWDbGetDeviceChangeAlertsByOptionsTxn","MAWIndexedDb","MAWTransactionMode"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({deviceChangeAlerts:o("MAWTransactionMode").READWRITE},"getDeviceChangeAlertsByOptions",function(e){return(function(t){return o("MAWDbGetDeviceChangeAlertsByOptionsTxn").getDeviceChangeAlertsByOptionsTxn(e,t)})});l.getDeviceChangeAlertsByOptions=e}),98);
__d("MAWGetGroupSuperAdminApi",["MAWDbParticipantTxns","MAWIndexedDb","MAWTransactionMode","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({participants:o("MAWTransactionMode").READONLY},"getGroupSuperAdmin",function(e){return function(t){var n=o("MAWDbParticipantTxns").getParticipantsInThread(e,t);return n.then(function(e){var t=e.filter(function(e){return e.type==="superadmin"});if(t.length!==0&&t[0]){var n=t[0];return o("WAJids").extractUserId(n.userJid)}else return null})}});l.getGroupSuperAdmin=e}),98);
__d("MAWGetLatestThreadIdsApi",["MAWDexieTable","MAWIndexedDb","MAWTransactionMode","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MAWIndexedDb").makeMsgrTransactor({threads:o("MAWTransactionMode").READONLY},"getLatestThreadIds",function(t){return(function(n){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] getLatestThreadIds started"])));var r=t.threads.orderBy("threadOrder").reverse().limit(n).toArray();return r.then(function(e){var t=[];return e.forEach(function(e){t.push(e.jid.split("@")[0])}),o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] getLatestThreadIds complete, threads count: ",""])),t.length),o("MAWDexieTable").dexieResolve(t)})})});l.getLatestThreadIds=u}),98);
__d("MAWRestoreMsgsUiUpdator",["MAWBridgeEventTransmitter","MAWDbMsg","MAWDbThread","MAWDexieTable","MAWFolderTypes","MAWThreadSnippetBuildTxns","emptyFunction","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i,l,c,m,p,_,f){var g=s(e,i,n,a,c,m);return g.then(function(n){if(m==null||l){var r=d(n);return r&&o("MAWBridgeEventTransmitter").updateThreadOutsideTxn(n.cannotReplyReason,o("MAWFolderTypes").FOLDER_ID.INBOX,n.jid),u(e,t,n,p,_,f,m).then(function(){return n})}return n}).then(function(t){return o("MAWThreadSnippetBuildTxns").refreshThreadSnippet(e,t)}).then(r("emptyFunction"))}function s(e,t,n,r,a,i){var l=babelHelpers.extends({},t,{lastReadMsg:a,lastReadMsgTs:r,newestMsgTs:n,oldestMsg:i,threadOrder:o("MAWDbThread").craftThreadOrder(n,t.jid)});return e.threads.put(l).then(function(){return l})}function u(e,t,n,a,i,l,s){var u=t.map(function(e){return e}).reverse(),d=n.jid;if(a!=null){var m=o("MAWDbMsg").toMsgId(a);if(m!=null)return e.messages.get({msgId:m}).then(function(t){if(t!=null){var a=t.sortOrderMs,l;return r("gkx")("23906")?l=o("MAWDexieTable").dexieResolve(0):l=e.messages.where(["threadJid","sortOrderMs"]).between([d,u[0].sortOrderMs],[d,a],!1,!1).count(),l.then(function(e){e===0&&c(u,i,n)})}})}return o("MAWDexieTable").dexieResolve()}function c(e,t,n){var r=t==null?void 0:t.sortOrderMs,o=e[e.length-1],a=o.sortOrderMs;t!=null&&o!=null&&r!=null&&a!=null&&r<a&&e.push(t)}function d(e){return e.archived===!0&&e.cannotReplyReason!=="viewer_not_subscribed"}l.updateThreadAndMessages=e,l.shouldThreadBeUnarchived=d}),98);
__d("MAWRestoreMsgsTxns",["ArmadilloDataTraceType","FBLogger","LSMEBTaskCreationSource","MAWAdminMsgTypesGrouped","MAWBridgeEventTransmitter","MAWDbMsg","MAWDbMsgTxns","MAWDexieTable","MAWFTSTxns","MAWIndexedDb","MAWJidUtils","MAWLocalizationType","MAWMsgType","MAWQplProxy","MAWRestoreMsgsUiUpdator","MAWTimeUtils","MAWTransactionMode","MAWUseProtocolMsgIdForMsgId","WAHashStringToNumber","WAJids","WALogger","WATimeUtils","emptyFunction","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(e,t,n){return n!=null?e.messages.where(["threadJid","sortOrderMs"]).between([t.jid,n.ts],[t.jid,o("MAWDbMsg").MAX_MSG_SORT_ORDER],!1,!0).limit(1).first():o("MAWDexieTable").dexieResolve()}function m(e,t,n){return o("MAWDbMsgTxns").maybeGetMsg(e,n).then(function(n){return n!=null?e.messages.where(["threadJid","sortOrderMs"]).between([t.jid,n.sortOrderMs],[t.jid,o("MAWDbMsg").MAX_MSG_SORT_ORDER],!1,!0).limit(1).first():o("MAWDexieTable").dexieResolve()})}function p(e){return e!=null&&e.type===o("MAWMsgType").MSG_TYPE.ADMIN&&(e.msgContent.adminType===o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION||e.msgContent.adminType===o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE||e.msgContent.adminType===o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE||e.msgContent.adminType===o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE||o("MAWAdminMsgTypesGrouped").dualThreadCutoverAdminMsgs.includes(e.msgContent.adminType))}function _(e,t){var n=Number(e);for(var a of t)r("FBLogger")("wmi_eb").info("completed point restore of an unavailable msg with instanceKey: %s",n),o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(1056840931,"814"),"eb_point_restore_end",{annotations:{int:{msgId:o("WAHashStringToNumber").hashStringToNumber(a.externalId)},string:{jid:a.threadJid}},instanceKey:n}),o("MAWQplProxy").sendQPLSuccessThroughBridge(r("qpl")._(1056840931,"814"),{int:{msgId:o("WAHashStringToNumber").hashStringToNumber(a.externalId)}},n)}function f(e,t,n,r,a,i,l,s,u){var c=i.isOldestMsgUpdated,d=i.lastReadMsg,m=i.lastReadMsgTs,p=i.newestMsgTs,_=i.oldestMsgId,f=!0;t&&(f=y(p,r));var g=o("MAWDexieTable").dexieResolve();return f&&a.length>0&&(g=o("MAWRestoreMsgsUiUpdator").updateThreadAndMessages(e,a,p,m,n,c,d,_,l,s,u)),g.then(function(){return o("MAWDexieTable").dexieResolve()})}function g(e){var t=e.existingMsgs,n=e.hasMoreBefore,a=e.instanceKey,i=e.isPointRestore,l=e.maybeNewestMsg,s=e.maybeOldestAdminMsg,u=e.maybeOldestMsg,c=e.minMsgId,d=e.newMsgs,m=e.optimisticMsgs,p=e.shouldSkipSyncToUI,_=e.taskSource,f=e.thread,g=_===r("LSMEBTaskCreationSource").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES,h=new Map,y=[];t.map(function(e){e.type===o("MAWMsgType").MSG_TYPE.UNAVAILABLE||e.type===o("MAWMsgType").MSG_TYPE.CIPHERTEXT?y.push(e):h.set(e.externalId,e)});var C=[];return I(d,t,f.jid,h,l,i,s,u,C,m,a,n,c,g,y,p).then(function(e){return e})}function h(e,t){e.altIndex!==o("MAWDbMsg").SPAM_ALT_INDEX&&e.altIndex!==o("MAWDbMsg").FUTUREPROOF_SPAM_ALT_INDEX&&o("MAWBridgeEventTransmitter").startTraceOutsideTxn(e,t,o("ArmadilloDataTraceType").armadilloMessageSend)}function y(e,t){return e==null?!0:t.some(function(t){return t.sortOrderMs!=null&&t.sortOrderMs>=e})}var C=(u=o("MAWIndexedDb")).makeMsgrTransactor({messages:(c=o("MAWTransactionMode")).READONLY},"getMsgsByProtocolMsgIds",function(e){return(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o("MAWDbMsgTxns").getMsgsByProtocolMsgId.apply(void 0,[e].concat(n))})}),b=u.makeMsgrTransactor({messages:c.READONLY},"restoreGetMsg",function(e){return function(t){return o("MAWDbMsgTxns").maybeGetMsg(e,t)}}),v=u.makeMsgrTransactor({messages:c.READONLY},"restoreGetThreadNewestMessage",function(e){return function(t){return o("MAWDbMsgTxns").getThreadNewestMessageBySortOrder(e,t.jid)}}),S=u.makeMsgrTransactor({messages:c.READONLY},"restoreMaybeGetOldestNonAdminMessage",function(e){return function(t){return o("MAWDbMsgTxns").getThreadOldestMessageBySortOrder(e,t.jid).then(function(n){return n==null?o("MAWDexieTable").dexieResolve({maybeOldestAdminMsg:null,maybeOldestMsg:null}):p(n)?d(e,t,n).then(function(e){return{maybeOldestAdminMsg:n,maybeOldestMsg:e}}):{maybeOldestAdminMsg:null,maybeOldestMsg:n}})}});function R(e,t,n,a,i,l,s,u,c){return o("MAWDexieTable").dexieAll(t.map(function(t){return o("MAWDbMsgTxns").maybeGetMsgByExternalId(e,t.externalId,n.jid,t.author).then(function(e){if(e==null){var r=a.get(t.externalId);if(r==null){var d=o("WATimeUtils").castUnixTimeToMillisTime(t.ts);u.newestMsgTs=d>u.newestMsgTs?d:u.newestMsgTs;var m=o("MAWUseProtocolMsgIdForMsgId").shouldUseProtocolMsgIdForMsgId()?o("MAWJidUtils").formatProtocolMsgIdFromMsg(t):o("MAWDbMsg").craftMsgIdV2(n.chatId,u.msgNextInChatMsgId,t);u.msgNextInChatMsgId+=1,(u.oldestMsgId==null||!l&&d<u.oldestMsgTs)&&(u.isOldestMsgUpdated=!0,u.oldestMsgId=s!=null&&o("WATimeUtils").castUnixTimeToMillisTime(s.ts)<d?s.msgId:m,u.oldestMsgTs=s!=null&&o("WATimeUtils").castUnixTimeToMillisTime(s.ts)<d?o("WATimeUtils").castUnixTimeToMillisTime(s.ts):d),(u.newestMsgTs===d||p(i))&&(u.newestMsgId=m),t.author===o("WAJids").AUTHOR_ME&&(u.lastReadMsgTs==null||d>u.lastReadMsgTs)&&(u.lastReadMsg=m,u.lastReadMsgTs=d);var _=babelHelpers.extends({},t,{msgId:m,sortOrderMs:o("MAWDbMsg").getSortOrderWithFallback(t)});c.push(_)}}})})).then(r("emptyFunction"))}function L(e,t){return o("MAWDexieTable").dexieAll([o("MAWDbMsgTxns").getThreadNewestMessageId(e,t.jid),o("MAWDbMsgTxns").getThreadNewestMessageMs(e,t.jid),o("MAWUseProtocolMsgIdForMsgId").shouldUseProtocolMsgIdForMsgId()?o("MAWDexieTable").dexieResolve(0):o("MAWDbMsgTxns").getNextMsgIdNumberForThread(e,t)]).then(function(e){var t=e[0],n=e[1],r=e[2];return{newestMsgId:t,newestMsgTs:n,nextInChatMsgId:r}})}function E(e,t,n,a,i,l,s,u,c,d,m){return R(e,t,n,a,i,l,s,u,c).then(function(t){if(d!=null)for(var i of c){var l=i.externalId,s=d.get(l);s!=null&&(i.ts=o("WATimeUtils").castMilliSecondsToUnixTime(s.ts))}var u=r("justknobx")._("3227")?c.map(function(e){return babelHelpers.extends({},e,{source:m===!0?"media_restore":"eb_restore"})}):c;return o("MAWDexieTable").dexieAll([e.messages.bulkAdd(u,{allKeys:!0}).then(function(e){return e.map(function(e,t){return babelHelpers.extends({},u[t],{rowId:e})})}),m!==!0&&r("justknobx")._("3227")?e.messages.bulkPut(Array.from(a.values()).map(function(e){return babelHelpers.extends({},e,{source:"eb_restore"})})):o("MAWDexieTable").dexieResolve()]).then(function(t){var r=t[0];return e.threads.put(n).then(function(){return r})})})}function k(e,t,n){var r=t.map(function(e){var t=n.find(function(t){return t.externalId===e.externalId});if(t==null)return null;var r=babelHelpers.extends({externalId:t.externalId,msgId:t.msgId,protocolMsgId:t.protocolMsgId,rowId:t.rowId},e);return r}).filter(Boolean);return e.messages.bulkPut(r).then(function(){})}var I=u.makeMsgrTransactor({ftsBackloggedMessages:c.READWRITE,groupInfo:c.READWRITE,messages:c.READWRITE,threads:c.READWRITE},"createRestoredMessagesAndUpdateThread",function(t){return(function(n,r,a,i,l,u,c,d,m,p,_,g,y,C,b,v){return t.threads.get({jid:a}).then(function(_){return _==null?(o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Thread with jid "," does not exist for restore"])),a),o("MAWDexieTable").dexieResolve()):L(t,_).then(function(e){var a,C=e.newestMsgId,S=e.newestMsgTs,R=e.nextInChatMsgId,L={isOldestMsgUpdated:!1,lastReadMsg:_.lastReadMsg,lastReadMsgTs:o("MAWTimeUtils").ensureValidMillisTime(_.lastReadMsgTs),msgNextInChatMsgId:R,newestMsgId:C,newestMsgTs:o("MAWTimeUtils").ensureValidMillisTime(S)||o("WATimeUtils").castToMillisTime(0),oldestMsgId:d==null?void 0:d.msgId,oldestMsgTs:o("WATimeUtils").castUnixTimeToMillisTime((a=d==null?void 0:d.ts)!=null?a:o("WATimeUtils").castToUnixTime(0))},I=k(t,n,b);return I.then(function(){return o("MAWDexieTable").dexieAll([E(t,n,_,i,l,u,c,L,m,p,v),o("MAWFTSTxns").maybePutMessagesToBacklog(t,n.map(function(e){return e.externalId}))]).then(function(e){var n=e[0];if(v!==!0)for(var a of n)h(a,_.jid);var i=r.concat(n),l={existingMsgs:r,newlyAddedMsgs:n,threadJid:_.jid},s=v!==!0?f(t,u,_,i,n,L,y,c,g):o("MAWDexieTable").dexieResolve();return s.then(function(){return l})}).catch(function(e){o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Failed to create restored messages and update thread metadata ",""])),e)})})})})})});l.getNextMsgBasedOnSortOrderMs=m,l.isE2eeOrCutoverAdminMsg=p,l.restoreMsgsForThread=g,l.getMsgsByProtocolMsgIds=C,l.getMsg=b,l.maybeGetThreadNewestMessage=v,l.maybeGetOldestNonAdminMessage=S,l.prepareUnstoredMsgArrayAndUpdateKeyVariables=R}),98);
__d("MAWGetMaybeNextNonAdminMsgSortOrderMsApi",["MAWDbMsgTxns","MAWDbThreadTxns","MAWDexieTable","MAWIndexedDb","MAWRestoreMsgsTxns","MAWTransactionMode"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({messages:o("MAWTransactionMode").READONLY,threads:o("MAWTransactionMode").READONLY},"getMaybeNextNonAdminMsgSortOrderMs",function(e){return(function(t,n){return o("MAWDexieTable").dexieAll([o("MAWDbMsgTxns").maybeGetMsg(e,n),o("MAWDbThreadTxns").getThread(e,t)]).then(function(t){var n=t[0],r=t[1],a=0;return o("MAWRestoreMsgsTxns").isE2eeOrCutoverAdminMsg(n)&&r.success&&n!=null?o("MAWRestoreMsgsTxns").getNextMsgBasedOnSortOrderMs(e,r.value,n==null?void 0:n.msgId).then(function(e){return e!=null&&e.sortOrderMs!=null&&(a=e.sortOrderMs),{minMsgTimestampMs:a}}):(n!=null&&n.sortOrderMs!=null&&(a=n.sortOrderMs),{minMsgTimestampMs:a})})})});l.getMaybeNextNonAdminMsgSortOrderMs=e}),98);
__d("MAWGetMediaDownloadStatusApi",["MAWCreateMaybeAddPointForMediaRender","MAWDbChunkTxns","MAWDbMedia","MAWGetMediaApi","MAWIndexedDb","MAWLoggerUtils","MAWMediaDownloadStatus","MAWTransactionMode","MWFBLogger","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MWFBLogger").MWMediaLogger().tags([o("MAWLoggerUtils").Tag.MediaDownload,o("MAWLoggerUtils").Tag.MessageReceive]),c=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var a=o("MAWCreateMaybeAddPointForMediaRender").createMaybeAddPointForMediaRender(n);a("get_media_download_status_api_start",{string:{fetch_by:"mediaId"}}),a("get_media_download_status_api_get_media_start");var i=yield o("MAWGetMediaApi").getMediaByMediaId(t);if(a("get_media_download_status_api_get_media_end",{bool:{has_media:i!=null}}),i==null)return a("get_media_download_status_api_fail",{string:{fail_reason:"media_not_found"}}),u.DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["getMediaDownloadStatusByMediaId - media not found for mediaId: ",""])),t),{mainMediaStatus:r("MAWMediaDownloadStatus").MISSING_FILE,mainMediaStatusDetails:"get_by_mediaId_missing_media",previewMediaStatus:r("MAWMediaDownloadStatus").MISSING_FILE,previewMediaStatusDetails:"get_by_mediaId_missing_media"};a("get_media_download_status_api_get_status_from_media_start");var l=yield m(i);return a("get_media_download_status_api_get_status_from_media_end"),a("get_media_download_status_api_end"),l});return function(n,r){return t.apply(this,arguments)}})(),d=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("MAWCreateMaybeAddPointForMediaRender").createMaybeAddPointForMediaRender(t);n("get_media_download_status_api_start",{string:{fetch_by:"plaintextHash"}}),n("get_media_download_status_api_get_media_start");var a=yield o("MAWGetMediaApi").getMediaByPlaintextHash(e);if(n("get_media_download_status_api_get_media_end",{bool:{has_media:a!=null}}),a==null)return n("get_media_download_status_api_fail",{string:{fail_reason:"media_not_found"}}),u.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["getMediaDownloadStatusByPlaintextHash - media not found for plaintextHash: ",""])),e),{mainMediaStatus:r("MAWMediaDownloadStatus").MISSING_FILE,mainMediaStatusDetails:"get_by_mediaPlaintextHash_missing_media",previewMediaStatus:r("MAWMediaDownloadStatus").MISSING_FILE,previewMediaStatusDetails:"get_by_mediaPlaintextHash_missing_media"};var i=yield m(a);return n("get_media_download_status_api_get_status_from_media_end"),n("get_media_download_status_api_end"),i});return function(n,r){return e.apply(this,arguments)}})();function m(e){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield _(e),n=t.hasDownloadedMainMedia,o=t.hasDownloadedThumbnail,a=t.hasThumbnail;return{mainMediaStatus:n?r("MAWMediaDownloadStatus").SUCCESS:r("MAWMediaDownloadStatus").MISSING_FILE,mainMediaStatusDetails:"status_from_media",previewMediaStatus:a?o?r("MAWMediaDownloadStatus").SUCCESS:r("MAWMediaDownloadStatus").MISSING_FILE:void 0,previewMediaStatusDetails:"status_from_media"}}),p.apply(this,arguments)}var _=o("MAWIndexedDb").makeMsgrTransactor({chunk:o("MAWTransactionMode").READONLY},"checkMediaDownloadStatus",function(e){return function(t){var n=f(t);return o("MAWDbChunkTxns").hasMediaChunk(e,t.hashedPlaintextHash).then(function(e){return{hasDownloadedMainMedia:e,hasDownloadedThumbnail:(n==null?void 0:n.jpegThumbnail)!=null,hasThumbnail:n!=null}})}});function f(e){var t,n;switch(e.mediaType){case o("MAWDbMedia").MEDIA_TYPE.IMAGE:return{jpegThumbnail:(t=e.validatedImageInfo)==null?void 0:t.jpegThumbnail};case o("MAWDbMedia").MEDIA_TYPE.VIDEO:return{jpegThumbnail:(n=e.validatedVideoInfo)==null?void 0:n.jpegThumbnail}}}l.getMediaDownloadStatusByMediaId=c,l.getMediaDownloadStatusByPlaintextHash=d}),98);
__d("MAWGetMediaValidationResultApi",["MAWGetMediaApi","MAWVideoAudioValidationUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.validatedResult;return t==null?null:o("MAWVideoAudioValidationUtils").normalizeValidationResult({audioAvgBitsPerSecond:t.audioAvgBitsPerSecond,audioNumberOfChannels:t.audioNumberOfChannels,audioSamplingRate:t.audioSamplingRate,audioStreamType:t.audioStreamType,validatedMimeType:t.validatedMimeType,videoAvgBitsPerSecond:t.videoAvgBitsPerSecond,videoCalculatedFps:t.videoCalculatedFps,videoDuration:t.videoDuration,videoHeight:t.videoHeight,videoNominalFps:t.videoNominalFps,videoStreamType:t.videoStreamType,videoWidth:t.videoWidth})}var s=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var r=yield o("MAWGetMediaApi").getMediaByMediaId(t);return r==null?null:e(r)});return function(n,r){return t.apply(this,arguments)}})(),u=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var r=yield o("MAWGetMediaApi").getMediaByPlaintextHash(t);return r==null?null:e(r)});return function(n,r){return t.apply(this,arguments)}})();l.getMediaValidationResultByMediaId=s,l.getMediaValidationResultByPlainTextHash=u}),98);
__d("getProtocolMsgIdByMsgIdCommon",["MAWDexieTable","WAJids"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("MAWDexieTable").dexieAll([e.messages.get({msgId:t}),e.unrenderedMessages.get({msgId:t}),e.reactions.get({reactionId:t})]).then(function(t){var n=t[0],r=t[1],a=t[2];if(a!=null)return o("WAJids").isAuthorSystem(a.author)?null:{author:a.author,chat:a.threadJid,externalId:a.externalId};var i=n||r;return i==null?null:e.threads.get({jid:i.threadJid}).then(function(e){return e==null||o("WAJids").isAuthorSystem(i.author)?null:{author:i.author,chat:e.jid,externalId:i.externalId}})})}l.getProtocolMsgIdByMsgIdCommon=e}),98);
__d("MAWGetProtocolMsgIdByMsgId",["MAWIndexedDb","MAWTransactionMode","getProtocolMsgIdByMsgIdCommon"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MAWIndexedDb").makeMsgrTransactor({messages:(e=o("MAWTransactionMode")).READONLY,reactions:e.READONLY,threads:e.READONLY,unrenderedMessages:e.READONLY},"getProtocolMsgByMsgId",function(e){return(function(t){return o("getProtocolMsgIdByMsgIdCommon").getProtocolMsgIdByMsgIdCommon(e,t)})});l.getProtocolMsgIdByMsgId=s}),98);
__d("MAWGetReceiverFetchInfoApi",["MAWDbReceiverFetchTxns","MAWIndexedDb","MAWTransactionMode","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({receiverFetchInfo:o("MAWTransactionMode").READONLY},"MAWGetReceiverFetchInfo",function(e){return(function(t){var n=t.receiverFetchId;return o("MAWDbReceiverFetchTxns").maybeGetReceiverFetchInfoFromReceiverFetchId(e,n).then(function(e){var t;if(!(e==null||e.previewUrl==null||e.previewUrlExpirationTimestampMs==null))return{accessibilitySummaryText:(t=e.accessibilitySummaryText)!=null?t:void 0,previewUrl:e.previewUrl,previewUrlExpirationTimestampMs:o("WATimeUtils").castLongIntToMillisTime(e.previewUrlExpirationTimestampMs)}})})});l.getReceiverFetchInfo=e}),98);
__d("WADbIdentityTxns",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e.identity.bulkGet(t).then(function(e){return e.map(function(e){if(e!=null)return{id:e.deviceJid,identity:e.identity}}).filter(Boolean)})}i.bulkGetIdentities=e}),66);
__d("WACompareIdentity",["WACryptoUtils","WADbIdentityTxns","WADbSignal","WAJids","WASignalKeys","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield e.meta.bulkGet([o("WADbSignal").MetaKeysEnum.fbid,o("WADbSignal").MetaKeysEnum.deviceId,o("WADbSignal").MetaKeysEnum.identityKeyPair]),n=t[0],r=t[1],a=t[2],i=n==null?void 0:n.value.fbid,l=r==null?void 0:r.value.deviceId,s=a==null?void 0:a.value.identityKeyPair;if(i!=null&&l!=null){var u=o("WAJids").toDeviceJid(o("WAJids").toMsgrUserJid(i),l),c=yield o("WADbIdentityTxns").bulkGetIdentities(e,[u]);if(c.length!==0){var d=c[0];if((s==null?void 0:s.publicKey)==null)return!0;if(!o("WACryptoUtils").serializedPubKeysEqual(d.identity,o("WASignalKeys").serializePubKey(s)))return!1}return!0}return!0}),s.apply(this,arguments)}l.compareIdentity=e}),98);
__d("WAGetRegistrationInfoApi",["Promise","WACompareIdentity","WADbSignal","WALogger","WASignalDB","WATimeUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){return o("WASignalDB").getDb().runInTransaction(["meta","identity"],"readonly",(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,r,a,i,l,u,c,d,m,p=yield(s||(s=n("Promise"))).all([e.stores.meta.bulkGet([o("WADbSignal").MetaKeysEnum.lastSignedPrekeyId,o("WADbSignal").MetaKeysEnum.deviceUUID,o("WADbSignal").MetaKeysEnum.lastSessionDeviceWasLinkedTo,o("WADbSignal").MetaKeysEnum.regId,o("WADbSignal").MetaKeysEnum.identityKeyPair,o("WADbSignal").MetaKeysEnum.fbid,o("WADbSignal").MetaKeysEnum.deviceId,o("WADbSignal").MetaKeysEnum.registrationVersion,o("WADbSignal").MetaKeysEnum.deviceRegUnixTime,o("WADbSignal").MetaKeysEnum.cat]),o("WACompareIdentity").compareIdentity(e.stores)]),_=p[0],f=_[0],g=_[1],h=_[2],y=_[3],C=_[4],b=_[5],v=_[6],S=_[7],R=_[8],L=_[9],E=p[1],k=f==null||(t=f.value)==null?void 0:t.lastSignedPrekeyId,I=g==null||(r=g.value)==null?void 0:r.deviceUUID,T=h==null||(a=h.value)==null?void 0:a.lastSessionDeviceWasLinkedTo,D=y==null||(i=y.value)==null?void 0:i.regId,x=C==null||(l=C.value)==null?void 0:l.identityKeyPair,$=b==null||(u=b.value)==null?void 0:u.fbid,P=v==null||(c=v.value)==null?void 0:c.deviceId,N=S==null?void 0:S.value.registrationVersion,M=R==null||(d=R.value)==null?void 0:d.deviceRegUnixTime,w=L==null||(m=L.value)==null||(m=m.cat)==null?void 0:m.expiration_time_in_seconds;return{lastSignedPrekeyId:k,deviceUUID:I,lastSessionDeviceWasLinkedTo:T,regId:D,identityKeyPair:x,registrationUnixTime:M,fbid:$,deviceId:P,registrationVersion:N,identityCompareResult:E,catExpiryUnixTime:w!=null?o("WATimeUtils").castToUnixTime(w):void 0}});return function(t){return e.apply(this,arguments)}})(),o("WASignalDB").signalOp("getRegistrationInfo"))}function c(){return o("WASignalDB").getDb().runInTransaction(["plaintextMeta"],"readonly",function(e){return e.stores.plaintextMeta.get(o("WADbSignal").PlainTextMetaKeysEnum.registrationHistory).then(function(e){return e==null?void 0:e.value.registrationHistory})},"getRegistrationHistory")}var d=10;function m(t){return o("WASignalDB").getDb().runInTransaction(["plaintextMeta"],"readwrite",function(n){return n.stores.plaintextMeta.get(o("WADbSignal").PlainTextMetaKeysEnum.registrationHistory).then(function(r){var a=o("WATimeUtils").unixTime(),i=r==null?void 0:r.value.registrationHistory;if(!(i==null&&t==null)){var l;if(t!=null)l=[].concat(i!=null?i:[],[{deviceRegTime:t,lastActivityTime:a}]);else{var s=i;if(s.length===0){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Registration history log unexpectedly empty"])));return}var u=s[s.length-1];l=[].concat(s.slice(0,-1),[babelHelpers.extends({},u,{lastActivityTime:a})])}return n.stores.plaintextMeta.bulkPut([{key:o("WADbSignal").PlainTextMetaKeysEnum.registrationHistory,value:{registrationHistory:l.slice(-d)}}]).then(function(){})}})},"updateRegistrationHistory")}l.getRegistrationInfo=u,l.getRegistrationHistory=c,l.updateRegistrationHistory=m}),98);
__d("MAWGetRedactedRegistrationInfoForBugnub",["WAGetRegistrationInfoApi","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WAGetRegistrationInfoApi").getRegistrationInfo(),t=e.catExpiryUnixTime,n=e.registrationUnixTime;return{catExpiryUnixTime:t,registrationUnixTime:n}}),s.apply(this,arguments)}l.getRedactedRegistrationInfoForBugnub=e}),98);
__d("MessengerInfraReport",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={},s=function(){for(var t of Object.keys(e))delete e[Number(t)]},u=function(){return r("gkx")("23390")},c=20,d=function(n,r,o){var t=e[n];if(!t){e[n]=new Map([[o,babelHelpers.extends({},r,{latestTimestampMs:Date.now(),startTimestampMs:Date.now()})]]);return}var a=t.get(o);if(a!=null){t.set(o,babelHelpers.extends({},a,r,{latestTimestampMs:Date.now()}));return}if(t.size>=c){e[n]=new Map([[o,babelHelpers.extends({},r,{latestTimestampMs:Date.now(),startTimestampMs:Date.now()})]]);return}t.set(o,babelHelpers.extends({},r,{latestTimestampMs:Date.now(),startTimestampMs:Date.now()}))},m=function(n,r){var t;return(t=e[n])==null?void 0:t.get(r)},p=function(n,r){var t;(t=e[n])==null||t.delete(r)};l.reportedEvents=e,l.clearReportedEvents=s,l.isEPD=u,l.MAX_SIZE=c,l.storeEventData=d,l.getEventData=m,l.deleteEventData=p}),98);
__d("MAWGetReportedQplEvents",["MessengerInfraReport","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){return(e||(e=n("Promise"))).resolve(o("MessengerInfraReport").reportedEvents)};l.getReportedQplEvents=s}),98);
__d("MAWGetSecureThreadTotalCount",["MAWTransactionMode","MAWTransactor"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWTransactor").makeMsgrTransactor({threads:o("MAWTransactionMode").READONLY},"getSecureThreadTotalCount",function(e){return function(){return e.threads.count()}});l.getSecureThreadTotalCount=e}),98);
__d("MAWGetSecurityAlertSettingApi",["MAWDbMsgTypeVersionTxns","MAWIndexedDb","MAWTransactionMode"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({appMeta:o("MAWTransactionMode").READONLY},"getSecurityAlertSetting",function(e){return function(){return o("MAWDbMsgTypeVersionTxns").getSecuritySettingForContact(e)}});l.getSecurityAlertSetting=e}),98);
__d("MAWGetSecurityAlertSettingForSelfAndContactApi",["MAWDbMsgTypeVersionTxns","MAWTransactionMode","MAWTransactor"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWTransactor").makeMsgrTransactor({appMeta:o("MAWTransactionMode").READONLY},"getSecurityAlertSettingForSelfAndContact",function(e){return(function(){return o("MAWDbMsgTypeVersionTxns").maybeBulkGetSecuritySetting(e)})});l.getSecurityAlertSettingForSelfAndContact=e}),98);
__d("MAWGetThreadConsistencyInfo",["MAWDexieTable","MAWGetThreadUpdateType","MAWIndexedDb","MAWThreadSnippetUtils","MAWThreadUpdateType","MAWTransactionMode","err"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({messages:o("MAWTransactionMode").READONLY,reactions:o("MAWTransactionMode").READONLY,xma:o("MAWTransactionMode").READONLY},"getThreadConsistencyInfo",function(e){return(function(t){if(t.action==="GET_SNIPPETS_INFO")return o("MAWDexieTable").dexieAll(t.chatJids.map(function(t){return o("MAWThreadSnippetUtils").getThreadSnippetFromScratch(e,t)})).then(function(e){return{snippetsInfo:e}});if(t.action==="MSG_ELIGIBLE_FOR_SNIPPET_RECALCULATION")return e.messages.get({msgId:t.msgId,threadJid:t.chatJid}).then(function(e){var t=null;if(e!=null){var n;t=o("MAWGetThreadUpdateType").getThreadUpdateTypeForMsg({adminType:(n=e.msgContent)==null?void 0:n.adminType,author:e.author,msgType:e.type,xmaMessageType:e.xmaMessageType})}return{isSnippetEligible:t!==o("MAWThreadUpdateType").THREAD_UPDATE_TYPE.NO_SNIPPET_OR_ACTIVITY_TS_UPDATE}});throw r("err")("Invalid params type")})});l.getThreadConsistencyInfo=e}),98);
__d("MAWGetThreadLastMessageTsApi",["MAWDbMsgTxns","MAWIndexedDb","MAWTransactionMode","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({messages:o("MAWTransactionMode").READONLY,threads:o("MAWTransactionMode").READONLY},"getThreadLastMessageTs",function(e){return(function(t){return e.threads.get({authoritativeThreadKey:t}).then(function(t){if(t!=null)return o("MAWDbMsgTxns").getThreadNewestMessageBySortOrder(e,t.jid).then(function(e){var t;return e==null?null:o("WATimeUtils").castUnixTimeToMillisTime((t=e.serverTs)!=null?t:o("WATimeUtils").castToUnixTime(0))})})})});l.getThreadLastMessageTs=e}),98);
__d("MAWGetThreadsInfoApi",["MAWDbThreadTxns","MAWIndexedDb","MAWTransactionMode","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MAWIndexedDb").makeMsgrTransactor({threads:o("MAWTransactionMode").READONLY},"getThreadIdByDeduplicationKey",function(t){return(function(n){return o("WALogger").DEV(e||(e=babelHelpers.taggedTemplateLiteralLoose(["getThreadIdByDeduplicationKey ",""])),n),o("MAWDbThreadTxns").getThreadByDeduplicationKey(t,n).then(function(e){return e.success?{jid:e.value.jid}:null})})});l.getThreadIdByDeduplicationKey=s}),98);
__d("MAWGetWAIDevices",["WADevicesState","WAGlobals","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.users;yield o("WAGlobals").getWaOneQueue().waitForWAInfraOfflineSyncEnd(),yield o("WADevicesState").getDevicesState().waitForUserDevices(t,"getWAIDevices");var n=yield o("WAGlobals").getWaOneQueue().enqueue(function(e){var n=e.cryptoManager;return n.storage.bulkLoadIdentities(t)},{afterInit:!0,flush:!1,operationType:"maw_load_identities"}),r=[];if(n.size===0)r=[].concat(t);else for(var a of n){var i=a[0],l=a[1];l.size===0&&r.push(i)}r.length>0&&(yield o("WADevicesState").getDevicesState().waitForUserDevices(r,"getWAIDevices",!0),n=yield o("WAGlobals").getWaOneQueue().enqueue(function(e){var n=e.cryptoManager;return n.storage.bulkLoadIdentities(t)},{afterInit:!0,flush:!1,operationType:"maw_load_identities"}));var s=new Map;for(var u of n){var c=u[0],d=u[1];s.set(c,Array.from(d.keys()))}return s}),s.apply(this,arguments)}l.getWAIDevices=e}),98);
__d("MAWGetWATimeApi",["Promise","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){return(e||(e=n("Promise"))).resolve({clockSkew:o("WATimeUtils").getClockSkew(),millisTime:o("WATimeUtils").millisTime(),unixTime:o("WATimeUtils").unixTime()})};l.getWATime=s}),98);
__d("MAWGetWorkerHeartbeatApi",["Promise"],(function(t,n,r,o,a,i){"use strict";var e,l=function(){return(e||(e=n("Promise"))).resolve(!0)};i.getWorkerHeartbeat=l}),66);
__d("MAWLowLevelMediaDownloadQplBridgeHandler",["MAWDownloadAndRestoreMedia"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){var a=o("MAWDownloadAndRestoreMedia").getMediaDownloadFlow(t,r);switch(e){case"success":a.endSuccess();break;case"fail":a.endFail(n,r);break;case"point":a.addPoint(n,r);break}}l.handleBridgeMediaDownloadQPL=e}),98);
__d("MAWHandleMediaRestoreCdnUrlResult",["EncryptedBackupsResignCdnUrl","MAWLowLevelMediaDownloadQplBridgeHandler","MWFBLogger","WADirectPath","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=o("MWFBLogger").MWMediaLogger().tags(["RestoreCdnUrlThroughSproc"]);function _(t){var n,r,a,i=(n=(r=t.value)==null?void 0:r.rawTraceId)!=null?n:(a=t.error)==null?void 0:a.rawTraceId;if(i==null){var l;p.MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["handleMediaRestoreCdnUrlResult: traceId is null. success: ",", error: ",""])),t.success,t.success?"":(l=t.error.errorMessage)!=null?l:"");return}var _=isNaN(parseInt(i,10))?null:parseInt(i,10);if(_==null){var g;p.MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["handleMediaRestoreCdnUrlResult: traceId is not a number. success: ",", error: ",""])),t.success,t.success?"":(g=t.error.errorMessage)!=null?g:"");return}var h=p.tags([i]),y=o("EncryptedBackupsResignCdnUrl").getRestoredCdnUrlResolvable(_);if(y==null){p.MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["handleMediaRestoreCdnUrlResult: restoredCdnUrlResolvable is null"])));return}if(!t.success){var C;h.MUSTFIX(c||(c=babelHelpers.taggedTemplateLiteralLoose(["handleMediaRestoreCdnUrlResult request error: ",""])),(C=t.error.errorMessage)!=null?C:""),y==null||y.resolve(o("WAResultOrError").makeError("resign-cdn-url-request-error")),y==null&&f(_,t.error.errorMessage);return}var b=o("WADirectPath").validateDirectPath(t.value.rawDirectPath);if(!b.success){h.WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["handleMediaRestoreCdnUrlResult direct path error: ",""])),b.error),y==null||y.resolve(b);return}var v=b.value;p.DEBUG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["handleMediaRestoreCdnUrlResult success. directPath: ",""])),v),y==null||y.resolve(o("WAResultOrError").makeResult(v))}function f(e,t){o("MAWLowLevelMediaDownloadQplBridgeHandler").handleBridgeMediaDownloadQPL("fail",e,"attachment_restore_failure",{string:{error:t!=null?t:""}})}l.handleMediaRestoreCdnUrlResult=_}),98);
__d("MAWIdentifyCollapsedMessagesByExternalId",["MAWDbMsgTxns","MAWIndexedDb","MAWTransactionMode","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.externalIds,n=yield o("MAWIndexedDb").makeMsgrTransactor({messages:o("MAWTransactionMode").READONLY},"identifyCollapsedMessagesByExternalId",function(e){return function(){return o("MAWDbMsgTxns").UNSAFE_getMultipleMsgsByExternalId(e,t)}})();return n.filter(function(e){return e.isCollapsed===!0}).map(function(e){return e.externalId})}),s.apply(this,arguments)}l.identifyCollapsedMessagesByExternalId=e}),98);
__d("MAWIdentifyXMAWithAssociatedTextByExternalId",["MAWDbXMATxns","MAWIndexedDb","MAWTransactionMode","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.externalIds,n=yield o("MAWIndexedDb").makeMsgrTransactor({xma:o("MAWTransactionMode").READONLY},"identifyXMAWithAssociatedTextByExternalId",function(e){return function(){return o("MAWDbXMATxns").getMultipleXMAByExternalId(e,t)}})();return n.filter(function(e){return e.associatedMessageId!=null}).map(function(e){return e.externalId})}),s.apply(this,arguments)}l.identifyXMAWithAssociatedTextByExternalId=e}),98);
__d("MAWInsertAdminMessageInCutoverThreadsApi",["MAWAdminWriteCutoverThreadMsgTxn","MAWDbThreadTxns","MAWIndexedDb","MAWTransactionMode"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MAWIndexedDb").makeMsgrTransactor({chunk:(e=o("MAWTransactionMode")).READONLY,ftsBackloggedMessages:e.READWRITE,groupInfo:e.READONLY,media:e.READONLY,messages:e.READWRITE,threads:e.READWRITE},"insertAdminMessageInCutoverThreads",function(e){return(function(t){var n=t.openThreadId,r=t.threadJid,a=t.traceId;return o("MAWAdminWriteCutoverThreadMsgTxn").writeCutoverThreadAdminMsg(e,r,n,a).then(function(t){var n=t.needsMarkThreadAsMigrated;if(n)return o("MAWDbThreadTxns").markCutoverThreadAsMigratedLocally(e,r)}).then(function(){return!0})})});l.insertAdminMessageInCutoverThreads=s}),98);
__d("MAWLoadMediaApi",["FBLogger","LSThreadMediaGalleryGroup","MAWBridgeMsg","MAWDbChunkTxns","MAWDbMediaTxns","MAWDbMsg","MAWDexieTable","MAWIndexedDb","MAWMediaAfterTxns","MAWTransactionMode","WAHashUtils","WALogger","WATimeUtils","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=r("justknobx")._("1132"),m=o("MAWIndexedDb").makeMsgrTransactor({chunk:(c=o("MAWTransactionMode")).READONLY,media:c.READONLY,messages:c.READONLY,threads:c.READONLY},"loadMoreMedia",function(t){return(function(n){var a=n.earliestLoadedMediaMessageId,i=n.earliestLoadedMediaTs,l=n.mediaGalleryGroup,c=n.pageSize,m=n.threadJid,_=0,f=!1,g=0,h=!1,y=c!=null?c:d;return t.threads.get({jid:m}).then(function(n){if(n==null)throw o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Unable to load media for thread. ThreadJid "," does not exist"])),m);var r=t.messages.where(["threadJid","sortOrderMs"]).between([n.jid,o("MAWDbMsg").MIN_MSG_SORT_ORDER],[n.jid,i],!0,!0);return r.filter(function(e){return p(e,l)}).until(C).reverse().toArray()}).then(function(e){var n,i,c=e.findIndex(function(e){return e.msgId===a}),d=f?c+1:0,p=e.slice(d,d+y+1),_=h,g=p[p.length-1],C=Number.MAX_SAFE_INTEGER,b=(n=g==null?void 0:g.sortOrderMs)!=null?n:C;return o("MAWIndexedDb").afterTransaction({tag:"NewMediaRange",value:{earliestLoadedMediaTs:b,hasMoreBefore:_,lastLoadedMessageId:(i=g==null?void 0:g.msgId)!=null?i:a,mediaGalleryGroup:l,threadJid:m}},!0),o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[loadMoreMedia] foundMessages: ",""])),p.map(function(e){return""+e.msgId})),o("MAWDbMediaTxns").getMsgMediaPairFromMsgs(t,p).then(function(e){return o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[loadMoreMedia] msgMediaPairs: ",""])),e.map(function(e){var t=e[0],n=e[1];return"["+t.msgId+", "+o("WAHashUtils").sanitisePlaintextHash(n.plaintextHash)+"]"})),o("MAWDexieTable").dexieAll(e.map(function(e){var n=e[0],a=e[1];return o("MAWDbChunkTxns").hasMediaChunk(t,a.hashedPlaintextHash).then(function(e){return e||r("FBLogger")("messenger_web_media").warn("loadMoreMedia cannot find chunk for mediaId: %s",a.mediaId),o("MAWMediaAfterTxns").handleNewMediaAfterTxn(n,a,e,t,!0,void 0,!0)})})).then(function(){p.forEach(function(e){o("MAWIndexedDb").afterTransaction({tag:"NewMsg",value:o("MAWBridgeMsg").createBridgeMsg(e)},!0)})})})});function C(e){return _++,e.msgId===a?f=!0:(f||i===Number.MAX_SAFE_INTEGER)&&g++,g>y||_>y&&!f&&e.sortOrderMs!==i?(h=!0,!0):!1}})});function p(e,t){var n=o("WATimeUtils").unixTime(),a=!1;switch(t){case r("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS:a=o("MAWDbMsg").isPhotoOrVideoMediaMsg(e);break;case r("LSThreadMediaGalleryGroup").FILES_ONLY:a=o("MAWDbMsg").isDocumentFileMediaMsg(e);break;case r("LSThreadMediaGalleryGroup").LINKS:a=o("MAWDbMsg").isXMAMsg(e);break}var i=e.messageExpirationTs==null||e.messageExpirationTs>n;return a&&i}l.loadMoreMedia=m,l.filterForMediaMessages=p}),98);
__d("WAWaitPromiseUntil",["Promise"],(function(t,n,r,o,a,i){"use strict";var e;function l(t,r){var o=new(e||(e=n("Promise")))(function(e){return void setTimeout(e,r)});return e.race([t.then(function(e){return{result:e}}),o.then(function(){return"timeout"})])}i.waitPromiseUntil=l}),66);
__d("MAWLoadMoreScheduler",["FBLogger","MAWEBLSInWorkerSwitch","MAWLoadMsgsApi","MAWMessagesDirection","MawMpsCop","MpsTypes","WABaseGlobals","WALogger","WAResultOrError","WATimeUtils","WAWaitPromiseUntil","WorkerScheduler","asyncToGeneratorRuntime","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=5,u=r("justknobx")._("4600"),c=r("justknobx")._("4703"),d;function m(){return d==null&&(d=o("WorkerScheduler").makeScheduler("load-more",{concurrency:10,defaultSamplingRate:1e3,maxTaskLimit:10,maxThrottleMs:0})),d}function p(e){var t=e.actionType,n=e.chatJid,r=e.config,a=e.direction,i=e.externalId,l=e.includeOriginalMsg,s=e.msgId,u=e.numMsgs,c=e.sortOrderMs;return g({actionType:t,chatJid:n,direction:a,externalId:i,loadFn:function(){return o("MAWLoadMsgsApi").loadMsgsFromTs(n,u,a,c,l,s,r)},numMsgs:u,timestamp:c})}function _(e){return o("WAWaitPromiseUntil").waitPromiseUntil(r("MAWEBLSInWorkerSwitch").waitForEBEnabled(),c).then(function(t){if(t!=="timeout")return m().runTask({customFlags:{runtimeReliability:!0},fn:(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield C(e.actionType,e.config.map(function(e){var t=e.chatJid,n=e.direction,r=e.lowerBoundExternalId,a=e.lowerBoundSortOrderMs,i=e.numMsgs;return{chatJid:t,direction:n,messageId:r!=null?o("MpsTypes").toMessageId(r):null,numMsgs:i,timestamp:o("MpsTypes").toTimestamp((a!=null?a:o("WABaseGlobals").newClockSkewCalculation())?o("WATimeUtils").unixTimeMs():Date.now())}}))});function r(){return t.apply(this,arguments)}return r})(),name:"loadMessagesByChatJids",priority:o("WorkerScheduler").BLOCKING_PRIORITY})})}function f(e){var t=e.chatJid,n=e.config,r=e.direction,a=e.range;return g({actionType:e.actionType,chatJid:t,direction:r,externalId:a.lowerBoundExternalId,loadFn:function(){return o("MAWLoadMsgsApi").loadMsgsRange(t,n,r,a)},numMsgs:a.numMsgs,timestamp:a.lowerBoundSortOrderMs})}function g(t){return m().runTask({customFlags:{runtimeReliability:!0},fn:function(){try{var n;return v(t.actionType,t.chatJid,t.direction,t.numMsgs,o("MpsTypes").toTimestamp((n=t.timestamp)!=null?n:Date.now()),t.externalId!=null?o("MpsTypes").toMessageId(t.externalId):null,t.loadFn)}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["LoadMoreMsgs from COP fails: ",""])),t)}return t.loadFn()},name:"maw_load_msgs",priority:o("WorkerScheduler").BLOCKING_PRIORITY})}function h(e){return e.hasNext===!0&&e.endCursor!=null?{cursor:e.endCursor,hasMore:!0}:{hasMore:!1}}function y(e,t,n){switch(t){case"before":{var r=n.msgs[n.msgs.length-1];return r.sortOrderMs>=e[0]}case"after":{var o=n.msgs[0];return o.sortOrderMs<=e[0]}}}function C(e,t){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){yield o("MawMpsCop").mpsCop().loadBatchMsgsIntoMaw({debug:{purpose:"cop-load-batch-"+(e!=null?e:"")},ranges:t.map(function(e){var t=e.chatJid,n=e.direction,r=e.messageId,a=e.numMsgs,i=e.timestamp;return{direction:o("MAWMessagesDirection").translateMawDirectionToMwpDirection(n),from:[i,r],numMessages:a+u,threadId:o("MpsTypes").toThreadId(t)}})})}),b.apply(this,arguments)}function v(e,t,n,r,o,a,i){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a,i,l,c){var d=r("FBLogger")("mps").tags(["MAW","loadMore"]);if(a===0)return c();for(var m=[i,l],p=0;p<s;p++){p>1&&r("FBLogger")("mps").warn("MAW MPS Iteration %s Direction %s",p,n);var _=yield o("MawMpsCop").mpsCop().loadMoreMsgsIntoMaw({debug:{purpose:"cop-load-more-"+(e!=null?e:"")},direction:o("MAWMessagesDirection").translateMawDirectionToMwpDirection(n),from:m,numMessages:a+u,threadId:o("MpsTypes").toThreadId(t)}).catch(function(e){return d.catching(e).mustfix("Failed to load more messages from MPS"),o("WAResultOrError").makeError("runtime-error")});if(_.success===!1){d.warn("MPS Failed with result: %s",_.error);break}var f=h(_.value.cursorInfo),g=yield c();if(f.hasMore===!1)return g;if(m=f.cursor,!(g.msgs.length<a)&&y(f.cursor,n,g)!==!1)return g}return d.warn("Returning best-effort loadMessages from MAW"),c()}),S.apply(this,arguments)}l.loadMoreScheduler=m,l.loadMoreMessages=p,l.loadMessagesByChatJidsIntoMaw=_,l.loadMoreMsgsRange=f}),98);
__d("MAWMarkBackupAsCompleted",["EncryptedBackupsUploadQueue"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.queueId,n=o("EncryptedBackupsUploadQueue").ebUploadQueue();return n.ack([t])}l.markBackupAsCompleted=e}),98);
__d("MAWMarkThreadAsUnreadApi",["MAWDbMsgTxns","MAWIndexedDb","MAWThreadUtils","MAWTimeUtils","MAWTransactionMode","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({messages:o("MAWTransactionMode").READONLY,threads:o("MAWTransactionMode").READWRITE},"markThreadAsUnread",function(e){return(function(t){return e.threads.get({jid:t}).then(function(n){if(n!=null)return o("MAWDbMsgTxns").getThreadNewestMessageMs(e,n.jid).then(function(n){var r=o("MAWTimeUtils").ensureValidMillisTime(n),a=o("WATimeUtils").castToMillisTime(0);if(!(r==null||n===a)){var i={lastReadMsg:null};return o("MAWThreadUtils").updateThreadWithJid(e,t,i).then(function(){})}})})})});l.markThreadAsUnread=e}),98);
__d("MAWMessageIntegrityDebugInfoFromWorker",["MAWEBInitRestoreLogging","Promise","asyncToGeneratorRuntime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){return r("vulture")("oj6fv7OZ3ou09WQGxM4j49cMZ5w="),(e||(e=n("Promise"))).resolve({initRestore:yield o("MAWEBInitRestoreLogging").getInitRestoreDebugInfo()})}),u.apply(this,arguments)}l.getWorkerBasedMessageIntegrityDebugInfo=s}),98);
__d("MAWMediaSizeCheck",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e>100*1024}i.isMinSizeForImagePreviewGeneration=e}),66);
__d("MAWOptimisticUploadMedia",["MAWConfig","MAWFrontendMediaUtils","MAWGetDownloadableThumbnailForMediaApi","MAWMediaSizeCheck","MAWMediaUtils","MAWOptimisticUploadManager","MAWUploadAndHandleMedia","MWFBLogger","WABlobToArrayBuffer","WAHashUtils","WAMediaCrypto","WAProgressiveJpegGetScanLengths","WAResultOrError","WAStartMediaUploadQplFlow","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h=o("MWFBLogger").MWMediaLogger().tags(["OptimisticUploadMedia"]);function y(e,t,n){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){h.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["start uploading type: ",""])),String(n));var r=yield o("MAWMediaUtils").hashBlob(e),a=o("WAHashUtils").toPlaintextHash(r),i=o("MAWOptimisticUploadManager").getOptimisticUploadManager(),l=i.get(a);if(l!=null)return o("WAResultOrError").makeError("already_uploading");var u=n.type==="regular"?n.mediaType:"preview",c=yield o("WAStartMediaUploadQplFlow").startMediaUploadQplFlow({chatJid:t,fileSize:e.size,serverMediaType:u,uploadEntry:"optimisticUploadMedia"}),d=o("MAWUploadAndHandleMedia").uploadAndHandleMedia({chatJid:t,dbCallbacks:{getDownloadableThumbnailForMedia:o("MAWGetDownloadableThumbnailForMediaApi").getDownloadableThumbnailForMedia},filename:u==="document"?e.name:void 0,hash:a,mediaTypeDetails:n,plaintext:yield o("WABlobToArrayBuffer").blobToArrayBuffer(e),protocolMsgId:null,serverMediaType:u,size:e.size,uploadMediaMetric:c});return o("WAResultOrError").makeResult({plaintextHash:a,uploadPromise:d})}),C.apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.file,n=e.jid,r=e.thumbnail,a=o("MAWOptimisticUploadManager").getOptimisticUploadManager(),i=o("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(t.type),l=i.serverMediaType;h.DEBUG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["file uploading"])));var s=yield y(t,n,{mediaType:l,type:"regular"});s.success===!0?(h.DEBUG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["fileUploadResult success"]))),a.set(s.value.plaintextHash,{file:t,optimisticUploadPromise:s.value.uploadPromise,previewPlaintextHash:null})):(s.error,h.DEBUG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["File is already being uploaded"]))));var C=null;h.DEBUG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["thumbnail_exists: ",""])),r!=null);var b=new Uint8Array(yield o("WABlobToArrayBuffer").blobToArrayBuffer(t));if(r&&S(l,t.size,b)){h.DEBUG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["preview uploading"])));var v=o("WAMediaCrypto").convertServerMediaTypeToPreviewMediaType(l);if(v==null){h.MUSTFIX(_||(_=babelHelpers.taggedTemplateLiteralLoose(["unsupported preview media type ",""])),l);return}var R=yield y(r,n,{messageType:v,type:"preview"});R.success===!0&&(h.DEBUG(f||(f=babelHelpers.taggedTemplateLiteralLoose(["previewUploadResult success"]))),C=R.value.plaintextHash,a.set(R.value.plaintextHash,{file:r,optimisticUploadPromise:R.value.uploadPromise}),s.success===!0&&(h.DEBUG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["fileUploadResult success, setting with previewPlaintextHash"]))),a.set(s.value.plaintextHash,{file:t,optimisticUploadPromise:s.value.uploadPromise,previewPlaintextHash:C})))}}),v.apply(this,arguments)}function S(t,n,r){switch(t){case"gif":return!1;case"image":return R(n,r);case"video":return!0;default:return h.DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Skipping preview upload for media type ",""])),t),!1}}function R(e,t){return o("MAWMediaSizeCheck").isMinSizeForImagePreviewGeneration(e)?!L(t)&&o("MAWConfig").getConfig().shouldFallbackToPreviewForFailedProgressiveJpeg()===!0:!1}function L(e){var t=o("WAProgressiveJpegGetScanLengths").getProgressiveJpegScanLengths(e);return t.length>0}l.optimisticUploadMedia=b,l.shouldUploadPreview=S}),98);
__d("MAWMessageComposingHooks",["MWFBLogger","Promise","WAJids","WAQueryGroupsAndSync"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("MWFBLogger").MWLogger().tags(["MAWMessageComposingHooks"]);function d(e,t){p(e).catch(function(e){c.catching(e).mustfix("Caught while calling maybeGetGroupInfoAheadOfGroupMessageSend hook for chat state composer.")})}var m=new Set;function p(t){return o("WAJids").switchOnMsgrChatJidType(t,{group:function(r){return m.has(r)?(u||(u=n("Promise"))).resolve():(c.DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Querying group info ahead of group message send: ",""])),r),m.add(r),o("WAQueryGroupsAndSync").queryGroupsAndSync({groupJids:[r]}).catch(function(e){c.catching(e).MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Failed to query groups"])))}))},user:function(){return(u||(u=n("Promise"))).resolve()}})}l.callMessageComposingHooks=d}),98);
__d("WASmaxOutChatstateInternalTestMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.testConfig,n=o("WASmaxJsx").smax("smax$any",null,o("WASmaxJsx").smax("test",{config:o("WASmaxAttrs").OPTIONAL(o("WAWap").CUSTOM_STRING,t)}));return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeInternalTestMixin=s}),98);
__d("WASmaxOutChatstateComposingMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins"],(function(t,n,r,o,a,i,l){function e(e){var t=e.hasComposingMediaAudio,n=o("WASmaxJsx").smax("chatstate",null,o("WASmaxJsx").smax("composing",{media:o("WASmaxAttrs").OPTIONAL_LITERAL("audio",t)}));return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeComposingMixin=s}),98);
__d("WASmaxOutChatstatePausedMixin",["WASmaxJsx","WASmaxMixins"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("chatstate",null,o("WASmaxJsx").smax("paused",null));return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergePausedMixin=s}),98);
__d("WASmaxOutChatstateStateTypes",["WASmaxMixinGroupExhaustiveError","WASmaxOutChatstateComposingMixin","WASmaxOutChatstatePausedMixin"],(function(t,n,r,o,a,i,l){function e(e,t){if(t.composing)return o("WASmaxOutChatstateComposingMixin").mergeComposingMixin(e,t.composing);if(t.isPaused)return o("WASmaxOutChatstatePausedMixin").mergePausedMixin(e);throw new(o("WASmaxMixinGroupExhaustiveError")).SmaxMixinGroupExhaustiveError}l.mergeStateTypes=e}),98);
__d("WASmaxOutChatstateClientNotificationRequest",["WASmaxJsx","WASmaxMixins","WASmaxOutChatstateInternalTestMixin","WASmaxOutChatstateStateTypes","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.chatstateTo,n=e.internalTestMixinArgs,r=e.stateTypesArgs,a=o("WASmaxOutChatstateStateTypes").mergeStateTypes(o("WASmaxMixins").optionalMerge(o("WASmaxOutChatstateInternalTestMixin").mergeInternalTestMixin,o("WASmaxJsx").smax("chatstate",{to:o("WAWap").JID(t)}),n),r);return a}l.makeClientNotificationRequest=e}),98);
__d("WASmaxChatstateClientNotificationRPC",["WAComms","WASmaxOutChatstateClientNotificationRequest","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WASmaxOutChatstateClientNotificationRequest").makeClientNotificationRequest(e);yield o("WAComms").castSmaxStanza(t)}),s.apply(this,arguments)}l.sendClientNotificationRPC=e}),98);
__d("WASendChatStateProtocol",["WALogger","WASmaxChatstateClientNotificationRPC"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["sendChatStateProtocol Sending "," to ",""])),n,t);var r;return n==="idle"?r={isPaused:!0}:r={composing:{hasComposingMediaAudio:n==="recording_audio"}},o("WASmaxChatstateClientNotificationRPC").sendClientNotificationRPC({chatstateTo:t,stateTypesArgs:r})}l.sendChatStateProtocol=s}),98);
__d("MAWSendChatStateFromComposerApi",["FBLogger","MAWMessageComposingHooks","Promise","WASendChatStateProtocol"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(a){var t=a.chatJid,i=a.state;return o("WASendChatStateProtocol").sendChatStateProtocol(t,i).catch(function(e){return r("FBLogger")(e).mustfix("Caught while sending chat state from composer.")}),o("MAWMessageComposingHooks").callMessageComposingHooks(t,i),(e||(e=n("Promise"))).resolve()};l.sendChatStateFromComposer=s}),98);
__d("MAWWritePollApi",["MAWIndexedDb","MAWTransactionMode","MAWWriteGroupPollCreateTxns","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({participants:o("MAWTransactionMode").READONLY,poll:o("MAWTransactionMode").READWRITE},"writePoll",function(e){return function(t,n,r,a,i){return o("MAWWriteGroupPollCreateTxns").savePollToDb(e,r,a,o("WAJids").AUTHOR_ME,i).then(function(e){o("MAWWriteGroupPollCreateTxns").sendPollToUI(e,t,n)})}});l.writePoll=e}),98);
__d("MAWSendPoll",["MAWGroupPollsDualEncryptionUtils","MAWMessageSendsCommon","MAWMsgType","MAWWriteOutgoingMsgApi","MAWWritePollApi","Promise","WAJids","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=0;function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.args,i=t.chatJid,l=t.externalId,u=t.qplInstanceKey,c=t.ts,d=a.options,m=a.title,p=yield(e||(e=n("Promise"))).all(d.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("MAWGroupPollsDualEncryptionUtils").getHashForOptionName(e);return{optionHash:t,optionText:e}});return function(t){return e.apply(this,arguments)}})())),_=new Map(p.map(function(e){var t=e.optionHash,n=e.optionText;return[t,{optionText:n,voteAuthors:new Set}]})),f=self.crypto.getRandomValues(new Uint8Array(32)).buffer,g=yield o("MAWWriteOutgoingMsgApi").writeOutgoingMsg(l,i,c,a,o("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE,r("qpl")._(25313175,"1551"),u);if(g.type==="missing_thread")return o("WAResultOrError").makeError({isRetriable:!1,type:"missing-thread"});if(g.type==="already_sent")return o("WAResultOrError").makeError({isRetriable:!1,type:"already-sent"});var h=g.msgId,y={encKey:f,latestSenderTimestampsMs:new Map,name:m,options:d,optionsHashed:_,selectableOptionsCount:s};return yield o("MAWWritePollApi").writePoll(h,o("WATimeUtils").castUnixTimeToMillisTime(c),i,y,l),o("WAResultOrError").makeResult({chatJid:i,externalId:l,messageType:"sendPoll"})}),c.apply(this,arguments)}function d(e){var t=e.args,n=e.chatJid,a=e.externalId,i=e.qplInstanceKey;return o("MAWMessageSendsCommon").messageSendObserver(r("qpl")._(25313175,"1551"),i,function(e){return u({args:t,chatJid:n,externalId:a,qplInstanceKey:i,ts:e})},"poll",{author:o("WAJids").AUTHOR_ME,chat:n,externalId:a})}l.sendPoll=d}),98);
__d("MAWSendPollUpdate",["Promise","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return(e||(e=n("Promise"))).resolve(o("WAResultOrError").makeResult({description:"sendPollUpdate",messageType:"fixMe"}))}l.sendPollUpdate=s}),98);
__d("MAWWorkerPersistedDataService",["FBLogger","MAWBridge","MAWCacheServiceUtils"],(function(t,n,r,o,a,i,l){"use strict";var e="maw_persisted_data_service_broadcast",s=function(){return o("MAWCacheServiceUtils").globalScope.BroadcastChannel?new(o("MAWCacheServiceUtils")).globalScope.BroadcastChannel(e):(r("FBLogger")("messenger_e2ee_web").warn("BroadcastChannel is not supported in this browser"),null)},u=(function(){function t(){this.$1=s()}var n=t.prototype;return n.emitBroadcastChannelMessageToUI=function(n,r,a,i){var t={cache:r,instanceKey:i,namespace:n,source:a};this.$1==null?o("MAWBridge").getBridge().fireAndForget("event","broadcastChannelFallback",{event:{data:t},namespace:e}):this.$1.postMessage(t)},t})(),c=null,d=function(){return c==null&&(c=new u),c};l.MAW_PERSISTED_DATA_SERVICE_BROADCAST_CHANNEL=e,l.getMAWPersistedDataServiceBroadcastChannel=s,l.getMAWWorkerPersistedDataService=d}),98);
__d("MAWSendUpdateFromUIPersistedDataServiceApi",["MAWWorkerPersistedDataService"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){var e=t.cache,n=t.instanceKey,r=t.namespace,a=t.source;o("MAWWorkerPersistedDataService").getMAWWorkerPersistedDataService().emitBroadcastChannelMessageToUI(r,e,a,n)};l.sendUpdateFromUIPersistedDataService=e}),98);
__d("MAWSetEphemeralSettingsFromFrontendApi",["FBLogger","MAWEphemeralSettingsTxns","MAWExternalId","MAWIndexedDb","MAWSendEphemeralSettingMsg","MAWTransactionMode","Promise","WAResultOrError","WATimeUtils","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MAWIndexedDb").makeMsgrTransactor({chunk:(s=o("MAWTransactionMode")).READONLY,ephemeralSettings:s.READWRITE,groupInfo:s.READONLY,media:s.READONLY,messages:s.READWRITE,threads:s.READWRITE},"handleAndWriteOutgoingUserEphemeralSettingChange",function(e){return(function(t,n,r,a){return o("MAWEphemeralSettingsTxns").handleAndWriteOutgoingUserEphemeralSettingChange(e,t,n,r,a)})}),c=function(a){var t=a.chatJid,i=a.ephemeralExpirationInSec,l=a.ephemeralLastUpdatedOrSetTimestamp,s=a.isEphemeralSettingReset,c=a.s2sInstanceKey;if(t==null)return r("FBLogger")("messenger_web").mustfix("Both chatJid and threadId passed to setEphemeralSettingsFromFrontend are null"),(e||(e=n("Promise"))).resolve(o("WAResultOrError").makeError({isRetriable:!1,type:"missing-thread"}));var d=l!=null?l:o("WATimeUtils").unixTime();return u(t,i,d,s).then(function(e){if(e.value.shouldUpdateSetting===!1)return o("WAResultOrError").makeResult({description:"send not needed",messageType:"fixMe"});var n={ephemeralExpirationInSec:i,ephemeralLastUpdatedOrSetTimestamp:d};return o("MAWSendEphemeralSettingMsg").sendEphemeralSettingMsgFn({args:{ephemeralSetting:n,isEphemeralSettingReset:s,isForSyncResponse:!1},chatJid:t,externalId:o("MAWExternalId").generateExternalId(),qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:c})})};l.setEphemeralSettingsFromFrontend=c}),98);
__d("MAWSetEphemeralSettingsOfPeerFromMIApi",["MAWDbGroupInfoTxns","MAWDexieTable","MAWEphemeralSettingsTxns","MAWGetOrCreateThreadTxns","MAWIndexedDb","MAWTransactionMode","WAJids","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MAWIndexedDb").makeMsgrTransactor({ephemeralSettings:(e=o("MAWTransactionMode")).READWRITE,groupInfo:e.READWRITE,messages:e.READWRITE,threads:e.READWRITE},"handleAndWriteIncomingEphemeralSetting",function(e){return(function(t,n,r,a,i,l,s){var u=o("WAJids").interpretAsGroupJid(n),c=o("MAWDexieTable").dexieAll([o("MAWGetOrCreateThreadTxns").getExistingThread(e,n),u!=null?o("MAWDbGroupInfoTxns").getGroupInfo(e,u):o("MAWDexieTable").dexieResolve()]);return c.then(function(t){var r,a=t[0],i=t[1];if(a!=null)return{created:!1,thread:a};var l=i==null||(r=i.value)==null?void 0:r.creationTs;return o("MAWGetOrCreateThreadTxns").getOrCreateThread(e,{createTs:l==null?null:o("WATimeUtils").castUnixTimeToMillisTime(l),description:"handleAndWriteIncomingEphemeralSetting",jid:n})}).then(function(n){var u=n.thread;return o("MAWEphemeralSettingsTxns").handleAndWriteIncomingEphemeralSetting(e,t,r,a,i,u,s,null,l)})})}),u=function(t){var e=t.author,n=t.chatJid,r=t.ephemeralExpirationInSec,o=t.ephemeralLastUpdatedOrSetTimestamp,a=t.fromWAI,i=t.isEphemeralSettingReset,l=t.serverTs;return s(e,n,r,o,i,a,l).then(function(){return{success:!0}})};l.setEphemeralSettingsFromMI=u}),98);
__d("MAWUpdateDeviceChangeAlertsApi",["MAWDbGetUnArchivedDeviceChangeAlertsCountTxn","MAWDbUpdateDeviceChangeAlertsTxn","MAWIndexedDb","MAWTransactionMode"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({deviceChangeAlerts:o("MAWTransactionMode").READWRITE},"updateDeviceChangeAlerts",function(e){return(function(t){return o("MAWDbUpdateDeviceChangeAlertsTxn").updateDeviceChangeAlertsTxn(e,t).then(function(t){return o("MAWDbGetUnArchivedDeviceChangeAlertsCountTxn").getUnArchivedDeviceChangeAlertsCountTxn(e).then(function(){return t})})})});l.updateDeviceChangeAlerts=e}),98);
__d("MAWUpdateLSThreadFromGroupInfoApi",["MAWBridgeTypesCreators","MAWIndexedDb","MAWTransactionMode"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({groupInfo:o("MAWTransactionMode").READONLY},"updateLSThreadFromGroupInfo",function(e){return(function(t){return e.groupInfo.get(t).then(function(e){e!=null&&o("MAWIndexedDb").afterTransaction({tag:"GroupInfoUpdated",value:o("MAWBridgeTypesCreators").createBridgeUpdatedGroupInfo(e)})})})});l.updateLSThreadFromGroupInfo=e}),98);
__d("MAWGetMediaByObjectId",["MAWDbMediaTxns","MAWDexieTable","MAWIndexedDb","MAWTransactionMode","WAMediaUtils","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({media:o("MAWTransactionMode").READONLY,mediaBackup:o("MAWTransactionMode").READONLY},"getMediaByObjectId",function(e){return function(t){return o("MAWDbMediaTxns").maybeGetMediaFromObjectId(e,o("WAMediaUtils").stringToDeliveryObjectId(t)).then(function(e){return e?o("WAResultOrError").makeResult(e):o("WAResultOrError").makeError("media-not-found")})}}),s=o("MAWIndexedDb").makeMsgrTransactor({mediaBackup:o("MAWTransactionMode").READONLY},"getMediaBackupByObjectId",function(e){return function(t){return o("MAWDbMediaTxns").maybeGetMediaBackupRowFromObjectId(e,o("WAMediaUtils").stringToDeliveryObjectId(t)).then(function(e){return e?o("WAResultOrError").makeResult(e):o("WAResultOrError").makeError("mediaBackup-not-found")})}}),u=function(t){return o("MAWIndexedDb").makeMsgrTransactor({media:o("MAWTransactionMode").READONLY},"getMediaByMessageId",function(e){return function(){return t==null?o("MAWDexieTable").dexieResolve(o("WAResultOrError").makeError("media-not-found")):o("MAWDbMediaTxns").maybeGetMediaFromPlaintextHash(e,t).then(function(e){return e?o("WAResultOrError").makeResult(e):o("WAResultOrError").makeError("media-not-found")})}})()};l.getMediaByObjectId=e,l.getMediaBackupByObjectId=s,l.getMediaByHash=u}),98);
__d("MAWUpdateMediaDownloadStatusByObjectIdApi",["MAWGetMediaByObjectId","MAWMediaDownloadStatusForUI","MWFBLogger","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r){var a=yield o("MAWGetMediaByObjectId").getMediaByObjectId(t),i=a.value;if(i==null||a.success!==!0){o("MWFBLogger").MWMediaLogger().tags(["MediaDownload"]).WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["updateMediaDownloadStatusByObjectId - media not found for objectId: ",""])),t);return}o("MAWMediaDownloadStatusForUI").sendMediaDownloadStatusToUI({details:r,hash:i.plaintextHash,status:n,type:"main"})});return function(n,r,o){return t.apply(this,arguments)}})();l.updateMediaDownloadStatusByObjectId=s}),98);
__d("MAWUpdateReceiverFetchInfoApi",["MAWIndexedDb","MAWTransactionMode","MAWWriteReceiverFetchTxns"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MAWIndexedDb").makeMsgrTransactor({receiverFetchInfo:o("MAWTransactionMode").READWRITE},"MAWUpdateReceiverFetchInfo",function(e){return(function(t){var n=t.accessibilitySummaryText,r=t.mimetype,a=t.previewHeight,i=t.previewUrl,l=t.previewUrlExpirationTimestampMs,s=t.previewWidth,u=t.receiverFetchId,c=t.type;return o("MAWWriteReceiverFetchTxns").updateReceiverFetchInfoWithPreviewUrl(e,i,l,u,n,r,a,s,c)})});l.updateReceiverFetchInfo=e}),98);
__d("mawAdminWriteDualThreadCutoverMsgTxns",["MAWDbThreadTxns","MAWExternalId","MAWLocalizationUtils","MAWWriteMsgTxns","WALogger","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,r,a,i){return o("MAWDbThreadTxns").getThread(t,n).then(function(n){if(!n.success)return o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["dualThreadCutover failed to get the thread"]))),{needsMarkThreadAsMigrated:!1};var l=n.value;if(l.didInsertDualThreadCutoverAdminMsg===!0)return{needsMarkThreadAsMigrated:!1};var s=o("MAWLocalizationUtils").buildUnstoredDbAdminMsg({adminMsgContent:i!=null?[i]:[],adminType:a,version:1},l.jid,o("MAWExternalId").generateExternalId(),o("WATimeUtils").castMillisTimeToUnixTime(r)),u=babelHelpers.extends({},l,{didInsertDualThreadCutoverAdminMsg:!0});return t.threads.put(u).then(function(){return o("MAWWriteMsgTxns").writeMsg(t,s,u).then(function(){return{needsMarkThreadAsMigrated:!0}})})})}l.default=s}),98);
__d("MAWWriteAdminMessageForDualThreadCutoverApi",["MAWDbThreadTxns","MAWIndexedDb","MAWTransactionMode","mawAdminWriteDualThreadCutoverMsgTxns"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MAWIndexedDb").makeMsgrTransactor({chunk:(e=o("MAWTransactionMode")).READONLY,ftsBackloggedMessages:e.READWRITE,groupInfo:e.READONLY,media:e.READONLY,messages:e.READWRITE,threads:e.READWRITE},"writeAdminMessageForDualThreadCutover",function(e){return(function(t){var n=t.chatJid,a=t.cutoverTimestampMs,i=t.localizationType,l=t.otherUserID;return r("mawAdminWriteDualThreadCutoverMsgTxns")(e,n,a,i,l).then(function(t){var r=t.needsMarkThreadAsMigrated;if(r)return o("MAWDbThreadTxns").markCutoverThreadAsMigratedLocally(e,n)})})});l.writeAdminMessageForDualThreadCutover=s}),98);
__d("MAWWriteAdminMessageForEphemeralSettingsChange",["MAWDbGroupInfoTxns","MAWDexieTable","MAWEphemeralAdminMsgBuildTxns","MAWGetOrCreateThreadTxns","MAWHIMLogger","MAWIndexedDb","MAWTransactionMode","WAJids","WAResultOrError","WATimeUtils","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=6*o("WATimeUtils").HOUR_SECONDS,c=o("MAWIndexedDb").makeMsgrTransactor({chunk:(s=o("MAWTransactionMode")).READONLY,ephemeralSettings:s.READWRITE,ftsBackloggedMessages:s.READWRITE,groupInfo:s.READWRITE,groupInvites:s.READONLY,media:s.READONLY,messages:s.READWRITE,reactions:s.READONLY,threads:s.READWRITE,xma:s.READONLY},"writeAdminMessageForEphemeralSettingsChange",function(t){return(function(n){var a=n.author,i=n.chatJid,l=n.expirationInSec,s=n.externalId,u=n.isEphemeralSettingReset,c=n.isTurningOnEphemeralSetting,d=n.serverTs,m=o("WAJids").interpretAsGroupJid(i),p=o("MAWDexieTable").dexieAll([o("MAWGetOrCreateThreadTxns").getExistingThread(t,i),m!=null?o("MAWDbGroupInfoTxns").getGroupInfo(t,m):o("MAWDexieTable").dexieResolve()]);return p.then(function(e){var n,r=e[0],a=e[1];if(r!=null)return{created:!1,thread:r};var l=a==null||(n=a.value)==null?void 0:n.creationTs;return o("MAWGetOrCreateThreadTxns").getOrCreateThread(t,{createTs:l==null?null:o("WATimeUtils").castUnixTimeToMillisTime(l),description:"writeAdminMessageForEphemeralSettingsChange",jid:i})}).then(function(n){var i=n==null?void 0:n.thread;return i==null?(r("MAWHIMLogger").MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Cannot create a thread for message after missing thread creation attempt"]))),o("WAResultOrError").makeError({type:"no_thread"})):o("MAWEphemeralAdminMsgBuildTxns").writeEphemeralSettingAdminMsg(t,a,l,d,i,c,u,s)}).then(r("emptyFunction"))})});l.REVOKE_CONTENT_EXPIRATION_IN_SEC=u,l.writeAdminMessageForEphemeralSettingsChange=c}),98);
__d("MAWWriteLimitSharingAdminMsgTxns",["MAWLocalizationUtils","MAWWriteLimitSharingAdminMsgContent","MAWWriteMsgTxns","WATimeUtils","emptyFunction","err"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i,l){return e.threads.get({jid:n}).then(function(n){if(n==null)throw r("err")("Invalid chat Id when try to write admin message for limit sharing");var s=o("MAWLocalizationUtils").buildUnstoredDbAdminMsg(o("MAWWriteLimitSharingAdminMsgContent").getAdminMsgContent(t,i),n.jid,a,o("WATimeUtils").castMillisTimeToUnixTime(l),void 0,l);return o("MAWWriteMsgTxns").writeDedupedAdminMessage(e,s,n,l).then(r("emptyFunction"))})}l.writeLimitSharingAdminMsg=e}),98);
__d("MAWWriteAdminMessageForLimitSharingApi",["MAWIndexedDb","MAWTransactionMode","MAWWriteLimitSharingAdminMsgTxns"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MAWIndexedDb").makeMsgrTransactor({chunk:(e=o("MAWTransactionMode")).READONLY,ftsBackloggedMessages:e.READWRITE,groupInfo:e.READONLY,media:e.READONLY,messages:e.READWRITE,threads:e.READWRITE},"MAWWriteAdminMessageForLimitSharing",function(e){return(function(t){var n=t.actorFbid,r=t.chatJid,a=t.externalId,i=t.isLimitSharingEnabled,l=t.serverAuthoritativeTimestampMs;return o("MAWWriteLimitSharingAdminMsgTxns").writeLimitSharingAdminMsg(e,n,r,a,i,l)})});l.writeAdminMessageForLimitSharing=s}),98);
__d("MAWWritePinMessageAdminMsgTxns",["FBLogger","MAWLocalizationUtils","MAWWriteMsgTxns","MAWWritePinMessageAdminMsgContent","WATimeUtils","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i){return e.threads.get({jid:n}).then(function(n){if(n==null)throw r("FBLogger")("messenger_web").mustfixThrow("Invalid chat Id when try to write admin message for pin message");var l=o("MAWLocalizationUtils").buildUnstoredDbAdminMsg(o("MAWWritePinMessageAdminMsgContent").getAdminMsgContent(t),n.jid,a,o("WATimeUtils").castMillisTimeToUnixTime(i),void 0,i);return o("MAWWriteMsgTxns").writeDedupedAdminMessage(e,l,n,i).then(r("emptyFunction"))})}l.writePinMessageAdminMsg=e}),98);
__d("MAWWriteAdminMessageForPinMessageApi",["MAWIndexedDb","MAWTransactionMode","MAWWritePinMessageAdminMsgTxns"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MAWIndexedDb").makeMsgrTransactor({chunk:(e=o("MAWTransactionMode")).READONLY,ftsBackloggedMessages:e.READWRITE,groupInfo:e.READONLY,media:e.READONLY,messages:e.READWRITE,threads:e.READWRITE},"MAWWriteAdminMessageForPinMessage",function(e){return(function(t){var n=t.actorFbid,r=t.chatJid,a=t.externalId,i=t.serverAuthoritativeTimestampMs;return o("MAWWritePinMessageAdminMsgTxns").writePinMessageAdminMsg(e,n,r,a,i)})});l.writeAdminMessageForPinMessage=s}),98);
__d("MAWWriteThreadHotlikeCustomizationAdminMsgTxns",["FBLogger","MAWLocalizationUtils","MAWWriteMsgTxns","MAWWriteThreadHotlikeCustomizationAdminMsgContent","WATimeUtils","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i,l){return e.threads.get({jid:a}).then(function(a){if(a==null)throw r("FBLogger")("messenger_web").mustfixThrow("Invalid chat Id when try to write admin message for thread hotlike customization");var s=o("MAWLocalizationUtils").buildUnstoredDbAdminMsg(o("MAWWriteThreadHotlikeCustomizationAdminMsgContent").getAdminMsgContent(t,n),a.jid,i,o("WATimeUtils").castMillisTimeToUnixTime(l),void 0,l);return o("MAWWriteMsgTxns").writeDedupedAdminMessage(e,s,a,l).then(r("emptyFunction"))})}l.writeThreadHotlikeCustomizationAdminMsg=e}),98);
__d("MAWWriteAdminMessageForThreadHotlikeCustomizationApi",["MAWIndexedDb","MAWTransactionMode","MAWWriteThreadHotlikeCustomizationAdminMsgTxns"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MAWIndexedDb").makeMsgrTransactor({chunk:(e=o("MAWTransactionMode")).READONLY,ftsBackloggedMessages:e.READWRITE,groupInfo:e.READONLY,media:e.READONLY,messages:e.READWRITE,threads:e.READWRITE},"writeAdminMessageForThreadHotlikeCustomization",function(e){return(function(t){var n=t.actorFbid,r=t.chatJid,a=t.externalId,i=t.serverAuthoritativeTimestampMs,l=t.threadIcon;return o("MAWWriteThreadHotlikeCustomizationAdminMsgTxns").writeThreadHotlikeCustomizationAdminMsg(e,n,l,r,a,i)})});l.writeAdminMessageForThreadHotlikeCustomization=s}),98);
__d("MAWWriteThreadNicknameCustomizationAdminMsgTxns",["FBLogger","MAWLocalizationUtils","MAWWriteMsgTxns","MAWWriteThreadNicknameCustomizationAdminMsgContent","WATimeUtils","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i,l,s){return e.threads.get({jid:n}).then(function(n){if(n==null)throw r("FBLogger")("messenger_web").mustfixThrow("Invalid chat Id when try to write admin message for thread nickname customization");var u=o("MAWLocalizationUtils").buildUnstoredDbAdminMsg(o("MAWWriteThreadNicknameCustomizationAdminMsgContent").getAdminMsgContent(t,i,a),n.jid,l,o("WATimeUtils").castMillisTimeToUnixTime(s),void 0,s);return o("MAWWriteMsgTxns").writeDedupedAdminMessage(e,u,n,s).then(r("emptyFunction"))})}l.writeThreadNicknameCustomizationAdminMsg=e}),98);
__d("MAWWriteAdminMessageForThreadNicknameCustomizationApi",["MAWIndexedDb","MAWTransactionMode","MAWWriteThreadNicknameCustomizationAdminMsgTxns"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MAWIndexedDb").makeMsgrTransactor({chunk:(e=o("MAWTransactionMode")).READONLY,ftsBackloggedMessages:e.READWRITE,groupInfo:e.READONLY,media:e.READONLY,messages:e.READWRITE,threads:e.READWRITE},"writeAdminMessageForThreadNicknameCustomization",function(e){return(function(t){var n=t.actorFbid,r=t.chatJid,a=t.externalId,i=t.nickName,l=t.participantId,s=t.serverAuthoritativeTimestampMs;return o("MAWWriteThreadNicknameCustomizationAdminMsgTxns").writeThreadNicknameCustomizationAdminMsg(e,n,r,i,l,a,s)})});l.writeAdminMessageForThreadNicknameCustomization=s}),98);
__d("MAWWriteThreadPhotoCustomizationAdminMsgTxns",["FBLogger","MAWLocalizationUtils","MAWWriteMsgTxns","MAWWriteThreadPhotoCustomizationAdminMsgContent","WATimeUtils","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i){return e.threads.get({jid:n}).then(function(n){if(n==null)throw r("FBLogger")("messenger_web").mustfixThrow("Invalid chat Id when try to write admin message for thread photo customization");var l=o("MAWLocalizationUtils").buildUnstoredDbAdminMsg(o("MAWWriteThreadPhotoCustomizationAdminMsgContent").getAdminMsgContent(t),n.jid,a,o("WATimeUtils").castMillisTimeToUnixTime(i),void 0,i);return o("MAWWriteMsgTxns").writeDedupedAdminMessage(e,l,n,i).then(r("emptyFunction"))})}l.writeThreadPhotoCustomizationAdminMsg=e}),98);
__d("MAWWriteAdminMessageForThreadPhotoCustomizationApi",["MAWIndexedDb","MAWTransactionMode","MAWWriteThreadPhotoCustomizationAdminMsgTxns"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MAWIndexedDb").makeMsgrTransactor({chunk:(e=o("MAWTransactionMode")).READONLY,ftsBackloggedMessages:e.READWRITE,groupInfo:e.READONLY,media:e.READONLY,messages:e.READWRITE,threads:e.READWRITE},"writeAdminMessageForThreadPhotoCustomization",function(e){return(function(t){var n=t.actorFbid,r=t.chatJid,a=t.externalId,i=t.serverAuthoritativeTimestampMs;return o("MAWWriteThreadPhotoCustomizationAdminMsgTxns").writeThreadPhotoCustomizationAdminMsg(e,n,r,a,i)})});l.writeAdminMessageForThreadPhotoCustomization=s}),98);
__d("MAWWriteThreadThemeCustomizationAdminMsgTxns",["FBLogger","MAWLocalizationUtils","MAWWriteMsgTxns","MAWWriteThreadThemeCustomizationAdminMsgContent","WATimeUtils","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i,l,s,u){return e.threads.get({jid:i}).then(function(i){if(i==null)throw r("FBLogger")("messenger_web").mustfixThrow("Invalid chat Id when try to write admin message for thread theme customization");var c=o("MAWLocalizationUtils").buildUnstoredDbAdminMsg(o("MAWWriteThreadThemeCustomizationAdminMsgContent").getAdminMsgContent(t,n,a,u),i.jid,l,o("WATimeUtils").castMillisTimeToUnixTime(s),void 0,s);return o("MAWWriteMsgTxns").writeDedupedAdminMessage(e,c,i,s).then(r("emptyFunction"))})}l.writeThreadThemeCustomizationAdminMsg=e}),98);
__d("MAWWriteAdminMessageForThreadThemeCustomizationApi",["MAWIndexedDb","MAWTransactionMode","MAWWriteThreadThemeCustomizationAdminMsgTxns"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MAWIndexedDb").makeMsgrTransactor({chunk:(e=o("MAWTransactionMode")).READONLY,ftsBackloggedMessages:e.READWRITE,groupInfo:e.READONLY,media:e.READONLY,messages:e.READWRITE,threads:e.READWRITE},"writeAdminMessageForThreadThemeCustomization",function(e){return(function(t){var n=t.actorFbid,r=t.chatJid,a=t.externalId,i=t.serverAuthoritativeTimestampMs,l=t.themeEmoji,s=t.themeNameWithSubtitle,u=t.themeType;return o("MAWWriteThreadThemeCustomizationAdminMsgTxns").writeThreadThemeCustomizationAdminMsg(e,n,l,s,r,a,i,u)})});l.writeAdminMessageForThreadThemeCustomization=s}),98);
__d("MAWWriteUKOSAAdminMsgTxns",["FBLogger","MAWLocalizationUtils","MAWWriteMsgTxns","MAWWriteUKOSAAdminMsgContent","WATimeUtils","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i){return e.threads.get({jid:n}).then(function(n){if(n==null)throw r("FBLogger")("messenger_web").mustfixThrow("Invalid chat Id when try to write admin message for UK OSA");var l=o("MAWLocalizationUtils").buildUnstoredDbAdminMsg(o("MAWWriteUKOSAAdminMsgContent").getAdminMsgContent(t),n.jid,a,o("WATimeUtils").castMillisTimeToUnixTime(i),void 0,i);return o("MAWWriteMsgTxns").writeDedupedAdminMessage(e,l,n,i).then(r("emptyFunction"))})}l.writeUKOSAAdminMsg=e}),98);
__d("MAWWriteAdminMessageForUKOSAApi",["MAWIndexedDb","MAWTransactionMode","MAWWriteUKOSAAdminMsgTxns"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MAWIndexedDb").makeMsgrTransactor({chunk:(e=o("MAWTransactionMode")).READONLY,ftsBackloggedMessages:e.READWRITE,groupInfo:e.READONLY,media:e.READONLY,messages:e.READWRITE,threads:e.READWRITE},"MAWwriteAdminMessageForUKOSA",function(e){return(function(t){var n=t.actorFbid,r=t.chatJid,a=t.externalId,i=t.serverAuthoritativeTimestampMs;return o("MAWWriteUKOSAAdminMsgTxns").writeUKOSAAdminMsg(e,n,r,a,i)})});l.writeAdminMessageForUKOSA=s}),98);
__d("MAWWriteUnpinMessageAdminMsgTxns",["FBLogger","MAWLocalizationUtils","MAWWriteMsgTxns","MAWWriteUnpinMessageAdminMsgContent","WATimeUtils","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i){return e.threads.get({jid:n}).then(function(n){if(n==null)throw r("FBLogger")("messenger_web").mustfixThrow("Invalid chat Id when try to write admin message for unpin message");var l=o("MAWLocalizationUtils").buildUnstoredDbAdminMsg(o("MAWWriteUnpinMessageAdminMsgContent").getAdminMsgContent(t),n.jid,a,o("WATimeUtils").castMillisTimeToUnixTime(i),void 0,i);return o("MAWWriteMsgTxns").writeDedupedAdminMessage(e,l,n,i).then(r("emptyFunction"))})}l.writeUnpinMessageAdminMsg=e}),98);
__d("MAWWriteAdminMessageForUnpinMessageApi",["MAWIndexedDb","MAWTransactionMode","MAWWriteUnpinMessageAdminMsgTxns"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MAWIndexedDb").makeMsgrTransactor({chunk:(e=o("MAWTransactionMode")).READONLY,ftsBackloggedMessages:e.READWRITE,groupInfo:e.READONLY,media:e.READONLY,messages:e.READWRITE,threads:e.READWRITE},"MAWWriteAdminMessageForUnpinMessage",function(e){return(function(t){var n=t.actorFbid,r=t.chatJid,a=t.externalId,i=t.serverAuthoritativeTimestampMs;return o("MAWWriteUnpinMessageAdminMsgTxns").writeUnpinMessageAdminMsg(e,n,r,a,i)})});l.writeAdminMessageForUnpinMessage=s}),98);
__d("WAGetRemotePublicIdentity",["WAJids","WASignalDB","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,r){return o("WASignalDB").getDb().runInTransaction(["identity"],"readonly",(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=o("WAJids").toMsgrUserJid(r),a=o("WAJids").toDeviceJid(n,t),i=yield e.stores.identity.get(a);return i==null?void 0:i.identity});return function(t){return e.apply(this,arguments)}})(),o("WASignalDB").signalOp("getRemotePublicIdentityKey"))};l.getRemotePublicIdentity=e}),98);
__d("MAWBridgeHandlers",["EBLS","EBMessageMetadataCache","EBSMDBAPI","EBSyncMailboxKeysForContacts","EBWorkerEBSMStateUtils","EBWorkerGetEBState","EBWorkerOptOut","EncryptedBackupsDYIMediaDownload","FBLogger","IGDHandleContinueMediaDownload","MAWAddGroupParticipants","MAWBulkCancelDownloadMediaForUI","MAWBulkLoadMessagesForThread","MAWBulkMaybeCreateOrUpdateThreadScheduler","MAWBulkMaybeUpsertThreadAndParticipants","MAWCancelDownloadMediaForUI","MAWChangeSecurityAlertSettingApi","MAWChangeSecurityAlertSettingForSelfApi","MAWClearSignalAndTempStores","MAWCompleteUndoThreadCutoverApi","MAWComputeCachePayloadFromScratch","MAWConvertEchoMessagesToMsgStanzas","MAWCreateGroup","MAWCreateOrUpdateThreadApi","MAWDeleteMediaChunks_FOR_TESTING_ONLY","MAWDeleteThreadApi","MAWDownloadMediaForUI","MAWEBClientStateLogging","MAWEBInitRestoreLogging","MAWEBLSInWorkerSwitch","MAWEBUploadTrackingUtils","MAWEncryptedBackupsStateManager","MAWEphemeralSettingsCache","MAWFTSDataSync","MAWFTSEBMessagesDataSync","MAWForwardEBLSEbEnabledStateChangesToMainThread","MAWGetBlobDataUrlByMediaIdApi","MAWGetDeviceChangeAlertsByOptionsApi","MAWGetEphemeralSettingsApi","MAWGetGroupSuperAdminApi","MAWGetLatestChatJids","MAWGetLatestThreadIdsApi","MAWGetMaybeNextNonAdminMsgSortOrderMsApi","MAWGetMediaDownloadStatusApi","MAWGetMediaValidationResultApi","MAWGetProtocolMsgIdByMediaMsgId","MAWGetProtocolMsgIdByMsgId","MAWGetReceiverFetchInfoApi","MAWGetRedactedRegistrationInfoForBugnub","MAWGetReportedQplEvents","MAWGetSecureThreadTotalCount","MAWGetSecurityAlertSettingApi","MAWGetSecurityAlertSettingForSelfAndContactApi","MAWGetThreadConsistencyInfo","MAWGetThreadLastMessageTsApi","MAWGetThreadsInfoApi","MAWGetThumbnailBlobDataUrlByMediaIdApi","MAWGetWAIDevices","MAWGetWATimeApi","MAWGetWorkerHeartbeatApi","MAWGroupSetMemberAddMode","MAWHandleEBRestoreWithHIM","MAWHandleMediaRestoreCdnUrlResult","MAWIdentifyCollapsedMessagesByExternalId","MAWIdentifyXMAWithAssociatedTextByExternalId","MAWInsertAdminMessageInCutoverThreadsApi","MAWLeaveGroups","MAWLoadMediaApi","MAWLoadMoreScheduler","MAWLoadMsgsApi","MAWLoadThreadsTxns","MAWLowLevelMediaDownloadQplBridgeHandler","MAWMarkBackupAsCompleted","MAWMarkThreadAsUnreadApi","MAWMessageIntegrityDebugInfoFromWorker","MAWOptimisticUploadMedia","MAWRemoveGroupParticipants","MAWSendChatStateFromComposerApi","MAWSendPoll","MAWSendPollUpdate","MAWSendUpdateFromUIPersistedDataServiceApi","MAWSetEphemeralSettingsFromFrontendApi","MAWSetEphemeralSettingsOfPeerFromMIApi","MAWSetGroupSubject","MAWStateManagerSyncToMainThread","MAWUpdateDeviceChangeAlertsApi","MAWUpdateLSThreadFromGroupInfoApi","MAWUpdateMediaDownloadStatusByObjectIdApi","MAWUpdateReceiverFetchInfoApi","MAWWriteAdminMessageForDualThreadCutoverApi","MAWWriteAdminMessageForEphemeralSettingsChange","MAWWriteAdminMessageForLimitSharingApi","MAWWriteAdminMessageForPinMessageApi","MAWWriteAdminMessageForThreadHotlikeCustomizationApi","MAWWriteAdminMessageForThreadNicknameCustomizationApi","MAWWriteAdminMessageForThreadPhotoCustomizationApi","MAWWriteAdminMessageForThreadThemeCustomizationApi","MAWWriteAdminMessageForUKOSAApi","MAWWriteAdminMessageForUnpinMessageApi","MawMessageSendService","Promise","WAGetCurrentUserDeviceInfoApi","WAGetIdentityKeys","WAGetRemotePublicIdentity","WAGetThreadDevicesInfoApi","WALogger","WorkerScheduler","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p={addDeviceWithKeysInWorker:function(){return(m||(m=n("Promise"))).resolve()},addDeviceWithPinInWorker:function(t){},addEbUploadTrackingWorkerQPL:function(t){return o("MAWEBUploadTrackingUtils").handleBridgeEbUploadTrackingQPL(t.qplType,t.qplInstanceKey,t.pointName,t.annotations)},addGroupParticipants:function(t){return o("MAWAddGroupParticipants").addGroupParticipantsFn(t)},addMediaDownloadQpl:function(t){return o("MAWLowLevelMediaDownloadQplBridgeHandler").handleBridgeMediaDownloadQPL(t.qplType,t.qplInstanceKey,t.pointName,t.annotations)},backupWriteCompletionHook:function(){return o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[messenger_e2ee_web] Handler not implemented and should not be used outside of Instamadillo"]))),(m||(m=n("Promise"))).resolve()},bulkCancelDownloadMediaForUI:function(t){return o("MAWBulkCancelDownloadMediaForUI").bulkCancelDownloadMediaForUI(t.hashes)},bulkDownloadMediaForUI:function(t){return o("MAWDownloadMediaForUI").bulkDownloadMediaForUI(t)},bulkLoadMessagesForThread:function(t){return o("MAWBulkLoadMessagesForThread").bulkLoadMessagesForThread(t)},bulkMaybeCreateOrUpdateThread:function(t,n){return o("MAWBulkMaybeCreateOrUpdateThreadScheduler").bulkMaybeCreateOrUpdateThreadScheduler().runTask({fn:function(){return o("MAWBulkMaybeUpsertThreadAndParticipants").bulkMaybeCreateOrUpdateThread(t,n)},name:"maw_maybe_create_or_update_thread",priority:o("WorkerScheduler").BLOCKING_PRIORITY})},cancelDownloadMediaForUI:function(t){return o("MAWCancelDownloadMediaForUI").cancelDownloadMediaForUI(t.hash)},changeSecurityAlertSetting:function(t){return o("MAWChangeSecurityAlertSettingApi").changeSecurityAlertSetting(t.isEnableAlert)},changeSecurityAlertSettingForSelf:function(t){return o("MAWChangeSecurityAlertSettingForSelfApi").changeSecurityAlertSettingForSelf(t.isEnableSelfAlert)},checkIfGroupParticipant:function(t){return o("MAWLoadThreadsTxns").checkIfGroupParticipant(t)},clearSignalAndTempStores:function(t){return o("MAWClearSignalAndTempStores").clearSignalAndTempStores()},clearWorkerEBSMReStore:function(t){return o("EBLS").clearEBSMStorage()},clearWorkerEBStateDBOnLogout:function(t){return o("EBSMDBAPI").clearEBIDBNonPersistedRows({hasUserGivenAutoRestoreConsent:t.hasUserGivenAutoRestoreConsent})},completeUndoThreadCutover:function(t){return o("MAWCompleteUndoThreadCutoverApi").completeUndoThreadCutover(t)},computeCachePayloadFromScratch:function(t){return o("MAWComputeCachePayloadFromScratch").computeCachePayloadFromScratch(t)},continueMediaDownload:function(t){return o("IGDHandleContinueMediaDownload").handleContinueMediaDownload(t)},convertEchoMessagesToEBProtobufs:function(t){return o("MAWHandleEBRestoreWithHIM").convertEchoMessagesToEBProtobufs(t.encodedEchoMessages,t.chatJid)},convertEchoMessagesToMsgStanzas:function(t){return o("MAWConvertEchoMessagesToMsgStanzas").convertEchoMessagesToMsgStanzas(t.encodedEchoMessages,t.chatJid)},createGroup:function(t){return o("MAWCreateGroup").createGroupFn(t)},createOrUpdateThread:function(t){return o("MAWCreateOrUpdateThreadApi").createOrUpdateThread(t)},deleteMediaChunks_FOR_TESTING_ONLY:function(t){return o("MAWDeleteMediaChunks_FOR_TESTING_ONLY").deleteMediaChunks_FOR_TESTING_ONLY(t.plaintextHashes)},deleteMsgsForMe:function(t){return o("MawMessageSendService").sendDeleteMsgForMe(t)},deleteThread:function(t){return o("MAWDeleteThreadApi").deleteThread(t.chatJid)},downloadMediaForUI:function(t){return o("MAWDownloadMediaForUI").downloadMediaForUI(t)},dyiDownloadMediaV2:function(t){return o("EncryptedBackupsDYIMediaDownload").downloadDYIMedia({mediaEntry:t.mediaEntry,plaintextHash:t.plaintextHash,protocolMsgId:t.protocolMsgId,sortOrderMs:t.sortOrderMs})},dyiGetThreadList:function(){return o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][labyrinth_dyi] Attempted to call the old DYI V1 flow"]))),(m||(m=n("Promise"))).resolve()},ebOptOutInWorker:function(t){return o("EBWorkerOptOut").ebOptOutInWorker()},forwardMsg:(d=o("MawMessageSendService")).sendForwardedMsg,getAllThreadsAsJson:function(){return o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][labyrinth_dyi] Attempted to call the old DYI V1 flow"]))),(m||(m=n("Promise"))).resolve({})},getBlobDataUrlByHashedPlaintextHash:function(t){return o("MAWGetBlobDataUrlByMediaIdApi").getBlobDataUrlByHashedPlaintextHash(t.plaintextHash,t.description,t.qplInstanceKey)},getBlobDataUrlByMediaId:function(t){return o("MAWGetBlobDataUrlByMediaIdApi").getBlobDataUrlByMediaId(t.mediaId,t.description,t.qplInstanceKey)},getBlobDataUrlByPlaintextHash:function(t){return o("MAWGetBlobDataUrlByMediaIdApi").getBlobDataUrlByPlaintextHash(t.plaintextHash,t.description,t.qplInstanceKey)},getCurrentUserDeviceId:function(){return o("WAGetCurrentUserDeviceInfoApi").getCurrentUserDeviceId()},getCurrentUserDeviceInfo:function(){return o("WAGetCurrentUserDeviceInfoApi").getCurrentUserDeviceInfo()},getDeviceChangeAlertsByOptions:function(t){return o("MAWGetDeviceChangeAlertsByOptionsApi").getDeviceChangeAlertsByOptions(t.options)},getEBMetadataCacheDetailsForThread:function(t){return o("EBMessageMetadataCache").getCacheDetailsForThreadForLogging(t)},getEBSMWorkerState:function(){return o("EBWorkerEBSMStateUtils").getEBSMWorkerState()},getEphemeralSettings:function(t){return o("MAWGetEphemeralSettingsApi").getEphemeralSettings(t.threadId)},getGroupSuperAdmin:function(t){return o("MAWGetGroupSuperAdminApi").getGroupSuperAdmin(t.chatJid)},getIdentityKeys:function(t){return o("WAGetIdentityKeys").getIdentityKeysInWorker()},getLatestChatJids:function(t){return o("MAWGetLatestChatJids").getLatestChatJids(t.count)},getLatestThreadIds:function(t){return o("MAWGetLatestThreadIdsApi").getLatestThreadIds(t.numThreads)},getMaybeNextNonAdminMsgSortOrderMs:function(t){return o("MAWGetMaybeNextNonAdminMsgSortOrderMsApi").getMaybeNextNonAdminMsgSortOrderMs(t.chatJid,t.mayBeAdminMsgId)},getMediaDownloadStatusByMediaId:function(t){return o("MAWGetMediaDownloadStatusApi").getMediaDownloadStatusByMediaId(t.mediaId,t.qplInstanceKey)},getMediaDownloadStatusByPlaintextHash:function(t){return o("MAWGetMediaDownloadStatusApi").getMediaDownloadStatusByPlaintextHash(t.plaintextHash,t.qplInstanceKey)},getMediaRestoreNextTimestamp:function(t){return o("MAWFTSEBMessagesDataSync").getMediaRestoreNextTimestamp(t)},getMediaValidationResultByMediaId:function(t){return o("MAWGetMediaValidationResultApi").getMediaValidationResultByMediaId(t.mediaId,t.qplInstanceKey)},getMediaValidationResultByPlainTextHash:function(t){return o("MAWGetMediaValidationResultApi").getMediaValidationResultByPlainTextHash(t.plaintextHash,t.qplInstanceKey)},getProtocolMsgIdByMediaMsgId:function(t){return o("MAWGetProtocolMsgIdByMediaMsgId").getProtocolMsgIdByMediaMsgId(t.msgId)},getProtocolMsgIdByMsgId:function(t){return o("MAWGetProtocolMsgIdByMsgId").getProtocolMsgIdByMsgId(t.msgId)},getReceiverFetchInfo:function(t){return o("MAWGetReceiverFetchInfoApi").getReceiverFetchInfo(t)},getRedactedRegistrationInfoForBugnub:function(t){return o("MAWGetRedactedRegistrationInfoForBugnub").getRedactedRegistrationInfoForBugnub()},getRemotePublicIdentityKey:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("WAGetRemotePublicIdentity").getRemotePublicIdentity(e.deviceId,e.userId);return t==null?null:{remotePublicIdentityKey:t}});function t(t){return e.apply(this,arguments)}return t})(),getReportedQplEvents:function(t){return o("MAWGetReportedQplEvents").getReportedQplEvents()},getSecureThreadTotalCount:function(t){return o("MAWGetSecureThreadTotalCount").getSecureThreadTotalCount()},getSecurityAlertSetting:function(t){return o("MAWGetSecurityAlertSettingApi").getSecurityAlertSetting()},getSecurityAlertSettingForSelfAndContact:function(t){return o("MAWGetSecurityAlertSettingForSelfAndContactApi").getSecurityAlertSettingForSelfAndContact()},getThreadConsistencyInfo:function(t){return o("MAWGetThreadConsistencyInfo").getThreadConsistencyInfo(t)},getThreadDevicesInfo:function(t){return o("WAGetThreadDevicesInfoApi").getThreadDevicesInfo(t)},getThreadIdByDeduplicationKey:function(t){return o("MAWGetThreadsInfoApi").getThreadIdByDeduplicationKey(t.deduplicationKey)},getThreadLastMessageTs:function(t){return o("MAWGetThreadLastMessageTsApi").getThreadLastMessageTs(t.threadKey)},getThreadMediaRestoreStatus:function(t){return o("MAWFTSEBMessagesDataSync").getThreadMediaRestoreStatus(t)},getThumbnailBlobDataUrlByHashedPlaintextHash:function(t){return o("MAWGetThumbnailBlobDataUrlByMediaIdApi").getThumbnailBlobDataUrlByHashedPlaintextHash(t.plaintextHash,t.description,t.qplInstanceKey)},getThumbnailBlobDataUrlByMediaId:function(t){return o("MAWGetThumbnailBlobDataUrlByMediaIdApi").getThumbnailBlobDataUrlByMediaId(t.mediaId,t.description,t.qplInstanceKey)},getWAIDevices:function(t){return o("MAWGetWAIDevices").getWAIDevices(t)},getWATime:function(){return o("MAWGetWATimeApi").getWATime()},getWorkerBasedMessageIntegrityDebugInfo:function(t){return o("MAWMessageIntegrityDebugInfoFromWorker").getWorkerBasedMessageIntegrityDebugInfo(t)},getWorkerEBState:function(){return o("EBWorkerGetEBState").getEBWorkerState()},getWorkerHeartbeat:function(){return o("MAWGetWorkerHeartbeatApi").getWorkerHeartbeat()},handleInstamadilloDYIRangeQueryRestore:function(){return o("WALogger").WARN(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[maw_core_lla] Handler not implemented and should not be used outside Instamadillo"]))),(m||(m=n("Promise"))).resolve()},identifyCollapsedMessagesByExternalId:function(t){return o("MAWIdentifyCollapsedMessagesByExternalId").identifyCollapsedMessagesByExternalId(t)},identifyXMAWithAssociatedTextByExternalId:function(t){return o("MAWIdentifyXMAWithAssociatedTextByExternalId").identifyXMAWithAssociatedTextByExternalId(t)},insertAdminMessageInCutoverThreads:function(t){return o("MAWInsertAdminMessageInCutoverThreadsApi").insertAdminMessageInCutoverThreads(t)},leaveGroup:function(t){return o("MAWLeaveGroups").leaveGroupFn(t)},loadMoreMedia:function(t){return o("MAWLoadMediaApi").loadMoreMedia(t)},loadMsgsByExternalId:function(t){return o("MAWLoadMsgsApi").loadMsgsByExternalId(t.externalId,t.config)},logEBClientStateForDebugging:function(t){return o("MAWEBClientStateLogging").logEBClientStateForDebugging()},logInitRestoreMethodForDebugging:function(t){return o("MAWEBInitRestoreLogging").logInitRestoreMethodForDebugging(t)},markBackupAsCompleted:function(t){return o("MAWMarkBackupAsCompleted").markBackupAsCompleted(t)},markThreadAsUnread:function(t){return o("MAWMarkThreadAsUnreadApi").markThreadAsUnread(t.chatJid)},maw_load_msgs:function(t){return o("MAWLoadMoreScheduler").loadMoreMessages(t)},maw_load_msgs_by_chat_jids_into_maw:function(t){return o("MAWLoadMoreScheduler").loadMessagesByChatJidsIntoMaw(t)},maw_load_msgs_range:function(t){return o("MAWLoadMoreScheduler").loadMoreMsgsRange(t)},mediaRestoreCdnUrlResult:function(t){return o("MAWHandleMediaRestoreCdnUrlResult").handleMediaRestoreCdnUrlResult(t)},optimisticUploadMedia:function(t){return o("MAWOptimisticUploadMedia").optimisticUploadMedia(t)},removeGroupParticipants:function(t){return o("MAWRemoveGroupParticipants").removeGroupParticipantsFn(t)},resendEBLSInWorkerEbEnabledState:function(t){return o("MAWForwardEBLSEbEnabledStateChangesToMainThread").sendEBLSEbEnabledStateToMainThread()},resendWorkerStateManagerValuesToMainThread:function(t){return o("MAWStateManagerSyncToMainThread").resendCurrentValuesToMainThread()},search:function(t){return o("MAWFTSDataSync").search(t)},searchFTSClearThreadRestoreStatus:function(t){return o("MAWFTSEBMessagesDataSync").searchFTSClearThreadRestoreStatus(t)},searchFTSGetThreadRestoreStatus:function(t){return o("MAWFTSEBMessagesDataSync").searchFTSGetThreadRestoreStatus(t)},searchFTSGetThreadsRestoreStatus:function(t){return o("MAWFTSEBMessagesDataSync").searchFTSGetThreadsRestoreStatus(t)},searchFTSReportTabAlive:function(t){return o("MAWFTSEBMessagesDataSync").searchFTSReportTabAlive(t)},searchFTSReportTabDestroy:function(t){return o("MAWFTSEBMessagesDataSync").searchFTSReportTabDestroy(t)},searchFTSReportTabForeground:function(t){return o("MAWFTSEBMessagesDataSync").searchFTSReportTabForeground(t)},searchFTSReportTabTaskComplete:function(t){return o("MAWFTSEBMessagesDataSync").searchFTSReportTabTaskComplete(t)},searchFTSRequestRestoreTask:function(t){return o("MAWFTSEBMessagesDataSync").searchFTSRequestRestoreTask(t)},searchGetFTSNextTimestamp:function(t){return o("MAWFTSEBMessagesDataSync").searchGetFTSNextTimestamp(t)},searchGetFTSRestoreSessionId:function(t){return o("MAWFTSEBMessagesDataSync").searchGetFTSRestoreSessionId(t)},searchIndexUpdate:function(t){return o("MAWFTSEBMessagesDataSync").searchIndexUpdate(t)},searchSetFTSNextTimestamp:function(t){return o("MAWFTSEBMessagesDataSync").searchSetFTSNextTimestamp(t)},sendBumpMsg:d.sendBumpMsg,sendChatStateFromComposer:function(t){return o("MAWSendChatStateFromComposerApi").sendChatStateFromComposer(t)},sendEditMsg:d.sendEditMsg,sendGroupInviteMsg:d.sendGroupInviteMsg,sendMediaMsgV2:d.sendMediaMsg,sendMsg:d.sendTextMsg,sendNoteReplyMsg:d.sendNoteReplyMsg,sendPoll:function(t){return r("FBLogger")("wmi").mustfix("sendPoll is deprecated"),o("MAWSendPoll").sendPoll(t)},sendPollUpdate:function(t){return r("FBLogger")("wmi").mustfix("sendPollUpdate is deprecated"),o("MAWSendPollUpdate").sendPollUpdate()},sendReactionMsg:d.sendReactionMsg,sendRevokeMsg:d.sendRevokeMsg,sendUpdateFromUIPersistedDataService:function(t){return o("MAWSendUpdateFromUIPersistedDataServiceApi").sendUpdateFromUIPersistedDataService(t)},sendXMAShareMsg:d.sendXMAShareMsg,setEncryptedBackupsState:function(t){o("MAWEncryptedBackupsStateManager").setEncryptedBackupsState(t.newState)},setEphemeralSettingCache:function(t){return o("MAWEphemeralSettingsCache").setEphemeralSettingCache(t.jid,t.settings)},setEphemeralSettingsFromFrontend:function(t){return o("MAWSetEphemeralSettingsFromFrontendApi").setEphemeralSettingsFromFrontend(t)},setEphemeralSettingsFromMI:function(t){return o("MAWSetEphemeralSettingsOfPeerFromMIApi").setEphemeralSettingsFromMI(t)},setGroupMemberAddMode:function(t){return o("MAWGroupSetMemberAddMode").setMemberAddModeFn(t)},setGroupSubject:function(t){return o("MAWSetGroupSubject").setGroupSubjectFn(t)},setThreadMediaRestoreStatus:function(t){return o("MAWFTSEBMessagesDataSync").setThreadMediaRestoreStatus(t)},syncMailboxKeysForContactsInWorker:function(t){return o("EBSyncMailboxKeysForContacts").syncMailboxKeysForContacts([].concat(t.userFbIds))},updateDeviceChangeAlerts:function(t){return o("MAWUpdateDeviceChangeAlertsApi").updateDeviceChangeAlerts(t.alert)},updateLSThreadFromGroupInfo:function(t){return o("MAWUpdateLSThreadFromGroupInfoApi").updateLSThreadFromGroupInfo(t.groupJid)},updateMediaDownloadStatusByObjectId:function(t){return o("MAWUpdateMediaDownloadStatusByObjectIdApi").updateMediaDownloadStatusByObjectId(t.objectId,t.downloadStatus,t.details)},updateReceiverFetchInfo:function(t){return o("MAWUpdateReceiverFetchInfoApi").updateReceiverFetchInfo(t)},waitForEBLSEbEnabled:function(t){return r("MAWEBLSInWorkerSwitch").waitForEBEnabled()},writeAdminMessageForDualThreadCutover:function(t){return o("MAWWriteAdminMessageForDualThreadCutoverApi").writeAdminMessageForDualThreadCutover(t)},writeAdminMessageForEphemeralSettingsChange:function(t){return o("MAWWriteAdminMessageForEphemeralSettingsChange").writeAdminMessageForEphemeralSettingsChange(t)},writeAdminMessageForLimitSharing:function(t){return o("MAWWriteAdminMessageForLimitSharingApi").writeAdminMessageForLimitSharing(t)},writeAdminMessageForPinMessage:function(t){return o("MAWWriteAdminMessageForPinMessageApi").writeAdminMessageForPinMessage(t)},writeAdminMessageForThreadHotlikeCustomization:function(t){return o("MAWWriteAdminMessageForThreadHotlikeCustomizationApi").writeAdminMessageForThreadHotlikeCustomization(t)},writeAdminMessageForThreadNicknameCustomization:function(t){return o("MAWWriteAdminMessageForThreadNicknameCustomizationApi").writeAdminMessageForThreadNicknameCustomization(t)},writeAdminMessageForThreadPhotoCustomization:function(t){return o("MAWWriteAdminMessageForThreadPhotoCustomizationApi").writeAdminMessageForThreadPhotoCustomization(t)},writeAdminMessageForThreadThemeCustomization:function(t){return o("MAWWriteAdminMessageForThreadThemeCustomizationApi").writeAdminMessageForThreadThemeCustomization(t)},writeAdminMessageForUKOSA:function(t){return o("MAWWriteAdminMessageForUKOSAApi").writeAdminMessageForUKOSA(t)},writeAdminMessageForUnpinMessage:function(t){return o("MAWWriteAdminMessageForUnpinMessageApi").writeAdminMessageForUnpinMessage(t)}};l.bridgeHandlers=p}),98);
__d("IGDLowLevelApiBridgeHandlers",["EncryptedBackupsUploadQueue","IGDEbUploadQueue","MAWBridgeHandlers","Promise","WALogger","asyncToGeneratorRuntime","cr:8399"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=babelHelpers.extends({},o("MAWBridgeHandlers").bridgeHandlers,{backupWriteCompletionHook:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("EncryptedBackupsUploadQueue").ebUploadQueue();yield e.queueIds.map(function(e){return t.ack([e])}),o("IGDEbUploadQueue").scheduleNextRun()});function t(t){return e.apply(this,arguments)}return t})(),handleInstamadilloDYIRangeQueryRestore:function(r){return n("cr:8399")==null?(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[DYI] Instamadillo DYI is not enabled"]))),(s||(s=n("Promise"))).resolve()):n("cr:8399")(r.threadId,r.messages,r.hasMoreBefore,r.nextMessageTimestampMsBefore)}});l.igdBridgeHandlers=u}),98);
__d("IGDBackendBridgeHandlers",["EBBridgedAPIHandler","IGDBridgedAPIHandler","IGDLowLevelApiBridgeHandlers","MAWJobManager","Promise","WABridgedAPIHandler","WAMockServerShell","WAWaitForComms","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){return babelHelpers.extends({},o("IGDLowLevelApiBridgeHandlers").igdBridgeHandlers,{ebapi:(function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){yield o("WAWaitForComms").waitForComms();var r=o("EBBridgedAPIHandler").ebapi[n.type];return r==null&&t.TAGS(["EBBridgedAPI"]).ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["handle with type "," not found"])),n.type),r.apply(void 0,n.args)});function a(e){return r.apply(this,arguments)}return a})(),igdapi:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return yield o("WAWaitForComms").waitForComms(),o("IGDBridgedAPIHandler").igdapi(e)});function t(t){return e.apply(this,arguments)}return t})(),initMockServer:function(t){return o("WAMockServerShell").getMockServer==null?(u||(u=n("Promise"))).reject("Mock server is not available. Make sure you use worker v2"):o("WAMockServerShell").getMockServer().init(t)},minosEBAPI:function(){throw r("err")("not implemented")},runJobFireAndForget:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return yield o("WAWaitForComms").waitForComms(),o("MAWJobManager").getJobManager().fireAndForget(e)});function t(t){return e.apply(this,arguments)}return t})(),runJobWaitUntilCompleted:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return yield o("WAWaitForComms").waitForComms(),o("MAWJobManager").getJobManager().waitUntilCompleted(e)});function t(t){return e.apply(this,arguments)}return t})(),runJobWaitUntilPersisted:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return yield o("WAWaitForComms").waitForComms(),o("MAWJobManager").getJobManager().waitUntilPersisted(e)});function t(t){return e.apply(this,arguments)}return t})(),runMock:function(t){return o("WAMockServerShell").getMockServer==null?(u||(u=n("Promise"))).reject("Mock server is not available. Make sure you use worker v2"):o("WAMockServerShell").getMockServer().runMock(t)},setMockVariables:function(t){if(o("WAMockServerShell").getMockServer==null)throw r("err")("Mock server is not available. Make sure you use worker v2");o("WAMockServerShell").getMockServer().setVariables(t.variables)},waapi:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield o("WAWaitForComms").waitForComms();var n=o("WABridgedAPIHandler").waapi[e.type];return n==null&&t.TAGS(["WABridgedAPI"]).ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["handle with type "," not found"])),e.type),n.apply(void 0,e.args)});function r(t){return e.apply(this,arguments)}return r})()})}l.getIGDBridgeHandlers=c}),98);
__d("IGDCOP",["MawCopScheduler","Promise","WAPubSub","WAWaitForUserUnblocked"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(){this.$1=o("WAPubSub").simplePubSub(),this.scheduler=o("MawCopScheduler").copScheduler()}var r=t.prototype;return r.handleThreadMetadata=function(t){},r.onlineProcessing=function(){return(e||(e=n("Promise"))).resolve()},r.loadMoreMsgs=function(r,o){return(e||(e=n("Promise"))).resolve()},r.subscribeToOfflineQueue=function(t,n){var e=this;t.subscribe(function(t){switch(t.type){case"offline-start":break;case"offline-end":{e.$1.publish({success:!0,type:"maw-infra-end"}),o("WAWaitForUserUnblocked").unblockUser();break}default:{t.type;break}}})},r.subscribe=function(t){return this.$1.subscribe(t)},r.TEST_ONLY_setMode=function(t){},r.TEST_ONLY_getMode=function(){return"online"},t})(),u=null;function c(){return u=new s,u}var d=c();l.cop=d}),98);
__d("InstamadilloMediaUpload",["FBLogger","LSIntEnum","MAWFetchXMABlob","MAWFrontendMediaUtils","MAWMediaUtils","MAWOptimisticUploadMedia","MessagingAttachmentType","WABlobToArrayBuffer","WAHashUtils","WAMediaCrypto","WAStartMediaUploadQplFlow","WATagsLogger","WAUploadMediaQuick","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("WATagsLogger").TAGS(["InstamadilloMediaUpload"]);function u(e,t,n){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=yield o("MAWMediaUtils").hashBlob(t),a=o("WAHashUtils").toPlaintextHash(r),i=n.type==="regular"?n.mediaType:"preview",l=yield o("WAStartMediaUploadQplFlow").startMediaUploadQplFlow({chatJid:e.chat,fileSize:t.size,serverMediaType:i,uploadEntry:"InstamadilloMediaUpload"});return o("WAUploadMediaQuick").uploadMediaQuick({logger:s,mediaUploadFlow:l,plaintext:yield o("WABlobToArrayBuffer").blobToArrayBuffer(t),plaintextHash:a,serverMediaType:i})}),c.apply(this,arguments)}function d(e,t,n){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,a){if(a.playableUrlMimeType==null)throw r("FBLogger")("igd_web").mustfixThrow("instamadilloUpload: mimeType is null");var i=o("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(a.playableUrlMimeType),l=i.serverMediaType,s=yield u(t,n,{mediaType:l,type:"regular"});if(s.success!==!0)throw r("FBLogger")("igd_web").mustfixThrow("instamadilloUpload: Failed to upload media");var c=null,d=(e||(e=o("LSIntEnum"))).unwrapIntEnum(a.attachmentType),m=yield o("MAWFetchXMABlob").fetchBlob({descriptionForLogging:"InstamadilloMediaUpload",url:a.previewUrl});if(m!=null){var p=yield m.arrayBuffer(),_=d===r("MessagingAttachmentType").IMAGE||d===r("MessagingAttachmentType").VIDEO?o("MAWMediaUtils").convertJpegThumbnailArrayBufferToFile(p):null,f=new Uint8Array(yield o("WABlobToArrayBuffer").blobToArrayBuffer(n));if(_&&o("MAWOptimisticUploadMedia").shouldUploadPreview(l,n.size,f)){var g=o("WAMediaCrypto").convertServerMediaTypeToPreviewMediaType(l);if(g==null)throw r("FBLogger")("igd_web").mustfixThrow("unsupported preview media type %s",l);var h=yield u(t,_,{messageType:g,type:"preview"});if(h.success!==!0)throw r("FBLogger")("igd_web").mustfixThrow("instamadilloUpload: Failed to upload preview media");c=h.value}}return{mediaEntry:s.value,thumbnailMediaEntry:c}}),m.apply(this,arguments)}l.instamadilloUpload=d}),98);
__d("createInstamadilloMediaPayload",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.directPath,n=e.duration,o=e.fileEncSha256,a=e.fileLength,i=e.fileSha256,l=e.height,p=e.isAnimated,_=e.isSticker,f=e.mediaId,g=e.mediaKey,h=e.mediaKeyTimestamp,y=e.mediaType,C=e.mimetype,b=e.objectId,v=e.sidecar,S=e.thumbnail,R=e.waveforms,L=e.waveformSamplingFrequencyHz,E=e.width,k={directPath:t,fileEncSha256:o,fileLength:a,fileSha256:i,mediaId:f,mediaKey:g,mediaKeyTimestamp:h,mimetype:C,objectId:b,sidecar:v};switch(y){case"Image":return s(l,E,k,S);case"Video":return u(l,E,k,S);case"Ptt":if(R==null)throw r("FBLogger")("igd_web").mustfixThrow("createInstamadilloMedia: waveforms is null");return c(n,k,R,L);case"Gif":return d(l,E,k,_);case"Sticker":return m(k,p);default:throw r("FBLogger")("igd_web").mustfixThrow("createInstamadilloMedia: mediaType is unsupported")}}function s(e,t,n,r){return{staticPhoto:{height:e,mediaTransport:n,thumbnail:r,width:t}}}function u(e,t,n,r){return{video:{height:e,mediaTransport:n,thumbnail:r,width:t}}}function c(e,t,n,r){return{voice:{duration:e,mediaTransport:t,waveforms:n,waveformSamplingFrequencyHz:r}}}function d(e,t,n,r){return{gif:{height:e,isSticker:r,mediaTransport:n,width:t}}}function m(e,t){return{avatarSticker:{isAnimated:t,mediaTransport:e}}}l.createInstamadilloMediaEncode=e}),98);
__d("InstamadilloSendMediaMessageUtils",["FBLogger","I64","InstamadilloMediaUpload","LSIntEnum","MAWDbMsg","MAWFetchXMABlob","MAWFrontendMediaUtils","MAWMediaUtils","MAWReStoreDb","MessagingAttachmentType","ReQL","WABase64","WABlobToArrayBuffer","WAMediaUtils","WASortedLists","WATimeUtils","asyncToGeneratorRuntime","createInstamadilloMediaPayload"],(function(t,n,r,o,a,i,l){"use strict";var e=["$$unknownFieldCount"],s=["$$unknownFieldCount"],u,c;function d(e,t,n){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.attachments).getKeyRange(t,n));return r}),m.apply(this,arguments)}function p(e){return{validatedAudioInfo:_(e),validatedDocumentFileInfo:null,validatedImageInfo:f(e),validatedVideoInfo:g(e)}}function _(e){return(u||(u=o("I64"))).equal(e==null?void 0:e.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO))?{duration:e.playableDurationMs!=null?(u||(u=o("I64"))).to_float(e.playableDurationMs):0,mimetype:e.playableUrlMimeType}:null}function f(e){return(u||(u=o("I64"))).equal(e==null?void 0:e.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))?{height:e.previewHeight!=null?(u||(u=o("I64"))).to_float(e.previewHeight):0,width:e.previewWidth!=null?(u||(u=o("I64"))).to_float(e.previewWidth):0}:null}function g(e){return(u||(u=o("I64"))).equal(e==null?void 0:e.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))?{duration:e.playableDurationMs!=null?(u||(u=o("I64"))).to_float(e.playableDurationMs):0,height:e.previewHeight!=null?(u||(u=o("I64"))).to_float(e.previewHeight):0,mimetype:e.playableUrlMimeType,width:e.previewWidth!=null?(u||(u=o("I64"))).to_float(e.previewWidth):0}:null}function h(e){var t=e.directPath,n=e.fbid,r=e.fileEncSha256,a=e.fileSha256,i=e.mediaKey,l=e.mediaKeyTimestamp,s=e.objectId;return{directPath:t!=null?t:void 0,fileEncSha256:o("WABase64").encodeB64(r),fileSha256:o("WABase64").encodeB64(a),mediaId:n!=null?n:void 0,mediaKey:o("WABase64").encodeB64(i),mediaKeyTimestamp:String(l),objectId:s!=null?s:void 0}}function y(e,t){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a){var l,c=yield o("MAWFetchXMABlob").fetchBlob({descriptionForLogging:"InstamadilloSendMediaMessageUtils",url:a.playableUrl});if(c==null)throw r("FBLogger")("igd_web").mustfixThrow("Blob is null");var d=a.playableUrlMimeType;if(d==null)throw r("FBLogger")("igd_web").mustfixThrow("IGDSendMessageTaskHandler: mimeType is null");var m=o("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(d),_=m.mediaType,f=m.serverMediaType;if(_==null)throw r("FBLogger")("igd_web").mustfixThrow("handleInstamadilloMediaSends: mediaType is null");var g=yield o("MAWMediaUtils").genBlobHashes(c),y=g[0],C=g[1],b=yield o("MAWReStoreDb").getDB(i.id+":193"),v=yield b.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=yield e.e2ee_media.index("hashedPlaintextHash").get(C),r=new Map(n==null?void 0:n.mediaEntries),i=p(a),l,s=o("MAWDbMsg").stanzaIdToMsgId(t.externalId);if(n!=null){var u=o("WASortedLists").addToSet(n.msgIds,s);l=babelHelpers.extends({},n,i,{mediaEntries:r,msgIds:u})}else l=babelHelpers.extends({hashedPlaintextHash:C,mediaEntries:r,mediaType:_,msgIds:o("WASortedLists").singleElement(s),plaintextHash:y,size:c.size,ts:o("WATimeUtils").unixTime()},i);yield e.e2ee_media.put(l);var m=yield o("WABlobToArrayBuffer").blobToArrayBuffer(c),f=yield e.e2ee_chunk.index("hashedPlaintextHash").get(C);return f==null&&(yield e.e2ee_chunk.put({blobData:m,hashedPlaintextHash:C,mimetype:d,plaintextHash:y})),l});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":194"),S=new File([c],(l=a.filename)!=null?l:"",{type:d}),R=yield o("InstamadilloMediaUpload").instamadilloUpload(t,S,a),L=R.mediaEntry,E=R.thumbnailMediaEntry,k=babelHelpers.extends({},v,{objectId:L.objectId!=null?o("WAMediaUtils").stringToDeliveryObjectId(L.objectId):void 0});yield b.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield e.e2ee_media.put(k)});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":261");var I=h(L),T=I.$$unknownFieldCount,D=babelHelpers.objectWithoutPropertiesLoose(I,e),x=babelHelpers.extends({},D,{duration:a.playableDurationMs!=null?(u||(u=o("I64"))).to_int32(a.playableDurationMs):void 0,fileLength:S.size,height:a.previewHeight!=null?(u||(u=o("I64"))).to_int32(a.previewHeight):void 0,isAnimated:!1,isSticker:!1,mediaType:_,mimetype:d,sidecar:void 0,waveforms:a.waveformData!=null?a.waveformData.split(",").map(Number):void 0,waveformSamplingFrequencyHz:a.samplingFrequencyHz!=null?(u||(u=o("I64"))).to_int32(a.samplingFrequencyHz):void 0,width:a.previewWidth!=null?(u||(u=o("I64"))).to_int32(a.previewWidth):void 0});if(E!=null){var $=h(E),P=$.$$unknownFieldCount,N=babelHelpers.objectWithoutPropertiesLoose($,s),M={mediaTransport:N};x=babelHelpers.extends({},x,{thumbnail:M})}var w=o("createInstamadilloMediaPayload").createInstamadilloMediaEncode(x);return{media:k,mediaEncode:w,serverMediaType:f}}),C.apply(this,arguments)}l.getMediaAttachment=d,l.generateValidatedMediaInfoFromAttachment=p,l.prepareMediaProtobuf=y}),98);
__d("MAWDbChunk",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e}function l(e){return e}i.convertNumberToChunkId=e,i.convertToChunkId64=l}),66);
__d("IGDReportUserSpamJob",["FBLogger","I64","InstamadilloSendMediaMessageUtils","LSIntEnum","MAWDbChunk","MAWDbMedia","MAWDbMsg","MAWGetGroupInfoApi","MAWJids","MAWJobManager","MAWReStoreDb","MAWSpamReportUtils","Promise","WABase64","WADeprecatedSendIq","WAGlobals","WAJids","WAMediaUtils","WAResultOrError","WAWap","asyncToGeneratorRuntime","createInstamadilloMediaPayload","err","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){"use strict";var e=["$$unknownFieldCount"],s,u,c,d=o("MAWJobManager").getPersistedJobsApi().definePersistedJob().finalStep("reportUserSpam",(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.chatJid,a=e.context,i=e.frxParams,l=e.frxTags,s=e.msgs,u=e.reportedMessageId,c=e.spamFlow,d=e.userJid,p=null;if(l!=null){if(l.length===0)throw r("err")("spam reasons should not be an empty array");p=o("WAWap").wap("tagset",null,l.map(function(e){return o("WAWap").wap("tag",{value:o("WAWap").CUSTOM_STRING(e)})}))}var _=null;r("isStringNullOrEmpty")(i)||(_=o("WAWap").wap("parameters",null,i));var f=null;a!=null&&(f=o("WAWap").wap("context",null,a));var y=null;(p!=null||f!=null||_!=null)&&(y=o("WAWap").wap("frx",null,p,f,_));var C=yield m(s,t,d,u),b=yield o("WAJids").switchOnMsgrChatJidType(t,{group:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WAWap").DROP_ATTR,n=o("WAWap").DROP_ATTR,r=yield o("MAWGetGroupInfoApi").getGroupInfo(e);return r!=null&&r.subject!=null&&r.subject.content!=null&&(t=o("WAWap").CUSTOM_STRING(r.subject.content)),r!=null&&r.inviter!=null&&(n=o("WAWap").USER_JID(r.inviter)),g(C,e,d,n,t,c,y)});function t(t){return e.apply(this,arguments)}return t})(),user:function(){return h(C,d,c,y)}});return o("WADeprecatedSendIq").deprecatedCastStanza(b),o("WAResultOrError").makeResult()});return function(t){return e.apply(this,arguments)}})()).end();function m(e,t,r,a){var i=(e!=null?e:[]).map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=o("MAWJids").toUserJid((u||(u=o("I64"))).to_string(e.senderId)),i;if(e.transportKey==="Instamadillo"&&(u||(u=o("I64"))).equal(e.displayedContentTypes,(c||(c=o("LSIntEnum"))).ofNumber(2))&&(i=yield p(e)),o("WAJids").interpretAsGroupJid(t)!=null)return o("MAWSpamReportUtils").formatLSDbMsgForSpamReport(e,null,o("WAJids").toGroupJid(t),n);var l=(u||(u=o("I64"))).equal(e.senderId,(u||(u=o("I64"))).of_string(o("WAJids").userIdFromJid(o("WAGlobals").getMyUserJid())))?r:o("WAGlobals").getMyUserJid();return o("MAWSpamReportUtils").formatLSDbMsgForSpamReport(e,l,null,n,i,a===e.messageId)});return function(t){return e.apply(this,arguments)}})());return(s||(s=n("Promise"))).all(i)}function p(e){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=yield o("MAWReStoreDb").getDB(i.id+":244"),l=yield a.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=yield o("InstamadilloSendMediaMessageUtils").getMediaAttachment(e,t.threadKey,t.messageId);if(n==null)throw r("FBLogger")("igd_web").warn("IGDReportUserSpam: Tried to send a message with associated attachment");var a=o("MAWDbMedia").convertToMediaId64((u||(u=o("I64"))).of_string(n.attachmentFbid)),i=yield e.e2ee_media.get(a);if(i==null)throw r("FBLogger")("igd_web").warn("IGDReportUserSpam: Tried to send an E2EE media message without associated e2ee_media");var l=o("MAWDbChunk").convertToChunkId64(u.of_string(n.attachmentFbid)),s=yield e.e2ee_chunk.get(l);if(s==null)throw r("FBLogger")("igd_web").warn("IGDReportUserSpam: Tried to send an E2EE media message without associated e2ee_chunk");return{attachment:n,chunk:s,media:i}});return function(t){return e.apply(this,arguments)}})(),"readonly",void 0,void 0,i.id+":245"),s=l.attachment,c=l.media,d=o("MAWDbMsg").instamadilloMsgIdToMsgId(t.messageId);if(!c.msgIds.includes(d))throw r("FBLogger")("igd_web").warn("IGDReportUserSpam: media is not linked to this message");var m=c.mediaEntries.get(d);if(m==null)throw r("FBLogger")("igd_web").warn("IGDreportUserSpam: media entry not found");var p=o("WAMediaUtils").mediaEntryDataToRawData(c.plaintextHash,m),_=f(p),g=_.$$unknownFieldCount,h=babelHelpers.objectWithoutPropertiesLoose(_,e),y=babelHelpers.extends({},h,{duration:s.playableDurationMs!=null?(u||(u=o("I64"))).to_int32(s.playableDurationMs):void 0,fileLength:c.size!=null?c.size:void 0,height:s.previewHeight!=null?(u||(u=o("I64"))).to_int32(s.previewHeight):void 0,isAnimated:!1,isSticker:!1,mediaType:c.mediaType,mimetype:s.playableUrlMimeType,sidecar:void 0,waveforms:s.waveformData!=null?s.waveformData.split(",").map(Number):void 0,waveformSamplingFrequencyHz:s.samplingFrequencyHz!=null?(u||(u=o("I64"))).to_int32(s.samplingFrequencyHz):void 0,width:s.previewWidth!=null?(u||(u=o("I64"))).to_int32(s.previewWidth):void 0}),C=o("createInstamadilloMediaPayload").createInstamadilloMediaEncode(y);return C}),_.apply(this,arguments)}function f(e){var t=e.directPath,n=e.fbid,r=e.fileEncSha256,a=e.fileSha256,i=e.mediaKey,l=e.mediaKeyTimestamp,s=e.objectId;return{directPath:t!=null?t:void 0,fileEncSha256:r!=null?o("WABase64").encodeB64(r):void 0,fileSha256:a!=null?o("WABase64").encodeB64(a):void 0,mediaId:n!=null?n:void 0,mediaKey:i!=null?o("WABase64").encodeB64(i):void 0,mediaKeyTimestamp:String(l),objectId:s!=null?s:void 0}}function g(e,t,n,r,a,i,l){var s;return(s=o("WAWap")).wap("iq",{id:s.generateId(),to:s.S_WHATSAPP_NET,type:"set",xmlns:"spam"},s.wap("spam_list",{jid:s.GROUP_JID(t),reportee:s.USER_JID(n),source:r,spam_flow:s.CUSTOM_STRING(i),subject:a},e),l)}function h(e,t,n,r){var a;return(a=o("WAWap")).wap("iq",{id:a.generateId(),to:a.S_WHATSAPP_NET,type:"set",xmlns:"spam"},a.wap("spam_list",{jid:a.USER_JID(t),reportee:a.USER_JID(t),spam_flow:a.CUSTOM_STRING(n)},e),r)}l.igdReportUserSpam=d}),98);
__d("IGDStartInstamadilloDYIJob",["EncryptedBackupsDYISingleton","EncryptedBackupsDYITypes","MAWJobManager","MAWReStoreDb","asyncToGeneratorRuntime","cr:1288"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MAWJobManager").getPersistedJobsApi().definePersistedJob().finalStep("startInstamadilloDYI",(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=t.qplInstanceKey;o("EncryptedBackupsDYISingleton").initSingleton(o("EncryptedBackupsDYITypes").EncryptedBackupsDYIConfig.Instamadillo,o("MAWReStoreDb").getDB,r);var a=o("EncryptedBackupsDYISingleton").getSingleton(),i=a.getLogger();i.LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Started job startInstamadilloDYI"]))),a.logDYIQPLPoint("instamadillo_dyi_job_start"),n("cr:1288")!=null?(yield n("cr:1288").getInstance().startDYI(),a.logDYIQPLPoint("instamadillo_dyi_started")):i.ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Instamadillo DYI not enabled"])))});return function(e){return t.apply(this,arguments)}})()).end();l.startInstamadilloDYI=u}),98);
__d("IGDJobHandlers",["IGDReportUserSpamJob","IGDStartInstamadilloDYIJob","MAWCreateJobNotImplemented"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e;return{acceptGroupInvite:(e=o("MAWCreateJobNotImplemented")).createNotImplementedJob("acceptGroupInvite"),addGroupParticipants:e.createNotImplementedJob("addGroupParticipants"),createGroup:e.createNotImplementedJob("createGroup"),deleteMsgsForMe:e.createNotImplementedJob("deleteMsgsForMe"),deleteThread:e.createNotImplementedJob("deleteThread"),demoteGroupParticipants:e.createNotImplementedJob("demoteGroupParticipants"),downloadAndHandleMedia:e.createNotImplementedJob("downloadAndHandleMedia"),downloadAndRestoreMedia:e.createNotImplementedJob("downloadAndRestoreMedia"),getSpams:e.createNotImplementedJob("getSpams"),handleFutureproofMsg:e.createNotImplementedJob("handleFutureproofMsg"),handleSpamMsg:e.createNotImplementedJob("handleSpamMsg"),igdReportUserSpam:o("IGDReportUserSpamJob").igdReportUserSpam,leaveGroups:e.createNotImplementedJob("leaveGroups"),markThreadAsRead:e.createNotImplementedJob("markThreadAsRead"),promoteGroupParticipants:e.createNotImplementedJob("promoteGroupParticipants"),removeGroupParticipants:e.createNotImplementedJob("removeGroupParticipants"),reportUserSpam:e.createNotImplementedJob("reportUserSpam"),requestReuploadMedia:e.createNotImplementedJob("requestReuploadMedia"),resendWrittenAppData:e.createNotImplementedJob("resendWrittenAppData"),restoreProtobufsFromEncryptedBackups:e.createNotImplementedJob("restoreProtobufsFromEncryptedBackups"),restoreThreadsFromEncryptedBackups:e.createNotImplementedJob("restoreThreadsFromEncryptedBackups"),reuploadMedia:e.createNotImplementedJob("reuploadMedia"),sendAppData:e.createNotImplementedJob("sendAppData"),sendGroupInviteMsg:e.createNotImplementedJob("sendGroupInviteMsg"),sendWrittenAppData:e.createNotImplementedJob("sendWrittenAppData"),setGroupSubject:e.createNotImplementedJob("setGroupSubject"),startInstamadilloDYI:o("IGDStartInstamadilloDYIJob").startInstamadilloDYI,updateBackupEntFbidForMedia:e.createNotImplementedJob("updateBackupEntFbidForMedia")}}l.getJobHandlers=e}),98);
__d("IGDLoadRecentParticipantsApi",["I64","LSIntEnum","MAWReStoreDb","ReQL","WAJids","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var r=yield o("MAWReStoreDb").getDB(i.id+":30"),a=yield o("ReQL").toArrayAsync(o("ReQL").fromTableDescending(r.tables.threads.index("lastActivityTimestampMs")).filter(function(t){return(e||(e=o("I64"))).equal(t.threadType,(s||(s=o("LSIntEnum"))).ofNumber(1))}).take(t)),l=[];return a.forEach(function(t){var r=o("WAJids").interpretAsUserJid(o("WAJids").toMsgrUserJid((e||(e=o("I64"))).to_string(t.threadKey)));r!=null&&r!==n&&l.push(r)}),new Set(l)});return function(n,r){return t.apply(this,arguments)}})();l.loadRecentParticipants=u}),98);
__d("InstamadilloBackend",["cr:10745","cr:10746","cr:10747","cr:4772","cr:4849","cr:7098","cr:7691","cr:8224","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e=n("cr:7098"))!=null?e:n("cr:10746"),c=(s=n("cr:4849"))!=null?s:n("cr:10747");function d(e){c!=null&&r("promiseDone")(c.setDeviceJid(e.deviceJid)),n("cr:8224")==null||n("cr:8224").initEbUploadQueue(),n("cr:7691")==null||n("cr:7691").initIGDEbRestoreProcessor(),n("cr:4772")==null||n("cr:4772").listenForEbUploadQueueFlush(),u!=null&&(u.initPendingMessageStanzaQueue(),r("promiseDone")(u.processFutureproofPendingMessageStanzas())),n("cr:10745")==null||n("cr:10745").startIGDDisappearingMsgCleaner()}l.init=d}),98);
__d("MAWDebugDefineFunctions",["MAWDebug","MAWDebugSendMultipleMsgs"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return{desc:e,execute:t,name:e,serializedArgs:[]}}function s(){var t=Object.keys(o("MAWDebug").MAWDebugFuncs).reduce(function(t,n){var r;return Object.assign(t,(r={},r[n]=e(n,o("MAWDebug").MAWDebugFuncs[n]),r))},{});return babelHelpers.extends({},t,{sendMultipleMsgs:o("MAWDebugSendMultipleMsgs").sendMultipleMsgs})}l.getAllDebugFunctions=s}),98);
__d("MAWServerRPC",["MAWHandleAbPropsRefreshNotification","MAWHandleAppdataMessage","MAWHandleChatState","MAWHandleFailure","MAWHandleFbDeviceChangeNotification","MAWHandleFbMultiwayNotification","MAWHandleFbThreadNotification","MAWHandleGroupNotification","MAWHandleGroupReceipt","MAWHandleGroupRetryReceipt","MAWHandleIndividualRetryReceipt","MAWHandleLoginSuccess","MAWHandlePeerAppdataReceipt","MAWHandlePeerAppdataRetryReceipt","MAWHandleRtcE2eeCallEventNotification","MAWHandleSpam","MAWHandleThreadMetadata","Promise","WAHandleErrorStanza","WAHandleIncomingMsg","WAHandleInfoBulletin","WAHandlePrekeyContactIDChangedNotification","WAHandlePrekeyDigestNotification","WAHandlePrekeyLowCountNotification","WAHandleReceipt","WAHandleServerPing","WAHandleStreamError","WALogger","WAServerRPC"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(){var t;return o("WAServerRPC").makeServerRPC({abprops:{handleAbPropsRefreshNotification:o("MAWHandleAbPropsRefreshNotification").handleAbPropsRefreshNotification},accountSync:null,appdataMessage:{handleAppdataMessage:o("MAWHandleAppdataMessage").handleAppdataMessage,handlePeerAppdataReceipt:o("MAWHandlePeerAppdataReceipt").handlePeerAppdataReceipt,handlePeerAppdataRetryReceipt:o("MAWHandlePeerAppdataRetryReceipt").handlePeerAppdataRetryReceipt},broadcast:{handleBroadcastMessage:function(r){var t=r.makeAck;return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Broadcast messages are not supported"]))),(u||(u=n("Promise"))).resolve(t())}},call:{handleRtcE2eeCallEvent:o("MAWHandleRtcE2eeCallEventNotification").handleRtcE2eeCallEventNotification},clientLog:null,comms:{handleEdgeRoutingInfo:o("WAHandleInfoBulletin").handleEdgeRoutingInfo,handleServerPing:o("WAHandleServerPing").handleServerPing},error:{handleErrorStanza:o("WAHandleErrorStanza").handleErrorStanza,handleSmaxErrorStanza:o("WAHandleErrorStanza").handleSmaxErrorStanza},fb:{handleFbDeviceChangeNotification:o("MAWHandleFbDeviceChangeNotification").handleFbDeviceChangeNotification,handleFbMultiwayNotification:o("MAWHandleFbMultiwayNotification").handleFbMultiwayNotification,handleFbThreadNotification:o("MAWHandleFbThreadNotification").handleFbThreadNotification},groupMessage:{handleGroupChatState:o("MAWHandleChatState").handleGroupChatState,handleGroupDirtyBit:null,handleGroupMessage:o("WAHandleIncomingMsg").handleGroupMessage,handleGroupNotification:o("MAWHandleGroupNotification").handleGroupNotification,handleGroupReceipt:o("MAWHandleGroupReceipt").handleGroupReceipt,handleGroupRetryReceipt:o("MAWHandleGroupRetryReceipt").handleGroupRetryReceipt},individualMessage:{handleIndividualChatState:o("MAWHandleChatState").handleIndividualChatState,handleIndividualMessage:o("WAHandleIncomingMsg").handleIncomingIndividualMsg,handleIndividualReceipt:o("WAHandleReceipt").handleIndividualReceipt,handleIndividualRetryReceipt:o("MAWHandleIndividualRetryReceipt").handleIndividualRetryReceipt},login:{handleLoginFailure:o("MAWHandleFailure").handleLoginFailure,handleLoginSuccess:o("MAWHandleLoginSuccess").handleLoginSuccess},md:null,newsletter:null,offline:{handleOfflineEnd:o("WAHandleInfoBulletin").handleOfflineEnd,handleOfflineStart:o("WAHandleInfoBulletin").handleOfflineStart,handleThreadMetadata:o("MAWHandleThreadMetadata").handleThreadMetadata},peerMessage:{handlePeerMessage:function(t){var e=t.makeAck;return o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Peer messages are not supported"]))),(u||(u=n("Promise"))).resolve(e())}},prekey:{handlePrekeyContactIDChangedNotification:o("WAHandlePrekeyContactIDChangedNotification").handlePrekeyContactIDChangedNotification,handlePrekeyDigestNotification:o("WAHandlePrekeyDigestNotification").handlePrekeyDigestNotification,handlePrekeyLowCountNotification:o("WAHandlePrekeyLowCountNotification").handlePrekeyLowCountNotification},presence:null,serverProps:null,spam:{handleSpam:o("MAWHandleSpam").handleSpam},status:null,streamError:{handleAckKick:(t=o("WAHandleStreamError")).handleAckKick,handleBadMac:t.handleBadMac,handleConflict:t.handleConflict,handlePingKick:t.handlePingKick,handleStreamErrorCode:t.handleStreamErrorCode,handleXmlNotWellFormed:t.handleXmlNotWellFormed},syncd:null,usync:null})}l.makeServerRPC=c}),98);
__d("WADebugTools",["WADevToolsDebugFns"],(function(t,n,r,o,a,i,l){"use strict";function e(e){self.Debug==null&&(self.Debug={});var t=function(){var t=e[n];self.Debug[t.name]=function(){return t.execute.apply(t,arguments)}};for(var n in e)t();o("WADevToolsDebugFns").registerDebugFnsToDevTool(e)}l.initDebugFunctions=e}),98);
__d("IGDBackend",["IGDAWDebug","IGDAWMainWebWorkerConfig","IGDBackendBridgeHandlers","IGDCOP","IGDJobHandlers","IGDLoadRecentParticipantsApi","InstamadilloBackend","MAWClearSignalAndTempStores","MAWCommsConfig","MAWConfig","MAWCreateGroupApi","MAWCurrentUser","MAWDebugDefineFunctions","MAWDefinePersistedJob","MAWEphemeralConsts","MAWExternalId","MAWExtractMsFromExternalId","MAWFbCat","MAWHandleReachabilityErrorAdminMsgApi","MAWMpsBridgeHandlers","MAWQplProxy","MAWReStoreDb","MAWServerRPC","MAWSharedOfflineQueueMetric","MAWSharedOfflineResumeUINotifier","MAWTaskDefinitions","Promise","WAArrayBufferUtils","WADebugTools","WAMessageLoggingPublisher","WAMockServerShell","WAPassiveMode","WAQueryGroupOverChatD","WAService","WATagsLogger","WAWaitForComms","WAWaitForUserUnblocked","asyncToGeneratorRuntime","isUseridAnnotationEnabled","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=o("WATagsLogger").TAGS(["backend"]);function p(e,t,n,r,o){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i,l,p){m.LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["initWAInfra"]))),m.LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["deviceJid: ",""])),t.deviceJid),o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(25310776,"6155"),"igd_backend_setup_start"),o("MAWFbCat").setFbCat(o("WAArrayBufferUtils").stringToArrayBuffer(t.fbCat));var _=o("MAWServerRPC").makeServerRPC(),f=yield o("WAService").makeWAService({config:p,dependencies:{clearSignalAndTempStores:o("MAWClearSignalAndTempStores").clearSignalAndTempStores,createGroups:o("MAWCreateGroupApi").createGroups,ephemeralMaxDeletionWindowForUnseenMessage:function(){return o("MAWEphemeralConsts").ephemeralMaxDelectionWindowForUnseenMessage},extractMsFromStanzaId:o("MAWExtractMsFromExternalId").extractMsFromStanzaId,generateExternalId:o("MAWExternalId").generateExternalId,handleReachabilityErrorAdminMsg:o("MAWHandleReachabilityErrorAdminMsgApi").handleReachabilityErrorAdminMsg,isEmployee:o("MAWCurrentUser").isEmployee,isUseridAnnotationEnabled:r("isUseridAnnotationEnabled"),loadRecentParticipants:o("MAWReStoreDb").shouldUseReStoreDb()?o("IGDLoadRecentParticipantsApi").loadRecentParticipants:function(){return(d||(d=n("Promise"))).resolve(new Set)},mediaUploadRoot:function(){return"/wa-igd/mms"},queryGroup:o("WAQueryGroupOverChatD").queryGroupOverChatD,recordDeviceChangeHistory:function(){return(d||(d=n("Promise"))).resolve()}},getCommsConfig:o("MAWCommsConfig").getCommsConfig,hmacKey:a,newClockSkewCalculation:function(){return!0},qpl:{franking:r("qpl")._(25299246,"150"),messageReceiveReliability:r("qpl")._(25306682,"11176")},regData:t,serverRPC:_}).catch(function(e){throw m.ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Failed to init worker (post-startup): ",""])),e),e}),g=o("MAWSharedOfflineQueueMetric").makeOfflineQueueMetric(f.oneQueue,o("WAPassiveMode").passiveModeNotifier,o("WAMessageLoggingPublisher").messageLoggingPublisher);o("MAWConfig").setConfig(o("IGDAWMainWebWorkerConfig").mawConfig),o("IGDCOP").cop.subscribeToOfflineQueue(f.oneQueue,f.protocolQueue),o("MAWSharedOfflineResumeUINotifier").offlineResumeUINotifier.subscribeToWAEvents(f.oneQueue),o("MAWSharedOfflineResumeUINotifier").offlineResumeUINotifier.subscribeToMawEvents(o("IGDCOP").cop),o("WAMockServerShell").isMockServerMode||r("promiseDone")(o("WAWaitForComms").waitForComms().then(function(){return o("MAWTaskDefinitions").registerTasks(o("WAWaitForUserUnblocked").waitForUserUnblocked())})),i.setHandlers("backend",o("IGDBackendBridgeHandlers").getIGDBridgeHandlers(m)),i.setHandlers("mps",o("MAWMpsBridgeHandlers").mpsBridgeHandlers),o("InstamadilloBackend").init(t),o("MAWDefinePersistedJob").setMsgrJobImplementations(o("IGDJobHandlers").getJobHandlers()),yield f.startComms(),m.LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Worker inited"]))),o("WAWaitForComms").unblockComms(),o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(25310776,"6155"),"igd_backend_setup_end")}),_.apply(this,arguments)}l.startIGDBackend=p}),98);
__d("IGDLowLevelApiImpl",["IGDLowLevelApiBridgeHandlers"],(function(t,n,r,o,a,i,l){"use strict";function e(){return{bridgeHandlers:o("IGDLowLevelApiBridgeHandlers").igdBridgeHandlers}}l.makeLowLevelApi=e}),98);
__d("MAWBackendBridgeSetup",["EBSMBridgeHandlers","MAWBridge","MAWBridgeODSLogger","WAAPIBridgeHandlers","WACrossWorkerPortal","WAResultOrError","getErrorSafe","justknobx","pageID"],(function(t,n,r,o,a,i,l){"use strict";function e(e){try{var t=s();return t.setPort(e.getBridgePort()),o("WAResultOrError").makeResult(null)}catch(e){return o("WAResultOrError").makeError(r("getErrorSafe")(e))}}function s(){var e=o("MAWBridge").getBridge();e.setHandlers("waapi",o("WAAPIBridgeHandlers").waapiBridgeHandlers),e.setHandlers("ebsmapi",o("EBSMBridgeHandlers").ebsmapiBridgeHandlers);var t={bridgeBatcherMaxTokens:Number.MAX_SAFE_INTEGER};r("justknobx")._("5256")&&(t=babelHelpers.extends({},t,{onSendAcross:o("MAWBridgeODSLogger").logCrossWorkerPortalODS}));var n=o("WACrossWorkerPortal").attachPortal(e,["event","threadEvent"],function(e,t){var n=e.length>0?e[e.length-1]:null;return n!=null&&n.type==="request"&&n.content.name==="uiUpdate"&&n.content.arg.events&&t.type==="request"&&t.content.name==="uiUpdate"?Array.prototype.push.apply(n.content.arg.events,t.content.arg.events):e.push(t),e},r("pageID"),t);return n}l.initWorkerBridge=e}),98);
__d("MAWCompareWorkerSetupArgs",["BackendInitLoggingUtils","FBLogger","MAWCurrentUser","MessengerWebInitData","WACryptoUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){if(e.prefixAndSuffix!==t.prefixAndSuffix)return!1;var n=e.encryptionKey,a=t.encryptionKey;if(n==null&&a==null)return!0;if(n==null&&a!=null||n!=null&&a==null)return!1;if(n==null||a==null)throw r("FBLogger")("messenger_web").mustfixThrow("encryptionKeyA and encryptionKeyB cannot be null at this point");return o("WACryptoUtils").arrayBuffersEqual(n,a)}function s(t,n){if(r("MessengerWebInitData").sessionId===n.sessionId?o("BackendInitLoggingUtils").MAWInitPoint("setup_args_session_ids_match"):o("BackendInitLoggingUtils").MAWInitPoint("setup_args_session_ids_mismatch"),n.sessionId!==r("MessengerWebInitData").sessionId){var a=!0;if(r("MessengerWebInitData").createdAt!=null&&n.createdAt!=null&&(a=n.createdAt>r("MessengerWebInitData").createdAt),n.createdAt==null&&r("MessengerWebInitData").createdAt!=null&&(a=!1),a)return o("BackendInitLoggingUtils").MAWInitPoint("setup_args_current_session_ids_mismatch"),{hasArgsChanged:!0,reason:"session_id_change"}}var i=o("MAWCurrentUser").getID();return n.fbId!==i?(r("FBLogger")("messenger_web").mustfix("FBID mismatch during worker setup. %s:%s:%s:%s",i==="0",i.length,n.fbId==="0",n.fbId.length),{hasArgsChanged:!0,reason:"fbid_change"}):(o("BackendInitLoggingUtils").MAWInitPoint("setup_args_fb_ids_match"),e(n.vaultMaterials,t.vaultMaterials)?{hasArgsChanged:!1,reason:"args_ok"}:{hasArgsChanged:!0,reason:"vault_materials_change"})}l.didWorkerSetupArgsChange=s}),98);
__d("MAWDeviceRegistrationODSBump",["MAWCurrentUser","MAWODSProxy","WAOdsEnums"],(function(t,n,r,o,a,i,l){"use strict";function e(e){o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.DEVICE_REGISTRATION,key:e}),o("MAWCurrentUser").isEmployee()||o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.DEVICE_REGISTRATION_NON_EMPLOYEE,key:e})}l.default=e}),98);
__d("MAWCryptoAuthTokenWrapper",["MessengerWebInitData"],(function(t,n,r,o,a,i,l){"use strict";function e(){return o("MessengerWebInitData").cryptoAuthToken}l.getCryptoAuthToken=e}),98);
__d("WASignedKeyApi",["WASignalDB"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("WASignalDB").getDb().runInTransaction(["signedPrekey"],"readonly",function(t){return t.stores.signedPrekey.get(e)},o("WASignalDB").signalOp("getSignedKey"))}l.getSignedKey=e}),98);
__d("MAWDeviceRegistrationActions",["MAWLoggerUtils","MAWODSProxy","MWFBLogger","MessengerWebInitData","WADbSignal","WAGetRegistrationInfoApi","WAOdsEnums","WASignedKeyApi","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f="Device registration meta is incomplete: ",g=o("MWFBLogger").MWLogger().tags([o("MAWLoggerUtils").Tag.DeviceRegistration]);function h(t,n,r,a,i){(t!=null||n!=null||r!=null||a!=null||i!=null)&&(t==null&&g.MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["",": ",""])),f,o("WADbSignal").MetaKeysEnum.lastSignedPrekeyId),n==null&&g.MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["",": ",""])),f,o("WADbSignal").MetaKeysEnum.deviceUUID),r==null&&g.MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["",": ",""])),f,o("WADbSignal").MetaKeysEnum.regId),a==null&&g.MUSTFIX(c||(c=babelHelpers.taggedTemplateLiteralLoose(["",": ",""])),f,o("WADbSignal").MetaKeysEnum.identityKeyPair),i==null&&g.MUSTFIX(d||(d=babelHelpers.taggedTemplateLiteralLoose(["",": ",""])),f,o("WADbSignal").MetaKeysEnum.fbid))}function y(){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WAGetRegistrationInfoApi").getRegistrationInfo(),t=e.deviceId,n=e.deviceUUID,a=e.fbid,i=e.identityCompareResult,l=e.identityKeyPair,s=e.lastSessionDeviceWasLinkedTo,u=e.lastSignedPrekeyId,c=e.regId,d=e.registrationUnixTime,y=e.registrationVersion;if(i||o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.COMPARE_IDENTITY,key:"meta_identity_mismatch"}),u==null||n==null||c==null||l==null||a==null)return h(u,n,c,l,a),null;if(r("MessengerWebInitData").sessionId==null&&g.MUSTFIX(m||(m=babelHelpers.taggedTemplateLiteralLoose(["MAWDeviceRegistrationActions: sessionId is null"]))),t!=null&&typeof t!="number")return g.MUSTFIX(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[Device Registration Meta Check] Device Id should be a number"]))),null;var C=yield o("WASignedKeyApi").getSignedKey(u);return C==null?(g.MUSTFIX(_||(_=babelHelpers.taggedTemplateLiteralLoose(["",": signedPrekey}"])),f),null):{deviceId:t,deviceUUID:n,identityCompareResult:i,lastSessionDeviceWasLinkedTo:s,lastSignedPrekeyId:u,registrationUnixTime:d,registrationVersion:y!=null?y:void 0,signalRegInfo:{identityKeyPair:l,regId:c,signedPreKey:C}}}),C.apply(this,arguments)}l.getRegistrationMetaWorm=y}),98);
__d("XArmadilloWebLinkDeviceToSessionControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/messenger/armadillo/link_device/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("MAWDeviceRegistrationSessionUtil",["CSRFGuard","CurrentMessengerUser","DTSG","DTSGUtils","MAWLoggerUtils","MWFBLogger","PHPQuerySerializer","SprinkleConfig","WAAPI","WAWorkerGlobalScope","XArmadilloWebLinkDeviceToSessionControllerRouteBuilder","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_=o("MWFBLogger").MWLogger().tags([o("MAWLoggerUtils").Tag.DeviceRegistration,"LinkDeviceToTheSession"]);function f(e,t){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var a,i,l,f=(a=o("WAWorkerGlobalScope").workerGlobalScope.location)==null?void 0:a.origin;if(!(f==null||f==="")&&!(o("CurrentMessengerUser").isTestUser()&&f.includes("twshared"))){if(t==null){_.MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["DeviceUUID is null"])));return}var g=new URL(f).hostname,h=(i=r("XArmadilloWebLinkDeviceToSessionControllerRouteBuilder").buildUri({}).setDomain(g))==null||(i=i.setProtocol("https"))==null?void 0:i.toString();if(h!=null){var y=o("DTSG").getToken();if(y!=null){var C={device_id:t,fb_dtsg:y};r("SprinkleConfig").param_name&&(C[r("SprinkleConfig").param_name]=r("DTSGUtils").getNumericValue(y));var b=o("WAWorkerGlobalScope").workerGlobalScope.fetch,v;try{v=yield b(h,{body:(p||(p=r("PHPQuerySerializer"))).serialize(C),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",redirect:"error"})}catch(e){_.catching(r("getErrorSafe")(e)).MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Fetch error, fetch defined: ",""])),b!=null);return}if(!v.ok){_.MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Fetch is not 200: ",""])),v.status);return}var S=yield v.text();o("CSRFGuard").exists(S)&&(S=o("CSRFGuard").clean(S));var R;try{R=JSON.parse(S)}catch(e){_.catching(r("getErrorSafe")(e)).MUSTFIX(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Parse response error"])));return}((l=R)==null?void 0:l.success)===!0?(_.DEBUG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["LinkDeviceToTheSession success"]))),yield r("WAAPI").saveLastSessionDeviceWasLinkedTo({sessionId:n})):_.WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["fetch result is not succesful"])))}}}}),g.apply(this,arguments)}l.linkDeviceToTheSession=f}),98);
__d("WAIdentityApi",["WASignalDB"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return o("WASignalDB").getDb().runInTransaction(["identity"],"readwrite",function(e){return e.stores.identity.bulkPut([t])},o("WASignalDB").signalOp("saveIdentity")).then(function(){})};l.saveIdentity=e}),98);
__d("WMIRateLimitSchema",[],(function(t,n,r,o,a,i){"use strict";var e={autoIncrement:!0,indexes:{by_key_and_timestamp:{fields:["key","timestamp"],unique:!1},key:{fields:["key"],unique:!1}},primaryKey:"id",secure:!1},l={rateLimitAttempts:e};i.schemaConfig=l}),66);
__d("WMIRateLimitDb",["MAWCurrentUser","MAWIndexedDbMetadata","MAWWormOdsLogger","MessengerWebInitData","WAHex","WMIRateLimitSchema","Worm","WormEAR","WormIDbDriver","asyncToGeneratorRuntime","memoizeWithArgs","nullthrows","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=o("MAWCurrentUser").getID(),t=o("MAWIndexedDbMetadata").wmiRateLimitDbName(e),n="wmi_rate_limit",a=r("qpl")._(1056840657,"2716"),i=r("nullthrows")(r("MessengerWebInitData").accountKeyV2),l=o("WAHex").parseHex(i),s=new(o("WormEAR")).WormEAR(o("WMIRateLimitSchema").schemaConfig,n,l),u=new(o("WormIDbDriver")).WormIDbDriver(t,n,o("WMIRateLimitSchema").schemaConfig,s,o("MAWWormOdsLogger").wormOdsWorkerLogger),c=new(o("Worm")).WormDatabase(u,a);return yield c.init(),c}),s.apply(this,arguments)}var u=r("memoizeWithArgs")(function(){return e()},function(){return"cache"});l.getRateLimitDb=u}),98);
__d("WMIRateLimiter",["WATimeUtils","WMIRateLimitDb","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.key,r=e.limit,a=e.windowMs,i=o("WATimeUtils").unixTimeMs(),l=i-a,s=yield o("WMIRateLimitDb").getRateLimitDb(),u=yield s.runInTransaction(["rateLimitAttempts"],"readwrite",(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=yield e.stores.rateLimitAttempts.readIndexRange("by_key_and_timestamp",{greaterThanOrEqual:[t,o("WATimeUtils").castMilliSecondsToUnixTime(l)]}),r=yield e.stores.rateLimitAttempts.readIndexRange("by_key_and_timestamp",{greaterThanOrEqual:[t,o("WATimeUtils").castMilliSecondsToUnixTime(0)],lessThan:[t,o("WATimeUtils").castMilliSecondsToUnixTime(l)]});if(r.length>0){var a=r.map(function(e){return e.id});yield e.stores.rateLimitAttempts.bulkDelete(a)}return n.length});return function(t){return e.apply(this,arguments)}})(),"checkRateLimit"),c=u>=r;return{currentCount:u,limitBreached:c}}),s.apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("WMIRateLimitDb").getRateLimitDb(),r=o("WATimeUtils").castMilliSecondsToUnixTime(o("WATimeUtils").unixTimeMs()),a=yield t.runInTransaction(["rateLimitAttempts"],"readwrite",(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n={key:e,timestamp:r},o=yield t.stores.rateLimitAttempts.bulkAdd([n]),a=o[0];return{id:a,key:e,timestamp:r}});return function(e){return t.apply(this,arguments)}})(),"recordAttempt");return a}),c.apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=yield e(t);return n.limitBreached||(yield u(t.key)),n}),m.apply(this,arguments)}l.queryRateLimitStore=e,l.recordAttempt=u,l.checkAndRecordAttempt=d}),98);
__d("MAWDeviceRegistrationWorker",["IGDWebUtils","MAWClearSignalAndTempStores","MAWCryptoAuthTokenWrapper","MAWCurrentUser","MAWDeviceRegistrationActions","MAWDeviceRegistrationODSBump","MAWDeviceRegistrationSessionUtil","MAWDeviceRegistrationUtilWorker","MAWJids","MAWLoggerUtils","MAWODSProxy","MAWQplProxy","MWFBLogger","MessengerWebInitData","Promise","QPLFlow","UserAgentData","WADbDeviceRegistration","WADbMetaTxns","WADbRegistrationApi","WAICDCUtils","WAIdentityApi","WAIdentityUtils","WAJids","WAMockServerShell","WAOdsEnums","WAPreRegistrationCrypto","WASignalKeys","WATimeUtils","WMIRateLimiter","asyncToGeneratorRuntime","cr:7755","getErrorSafe","getSafeQplErrorMessage","justknobx","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h,y,C=r("justknobx")._("3282"),b=r("justknobx")._("3325"),v={key:"device_registration",limit:b,windowMs:3600*1e3},S=o("MWFBLogger").MWLogger().tags([o("MAWLoggerUtils").Tag.DeviceRegistration]),R=function(){return o("IGDWebUtils").isInstagramWebSupportedApp(Number(o("MAWCurrentUser").getAppID()))};function L(e){return e===0x453bf7349370c||e===936619743392459||e===487152425211411||e===0x3ae327b82f808?"instagram.com":e===772021112871879?"messenger.com":e===0x7e36f3fcc43bc?"facebook.com":"unknown"}function E(e,t){return t===void 0&&(t=400),{message:e,registrationState:{type:o("WADbDeviceRegistration").RegistrationStatesEnum.failed},status:t}}function k(e,t,n){return I.apply(this,arguments)}function I(){return I=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a){var i,l=$(t,a);S.DEBUG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Beginning device registration"])));var s=yield o("MAWDeviceRegistrationUtilWorker").createNewRegistrationMeta();l.addPoint("registration_created"),t.addAnnotations({string:{unique_device_id:s.deviceUUID}}),yield o("WADbRegistrationApi").saveRegistrationMeta(o("MAWCurrentUser").getID(),s),l.addPoint("registration_saved");var d=o("MAWCurrentUser").getID(),m=s.deviceUUID,p=o("WAPreRegistrationCrypto").serializeRegistrationData(s.signalRegInfo),_=null,f=!1,g=(i=f?0x39f22521e351a:o("MAWCurrentUser").getAppID())==null?void 0:i.toString();if(g==null)return E("appId is null, cannot register to WhatsApp");if(d==="0")return E(o("WADbDeviceRegistration").DEVICE_REGISTER_ERROR_ZERO_AS_USER_ID);var h=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var t=yield o("QPLFlow").QplSubspan.wrapInSubspan(l,"icdc_fetch",function(){return o("MAWDeviceRegistrationUtilWorker").fetchICDC(d,e.encrypted_serialized_cat,g,m)});return o("QPLFlow").QplSubspan.wrapInSubspan(l,"icdc_compute",n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=[].concat(o("WAICDCUtils").base64DeviceIdentitiesToSerializedPubKeys(t.device_identities));if(t.curr_identity_idx!=null){var n=t.curr_identity_idx;e[n]=o("WASignalKeys").serializeIdentity(p.identityPubKey)}else e.push(o("WASignalKeys").serializeIdentity(p.identityPubKey));var r=o("WAICDCUtils").computeICDCInfoForUpload(s.signalRegInfo.identityKeyPair,t.icdc_seq,e,"registration","registration"),a=yield o("WAIdentityUtils").computeIdentitiesHash(e);return{icdc:r,ihash:a}}))}catch(e){S.catching(r("getErrorSafe")(e)).MUSTFIX(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Cannot process ICDC payload during registration"])))}return{icdc:null,ihash:null}});return function(){return t.apply(this,arguments)}})(),y=yield h(),C=y.icdc,b=y.ihash,v=!1;try{var L,k=yield o("MAWDeviceRegistrationUtilWorker").register(d,e.encrypted_serialized_cat,g,m,p.regId,p.identityPubKeyType,p.identityPubKey,p.signedPreKey,C&&b?{ihash:b,seq:C.icdcInfo.seq,signedICDCIdentityList:C.encodedSignedICDC,ts:C.icdcInfo.timestamp}:null);l.addPoint("device_registered");var I=k==null?void 0:k.type;if(I!=null&&o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.REGISTRATION_TYPE,key:I}),!k||!(k!=null&&k.success)){var T,D;return{message:(T=k==null?void 0:k.message)!=null?T:o("WADbDeviceRegistration").NULL_RESPONSE_FROM_SERVER,registrationState:{type:o("WADbDeviceRegistration").RegistrationStatesEnum.failed},status:(D=k==null?void 0:k.status)!=null?D:"400"}}_=k.wa_device_id,v=(L=k.icdc_success)!=null?L:!1}catch(e){return E(o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e))}if(_==null)return E(o("WADbDeviceRegistration").NULL_RESPONSE_FROM_SERVER);var x=o("MAWJids").toUserJid(d);if(!R()){var P=r("MessengerWebInitData").sessionId;P!=null&&r("promiseDone")(o("MAWDeviceRegistrationSessionUtil").linkDeviceToTheSession(m,P))}if(C!=null&&v){var N=C.icdcInfo;yield o("WADbRegistrationApi").saveICDC(x,{devices:N.devices,dirty:!0,sequence:N.seq,signingDeviceIndex:N.signingDeviceIndex,timestamp:N.timestamp}),t.addPoint("icdc_saved")}yield o("WADbRegistrationApi").saveDeviceId(_),t.addPoint("device_saved");var M={deviceJid:o("WAJids").toDeviceJid(x,_),identity:o("WASignalKeys").serializeIdentity(s.signalRegInfo.identityKeyPair.publicKey),userJid:x};return yield o("WAIdentityApi").saveIdentity(M),t.addPoint("identity_saved"),{message:o("WADbDeviceRegistration").DEVICE_SUCCESSFULLY_REGISTERED,registrationState:{registrationTime:s.registrationUnixTime,type:o("WADbDeviceRegistration").RegistrationStatesEnum.finished},status:200}}),I.apply(this,arguments)}function T(e,t){return D.apply(this,arguments)}function D(){return D=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var a=o("MAWQplProxy").startQplUserFlow(r("qpl")._(25307273,"1410"),{string:{browser_name:r("UserAgentData").browserName,device_os:r("UserAgentData").platformName,device_os_version:r("UserAgentData").platformVersion,interface:L(Number(o("MAWCurrentUser").getAppID()))}},{providedTimeoutInMs:2e4}),i=function(t,n){return o("MAWQplProxy").measurePerfInQPL(a,t,n)};try{var l=t!=null?t:o("MAWCryptoAuthTokenWrapper").getCryptoAuthToken();if(l==null||l.encrypted_serialized_cat==="")return S.WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Crypto Auth Token was null or incomplete"]))),a.endFail("empty_cat_token"),E(o("WADbDeviceRegistration").DEVICE_REGISTER_ERROR_EMPTY_CAT_TOKEN,414);if(e!=null&&o("MAWQplProxy").sendQPLAnnotationsThroughBridge(e,{int:{secondsUntilCATExpiration:Math.floor(l.expiration_time_in_seconds-Date.now()/1e3)}}),!o("WATimeUtils").isInFuture(o("WATimeUtils").castToUnixTime(l.expiration_time_in_seconds)))return a.endFail("expired_cat_token"),E(o("WADbDeviceRegistration").DEVICE_REGISTER_ERROR_EXPIRED_CAT_TOKEN,413);if(o("WAMockServerShell").isMockServerMode){var s=yield o("MAWDeviceRegistrationUtilWorker").createNewRegistrationMeta();return yield(y||(y=n("Promise"))).all([o("WADbRegistrationApi").saveRegistrationMeta(o("MAWCurrentUser").getID(),s),o("WADbRegistrationApi").saveDeviceId(o("WAJids").interpretAsDeviceId(1)),o("WADbMetaTxns").saveCAT(l)]),a.addPoint("wa_device_registration_mock_server"),a.endSuccess(),{message:"Skipping registration because of Mock Server",registrationState:{registrationTime:s.registrationUnixTime,type:o("WADbDeviceRegistration").RegistrationStatesEnum.finished},status:200}}n("cr:7755")!=null&&(yield n("cr:7755").updateRegDataFromLocalStorage());var u=o("MAWDeviceRegistrationActions").getRegistrationMetaWorm(),c=yield i("get_registration_data",u);a.addAnnotations({string:{unique_device_id:c==null?void 0:c.deviceUUID}}),e!=null&&o("MAWQplProxy").sendQplPointThroughBridge(e,"device_registration_check",{annotations:{bool:{identityCompareResult:c==null?void 0:c.identityCompareResult},int:{registrationVersion:c==null?void 0:c.registrationVersion}}});var I=(c==null?void 0:c.identityCompareResult)===!1;if(c==null||c.deviceId==null||I){if(a.addAnnotations({bool:{isNewRegistartion:!0}}),e!=null&&o("MAWQplProxy").sendQplPointThroughBridge(e,"device_registration_new_reg_start"),S.DEBUG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["RATE LIMIT SETTINGS LOG ONLY: "," ENABLED: "," COUNT: ",""])),r("justknobx")._("3587"),C,b),C){var T=yield o("WMIRateLimiter").checkAndRecordAttempt(v),D={bool:{rateLimitBreached:T.limitBreached},int:{rateLimitCount:T.currentCount}};if(a.addAnnotations(D),S.DEBUG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Client rate limiting check complete. ","/"," attempts."])),T.currentCount,v.limit),T.limitBreached)if(r("justknobx")._("3587"))a.addAnnotations({bool:{rateLimitLogOnly:!0}}),S.MUSTFIX(_||(_=babelHelpers.taggedTemplateLiteralLoose(["Device registration client rate limit exceeded (not skipping). ","/"," attempts."])),T.currentCount,v.limit);else return S.MUSTFIX(f||(f=babelHelpers.taggedTemplateLiteralLoose(["Device registration client rate limit exceeded. ","/"," attempts."])),T.currentCount,v.limit),a.endFail("client_rate_limit_exceeded"),E("client_rate_limit_exceeded",500);S.DEBUG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["Device registration rate limit check passed"])))}try{yield i("clear_signal_stores",o("MAWClearSignalAndTempStores").clearSignalAndTempStores()),e!=null&&o("MAWQplProxy").sendQplPointThroughBridge(e,"device_registration_signal_temp_stores_cleared"),yield i("save_cat",o("WADbMetaTxns").saveCAT(l)),e!=null&&o("MAWQplProxy").sendQplPointThroughBridge(e,"device_registration_cat_saved")}catch(e){return E(o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e))}var x=yield i("try_register",k(l,a,e));return x.registrationState.type===o("WADbDeviceRegistration").RegistrationStatesEnum.failed?a.endFail("wa_device_registration_failed",{string:{errorMsg:x.message}}):(a.addPoint("wa_device_registration_successful"),a.endSuccess()),e!=null&&o("MAWQplProxy").sendQplPointThroughBridge(e,"device_registration_new_reg_end"),x}else{a.addAnnotations({bool:{isNewRegistartion:!1}}),e!=null&&o("MAWQplProxy").sendQplPointThroughBridge(e,"device_registration_existing_reg_start"),yield i("save_cat",o("WADbMetaTxns").saveCAT(l));var $=r("MessengerWebInitData").sessionId,P=c.lastSessionDeviceWasLinkedTo==null||c.lastSessionDeviceWasLinkedTo!==$;$!=null&&!(c.deviceUUID===$||c.deviceUUID.startsWith($+"-"))&&P&&!R()&&r("promiseDone")(o("MAWDeviceRegistrationSessionUtil").linkDeviceToTheSession(c.deviceUUID,$)),e!=null&&o("MAWQplProxy").sendQplPointThroughBridge(e,"device_registration_existing_reg_end")}return r("MAWDeviceRegistrationODSBump")("already_registered"),a.addPoint("wa_device_registration_persisted"),a.endSuccess(),S.DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Skipping device registration"]))),{message:o("WADbDeviceRegistration").DEVICE_ALREADY_REGISTERED,registrationState:{type:o("WADbDeviceRegistration").RegistrationStatesEnum.finished},status:200}}catch(e){var N,M=r("getErrorSafe")(e);throw a.endFail("uncaught_exception",{string:{errorMsg:(N=M.message)!=null?N:"No error message"}}),M}}),D.apply(this,arguments)}function x(t){r("MAWDeviceRegistrationODSBump")("fail"),S.MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["",""])),o("WADbDeviceRegistration").FAILED_REGISTRATION_RETRIES);for(var n of t)S.MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Device registration failure - ",""])),n)}function $(e,t){return{addAnnotations:function(r){e.addAnnotations(r),t!=null&&o("MAWQplProxy").sendQPLAnnotationsThroughBridge(t,r)},addPoint:function(r,a){e.addPoint(r,a),t!=null&&o("MAWQplProxy").sendQplPointThroughBridge(t,"device_registration_"+r,{annotations:a})},endCancel:function(){},endFail:function(t,n){},endSuccess:function(){},getQPLAttrs:function(){return{instanceKey:0}},isActive:function(){return!0},start:function(){}}}l.handleRegistrationError=E,l.setupDeviceRegistration=T,l.logDeviceRegistrationRetryFailure=x}),98);
__d("MAWDeviceRegistrationInitWorker",["BackendInitLoggingUtils","BrowserLockManager","FBLogger","MAWDeviceRegistrationODSBump","MAWDeviceRegistrationWorker","MAWHMACKey","MAWQplProxy","MAWRotateCAT","MWFBLogger","Promise","WADbDeviceRegistration","WADbRegistrationApi","WAGetRegistrationInfoApi","WAPromiseRetryLoop","WARetryUtils","asyncToGeneratorRuntime","getErrorSafe","justknobx","memoizeOneWithArgs","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h,y,C=o("MWFBLogger").MWLogger().tags(["backend","init","deviceRegistration"]);function b(t){return t===void 0&&(t=!0),r("BrowserLockManager")!=null?o("BackendInitLoggingUtils").measureMawInit("request_maw_registration_lock",function(){return new(y||(y=n("Promise")))(function(o,a){r("promiseDone")(r("BrowserLockManager").request("maw_registration_lock",n("asyncToGeneratorRuntime").asyncToGenerator(function*(){r("FBLogger")("wmi").tags(["backend","init","deviceRegistration"]).DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Running registerDevice with lock"])));try{var n=yield v(t);o(n)}catch(e){a(e)}})))})}):(r("FBLogger")("wmi").tags(["backend","init","deviceRegistration"]).DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Running registerDevice without lock"]))),v(t))}var v=r("memoizeOneWithArgs")((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("BackendInitLoggingUtils").measureMawInit("init_device_reg_overall",function(){return S()}),a=t.message,i=t.registrationState;if(i.type===o("WADbDeviceRegistration").RegistrationStatesEnum.failed)throw C.mustfixThrow("registration_failed: "+a);if(!e){C.DEBUG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Skipping HMAC generation and registration data loading"])));return}r("FBLogger")("wmi").tags(["backend","init","deviceRegistration"]).DEBUG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Generating HMAC and loading registration data"])));var l=yield(y||(y=n("Promise"))).all([o("BackendInitLoggingUtils").measureMawInit("load_reg_in_txn",function(){return o("WADbRegistrationApi").loadAllRegistrationMetaInTransaction()}),o("BackendInitLoggingUtils").measureMawInit("gen_insert_hmac",function(){return o("MAWHMACKey").generateAndInsertHMACKey()})]),s=l[0],d=l[1];return{hmacKey:d,regData:s}});return function(t){return e.apply(this,arguments)}})());function S(){var e=0,t=new Set,a=0,i=new(o("WAPromiseRetryLoop")).PromiseRetryLoop({code:(function(){var i=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){if(e++,e>o("WADbDeviceRegistration").MAX_DEVICE_REGISTRATION_RETRIES){o("MAWDeviceRegistrationWorker").logDeviceRegistrationRetryFailure(t);var i=o("MAWDeviceRegistrationWorker").handleRegistrationError(o("WADbDeviceRegistration").FAILED_REGISTRATION_RETRIES);n(i);return}try{var l=null;switch(a){case 414:case 413:case 418:{C.DEBUG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["DeviceRegistration ",". Rotate CAT"])),a),l=yield o("MAWRotateCAT").rotateCAT({initiator:"MAWDeviceRegistrationInitWorker::initDeviceRegistration",qplAnnotations:{int:{prevStatusCode:a}}});break}case 400:case 401:{C.MUSTFIX(m||(m=babelHelpers.taggedTemplateLiteralLoose(["DeviceRegistration ",": User should re-login"])),a),r("justknobx")._("3526")&&(l=yield o("MAWRotateCAT").rotateCAT({initiator:"MAWDeviceRegistrationInitWorker::initDeviceRegistration",qplAnnotations:{int:{prevStatusCode:a}}}));break}case 415:{C.MUSTFIX(p||(p=babelHelpers.taggedTemplateLiteralLoose(["DeviceRegistration 415: User should take action to  re-register to WAI"])));break}case 403:{C.MUSTFIX(_||(_=babelHelpers.taggedTemplateLiteralLoose(["DeviceRegistration 403: User is banned"])));break}case 500:{C.MUSTFIX(f||(f=babelHelpers.taggedTemplateLiteralLoose(["DeviceRegistration 500: Retry is needed"])));break}}var s=e===1?r("qpl")._(25310776,"6155"):null,u=yield o("MAWDeviceRegistrationWorker").setupDeviceRegistration(s,l);a=u.status,r("MAWDeviceRegistrationODSBump")("attempt."+e+".result."+u.registrationState.type),u.registrationState.type===o("WADbDeviceRegistration").RegistrationStatesEnum.finished&&(u.registrationState.registrationTime!=null&&r("MAWDeviceRegistrationODSBump")("success"),C.DEBUG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["Registration finished, ending device registration promise retry loop"]))),n(u)),t.add(u.message),o("MAWQplProxy").sendQPLAnnotationsThroughBridge(r("qpl")._(25310776,"6155"),{int:{deviceRegistrationLastAttemptCount:e},string:{deviceRegistrationLastAttemptMessages:Array.from(t).join(", ")}})}catch(n){var c=r("getErrorSafe")(n),y="Uncaught device registration error - "+c.message;C.WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["",""])),y),t.add(""+y),o("MAWQplProxy").sendQPLAnnotationsThroughBridge(r("qpl")._(25310776,"6155"),{int:{deviceRegistrationLastAttemptCount:e},string:{deviceRegistrationLastAttemptMessages:Array.from(t).join(", ")}})}});function l(e){return i.apply(this,arguments)}return l})(),name:"deviceRegistration",timer:o("WARetryUtils").fibonacciBackoff(!0)});return i.start(),i.promise().then(function(e){return e.registrationState.type===o("WADbDeviceRegistration").RegistrationStatesEnum.finished&&r("promiseDone")(o("WAGetRegistrationInfoApi").updateRegistrationHistory(e.registrationState.registrationTime)),e})}l.registerDevice=b,l.performDeviceRegistration=v,l.initDeviceRegistration=S}),98);
__d("MAWDBKeychain",["BrowserLockManager","EARInitType","ExecutionEnvironment","FBLogger","MAWCurrentUser","MAWDexie","MAWIndexedDbMetadata","MWEARKeychainV3","MWSetupDBEncryption","Promise","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=["id"],s,u,c="encryptionMetaV3",d=function(t){t===void 0&&(t=o("MWEARKeychainV3").logMawInitPoint),t("maw_ear_check_mawdb_start");var e=o("MAWCurrentUser").getID(),n=o("MAWIndexedDbMetadata").dbName(e),a=new(r("MAWDexie"))(n,{addons:[]});return a.open().then(function(e){return t("maw_ear_check_mawdb_end"),e}).catch("NoSuchDatabaseError",function(){return t("maw_ear_check_mawdb_no_db"),null}).catch(function(e){throw t("maw_ear_check_mawdb_error"),e})},m=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){e===void 0&&(e=o("MWEARKeychainV3").logMawInitPoint);var t=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t;try{if(t=yield d(e),!t)return r("FBLogger")("messenger_web").info("MAWDB is missing for MAW EAR worker init."),e("maw_ear_new_user"),{isNewUser:!0,reinitEAR:!0,useMawEAR:!0};if(!t.backendDB().objectStoreNames.contains(c))return t.close(),r("FBLogger")("messenger_web").info("MAW EAR is missing for MAW EAR worker init."),e("maw_ear_missing_ear_table"),{reinitEAR:!0,useMawEAR:!0};var n=yield _(t.backendDB());n.length===0&&(r("FBLogger")("messenger_web").info("Migrating global EAR to MAW EAR"),e("maw_ear_migrating"),yield p(t.backendDB())),o("MWEARKeychainV3").setNamespaceSourceDbWithoutMarkingDbReady("maw_ear",t.backendDB()),e("maw_ear_init_keychain");var a=yield o("MWEARKeychainV3").init("maw_ear",r("EARInitType").MAW_INIT,e);if(a.success===!1)throw a.payload!=null?a.payload:r("FBLogger")("messenger_web").mustfixThrow("Failed to init MAW EAR Keychain.");return e("maw_ear_success"),r("FBLogger")("messenger_web").info("MAW EAR worker successfully initialised."),{useMawEAR:!0}}finally{var i;o("MWEARKeychainV3").setNamespaceSourceDbWithoutMarkingDbReady("maw_ear",null),(i=t)==null||i.close()}});return function(){return t.apply(this,arguments)}})();return new(u||(u=n("Promise")))(function(e,n){return r("BrowserLockManager")!=null?r("BrowserLockManager").request("mawdb_keychain_init_ear",function(){return t().then(e).catch(n)}):t().then(e).catch(n)}).catch(function(t){throw e("maw_ear_failure"),r("FBLogger")("messenger_web").catching(t).mustfixThrow("Failed to init MAW EAR Worker.")})});return function(n){return e.apply(this,arguments)}})(),p=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=yield o("MWSetupDBEncryption").init(r("EARInitType").MAW_INIT);if(!a.success)throw a.payload!=null?a.payload:r("FBLogger")("messenger_web").mustfixThrow("Failed to init global EAR.");var i=o("MWEARKeychainV3").getKeychain("global_ear");if(i.databaseEncryptionKeys.size===0)throw r("FBLogger")("messenger_web").mustfixThrow("Global EAR data is missing.");var l=Array.from(i.databaseEncryptionKeys.entries()).map(function(t){var n=t[0],r=t[1].dbEntry,o=r.id,a=babelHelpers.objectWithoutPropertiesLoose(r,e);return a});return new(u||(u=n("Promise")))(function(e,n){var r=t.transaction(c,"readwrite");l.forEach(function(e){r.objectStore(c).add(e)}),r.onerror=function(){return n(r.error)},r.oncomplete=function(){return e()}})});return function(n){return t.apply(this,arguments)}})();function _(e){return new(u||(u=n("Promise")))(function(t,n){var r=e.transaction(c,"readonly"),o=r.objectStore(c).getAll();o.onsuccess=function(){return t(o.result)},o.onerror=function(){return n(o.error)}})}function f(e,t){if(e.encryptionMetaV3!=null){var n=o("MWEARKeychainV3").getKeychainInitStatus("maw_ear");if(n==="none"&&t!=null){o("MWEARKeychainV3").logMawInitPoint("maw_ear_populate_unstored_key"),e.encryptionMetaV3.add(t);return}var a=o("MWEARKeychainV3").isKeychainSettled("maw_ear")?"maw_ear":"global_ear",i=Array.from(o("MWEARKeychainV3").getKeychain(a).databaseEncryptionKeys).map(function(e){var t=e[0],n=e[1].dbEntry;return n});if(i.length>0)r("FBLogger")("messenger_web").info("DB re-populated after external DB deletion. Namespace: %s. isWorker: %s",a,(s||(s=r("ExecutionEnvironment"))).isInWorker),e.encryptionMetaV3.bulkPut(i),o("MWEARKeychainV3").setNamespaceSourceDbAndMarkAsReady("maw_ear",e.db.backendDB());else throw r("FBLogger")("messenger_web").mustfixThrow("No encryption keys to populate MAWDB. Namespace: %s. HasUnstoredKey: %s. isWorker: %s",a,!!t,(s||(s=r("ExecutionEnvironment"))).isInWorker)}}l.STORENAME=c,l.checkMawDbExists=d,l.initEAR=m,l.getEncryptionKeys=_,l.onDbPopulateMAWKeychain=f}),98);
__d("MAWMpsAppdataEncryptedBackupsSecretsPreprocessor",["FBLogger","MAWHandleEncryptedBackupsSecretsApi","MAWProtobufDeserializers","MpsPreprocessor","MpsTypes","Promise","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var a=t.backupId,i=t.epoch,l=t.mailboxRootKey,s=t.obliviousValidationToken,u=t.serverDataId,c=t.tempOcmfClientState;if(a==null||i==null||l==null||s==null||u==null||c==null)return r("FBLogger")("mps").warn("Cannot process encrypted backups secrets - mandatory data missing"),(e||(e=n("Promise"))).resolve();var d=i.map(function(e){var t=e.anonId,n=e.id,o=e.rootKey,a=e.status;return t==null||n==null||o==null||a==null?(r("FBLogger")("mps").warn("Encountered invalid epoch when processing encrypted backups secrets"),null):{anonId:t,id:n,rootKey:o,status:a}}).filter(Boolean),m={backupId:a,epoch:d,mailboxRootKey:l,obliviousValidationToken:s,serverDataId:u,tempOcmfClientState:c};return o("MAWHandleEncryptedBackupsSecretsApi").handleEncryptedBackupsSecret(m)}function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){return yield s(t),{directive:{actionType:o("MpsTypes").ActionType.Noop,debugFlags:["WA"],isLocalOnly:!1,isTransportErrorPlaceholder:!1,tags:[],targetMessageId:e.message.messageId},insertionSource:e.insertionSource,message:e.message}}),c.apply(this,arguments)}var d=o("MpsPreprocessor").preprocessor((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.ctx,i=t.payloadList,l=new Map,s=new Array(i.length),c=i.map(function(e,t){var n,a=o("MAWProtobufDeserializers").DeserializedBackupMessage.create(e.message.payload);if(a.payload().kind!=="messageApplication"){s[t]=e;return}var i=(n=a.encryptedTransportMessage())==null||(n=n.armadillo())==null||(n=n.payload)==null||(n=n.signal)==null?void 0:n.encryptedBackupsSecrets;if(i==null){s[t]=e;return}return u(e,i).then(function(e){s[t]=e}).catch(function(t){l.set(e.message.messageId,r("getErrorSafe")(t))})});return c.length>0&&(yield(e||(e=n("Promise"))).all(c)),{ctx:a,errors:l,payloadList:s}});return function(e){return t.apply(this,arguments)}})(),"eb_appdata_secret");l.MAWMpsAppdataEncryptedBackupsSecretsPreprocessor=d}),98);
__d("MAWMpsGenerateMessageFromBackupMessage",["FBLogger","MAWProtobufDeserializers","MpsTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){try{var n,a,i=e.decryptedProtobuf,l=o("MAWProtobufDeserializers").DeserializedBackupMessage.create(i),s=l.payload().kind;if(s!=="messageApplication"&&s!=="adminMessage")return r("FBLogger")("mps").warn("Expected messageApplication or adminMessage, got %s",s),null;var u=(n=l.proto.metadata)==null?void 0:n.senderId,c=(a=l.proto.metadata)==null?void 0:a.messageId;return u!=null&&c!=null?{messageId:o("MpsTypes").toMessageId(c),payload:o("MpsTypes").toBytes(i),senderId:u,threadId:t,timestampMs:o("MpsTypes").toTimestamp(e.protobufTimestampMS)}:null}catch(e){throw r("FBLogger")("mps").catching(e).mustfix("Runtime error performing generateMessage: %s",e),e}}l.generateMessage=e}),98);
__d("MAWMpsGenerateSupplementalFromBackupMessage",["FBLogger","MAWProtobufDeserializers","MpsTypes","WALongInt","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e){try{var t,n,a=o("MAWProtobufDeserializers").DeserializedBackupMessage.create(e);if(a.payload().kind!=="messageApplication")return r("FBLogger")("mps").warn("Expected messageApplication, got %s",a.payload().kind),null;var i=(t=a.proto.metadata)==null?void 0:t.messageId,l=(n=a.proto.metadata)==null?void 0:n.timestampMs;return i!=null&&l!=null?{messageId:o("MpsTypes").toMessageId(i),payload:o("MpsTypes").toBytes(e),timestampMs:o("MpsTypes").toTimestamp(o("WALongInt").numberOrThrowIfTooLarge(l))}:null}catch(e){var s=r("getErrorSafe")(e);throw r("FBLogger")("mps").catching(s).mustfix("Runtime error performing generateSupplemental: %s",s.message),e}}l.generateSupplemental=e}),98);
__d("MAWMpsDecryptedProtobufToFullMessage",["FBLogger","MAWMpsGenerateMessageFromBackupMessage","MAWMpsGenerateSupplementalFromBackupMessage","MpsTypes","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=[];try{return e.forEach(function(e){var r;if(e!=null){var a=o("MAWMpsGenerateMessageFromBackupMessage").generateMessage(e.toplevelProtobuf,t);if(a!=null){var i=new Map;e.supplementalProtobufs.forEach(function(e,t){var n=e.decryptedProtobuf,r=o("MAWMpsGenerateSupplementalFromBackupMessage").generateSupplemental(n);r!=null&&i.set(o("MpsTypes").toSupplementalKey(t),r)});var l={expiryTimestampMs:null,supplementalProtobufs:i,tags:(r=e.tags)!=null?r:[],toplevelProtobuf:a};n.push(l)}}}),n}catch(e){var a=r("getErrorSafe")(e);throw r("FBLogger")("wmi_eb").catching(a).mustfix("Runtime error performing decodeAndParseEbProtobufs for MPS: %s",a.message),a}}l.decryptedProtobufToFullMessage=e}),98);
__d("MAWMpsGenerateDeletionMessage",["FBLogger","MAWExternalId","MAWJids","WABuildMpsPayload","WAConvertAppData","WAJids","WAMsgApplication.pb","WAStanzaUtils","WATimeUtils","encodeProtobuf","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e){try{var t={actions:[{messageAction:{protocolMsgId:{author:o("MAWJids").toUserJid(e.senderId),chat:o("WAJids").unsafeCoerceToChatJid(e.threadId),externalId:o("WAStanzaUtils").toStanzaId(e.messageId)},type:"delete_for_me"}}],type:"meta_sync"},n=o("WAConvertAppData").convertAppData(t),a=o("encodeProtobuf").encodeProtobuf(o("WAMsgApplication.pb").MessageApplicationSpec,n).readByteArrayView();return o("WABuildMpsPayload").buildMpsMessage({encryptedTransportMessage:a},{externalId:o("MAWExternalId").generateExternalId(),millisServerTs:o("WATimeUtils").castToMillisTime(e.timestampMs),senderJid:o("MAWJids").toUserJid(e.senderId),threadId:o("WAJids").unsafeCoerceToChatJid(e.threadId)})}catch(e){var i=r("getErrorSafe")(e);throw r("FBLogger")("mps").catching(i).mustfix("Runtime error performing generateDeletionMessage for MPS"),e}}l.generateDeletionMessage=e}),98);
__d("MAWMpsMessagePointQuery",["EBMessagePointQuery","WAJids","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.ctx,n=e.messageIds,a=e.threadId;t.metric.addPoint("mps_message_point_query_start",{int:{batchSize:n.length}});var i=o("WAJids").validateChatJid(a),l=r("nullthrows")(i,"invalid threadId passed to validateThreadId: "+a);return o("EBMessagePointQuery").messagePointQuery({chatJid:l,messageIds:n})}l.MAWMpsMessagePointQuery=e}),98);
__d("MAWMpsMessageRangeQuery",["EBLS","EBMessageRangeQueryForThreads","LSMEBTaskCreationSource","MSGDataclassTypes.flow","MpsTypes","QPLFlow","WAJids","asyncToGeneratorRuntime","first","last","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.args,n=e.messageRangeInfo,a=e.messages,i=[].concat(a).sort(function(e,t){return e.toplevelProtobuf.protobufTimestampMS-t.toplevelProtobuf.protobufTimestampMS}),l=t.direction==="after"?n.has_more_after:n.has_more_before,s=t.direction==="after"?n.has_more_before:n.has_more_after,u=r("first")(i),c=r("last")(i);return{success:!0,value:{cursorInfo:{endCursor:u!=null?[o("MpsTypes").toTimestamp(u.toplevelProtobuf.protobufTimestampMS),o("MpsTypes").toMessageId(u.otid)]:null,hasNext:l,hasPrevious:s,startCursor:c!=null?[o("MpsTypes").toTimestamp(c.toplevelProtobuf.protobufTimestampMS),o("MpsTypes").toMessageId(c.otid)]:null},messages:i}}}function s(e,t){return t!=null&&t===r("LSMEBTaskCreationSource").MSGR_DYI?"messenger_dyi":e==="all"?"unknown":e.size===2&&e.has(o("MSGDataclassTypes.flow").MpsMessageTag.Video)&&e.has(o("MSGDataclassTypes.flow").MpsMessageTag.Photo)?"media_gallery_restore":e.size===1&&e.has(o("MSGDataclassTypes.flow").MpsMessageTag.File)?"file_gallery_restore":"unknown"}function u(e){var t=Date.now()+6e4,n=Math.max(0,Math.min(e[0],t));return[""+n,void 0]}function c(t){var a=t.ctx,i=t.ranges,l=t.source,c=t.tagsFilter;return o("QPLFlow").QplSubspan.wrapInSubspan(a.metric,"mps_message_range_query",n("asyncToGeneratorRuntime").asyncToGenerator(function*(){a.metric.addAnnotations({int:{batchSize:i.length}});var t=(yield o("EBLS").init()).db,n=s(c,l),d=yield o("EBMessageRangeQueryForThreads").messageRangeQueryForThreads({restoreType:"range",source:n,storage:t,threads:i.map(function(e){return{chatJid:r("nullthrows")(o("WAJids").validateChatJid(e.threadId)),direction:e.direction==="asc"?"after":"before",from:u(e.from),numMessages:e.numMessages}})});return d.map(function(t){return t.success===!1?t:e(t.value)})}))}l.MAWMpsMessageRangeQuery=c}),98);
__d("MAWMpsMutateMessagePreprocessor",["FBLogger","MAWMpsTypes","MAWProtobufDeserializers","MpsPreprocessor","MpsTypes","WAArmadilloApplication.pb","WAArmadilloBackupMessage.pb","WAJids","WAMsgApplication.pb","WAResultOrError","encodeProtobuf","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=[m,c,u];function s(e,t,n){var r={ephemeralType:n},a={payload:{content:{ravenMessage:r}}},i={metadata:t.metadata,payload:{subProtocol:{armadillo:{payload:o("encodeProtobuf").encodeProtobuf(o("WAArmadilloApplication.pb").ArmadilloSpec,a).readBuffer(),version:1}}}},l=o("encodeProtobuf").encodeProtobuf(o("WAMsgApplication.pb").MessageApplicationSpec,i).readBuffer(),s={encryptedTransportMessage:l,metadata:e.proto.metadata};return o("MpsTypes").toBytes(o("encodeProtobuf").encodeProtobuf(o("WAArmadilloBackupMessage.pb").BackupMessageSpec,s).readBuffer())}function u(e,t){var n,r=e.directive,a=e.insertionSource,i=e.message,l=(n=t.encryptedTransportMessage())==null||(n=n.armadillo())==null||(n=n.payload)==null||(n=n.content)==null?void 0:n.ravenActionNotifMessage;if(l!=null){var s=r.targetMessageId,u={actionType:o("MpsTypes").ActionType.UpsertSupplemental,debugFlags:r.debugFlags,isLocalOnly:!1,isTransportErrorPlaceholder:!1,supplementalKey:r==null?void 0:r.supplementalKey,tags:[],targetMessageId:s},c={actionType:o("MpsTypes").ActionType.DeleteSupplemental,debugFlags:r.debugFlags,isLocalOnly:!0,isTransportErrorPlaceholder:!1,supplementalKey:o("MpsTypes").toSupplementalKey(o("MAWMpsTypes").SupplementalKeyPrefixMps.RAVEN_ORIGINAL_MESSAGE),tags:[],targetMessageId:s},d={messageId:s,payload:i.payload,senderId:i.senderId,threadId:i.threadId,timestampMs:i.timestampMs};return[{directive:u,insertionSource:a,message:i},{directive:c,insertionSource:a,message:d}]}}function c(e,t){var n,r=e.directive,a=e.insertionSource,i=e.message,l=t.encryptedTransportMessage(),u=(n=t.encryptedTransportMessage())==null||(n=n.armadillo())==null||(n=n.payload)==null||(n=n.content)==null||(n=n.ravenMessageMsgr)==null?void 0:n.ephemeralType;if(!(l==null||u==null)){var c=[],d={messageId:i.messageId,payload:s(t,l.proto,u),senderId:i.senderId,threadId:i.threadId,timestampMs:i.timestampMs},m={actionType:o("MpsTypes").ActionType.UpsertTopLevel,debugFlags:r.debugFlags,isLocalOnly:!1,isTransportErrorPlaceholder:!1,tags:[],targetMessageId:i.messageId},p={actionType:o("MpsTypes").ActionType.UpsertSupplemental,debugFlags:r.debugFlags,isLocalOnly:!0,isTransportErrorPlaceholder:!1,supplementalKey:o("MpsTypes").toSupplementalKey(o("MAWMpsTypes").SupplementalKeyPrefixMps.RAVEN_ORIGINAL_MESSAGE),tags:[],targetMessageId:i.messageId};return c.push({directive:m,insertionSource:a,message:d},{directive:p,insertionSource:a,message:i}),c}}function d(e){if(e==null)return null;var t=o("WAJids").interpretAndValidateJid(e);return t.jidType==="msgrUser"?t.userJid:t.jidType==="group"?t.groupJid:(t.jidType,null)}function m(e,t){var n,r,o=(n=t.encryptedTransportMessage())==null||(n=n.armadillo())==null||(n=n.payload)==null?void 0:n.applicationData;if(o!=null){var a=[];if(((r=o.metadataSync)==null?void 0:r.actions)!=null){var i;(i=o.metadataSync)==null||i.actions.forEach(function(t){return p(a,e,t)})}return a}}function p(e,t,n){if(n.chatAction!=null)return _(e,t,n.chatAction);if(n.messageAction!=null)return f(e,t,n.messageAction)}function _(e,t,n){var a=t.directive,i=t.insertionSource,l=t.message;if(n.chatId==null){r("FBLogger")("mps").warn("Chat id not defined for appdata chat action");return}if(n.chatDelete!=null&&e.push({directive:{actionType:o("MpsTypes").ActionType.DeleteThread,debugFlags:a.debugFlags,isLocalOnly:!0,isTransportErrorPlaceholder:!1,tags:[],targetMessageId:l.messageId},insertionSource:i,message:babelHelpers.extends({},l,{threadId:o("MpsTypes").toThreadId(n.chatId)})}),n.chatArchive!=null){r("FBLogger")("mps").warn("Chat archive not supported for appdata");return}if(n.chatRead!=null){r("FBLogger")("mps").warn("Chat read not supported for appdata");return}}function f(e,t,n){var a=t.directive,i=t.insertionSource,l=t.message;if(n.key==null){r("FBLogger")("mps").warn("Message key not defined for appdata message");return}var s=n.key.id,u=d(n.key.remoteJid);if(u==null){r("FBLogger")("mps").warn("Message key remoteJid incomplete for appdata message");return}if(s==null){r("FBLogger")("mps").warn("Message key id is incomplete for appdata message");return}n.messageDelete!=null&&e.push({directive:{actionType:o("MpsTypes").ActionType.DeleteTopLevel,debugFlags:a.debugFlags,isLocalOnly:!1,isTransportErrorPlaceholder:!1,tags:[],targetMessageId:o("MpsTypes").toMessageId(s)},insertionSource:i,message:babelHelpers.extends({},l,{threadId:o("MpsTypes").toThreadId(u)})})}function g(t){try{for(var n of e){var a=o("MAWProtobufDeserializers").DeserializedBackupMessage.create(t.message.payload),i=n(t,a);if(i!=null)return o("WAResultOrError").makeResult(i)}return r("FBLogger")("mps").warn("mutate preprocessor failed to mutate payload"),o("WAResultOrError").makeResult([t])}catch(e){var l=r("getErrorSafe")(e);return r("FBLogger")("mps").catching(l).mustfix("Preprocess directive handling failed for message"),o("WAResultOrError").DEPRECATED_makeError("runtime-error",l)}}var h=o("MpsPreprocessor").preprocessor(function(e){var t=e.ctx,n=e.payloadList,a=new Map,i=[];for(var l of n){if(l.directive.actionType!==o("MpsTypes").ActionType.Preprocess){i.push(l);continue}var s=g(l);if(s.success)s.value.length===0&&t.messageToQpl.endSuccess(l.message.messageId),i.push.apply(i,s.value);else{var u;a.set(l.message.messageId,(u=s.payload)!=null?u:r("err")("Preprocess directive handler failed - runtime error"))}}return{ctx:t,errors:a,payloadList:i}},"mutate_message");l.MAWMpsMutateMessagePreprocessor=h}),98);
__d("MAWMpsReadSideEffects",["MAWMediaManager","MAWMpsGating","MessageChunksFromMediaEntry","MpsMediaEntryCache","WAMediaManager","WAStartMediaDownloadQplFlow","WmiMediaService","asyncToGeneratorRuntime","vulture"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var a=o("MAWMediaManager").getMawMediaManager(),i=t.tagsFilter!=null&&t.tagsFilter!=="all"&&o("MAWMpsGating").isMpsMediaGalleryEnabled();if(i&&(a=o("MAWMediaManager").getMpsMediaManager()),o("MAWMpsGating").isMpsMessageRendering()||i){var l=t.persistToReverb!=="no-persist"&&t.strategy!=="local-only";e.forEach(function(e){if(r("vulture")("9NuvgRzygF2DpS2j-mVqerU7QEw="),(e==null?void 0:e.toplevelProtobuf)!=null){var t=o("MpsMediaEntryCache").hydrateCache(e.toplevelProtobuf);if(l){var i=o("MessageChunksFromMediaEntry").getMessageChunksFromMediaEntries(t);o("WmiMediaService").mediaService().storeMessageChunks(i),t.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("WAStartMediaDownloadQplFlow").startMediaDownloadQplFlow({downloadEntry:"MpsEBRestore",msgType:null,protocolMsgId:null,triggerUIView:null}),n=yield a.enqueueDownloadFullSizeAndPreview({fullSizePlaintextHash:e.plaintextHash,mediaDownloadFlow:t,priority:o("WAMediaManager").MediaTaskPriority.LOW}).fullsizePromise;n.success===!1?t.endFail(n.error):t.endSuccess()});return function(t){return e.apply(this,arguments)}})())}}})}}l.readSideEffects=e}),98);
__d("MAWMpsSetExpiryPreprocessor",["FBLogger","MAWProtobufDeserializers","MpsPreprocessor","MpsTypes","WAResultOrError","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r=e.payload,a=e.timestampMs,i=o("MAWProtobufDeserializers").DeserializedBackupMessage.create(r),l=(t=(n=i.encryptedTransportMessage())==null||(n=n.proto.metadata)==null||(n=n.chatEphemeralSetting)==null?void 0:n.ephemeralExpiration)!=null?t:0;if(!(l<=0))return o("MpsTypes").toTimestamp(a+l*1e3)}function s(t){var n=t.directive,r=t.insertionSource,a=t.message,i=n.actionType===o("MpsTypes").ActionType.UpsertTopLevel||n.actionType===o("MpsTypes").ActionType.DeleteTopLevel||n.actionType===o("MpsTypes").ActionType.DeleteTopLevelWithPlaceholder;if(!i)return t;var l=e(a);return l==null?t:{directive:babelHelpers.extends({},n,{expiryTimestampMs:l,isLocalOnly:!0}),insertionSource:r,message:a}}function u(e){try{return o("WAResultOrError").makeResult(s(e))}catch(e){var t=r("getErrorSafe")(e);return r("FBLogger")("mps").catching(t).mustfix("SetExpiry Preprocess failed"),o("WAResultOrError").makeError(t)}}var c=o("MpsPreprocessor").preprocessor(function(e){var t=e.ctx,n=e.payloadList,r=new Map,o=[];return n.forEach(function(e){var t=u(e);t.success?o.push(t.value):r.set(e.message.messageId,t.error)}),{ctx:t,errors:r,payloadList:o}},"set_expiry");l.MAWMpsSetExpiryPreprocessor=c}),98);
__d("MawMpsCopPostprocessor",["FBLogger","MawMpsCop","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e={name:"mps_cop",process:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){try{yield o("MawMpsCop").mpsCop().postProcessMessages({ctx:t,payloadList:e})}catch(e){r("FBLogger")("wmi").catching(r("getErrorSafe")(e)).mustfix("[MawMpsCopPostprocessor] Fail to handle UI posprocessor")}return new Map});function t(t,n){return e.apply(this,arguments)}return t})()};l.MpsCopPostProcessor=e}),98);
__d("MawMpsDeletionPreprocessingUtils",["MpsTypes","WAWaitForUserUnblocked","WebMps","asyncToGeneratorRuntime","justknobx"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=r("justknobx")._("4369")?r("justknobx")._("4370")&&o("WAWaitForUserUnblocked").isStillWaitingForUserUnblocked()?"local-only":"local-first":"local-only",a=yield o("WebMps").mps().loadMessage({config:{shouldFetchSupplementals:!1,shouldFetchTags:!1,strategy:n},debug:{purpose:"preprocess_revoke_fetch_local"},messageId:t,threadId:e});return a.value}),s.apply(this,arguments)}function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var r=t.directive,a=t.insertionSource,i=t.message,l=i.timestampMs,s=n.find(function(e){return e.message.messageId===r.targetMessageId&&i.threadId===e.message.threadId});if(s!=null)l=s.message.timestampMs;else{var u=yield e(i.threadId,r.targetMessageId);u!=null&&(l=u==null?void 0:u.toplevelProtobuf.timestampMs)}var c={directive:{actionType:o("MpsTypes").ActionType.DeleteTopLevel,debugFlags:["WA"],isLocalOnly:!1,isTransportErrorPlaceholder:!1,tags:[],targetMessageId:r.targetMessageId,targetTimestampMs:l},insertionSource:a,message:i},d={directive:r,insertionSource:a,message:babelHelpers.extends({},i,{timestampMs:l})};return[c,d]}),c.apply(this,arguments)}l.generateDeletionPayload=u}),98);
__d("MawMpsDeleteTopLevelPreprocessor",["MawMpsDeletionPreprocessingUtils","MpsPreprocessor","MpsTypes","Promise","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MpsPreprocessor").preprocessor((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.ctx,i=t.payloadList,l=new Map,s=[],u=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){try{var n=yield o("MawMpsDeletionPreprocessingUtils").generateDeletionPayload(e,i),a=n[0],u=n[1];s[t]=a}catch(t){l.set(e.message.messageId,r("getErrorSafe")(t))}});return function(n,r){return e.apply(this,arguments)}})(),c=i.map(function(e,t){var n,r=(n=e.directive)==null?void 0:n.actionType;return r===o("MpsTypes").ActionType.DeleteTopLevel?u(e,t):(s[t]=e,null)}).filter(Boolean);return c.length!==0&&(yield(e||(e=n("Promise"))).all(c)),{ctx:a,errors:l,payloadList:s.filter(Boolean)}});return function(e){return t.apply(this,arguments)}})(),"delete_top_level");l.MawMpsDeleteTopLevelPreprocessor=s}),98);
__d("MawMpsDeleteTopLevelWithPlaceholderPreprocessor",["MawMpsDeletionPreprocessingUtils","MpsPreprocessor","MpsTypes","Promise","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MpsPreprocessor").preprocessor((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.ctx,i=t.payloadList,l=new Map,s=[],u=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){try{var n=yield o("MawMpsDeletionPreprocessingUtils").generateDeletionPayload(e,i),a=n[0],u=n[1];s[t]=[a,u]}catch(t){l.set(e.message.messageId,r("getErrorSafe")(t))}});return function(n,r){return e.apply(this,arguments)}})(),c=i.map(function(e,t){var n,r=(n=e.directive)==null?void 0:n.actionType;return r===o("MpsTypes").ActionType.DeleteTopLevelWithPlaceholder?u(e,t):(s[t]=[e],null)}).filter(Boolean);return c.length!==0&&(yield(e||(e=n("Promise"))).all(c)),{ctx:a,errors:l,payloadList:s.flat().filter(Boolean)}});return function(e){return t.apply(this,arguments)}})(),"delete_top_level_with_placeholder");l.MawMpsDeleteTopLevelWithPlaceholderPreprocessor=s}),98);
__d("MawMpsMinosUploadPostProcessor",["EBEnqueueMinosMessage","FBLogger","MetaConfig","MpsTypes","Promise","WAJids","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=[],i=r("MetaConfig")._("271"),l=t.payloadList.filter(function(e){var t=e.directive,n=e.insertionSource,r=e.message,a=o("WAJids").switchOnMsgrChatJidType(o("WAJids").unsafeCoerceToChatJid(r.threadId),{group:function(){return"group"},user:function(){return"one_to_one"}}),l=d(t)&&i;return n===o("MpsTypes").InsertionSource.Send&&a==="one_to_one"&&c(t.actionType)&&(!m(t)||l)}),s=new Map,u=new Map;return l.forEach(function(e){var t=e.directive,n=e.message;t.actionType===o("MpsTypes").ActionType.DeleteTopLevel?s.set(n.messageId,{message:n,updateDirective:t}):t.actionType===o("MpsTypes").ActionType.DeleteTopLevelWithPlaceholder?u.set(t.targetMessageId,{message:n,updateDirective:t}):a.push({message:n,updateDirective:t})}),u.forEach(function(e,t){s.has(t)&&s.delete(t),a.push(e)}),s.forEach(function(e){a.push(e)}),a.length===0?new Map:(yield(e||(e=n("Promise"))).all(a.map(function(e){var t=e.message,n=e.updateDirective;return o("EBEnqueueMinosMessage").enqueueSentMinosMessageForUpload({message:t,updateDirective:n}).then(function(e){e.success===!1&&r("FBLogger")("wmi").catching(r("getErrorSafe")(e.error)).mustfix("Failed to upload message")}).catch(function(e){r("FBLogger")("wmi").catching(r("getErrorSafe")(e)).mustfix("Failed to upload message")})})),new Map)}),u.apply(this,arguments)}function c(e){switch(e){case o("MpsTypes").ActionType.UpsertTopLevel:case o("MpsTypes").ActionType.UpsertSupplemental:case o("MpsTypes").ActionType.DeleteTopLevel:case o("MpsTypes").ActionType.DeleteTopLevelWithPlaceholder:return!0;case o("MpsTypes").ActionType.Noop:case o("MpsTypes").ActionType.Preprocess:case o("MpsTypes").ActionType.DeleteSupplemental:case o("MpsTypes").ActionType.DeleteThread:case o("MpsTypes").ActionType.Unknown:return!1}}function d(e){return e.expiryTimestampMs!=null}function m(e){return e.isLocalOnly}var p={name:"minos-schedule-upload",process:function(t,n){return s({ctx:n,payloadList:t})}};l.enqueueMessageForMinosUpload=s,l.MawMpsMinosUploadPostProcessor=p}),98);
__d("MawMpsPayloadValidatorPreprocessor",["FBLogger","MAWProtobufDeserializers","MpsPreprocessor","MpsTypes","getErrorSafe","justknobx","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e=["directive","message"],s=new Date(2e3,1,1).getTime(),u=new Date(2500,1,1).getTime();function c(e,t){if(!e)throw r("FBLogger")("mps").mustfixThrow(t)}function d(e,t){var n=o("MAWProtobufDeserializers").DeserializedBackupMessage.create(t.payload),a=n.proto.metadata;switch(r("nullthrows")(e.actionType)){case o("MpsTypes").ActionType.UpsertSupplemental:{c(e.supplementalKey!=null,"supplemental key must be set");break}case o("MpsTypes").ActionType.UpsertTopLevel:{c(e.targetMessageId===t.messageId,"messageId mismatch between directive and message");break}case o("MpsTypes").ActionType.DeleteTopLevelWithPlaceholder:case o("MpsTypes").ActionType.DeleteTopLevel:case o("MpsTypes").ActionType.Unknown:case o("MpsTypes").ActionType.Noop:case o("MpsTypes").ActionType.Preprocess:case o("MpsTypes").ActionType.DeleteSupplemental:case o("MpsTypes").ActionType.DeleteThread:break}c(e.expiryTimestampMs==null||e.isLocalOnly,"If expiryTimestampMs is set, isLocalOnly must be true. we do not want to upload ephemeral messages to the server. Action type: "+String(e.actionType)),c(a!=null,"metadata is missing in the protobuf"),c((a==null?void 0:a.senderId)===t.senderId,"senderId mismatch between protobuf metadata and message"),c((a==null?void 0:a.timestampMs)===t.timestampMs||(e==null?void 0:e.actionType)===o("MpsTypes").ActionType.DeleteTopLevelWithPlaceholder,"timestamp mismatch between protobuf metadata and message"),c(!t.senderId.includes("@"),"senderId should just be an FBID, got "+t.senderId+" instead");var i=t.threadId;c(i.includes("@"),"threadId should be a JID, got "+i+" instead"),c(t.timestampMs>s,"timestampMs should be millisecond timestamps, got "+t.timestampMs.toString()+" instead"),c(t.timestampMs<u,"timestampMs should be millisecond timestamps, got "+t.timestampMs.toString()+" instead")}function m(e,t){try{d(e,t)}catch(e){return r("getErrorSafe")(e)}}var p=o("MpsPreprocessor").preprocessor(function(t){var n=t.ctx,o=t.payloadList,a=new Map;if(r("justknobx")._("1008")===!1)return{ctx:n,errors:a,payloadList:o};n.messageToQpl.all().addPoint("payload_validator_execution");var i=[];return o.forEach(function(t){var n=t.directive,r=t.message,o=babelHelpers.objectWithoutPropertiesLoose(t,e),l=m(n,r);l==null?i.push(babelHelpers.extends({directive:n,message:r},o)):a.set(r.messageId,l)}),{ctx:n,errors:a,payloadList:i}},"payload_validator");l.MawMpsPayloadValidatorPreprocessor=p}),98);
__d("MawMpsThreadConsistency",["FBLogger","I64","MAWBridge","MAWJids","MAWProtobufDeserializers","MpsTypes","Promise","WABaseGlobals","WAGlobals","WAJids","WATimeUtils","WebMps","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=new Map,c={name:"threads_consistency",process:function(t,o){var e=new Set;for(var a of t){var i=d(a);i&&e.add(a.message.threadId)}return e.size>0&&h(e).catch(function(e){r("FBLogger")("wmi").catching(e).mustfix("Cannot apply threads consistency to UI")}),(s||(s=n("Promise"))).resolve(new Map)}};function d(e){var t=e.message,n=o("WAJids").userIdFromJid(o("WAGlobals").getMyUserJid()),r=e.message.senderId===n,a=o("MAWProtobufDeserializers").DeserializedBackupMessage.create(t.payload);if(e.insertionSource===o("MpsTypes").InsertionSource.Receive&&r&&a.adminMessage()==null)return!1;var i=t.threadId,l=t.timestampMs,s=p(a,e.insertionSource);e:{if((typeof e.directive=="object"&&e.directive!==null||typeof e.directive=="function")&&"actionType"in e.directive&&e.directive.actionType===o("MpsTypes").ActionType.UpsertTopLevel)return _({activityType:s,isLocalDeviceSend:r,threadId:i,timestampMs:l});if((typeof e.directive=="object"&&e.directive!==null||typeof e.directive=="function")&&"actionType"in e.directive&&e.directive.actionType===o("MpsTypes").ActionType.UpsertSupplemental){var c,d=(c=a.encryptedTransportMessage())==null||(c=c.consumerMessage())==null||(c=c.proto)==null||(c=c.payload)==null||(c=c.content)==null?void 0:c.reactionMessage;return d==null||r||m(d.key,e.message.senderId)!==n?!1:d.text==null||d.text===""?_({activityType:"pending_unbump",isLocalDeviceSend:!1,threadId:i,timestampMs:l}):_({activityType:s,isLocalDeviceSend:!1,threadId:i,timestampMs:l})}if((typeof e.directive=="object"&&e.directive!==null||typeof e.directive=="function")&&"actionType"in e.directive&&e.directive.actionType===o("MpsTypes").ActionType.DeleteSupplemental)return!1;if((typeof e.directive=="object"&&e.directive!==null||typeof e.directive=="function")&&"actionType"in e.directive&&e.directive.actionType===o("MpsTypes").ActionType.DeleteThread){return u.delete(i),!1;break e}if((typeof e.directive=="object"&&e.directive!==null||typeof e.directive=="function")&&"actionType"in e.directive&&e.directive.actionType===o("MpsTypes").ActionType.DeleteTopLevel)return _({activityType:"pending_unbump",isLocalDeviceSend:!1,threadId:i,timestampMs:l});if((typeof e.directive=="object"&&e.directive!==null||typeof e.directive=="function")&&"actionType"in e.directive&&e.directive.actionType===o("MpsTypes").ActionType.DeleteTopLevelWithPlaceholder||(typeof e.directive=="object"&&e.directive!==null||typeof e.directive=="function")&&"actionType"in e.directive&&e.directive.actionType===o("MpsTypes").ActionType.Noop||(typeof e.directive=="object"&&e.directive!==null||typeof e.directive=="function")&&"actionType"in e.directive&&e.directive.actionType===o("MpsTypes").ActionType.Unknown||(typeof e.directive=="object"&&e.directive!==null||typeof e.directive=="function")&&"actionType"in e.directive&&e.directive.actionType===o("MpsTypes").ActionType.Preprocess||e.directive===null||e.directive===void 0)return!1;throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e.directive)}}function m(e,t){if(e==null)return null;if(e.participant!=null){var n=o("WAJids").validateUserJid(e.participant);return n==null?null:o("WAJids").userIdFromJid(n)}var r=e.fromMe;if(r==null)return null;if(r)return t;if(e.remoteJid==null)return null;var a=o("WAJids").validateUserJid(e.remoteJid);return a==null?null:o("WAJids").userIdFromJid(a)}function p(e,t){var n;return((n=e.encryptedTransportEvent())==null?void 0:n.proto.event)!=null||e.adminMessage()!=null?"admin":t===o("MpsTypes").InsertionSource.Send?"outgoing":t===o("MpsTypes").InsertionSource.Receive?"incoming":(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t)})()}function _(e){var t,n=e.activityType,o=e.isLocalDeviceSend,a=e.threadId,i=e.timestampMs,l=(t=u.get(a))==null?void 0:t.ts;return l!=null&&l>=i&&o===!1?!1:i<=100?(r("FBLogger")("wmi").warn("Timestamp is too small, thread will not be bumped"),!1):(u.set(a,{activityType:n,ts:i}),!0)}function f(t){var n=[],a=[];return t.forEach(function(t){var i=u.get(t);if(i==null){r("FBLogger")("wmi").warn("Thread consistency does not have cache, despite thread update is requested");return}var l=g(i.activityType);if(l==null){n.push(t);return}a.push({bumpTimestampMs:(e||(e=o("I64"))).of_float(i.ts),chatJid:o("MAWJids").threadIdToChatJid(t),source:l})}),o("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:a.map(function(e){return{tag:"UpdateThreadActivity",value:e}})}),{unbumps:n}}function g(e){return e==="outgoing"?"outgoing_msg":e==="incoming"?"incoming_msg":e==="admin"?"inserted_admin_msg":e==="unbump"?"deleted_msg":e==="pending_unbump"?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}function h(e){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=f(e),n=t.unbumps;if(n.length!==0){var r=(o("WABaseGlobals").newClockSkewCalculation()?o("WATimeUtils").unixTimeMs():Date.now())+6e4,a=yield o("WebMps").mps().batchLoadMessages({config:{shouldFetchSupplementals:!1,shouldFetchTags:!1,shouldIgnoreLocalOnly:!0,strategy:"local-only",tagsFilter:"all"},debug:{purpose:"threads-consistency-unbump"},ranges:n.map(function(e){return{direction:"desc",from:[o("MpsTypes").toTimestamp(r),void 0],numMessages:1,threadId:e}})});if(a.success!==!1){var i=a.value.map(function(e){var t=e.messages[0];if(t==null)return null;var n=t.toplevelProtobuf.threadId,r=t.toplevelProtobuf.timestampMs,o=u.get(n);if((o==null?void 0:o.activityType)==="pending_unbump")return u.set(n,{activityType:"unbump",ts:r}),n;if(_({activityType:"unbump",isLocalDeviceSend:!1,threadId:n,timestampMs:r}))return n}).filter(Boolean);f(new Set(i))}}}),y.apply(this,arguments)}l.MawThreadsConsistencyPostprocessor=c}),98);
__d("MawMpsUploadMessagesToEBPostprocessor",["EBEnqueueMessagesForUpload","EBMessageProbe","FBLogger","asyncToGeneratorRuntime","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=new Map;try{yield r("EBEnqueueMessagesForUpload")(e),e.forEach(function(e){var t=e.message,n=o("EBMessageProbe").getEBMessageProbeInstance();n.addMarkerToItem(t.messageId,"mps_upload_enqueue_success")})}catch(a){var n=r("getErrorSafe")(a);r("FBLogger")("mps").catching(n).mustfix("Failed to enqueue messages to upload queue"),e.forEach(function(e){var n=e.message;t.set(n.messageId,r("err")("runtime-error",a));var i=o("EBMessageProbe").getEBMessageProbeInstance();i.addMarkerToItem(n.messageId,"mps_upload_enqueue_failed")})}return t}),s.apply(this,arguments)}var u={name:"eb-schedule-upload",process:function(n){return e(n.filter(function(e){return!e.directive.isLocalOnly})),new Map}};l.MawMpsUploadMessagesToEBPostprocessor=u}),98);
__d("MpsCacheServicesPostProcessors",["MpsWorkerCacheServices","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return o("MpsWorkerCacheServices").getMpsWorkerCacheServices().calculateDelta(t),(e||(e=n("Promise"))).resolve(new Map)}var u={name:"MpsCacheServicesPostProcessor",process:s};l.MpsCacheServicesPostProcessor=u}),98);
__d("MpsExtensionConfiguration",[],(function(t,n,r,o,a,i){"use strict";var e=function(t){var e=t.postProcessors,n=t.preprocessors,r=t.readSideEffects;this.postProcessors={critical:e.critical,nonCritical:e.nonCritical},this.preprocessors=n,this.readSideEffects=r!=null?r:void 0};i.MpsExtensionConfiguration=e}),66);
__d("MpsFtsPostProcessor",["MAWDexieTable","MAWFTSTxns","MAWFTSWorker","MAWIndexedDb","MAWTransactionMode","MpsMessageToBridgeWrapper","MpsTypes","WAStanzaUtils","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=o("WAStanzaUtils").toStanzaId(e.directive.targetMessageId),r=o("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(e.message);if(e.directive.actionType===o("MpsTypes").ActionType.UpsertTopLevel&&e.directive.expiryTimestampMs==null&&((t=r.deserialize().encryptedTransportMessage())==null||(t=t.consumerMessage())==null||(t=t.payload)==null||(t=t.content)==null?void 0:t.messageText)!=null)return function(e){return o("MAWFTSTxns").maybePutMessageToBacklog(e,n)};if(e.directive.actionType===o("MpsTypes").ActionType.DeleteTopLevel)return function(e){return o("MAWFTSTxns").maybePutMessageToPurgeBacklog(e,n)};if(e.directive.actionType===o("MpsTypes").ActionType.DeleteThread)return function(e){return o("MAWFTSTxns").maybePutThreadToPurgeBacklog(e,r.getChatJid())}}function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.map(e).map(function(e,n){return e!=null?[e,t[n]]:null}).filter(Boolean);if(n.length===0)return new Map;var a=new Map;try{yield o("MAWIndexedDb").makeMsgrTransactor({ftsBackloggedMessages:o("MAWTransactionMode").READWRITE,ftsPurgeBacklog:o("MAWTransactionMode").READWRITE,ftsPurgeThreadBacklog:o("MAWTransactionMode").READWRITE},"mpsFts",function(e){return function(){return o("MAWDexieTable").dexieAll(n.map(function(t){var n=t[0],o=t[1];return n(e).catch(function(e){a.set(o.message.messageId,r("getErrorSafe")(e))})}))}})()}catch(e){n.forEach(function(t){var n=t[0],o=t[1];a.set(o.message.messageId,r("getErrorSafe")(e))})}return yield o("MAWFTSWorker").getFTSWorker().index({estimatedNumMessages:n.length,type:"LOCAL"}),a}),u.apply(this,arguments)}var c={name:"MpsFtsPostProcessor",process:s};l.MpsFtsPostProcessor=c}),98);
__d("MpsMediaDeletionPostProcessor",["MpsTypes","Promise","WmiMediaService","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){var t=e.directive,n=e.message,a=t.actionType===o("MpsTypes").ActionType.DeleteTopLevel?o("WmiMediaService").mediaService().handleMessageDeletion(n.threadId,t.targetMessageId):t.actionType===o("MpsTypes").ActionType.DeleteThread?o("WmiMediaService").mediaService().handleThreadDeletion(n.threadId):null;return a==null?void 0:a.catch(function(e){return r("getErrorSafe")(e)})}var u={name:"MpsMediaDeletionPostProcessor",process:(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=new Map,o=t.map(function(e){var t;return(t=s(e))==null?void 0:t.then(function(t){t!=null&&r.set(e.message.messageId,t)})}).filter(Boolean);return o.length>0&&(yield(e||(e=n("Promise"))).all(o)),r});function r(e){return t.apply(this,arguments)}return r})()};l.MpsMediaDeletionPostProcessor=u}),98);
__d("pipeline-chain",["Promise","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i){"use strict";var e,l=(function(){function t(e,t){this.$1=e,this.$2=t}var r=t.prototype;return r.pipe=function(o){var r=this.$1,a=this.$2,i=function(a,i){var t=r(a,i);return t instanceof(e||(e=n("Promise")))?t.then(function(e){return o(e,i)}):o(t,i)};return new t(i,a)},r.run=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield this.$1(e,this.$2);return t});function t(t){return e.apply(this,arguments)}return t})(),t})();function s(e,t){return new l(e,t)}function u(e){return e}i.Pipeline=l,i.pipeline=s,i.pipeNoop=u}),66);
__d("MAWMpsSetup",["BackendInitLoggingUtils","EBMessageMetadataCache","EBMessageProbeSamplingPreprocessor","FBLogger","MAWCurrentUser","MAWEBLSInWorkerSwitch","MAWIndexedDbMetadata","MAWMpsAppdataEncryptedBackupsSecretsPreprocessor","MAWMpsDecryptedProtobufToFullMessage","MAWMpsDirectiveGenerator","MAWMpsGating","MAWMpsGenerateDeletionMessage","MAWMpsMessagePointQuery","MAWMpsMessageRangeQuery","MAWMpsMutateMessagePreprocessor","MAWMpsReadSideEffects","MAWMpsSetExpiryPreprocessor","MAWMpsXMAValidationPreprocessor","MAWODSProxy","MAWQplProxy","MawMpsCopPostprocessor","MawMpsDeleteTopLevelPreprocessor","MawMpsDeleteTopLevelWithPlaceholderPreprocessor","MawMpsDropDeviceNotificationsForTurnedOffSecurityAlertsPreprocessor","MawMpsMinosUploadPostProcessor","MawMpsPayloadValidatorPreprocessor","MawMpsThreadConsistency","MawMpsUploadMessagesToEBPostprocessor","MessengerWebInitData","MpsCacheServicesPostProcessors","MpsExtensionConfiguration","MpsFtsPostProcessor","MpsMediaDeletionPostProcessor","WAOdsEnums","WebMps","asyncToGeneratorRuntime","gkx","justknobx","pipeline-chain","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var e=o("pipeline-chain").pipeline(o("MawMpsDropDeviceNotificationsForTurnedOffSecurityAlertsPreprocessor").MawMpsDropDeviceNotificationsForTurnedOffSecurityAlertsPreprocessor).pipe(o("MAWMpsDirectiveGenerator").MawMpsDirectiveGeneratorPreprocessor).pipe(o("MawMpsDeleteTopLevelWithPlaceholderPreprocessor").MawMpsDeleteTopLevelWithPlaceholderPreprocessor).pipe(o("MAWMpsAppdataEncryptedBackupsSecretsPreprocessor").MAWMpsAppdataEncryptedBackupsSecretsPreprocessor).pipe(o("MAWMpsMutateMessagePreprocessor").MAWMpsMutateMessagePreprocessor).pipe(o("MawMpsDeleteTopLevelPreprocessor").MawMpsDeleteTopLevelPreprocessor).pipe(o("MAWMpsSetExpiryPreprocessor").MAWMpsSetExpiryPreprocessor).pipe(o("MAWMpsXMAValidationPreprocessor").MAWMpsXMAValidationPreprocessor).pipe(o("MawMpsPayloadValidatorPreprocessor").MawMpsPayloadValidatorPreprocessor).pipe(o("EBMessageProbeSamplingPreprocessor").EBMessageProbeSamplingPreprocessor);return new(o("MpsExtensionConfiguration")).MpsExtensionConfiguration({postProcessors:{critical:[o("MawMpsCopPostprocessor").MpsCopPostProcessor,r("gkx")("20911")?o("MawMpsMinosUploadPostProcessor").MawMpsMinosUploadPostProcessor:null,o("MawMpsUploadMessagesToEBPostprocessor").MawMpsUploadMessagesToEBPostprocessor].filter(Boolean),nonCritical:[o("MpsMediaDeletionPostProcessor").MpsMediaDeletionPostProcessor,o("MAWMpsGating").isFullMpsEnabled()?o("MpsFtsPostProcessor").MpsFtsPostProcessor:null,o("MawMpsThreadConsistency").MawThreadsConsistencyPostprocessor,o("MAWMpsGating").isMpsSnippetsCacheServiceEnabled()||r("gkx")("2792")?o("MpsCacheServicesPostProcessors").MpsCacheServicesPostProcessor:null].filter(Boolean)},preprocessors:e,readSideEffects:o("MAWMpsReadSideEffects").readSideEffects})}function u(){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield o("BackendInitLoggingUtils").measureMawInit("make_mps",function(){return o("WebMps").makeMps({db:{blockingErrorThreshold:r("justknobx")._("3218"),name:o("MAWIndexedDbMetadata").webReverDbbName(o("MAWCurrentUser").getID()),onBlockingError:function(t){o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(25310776,"6155"),"database_mps_setup_failed"),o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.WORM,key:"reverb.unrecoverable."+t})},qplEvent:r("qpl")._(1056840657,"2716"),strEncKey:r("MessengerWebInitData").accountKeyV2},dependencies:{decryptedProtobufToFullMessage:o("MAWMpsDecryptedProtobufToFullMessage").decryptedProtobufToFullMessage,eb:{getMetadataFromCache:o("EBMessageMetadataCache").getEBMetadataFromCache,isEbEnabled:function(){return r("MAWEBLSInWorkerSwitch").get()},messagePointQuery:o("MAWMpsMessagePointQuery").MAWMpsMessagePointQuery,messageRangeQuery:o("MAWMpsMessageRangeQuery").MAWMpsMessageRangeQuery},generateDeletionMessage:o("MAWMpsGenerateDeletionMessage").generateDeletionMessage},getMpsExtensionConfiguration:s}).then(function(){r("FBLogger")("wmi").INFO(e||(e=babelHelpers.taggedTemplateLiteralLoose(["MPS Message rendering enabled:",""])),o("MAWMpsGating").isMpsMessageRendering())})})}),c.apply(this,arguments)}l.getMpsExtensionConfiguration=s,l.mawMpsSetup=u}),98);
__d("MAWPersistedQueuesSetup",["BackendInitLoggingUtils","MAWCurrentUser","MAWIndexedDbMetadata","MAWODSProxy","MessengerWebInitData","PersistedQueueDB","WAOdsEnums","WormPersistedQueueDb","asyncToGeneratorRuntime","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield o("BackendInitLoggingUtils").measureMawInit("persisted_queues_init",n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield o("PersistedQueueDB").makePersistedQueues({blockingErrorThreshold:r("justknobx")._("3218"),dbName:o("MAWIndexedDbMetadata").persistedQueueDbName(o("MAWCurrentUser").getID()),onBlockingError:function(t){o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.WORM,key:"reverb.unrecoverable."+t})},qplEvent:r("qpl")._(1056840657,"2716"),strEncKey:r("MessengerWebInitData").accountKeyV2}),o("WormPersistedQueueDb").makePersistedQueueDb({blockingErrorThreshold:r("justknobx")._("3218"),dbName:o("MAWIndexedDbMetadata").wormPersistedQueueDbName(o("MAWCurrentUser").getID()),onBlockingError:function(t){o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.WORM,key:"reverb.unrecoverable."+t})},qplEvent:r("qpl")._(1056840657,"2716"),strEncKey:r("MessengerWebInitData").accountKeyV2})}))}),s.apply(this,arguments)}l.mawPersistedQueuesSetup=e}),98);
__d("MAWDeleteDanglingParticipantsStartupJob",["MAWDbVersion","MAWIndexedDb","MAWODSProxy","MAWQplProxy","MAWTransactionMode","WALogger","WAOdsEnums","asyncToGeneratorRuntime","gkx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[Delete Dangling Participants] ",""])),t)}var u=o("MAWIndexedDb").makeMsgrTransactor({participants:o("MAWTransactionMode").READWRITE,threads:o("MAWTransactionMode").READONLY},"deleteDanglingParticipantsStartupJob",function(e){return function(){return e.threads.toArray().then(function(t){return e.participants.where("threadJid").noneOf(t.map(function(e){return e.jid})).delete()})}}),c={run:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(r("gkx")("24027")){s("Starting job..."),o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.MAW_DELETE_DANGLING_PARTICIPANTS,key:"start"});var e=yield o("MAWDbVersion").getDBVersion();if(e!=null&&e>=85){s(""+(e!=null?e:"null"));var t=yield o("MAWQplProxy").measurePerfInQPL_USE_WITH_CARE(r("qpl")._(25310776,"6155"),"startup_job:delete_dangling_participants",function(){return u()});o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.MAW_DELETE_DANGLING_PARTICIPANTS,key:t>0?"deleted":"good"}),s("Found and deleted "+t+" dangling participants")}else s("Expected DBVersion >= 85, but got "+(e!=null?e:"null")+" instead"),o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.MAW_DELETE_DANGLING_PARTICIPANTS,key:"db_version_not_ready"})}});function t(){return e.apply(this,arguments)}return t})()},d=c;l.default=d}),98);
__d("MAWStartupJob",["MAWDeleteDanglingParticipantsStartupJob","MAWQplProxy","Promise","asyncToGeneratorRuntime","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[r("MAWDeleteDanglingParticipantsStartupJob")];function u(){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(25310776,"6155"),"backend_startup_jobs"),yield(e||(e=n("Promise"))).all(s.map(function(e){return e.run()}))}),c.apply(this,arguments)}l.runMAWStartupJobs=u}),98);
__d("MAWSetupAllDatabases",["BackendInitLoggingUtils","EBDB","EBMinosCheckWasmFeatureSupport","EBMinosDb","FBLogger","MAWCacheServiceDB","MAWCurrentUser","MAWDBKeychain","MAWDbInitIndexedDb","MAWEARGenNewKeychainCryptoKey","MAWFTSIndexedDb","MAWIndexedDb","MAWIndexedDbMetadata","MAWJobsIndexedDb","MAWMpsSetup","MAWODSProxy","MAWPersistedQueuesSetup","MAWQplProxy","MAWStartupJob","MAWWormOdsLogger","MWEARKeychainV3","MessengerWebInitData","WAHex","WAOdsEnums","WASignalDB","WmiMediaService","WormGlobalConfig","asyncToGeneratorRuntime","cr:12175","cr:12176","gkx","justknobx","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e,t,a=yield o("EBMinosCheckWasmFeatureSupport").checkWasmFeatureSupport(),i=r("qpl")._(25310776,"6155");o("WormGlobalConfig").setWormGlobalConfig({isOptimisedReadAll:function(){return r("gkx")("10815")}}),yield o("MAWMpsSetup").mawMpsSetup(),yield(t=o("BackendInitLoggingUtils")).measureMawInit("make_jobs_db",o("MAWJobsIndexedDb").makeJobsDb),yield t.measureMawInit("make_fts_db",o("MAWFTSIndexedDb").makeFTSDB);var l=yield t.measureMawInit("make_maw_ear",o("MAWDBKeychain").initEAR),s=l.isNewUser,u=l.reinitEAR,c=l.useMawEAR;yield t.measureMawInit("make_db",n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!c)return o("MAWDbInitIndexedDb").dbInit({});var e;return s===!0&&(e=babelHelpers.extends({},yield r("MAWEARGenNewKeychainCryptoKey")(),{randomisedVersion:o("MWEARKeychainV3").generateNewRandomisedVersionNumber([]),version:1})),o("MAWDbInitIndexedDb").dbInit({onDbPopulate:function(n){o("MAWDBKeychain").onDbPopulateMAWKeychain(n,e)}}).then(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){u===!0&&(yield o("MAWDBKeychain").initEAR()),o("MWEARKeychainV3").setNamespaceSourceDbAndMarkAsReady("maw_ear",(yield o("MAWIndexedDb").getDB()).stores.backendDB())}))})),yield t.measureMawInit("make_signal_db",function(){return o("WASignalDB").makeSignalDb(o("MAWIndexedDbMetadata").signalWorm(o("MAWCurrentUser").getID()),r("MessengerWebInitData").accountKeyV2,r("justknobx")._("3218"),function(e){o("MAWQplProxy").sendQplPointThroughBridge(i,"database_signal_db_setup_failed"),o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.WORM,key:"unrecoverable."+e})},o("MAWWormOdsLogger").wormOdsWorkerLogger,r("qpl")._(1056840657,"2716"))}),yield o("MAWPersistedQueuesSetup").mawPersistedQueuesSetup(),n("cr:12175")!=null&&(yield n("cr:12175").mawWormDbMaintenanceDbSetup()),yield o("WmiMediaService").wmiMediaServiceSetup({blockingErrorThreshold:r("justknobx")._("3218"),dbName:o("MAWIndexedDbMetadata").wmiMediaServiceName(o("MAWCurrentUser").getID()),onBlockingError:function(t){o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(25310776,"6155"),"database_wmi_media_service_setup_failed"),o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.WORM,key:"reverb.unrecoverable."+t})},qplEvent:r("qpl")._(1056840657,"2716"),strEncKey:r("MessengerWebInitData").accountKeyV2});var d=r("MessengerWebInitData").accountKeyV2,m=(e=d==null?void 0:d.length)!=null?e:0;m===0&&r("FBLogger")("messenger_web").mustfix("accountKeyV2 is empty or null when setting up EBDB. This will cause AES key validation to fail."),yield o("BackendInitLoggingUtils").measureMawInit("make_ebdb",function(){return o("EBDB").makeEBDB(o("MAWIndexedDbMetadata").ebdbName(o("MAWCurrentUser").getID()),r("qpl")._(1056840657,"2716"),o("WAHex").parseHex(d),o("EBDB").EBDBEnvironment.Worker,o("MAWWormOdsLogger").wormOdsWorkerLogger)}),yield o("BackendInitLoggingUtils").measureMawInit("make_cache_service_db",function(){return o("MAWCacheServiceDB").getOrSetupMAWCacheDB()}),(r("gkx")("20911")||r("gkx")("17219"))&&a&&(yield o("EBMinosDb").makeEBMinosDb()),n("cr:12176")!=null&&r("promiseDone")(n("cr:12176").runAllDbMigrations()),r("promiseDone")(o("MAWStartupJob").runMAWStartupJobs())}),s.apply(this,arguments)}l.setupAllDatabases=e}),98);
__d("MAWSetupWorkerMsg",["FBLogger","ifRequired"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.setupHash=e,this.currentWorker=t}var t=e.prototype;return t.postAck=function(){this.currentWorker.postMessage({setupHash:this.setupHash,type:"worker-setup-ack"})},t.postSuccess=function(){this.currentWorker.postMessage({setupHash:this.setupHash,status:"success",type:"worker-setup"})},t.postFailure=function(t){this.currentWorker.postMessage({msg:t,setupHash:this.setupHash,status:"failure",type:"worker-setup"})},t.postNoActionRequired=function(){this.currentWorker.postMessage({action:"no-action",setupHash:this.setupHash,status:"already-setup",type:"worker-setup"})},t.postRebootRequired=function(t){this.currentWorker.postMessage({action:"reboot-required",reason:t,setupHash:this.setupHash,status:"already-setup",type:"worker-setup"})},t.postBackendState=function(t){this.currentWorker.postMessage({backendState:t,setupHash:this.setupHash,type:"worker-setup-ack"})},e})();function s(e){var t;(t=r("ifRequired")("CurrentSharedWorkerExperimental",function(t){t.shutdownWorker(e)},function(){}))!=null||r("ifRequired")("CurrentSharedWorker",function(t){t.shutdownWorker(e)},function(){throw r("FBLogger")("messenger_web").mustfixThrow("Failed to update shared worker, reason: "+(e!=null?e:""))})}l.WorkerSetupComms=e,l.shutdownSharedWorker=s}),98);
__d("MAWWorkerEBDeps",["EBDeps","EBLS","EBSMWorkerThreadAPI","EBWorkerEBDBApiDeferred","Promise","WAAPI"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){o("EBDeps").setDeps({getEBSMAPI:function(){return(e||(e=n("Promise"))).resolve(r("EBSMWorkerThreadAPI"))},getLSDB:function(){return o("EBLS").init().then(function(e){return e.db})},getMAWIdentityKeys:r("WAAPI").getIdentityKeys,isBackendSetupSuccessful:function(){return!0},trackAddingNewDevice:o("EBWorkerEBDBApiDeferred").addNewDevice},"MAW worker")}l.initEBDeps=s}),98);
__d("MessengerInfraReportUtils",[],(function(t,n,r,o,a,i){"use strict";var e=function(t){return t===2},l=function(t){switch(t){case 1:return"START";case 2:return"SUCCESS";case 3:return"FAIL";case 4:return"CANCEL";case 113:return"TIMEOUT";case 706:return"CANCEL_UNLOAD";case 4158:return"INVALID";case 87:return"ERROR";case 5947:return"SUCCESS_PAST_TIMEOUT";case 160:return"OFFLINE";default:return String(t)}};i.isQplActionSuccessful=e,i.qplStatusStr=l}),66);
__d("MessengerInfraQplReport",["FBLogger","MAWCurrentUser","MWBroadcastChannel","MessengerInfraReport","MessengerInfraReportUtils","QPLEvent","QuickPerformanceLogger","getErrorSafe","memoizeOneWithArgs"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e={},e[1056839232]={annotations:{string:["errorDescription","failReason","backendAckState"]},name:"MAW_TTRC",single:!0},e[25310776]={annotations:{string:["errorDescription","failReason"]},name:"MAW_INIT",single:!0},e[25305590]={annotations:{string:["uncaught_error"]},name:"LS_INIT",single:!0},e[25313175]={annotations:{int:["errorCode","applicationError"],string:["errorDescription","thread_type"],string_array:["worker_restart_msgs","worker_restart_reasons"]},name:"MESSAGE_SEND_TO_SENT",single:!1},e[30605380]={annotations:{string:["thread_type","cancelType"]},name:"CHAT_TAB_OPEN",single:!1},e[25303796]={annotations:{string:["eb_failure_reason","range_extension_error","cancel_reason"]},name:"LOAD_MORE_MESSAGES",single:!1},e[1056843758]={annotations:{string:["range_extension_error"],string_array:["message_ranges_source"]},name:"MAW_MLV2_RANGE_EXTENSION",single:!1},e[30605361]={annotations:{string:["cancelType"]},name:"POPOVER_SHOW",single:!1},e[398998698]={annotations:{bool:["isE2eeMandated"],string:["errorDescription"]},name:"E2EE_COMPONENTS_CREATION",single:!1},e[398997251]={annotations:{string:["endCallReason"]},name:"CALL_JOIN",single:!1},e[398989351]={name:"ZENON_SDK",single:!1},e[521476165]={annotations:{string:["type","taskSource","triggerType","querySource","error","exception","thread_state_by_jid"]},name:"RESTORE_END_TO_END",single:!1},e[521471755]={annotations:{string:["error_description","exception","source","restoreType"]},name:"EB_API_MESSAGE_RANGE_QUERY",single:!1},e[25302828]={annotations:{string:["fail_reason"]},name:"MEDIA_RENDER",single:!1},e[1056846543]={annotations:{bool:["is_otid","is_thread_requested"],string:["threadState","description"]},name:"MAW_ON_ACT_THREAD_READY_USAGE",single:!1},e[25302828]={annotations:{string:["fail_reason"]},name:"MEDIA_RENDER",single:!1},e[521474469]={name:"EB_API_MESSAGE_POINT_QUERY",single:!1},e[521473213]={name:"EB_API_MEDIA_RESTORE_PROBE",single:!1},e[521476367]={name:"EB_API_MESSAGE_RANGE_QUERY_SEARCH",single:!1},e[521477507]={name:"EBLSDB_INIT",single:!0},e[1056836502]={annotations:{bool:["isMawThreadCreated","hasMappingRowAlready","hasPlaceholderRowInserted","isResultVerified"],string:["flushReason","trigger"]},name:"THREAD_MAPPING",single:!1},e[521471024]={annotations:{string:["backup_id"]},name:"FETCH_BACKUP_IDS",single:!1},e[25307273]={annotations:{string:["errorMsg"]},name:"MAW_DEVICE_REGISTRATION_ALL",single:!0},e),d=r("memoizeOneWithArgs")(function(e){return o("MWBroadcastChannel").MWBroadcastChannel("msgr_qpl_logger_"+e)}),m="not_started",p=function(){return m},_=function(){try{if(o("MessengerInfraReport").isEPD())return m="epd_blocked",function(){};var e=d(o("MAWCurrentUser").getID()),t=function(t){if(n[t.data[0]]==null)return r("FBLogger")("msgr_web_flytrap").warn("Handler %s is not set for QPL listener",t.data[0]);switch(t.data[0]){case"onMarkerEnd":{n.onMarkerEnd==null||n.onMarkerEnd.apply(n,t.data[1]);break}case"onAnnotation":{n.onAnnotation==null||n.onAnnotation.apply(n,t.data[1]);break}case"onMarkerStart":{n.onMarkerStart==null||n.onMarkerStart.apply(n,t.data[1]);break}case"onMarkerPoint":{n.onMarkerPoint==null||n.onMarkerPoint.apply(n,t.data[1]);break}default:r("FBLogger")("maw_init").mustfix("Must implement QPL forwarding for event name: %s",t.data[0])}};e.addEventListener("message",t);var n={onAnnotation:function(t,n,r,o,a){y(t,n,r,o,a)},onMarkerEnd:function(t,n,r){C(t,n,r)},onMarkerPoint:function(t,n,r,o){b(t,n,r,o)},onMarkerStart:function(t,n){v(t,n)}},a=(u||(u=r("QuickPerformanceLogger"))).addListener(n);return m="started",function(){a.dispose(),e.removeEventListener("message",t)}}catch(e){var i=r("getErrorSafe")(e);return m="error",r("FBLogger")("msgr_web_flytrap").catching(i).mustfix("Failed to initialize QPL logger"),function(){}}},f=function(t){var e,n;return(e=(n=c[t])==null?void 0:n.name)!=null?e:"UNKNOWN_QPL_NAME"},g=function(t){var e=(s||(s=o("QPLEvent"))).getMarkerId(t);return c[e]},h=function(t,n){var e=o("MessengerInfraReport").getEventData(t,n);return e};function y(e,t,n,r,a){var i,l=(s||(s=o("QPLEvent"))).getMarkerId(e),u=c[l];if(u&&(i=u.annotations)!=null&&(i=i[a])!=null&&i.includes(n)){var d=h(l,t);d&&d.status===1&&(d.annotations[n]=r)}}function C(e,t,n){var r=(s||(s=o("QPLEvent"))).getMarkerId(t),a=c[r];if(a){var i=h(r,n);i&&i.status===1&&(a.single&&(i.status=e,i.latestTimestampMs=Date.now()),a.single||(o("MessengerInfraReportUtils").isQplActionSuccessful(e)?o("MessengerInfraReport").deleteEventData(r,n):(i.status=e,i.latestTimestampMs=Date.now())))}}function b(e,t,n,r){var a=(s||(s=o("QPLEvent"))).getMarkerId(e),i=c[a];if(i){var l=h(a,t);if(l&&l.status===1&&(l.lastPoints.push(n),r!=null&&i.annotations!=null)){var u=function(t){var e;if(r[t]==null)return 1;(e=i.annotations)==null||e[t].forEach(function(e){var n,o=(n=r[t])==null?void 0:n[e];o!=null&&(l.annotations[e]=o)})};for(var d of Object.keys(i.annotations))u(d)}}}function v(e,t){var n=(s||(s=o("QPLEvent"))).getMarkerId(e),r=c[n];if(r){var a=h(n,t);a!=null&&a.status!==1||o("MessengerInfraReport").storeEventData(n,{annotations:{},lastPoints:[],single:r.single,status:1},t)}}l.ReportedQPLEvents=c,l.getLoggerTabCommunication=d,l.getQplLoggerInitStatus=p,l.initializeLogger=_,l.getQplName=f,l.getReportedEvent=g,l.getCurrentEventData=h,l.onAnnotationHandler=y,l.onMarkerEndHandler=C,l.onMarkerPointHandler=b,l.onMarkerStartHandler=v}),98);
__d("MessengerInfraQplReportInWorker",["MessengerInfraQplReport","MessengerInfraReport","QuickPerformanceLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){if(o("MessengerInfraReport").isEPD())return function(){};var t=(e||(e=r("QuickPerformanceLogger"))).addListener({onAnnotation:function(t,n,r,a,i){o("MessengerInfraQplReport").onAnnotationHandler(t,n,r,a,i)},onMarkerEnd:function(t,n,r){o("MessengerInfraQplReport").onMarkerEndHandler(t,n,r)},onMarkerPoint:function(t,n,r,a){o("MessengerInfraQplReport").onMarkerPointHandler(t,n,r,a)},onMarkerStart:function(t,n){o("MessengerInfraQplReport").onMarkerStartHandler(t,n)}});return function(){t.dispose()}};l.initializeWorkerLogger=s}),98);
__d("getBroadcastChannelForExecutionContext",["CometTaskFrameworkTypes","MWBroadcastChannel"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("MWBroadcastChannel").MWBroadcastChannel(o("CometTaskFrameworkTypes").TASK_FRAMEWORK_PREFIX+"_"+String(e))}l.default=e}),98);
__d("loadTaskHandlerResource",["asyncToGeneratorRuntime","cr:3760"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=n("cr:3760").TASK_HANDLERS_RESOURCES[e];return t==null?null:t.getModuleIfRequired()||t.load()}),s.apply(this,arguments)}l.default=e}),98);
__d("registerExecutionContext",["BroadcastChannelClientServerHandshake","FBLogger","asyncToGeneratorRuntime","getBroadcastChannelForExecutionContext","getErrorSafe","loadTaskHandlerResource","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=e.context,o=e.name,a=e.payload;try{var i=yield r("loadTaskHandlerResource")(o);if(i==null)throw r("FBLogger")("messenger_web").mustfixThrow("No task handler found in context %s",o);var l=yield i.handleTask(a,n),s={context:n,result:l,type:"task_success"};t.postMessage(s)}catch(o){var u,c=r("getErrorSafe")(o);r("FBLogger")("messenger_web").catching(c).mustfix("%s executionContext: Failed to execute task %s",String(e.context.executionContext),e.name);var d={context:n,reason:(u=c.message)!=null?u:"",type:"task_failure"};t.postMessage(d)}}),s.apply(this,arguments)}function u(t){var n=r("getBroadcastChannelForExecutionContext")(t);o("BroadcastChannelClientServerHandshake").listen(n);var a=new Set;return n.addEventListener("message",function(t){switch(t.data.type){case"execute_task":{var o=t.data,i=o.context.taskID;if(a.has(i))return;a.add(i),r("promiseDone")(e(o,n).finally(function(){a.delete(i)}));break}default:}}),function(){return n.close()}}l.default=u}),98);
__d("registerMAWExecutionContext",["CometTaskFrameworkTypes","registerExecutionContext"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("registerExecutionContext")(o("CometTaskFrameworkTypes").ExecutionContext.MAW_WORKER)}l.default=e}),98);
__d("MAWCommonMainWebWorker",["BackendInitLoggingUtils","BrowserLockManager","EBIsEbEnabled","EBIsEbEnabledSubscriber","EBLS","EBStateConsistencyMonitor","FBLogger","IGDWebUtils","MAWBackendBridgeSetup","MAWBridge","MAWCompareWorkerSetupArgs","MAWDataSyncQueue","MAWDeleteOldLogsFromDisk","MAWDeviceRegistrationInitWorker","MAWEBLSInWorkerSwitch","MAWGetDbVersion","MAWLoggingSwitches","MAWQplProxy","MAWRotateDTSG","MAWSetupAllDatabases","MAWSetupWorkerMsg","MAWVaultMaterials","MAWWebWorkerLogger","MAWWorkerEBDeps","MAWWorkerSetupArgs","MessengerInfraQplReportInWorker","QPLFlow","Random","WACrossWorkerPortal","WADevToolsBridge","WALogger","asyncToGeneratorRuntime","getSafeQplErrorMessage","gkx","justknobx","pageID","promiseDone","qpl","registerMAWExecutionContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("justknobx")._("1495"),c,d,m=!1;o("BackendInitLoggingUtils").initializeBackendLogging();function p(t){if(m){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Worker should not run initWorker() more than once."])));return}var a=t.currentWorker,i=o("MAWBackendBridgeSetup").initWorkerBridge(a);o("MessengerInfraQplReportInWorker").initializeWorkerLogger(),R(a),a.addMessageListener("worker-setup",(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield _(e,t,i)});return function(t){return e.apply(this,arguments)}})()),o("MAWWorkerEBDeps").initEBDeps(),d=r("BrowserLockManager")!=null&&!u?L():null,a.addMessageListener("force-flush-data",function(){self.dispatchEvent(new CustomEvent("force-flush-logs")),r("promiseDone")(o("MAWDataSyncQueue").forceFlushDataSyncQueue())}),a.addMessageListener("force-flush-logs-only",function(){self.dispatchEvent(new CustomEvent("force-flush-logs"))}),m=!0}function _(e,t,n){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=t.config,i=t.currentWorker,l=new(o("MAWSetupWorkerMsg")).WorkerSetupComms(e.setupHash,i);l.postAck(),o("MAWQplProxy").resolveWorkerBridge();var s=o("MAWWorkerSetupArgs").getWorkerSetupArgs();try{s==null?yield g(e,t,n,l):yield y(s,e,a,l)}catch(e){throw r("gkx")("23986")&&r("promiseDone")(o("MAWWebWorkerLogger").flushLogs()),l.postFailure(o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)),e}}),f.apply(this,arguments)}function g(e,t,n,r){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a,i){var l;if(!a.success){var s,u;i.postFailure((s=(u=a.payload)==null?void 0:u.message)!=null?s:"bridge_setup_fail");return}var m=t.config,p=t.initBackend,_=t.makeLowLevelApi;o("MAWWorkerSetupArgs").setWorkerSetupArgs(e.content),i.postBackendState("starting_new_setup"),b(e.content.vaultMaterials,i),o("MAWGetDbVersion").setArmadilloDbVersionForTest(e.content.testDbVersion),d=d!=null?d:L(),c=d.then(function(e){var t=e.hmacKey,n=e.regData;return p(n,t,o("MAWBridge").getBridge(),_(n.regInfo),m)}),o("MAWLoggingSwitches").removeLoggingFromBridge&&o("MAWDeleteOldLogsFromDisk").deleteOldLogsOnStartup(),v(e.content.devToolMessageChannelPort2);var f;if(((l=o("MAWWorkerSetupArgs").getWorkerSetupArgs())==null?void 0:l.ebState)!=null&&k()){var g;f=o("QPLFlow").startQPLFlow(r("qpl")._(521478131,"1562"),{annotations:{bool:{main_thread_state:(g=o("MAWWorkerSetupArgs").getWorkerSetupArgs())==null?void 0:g.ebState},string:{source:"worker_startup"}}})}o("EBLS").init().then((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(f!=null){var t,n=yield o("EBIsEbEnabled").isEbEnabledLS(e.db.tables),a=r("MAWEBLSInWorkerSwitch").isEnabled();f.addAnnotations({bool:{worker_state:n,worker_switch_state:a}}),((t=o("MAWWorkerSetupArgs").getWorkerSetupArgs())==null?void 0:t.ebState)===n?f.endSuccess():f.endFail("inconsistent_state")}o("EBIsEbEnabledSubscriber").initIsEbEnabledPubSub(e.db),o("EBStateConsistencyMonitor").startEBStateConsistencyMonitoring()});return function(t){return e.apply(this,arguments)}})()).catch(function(){o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(25310776,"6155"),"ebls_init_failed")}),yield c,r("registerMAWExecutionContext")(),i.postSuccess()}),h.apply(this,arguments)}function y(e,t,n,r){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){if(!n.isSharedWorkerContext())throw r("FBLogger")("messenger_web").mustfixThrow("only shared workers can perform re-init!");var i=o("MAWCompareWorkerSetupArgs").didWorkerSetupArgsChange(e,t.content);if(i.hasArgsChanged){if(a.postRebootRequired(i.reason),n.isSharedWorkerContext()){var l="update-required-"+i.reason;o("MAWSetupWorkerMsg").shutdownSharedWorker(l)}else self.close();return}c==null&&a.postFailure("No setup happened"),a.postBackendState("setup_ongoing"),yield c,a.postNoActionRequired()}),C.apply(this,arguments)}function b(e,t){if(r("gkx")("23909")){if(e==null||e.encryptionKey==null||e.prefixAndSuffix==null)throw t.postFailure("null_vault_materials"),r("FBLogger")("messenger_web").mustfixThrow("Vault materials was null in worker setup");o("MAWVaultMaterials").initializeVaultMaterials(e)}else o("IGDWebUtils").isOnInstagramWeb()||r("FBLogger")("messenger_web").mustfix("[Vaulting] Vaulting GK disabled on worker init")}function v(e){if(r("gkx")("3282"))if(e==null)o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Missing DevTool port. Not able to setup DevTool"])));else{var t=o("WACrossWorkerPortal").attachPortal(o("WADevToolsBridge").getDevToolBridge(),["devtool","mawDbDevTool"],function(e,t){return e.push(t),e},r("pageID"));t.setPort(e)}}function S(e,t){c=e,m=t}function R(e){e.postMessage({status:"worker-ready",type:"worker-setup"})}function L(){return E.apply(this,arguments)}function E(){return E=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return r("promiseDone")(o("MAWRotateDTSG").tryRotateDTSG()),yield o("MAWSetupAllDatabases").setupAllDatabases(),o("BackendInitLoggingUtils").MAWMICPoint("backend_db_ready"),o("MAWDeviceRegistrationInitWorker").registerDevice().then(function(e){return o("BackendInitLoggingUtils").MAWMICPoint("backend_device_ready"),e})}),E.apply(this,arguments)}function k(){return o("Random").random()<r("justknobx")._("3951")/100}l.initWorker=p,l.presetBackend_TEST_ONLY=S}),98);
__d("WorkerBridgeAdaptor",["WorkerMessagePort","WorkerSelf"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.onmessage=null,o("WorkerSelf").init(r),r.$WorkerBridgeAdaptor$p_1=t,r.onUnhandledMessage.add(function(e){r.onmessage&&r.onmessage({data:e})}),r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getBridgePort=function(){return this},t})(o("WorkerMessagePort").WorkerSyncedMessagePort);l.default=e}),98);
__d("IGDAWMainWebWorker",["CurrentWorkerMessagePort","FalcoLoggerTransports","IGDAWMainWebWorkerConfig","IGDBackend","IGDLowLevelApiImpl","MAWCommonMainWebWorker","WorkerBridgeAdaptor"],(function(t,n,r,o,a,i,l){"use strict";function e(){self.Env=self.Env||{};var e=new(r("WorkerBridgeAdaptor"))(o("CurrentWorkerMessagePort").getMessagePort(),"IGDAWMainWebWorker");o("MAWCommonMainWebWorker").initWorker({config:o("IGDAWMainWebWorkerConfig").waConfig,currentWorker:e,initBackend:o("IGDBackend").startIGDBackend,makeLowLevelApi:o("IGDLowLevelApiImpl").makeLowLevelApi}),o("FalcoLoggerTransports").attach()}l.default=e}),98);
__d("MAWCatQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29559957360285299"}),null);
__d("MAWCatQuery.instagram.graphql",["MAWCatQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"SecureMessageOverWACATGraphResult",kind:"LinkedField",name:"secure_message_over_wa_cat_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_serialized_cat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expiration_time_in_seconds",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWCatQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWCatQuery",selections:e},params:{id:n("MAWCatQuery_instagramRelayOperation"),metadata:{},name:"MAWCatQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("ReStoreLocalStorageQuotaExceed",["FBLogger","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e="Failed to execute 'setItem' on 'Storage'",s="ReStoreLocalStorageQuotaExceed";function u(){try{var t=window.localStorage,n=[],o=[];if(t!=null&&t.length!==0){for(var a in t)if(n.length===0&&o.length===0&&a.includes("falco_queue_log")&&o.push(a),!!Object.prototype.hasOwnProperty.call(t,a)){var i=((t[a]||"").length+a.length)*2;i/1024>2e3&&n.push(a)}}return r("FBLogger")("messenger_web").mustfix(e+": QuotaExceeded - trying to clean up %s or %s",n.join(","),o.join(",")),n.length!==0?n:o}catch(e){return r("FBLogger")("messenger_web").mustfix("Error getting local storage big values for cleanup."),[]}}function c(){try{var e=window.localStorage,t=u();t.forEach(function(t){e.removeItem(t)})}catch(e){var n=r("getErrorSafe")(e);r("FBLogger")("maw_db").mustfix("Couldn't remove vals from localStorage",n.message)}}var d=(function(t){function n(n){var r,o=e+": "+n+"; Keys to delete: "+u().join(",");return r=t.call(this,o)||this,r.message=o,r.name=s,r}return babelHelpers.inheritsLoose(n,t),n})(babelHelpers.wrapNativeSuper(Error));l.ERROR_NAME=s,l.getLocalStorageValuesToRemoveOnExceed=u,l.clearLocalStorageBigValues=c,l.ReStoreLocalStorageQuotaExceed=d}),98);
__d("WAAPIDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=r("requireDeferred"))("WADbPersonalSenderKeyStatusTxns").__setRef("WAAPIDeferred"),u=e("WADbRegistrationApi").__setRef("WAAPIDeferred"),c=e("WADownloadMedia").__setRef("WAAPIDeferred"),d=e("WAGenerateAndUploadPreKeys").__setRef("WAAPIDeferred"),m=e("WAGetCurrentUserDeviceList").__setRef("WAAPIDeferred"),p=e("WAGetDevices").__setRef("WAAPIDeferred"),_=e("WAGetIdentityKeys").__setRef("WAAPIDeferred"),f=e("WANotifyDeviceChange").__setRef("WAAPIDeferred"),g=e("WAPublishAppDataProtocol").__setRef("WAAPIDeferred"),h=e("WAPublishMessage").__setRef("WAAPIDeferred"),y=e("WAQueryGroupsAndSync").__setRef("WAAPIDeferred"),C=e("WARemoveCurrentDevice").__setRef("WAAPIDeferred"),b=e("WARemoveDevice").__setRef("WAAPIDeferred"),v=e("WASendAppDataFanoutProtocol").__setRef("WAAPIDeferred"),S=e("WASendMsgUtilV2").__setRef("WAAPIDeferred"),R=e("WASendPing").__setRef("WAAPIDeferred"),L=e("WASignalDbDump").__setRef("WAAPIDeferred"),E=e("WASyncAbProps").__setRef("WAAPIDeferred"),k={getCurrentUserDeviceList:function(){return m.load().then(function(e){return e.getCurrentUserDeviceList()})},syncAbProps:function(t){return E.load().then(function(e){return e.syncAbProps(t)})},debugGetSignalDbDump:function(){return L.load().then(function(e){return e.debugGetSignalDbDump()})},generateAndUploadPreKeys:function(t){return d.load().then(function(e){return e.generateAndUploadPreKeys(t)})},publishAppData:function(t){return g.load().then(function(e){return e.publishAppData(t)})},getDevicesBeforeSend:function(t){return S.load().then(function(e){var n=e.getDevicesBeforeSend;return n(t)})},getIdentityKeys:function(){return _.load().then(function(e){var t=e.getIdentityKeysInWorker;return t()})},publishMessage:function(t,n){return h.load().then(function(e){var r=e.publishMessage;return r(t,n)})},sendChatMessage:function(t,n){return S.load().then(function(e){var r=e.sendChatMessage;return r(t,n)})},updateClockSkew:function(t){return R.load().then(function(e){return e.updateClockSkew(t)})},queryGroups:function(t){return y.load().then(function(e){return e.queryGroupsLegacyWAAPI(t,!1)})},queryGroupsForce:function(t){return y.load().then(function(e){return e.queryGroupsLegacyWAAPI(t,!0)})},getDevices:function(t){return p.load().then(function(e){return e.getDevices(t)})},removeDevice:function(t){return b.load().then(function(e){return e.removeDevice(t)})},removeCurrentDevice:function(){return C.load().then(function(e){return e.removeCurrentDevice()})},notifyDeviceChange:function(t){return f.load().then(function(e){return e.notifyDeviceChange(t)})},saveLastSessionDeviceWasLinkedTo:function(t){return u.load().then(function(e){return e.saveLastSessionDeviceWasLinkedTo(t)})},sendAppData:function(t){return v.load().then(function(e){return e.sendAppDataToDevicesProtocol(t)})},setRotateSenderKeyToTrue:function(t){return s.load().then(function(e){return e.bulkSetRotateSenderKeyToTrue(t)})},downloadMedia:function(t){return c.load().then(function(e){return e.downloadMedia(t)})},cachedDownloadFullMediaOnly:function(t){return c.load().then(function(e){return e.cachedDownloadFullMediaOnly(t)})}},I=k;l.default=I}),98);/*FB_PKG_DELIM*/
__d("mlcEditableSubscription",[],(function(t,n,r,o,a,i){"use strict";function e(e){return{initialValueFn:function(){return e.isEditable()},subscribe:function(n){return e.registerEditableListener(n)}}}i.default=e}),66);
__d("useCometLexicalSubscription",["react","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useLayoutEffect,d=u.useState;function m(t){var n=(e||(e=r("useUnsafeRef_DEPRECATED")))(t.initialValueFn()),o=d(n.current),a=o[0],i=o[1];return c(function(){var e=t.initialValueFn,r=t.subscribe,o=e();return n.current!==o&&(n.current=o,i(o)),r(function(e){n.current=e,i(e)})},[t]),a}l.default=m}),98);
__d("CometLexicalContentEditable.react",["CometLexicalContentEditableCommands","Lexical","LexicalComposerContext","LexicalContentEditable","mlcEditableSubscription","react","stylex","useCometLexicalSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaAutoComplete","ariaDescribedBy","ariaExpanded","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwneeID","ariaRequired","autoCapitalize","autoComplete","autoCorrect","contentEditableRef","isInitiallyFocused","role","spellCheck","tabIndex","webDriverTestID","xstyle"],s,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useLayoutEffect,_=d.useMemo,f=d.useState,g={editor:{color:"xzsf02u",outline:"x1a2a7pz",position:"x1n2onr6",textAlign:"x14wi4xw",$$css:!0}};function h(t){var n,a=t.ariaAutoComplete,i=t.ariaDescribedBy,l=t.ariaExpanded,u=t.ariaLabel,d=t.ariaLabelledBy,h=t.ariaMultiline,y=t.ariaOwneeID,C=t.ariaRequired,b=t.autoCapitalize,v=t.autoComplete,S=t.autoCorrect,R=t.contentEditableRef,L=t.isInitiallyFocused,E=L===void 0?!1:L,k=t.role,I=k===void 0?"textbox":k,T=t.spellCheck,D=T===void 0?!1:T,x=t.tabIndex,$=t.webDriverTestID,P=t.xstyle,N=babelHelpers.objectWithoutPropertiesLoose(t,e),M=o("LexicalComposerContext").useLexicalComposerContext(),w=M[0],A=f(void 0),F=A[0],O=A[1],B=f(void 0),W=B[0],q=B[1],U=r("useCometLexicalSubscription")(_(function(){return r("mlcEditableSubscription")(w)},[w]));return p(function(){return w.registerCommand(o("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,function(e){return Object.prototype.hasOwnProperty.call(e,"activeDescendantID")&&O(e.activeDescendantID),Object.prototype.hasOwnProperty.call(e,"controlsID")&&q(e.controlsID),!1},o("Lexical").COMMAND_PRIORITY_EDITOR)},[w]),m(function(){E&&w.focus(function(){var e=document.activeElement,t=w.getRootElement();(!(t!=null&&t.contains(e))||t!=null||e==null)&&(t==null||t.focus({preventScroll:!0}))})},[w,E]),c.jsx(o("LexicalContentEditable").ContentEditable,babelHelpers.extends({ariaActiveDescendant:F!=null?F:void 0,ariaAutoComplete:a,ariaControls:W!=null?W:void 0,ariaDescribedBy:i,ariaExpanded:l,ariaLabel:(n=u==null?void 0:u.toString())!=null?n:void 0,ariaLabelledBy:d,ariaMultiline:h,ariaOwns:y,ariaRequired:C!=null?C:void 0,autoCapitalize:b,autoComplete:v,autoCorrect:S,className:(s||(s=r("stylex")))(g.editor,P)+" "+(U?"notranslate":""),"data-testid":void 0,ref:R,role:I,spellCheck:D,suppressContentEditableWarning:!0,tabIndex:x},N))}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),98);
__d("CometLexicalPlaceholder.react",["react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={placeholder:{color:"xi81zsa",insetInlineStart:"x1o0tod",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",textOverflow:"xlyipyv",top:"x13vifvy",userSelect:"x87ps6o",whiteSpace:"xuxw1ft",width:"xh8yej3",$$css:!0}};function d(t){var n=t.children,o=t.xstyle;return u.jsx("div",babelHelpers.extends({children:n},(e||(e=r("stylex"))).props(c.placeholder,o)))}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("CometPhotoGrid.react",["BaseAspectRatioContainer.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=4,c=6,d={item:{boxSizing:"x9f619",flexBasis:"x1yu6fn4",$$css:!0},itemEnlarged:{flexBasis:"x4pfjvb",$$css:!0},itemNarrowSpacing:{paddingTop:"x1nn3v0j",paddingInlineEnd:"x14vy60q",paddingBottom:"x1120s5i",paddingInlineStart:"xyiysdx",$$css:!0},itemWideSpacing:{paddingTop:"xyqdw3p",paddingInlineEnd:"x1im30kd",paddingBottom:"xg8j3zb",paddingInlineStart:"x1djpfga",$$css:!0},wrapper:{display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",$$css:!0},wrapperNarrowSpacing:{marginTop:"x1kgmq87",marginInlineEnd:"x11lt19s",marginBottom:"xmgb6t1",marginInlineStart:"xe9ewy2",$$css:!0},wrapperWideSpacing:{marginTop:"x1198e8h",marginInlineEnd:"x18faa90",marginBottom:"x1huwwth",marginInlineStart:"x4h0osi",$$css:!0}};function m(e,t){return e<2&&t%3===2}function p(e){var t=e.children,n=e.spacing,a=n===void 0?"narrow":n,i=e.uniformGrid,l=i===void 0?!1:i,u=s.Children.toArray(t),c=u.length;return s.jsx(o("react-strict-dom").html.div,{style:[d.wrapper,a==="narrow"&&d.wrapperNarrowSpacing,a==="wide"&&d.wrapperWideSpacing],children:s.Children.map(u,function(e,t){return s.jsx(o("react-strict-dom").html.div,{style:[d.item,a==="wide"&&d.itemWideSpacing,a==="narrow"&&d.itemNarrowSpacing,!l&&m(t,c)&&d.itemEnlarged],children:s.jsx(r("BaseAspectRatioContainer.react"),{aspectRatio:1,children:e})})})})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("CometVideoPlayerLoggingConfigForIGDMusicSticker",["IGVideoMetadataProvider"],(function(t,n,r,o,a,i,l){"use strict";function e(){return{disableCVCSubscription:!0,disableLogging:!1,loggingToSNAPLCreateMetadataProvider:o("IGVideoMetadataProvider").createIGVideoMetadataProvider,loggingToSNAPLEnabled:!0,loggingToVPLEnabled:!1}}l.createCometVideoPlayerLoggingConfigForIGDMusicSticker=e}),98);
__d("E2EELinkPreviewXMADataStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({LOADED:1,LOADING:2,DISABLED:3});i.default=e}),66);
__d("FDSAppThreadsFilled16Icon",["cr:14370"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14370")}),98);
__d("FDSBlurredBackgroundImage.react",["CometBackgroundImage.react","XPlatReactEnvironment","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["xstyle"],s,u=s||(s=o("react")),c={imageContainer:{filter:"xtea3wc",height:"xu1mrb",$$css:!0},imageContainerVR:{transform:"x15f76sd",$$css:!0},imageContainerWeb:{transform:"x1yyh9jt",width:"x1jx8tsq",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0}};function d(t){var n=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(o("react-strict-dom").html.div,{style:[c.root,n],children:u.jsx(o("react-strict-dom").html.div,{style:[c.imageContainer,o("XPlatReactEnvironment").isWeb()?c.imageContainerWeb:c.imageContainerVR],children:u.jsx(r("CometBackgroundImage.react"),babelHelpers.extends({},a))})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("FDSImageCover.react",["BaseImage_DEPRECATED.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["alt","loading","onError","onLoad","src","style"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useRef,p=c.useState,_=(function(){var e=document.documentElement;return e==null?!0:"objectFit"in e.style})();function f(t){var n=t.alt,o=t.loading,a=t.onError,i=t.onLoad,l=t.src,s=t.style,c=babelHelpers.objectWithoutPropertiesLoose(t,e),_=p(null),f=_[0],g=_[1],h=m(),y=d(function(){var e=h.current;e==null||!(e instanceof HTMLImageElement)||typeof e.src!="string"||(g(e.src),i!=null&&i())},[i]);return f!=null?u.jsx("div",{className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3",style:babelHelpers.extends({backgroundImage:"url("+f+")",backgroundPosition:"center center",backgroundSize:"cover"},s)}):u.jsx(r("BaseImage_DEPRECATED.react"),babelHelpers.extends({},c,{className:"xqtp20y xnalus7",loading:o||void 0,onError:a,onLoad:y,ref:h,src:l,style:s}))}f.displayName=f.name+" [from "+i.id+"]";function g(e){return u.jsx(r("BaseImage_DEPRECATED.react"),babelHelpers.extends({className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3"},e))}g.displayName=g.name+" [from "+i.id+"]";var h=_?g:f;l.default=h}),98);
__d("IGDAWAdminWriteMsgTxn",["I64","LSAuthorityLevel","LSIntEnum","LSMessageSendStatus","LSMessageUnsendabilityStatus","WAGlobals","WAJids","asyncToGeneratorRuntime","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var a,i,l=r("uuidv4")(),u="admin:"+(e||(e=o("I64"))).to_string(n.threadKey)+":"+l,c=(a=n.timestampMs)!=null?a:(e||(e=o("I64"))).of_float(Date.now());yield t.messages.put({adminMsgCtaType:n.ctaType,authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:s.ofNumber(r("LSMessageUnsendabilityStatus").DENY_LOG_MESSAGE),displayedContentTypes:s.ofNumber(32),isAdminMessage:!0,messageId:u,offlineThreadingId:l,primarySortKey:c,secondarySortKey:void 0,senderId:(i=n.senderId)!=null?i:(e||(e=o("I64"))).of_string(o("WAJids").extractUserId(o("WAGlobals").getMyUserJid())),sendStatus:s.ofNumber(r("LSMessageSendStatus").SERVER_RECEIVED),sendStatusV2:s.ofNumber(2),text:n.text,threadKey:n.threadKey,timestampMs:c,transportKey:"FBBroker"})}),c.apply(this,arguments)}l.writeAdminMessageTxn=u}),98);
__d("IGDAiAgentsUtils",["I64","LSIntEnum","MessagingAttachmentType","MessagingThreadSubtype"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u="656175869434325";function c(t){return t!=null&&(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingThreadSubtype").IG_AI_BOT_ONE_TO_ONE))}function d(t){var n=t.attachmentType,a=t.mustacheText;if(n==null||a==null)return!1;var i=(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)),l=a!=null&&a!=="";return i&&l}function m(t){return t!=null&&(e||(e=o("I64"))).equal(t,(e||(e=o("I64"))).of_string(u))}l.isAiThread=c,l.isGenAISticker=d,l.isMetaAiThread=m}),98);
__d("IGDMessageBubbleSelector.react",["cr:4342","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));l.default=n("cr:4342")}),98);
__d("IGDChatBubble.react",["IGDMessageBubbleSelector.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.memo,c={container:{paddingTop:"xm7lytj",paddingInlineEnd:"xpdmqnj",paddingBottom:"x1ykpatu",paddingInlineStart:"x1g0dm76",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.connectBottom,i=e.connectTop,l=e.outgoing,u=e.precedesXMA,d=l?"right":"left",m=l?"outgoing":"incoming",p;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==u||t[4]!==d||t[5]!==m?(p=s.jsx(r("IGDMessageBubbleSelector.react"),{align:d,color:m,connectBottom:a,connectTop:i,precedesXMA:u,xstyle:c.container,children:n}),t[0]=n,t[1]=a,t[2]=i,t[3]=u,t[4]=d,t[5]=m,t[6]=p):p=t[6],p}var m=u(d);l.default=m}),98);
__d("IGDChatEmoji.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={chatEmoji:{fontSize:"xu54ipa",lineHeight:"xb7ehew",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",whiteSpace:"x126k92a",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(5),a=t.text,i=t.xstyle;if(a!=null){var l;n[0]!==i?(l=(e||(e=r("stylex"))).props(c.chatEmoji,i),n[0]=i,n[1]=l):l=n[1];var s;return n[2]!==l||n[3]!==a?(s=u.jsx("span",babelHelpers.extends({},l,{children:a})),n[2]=l,n[3]=a,n[4]=s):s=n[4],s}else return null}l.default=d}),98);
__d("IGDComposerConstants",[],(function(t,n,r,o,a,i){"use strict";var e=1e3;i.IGD_COMPOSER_MAX_LENGTH=e}),66);
__d("IGDComposerEmojiButton.react",["IGDEmojiButtonEntryPointPopoverTrigger.react","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","MessengerWebUXLogger","Promise","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("JSResourceForInteraction")("IGDAddEmojiToComposerForLexical").__setRef("IGDComposerEmojiButton.react");function d(t){var a=o("react-compiler-runtime").c(11),i=t.editor,l;a[0]!==i?(l=function(o){r("promiseDone")(c.load().then(function(t){return t(o,i),(e||(e=n("Promise"))).resolve()}))},a[0]=i,a[1]=l):l=a[1];var s=l,d=r("MessengerWebUXLogger").useInteractionLogger(),m=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),p;a[2]!==m?(p={eventName:"composer_emoji_picker_button_rendered",flowInstanceId:m},a[2]=m,a[3]=p):p=a[3];var _=r("MessengerWebUXLogger").useImpressionLoggerRef(p),f;a[4]!==m||a[5]!==d?(f=function(){d==null||d({eventName:"composer_open_emoji_picker",flowInstanceId:m})},a[4]=m,a[5]=d,a[6]=f):f=a[6];var g=f,h;return a[7]!==g||a[8]!==_||a[9]!==s?(h=u.jsx(r("IGDEmojiButtonEntryPointPopoverTrigger.react"),{logClickEvent:g,logImpressionEventRef:_,onSelect:s}),a[7]=g,a[8]=_,a[9]=s,a[10]=h):h=a[10],h}l.default=d}),98);
__d("IGDComposerIconSendButton.react",["fbt","IGDSBox.react","IGDSIconButton.react","IGDSMessagesFilledIcon.react","PolarisUA","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={chatTabSendButtonDesktop:{marginInlineEnd:"x1mpyi22",$$css:!0},sendButton:{alignSelf:"x7fd4wk",backgroundColor:"x5slmwz",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",height:"x90ne7k",marginBottom:"xu06os2",width:"xvni27",$$css:!0},sendButtonDesktop:{marginBottom:"xjpr12u",marginInlineEnd:"xnnr8r",$$css:!0},sendButtonDisabled:{cursor:"x1h6gzvc",opacity:"xuzhngd",$$css:!0},sendButtonOnHover:{":hover_filter":"x1spsku0",$$css:!0},sendButtonPrismIcon:{marginTop:"xdj266r",$$css:!0},sendEditButtonMobile:{marginBottom:"xat24cr",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(8),n=e.hidden,a=e.isDisabled,i=e.isEdit,l=e.onClick,d=e.ref,m=e.testid,p=r("useIsChatTabsDisplay")(),_;return t[0]!==n||t[1]!==p||t[2]!==a||t[3]!==i||t[4]!==l||t[5]!==d||t[6]!==m?(_=n!==!0&&u.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:d,isDisabled:a,label:s._(/*BTDS*/"Send"),onClick:l,xstyle:[c.sendButton,a?c.sendButtonDisabled:c.sendButtonOnHover,i===!0&&(o("PolarisUA").isMobile()?c.sendEditButtonMobile:[c.sendButtonDesktop,p&&c.chatTabSendButtonDesktop])],children:u.jsx(r("IGDSBox.react"),{xstyle:c.sendButtonPrismIcon,children:u.jsx(r("IGDSMessagesFilledIcon.react"),{alt:s._(/*BTDS*/"Send"),color:"web-always-white",size:18})})}),t[0]=n,t[1]=p,t[2]=a,t[3]=i,t[4]=l,t[5]=d,t[6]=m,t[7]=_):_=t[7],_}l.default=d}),226);
__d("IGDGetMessageForLSOptimisticEdit",["LSDatabaseSingleton","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.messageId,r=t.threadKey,a=t.timestampMs,i=yield(e||(e=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue(),l=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.messages).getKeyRange(r,a,n));return l}),u.apply(this,arguments)}l.default=s}),98);
__d("IGDRevertOptimisticMessage",["LSDatabaseSingleton","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=yield(e||(e=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue();return r.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield e.messages.put(t)});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":20")}),u.apply(this,arguments)}l.default=s}),98);
__d("IGDWriteOptimisticLSEditMessage",["I64","LSDatabaseSingleton","LSIntEnum","LSMessageSendStatus","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.message,l=t.text,c=yield(e||(e=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue(),d=a.editCount!=null?(s||(s=o("I64"))).to_float(a.editCount):0,m=d+1,p=babelHelpers.extends({},a,{editCount:(s||(s=o("I64"))).of_float(m),sendStatus:(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:u.ofNumber(1),text:l});return c.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield e.messages.put(p)});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":42")}),d.apply(this,arguments)}l.default=c}),98);
__d("IGDMAPIEditMessage",["IGDGetMessageForLSOptimisticEdit","IGDMAPIQPLPoints","IGDMessageSendService","IGDRevertOptimisticMessage","IGDWriteOptimisticLSEditMessage","QPLFlow","asyncToGeneratorRuntime","createIGDMessageSendContext","getSafeQplErrorMessage","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=r("createIGDMessageSendContext")(e,t.messageId,t.offlineThreadingId),i=o("QPLFlow").startQPLFlow(r("qpl")._(354954279,"1622"),{annotations:{string:{type:o("IGDMAPIQPLPoints").IGDMAPIQPLSendType.EDIT_MESSAGE}},instanceKey:a.instanceKey}),l=n!=null?yield r("IGDGetMessageForLSOptimisticEdit")({messageId:t.messageId,threadKey:n.threadKey,timestampMs:n.timestampMs}):null;try{var s={body:{sensitive_string_value:t.text},offline_threading_id:t.offlineThreadingId,target_message_id:t.messageId,thread_id:t.threadId},u={variables:s};n!=null&&l!=null&&(i.addAnnotations({bool:{hasLSOptimisticMessage:!0}}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_START),yield r("IGDWriteOptimisticLSEditMessage")({message:l,text:t.text}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_END)),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_START);var c=o("IGDMessageSendService").makeMessagePublishService();i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_END),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_START),yield c.publish({commitMutationConfig:u,type:"edit_message"},a,i),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_END),i.endSuccess()}catch(e){n!=null&&l!=null&&(i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_START),yield r("IGDRevertOptimisticMessage")(l),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_END)),i.endFail("runtime-error",{string:{error:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})}}),s.apply(this,arguments)}l.IGDMAPIEditMessage=e}),98);
__d("IGDOffMsysComposerUtils",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("842")===!0}l.enableIGDOffMsysComposer=e}),98);
__d("MWXCircleButton.react",["BaseTheme.react","MWXSvgIcon","MWXThreadThemeColor","cr:6681","cr:7510","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["aria-label","color","icon","ref","size","type"],s,u=s||(s=o("react")),c=s.useMemo;function d(t){var a=t["aria-label"],i=t.color,l=t.icon,s=t.ref,d=t.size,m=t.type,p=babelHelpers.objectWithoutPropertiesLoose(t,e),_=i instanceof o("MWXThreadThemeColor").MWXThreadThemeColor?"primary":i,f=c(function(){return i instanceof o("MWXThreadThemeColor").MWXThreadThemeColor?{dark:{"primary-icon":i.color},light:{"primary-icon":i.color},type:"VARIABLES"}:void 0},[i]),g=l instanceof o("MWXSvgIcon").MWXSvgIcon?l.component:l,h=null;return n("cr:7510")!=null&&(h=u.jsx(n("cr:7510"),babelHelpers.extends({"aria-label":a,color_DEPRECATED:_,icon:g,size:d,type_DEPRECATED:m},p,{ref:s}))),n("cr:6681")!=null&&(h=u.jsx(n("cr:6681"),babelHelpers.extends({color:_,icon:g,iconRatio:l instanceof o("MWXSvgIcon").MWXSvgIcon?"medium":void 0,label:a,size:d,type:m},p,{ref:s}))),f!=null?u.jsx(r("BaseTheme.react"),{config:f,children:h}):h}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXIconCross",["MWXSvgIcon","SVGIcon","cr:22288","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22288")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconDocument",["MWXSvgIcon","SVGIcon","cr:22296","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22296")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconPhotoPlus",["MWXSvgIcon","SVGIcon","cr:22434","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22434")),r("gkx")("23219"));l.default=e}),98);
__d("MWXImage.react",["cr:1261","cr:2838","cr:6682","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["objectFit","src"],s,u=s||(s=o("react"));function c(t){var r=t.objectFit,o=t.src,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return n("cr:6682")!=null?u.jsx(n("cr:6682"),babelHelpers.extends({objectFit:r,src:o},a)):typeof o=="string"?n("cr:2838")!=null?u.jsx(n("cr:2838"),babelHelpers.extends({objectFit:r,src:o},a)):null:n("cr:1261")!=null?u.jsx(n("cr:1261"),babelHelpers.extends({src:o},a)):null}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXVideoStatusListener.react",["getErrorNameFromMediaErrorCode","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=e.onError,n=e.onLoad,o=e.videoRef;return s(function(){var e=o==null?void 0:o.current;function a(){n==null||n()}function i(e){var n=e.currentTarget,o=n.error,a=r("getErrorNameFromMediaErrorCode")(o==null?void 0:o.code);t==null||t(a)}if((e==null?void 0:e.readyState)!=null&&e.readyState>=2){a();return}return e==null||e.addEventListener("canplay",a),e==null||e.addEventListener("error",i),function(){e==null||e.removeEventListener("canplay",a),e==null||e.removeEventListener("error",i)}},[t,n,o]),null}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWXComposerAttachmentPreview.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXIconDocument","MWXIconPhotoPlus","MWXIconStrict.react","MWXImage.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MWXVideoStatusListener.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useRef,p={cancelButton:{insetInlineEnd:"xgvahye",left:null,right:null,position:"x10l6tqk",top:"x1v4kod4",$$css:!0},card:{marginInlineEnd:"xbmvrgn",position:"x1n2onr6",$$css:!0},contentWrapper:{backgroundColor:"x1qhmfi1",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xsdox4t",minWidth:"x900493",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},filePreview:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",rowGap:"xp1r0qw",columnGap:"xtqikln",height:"xsdox4t",maxWidth:"x1kbpmyu",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",width:"xezivpi",$$css:!0},imagePreview:{alignItems:"x6s0dn4",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0},playIcon:{insetInlineStart:"xbudbmw",left:null,right:null,marginInlineStart:"x18xomjl",marginTop:"x7wgvq7",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function _(e){var t=e.hasError,n=t===void 0?!1:t,r=e.progress;if(r===1||r==null)return null;var o=4,a=n?"var(--negative)":"var(--chat-composer-button-color, var(--accent))",i=Math.ceil(r*100),l=(o/2).toString(),s="M 0,"+l+" L 100,"+l;return u.jsxs("svg",{"aria-hidden":!0,className:"x15mokao x1ga7v0g xde0f50 x15x8krk x1ey2m1c x1o0tod x10l6tqk xh8yej3",preserveAspectRatio:"none",style:{height:o.toString()},viewBox:"0 0 100 "+o.toString(),children:[u.jsx("path",{d:s,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:o.toString()}),u.jsx("path",{d:s,stroke:a,strokeLinecap:"round",strokeWidth:(i===0?0:o).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-i).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t=e.children,n=e.hasError,a=n===void 0?!1:n,i=e.onCancel,l=e.progress,c=e.testid;return u.jsxs(o("react-strict-dom").html.div,{"data-testid":void 0,style:p.card,children:[u.jsxs(o("react-strict-dom").html.div,{style:p.contentWrapper,children:[t,u.jsx(_,{hasError:a,progress:l})]}),i!=null&&u.jsx(o("react-strict-dom").html.div,{style:p.cancelButton,children:u.jsx(r("MWXCircleButton.react"),{"aria-label":s._(/*BTDS*/"Cancel"),icon:r("MWXIconCross"),onPress:i,size:24,type:"overlay"})})]})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=e.hasError,n=t===void 0?!1:t,o=e.onCancel,a=e.onError,i=e.onLoad,l=e.progress,s=e.src;return u.jsx(f,{hasError:n,onCancel:o,progress:l,testid:void 0,children:u.jsx(r("MWXImage.react"),{objectFit:"contain",onError:a,onLoad:i,src:s,xstyle:p.imagePreview})})}g.displayName=g.name+" [from "+i.id+"]";function h(e){var t=e.hasError,n=t===void 0?!1:t,a=e.onCancel,i=e.onError,l=e.onLoad,s=e.progress,c=e.src,d=m(null);return u.jsxs(f,{hasError:n,onCancel:a,progress:s,testid:void 0,children:[u.jsx(r("MWXVideoStatusListener.react"),{onError:i,onLoad:l,videoRef:d}),u.jsx("video",{className:"xl1xv1r",height:"48",ref:d,src:c,width:"48"}),u.jsx(o("react-strict-dom").html.div,{style:p.playIcon,children:u.jsx(r("MWXImage.react"),{src:"/images/video/play_24dp.png"})})]})}h.displayName=h.name+" [from "+i.id+"]";function y(e){var t=e.hasError,n=t===void 0?!1:t,a=e.onCancel,i=e.onLoad,l=e.progress,s=e.title;return d(function(){i==null||i()},[i]),u.jsx(f,{hasError:n,onCancel:a,progress:l,testid:void 0,children:u.jsx(r("MWXTooltip.react"),{position:"above",tooltip:s,children:u.jsxs(o("react-strict-dom").html.div,{style:p.filePreview,children:[u.jsx(r("MWXIconStrict.react"),{icon:r("MWXIconDocument"),isDecorative:!0,size:20}),u.jsx(r("MWXText.react"),{numberOfLines:2,type:"bodyLink3",children:s})]})})})}y.displayName=y.name+" [from "+i.id+"]";function C(e){var t=e.isDisabled,n=e.onPress,o=s._(/*BTDS*/"Upload another file");return u.jsx(f,{children:u.jsx(r("MWXPressable.react"),{"aria-label":o,disabled:t,onPress:n,testid:void 0,xstyle:p.imagePreview,children:u.jsx(r("MWXIconStrict.react"),{color:t?"disabled":"primary",icon:r("MWXIconPhotoPlus"),size:24})})})}C.displayName=C.name+" [from "+i.id+"]",l.MWXComposerImageAttachmentPreview=g,l.MWXComposerVideoAttachmentPreview=h,l.MWXComposerFileAttachmentPreview=y,l.MWXComposerAddAttachmentButton=C}),226);
__d("MWXComposerButtonContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({});l.default=u}),98);
__d("MWXComposerRow.react",["react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={padding12:{paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",$$css:!0},padding4:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},padding6:{paddingTop:"x1yrsyyn",paddingInlineEnd:"x1icxu4v",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",$$css:!0},row:{alignItems:"xpqajaz",boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},scrollable:{contain:"x41o525",overflowX:"xw2csxc",overflowY:"x1odjw0f",$$css:!0}};function c(e){var t=e.children,n=e["data-testid"],r=e.padding,a=r===void 0?0:r,i=e.scrollable,l=e.xStyle;return s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:[u.row,a===12&&u.padding12,a===4&&u.padding4,a===6&&u.padding6,i===!0&&u.scrollable,l],children:t})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXComposerHeader.react",["MWXComposerButtonContext.react","MWXComposerRow.react","MWXText.react","MWXTextPairing.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={body:{alignItems:"x6s0dn4",paddingBottom:"x1120s5i",paddingInlineStart:"x1onr9mi",paddingInlineEnd:"x1pic42t",paddingLeft:null,paddingRight:null,paddingTop:"xz9dl7a",$$css:!0},border:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},rightAddon:{marginInlineStart:"xvc5jky",$$css:!0}},c={color:"secondary",size:24};function d(e){var t=e.bodyText,n=e.bodyTextColor,a=e.bodyTextType,i=e["data-testid"],l=e.hasTopBorder,d=l===void 0?!1:l,m=e.headlineText,p=e.headlineTextType,_=e.leftAddon,f=e.level,g=f===void 0?3:f,h=e.loadingIndicator,y=e.rightAddon,C=e.subtext,b=e.xstyle;return h!=null?s.jsx(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[u.body],children:h}):s.jsxs(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[u.body,d&&u.border,b],children:[_!=null&&_,(t!=null||C!=null||m!=null)&&s.jsx(r("MWXTextPairing.react"),{body:t!=null&&a!=null?s.jsx(r("MWXText.react"),{color:n,type:a,children:t}):t!=null?s.jsx(r("MWXText.react"),{color:n,type:"body4",children:t}):void 0,headline:m!=null&&p!=null?s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:p,children:m}):m!=null?s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:"headline4",children:m}):void 0,level:g,meta:C}),y!=null&&s.jsx(r("MWXComposerButtonContext.react").Provider,{value:c,children:s.jsx(o("react-strict-dom").html.div,{style:u.rightAddon,children:y})})]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXComposerIconButton.react",["MWXCircleButton.react","MWXComposerButtonContext.react","MWXThreadThemeColor","MWXTooltip.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["color","disableTooltip","isShown","label","size","type","wrapperStyle","wrapperXStyle"],u,c=u||(u=o("react")),d=u.useContext,m={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",transition:"x1el4u5y",$$css:!0},shown:{transform:"x1158fpu",$$css:!0}};function p(t){var n,a=t.ref,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=i.color,u=i.disableTooltip,p=i.isShown,f=i.label,g=i.size,h=i.type,y=h===void 0?"deemphasized":h,C=i.wrapperStyle,b=i.wrapperXStyle,v=babelHelpers.objectWithoutPropertiesLoose(i,s),S=d(r("MWXComposerButtonContext.react")),R=S.color,L=S.iconRatio,E=L===void 0?"medium":L,k=S.paddingHorizontal,I=k===void 0?"none":k,T=S.size,D=T===void 0?36:T;return c.jsx(o("react-strict-dom").html.div,{style:[I==="small"&&m.horizontalPaddingSmall,m.layoutWrapper,[b,C],p===!0&&m.shown],children:c.jsx(_,{disableTooltip:u,label:f,children:c.jsx(r("MWXCircleButton.react"),babelHelpers.extends({},v,{"aria-label":f,color:(n=l!=null?l:R)!=null?n:o("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))"),iconRatio:E,ref:a,size:g!=null?g:D,type:y}))})})}p.displayName=p.name+" [from "+i.id+"]";function _(e){var t=e.children,n=e.disableTooltip,o=e.label;return n===!0?t:c.jsx(r("MWXTooltip.react"),{position:"above",tooltip:o,children:t})}_.displayName=_.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWXComposerInputArea.react",["MWXComposerButtonContext.react","MWXComposerRow.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={colors:{backgroundColor:"x16sw7j7",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",$$css:!0},flexLayout:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"x13qp9f6",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},c={iconRatio:"large",paddingHorizontal:"none",size:28};function d(e){var t=e.children,n=e.composerRowXStyle,a=e.header,i=e.xstyle;return s.jsx(r("MWXComposerButtonContext.react").Provider,{value:c,children:s.jsxs(o("react-strict-dom").html.div,{style:[u.colors,u.flexLayout,i],children:[a,s.jsx(r("MWXComposerRow.react"),{padding:4,xStyle:n,children:t})]})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXComposerSpinner.react",["MWXComposerButtonContext.react","MWXSpinner.react","MWXTooltip.react","react","react-strict-dom","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e=["color","label","size","spinnerSize","wrapperStyle","wrapperXStyle"],s,u=s||(s=o("react")),c=s.useContext,d={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",justifyContent:"xl56j7k",$$css:!0}};function m(t){var n=t.color,a=n===void 0?"blue":n,i=t.label,l=t.size,s=t.spinnerSize,m=s===void 0?20:s,p=t.wrapperStyle,_=t.wrapperXStyle,f=babelHelpers.objectWithoutPropertiesLoose(t,e);r("vulture")("KlrXhW9hvp38Mnhm0K63c87LFnQ=");var g=c(r("MWXComposerButtonContext.react")),h=g.paddingHorizontal,y=h===void 0?"none":h,C=g.size,b=C===void 0?36:C,v=(l!=null?l:b)+"px";return u.jsx(o("react-strict-dom").html.div,{style:[y==="small"&&d.horizontalPaddingSmall,d.layoutWrapper,[_,p],[{height:v,width:v}]],children:u.jsx(r("MWXTooltip.react"),{position:"above",tooltip:i,children:u.jsx(r("MWXSpinner.react"),babelHelpers.extends({color:a,size:m},f))})})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWXComposerTextEditor.react",["CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalErrorBoundary","LexicalPlainTextPlugin","MWXRowItem.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={padding:{marginBottom:"x12nagc",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",marginTop:"x1gslohp",maxHeight:"xctk3hg",minWidth:"x900493",overflowY:"x1odjw0f",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};function c(e){var t=e.children,n=e.contentEditableProps,a=e.placeholderText,i=e.testid,l=a==null?{}:{"aria-placeholder":a,placeholder:s.jsx(r("CometLexicalPlaceholder.react"),{children:a})},c=s.jsx(r("CometLexicalContentEditable.react"),babelHelpers.extends({tabIndex:0,webDriverTestID:i},l,n));return s.jsxs(r("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:u.padding,children:[s.jsx(o("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:o("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:c}),t]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXComposer.react",["LexicalComposerContext","LexicalHistoryPlugin","MWXComposerAttachmentPreview.react","MWXComposerHeader.react","MWXComposerIconButton.react","MWXComposerInputArea.react","MWXComposerRow.react","MWXComposerSpinner.react","MWXComposerTextEditor.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c={composer:{backgroundColor:"xt5xv9l",contain:"x6wvzqs",$$css:!0},flexLayout:{alignItems:"xpqajaz",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",$$css:!0},padding:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,$$css:!0}};function d(e){var t=e.children,n=e.editor,a=e.header,i=e.testid,l=e.xstyle,d=o("LexicalComposerContext").createLexicalComposerContext(),m=u(function(){return[n,d]},[n,d]);return s.jsxs(o("LexicalComposerContext").LexicalComposerContext.Provider,{value:m,children:[s.jsxs(o("react-strict-dom").html.div,{style:[c.composer,c.flexLayout],children:[a,s.jsx(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[c.padding,l],children:t})]}),s.jsx(o("LexicalHistoryPlugin").HistoryPlugin,{})]})}d.displayName=d.name+" [from "+i.id+"]";var m={Add:o("MWXComposerAttachmentPreview.react").MWXComposerAddAttachmentButton,FilePreview:o("MWXComposerAttachmentPreview.react").MWXComposerFileAttachmentPreview,ImagePreview:o("MWXComposerAttachmentPreview.react").MWXComposerImageAttachmentPreview,VideoPreview:o("MWXComposerAttachmentPreview.react").MWXComposerVideoAttachmentPreview};l.Composer=d,l.Button=r("MWXComposerIconButton.react"),l.TextEditor=r("MWXComposerTextEditor.react"),l.InputArea=r("MWXComposerInputArea.react"),l.Header=r("MWXComposerHeader.react"),l.Row=r("MWXComposerRow.react"),l.Spinner=r("MWXComposerSpinner.react"),l.Attachments=m}),98);
__d("issueEditInstamadilloMessage",["IGDBridgedAPI"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("IGDBridgedAPI").sendEditMessage(e)}l.default=e}),98);
__d("useIGDMessageLengthExceededToast",["fbt","react-compiler-runtime","useDebounced","useIGDSToaster"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Your message is too long");function u(){var t=o("react-compiler-runtime").c(2),n=r("useIGDSToaster")(),a;t[0]!==n?(a=function(){n.add({message:e,target:"bottom"})},t[0]=n,t[1]=a):a=t[1];var i=r("useDebounced")(a,500,!0);return i}l.default=u}),226);
__d("LSOptimisticEditMessage",["LSEditMessage","LSIssueNewTaskAndGetTaskID"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.db.table(12).fetch([[[e[0]]],"messageId"]).next().then(function(o,a){var i=o.done,l=o.value;return i?0:(a=l.item,r[2]=a.editCount,r[1]=t.i64.of_float(Date.now()),t.i64.lt(r[2]==null?t.i64.cast([0,0]):r[2],t.i64.cast([0,5]))&&t.i64.le(r[1],t.i64.add(a.timestampMs,t.i64.cast([0,9e5])))?t.sequence([function(o){return t.storedProcedure(n("LSEditMessage"),a.messageId,t.i64.cast([0,20]),e[1],t.i64.add(r[2]==null?t.i64.cast([0,0]):r[2],t.i64.cast([0,1])))},function(o){return r[3]=new t.Map,r[3].set("message_id",e[0]),r[3].set("text",e[1]),t.i64.gt(t.i64.cast([0,0]),t.i64.cast([0,0]))?(r[7]=t.i64.of_float(Date.now()),r[4]=t.i64.add(r[7],t.i64.cast([0,0]))):r[4]=t.i64.cast([0,0]),r[5]=t.toJSON(r[3]),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),"edit_message",t.i64.cast([0,742]),r[5],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,r[4],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[6]=t[0],t})},function(e){return t.resolve()}]):t.resolve(0))})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticEditMessageStoredProcedure",e.__tables__=["messages","pending_tasks"],a.exports=e}),null);
__d("LSOptimisticEditMessageStoredProcedure",["LSOptimisticEditMessage","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticEditMessage"),a.messageId,a.text);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("useMAWGetSendEditActionforOpen",["LSFactory","LSOptimisticEditMessageStoredProcedure","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=(e||(e=r("useReStore")))();return u(function(e,n){return r("promiseDone")(t.runInTransaction(function(t){return r("LSOptimisticEditMessageStoredProcedure")(r("LSFactory")(t),{messageId:e,text:n})},"readwrite",void 0,void 0,i.id+":27"))},[t])}l.default=c}),98);
__d("MLCKeyBindingUtil",["UserAgent"],(function(t,n,r,o,a,i,l){"use strict";var e=r("UserAgent").isPlatform("Mac OS X"),s=String.fromCodePoint(e?8984:8963);function u(t){return t!==null&&(e?t.metaKey:t.ctrlKey)}l.COMMAND_UNICODE=s,l.hasCommandModifier=u}),98);
__d("useMWXComposerClearAndSendOnEnter",["Lexical","MLCKeyBindingUtil","gkx","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useInsertionEffect,d=s.useLayoutEffect,m=s.useRef,p=250;function _(e,t){var n=e.clearReplyState,a=e.editor,i=e.onSend,l=m(null),s=m(t);c(function(){s.current=t},[t]);var _=u(function(){var e=i(s.current);n==null||n(),e&&a.dispatchCommand(o("Lexical").CLEAR_EDITOR_COMMAND)},[i,n,a]);return d(function(){return a.registerCommand(o("Lexical").KEY_ENTER_COMMAND,function(e){if(e!=null&&!e.shiftKey&&!e.altKey&&(!r("gkx")("23402")||o("MLCKeyBindingUtil").hasCommandModifier(e))){e.preventDefault();var t=l.current;return t!=null&&e.timeStamp-t<=p?(l.current=e.timeStamp,!0):(_(),l.current=e.timeStamp,!0)}return!1},o("Lexical").COMMAND_PRIORITY_LOW)},[a,_]),{onSend:_}}l.default=_}),98);
__d("cometLexicalBaseTheme",[],(function(t,n,r,o,a,i,l){"use strict";var e={ltr:"xdpxx8g",rtl:"x1hr2gdg"},s=e;l.default=s}),98);
__d("useLexicalInitializeEditor__DEPRECATED",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e){s(function(){e.update(function(){var t=o("Lexical").$getRoot();if(t.isEmpty()){var n=o("Lexical").$createParagraphNode();t.append(n);var r=document.activeElement;(o("Lexical").$getSelection()!==null||r!==null&&r===e.getRootElement())&&n.select()}})},[e])}l.default=u}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e,t){t===void 0&&(t=!1),s(function(){return e.registerCommand(o("Lexical").CLEAR_EDITOR_COMMAND,function(){return e.update(function(){var e=o("Lexical").$getRoot(),n=o("Lexical").$getSelection(),r=o("Lexical").$createParagraphNode();e.clear(),e.append(r),n!==null&&(r.select(),t===!0&&o("Lexical").$isRangeSelection(n)&&(n.format=0))}),!0},o("Lexical").COMMAND_PRIORITY_EDITOR)},[t,e])}l.default=u}),98);
__d("useMWXLexicalEditor",["CometLexicalEmojiNode","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","useLexicalInitializeEditor__DEPRECATED","useMWPLexicalClearEditor","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e=[o("MessengerLexicalActorNode").MessengerLexicalActorNode,n("cr:11494")==null?void 0:n("cr:11494").MessengerLexicalCommandNode,o("CometLexicalEmojiNode").EmojiNode];function s(){var t=r("useStable")(function(){return o("Lexical").createEditor({namespace:"MWPEditor",nodes:e.filter(Boolean),onError:function(){},theme:babelHelpers.extends({},r("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"})})});return r("useMWPLexicalClearEditor")(t),r("useLexicalInitializeEditor__DEPRECATED")(t),{editor:t}}l.useMWXLexicalEditor=s}),98);
__d("useMWXLexicalMaxLength",["Lexical","LexicalSelection","LexicalUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e,t){var n=t.maxLength,r=t.onMaxLengthExceeded;s(function(){var t=null;return e.registerNodeTransform(o("Lexical").RootNode,function(a){var i=o("Lexical").$getSelection();if(!(!o("Lexical").$isRangeSelection(i)||!i.isCollapsed())){var l=e.getEditorState(),s=l.read(function(){return a.getTextContentSize()}),u=a.getTextContentSize();if(s!==u){var c=u-n,d=i.anchor;c>0&&(r==null||r(),s===n&&t!==l?(t=l,o("LexicalUtils").$restoreEditorState(e,l)):o("LexicalSelection").$trimTextContentFromAnchor(e,d,c))}}})},[e,n,r])}l.useMWXLexicalMaxLength=u}),98);
__d("usePrepopulateLexicalEditor",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e,t,n){s(function(){t!=null&&e.update(function(){if(t!=null){var e=o("Lexical").$getRoot(),r=e.getFirstChild();o("Lexical").$isParagraphNode(r)||(r=o("Lexical").$createParagraphNode(),e.append(r));var a=o("Lexical").$createTextNode(t);r.clear(),r.append(a),n===!0&&r.selectEnd()}})},[e])}l.default=u}),98);
__d("useShowNotEditableMessageToast",["fbt","IGDSErrorPanoOutlineIcon.react","PolarisToastConstants","react","react-compiler-runtime","useIGDSToaster"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback,d=o("PolarisToastConstants").TOAST_ANIM_DURATION_S*1e3;function m(){var e=o("react-compiler-runtime").c(2),t=r("useIGDSToaster")(),n;return e[0]!==t?(n=function(){t.add({icon:u.jsx(r("IGDSErrorPanoOutlineIcon.react"),{alt:s._(/*BTDS*/"Error icon")}),message:s._(/*BTDS*/"Message not edited. Sent messages can only be edited for 15 minutes"),target:"bottom-left"},{duration:d})},e[0]=t,e[1]=n):n=e[1],n}l.default=m}),226);
__d("IGDComposerEditContainer.react",["fbt","FBLogger","I64","IGDComposerConstants","IGDComposerEmojiButton.react","IGDComposerIconSendButton.react","IGDInstamadilloUtils","IGDMAPIEditMessage","IGDMAPIInterfaceTypes","IGDOffMsysComposerUtils","IGDSBox.react","IGDSIconButton.react","IGDSXFilledIcon.react","LexicalText","MAWEditMessageContext.react","MWXComposer.react","MessengerWebUXLogger","PolarisUA","ReQL","ReQLSuspense","RelayHooks","getErrorSafe","getIsMessageTimeBelowEditThreshold","isStringNullOrEmpty","issueEditInstamadilloMessage","promiseDone","react","useIGDMessageLengthExceededToast","useIsChatTabsDisplay","useMAWGetSendEditActionforOpen","useMWXComposerClearAndSendOnEnter","useMWXLexicalEditor","useMWXLexicalMaxLength","usePrepopulateLexicalEditor","useReStore","useServerTime","useShowNotEditableMessageToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useContext,f=p.useEffect,g=p.useMemo,h=p.useState,y={cancelButton:{paddingTop:"xexx8yu",$$css:!0},chatTabComposerHeader:{paddingBottom:"x18d9i69",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},chatTabEmojiButton:{paddingBottom:"xg8j3zb",paddingInlineStart:"x1bdp6ip",$$css:!0},chatTabInnerComposer:{borderTopColor:"x1u3ycmy",borderInlineEndColor:"xrh5wk9",borderBottomColor:"x13ec8wd",borderInlineStartColor:"x386jci",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x131ptk",borderInlineEndWidth:"x19msrzo",borderBottomWidth:"x1dmouxk",borderInlineStartWidth:"x1nsouaw",width:"xi55695",$$css:!0},chatTabInnerComposerContainer:{marginInlineStart:"xwklpps",paddingTop:"xexx8yu",$$css:!0},emojiButton:{paddingBottom:"xjkvuk6",paddingInlineEnd:"x14vy60q",paddingInlineStart:"xe2zdcy",paddingTop:"xyqdw3p",$$css:!0},innerComposer:{borderStartStartRadius:"x1ua1ujl",borderStartEndRadius:"xksyday",borderEndEndRadius:"xshg46c",borderEndStartRadius:"xlej2ay",$$css:!0},mobileInnerComposerContainer:{minHeight:"x1gg8mnh",paddingBottom:"x1120s5i",paddingInlineStart:"x1g0dm76",$$css:!0}},C=o("IGDOffMsysComposerUtils").enableIGDOffMsysComposer();function b(t){var n=t.editMessageData,a=t.headerText,l=t.onEditCancelCallback,d=l===void 0?null:l,p=t.onEditTriggerCallback,b=p===void 0?null:p,v=t.threadFbid,S=o("RelayHooks").useRelayEnvironment(),R=r("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"composer_edit_message"}),L=r("MessengerWebUXLogger").useInteractionLogger(),E=_(o("MAWEditMessageContext.react").Context),k=E.setEditMessageData,I=o("useMWXLexicalEditor").useMWXLexicalEditor(),T=I.editor,D=r("useIGDMessageLengthExceededToast")();o("useMWXLexicalMaxLength").useMWXLexicalMaxLength(T,{maxLength:o("IGDComposerConstants").IGD_COMPOSER_MAX_LENGTH,onMaxLengthExceeded:D});var x=r("useIsChatTabsDisplay")(),$=(u||(u=r("useReStore")))(),P=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending($.tables.messages).getKeyRange(n==null?void 0:n.threadKey,n==null?void 0:n.timestampMs,n==null?void 0:n.messageId)},[$,n==null?void 0:n.messageId,n==null?void 0:n.threadKey,n==null?void 0:n.timestampMs],i.id+":128"),N=g(function(){var e;return((e=P==null?void 0:P.text)!=null?e:"").trim()},[P==null?void 0:P.text]),M=r("useMAWGetSendEditActionforOpen")(),w=r("useServerTime")(),A=o("getIsMessageTimeBelowEditThreshold").getIsMessageTimeBelowEditThreshold((c||(c=o("I64"))).of_float(w.getTime()),n.timestampMs),F=function(){if(A){var t=T.getEditorState().read(o("LexicalText").$rootTextContent).trim();if(r("isStringNullOrEmpty")(t)||t===N)return!1;if(C&&P!=null&&v!=null){var a;o("IGDMAPIEditMessage").IGDMAPIEditMessage(S,{messageId:(a=o("IGDMAPIInterfaceTypes")).toMessageId(n.messageId),offlineThreadingId:a.toOfflineThreadingId(P.offlineThreadingId),text:a.toMessage(t),threadId:a.toThreadId(v)},{threadKey:n.threadKey,timestampMs:n.timestampMs}).catch(function(t){var n=r("getErrorSafe")(t);r("FBLogger")("igd_web").tags(["OffMSYSComposer"]).catching(t).MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to edit message: ",""])),n.message)})}else if(o("IGDInstamadilloUtils").isInstamadilloMessage(P)){var i={messageId:n.messageId,text:t,threadKey:n.threadKey};r("promiseDone")(r("issueEditInstamadilloMessage")(i))}else M(n.messageId,t);return k(null),b&&b(),L==null||L({eventName:"edit_message"}),!0}else return O(),!1},O=r("useShowNotEditableMessageToast")(),B=function(){k(null),L==null||L({eventName:"edit_message_cancel"}),d&&d()};r("useMWXComposerClearAndSendOnEnter")({clearReplyState:null,editor:T,onSend:F});var W=h(!1),q=W[0],U=W[1];return f(function(){return T.registerTextContentListener(function(e){var t=e.trim();U(!r("isStringNullOrEmpty")(t)&&t!==N)})},[T,N]),r("usePrepopulateLexicalEditor")(T,N,!0),m.jsx(r("IGDSBox.react"),{containerRef:R,children:m.jsx(o("MWXComposer.react").Composer,{editor:T,header:m.jsx(o("MWXComposer.react").Header,{bodyText:a!=null?a:s._(/*BTDS*/"Editing message"),bodyTextColor:x?"secondary":"primary","data-testid":void 0,hasTopBorder:!0,rightAddon:m.jsx(r("IGDSIconButton.react"),{label:s._(/*BTDS*/"Cancel edit"),onClick:B,xstyle:y.cancelButton,children:m.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel edit"),color:"ig-primary-text",size:15})}),xstyle:x&&y.chatTabComposerHeader},0),children:m.jsx(o("MWXComposer.react").Row,{children:m.jsx(r("IGDSBox.react"),{paddingX:1,paddingY:1,width:"100%",xstyle:x&&y.chatTabInnerComposerContainer,children:m.jsxs(o("MWXComposer.react").InputArea,{xstyle:[y.innerComposer,x&&y.chatTabInnerComposer,o("PolarisUA").isMobile()&&y.mobileInnerComposerContainer],children:[o("PolarisUA").isMobile()?null:m.jsx(r("IGDSBox.react"),{xstyle:[y.emojiButton,x&&y.chatTabEmojiButton],children:m.jsx(r("IGDComposerEmojiButton.react"),{editor:T})}),m.jsx(o("MWXComposer.react").TextEditor,{contentEditableProps:{ariaLabel:s._(/*BTDS*/"Editing message")},testid:void 0}),m.jsx(r("IGDSBox.react"),{children:m.jsx(r("IGDComposerIconSendButton.react"),{isDisabled:!q,isEdit:!0,onClick:function(){F()},testid:void 0})})]})})})})})}b.displayName=b.name+" [from "+i.id+"]",l.default=b}),226);
__d("IGDComposerEditContainerOffMsys_SlideMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDComposerEditContainerOffMsys_SlideMessage",selections:[{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"text_body",storageKey:null}],type:"SlideMessageText",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp_ms",storageKey:null}],type:"SlideMessage",abstractKey:null};a.exports=e}),null);
__d("IGDComposerEditContainerOffMsys.react",["fbt","CometRelay","IGDComposerConstants","IGDComposerEditContainerOffMsys_SlideMessage.graphql","IGDComposerEmojiButton.react","IGDComposerIconSendButton.react","IGDEditMessageContext.react","IGDSBox.react","IGDSIconButton.react","IGDSXFilledIcon.react","LexicalText","MWXComposer.react","MessengerWebUXLogger","PolarisUA","getIsMessageTimeBelowEditThresholdOffMsys","isStringNullOrEmpty","react","react-compiler-runtime","useIGDMessageLengthExceededToast","useIsChatTabsDisplay","useMAWGetSendEditActionforOpen","useMWXComposerClearAndSendOnEnter","useMWXLexicalEditor","useMWXLexicalMaxLength","usePrepopulateLexicalEditor","useServerTime","useShowNotEditableMessageToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useMemo,_=d.useState,f={cancelButton:{paddingTop:"xexx8yu",$$css:!0},chatTabComposerHeader:{paddingBottom:"x18d9i69",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},chatTabEmojiButton:{paddingBottom:"xg8j3zb",paddingInlineStart:"x1bdp6ip",$$css:!0},chatTabInnerComposer:{borderTopColor:"x1u3ycmy",borderInlineEndColor:"xrh5wk9",borderBottomColor:"x13ec8wd",borderInlineStartColor:"x386jci",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x131ptk",borderInlineEndWidth:"x19msrzo",borderBottomWidth:"x1dmouxk",borderInlineStartWidth:"x1nsouaw",width:"xi55695",$$css:!0},chatTabInnerComposerContainer:{marginInlineStart:"xwklpps",paddingTop:"xexx8yu",$$css:!0},emojiButton:{paddingBottom:"xjkvuk6",paddingInlineEnd:"x14vy60q",paddingInlineStart:"xe2zdcy",paddingTop:"xyqdw3p",$$css:!0},innerComposer:{borderStartStartRadius:"x1ua1ujl",borderStartEndRadius:"xksyday",borderEndEndRadius:"xshg46c",borderEndStartRadius:"xlej2ay",$$css:!0},mobileInnerComposerContainer:{minHeight:"x1gg8mnh",paddingBottom:"x1120s5i",paddingInlineStart:"x1g0dm76",$$css:!0}};function g(t){var a,i,l,u=o("react-compiler-runtime").c(56),d=t.editMessageData,p=t.headerText,g=t.onEditCancelCallback,h=t.onEditTriggerCallback,y=g===void 0?null:g,C=h===void 0?null:h,b;u[0]===Symbol.for("react.memo_cache_sentinel")?(b={eventName:"composer_edit_message"},u[0]=b):b=u[0];var v=r("MessengerWebUXLogger").useImpressionLoggerRef(b),S=r("MessengerWebUXLogger").useInteractionLogger(),R=o("IGDEditMessageContext.react").useIGDEditSetterContext(),L=R.clearEditMessageData,E=o("useMWXLexicalEditor").useMWXLexicalEditor(),k=E.editor,I=r("useIGDMessageLengthExceededToast")(),T;u[1]!==I?(T={maxLength:o("IGDComposerConstants").IGD_COMPOSER_MAX_LENGTH,onMaxLengthExceeded:I},u[1]=I,u[2]=T):T=u[2],o("useMWXLexicalMaxLength").useMWXLexicalMaxLength(k,T);var D=r("useIsChatTabsDisplay")(),x=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDComposerEditContainerOffMsys_SlideMessage.graphql"),d.message);(a=x.content)==null||a.text_body;var $=(i=(l=x.content)==null?void 0:l.text_body)!=null?i:"",P;u[3]!==$?(P=$.trim(),u[3]=$,u[4]=P):P=u[4];var N=P,M=r("useMAWGetSendEditActionforOpen")(),w=r("useServerTime")(),A;u[5]!==x.timestamp_ms||u[6]!==w?(A=r("getIsMessageTimeBelowEditThresholdOffMsys")(w.getTime(),Number(x.timestamp_ms)),u[5]=x.timestamp_ms,u[6]=w,u[7]=A):A=u[7];var F=A,O=function(){if(F){var e=k.getEditorState().read(o("LexicalText").$rootTextContent).trim();return r("isStringNullOrEmpty")(e)||e===N?!1:(M(x.message_id,e),L(),C&&C(),S==null||S({eventName:"edit_message"}),!0)}else return B(),!1},B=r("useShowNotEditableMessageToast")(),W;u[8]!==L||u[9]!==S||u[10]!==y?(W=function(){L(),S==null||S({eventName:"edit_message_cancel"}),y&&y()},u[8]=L,u[9]=S,u[10]=y,u[11]=W):W=u[11];var q=W,U;u[12]!==k||u[13]!==O?(U={clearReplyState:null,editor:k,onSend:O},u[12]=k,u[13]=O,u[14]=U):U=u[14],r("useMWXComposerClearAndSendOnEnter")(U);var V=_(!1),H=V[0],G=V[1],z,j;u[15]!==k||u[16]!==N?(z=function(){return k.registerTextContentListener(function(e){var t=e.trim();G(!r("isStringNullOrEmpty")(t)&&t!==N)})},j=[k,N],u[15]=k,u[16]=N,u[17]=z,u[18]=j):(z=u[17],j=u[18]),m(z,j),r("usePrepopulateLexicalEditor")(k,N,!0);var K;u[19]!==p?(K=p!=null?p:s._(/*BTDS*/"Editing message"),u[19]=p,u[20]=K):K=u[20];var Q=D?"secondary":"primary",X;u[21]===Symbol.for("react.memo_cache_sentinel")?(X=s._(/*BTDS*/"Cancel edit"),u[21]=X):X=u[21];var Y;u[22]===Symbol.for("react.memo_cache_sentinel")?(Y=c.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel edit"),color:"ig-primary-text",size:15}),u[22]=Y):Y=u[22];var J;u[23]!==q?(J=c.jsx(r("IGDSIconButton.react"),{label:X,onClick:q,xstyle:f.cancelButton,children:Y}),u[23]=q,u[24]=J):J=u[24];var Z=D&&f.chatTabComposerHeader,ee;u[25]!==K||u[26]!==Q||u[27]!==J||u[28]!==Z?(ee=c.jsx(o("MWXComposer.react").Header,{bodyText:K,bodyTextColor:Q,"data-testid":void 0,hasTopBorder:!0,rightAddon:J,xstyle:Z},0),u[25]=K,u[26]=Q,u[27]=J,u[28]=Z,u[29]=ee):ee=u[29];var te=D&&f.chatTabInnerComposerContainer,ne=D&&f.chatTabInnerComposer,re;u[30]===Symbol.for("react.memo_cache_sentinel")?(re=o("PolarisUA").isMobile()&&f.mobileInnerComposerContainer,u[30]=re):re=u[30];var oe;u[31]!==ne?(oe=[f.innerComposer,ne,re],u[31]=ne,u[32]=oe):oe=u[32];var ae;u[33]!==k||u[34]!==D?(ae=o("PolarisUA").isMobile()?null:c.jsx(r("IGDSBox.react"),{xstyle:[f.emojiButton,D&&f.chatTabEmojiButton],children:c.jsx(r("IGDComposerEmojiButton.react"),{editor:k})}),u[33]=k,u[34]=D,u[35]=ae):ae=u[35];var ie;u[36]===Symbol.for("react.memo_cache_sentinel")?(ie=c.jsx(o("MWXComposer.react").TextEditor,{contentEditableProps:{ariaLabel:s._(/*BTDS*/"Editing message")},testid:void 0}),u[36]=ie):ie=u[36];var le=!H,se;u[37]!==O?(se=function(){O()},u[37]=O,u[38]=se):se=u[38];var ue;u[39]!==le||u[40]!==se?(ue=c.jsx(r("IGDSBox.react"),{children:c.jsx(r("IGDComposerIconSendButton.react"),{isDisabled:le,isEdit:!0,onClick:se,testid:void 0})}),u[39]=le,u[40]=se,u[41]=ue):ue=u[41];var ce;u[42]!==oe||u[43]!==ae||u[44]!==ue?(ce=c.jsxs(o("MWXComposer.react").InputArea,{xstyle:oe,children:[ae,ie,ue]}),u[42]=oe,u[43]=ae,u[44]=ue,u[45]=ce):ce=u[45];var de;u[46]!==te||u[47]!==ce?(de=c.jsx(o("MWXComposer.react").Row,{children:c.jsx(r("IGDSBox.react"),{paddingX:1,paddingY:1,width:"100%",xstyle:te,children:ce})}),u[46]=te,u[47]=ce,u[48]=de):de=u[48];var me;u[49]!==k||u[50]!==ee||u[51]!==de?(me=c.jsx(o("MWXComposer.react").Composer,{editor:k,header:ee,children:de}),u[49]=k,u[50]=ee,u[51]=de,u[52]=me):me=u[52];var pe;return u[53]!==v||u[54]!==me?(pe=c.jsx(r("IGDSBox.react"),{containerRef:v,children:me}),u[53]=v,u[54]=me,u[55]=pe):pe=u[55],pe}l.default=g}),226);
__d("LSContactGenderToGenderConst",["GenderConst","I64","LSContactGender","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactGender").FEMALE))?r("GenderConst").FEMALE_SINGULAR:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactGender").MALE))?r("GenderConst").MALE_SINGULAR:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactGender").NEUTER))?r("GenderConst").NEUTER_SINGULAR:r("GenderConst").NOT_A_PERSON}l.default=u}),98);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743878"),s=o("FalcoLoggerInternal").create("ls_reply_rendered",e),u=s;l.default=u}),98);
__d("MDSHeadlineWithAddOn.react",["BaseRow.react","BaseRowItem.react","Locale","MDSText.react","isIE11OrGreater","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react")),c={addOn:{display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",marginInlineStart:"x13fj5qh",$$css:!0},nonBreakingSpace:{opacity:"xg01cxk",width:"xnalus7",$$css:!0},textFlexFixForIE:{flexBasis:"xdl72j9",$$css:!0}},d={ltr:{direction:"xzt5al7",$$css:!0},rtl:{direction:"xzyj77d",$$css:!0}};function m(t){var n=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.addOn,l=a.children,s=a.color,m=a.headlineId,p=a.headlineRef,_=a.isSemanticHeading,f=a.numberOfLines,g=a.type;return u.jsx(r("MDSText.react"),{isSemanticHeading:!1,ref:n,type:g,children:u.jsxs(r("BaseRow.react"),{verticalAlign:"center",xstyle:d[o("Locale").isRTL()?"rtl":"ltr"],children:[u.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:r("isIE11OrGreater")&&c.textFlexFixForIE,children:u.jsx(r("MDSText.react"),{color:s,id:m,isSemanticHeading:_,numberOfLines:f,ref:p,type:g,children:l})}),u.jsx(r("BaseRowItem.react"),{verticalAlign:"top",xstyle:c.addOn,children:u.jsxs(r("BaseRow.react"),{verticalAlign:"center",children:[u.jsx(r("BaseRowItem.react"),{xstyle:c.nonBreakingSpace,children:"\xA0"}),u.jsx(r("BaseRowItem.react"),{children:u.jsx(r("BaseRow.react"),{children:i})})]})})]})})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("getMDSTextHierarchyStyle",["memoizeWithArgs"],(function(t,n,r,o,a,i,l){"use strict";var e=r("memoizeWithArgs")(function(e,t){switch(e){case 1:return{bodyType:"body1",headlineType:"headlineEmphasized1",metaType:"meta1"};case 2:return{bodyType:"body2",headlineType:"headlineEmphasized2",metaType:"meta2"};case 3:return{bodyType:"body3",headlineType:t===!0?"headline3":"headlineEmphasized3",metaType:"meta3"};default:case 4:return{bodyType:"body4",headlineType:t===!0?"headline4":"headlineEmphasized4",metaType:"meta4"};case"entityHeader1":return{bodyType:"body2",headlineType:"entityHeaderHeadline1",metaType:"entityHeaderMeta1"};case"entityHeader2":return{bodyType:"body2",headlineType:"entityHeaderHeadline2",metaType:"entityHeaderMeta2"}}},function(e,t){return String(e)+(t===!0?"":"e")});l.default=e}),98);
__d("MDSTextPairing.react",["Box.react","MDSHeadlineWithAddOn.react","MDSText.react","getMDSTextHierarchyStyle","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={item:{marginBottom:"xu06os2",marginTop:"x1ok221b",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"xs83m0k",marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0}},c={1:{marginBottom:"x11tup63",marginTop:"x16z1lm9",$$css:!0},2:{marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},entityHeader1:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},entityHeader2:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0}},d={1:{marginBottom:"xwoyzhm",marginTop:"x1rhet7l",$$css:!0},2:{marginBottom:"xzueoph",marginTop:"x1k70j0n",$$css:!0},entityHeader1:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",$$css:!0},entityHeader2:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",$$css:!0}};function m(e){var t=e.body,n=e.bodyColor,o=n===void 0?"primary":n,a=e.bodyId,i=e.bodyLineLimit,l=e.bodyRef,m=e.headline,p=e.headlineAddOn,_=e.headlineColor,f=_===void 0?"primary":_,g=e.headlineId,h=e.headlineLineLimit,y=e.headlineRef,C=e.isPrimaryHeading,b=e.isSemanticHeading,v=e.level,S=e.meta,R=e.metaColor,L=R===void 0?"secondary":R,E=e.metaId,k=e.metaLineLimit,I=e.metaLocation,T=I===void 0?"below":I,D=e.metaRef,x=e.reduceEmphasis,$=x===void 0?!1:x,P=e.testid,N=e.textAlign,M=N===void 0?"start":N,w=r("getMDSTextHierarchyStyle")(v,$),A=w.bodyType,F=w.headlineType,O=w.metaType,B=[u.item,d[v]],W=m!=null&&s.jsx(r("Box.react"),{xstyle:B,children:p!=null?s.jsx(r("MDSHeadlineWithAddOn.react"),{addOn:p,color:f,headlineId:g,headlineRef:y,isPrimaryHeading:C,isSemanticHeading:b,numberOfLines:h,type:F,children:m}):s.jsx(r("MDSText.react"),{align:M,color:f,id:g,isPrimaryHeading:C,isSemanticHeading:b,numberOfLines:h,ref:y,type:F,children:m})}),q=S!=null&&s.jsx(r("Box.react"),{xstyle:B,children:s.jsx(r("MDSText.react"),{align:M,color:L,id:E,isSemanticHeading:!1,numberOfLines:k,ref:D,type:O,children:S})});return s.jsxs(r("Box.react"),{"data-testid":void 0,xstyle:[u.root,c[v]],children:[T==="above"&&q,W,t!=null&&s.jsx(r("Box.react"),{xstyle:B,children:s.jsx(r("MDSText.react"),{align:M,color:o,id:a,isSemanticHeading:!1,numberOfLines:i,ref:l,type:A,children:t})}),T==="below"&&q]})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWChatStrikethroughText.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=e.children;return s.jsx("s",{children:t})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MessageMarkdownCodeblockLanguages",[],(function(t,n,r,o,a,i){var e=Object.freeze({ASP:"asp",ASPX:"aspx",BASH:"bash",C:"c",CLJ:"clj",CLJC:"cljc",CLJX:"cljx",CLOJURE:"clojure",COFFEESCRIPT:"coffeescript",CPLUSPLUS:"cplusplus",CPP:"cpp",CPP2:"c++",CQL:"cql",CS:"cs",CSHARP:"csharp",CSS:"css",CURL:"curl",D:"d",DART:"dart",DIFF:"diff",DOCKERFILE:"dockerfile",ECMASCRIPT:"ecmascript",ERL:"erl",ERLANG:"erlang",GO:"go",GQL:"gql",GRADLE:"gradle",GRAPHQL:"graphql",GROOVY:"groovy",HANDLEBARS:"handlebars",HBS:"hbs",HTML:"html",HTTP:"http",JAVA:"java",JAVASCRIPT:"javascript",JL:"jl",JRUBY:"jruby",JS:"js",JSON:"json",JSX:"jsx",JULIA:"julia",KOTLIN:"kotlin",KT:"kt",LESS:"less",LIQUID:"liquid",LUA:"lua",MACRUBY:"macruby",MARKDOWN:"markdown",ML:"ml",MSSQL:"mssql",MYSQL:"mysql",NODE:"node",OBJC:"objc",OBJCPP:"objcpp",OBJCPP2:"objc++",OBJECTIVEC:"objectivec",OBJECTIVECPLUSPLUS:"objectivecplusplus",OBJECTIVECPP:"objectivecpp",OCAML:"ocaml",PERL:"perl",PGSQL:"pgsql",PHP:"php",PL:"pl",PLSQL:"plsql",POSTGRES:"postgres",POSTGRESQL:"postgresql",POWERSHELL:"powershell",PS1:"ps1",PY:"py",PYTHON:"python",R:"r",RAKE:"rake",RB:"rb",RBX:"rbx",RS:"rs",RUBY:"ruby",RUST:"rust",SASS:"sass",SCALA:"scala",SCSS:"scss",SH:"sh",SHELL:"shell",SOL:"sol",SOLIDITY:"solidity",SQL:"sql",SQLITE:"sqlite",STYL:"styl",STYLUS:"stylus",SWIFT:"swift",TS:"ts",TYPESCRIPT:"typescript",XHTML:"xhtml",XML:"xml",YAML:"yaml",YML:"yml",ZSH:"zsh"});i.default=e}),66);
__d("MessengerFormattingConfig",[],(function(t,n,r,o,a,i){var e=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n|\\u2028))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|\\u2028|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|\\u2028|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"},singleInlineHeaderConfig:{pattern:"(^# ?)(.*?$)",nonCapturingPattern:"^# ?(.*?$)"},linkConfig:{pattern:"\\[([^\\[\\]]+)\\]\\(((?:https?|ftp):\\/\\/(-\\.)?(?:[^\\s\\/?\\.#-]+\\.?)+(?:\\/[^\\s]*)?)\\)",nonCapturingPattern:"\\[([^\\[\\]]+)\\]\\(((?:https?|ftp):\\/\\/(-\\.)?(?:[^\\s\\/?\\.#-]+\\.?)+(?:\\/[^\\s]*)?)\\)"},bulletedList:{pattern:"(^[-*+])\\s+(.*)",nonCapturingPattern:"(^[-*+])\\s+(.*)"},numberedList:{pattern:"(^(\\d)+\\.)\\s+(.*)",nonCapturingPattern:"(^\\d+\\.)\\s+(.*)"}});i.default=e}),66);
__d("MWChatTextFormattingUtils",["$InternalEnum","FBLogger","MessageMarkdownCodeblockLanguages","MessengerFormattingConfig","UnicodeUtils","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=n("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough","Link","BulletedList","NumberedList","InlineHeader"]),u=new Set(Object.values(r("MessageMarkdownCodeblockLanguages"))),c=[s.CodeBlock,s.BlockQuote,s.InlineQuote,s.InlineCode,s.Bold,s.Italics,s.StrikeThrough];function d(e){var t,n=function(t){return t[2]},o=function(t){return new Map},a=1,i=!0,l=function(t){return!0};switch(e){case s.Bold:t=r("MessengerFormattingConfig").boldConfig.pattern;break;case s.Italics:t=r("MessengerFormattingConfig").italicConfig.pattern;break;case s.StrikeThrough:t=r("MessengerFormattingConfig").strikethroughConfig.pattern;break;case s.InlineCode:t=r("MessengerFormattingConfig").codeConfig.pattern;break;case s.BlockQuote:t=r("MessengerFormattingConfig").blockQuoteConfig.pattern,i=!1;break;case s.InlineQuote:l=function(t){return t.trim()!==">"},t=r("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern,i=!1;break;case s.InlineHeader:l=function(t){return t.trim()!=="#"},t=r("MessengerFormattingConfig").singleInlineHeaderConfig.pattern,i=!1;break;case s.CodeBlock:n=function(t){var e,n,r,o=((e=t[3])!=null?e:"").trim().toLowerCase(),a=(n=t[4])!=null?n:t[5],i=(r=t[2])!=null?r:"";return o===""||u.has(o)?a:i+a},t=r("MessengerFormattingConfig").codeBlockV2Config.pattern,i=!1;break;case s.Link:n=function(t){return t[1]},o=function(t){return new Map([["link",t[2]]])},t=r("MessengerFormattingConfig").linkConfig.pattern,i=!1;break;case s.BulletedList:t=r("MessengerFormattingConfig").bulletedList.pattern,i=!1;break;case s.NumberedList:t=r("MessengerFormattingConfig").numberedList.pattern,i=!1,n=function(t){return t[3]},o=function(t){return r("vulture")("9qhvIyaXy5S0rQsL_QBlc7decII="),new Map([["index",t[2]]])};break}if(t==null)throw r("FBLogger")("messenger_web").mustfixThrow("No formatting config found for given format");return{getCleanText:n,getExtraData:o,hasClosingTag:i,regExp:new RegExp(t,"gm"),tagIndex:a,validator:l}}function m(t,n,r,a){n===void 0&&(n=!1),r===void 0&&(r=!1),a===void 0&&(a=!1);var i=[],l=c;return n&&(l=l.concat(s.Link)),r&&(l=l.concat([s.BulletedList,s.NumberedList])),a&&(l=l.concat(s.InlineHeader)),l.forEach(function(n){var r=d(n),a=r.getCleanText,l=r.getExtraData,s=r.hasClosingTag,u=r.regExp,c=r.tagIndex,m=r.validator,p;if(m(t))for(var _=function(){if(p==null)return 0;var r=(e||(e=o("UnicodeUtils"))).substr(t,0,p.index),u=r.length-e.strlen(r),d=p.index-u,m=e.strlen(p[0]);s&&(d+=p[c].length,m-=p[c].length);var _=function(t){var e=d+m,n=t.offset+t.length;return e>t.offset&&d<n},f=a(p),g=l(p);if(!i.find(_)){var h,y;if(i.length>0){var C=i[i.length-1];if(C.entity.format===n&&C.offset+C.length+1===d)return C.entity.text+="\n"+f,C.length+=m+1,1}var b=(h=(y=g.get("link"))==null?void 0:y.includes("from_ads_ai=1"))!=null?h:!1;i.push({entity:{__typename:b?"AdsAILinkFormatting":"MessengerTextFormatting",extraData:g,format:n,text:f},length:m,offset:d})}},f;(p=u.exec(t))!=null&&(f=_(),f!==0););}),i}l.MessengerTextFormattingEntity=s,l.getFormattingRanges=m}),98);
__d("MWXLink.react",["E2EEMessagingLinkContext.react","cr:6023","cr:820","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","encryptedLink"],s,u=s||(s=o("react"));function c(t){var r=t.ref,a=t.encryptedLink,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=o("E2EEMessagingLinkContext.react").useE2EEMessagingLink(),s=l.isSecure,c=s||a===!0?{disableLinkShimAndTracking_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,rel:["noreferrer","noopener","nofollow"]}:{};return n("cr:6023")?u.jsx(n("cr:6023"),babelHelpers.extends({},i,c,{ref:r})):n("cr:820")?u.jsx(n("cr:820"),babelHelpers.extends({},i,c,{ref:r})):null}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXMessageBlockQuote.react",["react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={forwarded:{height:"x5yr21d",marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",paddingInlineStart:"x1g0dm76",position:"x1n2onr6",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",$$css:!0},fullLine:{bottom:"x19ip775",top:"xnfr1j",$$css:!0},line:{borderStartStartRadius:"xqbdsaf",borderStartEndRadius:"xpf24wh",borderEndEndRadius:"x14a4ghu",borderEndStartRadius:"x1a4jp9x",bottom:"xbfrwjf",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"xndqk7f",width:"xfo62xy",$$css:!0},lineIncomingColor:{backgroundColor:"xtyxhl7",$$css:!0},lineOutgoingColor:{backgroundColor:"xppy7ju",$$css:!0},secondaryTextIncoming:{color:"xi81zsa",$$css:!0},secondaryTextOutgoing:{color:"xkxfvhb",$$css:!0}};function c(e){var t=e.children,n=e.fullLine,r=n===void 0?!1:n,a=e.outgoing,i=a===void 0?!0:a,l=e.xstyle;return s.jsxs(o("react-strict-dom").html.blockquote,{style:[u.forwarded,l],children:[s.jsx(o("react-strict-dom").html.div,{style:[u.line,r?u.fullLine:void 0,i?u.lineOutgoingColor:u.lineIncomingColor]}),s.jsx(o("react-strict-dom").html.div,{style:[i?u.secondaryTextOutgoing:u.secondaryTextIncoming],children:t})]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWChatTextFormatting",["MWChatStrikethroughText.react","MWChatTextFormattingUtils","MWXLink.react","MWXMessageBlockQuote.react","MWXText.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={codeBlock:{backgroundColor:"xmjcpbm",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",whiteSpace:"x126k92a",$$css:!0},codeInline:{$$css:!0}};function c(e,t){switch(t.format){case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Bold:return s.jsx(o("react-strict-dom").html.b,{children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Italics:return s.jsx(o("react-strict-dom").html.i,{children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.StrikeThrough:return s.jsx(r("MWChatStrikethroughText.react"),{children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.CodeBlock:return s.jsx(o("react-strict-dom").html.div,{style:u.codeBlock,children:s.jsx(r("MWXText.react"),{type:"body4",children:s.jsx(o("react-strict-dom").html.code,{children:t.text})})});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineCode:return s.jsx(o("react-strict-dom").html.code,{style:u.codeInline,children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BlockQuote:case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineQuote:return s.jsx(r("MWXMessageBlockQuote.react"),{outgoing:!0,children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineHeader:return s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:"headlineEmphasized3",children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Link:return s.jsx(r("MWXLink.react"),{href:t.extraData.get("link"),rel:"external",target:"_blank",children:s.jsx("u",{children:t.text})});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BulletedList:return s.jsx("ul",{className:"x1rg5ohu xtaz4m5 xdj266r x14z9mp xat24cr x1lziwak x1nhbasn",children:t.text.split("\n").map(function(e,t){return s.jsx("li",{children:e},t)})});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.NumberedList:return s.jsx("ol",{className:"x1rg5ohu x3yw8vx xdj266r x14z9mp xat24cr x1lziwak x1nhbasn",start:t.extraData.get("index"),children:t.text.split("\n").map(function(e,t){return s.jsx("li",{children:e},t)})})}}c.displayName=c.name+" [from "+i.id+"]";function d(e,t){switch(t.format){case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BlockQuote:case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineQuote:return s.jsx(r("MWXMessageBlockQuote.react"),{outgoing:!1,children:t.text});default:return c(e,t)}}d.displayName=d.name+" [from "+i.id+"]",l.messageRenderer=c,l.messageIncomingRenderer=d}),98);
__d("MWXMessageTextWithEntities.react",["cr:5671","cr:5867","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["seeLessLinkProps","seeMoreLinkProps"],s=["color_DEPRECATED"],u=["color_DEPRECATED"],c,d=c||(c=o("react"));function m(t){if(n("cr:5671")!=null)return d.jsx(n("cr:5671"),babelHelpers.extends({},t));if(n("cr:5867")!=null){var r=t.seeLessLinkProps,o=t.seeMoreLinkProps,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=r!=null?r:{},l=i.color_DEPRECATED,c=babelHelpers.objectWithoutPropertiesLoose(i,s),m=o!=null?o:{},p=m.color_DEPRECATED,_=babelHelpers.objectWithoutPropertiesLoose(m,u);return d.jsx(n("cr:5867"),babelHelpers.extends({seeLessLinkProps:babelHelpers.extends({color_DEPRECATED:l==="primary"?"primary":void 0},c),seeMoreLinkProps:babelHelpers.extends({color_DEPRECATED:p==="primary"?"primary":void 0},_)},a))}return null}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWChatReplyText.react",["fbt","MWChatTextFormatting","MWChatTextTransform","MWXMessageTextWithEntities.react","cr:2472","react","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useMemo;function d(e){var t,a,i,l=e.isBumpMessage,d=l===void 0?!1:l,m=e.isHotLike,p=m===void 0?!1:m,_=e.mentionIds,f=e.ranges,g=e.text,h=e.threadKey,y=e.transformEmoticons,C=y===void 0?!0:y,b=c(function(){var e;return new Set((e=_==null||_.split==null?void 0:_.split(","))!=null?e:[])},[_]),v=n("cr:2472")==null?g:n("cr:2472").unvault(g),S=(t=(a=o("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(v,[],b,h))==null?void 0:a.textWithSubstitutions)!=null?t:v,R=(i=o("useStringWithSubstitutions").useStringWithSubstitutions(v,h))!=null?i:v,L=s._(/*BTDS*/"Sticker").toString(),E=p?L:d?R:S;return u.jsx("div",{className:"xi81zsa",dir:"auto",children:u.jsx(r("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:f,renderers:{MessengerTextFormatting:[o("MWChatTextFormatting").messageRenderer]},text:E,transforms:C?o("MWChatTextTransform").textTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("IGDComposerReplyView.react",["fbt","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","IGDSIconButton.react","IGDSText.react","IGDSXFilledIcon.react","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsReplyRenderedFalcoEvent","MDSTextPairing.react","MWChatReplyText.react","MWPActor.react","MWPReplyContext.react","MessagingAttachmentType","ReQL","ReQLSuspense","getFBTSafeGenderFromGenderConst","isStringNullOrEmpty","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react")),p=u,_=p.useContext,f=p.useEffect,g={cancelButton:{paddingTop:"xexx8yu",$$css:!0}};function h(e,t,n){var a=e.isUnsent,i=e.text,l=t||{},u=l.attachmentType,p=!r("isStringNullOrEmpty")(i);return a?s._(/*BTDS*/"Removed message"):p?m.jsx(r("MWChatReplyText.react"),{isHotLike:n,mentionIds:null,text:i!=null?i:s._(/*BTDS*/"Message").toString(),transformEmoticons:!1}):u?(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))?s._(/*BTDS*/"Image"):(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER))?s._(/*BTDS*/"Sticker"):(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))?s._(/*BTDS*/"Video"):(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE))?s._(/*BTDS*/"GIF"):s._(/*BTDS*/"Attachment"):s._(/*BTDS*/"Message")}h.displayName=h.name+" [from "+i.id+"]";function y(e,t){if(t)return s._(/*BTDS*/"Replying to yourself");if(e){var n;return s._(/*BTDS*/"_j{\"*\":\"Replying to {name}\"}",[s._param("name",m.jsx(r("IGDSText.react"),{size:"body",weight:"semibold",zeroMargin:!1,children:(n=e.firstName)!=null?n:e.name}),[1,r("getFBTSafeGenderFromGenderConst")(r("LSContactGenderToGenderConst")(e.gender))])])}else return s._(/*BTDS*/"Replying to {Placeholder for an unknown user on Instagram}",[s._param("Placeholder for an unknown user on Instagram","Instagram User")])}function C(t){var n=o("react-compiler-runtime").c(34),a=t.isArmadilloSecureThread,l=t.message,s=(e||(e=r("useReStore")))(),u=o("MWPActor.react").useActor(),p=l.hotEmojiSize,_=l.messageId,g=l.senderId,C=l.text,v=l.threadKey,S=(c||(c=o("I64"))).equal(g,u),R;n[0]!==s.tables.contacts||n[1]!==g?(R=function(){return o("ReQL").fromTableAscending(s.tables.contacts).getKeyRange(g)},n[0]=s.tables.contacts,n[1]=g,n[2]=R):R=n[2];var L;n[3]!==s||n[4]!==g?(L=[s,g],n[3]=s,n[4]=g,n[5]=L):L=n[5];var E=o("ReQLSuspense").useFirst(R,L,i.id+":206"),k;n[6]!==s.tables.attachments||n[7]!==_||n[8]!==v?(k=function(){return o("ReQL").fromTableAscending(s.tables.attachments).getKeyRange(v,_)},n[6]=s.tables.attachments,n[7]=_,n[8]=v,n[9]=k):k=n[9];var I;n[10]!==s||n[11]!==_||n[12]!==v?(I=[s,_,v],n[10]=s,n[11]=_,n[12]=v,n[13]=I):I=n[13];var T=o("ReQLSuspense").useFirst(k,I,i.id+":211"),D;n[14]===Symbol.for("react.memo_cache_sentinel")?(D=[],n[14]=D):D=n[14],f(b,D);var x;n[15]!==p||n[16]!==a||n[17]!==C?(x=p!=null?C!=null&&C==="\uD83D\uDC4D"&&((c||(c=o("I64"))).equal(p,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").SMALL))||(c||(c=o("I64"))).equal(p,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").MEDIUM))||(c||(c=o("I64"))).equal(p,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").LARGE)))&&a:!1,n[15]=p,n[16]=a,n[17]=C,n[18]=x):x=n[18];var $=x,P;n[19]===Symbol.for("react.memo_cache_sentinel")?(P={className:"x1sa5p1d"},n[19]=P):P=n[19];var N=r("MDSTextPairing.react"),M=r("IGDSText.react"),w="body",A=!1,F=y(E,S),O;n[20]!==M||n[21]!==F?(O=m.jsxs(M,{size:w,zeroMargin:A,children:[F," "]}),n[20]=M,n[21]=F,n[22]=O):O=n[22];var B;n[23]!==T||n[24]!==$||n[25]!==l?(B=h(l,T,$),n[23]=T,n[24]=$,n[25]=l,n[26]=B):B=n[26];var W;n[27]!==N||n[28]!==O||n[29]!==B?(W=m.jsx(N,{body:O,level:3,meta:B}),n[27]=N,n[28]=O,n[29]=B,n[30]=W):W=n[30];var q;return n[31]!==W||n[32]!==P?(q=m.jsx("div",babelHelpers.extends({},P,{children:W})),n[31]=W,n[32]=P,n[33]=q):q=n[33],q}function b(){r("LsReplyRenderedFalcoEvent").log(v)}function v(){return{funnel:{entry_point:o("LsFalcoEventEntryPoint").messageActions}}}function S(e){var t=o("react-compiler-runtime").c(15),n=e.isArmadilloSecureThread,a=e.message,i=a.threadKey,l=_(o("MWPReplyContext.react").MWPReplyContext),u=l.clearReply,c=_(r("CometTriggerAccessibilityAlertContext")),d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x1cy8zhl xvbhtw8 x5ur3kl x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x1q3ajuy x1gx403c x889kno"},t[0]=d):d=t[0];var p;t[1]!==n||t[2]!==a?(p=m.jsx(r("CometErrorBoundary.react"),{fallback:R,children:m.jsx(C,{isArmadilloSecureThread:n,message:a})}),t[1]=n,t[2]=a,t[3]=p):p=t[3];var f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Cancel Reply"),t[4]=f):f=t[4];var h;t[5]!==u||t[6]!==i||t[7]!==c?(h=function(){u(i,!0),c(s._(/*BTDS*/"Replying to message has been cancelled."),{assertive:!1})},t[5]=u,t[6]=i,t[7]=c,t[8]=h):h=t[8];var y;t[9]===Symbol.for("react.memo_cache_sentinel")?(y=m.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel Reply"),color:"ig-primary-text",size:12}),t[9]=y):y=t[9];var b;t[10]!==h?(b=m.jsx(r("IGDSIconButton.react"),{label:f,onClick:h,xstyle:g.cancelButton,children:y}),t[10]=h,t[11]=b):b=t[11];var v;return t[12]!==p||t[13]!==b?(v=m.jsxs("div",babelHelpers.extends({},d,{"data-testid":void 0,children:[p,b]})),t[12]=p,t[13]=b,t[14]=v):v=t[14],v}function R(){return m.jsx(r("IGDSText.react"),{size:"body",zeroMargin:!1,children:s._(/*BTDS*/"Replying to message")})}R.displayName=R.name+" [from "+i.id+"]";function L(t){var n=o("react-compiler-runtime").c(15),a=t.messageId,l=t.messageTimestamp,s=t.thread,u=(e||(e=r("useReStore")))(),c=s.threadKey,d=s.threadType,p;n[0]!==d?(p=o("LSMessagingThreadTypeUtil").isArmadilloSecure(d),n[0]=d,n[1]=p):p=n[1];var _=p,f;n[2]!==u.tables.messages||n[3]!==a||n[4]!==l||n[5]!==c?(f=function(){return o("ReQL").fromTableAscending(u.tables.messages).getKeyRange(c,l,a)},n[2]=u.tables.messages,n[3]=a,n[4]=l,n[5]=c,n[6]=f):f=n[6];var g;n[7]!==u||n[8]!==a||n[9]!==l||n[10]!==c?(g=[u,c,a,l],n[7]=u,n[8]=a,n[9]=l,n[10]=c,n[11]=g):g=n[11];var h=o("ReQLSuspense").useFirst(f,g,i.id+":329"),y;return n[12]!==_||n[13]!==h?(y=h?m.jsx(S,{isArmadilloSecureThread:_,message:h}):null,n[12]=_,n[13]=h,n[14]=y):y=n[14],y}l.default=L}),226);
__d("IGDComposerAttachmentButton.react",["fbt","BaseFileSelector.react","IGDSIconButton.react","IGDSPhotoOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","MWPActor.react","MessengerWebUXLogger","promiseDone","react","react-compiler-runtime","requireDeferred","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useCallback,m=r("requireDeferred")("MWLogMessageAction").__setRef("IGDComposerAttachmentButton.react");function p(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){var t=Array.from(n);if(t.length>0)return e(t)},t[0]=e,t[1]=n):n=t[1],n}function _(t){var n=o("react-compiler-runtime").c(11),a=t.multiple,i=t.onAttachmentsAdded,l=t.supportedFileTypes,u=t.threadKey,d=a===void 0?!0:a,_=(e||(e=r("useReStore")))(),f=o("MWPActor.react").useActor(),g=p(i),h=r("MessengerWebUXLogger").useInteractionLogger(),y=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),C;n[0]!==f||n[1]!==_||n[2]!==y||n[3]!==h||n[4]!==u?(C=function(t){return c.jsx(r("IGDSIconButton.react"),{onClick:function(){h==null||h({eventName:"composer_open_file_picker",flowInstanceId:y}),t(),m.onReady(function(e){return r("promiseDone")(e.log(_,void 0,u,"composer","attach",void 0,void 0,void 0,void 0,"image",f))})},children:c.jsx(r("IGDSPhotoOutlineIcon.react"),{alt:s._(/*BTDS*/"Add photo or video"),color:"ig-primary-text"})})},n[0]=f,n[1]=_,n[2]=y,n[3]=h,n[4]=u,n[5]=C):C=n[5];var b;return n[6]!==d||n[7]!==g||n[8]!==l||n[9]!==C?(b=c.jsx(r("BaseFileSelector.react"),{accept:l,multiple:d,onFilesSelected:g,children:C}),n[6]=d,n[7]=g,n[8]=l,n[9]=C,n[10]=b):b=n[10],b}l.default=_}),226);
__d("IGDSMediaOutlineIcon.react",["IGDSMediaPanoOutlineIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=s.jsx(r("IGDSMediaPanoOutlineIcon.react"),babelHelpers.extends({},e)),t[0]=e,t[1]=n):n=t[1],n}var c=s.memo(u);l.default=c}),98);
__d("IGDComposerMediaStaging.react",["fbt","BaseFileSelector.react","CometImage.react","FDSImageCover.react","I64","IGDSIconButton.react","IGDSMediaOutlineIcon.react","IGDSPhotoOutlineIcon.react","IGDSText.react","IGDSTooltip.react","IGDSXPanoFilledIcon.react","LSIntEnum","MWMediaComposerRenderQpl","MWMediaManager","MessagingAttachmentType","cr:105","react","react-compiler-runtime","useCurrentDisplayMode","useIGDMediaMangerUploadFailedToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useEffect,f=m.useState,g={stackingUploadButton:{height:"x1peatla",width:"x1fu8urw",$$css:!0},uploadButton:{backgroundColor:"x1a4onnt",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",height:"xnxb3zj",position:"x1n2onr6",width:"xo5x3gg",$$css:!0}},h=s._(/*BTDS*/"Remove attachment"),y=s._(/*BTDS*/"Upload another photo\/video"),C=s._(/*BTDS*/"Image cover for attached media"),b=s._(/*BTDS*/"File Icon for non photo\/video file");function v(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){var t=Array.from(n);t.length>0&&e(t)},t[0]=e,t[1]=n):n=t[1],n}function S(e){var t=o("react-compiler-runtime").c(16),n=e.isStacking,a=e.multiple,i=e.onAttachmentsAdded,l=e.supportedFileTypes,s=a===void 0?!0:a,u=v(i),c=f(!1),m=c[0],p=c[1],_=r("useCurrentDisplayMode")()==="dark",h;t[0]!==n?(h={0:{className:"x6s0dn4 x78zum5 xnxb3zj xl56j7k xr9ek0c x1sa5p1d xzueoph x7phf20 xo5x3gg"},1:{className:"x6s0dn4 x78zum5 xl56j7k x4465f1 x2x2exm x1gslohp x2fvf9 xat24cr x1lziwak x1wfjk5t"}}[(n===!0)<<0],t[0]=n,t[1]=h):h=t[1];var C=_?"primary":"black",b;t[2]!==n?(b=function(t){return d.jsx(r("IGDSIconButton.react"),{label:y,onClick:t,onHoverEnd:function(){return p(!1)},onHoverStart:function(){return p(!0)},xstyle:[g.uploadButton,n===!0&&g.stackingUploadButton],children:d.jsx(r("IGDSPhotoOutlineIcon.react"),{alt:y,color:"ig-primary-text"})})},t[2]=n,t[3]=b):b=t[3];var S;t[4]!==s||t[5]!==u||t[6]!==l||t[7]!==b?(S=d.jsx(r("BaseFileSelector.react"),{accept:l,multiple:s,onFilesSelected:u,children:b}),t[4]=s,t[5]=u,t[6]=l,t[7]=b,t[8]=S):S=t[8];var R;t[9]!==C||t[10]!==S||t[11]!==m?(R=d.jsx(r("IGDSTooltip.react"),{align:"middle",color:C,isVisible:m,position:"above",tooltip:y,children:S}),t[9]=C,t[10]=S,t[11]=m,t[12]=R):R=t[12];var L;return t[13]!==h||t[14]!==R?(L=d.jsx("div",babelHelpers.extends({},h,{children:R})),t[13]=h,t[14]=R,t[15]=L):L=t[15],L}function R(e){var t=o("react-compiler-runtime").c(17),n=e.isStacking,a=e.mediaStagingItem,i=e.onPress,l=r("useCurrentDisplayMode")()==="dark",u=f(!1),c=u[0],m=u[1],p;t[0]!==n?(p={0:{className:"x1euzuty x10l6tqk xtu2xtp"},1:{className:"x10l6tqk xtijo5x x13vifvy"}}[(n===!0)<<0],t[0]=n,t[1]=p):p=t[1];var _=l?"primary":"black",g;t[2]!==a.filename?(g=s._(/*BTDS*/"Remove attachment: {file-name}",[s._param("file-name",a.filename)]),t[2]=a.filename,t[3]=g):g=t[3];var y,C;t[4]===Symbol.for("react.memo_cache_sentinel")?(y=function(){return m(!1)},C=function(){return m(!0)},t[4]=y,t[5]=C):(y=t[4],C=t[5]);var b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b=d.jsx("div",{className:"x6s0dn4 xnz67gz x6zrd4h x1f58dfg x903dn5 xis42z1 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 x1qx5ct2 xl56j7k xw4jnvo x9ro6w8",children:d.jsx(r("IGDSXPanoFilledIcon.react"),{alt:h,size:9})}),t[6]=b):b=t[6];var v;t[7]!==i||t[8]!==g?(v=d.jsx(r("IGDSIconButton.react"),{label:g,onClick:i,onHoverEnd:y,onHoverStart:C,padding:0,children:b}),t[7]=i,t[8]=g,t[9]=v):v=t[9];var S;t[10]!==_||t[11]!==v||t[12]!==c?(S=d.jsx(r("IGDSTooltip.react"),{align:"middle",color:_,isVisible:c,position:"above",tooltip:h,children:v}),t[10]=_,t[11]=v,t[12]=c,t[13]=S):S=t[13];var R;return t[14]!==p||t[15]!==S?(R=d.jsx("div",babelHelpers.extends({},p,{children:S})),t[14]=p,t[15]=S,t[16]=R):R=t[16],R}var L=function(t){return t.mimeType==="image/gif"||t.mimeType==="image/webp"};function E(e){var t=o("react-compiler-runtime").c(30),n=e.mediaStagingItem,a=n.attachmentType,i=n.previewUrl||"",l=o("MWMediaComposerRenderQpl").useMediaComposerRenderQpl(n),s,m;t[0]!==l?(s=function(){l==null||l.addPoint("staging-item-render")},m=[l],t[0]=l,t[1]=s,t[2]=m):(s=t[1],m=t[2]),_(s,m);var p;t[3]!==l?(p=function(t,n){l==null||l.endFailAfterDelay(t,n)},t[3]=l,t[4]=p):p=t[4];var f=p,g;t[5]!==l?(g=function(){l==null||l.endSuccessAfterDelay()},t[5]=l,t[6]=g):g=t[6];var h=g;if(L(n)){if(i!==""){var y;return t[7]!==i?(y=d.jsx(r("FDSImageCover.react"),{alt:C,src:i}),t[7]=i,t[8]=y):y=t[8],y}}else if((u||(u=o("I64"))).equal(a,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))){if(i!==""){var b;t[9]===Symbol.for("react.memo_cache_sentinel")?(b={className:"xl1xv1r"},t[9]=b):b=t[9];var v;t[10]!==f?(v=function(t){return f("load-video-error",{string:{video_error_name:t.type}})},t[10]=f,t[11]=v):v=t[11];var S;t[12]===Symbol.for("react.memo_cache_sentinel")?(S=d.jsx("track",{kind:"captions"}),t[12]=S):S=t[12];var R;t[13]!==h||t[14]!==i||t[15]!==v?(R=d.jsx("video",babelHelpers.extends({},b,{height:"70",onError:v,onLoadedData:h,src:i,width:"70",children:S})),t[13]=h,t[14]=i,t[15]=v,t[16]=R):R=t[16];var E;t[17]===Symbol.for("react.memo_cache_sentinel")?(E=d.jsx("div",{className:"xbudbmw x18xomjl x7wgvq7 x10l6tqk xwa60dl",children:d.jsx(r("CometImage.react"),{src:"/images/video/play_24dp.png"})}),t[17]=E):E=t[17];var k;return t[18]!==R?(k=d.jsxs(d.Fragment,{children:[R,E]}),t[18]=R,t[19]=k):k=t[19],k}}else if((u||(u=o("I64"))).equal(a,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))&&i!==""){var T;t[20]!==f?(T=function(){return f("load-image-error")},t[20]=f,t[21]=T):T=t[21];var D;t[22]===Symbol.for("react.memo_cache_sentinel")?(D={userSelect:"none"},t[22]=D):D=t[22];var x;return t[23]!==h||t[24]!==i||t[25]!==T?(x=d.jsx(r("FDSImageCover.react"),{alt:"",onError:T,onLoad:h,src:i,style:D}),t[23]=h,t[24]=i,t[25]=T,t[26]=x):x=t[26],x}var $;return t[27]!==l||t[28]!==n?($=d.jsx(I,{mediaRenderQpl:l,mediaStagingItem:n}),t[27]=l,t[28]=n,t[29]=$):$=t[29],$}function k(e){var t=o("react-compiler-runtime").c(24),n=e.isStacking,a=e.mediaStagingItem,i=e.onAttachmentRemoved,l;t[0]!==a.offlineAttachmentId||t[1]!==i?(l=function(){i(a.offlineAttachmentId)},t[0]=a.offlineAttachmentId,t[1]=i,t[2]=l):l=t[2];var s=l,m;t[3]!==a?(m=!(u||(u=o("I64"))).equal(a.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))&&!(u||(u=o("I64"))).equal(a.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))&&!L(a),t[3]=a,t[4]=m):m=t[4];var p=m,_;t[5]!==p||t[6]!==n?(_={0:{className:"x1c4vz4f x2lah0s xnxb3zj xr9ek0c x1sa5p1d xzueoph x7phf20 x1n2onr6 xo5x3gg"},2:{className:"x1c4vz4f x2lah0s xnxb3zj xr9ek0c x1sa5p1d xzueoph x7phf20 x1n2onr6 x2pejg6"},1:{className:"x1c4vz4f x2lah0s x1n2onr6 x4465f1 x2x2exm xr9ek0c xnnr8r xjpr12u xwklpps x1wfjk5t"},3:{className:"x1c4vz4f x2lah0s x1n2onr6 x4465f1 x2x2exm xr9ek0c xnnr8r xjpr12u xwklpps x1wfjk5t"}}[!!p<<1|(n===!0)<<0],t[5]=p,t[6]=n,t[7]=_):_=t[7];var f;t[8]!==p||t[9]!==n?(f={0:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xnxb3zj x6ikm8r x10wlt62 x1n2onr6 xo5x3gg"},2:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xnxb3zj x6ikm8r x10wlt62 x1n2onr6 x1ybostu x2pejg6"},1:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x1n2onr6 x1peatla x1fu8urw"},3:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x1n2onr6 x1ybostu x1peatla x1fu8urw"}}[!!p<<1|(n===!0)<<0],t[8]=p,t[9]=n,t[10]=f):f=t[10];var g;t[11]!==a?(g=d.jsx(E,{mediaStagingItem:a}),t[11]=a,t[12]=g):g=t[12];var h;t[13]!==f||t[14]!==g?(h=d.jsx("div",babelHelpers.extends({},f,{children:g})),t[13]=f,t[14]=g,t[15]=h):h=t[15];var y;t[16]!==n||t[17]!==a||t[18]!==s?(y=d.jsx(R,{isStacking:n,mediaStagingItem:a,onPress:s}),t[16]=n,t[17]=a,t[18]=s,t[19]=y):y=t[19];var C;return t[20]!==_||t[21]!==h||t[22]!==y?(C=d.jsxs("div",babelHelpers.extends({},_,{children:[h,y]})),t[20]=_,t[21]=h,t[22]=y,t[23]=C):C=t[23],C}function I(e){var t=o("react-compiler-runtime").c(8),n=e.mediaRenderQpl,a=e.mediaStagingItem,i,l;t[0]!==n?(i=function(){n==null||n.endSuccessAfterDelay()},l=[n],t[0]=n,t[1]=i,t[2]=l):(i=t[1],l=t[2]),_(i,l);var s,u,c;t[3]===Symbol.for("react.memo_cache_sentinel")?(s={className:"x6s0dn4 x78zum5 x1iorvi4 xjkvuk6 xmzvs34 xf159sx x87ps6o"},u=d.jsx(r("IGDSMediaOutlineIcon.react"),{alt:b}),c={className:"x1iyjqo2"},t[3]=s,t[4]=u,t[5]=c):(s=t[3],u=t[4],c=t[5]);var m;return t[6]!==a.filename?(m=d.jsxs("div",babelHelpers.extends({},s,{children:[u,d.jsx("div",babelHelpers.extends({},c,{children:d.jsxs(r("IGDSText.react"),{maxLines:2,weight:"light",zeroMargin:!1,children:[" ",a.filename," "]})}))]})),t[6]=a.filename,t[7]=m):m=t[7],m}function T(e){var t=o("react-compiler-runtime").c(28),a=e.hideUploadPlaceholder,i=e.isStacking,l=e.metaMediaCloudEnabled,s=e.multiple,u=e.supportedFileTypes,c=e.thread,m=a===void 0?!1:a,p=l===void 0?!1:l,_=s===void 0?!0:s,f=r("useIGDMediaMangerUploadFailedToast")(),g;t[0]!==f||t[1]!==c?(g={showUploadFailureToast:f,thread:c},t[0]=f,t[1]=c,t[2]=g):g=t[2];var h=o("MWMediaManager").useMediaManager(g),y=h.handleFileRemove,C=h.handleFileSelect,b=h.mediaStaging;if(b.length===0){var v;return t[3]===Symbol.for("react.memo_cache_sentinel")?(v=d.jsx(d.Fragment,{}),t[3]=v):v=t[3],v}else{var R;t[4]!==i?(R={0:{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xpdmqnj x1g0dm76 x18d9i69 xh8yej3"},1:{className:"x6s0dn4 x9f619 x78zum5 x1nhvcw1 xw2csxc x18d9i69 x1a02dak xzueoph xoo30xy xyri2b x1c1uobl x1iorvi4 x1mk2rj3"}}[(i===!0)<<0],t[4]=i,t[5]=R):R=t[5];var L;t[6]!==C||t[7]!==m||t[8]!==i||t[9]!==_||t[10]!==u?(L=m?null:d.jsx(S,{isStacking:i,multiple:_,onAttachmentsAdded:C,supportedFileTypes:u}),t[6]=C,t[7]=m,t[8]=i,t[9]=_,t[10]=u,t[11]=L):L=t[11];var E;t[12]!==C||t[13]!==i||t[14]!==p||t[15]!==c?(E=p&&n("cr:105")!=null?d.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x78zum5 xnxb3zj xl56j7k xr9ek0c x1sa5p1d xzueoph x7phf20 xo5x3gg"},1:{className:"x6s0dn4 x78zum5 xl56j7k x4465f1 x2x2exm x1gslohp x2fvf9 xat24cr x1lziwak x1wfjk5t"}}[(i===!0)<<0],{children:d.jsx(n("cr:105"),{onAttachmentsAdded:C,threadKey:c.threadKey})})):null,t[12]=C,t[13]=i,t[14]=p,t[15]=c,t[16]=E):E=t[16];var I;t[17]!==b?(I=Array.from(b),t[17]=b,t[18]=I):I=t[18];var T;t[19]!==y||t[20]!==i||t[21]!==I?(T=I.map(function(e){return d.jsx(k,{isStacking:i,mediaStagingItem:e,onAttachmentRemoved:y},e.offlineAttachmentId)}),t[19]=y,t[20]=i,t[21]=I,t[22]=T):T=t[22];var D;return t[23]!==R||t[24]!==L||t[25]!==E||t[26]!==T?(D=d.jsxs("div",babelHelpers.extends({},R,{children:[L,E,T]})),t[23]=R,t[24]=L,t[25]=E,t[26]=T,t[27]=D):D=t[27],D}}l.default=T}),226);
__d("IGDComposerSavedReplyTrayQuery$Parameters",["IGDComposerSavedReplyTrayQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("IGDComposerSavedReplyTrayQuery_instagramRelayOperation"),metadata:{},name:"IGDComposerSavedReplyTrayQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDComposerSavedReplyTray.entrypoint",["IGDComposerSavedReplyTrayQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{SavedReplyQueryRef:{parameters:r("IGDComposerSavedReplyTrayQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("IGDComposerSavedReplyTray.react").__setRef("IGDComposerSavedReplyTray.entrypoint")};l.default=e}),98);
__d("IGDComposerSavedReplyButton.react",["fbt","FDSPopoverLoadingState.react","IGDComposerSavedReplyTray.entrypoint","IGDSBox.react","IGDSEntryPointPopoverTrigger.react","IGDSIconButton.react","IGDSSmsPanoOutlineIcon.react","IGDSavedReplyPersonalizationUtils","Lexical","react","react-compiler-runtime","useContactReachabilityStatus","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useCallback,m={button:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function p(t){var a,i,l,u,d=o("react-compiler-runtime").c(14),p=t.editor,_=t.thread,f;d[0]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Choose a saved reply").toString(),d[0]=f):f=d[0];var g=f,h=(e||(e=r("useReStore")))(),y=o("useContactReachabilityStatus").useOtherUser(h,_.threadKey,_.threadType),C=(a=y==null||(i=y[1])==null?void 0:i.firstName)!=null?a:null,b=(l=y==null||(u=y[1])==null?void 0:u.name)!=null?l:null,v;d[1]!==p||d[2]!==C||d[3]!==b?(v=function(t){var e=o("IGDSavedReplyPersonalizationUtils").replacePersonalizationPlaceholders(t,C,b);p&&e&&p.update(function(){var t=n("Lexical"),r=t.$createParagraphNode,o=t.$createTextNode,a=t.$getRoot,i=t.$getSelection,l=r(),s=o(e);l.append(s);var u=a();u.clear(),u.append(l);var c=i();c!=null&&l.selectEnd(),p.focus()})},d[1]=p,d[2]=C,d[3]=b,d[4]=v):v=d[4];var S=v,R,L;d[5]===Symbol.for("react.memo_cache_sentinel")?(R={},L=c.jsx(r("FDSPopoverLoadingState.react"),{withArrow:!0}),d[5]=R,d[6]=L):(R=d[5],L=d[6]);var E;d[7]!==S||d[8]!==C||d[9]!==b?(E={onClick:S,otherUserFirstName:C,otherUserFullName:b},d[7]=S,d[8]=C,d[9]=b,d[10]=E):E=d[10];var k;d[11]===Symbol.for("react.memo_cache_sentinel")?(k=function(t,n,o,a,i,l){return c.jsx(r("IGDSBox.react"),{children:c.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:t,onClick:function(){n()},onHoverEnd:i,onHoverStart:a,onPressStart:l,xstyle:m.button,children:c.jsx(r("IGDSSmsPanoOutlineIcon.react"),{alt:g,color:"ig-primary-text"})})})},d[11]=k):k=d[11];var I;return d[12]!==E?(I=c.jsx(r("IGDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:R,fallback:L,otherProps:E,popoverEntryPoint:r("IGDComposerSavedReplyTray.entrypoint"),position:"above",preloadTrigger:"button",children:k}),d[12]=E,d[13]=I):I=d[13],I}l.default=p}),226);
__d("IGDComposerSavedReplyLocalStorage",["WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s="igd_saved_reply_suggestion_opt_out";function u(){try{var t,n=(t=(e||(e=r("WebStorage"))).getLocalStorageForRead())==null?void 0:t.getItem(s);return n==="true"}catch(e){return!1}}function c(t){try{var n;(n=(e||(e=r("WebStorage"))).getLocalStorage())==null||n.setItem(s,t.toString())}catch(e){}}l.getIsOptedOut=u,l.setIsOptedOut=c}),98);
__d("IGDComposerSavedReplySuggestionTrayQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24995145283423757"}),null);
__d("IGDComposerSavedReplySuggestionTrayQuery.graphql",["IGDComposerSavedReplySuggestionTrayQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDComposerSavedReplySuggestionTrayQuery",selections:[{alias:null,args:null,concreteType:"IGSavedRepliesResponse",kind:"LinkedField",name:"xig_get_saved_replies",plural:!1,selections:[{alias:null,args:null,concreteType:"IGSavedReply",kind:"LinkedField",name:"saved_replies",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"IGDComposerSavedReplySuggestionTray_savedReplies"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"IGDComposerSavedReplySuggestionTrayQuery",selections:[{alias:null,args:null,concreteType:"IGSavedRepliesResponse",kind:"LinkedField",name:"xig_get_saved_replies",plural:!1,selections:[{alias:null,args:null,concreteType:"IGSavedReply",kind:"LinkedField",name:"saved_replies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"uuid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortcut",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("IGDComposerSavedReplySuggestionTrayQuery_instagramRelayOperation"),metadata:{},name:"IGDComposerSavedReplySuggestionTrayQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDComposerSavedReplySuggestionTray_savedReplies.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"IGDComposerSavedReplySuggestionTray_savedReplies",selections:[{alias:null,args:null,kind:"ScalarField",name:"uuid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortcut",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],type:"IGSavedReply",abstractKey:null};a.exports=e}),null);
__d("IGDComposerSavedReplySuggestionTray.react",["fbt","CometPressable.react","CometRelay","IGDComposerSavedReplyLocalStorage","IGDComposerSavedReplySettingsDialog.entrypoint","IGDComposerSavedReplySuggestionTrayQuery.graphql","IGDComposerSavedReplySuggestionTray_savedReplies.graphql","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSavedReplyPersonalizationUtils","Lexical","react","react-compiler-runtime","useContactReachabilityStatus","useIGDSEntryPointDialog","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useEffect,g=p.useState,h={pressableItem:{width:"xh8yej3",$$css:!0}},y=function(t,n){if(!t.trim()||n.length===0)return[];var e=t.toLowerCase();return n.filter(function(t){if(t.text){var n=t.text.trim().replace(/\s+/g," ").toLowerCase(),r=e.trim().replace(/\s+/g," ");if(n===r)return!1}if(t.shortcut&&t.shortcut.toLowerCase().trim()===e)return!0;if(t.text&&e.length>=5){var o=t.text.toLowerCase();if(o.includes(e))return!0}return!1}).sort(function(t,n){var r,o,a=t.shortcut&&t.shortcut.toLowerCase()===e,i=n.shortcut&&n.shortcut.toLowerCase()===e;return a&&!i?-1:!a&&i?1:((r=n.usage_count)!=null?r:0)-((o=t.usage_count)!=null?o:0)}).slice(0,5)},C=function(t,n){if(!n)return m.jsx("span",{className:"x1roi4f4",children:t});var e=n.toLowerCase(),r=t.toLowerCase(),o=r.indexOf(e);if(o===-1)return m.jsx("span",{className:"x1roi4f4",children:t});var a=t.substring(0,o),i=t.substring(o,o+n.length),l=t.substring(o+n.length);return m.jsxs(m.Fragment,{children:[a&&m.jsx("span",{className:"x1roi4f4",children:a}),m.jsx("span",{className:"x1qz8m4s x117nqv4",children:i}),l&&m.jsx("span",{className:"x1roi4f4",children:l})]})};function b(e){var t=o("react-compiler-runtime").c(24),n=e.currentInput,a=e.editor,i=e.matchingSavedReplies,l=e.onDismiss,u=e.onOptOut,c=e.otherUserFirstName,d=e.otherUserFullName,p;t[0]!==a||t[1]!==l||t[2]!==c||t[3]!==d?(p=function(t){if(a&&t.text){var e=o("IGDSavedReplyPersonalizationUtils").replacePersonalizationPlaceholders(t.text,c,d);a.update(function(){var t=o("Lexical").$createParagraphNode(),n=o("Lexical").$createTextNode(e);t.append(n);var r=o("Lexical").$getRoot();r.clear(),r.append(t),t.selectEnd(),a.focus()})}l()},t[0]=a,t[1]=l,t[2]=c,t[3]=d,t[4]=p):p=t[4];var _=p,f;t[5]!==u?(f=function(t){t.stopPropagation(),u()},t[5]=u,t[6]=f):f=t[6];var g=f;if(i.length===0)return null;var y;t[7]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Saved replies"),t[7]=y):y=t[7];var b=y,v;t[8]===Symbol.for("react.memo_cache_sentinel")?(v={className:"xgf5ljw x1i5p2am x1whfx0g xr2y4jy x1ihp6rs x1yvgwvq x13fuv20 x178xt8z x10w3d4m x78zum5 xdt5ytf xtijo5x x1o0tod x1e56ztr x1hkcv85 x1odjw0f x10l6tqk"},t[8]=v):v=t[8];var S;if(t[9]!==n||t[10]!==g||t[11]!==_||t[12]!==i||t[13]!==c||t[14]!==d){var R;t[16]!==n||t[17]!==g||t[18]!==_||t[19]!==c||t[20]!==d?(R=function(t,a){var e,i,l=o("IGDSavedReplyPersonalizationUtils").replacePersonalizationPlaceholders((e=t.text)!=null?e:"",c,d),u=t.shortcut?t.shortcut+" \u2022 "+l:l,p=a===0;return m.jsx(r("CometPressable.react"),{onPress:function(){return _(t)},xstyle:h.pressableItem,children:m.jsxs("div",{className:"x1cy8zhl x1ixjvfu x1q0q8m5 xso031l x1ypdohk x78zum5 x1q0g3np x1f6kntn x1y1aw1k xwib8y2 x1g0dm76 xpdmqnj xh8yej3 x2nact x1t1lzn6",children:[m.jsxs("div",{className:"x1iyjqo2",children:[m.jsx("div",{className:"x1roi4f4 x1pg5gke xzueoph",children:b}),C(u,n)]}),p&&m.jsx("div",{className:"x6s0dn4 x1roi4f4 x1ypdohk x78zum5 x1c3i2sq xl56j7k xmzvs34 xf159sx x134bqvu x1o9uer x1de710j xbtwl55 x1k1bblp",onClick:g,role:"button",tabIndex:0,children:m.jsx(r("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:s._(/*BTDS*/"More options"),color:"ig-primary-text",size:20})})]})},(i=t.uuid)!=null?i:t.text)},t[16]=n,t[17]=g,t[18]=_,t[19]=c,t[20]=d,t[21]=R):R=t[21],S=i.map(R),t[9]=n,t[10]=g,t[11]=_,t[12]=i,t[13]=c,t[14]=d,t[15]=S}else S=t[15];var L;return t[22]!==S?(L=m.jsx("div",babelHelpers.extends({},v,{children:S})),t[22]=S,t[23]=L):L=t[23],L}function v(t){var a,i,l,s,d,p,_=o("react-compiler-runtime").c(22),h=t.editor,C=t.thread,v=g(""),R=v[0],L=v[1],E;_[0]===Symbol.for("react.memo_cache_sentinel")?(E=[],_[0]=E):E=_[0];var k=g(E),I=k[0],T=k[1],D=g(!1),x=D[0],$=D[1],P=o("IGDComposerSavedReplyLocalStorage").getIsOptedOut(),N;_[1]===Symbol.for("react.memo_cache_sentinel")?(N={},_[1]=N):N=_[1];var M=r("useIGDSEntryPointDialog")(r("IGDComposerSavedReplySettingsDialog.entrypoint"),N,"button"),w=M[0],A=(c||(c=r("useReStore")))(),F=o("useContactReachabilityStatus").useOtherUser(A,C.threadKey,C.threadType),O=(a=F==null||(i=F[1])==null?void 0:i.firstName)!=null?a:null,B=(l=F==null||(s=F[1])==null?void 0:s.name)!=null?l:null,W=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("IGDComposerSavedReplySuggestionTrayQuery.graphql"),{}),q=(d=(p=W.xig_get_saved_replies)==null?void 0:p.saved_replies)!=null?d:[],U=o("CometRelay").useFragment(u!==void 0?u:u=n("IGDComposerSavedReplySuggestionTray_savedReplies.graphql"),q),V,H;_[2]!==U?(V=function(){if(U){var e=U.map(S);T(e)}},H=[U],_[2]=U,_[3]=V,_[4]=H):(V=_[3],H=_[4]),f(V,H);var G,z;_[5]!==h||_[6]!==x?(G=function(){var e=h.registerUpdateListener(function(e){var t=e.editorState;t.read(function(){var e=o("Lexical").$getRoot(),t=e.getTextContent().trim();L(t),!t&&x&&$(!1)})});return e},z=[h,x],_[5]=h,_[6]=x,_[7]=G,_[8]=z):(G=_[7],z=_[8]),f(G,z);var j;_[9]!==w?(j=function(){$(!0),w({})},_[9]=w,_[10]=j):j=_[10];var K=j,Q;_[11]===Symbol.for("react.memo_cache_sentinel")?(Q=function(){$(!0)},_[11]=Q):Q=_[11];var X=Q,Y;_[12]!==R||_[13]!==I?(Y=y(R,I),_[12]=R,_[13]=I,_[14]=Y):Y=_[14];var J=Y;if(P||x)return null;var Z;return _[15]!==R||_[16]!==h||_[17]!==K||_[18]!==J||_[19]!==O||_[20]!==B?(Z=m.jsx(b,{currentInput:R,editor:h,matchingSavedReplies:J,onDismiss:X,onOptOut:K,otherUserFirstName:O,otherUserFullName:B}),_[15]=R,_[16]=h,_[17]=K,_[18]=J,_[19]=O,_[20]=B,_[21]=Z):Z=_[21],Z}function S(e){var t,n,r,o;return{creation_time:(t=e.creation_time)!=null?t:0,label:e.label,shortcut:(n=e.shortcut)!=null?n:"",text:(r=e.text)!=null?r:"",usage_count:(o=e.usage_count)!=null?o:0,uuid:e.uuid}}l.default=v}),226);
__d("IGDComposerThemeConfigOverride",[],(function(t,n,r,o,a,i){"use strict";var e={dark:{"chat-composer-button-color":"var(--chat-outgoing-message-bubble-background-color)","mwp-primary-theme-color":"var(--chat-outgoing-message-bubble-background-color)"},light:{"chat-composer-button-color":"var(--chat-outgoing-message-bubble-background-color)","mwp-primary-theme-color":"var(--chat-outgoing-message-bubble-background-color)"},type:"VARIABLES"},l=e;i.default=l}),66);
__d("IGDComposerViewSendButton.react",["fbt","IGDComposerIconSendButton.react","IGDEntryPoints","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","WebStorage","qex","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useCallback,m={sendTextButton:{alignSelf:"x7fd4wk",marginBottom:"x1sfzahb",marginInlineEnd:"xnnr8r",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(16),a=t.hidden,i=t.onClick,l=r("MessengerWebUXLogger").useInteractionLogger(),u=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),d=r("useIsChatTabsDisplay")(),p=String(d),_;n[0]!==p?(_={isChatTab:p},n[0]=p,n[1]=_):_=n[1];var f;n[2]!==u||n[3]!==_?(f={eventName:"composer_send_button_rendered",extraData:_,flowInstanceId:u},n[2]=u,n[3]=_,n[4]=f):f=n[4];var g=r("MessengerWebUXLogger").useImpressionLoggerRef(f),h;n[5]!==u||n[6]!==l||n[7]!==i?(h=function(){i();var t=(e||(e=r("WebStorage"))).getSessionStorage(),n=(t==null?void 0:t.getItem("isFromBusinessChats"))==="true";l==null||l({entryPoint:n?o("IGDEntryPoints").IGDEntryPoints.BUSINESS_CHATS:o("IGDEntryPoints").IGDEntryPoints.UNKNOWN,eventName:"send_message",flowInstanceId:u}),n&&(t==null||t.removeItem("isFromBusinessChats"))},n[5]=u,n[6]=l,n[7]=i,n[8]=h):h=n[8];var y=h,C;if(n[9]!==d){var b;C=d||((b=r("qex")._("917"))!=null?b:!1),n[9]=d,n[10]=C}else C=n[10];var v=C,S;return n[11]!==a||n[12]!==g||n[13]!==y||n[14]!==v?(S=v?c.jsx(r("IGDComposerIconSendButton.react"),{hidden:a,isDisabled:a===!0,onClick:y,ref:g,testid:void 0}):c.jsx(r("IGDSButton.react"),{"data-testid":void 0,display:"block",hidden:a,label:s._(/*BTDS*/"Send"),onClick:y,ref:g,variant:"primary_link",xstyle:m.sendTextButton}),n[11]=a,n[12]=g,n[13]=y,n[14]=v,n[15]=S):S=n[15],S}l.default=p}),226);
__d("createComposerDeferredPlugin",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useRef,m=u.useState;function p(e){function t(t){var n=d(e.getModuleIfRequireable()),r=m(n.current!=null),o=r[0],a=r[1];if(c(function(){var t=e.onReady(function(e){n.current=e,a(!0)});return function(){return t.remove()}},[]),n.current!=null){var i=n.current;return s.jsx(i,babelHelpers.extends({},t))}return null}return s.memo(t)}l.default=p}),98);
__d("IGDMentionsComposerPlugin.react",["CometPlaceholder.react","createComposerDeferredPlugin","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("createComposerDeferredPlugin")(r("requireDeferred")("IGDMentionsPluginForLexical.react").__setRef("IGDMentionsComposerPlugin.react"));function c(e){var t=o("react-compiler-runtime").c(4),n=e.editor,a=e.isAiBotMentionsEnabled,l=e.threadKey,c;return t[0]!==n||t[1]!==a||t[2]!==l?(c=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(u,{editor:n,isAiBotMentionsEnabled:a,threadKey:l})}),t[0]=n,t[1]=a,t[2]=l,t[3]=c):c=t[3],c}l.default=c}),98);
__d("IGDSMicrophonePanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n,a,i,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M19.5 10.671v.897a7.5 7.5 0 0 1-15 0v-.897",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),a=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",x1:"12",x2:"12",y1:"19.068",y2:"22"}),i=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"8.706",x2:"15.104",y1:"22",y2:"22"}),l=s.jsx("path",{d:"M12 15.745a4 4 0 0 1-4-4V6a4 4 0 0 1 8 0v5.745a4 4 0 0 1-4 4Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),t[0]=n,t[1]=a,t[2]=i,t[3]=l):(n=t[0],a=t[1],i=t[2],l=t[3]);var u;return t[4]!==e?(u=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a,i,l]})),t[4]=e,t[5]=u):u=t[5],u}var c=s.memo(u);l.default=c}),98);
__d("IGDVoiceClipButton.react",["IGDSIconButton.react","IGDSMicrophonePanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","PolarisDirectStrings","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c={voiceClip:{paddingInlineEnd:"x1icxu4v",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(10),n=e.voiceRecorder,a=r("MessengerWebUXLogger").useInteractionLogger(),i=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),l;t[0]!==i?(l={eventName:"composer_audio_button_rendered",flowInstanceId:i},t[0]=i,t[1]=l):l=t[1];var u=r("MessengerWebUXLogger").useImpressionLoggerRef(l),d;t[2]!==i||t[3]!==a||t[4]!==n?(d=function(){navigator.mediaDevices&&r("promiseDone")(navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(e){n.start(e)})),a==null||a({eventName:"composer_record_audio",flowInstanceId:i})},t[2]=i,t[3]=a,t[4]=n,t[5]=d):d=t[5];var m=d,p;t[6]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(r("IGDSMicrophonePanoOutline24Icon.react"),{alt:o("PolarisDirectStrings").VOICE_CLIP_RECORDER_ICON_ALT_TEXT,color:"ig-primary-text",size:24}),t[6]=p):p=t[6];var _;return t[7]!==u||t[8]!==m?(_=s.jsx(r("IGDSIconButton.react"),{innerRef:u,onClick:m,xstyle:c.voiceClip,children:p}),t[7]=u,t[8]=m,t[9]=_):_=t[9],_}l.default=d}),98);
__d("MWChatComposerIcons",["cr:2809"],(function(t,n,r,o,a,i,l){"use strict";var e;l.MWChatComposerIconsGif=(e=n("cr:2809")).Gif,l.MWChatComposerIconsSticker=e.Sticker,l.MWChatComposerIconsPhoto=e.Photo,l.MWChatComposerIconsMoreActions=e.MoreActions,l.MWChatComposerIconsEmoji=e.Emoji}),98);
__d("MWPCometComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalComposerContext","LexicalErrorBoundary","LexicalHistoryPlugin","LexicalPlainTextPlugin","MLCInstrumentationPluginDeferred__INTERNAL.react","react","requireDeferred","useDeferredModuleOnReady"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo,p=r("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("MWPCometComposerInner.react"),_={editor:{flexGrow:"x1iyjqo2",maxHeight:"x1gh3ibb",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0}},f=s._(/*BTDS*/"Message").toString();function g(e){var t=e.ariaDescribedBy,n=e.contentEditableRef,a=e.editor,i=e.handlePastedFiles,l=e.placeholderText,s=e.policyProduct,c=e.surface,g=e.testId,h=r("useDeferredModuleOnReady")(p),y=o("LexicalComposerContext").createLexicalComposerContext(),C=m(function(){return[a,y]},[a,y]),b=d(function(e){var t=e==null?null:e;n.current=t},[n,a]),v=u.jsx(r("CometLexicalContentEditable.react"),babelHelpers.extends({ariaDescribedBy:t,ariaLabel:f},l==null?{}:{"aria-placeholder":l,placeholder:u.jsx(r("CometLexicalPlaceholder.react"),{children:l})},{contentEditableRef:b,spellCheck:!0,tabIndex:0,webDriverTestID:g,xstyle:_.editor}));return u.jsxs("div",{className:"x1n2onr6",children:[u.jsxs(o("LexicalComposerContext").LexicalComposerContext.Provider,{value:C,children:[u.jsx(r("MLCInstrumentationPluginDeferred__INTERNAL.react"),{policyProduct:s,surface:c}),u.jsx(o("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:o("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:v}),u.jsx(o("LexicalHistoryPlugin").HistoryPlugin,{})]}),h==null||i===void 0?null:u.jsx(h,{editor:a,handlePastedFiles:i})]})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),226);
__d("WAGetUserMedia",[],(function(t,n,r,o,a,i){"use strict";function e(){var e=navigator.mediaDevices;return e==null?null:function(t){return e.getUserMedia(t)}}var l=e();i.getUserMedia=l}),66);
__d("WAPttComposerOpusRecorder",["$InternalEnum","Promise","WAGetUserMedia","WANullthrows","WAOpusRecorderWorkerClient","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e,s={bitRate:16e3,bufferLength:4096,numberOfChannels:1,encoderSampleRate:16e3,maxBuffersPerPage:40,encoderApplication:2048,encoderFrameSize:20,streamOptions:{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}}},u=n("$InternalEnum").Mirrored(["INACTIVE","RECORDING","PAUSED","STOPPED"]),c=(function(){function t(t){var o=this;if(this._duration=0,this._recordedPages=[],this._state=u.INACTIVE,this._isFirstBuffer=!1,this._requestCount=0,this._pendingFlushResolvers=new Map,this._handleEncoderMessage=function(e){var t=e.data;switch(t.message){case"page":o._storePage(t.page);break;case"flushed":o._handleFlushed(t.requestId);break;default:throw r("err")("Invalid message event type: "+t.message)}},!m())throw r("err")("Recording is not supported in this browser");this._createStream=t.createStream,this._onDuration=t.onDuration,this._onPause=t.onPause,this._onResume=t.onResume,this._onStart=t.onStart,this._onStop=t.onStop,this._handlePage=t.onPage,this._completeRecordingPromise=new(e||(e=n("Promise")))(function(e){o._resolveCompleteRecordingPromise=e}),this._audioContext=new AudioContext,this._encoderNode=this._audioContext.createScriptProcessor(s.bufferLength,s.numberOfChannels,s.numberOfChannels),this._encoderNode.onaudioprocess=function(e){o._encodeBuffers(e.inputBuffer)},this._monitorNode=this._audioContext.createGain()}var a=t.prototype;return a.getState=function(){return this._state},a.start=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e,t;switch(this._state){case u.RECORDING:return!0;case u.STOPPED:return!1;case u.PAUSED:return this.resume();case u.INACTIVE:break}this._recordedPages=[],this._isFirstBuffer=!0,this._duration=0;var n=o("WAOpusRecorderWorkerClient").getOpusEncoderWorker();this._encoder=n,n.addEventListener("message",this._handleEncoderMessage);var r=yield this._startRecording();return r?((e=this._onStart)==null||e.call(this),(t=this._onDuration)==null||t.call(this,this._duration),n.postMessage({command:"encode-init",config:babelHelpers.extends({},s,{originalSampleRate:this._audioContext.sampleRate})}),this._encoderNode.connect(this._audioContext.destination),!0):!1});function t(){return e.apply(this,arguments)}return t})(),a.stop=function(){var e,t;this._state!==u.STOPPED&&(this._state=u.STOPPED,(e=this._recordingAbortController)==null||e.abort(),this._audioContext.close&&this._audioContext.close(),this._monitorNode.disconnect(),this._encoderNode.disconnect(),(t=this._encoder)==null||t.postMessage({command:"encode-done"}))},a.pause=function(){var e,t;this._state===u.RECORDING&&(this._state=u.PAUSED,(e=this._recordingAbortController)==null||e.abort(),(t=this._onPause)==null||t.call(this))},a.resume=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e;switch(this._state){case u.RECORDING:return!0;case u.STOPPED:return!1;case u.INACTIVE:throw r("err")("Attempting to resume recording that hasn't started");case u.PAUSED:break}var t=yield this._startRecording();return t?((e=this._onResume)==null||e.call(this),!0):!1});function t(){return e.apply(this,arguments)}return t})(),a.getDuration=function(){return this._duration},a.getMonitorNode=function(){return this._monitorNode},a._encodeBuffers=function(t){var e;if(this._isFirstBuffer){this._isFirstBuffer=!1;return}if(this._state===u.RECORDING){for(var n=[],o=0;o<t.numberOfChannels;o++)n[o]=t.getChannelData(o);var a=r("WANullthrows")(this._encoder);a.postMessage({command:"encode",buffers:n}),this._duration+=t.duration,(e=this._onDuration)==null||e.call(this,this._duration)}},a._getNextRequestId=function(){return this._requestCount++,this._requestCount},a._startRecording=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){this._state=u.RECORDING,this._recordingAbortController=new AbortController;var e=yield p(this._createStream,this._audioContext,[this._encoderNode,this._monitorNode],this._recordingAbortController.signal);return e?!0:(this.stop(),!1)});function t(){return e.apply(this,arguments)}return t})(),a._storePage=function(t){var e;if(this._recordedPages.push(t),t[5]&4){var n,o;(n=this._handlePage)==null||n.call(this,t,!0);var a=r("WANullthrows")(this._encoder);a.removeEventListener("message",this._handleEncoderMessage),this._resolveCompleteRecordingPromise(d(this._recordedPages)),this._recordedPages=[],(o=this._onStop)==null||o.call(this);return}(e=this._handlePage)==null||e.call(this,t,!1)},a._handleFlushed=function(t){var e=r("WANullthrows")(this._pendingFlushResolvers.get(t));this._pendingFlushResolvers.delete(t),e(d(this._recordedPages))},a.getPartialRecording=function(){var t=this,o=this._getNextRequestId(),a=new(e||(e=n("Promise")))(function(e){t._pendingFlushResolvers.set(o,e)}),i=r("WANullthrows")(this._encoder);return i.postMessage({command:"flush",requestId:o}),a},a.getCompleteRecording=function(){return this._completeRecordingPromise},t})();function d(e){var t=e.reduce(function(e,t){return e+t.length},0),n=new Uint8Array(t),r=0;for(var o of e)n.set(o,r),r+=o.length;return new Blob([n],{type:"audio/ogg; codecs=opus"})}function m(){return!!(window.AudioContext&&o("WAGetUserMedia").getUserMedia)}function p(e,t,n,r){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var o=yield e(r);if(r.aborted||o==null)return!1;var a=t.createMediaStreamSource(o);return n.forEach(function(e){a.connect(e)}),r.addEventListener("abort",function(){o.getTracks().forEach(function(e){e.stop()}),a.disconnect()},{once:!0}),!0}),_.apply(this,arguments)}l.OpusRecorderState=u,l.OpusRecorder=c}),98);
__d("WAPttComposerRecorderPollableTimer",[],(function(t,n,r,o,a,i){var e=(function(){function e(){}var t=e.prototype;return t.start=function(){this.$1=Date.now()},t.stop=function(){this.$2=Date.now()},t.pause=function(){this.stop()},t.resume=function(){this.$1=Date.now()-this.getTime(),this.$2=null},t.getTime=function(){var e,t=this.$1;if(t==null)return 0;var n=(e=this.$2)!=null?e:Date.now();return n-t},e})();i.default=e}),66);
__d("WAStartAnimationLoop",[],(function(t,n,r,o,a,i){function e(e,t){var n=t!=null?t:{},r=n.delay,o=r===void 0?0:r,a,i,l,s=function(){i=!0,window.cancelAnimationFrame(a)},u=function(n){(l==null||n-l>=o)&&(e(n),l=n),!i&&(a=window.requestAnimationFrame(u))};return a=window.requestAnimationFrame(u),s}i.startAnimationLoop=e}),66);
__d("WAPttComposerWaveformRecorder",["WANullthrows","WAPttComposerRecorderPollableTimer","WAPttComposerScaleWaveform","WAStartAnimationLoop"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e,t){var n=this;this.$2=new(r("WAPttComposerRecorderPollableTimer")),this.$3=[],this.$4=[],this.$5=0,this.$10=function(){n.$5=Math.max(n.$5,n.$11());var e=n.$3.length/n.$1,t=Math.floor((n.getDuration()-e)*n.$1);if(t!==0){for(var r=0;r<t;r++)n.$3.push(n.$5);n.$5=0}},this.$12=0,this.$7=s(e),e.connect(this.$7),this.$1=t}var t=e.prototype;return t.start=function(){this.$2.start(),this.$9()},t.stop=function(){var e;this.$2.stop(),(e=this.$6)==null||e.call(this)},t.pause=function(){var e;this.$2.pause(),(e=this.$6)==null||e.call(this)},t.resume=function(){this.$2.resume(),this.$9()},t.$9=function(){this.$6=o("WAStartAnimationLoop").startAnimationLoop(this.$10)},t.$11=function(){var e,t=r("WANullthrows")(this.$7);this.$8=(e=this.$8)!=null?e:new Uint8Array(t.frequencyBinCount);var n=this.$8;return t.getByteFrequencyData(n),Math.max.apply(Math,Array.from(n))/255},t.commitSamples=function(t){var e=Math.floor(t*this.$1),n=e-this.$4.length,o=this.$3.length-this.$12;if(!(n===0||o===0)){var a=this.$3.slice(this.$12,this.$3.length),i=r("WAPttComposerScaleWaveform")(a,n);for(var l of i)this.$4.push(l);this.$12=this.$3.length}},t.getSamples=function(){return this.$3},t.getDuration=function(){var e,t=(e=this.$2.getTime())!=null?e:0;return t/1e3},t.getCorrectedSamples=function(){return this.$4},e})();function s(e){var t=e.context.createAnalyser();return t.fftSize=32,t.smoothingTimeConstant=0,t.minDecibels=-60,t.maxDecibels=-10,t}l.default=e}),98);
__d("WAPttComposerRecorder",["WAPttComposerOpusRecorder","WAPttComposerWaveformRecorder","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e){var t=this;this._handleOpusRecorderDuration=function(){t._waveformRecorder.commitSamples(t.getDuration()),t._onDuration==null||t._onDuration(t.getDuration())},this._onDuration=e.onDuration,this._opusRecorder=new(o("WAPttComposerOpusRecorder")).OpusRecorder({createStream:e.createStream,onDuration:this._handleOpusRecorderDuration,onPage:function(n,r){e.onPage==null||e.onPage(n,r)}}),this._waveformRecorder=new(r("WAPttComposerWaveformRecorder"))(this._opusRecorder.getMonitorNode(),e.waveformSampleRate)}var t=e.prototype;return t.start=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield this._opusRecorder.start();return e?(this._waveformRecorder.start(),!0):!1});function t(){return e.apply(this,arguments)}return t})(),t.stop=function(){this._opusRecorder.stop(),this._waveformRecorder.stop()},t.pause=function(){this._opusRecorder.pause(),this._waveformRecorder.pause()},t.resume=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield this._opusRecorder.resume();return e?(this._waveformRecorder.resume(),!0):!1});function t(){return e.apply(this,arguments)}return t})(),t.getDuration=function(){return this._opusRecorder.getDuration()},t.getPreciseDuration=function(){var e;return(e=this._waveformRecorder.getDuration())!=null?e:0},t.getLiveWaveformSamples=function(){return this._waveformRecorder.getSamples()},t.getCorrectedWaveformSamples=function(){return this._waveformRecorder.getCorrectedSamples()},t.getPartialRecording=function(){return this._opusRecorder.getPartialRecording()},t.getCompleteRecording=function(){return this._opusRecorder.getCompleteRecording()},e})();l.default=e}),98);
__d("MWPUseVoiceRecorderV2",["FBLogger","MAWAudioUtils","MWPAudioPlayerIcons.react","MWPAudioPlayerLabels","Promise","WAMaybeTranscodeOggOpusToWavForPlayback","WAPttComposerRecorder","asyncToGeneratorRuntime","clearTimeout","emptyFunction","err","getSafeQplErrorMessage","gkx","react","setTimeout","useIsMountedRef","usePrevious","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_=p||(p=o("react")),f=p,g=f.useCallback,h=f.useEffect,y=f.useReducer,C=f.useRef,b=function(){return r("FBLogger")("wmi").tags(["audio"])};function v(e){switch(e.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function S(e){switch(e.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function R(e){switch(e.stage){case"Unopen":return 0;case"Recording":return e.duration;case"Recorded":case"Playing":return Math.max(e.duration-e.currentTime,0)}}function L(e){switch(e.stage){case"Unopen":return 0;case"Recording":return e.recordingTimeout;case"Recorded":case"Playing":return e.duration}}function E(e){switch(e.stage){case"Unopen":case"Recording":return;case"Recorded":case"Playing":return e.currentTime}}function k(e){switch(e.stage){case"Unopen":case"Recorded":return!1;case"Recording":case"Playing":return!0}}function I(e){return e.stage==="Recorded"?e.currentTime===0:!1}function T(e){switch(e.stage){case"Recording":return o("MWPAudioPlayerLabels").stopLabel;case"Unopen":case"Recorded":return o("MWPAudioPlayerLabels").playLabel;case"Playing":return o("MWPAudioPlayerLabels").pauseLabel}}function D(e,t){switch(e.stage){case"Recording":return _.jsx(o("MWPAudioPlayerIcons.react").StopIcon,{color:t});case"Unopen":case"Recorded":return _.jsx(o("MWPAudioPlayerIcons.react").PlayIcon,{color:t});case"Playing":return _.jsx(o("MWPAudioPlayerIcons.react").PauseIcon,{color:t})}}D.displayName=D.name+" [from "+i.id+"]";function x(e,t){switch(t.type){case"Start":return{duration:0,mediaStream:t.mediaStream,recordingTimeout:t.recordingTimeout,stage:"Recording"};case"Toggle":{switch(e.stage){case"Unopen":return e;case"Recording":return{currentTime:0,duration:e.duration,stage:"Recorded"};case"Recorded":return{currentTime:e.currentTime,duration:e.duration,stage:"Playing"};case"Playing":return{currentTime:e.currentTime,duration:e.duration,stage:"Recorded"}}break}case"UpdateDuration":{if(e.duration!=null&&t.duration<e.duration)return e;var n=t.duration;switch(e.stage){case"Unopen":return e;case"Recording":return{duration:n,mediaStream:e.mediaStream,recordingTimeout:e.recordingTimeout,stage:"Recording"};case"Recorded":return{currentTime:e.currentTime,duration:n,stage:"Recorded"};case"Playing":return{currentTime:e.currentTime,duration:n,stage:"Playing"}}break}case"UpdateTime":{var r=t.currentTime;switch(e.stage){case"Unopen":case"Recording":return e;case"Recorded":{var o=e.duration;return r===o?{currentTime:0,duration:o,stage:"Recorded"}:{currentTime:r,duration:o,stage:"Recorded"}}case"Playing":{var a=e.duration;return r===a?{currentTime:0,duration:a,stage:"Recorded"}:{currentTime:r,duration:a,stage:"Playing"}}}break}case"RecordingTimeout":return{currentTime:0,duration:t.recordingTimeout,stage:"Recorded"};case"Reset":return{stage:"Unopen"}}}var $={stage:"Unopen"};function P(t){var a=t.maxDuration,i=a===void 0?60:a,l=t.logClickStartRecording,p=l===void 0?r("emptyFunction"):l,_=t.logBrowserDenyAccess,f=_===void 0?r("emptyFunction"):_,v=t.createVoiceRecordQpl,S=y(x,$),R=S[0],L=S[1],E=r("useIsMountedRef")(),k=C(),I=C(),T=C(),D=C(),P=C(),N=C(r("emptyFunction")),M=g((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t[0],a=t[1],i=t[2];if(E.current){var l=new Date().getTime(),s=Math.round(a*1e3),u="audioclip-"+l+"-"+s+".ogg",c=new File([n],u,{type:"audio/ogg"}),d=URL.createObjectURL(yield o("WAMaybeTranscodeOggOpusToWavForPlayback").maybeTranscodeOggOpusToWavForPlayback(n));T.current=d;var m=new Audio(d);m.addEventListener("error",function(){var t,n;b().MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["audioElement error code: ",". message: ",""])),(t=m.error)==null?void 0:t.code,(n=m.error)==null?void 0:n.message)}),m.addEventListener("canplay",function(){var e;I.current=m;var t=m.duration;L({duration:t,type:"UpdateDuration"});var n=r("gkx")("20216")?{amplitudes:o("MAWAudioUtils").recomputeWaveform(i),sampling_freq:t>0?o("MAWAudioUtils").WAVEFORM_TARGET_SIZE/t:0}:{amplitudes:i,sampling_freq:o("MAWAudioUtils").WAVEFORM_SAMPLE_RATE},a={duration:t,file:c,waveformData:n};D.current=a,N.current(a),(e=P.current)==null||e.endSuccess()}),m.addEventListener("timeupdate",function(){var e,t=(e=I.current)==null?void 0:e.currentTime;t!=null&&L({currentTime:t,type:"UpdateTime"})}),m.addEventListener("durationchange",function(){var e,t=(e=I.current)==null?void 0:e.duration;t!=null&&!Number.isNaN(t)&&L({duration:t,type:"UpdateDuration"})})}});return function(e){return t.apply(this,arguments)}})(),[E]);h(function(){if(R.stage==="Recording"){p();var e=R.mediaStream;return(m||(m=n("Promise"))).resolve().then(function(){var t=new(r("WAPttComposerRecorder"))({createStream:function(){return r("vulture")("ct5jsEZHAS-hfER03NfFJsLUdSU="),(m||(m=n("Promise"))).resolve(e)},waveformSampleRate:o("MAWAudioUtils").WAVEFORM_SAMPLE_RATE});return k.current=t,t.start()}).then(function(e){if(e){b().INFO(s||(s=babelHelpers.taggedTemplateLiteralLoose(["PTT recording start successfully"])));return}return(m||(m=n("Promise"))).reject(r("err")("PTT recording start failed"))}).catch(function(e){var t;b().MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["PTT recording start Error ",""])),e),(t=P.current)==null||t.endFail("start-error",{string:{failReason:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})}),function(){var e;(e=k.current)==null||e.stop()}}},[p,R.mediaStream,R.stage]);var w=r("usePrevious")(R);h(function(){if((w==null?void 0:w.stage)==="Recording"&&R.stage==="Recorded"){var e=k.current;if(e==null)return;e.stop(),(m||(m=n("Promise"))).all([e.getCompleteRecording(),e.getCorrectedWaveformSamples()]).then(function(t){var n=t[0],r=t[1],o=e.getDuration();return M([n,o,r])}).catch(function(e){var t;b().MUSTFIX(c||(c=babelHelpers.taggedTemplateLiteralLoose(["PTT recording stop Error ",""])),e),(t=P.current)==null||t.endFail("browser-deny-access",{string:{failReason:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})})}},[M,w==null?void 0:w.stage,R.stage]),h(function(){if(R.stage==="Recording"){var e=Date.now(),t,n=function(){var o=(Date.now()-e)/1e3;if(o>=i){L({recordingTimeout:i,type:"RecordingTimeout"});return}L({duration:o,type:"UpdateDuration"}),t=r("setTimeout")(n,1e3)};return t=r("setTimeout")(n,1e3),function(){t!=null&&r("clearTimeout")(t)}}},[i,R.stage]);var A=g(function(e){var t=v==null?void 0:v();P.current=t,t==null||t.start({startInfo:{isOpusRecorder:!0}}),L({mediaStream:e,recordingTimeout:i,type:"Start"})},[i,v]),F=g(function(){var e,t;(e=P.current)==null||e.endCancel(),L({type:"Reset"}),(t=I.current)==null||t.pause(),I.current=void 0,D.current=void 0;var n=T.current;n!=null&&(URL.revokeObjectURL(n),T.current=void 0)},[]),O=g(function(){var e=function(){L({maxDuration:i,type:"Toggle"})},t=I.current;if(t==null){e();return}switch(R.stage){case"Unopen":{e();break}case"Recording":{var n;(n=P.current)==null||n.addPoint("stop-recording"),e();break}case"Recorded":{var r;(r=P.current)==null||r.addPoint("play-audio"),t.play().then(e).catch(function(e){var t;b().MUSTFIX(d||(d=babelHelpers.taggedTemplateLiteralLoose(["PTT recording play Error ",""])),e),(t=P.current)==null||t.endFail("browser-deny-access",{string:{failReason:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}}),f()});break}case"Playing":{var a;(a=P.current)==null||a.addPoint("pause-playing"),t.pause(),e();break}}},[f,R.stage,i]),B=g(function(){return new(m||(m=n("Promise")))(function(e){var t=D.current;if(t!=null)return e(t);if(N.current=e,R.stage==="Recording")return O()})},[R,O]);return{audioEl:I,getVoiceClip:B,reset:F,start:A,state:R,toggle:O}}l.showScreenReaderLabel=v,l.hasScrubber=S,l.getTimerTime=R,l.getDuration=L,l.getCurrentTime=E,l.isProgressing=k,l.isCompleted=I,l.getPlaybackLabel=T,l.getPlaybackIcon=D,l.useVoiceRecorder=P}),98);
__d("MWVoiceRecordQpl",["MAWLoggerUtils","QPLUserFlow","gkx","qpl","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e=r("qpl")._(25302342,"1531"),s=600*1e3;function u(){var t=o("MAWLoggerUtils").getInstanceKey();return{addAnnotations:function(o){r("QPLUserFlow").addAnnotations(e,o,{instanceKey:t})},addPoint:function(o,a){r("QPLUserFlow").addPoint(e,o,{data:a,instanceKey:t})},endCancel:function(o,a){r("QPLUserFlow").endCancel(e,{annotations:a,cancelReason:o,instanceKey:t})},endFail:function(o,a){r("QPLUserFlow").endFailure(e,o,{annotations:a,instanceKey:t})},endSuccess:function(o){r("QPLUserFlow").endSuccess(e,{annotations:o,instanceKey:t})},start:function(o){var n=o.startInfo.isOpusRecorder;r("vulture")("82X5KZTgiST4gLKOKR5LcJ74yWQ="),r("QPLUserFlow").start(e,{annotations:{bool:{isOpusAudioAbTestEnabled:r("gkx")("3053"),isOpusAudioEnabled:r("gkx")("3054"),isOpusRecorder:n}},cancelOnUnload:!0,instanceKey:t,timeoutInMs:s})}}}l.event=e,l.createVoiceRecordQpl=u}),98);
__d("useShouldShowTextOnlyComposerForInvite",["IGDInviteModelUtils","LSMessagingThreadTypeUtil","WebDriverConfig","react-compiler-runtime","useContactReachabilityStatus"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(7),a=o("useContactReachabilityStatus").useContactReachabilityStatus(e,t),i;n[0]!==t?(i=o("LSMessagingThreadTypeUtil").isOneToOne(t),n[0]=t,n[1]=i):i=n[1];var l=i,s;n[2]!==a||n[3]!==l?(s=!r("WebDriverConfig").isJestE2ETestRun&&l&&(o("IGDInviteModelUtils").shouldShowTextOnlyComposer(a)||o("IGDInviteModelUtils").shouldShowTextOnlyComposerWithBanner(a)),n[2]=a,n[3]=l,n[4]=s):s=n[4];var u=s,c;return n[5]!==u?(c=u&&(o("IGDInviteModelUtils").shouldUseInviteModelV2()||o("IGDInviteModelUtils").shouldUseInviteModel()),n[5]=u,n[6]=c):c=n[6],c}l.default=e}),98);
__d("IGDComposerView.react",["fbt","BaseTheme.react","CurrentUser","I64","IGDAiAgentsUtils","IGDComposerAttachmentButton.react","IGDComposerEmojiButton.react","IGDComposerMediaStaging.react","IGDComposerSavedReplyButton.react","IGDComposerSavedReplySuggestionTray.react","IGDComposerThemeConfigOverride","IGDComposerViewSendButton.react","IGDMAPIInterfaceTypes","IGDMentionsComposerPlugin.react","IGDSBox.react","IGDSIconButton.react","IGDVoiceClipButton.react","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWPActor.react","MWPCometComposerInner.react","MWPThreadCapabilitiesContext","MWPUseVoiceRecorderV2","MWVoiceRecordQpl","MessengerWebUXLogger","PolarisUA","Promise","RelayHooks","cr:21207","cr:213","cr:599","cr:9307","deferredLoadComponent","emptyFunction","promiseDone","qex","react","react-compiler-runtime","requireDeferred","useCurrentDisplayMode","useIsChatTabsDisplay","useShouldShowTextOnlyComposerForInvite"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u.useCallback,p=r("deferredLoadComponent")(r("requireDeferred")("IGDAudioRecorderSelector.react").__setRef("IGDComposerView.react")),_={chatTabComposerInnerContainer:{width:"xc5o50y",$$css:!0},composerInnerContainer:{paddingBottom:"xs9asl8",$$css:!0},mobileComposerInnerContainer:{paddingBottom:"xwib8y2",$$css:!0}};function f(t){var a,i=o("react-compiler-runtime").c(109),l=t.attachmentsSupported,u=t.editor,m=t.editorElementRef,f=t.hasStuffToSend,g=t.hideUploadPlaceholder,h=t.multiple,y=t.onAttachmentsAdded,C=t.onSendMessage,b=t.policyProduct,v=t.sendMessage,S=t.supportedFileTypes,R=t.surface,L=t.thread,E=g===void 0?!1:g,k=h===void 0?!0:h,I=(a=t.emojisSupported)!=null?a:!0,T=L.threadKey,D=L.threadSubtype,x=L.threadType,$;i[0]!==D?($=o("IGDAiAgentsUtils").isAiThread(D),i[0]=D,i[1]=$):$=i[1];var P=$,N=r("useIsChatTabsDisplay")(),M=N,w=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),A=w.hasLSThreadBitOffset,F;i[2]!==A?(F=A(56),i[2]=A,i[3]=F):F=i[3];var O=F,B;i[4]!==A?(B=A(109),i[4]=A,i[5]=B):B=i[5];var W=B,q;i[6]!==A?(q=A(43),i[6]=A,i[7]=q):q=i[7];var U=q,V;i[8]!==L.threadType?(V=o("LSMessagingThreadTypeUtil").isGroup(L.threadType),i[8]=L.threadType,i[9]=V):V=i[9];var H=V,G=o("RelayHooks").useRelayEnvironment(),z;i[10]===Symbol.for("react.memo_cache_sentinel")?(z=r("CurrentUser").getEIMU(),i[10]=z):z=i[10];var j=z,K;i[11]!==L.consistentThreadFbid?(K=L.consistentThreadFbid!=null?o("IGDMAPIInterfaceTypes").toThreadId((c||(c=o("I64"))).to_string(L.consistentThreadFbid)):null,i[11]=L.consistentThreadFbid,i[12]=K):K=i[12];var Q=K,X=o("MWPActor.react").useActor(),Y;i[13]!==A?(Y=A(14)&&(!o("PolarisUA").isMobile()||r("qex")._("443")===!0),i[13]=A,i[14]=Y):Y=i[14];var J=Y,Z;i[15]!==l||i[16]!==A?(Z=A(2)&&l===!0,i[15]=l,i[16]=A,i[17]=Z):Z=i[17];var ee=Z,te;i[18]!==ee?(te=ee&&r("qex")._("4")===!0,i[18]=ee,i[19]=te):te=i[19];var ne=te,re;i[20]===Symbol.for("react.memo_cache_sentinel")?(re=r("qex")._("499"),i[20]=re):re=i[20];var oe=re===!0,ae;if(i[21]===Symbol.for("react.memo_cache_sentinel")){var ie;ae=!o("PolarisUA").isMobile()&&((ie=r("qex")._("1358"))!=null?ie:!1),i[21]=ae}else ae=i[21];var le=ae,se;i[22]!==l||i[23]!==A?(se=A(4)&&A(3)&&l===!0,i[22]=l,i[23]=A,i[24]=se):se=i[24];var ue=se,ce;i[25]===Symbol.for("react.memo_cache_sentinel")?(ce={createVoiceRecordQpl:o("MWVoiceRecordQpl").createVoiceRecordQpl,maxDuration:void 0},i[25]=ce):ce=i[25];var de=o("MWPUseVoiceRecorderV2").useVoiceRecorder(ce),me=de.state.stage!=="Unopen",pe;i[26]!==C||i[27]!==de?(pe=function(){return r("promiseDone")(de.getVoiceClip().then(function(t){return de.reset(),C(void 0,void 0,void 0,void 0,void 0,void 0,void 0,t,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"IGDComposerView.onSendVoiceClip"),(e||(e=n("Promise"))).resolve()}))},i[26]=C,i[27]=de,i[28]=pe):pe=i[28];var _e=pe,fe=r("useCurrentDisplayMode")(),ge=fe==="dark"?"var(--always-white)":"var(--chat-composer-button-color)",he=ge,ye;i[29]!==v?(ye=function(){return v()},i[29]=v,i[30]=ye):ye=i[30];var Ce=ye,be=r("useShouldShowTextOnlyComposerForInvite")(T,x),ve;i[31]!==L.threadKey||i[32]!==L.threadType?(ve={eventName:"composer_view",threadKey:L.threadKey,threadType:L.threadType},i[31]=L.threadKey,i[32]=L.threadType,i[33]=ve):ve=i[33];var Se=r("MessengerWebUXLogger").useImpressionLoggerRef(ve),Re;i[34]!==u||i[35]!==L?(Re=le&&d.jsx(r("IGDComposerSavedReplySuggestionTray.react"),{editor:u,thread:L}),i[34]=u,i[35]=L,i[36]=Re):Re=i[36];var Le;i[37]!==M?(Le={0:{className:"x1qjc9v5 x1yvgwvq xjd31um x1ixjvfu xwt6s21 x1ua1ujl xksyday xshg46c xlej2ay x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 xdt5ytf xw7yly9 x1ys307a x1yztbdb xyqm7xq"},1:{className:"x1qjc9v5 x1yvgwvq xjd31um x1ixjvfu xwt6s21 x1ua1ujl xksyday xshg46c xlej2ay x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 xdt5ytf xw7yly9 x1ys307a x1yztbdb xyqm7xq x25sj25"}}[!!M<<0],i[37]=M,i[38]=Le):Le=i[38];var Ee;i[39]!==E||i[40]!==M||i[41]!==ne||i[42]!==k||i[43]!==S||i[44]!==L?(Ee=d.jsx(r("IGDComposerMediaStaging.react"),{hideUploadPlaceholder:E,isStacking:M,metaMediaCloudEnabled:ne,multiple:k,supportedFileTypes:S,thread:L}),i[39]=E,i[40]=M,i[41]=ne,i[42]=k,i[43]=S,i[44]=L,i[45]=Ee):Ee=i[45];var ke;i[46]!==u||i[47]!==H||i[48]!==U||i[49]!==T?(ke=U&&H?d.jsx(r("IGDMentionsComposerPlugin.react"),{editor:u,threadKey:T}):null,i[46]=u,i[47]=H,i[48]=U,i[49]=T,i[50]=ke):ke=i[50];var Ie;if(i[51]!==f||i[52]!==N||i[53]!==me){var Te;Ie={0:{className:"x6s0dn4 x78zum5 x1gg8mnh xv54qhq x1iwz3mf"},1:{className:"x6s0dn4 x78zum5 x1gg8mnh x1iwz3mf x11lfxj5"}}[!!((f||me)&&(N||(Te=r("qex")._("917"))!=null&&Te))<<0],i[51]=f,i[52]=N,i[53]=me,i[54]=Ie}else Ie=i[54];var De;i[55]!==u||i[56]!==I||i[57]!==me?(De=I&&!me?d.jsx("div",{className:"xpvyfi4 xzueoph x1v0swvf",children:d.jsx(r("IGDComposerEmojiButton.react"),{editor:u})}):null,i[55]=u,i[56]=I,i[57]=me,i[58]=De):De=i[58];var xe;i[59]!==he||i[60]!==u||i[61]!==m||i[62]!==N||i[63]!==me||i[64]!==y||i[65]!==_e||i[66]!==b||i[67]!==be||i[68]!==R||i[69]!==de?(xe=me?d.jsxs(d.Fragment,{children:[d.jsx(r("IGDSIconButton.react"),{"aria-label":s._(/*BTDS*/"Close button"),onClick:function(){return de.reset()},children:d.jsx(o("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:he,isRotated:!0,size:20})}),d.jsx(r("IGDSBox.react"),{flex:"grow",marginEnd:2,marginStart:1,children:d.jsx(p,{voiceRecorder:de})}),d.jsx(r("IGDComposerViewSendButton.react"),{onClick:_e})]}):d.jsx(r("IGDSBox.react"),{flex:"grow",marginEnd:1,marginStart:2,marginTop:2,xstyle:[N&&_.chatTabComposerInnerContainer,_.composerInnerContainer,o("PolarisUA").isMobile()&&_.mobileComposerInnerContainer],children:d.jsx(r("MWPCometComposerInner.react"),{ariaDescribedBy:s._(/*BTDS*/"Message").toString(),contentEditableRef:m,editor:u,handlePastedFiles:be?r("emptyFunction"):y,placeholderText:s._(/*BTDS*/"Message...").toString(),policyProduct:b,surface:R})}),i[59]=he,i[60]=u,i[61]=m,i[62]=N,i[63]=me,i[64]=y,i[65]=_e,i[66]=b,i[67]=be,i[68]=R,i[69]=de,i[70]=xe):xe=i[70];var $e;i[71]!==X||i[72]!==u||i[73]!==J||i[74]!==G||i[75]!==O||i[76]!==f||i[77]!==W||i[78]!==P||i[79]!==N||i[80]!==me||i[81]!==ee||i[82]!==ne||i[83]!==k||i[84]!==y||i[85]!==Ce||i[86]!==C||i[87]!==ue||i[88]!==be||i[89]!==S||i[90]!==L||i[91]!==Q||i[92]!==T||i[93]!==de?($e=me?null:d.jsxs(d.Fragment,{children:[d.jsx(r("IGDComposerViewSendButton.react"),{hidden:!f,onClick:Ce}),d.jsxs("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x78zum5"},1:{className:"x6s0dn4 x1s85apg"}}[!!(f||be)<<0],{children:[J?d.jsx(r("IGDVoiceClipButton.react"),{thread:L,voiceRecorder:de}):null,ee?d.jsx(r("IGDComposerAttachmentButton.react"),{disabled:!O,multiple:k,onAttachmentsAdded:y,supportedFileTypes:S,threadKey:T}):null,ne&&n("cr:213")!=null?d.jsx(n("cr:213"),{onAttachmentsAdded:y,threadKey:T}):null,oe&&n("cr:599")!=null?d.jsx(n("cr:599"),{actor:X,environment:G,senderId:j,threadId:Q,threadKey:T}):null,le?d.jsx(r("IGDComposerSavedReplyButton.react"),{editor:u,thread:L}):null,n("cr:21207")&&ue&&!P?d.jsx(n("cr:21207"),{threadKey:T}):null,W&&!N?n("cr:9307")&&d.jsx(n("cr:9307"),{onSendMessage:C,thread:L}):null]}))]}),i[71]=X,i[72]=u,i[73]=J,i[74]=G,i[75]=O,i[76]=f,i[77]=W,i[78]=P,i[79]=N,i[80]=me,i[81]=ee,i[82]=ne,i[83]=k,i[84]=y,i[85]=Ce,i[86]=C,i[87]=ue,i[88]=be,i[89]=S,i[90]=L,i[91]=Q,i[92]=T,i[93]=de,i[94]=$e):$e=i[94];var Pe;i[95]!==Se||i[96]!==Ie||i[97]!==De||i[98]!==xe||i[99]!==$e?(Pe=d.jsxs("div",babelHelpers.extends({},Ie,{ref:Se,children:[De,xe,$e]})),i[95]=Se,i[96]=Ie,i[97]=De,i[98]=xe,i[99]=$e,i[100]=Pe):Pe=i[100];var Ne;i[101]!==Le||i[102]!==Ee||i[103]!==ke||i[104]!==Pe?(Ne=d.jsxs("div",babelHelpers.extends({},Le,{children:[Ee,ke,Pe]})),i[101]=Le,i[102]=Ee,i[103]=ke,i[104]=Pe,i[105]=Ne):Ne=i[105];var Me;return i[106]!==Re||i[107]!==Ne?(Me=d.jsxs(r("BaseTheme.react"),{config:r("IGDComposerThemeConfigOverride"),children:[Re,Ne]}),i[106]=Re,i[107]=Ne,i[108]=Me):Me=i[108],Me}l.default=f}),226);
__d("IGDDisappearingMessagesStrings",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e="https://help.instagram.com/491565145294150/",u=s._(/*BTDS*/"Disappearing messages and calls are secured with end-to-end encryption.");l.LEARN_MORE_LINK=e,l.DM_SECURITY_NOTICE=u}),226);
__d("IGDDMModeContextProvider",["DisappearingMessagesMode","FBLogger","I64","IGDAWAdminWriteMsgTxn","IGDDisappearingMessagesStrings","Int64Hooks","MAWEphemeralConsts","MWLSThread","MWPActor.react","MessengerWebUXLogger","PolarisDirectAPI","PolarisDismissEntry","ReQL","ReQLSuspense","asyncToGeneratorRuntime","getErrorSafe","isE2EEAttributedInstamadillo","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.createContext,p=d.useCallback,_=d.useEffect,f=d.useMemo,g=d.useState,h=m({dmMode:r("DisappearingMessagesMode").OFF,lastSetTtlSec:o("MAWEphemeralConsts").oneDayInSeconds,setLastSetTtlSec:function(){},toggleDMMode:function(){}});function y(e){var t=o("react-compiler-runtime").c(6),n=g(e),r=n[0],a=n[1],i=g(e),l=i[0],s=i[1];l!==e&&(s(e),a(e));var u;t[0]!==e||t[1]!==r?(u=function(){r!==e&&a(e)},t[0]=e,t[1]=r,t[2]=u):u=t[2];var c=u,d;return t[3]!==r||t[4]!==c?(d=[r,a,c],t[3]=r,t[4]=c,t[5]=d):d=t[5],d}function C(t){var a=t.children,l=t.threadKey,u=(e||(e=r("useReStore")))(),d=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(u.tables.ig_thread_info,["igDmSettingsMode","igThreadId","igDmSettingsLastSetActorId","igDmSettingsLastSetTimestampMs","igDmSettingsTtlSec"]).getKeyRange(l).map(function(e){var t=e.igDmSettingsLastSetActorId,n=e.igDmSettingsLastSetTimestampMs,r=e.igDmSettingsMode,o=e.igDmSettingsTtlSec,a=e.igThreadId;return{authoritativeDMMode:r,igDmSettingsLastSetActorId:t,igDmSettingsLastSetTimestampMs:n,igDmSettingsTtlSec:o,igThreadId:a}})},[u,l],i.id+":89"),m=f(function(){return(d==null?void 0:d.authoritativeDMMode)!=null&&(s||(s=o("I64"))).to_int32(d==null?void 0:d.authoritativeDMMode)===r("DisappearingMessagesMode").ON?r("DisappearingMessagesMode").ON:r("DisappearingMessagesMode").OFF},[d]),p=f(function(){if((d==null?void 0:d.igDmSettingsTtlSec)==null)return o("MAWEphemeralConsts").oneDayInSeconds;var e=(s||(s=o("I64"))).to_float(d==null?void 0:d.igDmSettingsTtlSec);return e>0?e:o("MAWEphemeralConsts").oneDayInSeconds},[d]),g=f(function(){return(d==null?void 0:d.igDmSettingsLastSetTimestampMs)!=null?(s||(s=o("I64"))).to_float(d==null?void 0:d.igDmSettingsLastSetTimestampMs):void 0},[d]),C=y(m),b=C[0],v=C[1],S=C[2],R=y(p),L=R[0],E=R[1],k=R[2],I=y(g),T=I[0],D=I[1],x=I[2],$=y(d==null?void 0:d.igDmSettingsLastSetActorId),P=$[0],N=$[1],M=$[2],w=o("MWPActor.react").useActor(),A=r("MessengerWebUXLogger").useInteractionLogger(),F=o("Int64Hooks").useCallbackInt64(function(){var e=b===r("DisappearingMessagesMode").ON?r("DisappearingMessagesMode").OFF:r("DisappearingMessagesMode").ON;v(e),D(new Date().getTime()),N(w),(d==null?void 0:d.igThreadId)!=null&&r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var t=yield o("PolarisDirectAPI").setDisappearingMessagesSettings(d==null?void 0:d.igThreadId,e,L);t.statusCode!==200&&(r("FBLogger")("igd_web").warn("Toggle DM Network Request failed",t.toString()),S(),x(),M())}catch(e){var n=r("getErrorSafe")(e);r("FBLogger")("igd_web").warn("Toggle DM Network Request failed",n.message),S(),x(),M()}})()),r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("MWLSThread").getThreadAsync(u,l);e&&(A==null||A({eventName:b===r("DisappearingMessagesMode").ON?"direct_disappearing_messages_toggle_off":"direct_disappearing_messages_toggle_on",extraData:{dm_duration:String(L)}}))})())},[w,u,b,L,A,S,M,x,v,N,D,d==null?void 0:d.igThreadId,l]),O=o("Int64Hooks").useCallbackInt64(function(e){if(e!==p){E(e),D(new Date().getTime()),N(w);var t=d!=null?d:{},a=t.authoritativeDMMode,i=t.igThreadId;i!=null&&a!=null&&r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var t=yield o("PolarisDirectAPI").setDisappearingMessagesSettings(i,b,e);t.statusCode!==200&&(r("FBLogger")("ig_web").warn("DM TTL Network Request failed",t.toString()),k(),x(),M())}catch(e){var n=r("getErrorSafe")(e);r("FBLogger")("ig_web").warn("DM TTL Network Request failed",n.message),k(),x(),M()}})()),r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield o("MWLSThread").getThreadAsync(u,l);t&&(A==null||A({eventName:"direct_disappearing_messages_ttl_changed",extraData:{new_dm_duration:String(e),old_dm_duration:String(L)}}))})())}},[u,L,A,w,b,M,x,k,N,D,E,d,l,p]);_(function(){m===r("DisappearingMessagesMode").ON&&!o("PolarisDismissEntry").isInstamadilloNuxDismissed(o("PolarisDismissEntry").IGD_INSTAMADILLO_DM_FIRST_TIME_ADMIN_MESSAGE_TYPE)&&r("isE2EEAttributedInstamadillo")()&&(o("PolarisDismissEntry").setInstamadilloNuxSessionTimes(o("PolarisDismissEntry").IGD_INSTAMADILLO_DM_FIRST_TIME_ADMIN_MESSAGE_TYPE),r("promiseDone")(u.runInTransaction(function(e){return o("IGDAWAdminWriteMsgTxn").writeAdminMessageTxn(e,{ctaType:"admin_msg_ig_dm_learn_more",senderId:w,text:o("IGDDisappearingMessagesStrings").DM_SECURITY_NOTICE.toString(),threadKey:l,timestampMs:d==null?void 0:d.igDmSettingsLastSetTimestampMs})},"readwrite",void 0,void 0,i.id+":319")))},[m,w,u,d==null?void 0:d.igDmSettingsLastSetTimestampMs,l]);var B=f(function(){return{dmMode:b,lastSetActorId:P,lastSetTimestampMs:T,lastSetTtlSec:L,setLastSetTtlSec:O,toggleDMMode:F}},[b,P,T,L,O,F]);return c.jsx(h.Provider,{value:B,children:a})}C.displayName=C.name+" [from "+i.id+"]",l.IGDDMModeContext=h,l.IGDDMModeContextProvider=C}),98);
__d("IGDEqualityUtils",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return Array.isArray(e)&&e.length===2&&Number.isInteger(e[0])&&Number.isInteger(e[1])}function u(t,n){return t!==n&&s(t)&&s(n)?(e||(e=o("I64"))).equal(t,n):t===n}function c(e,t){return d(e,t,u)}function d(e,t,n){if(n===void 0&&(n=function(t,n){return t===n}),n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!n(e[r[a]],t[r[a]],r[a]))return!1;return!0}l.shallowEqualI64=c,l.shallowEqual=d}),98);
__d("IGDOffMsysComposerReplyView_SlideMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDOffMsysComposerReplyView_SlideMessage",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"text_body",storageKey:null}],type:"SlideMessageText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAnimatedMediaAttachment",kind:"LinkedField",name:"animated_media",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_sticker",storageKey:null}],storageKey:null}],type:"SlideMessageAnimatedMediaContent",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null}],type:"SlideMessage",abstractKey:null};a.exports=e}),null);
__d("IGDOffMsysComposerReplyView_XDTUserDict.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDOffMsysComposerReplyView_XDTUserDict",selections:[{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"XDTUserDict",abstractKey:null};a.exports=e}),null);
__d("IGDOffMsysComposerReplyView.react",["fbt","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","CurrentUser","IGDOffMsysComposerReplyView_SlideMessage.graphql","IGDOffMsysComposerReplyView_XDTUserDict.graphql","IGDReplyContext.react","IGDSBox.react","IGDSIconButton.react","IGDSText.react","IGDSXFilledIcon.react","MDSTextPairing.react","isStringNullOrEmpty","react","react-compiler-runtime","react-relay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useContext,p={cancelButton:{paddingTop:"xexx8yu",$$css:!0},container:{backgroundColor:"xvbhtw8",borderTopColor:"x5ur3kl",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",justifyContent:"x1qughib",paddingBottom:"xg8j3zb",paddingInlineEnd:"x1q3ajuy",paddingInlineStart:"x1gx403c",paddingTop:"x889kno",$$css:!0},message:{marginInlineEnd:"x1sa5p1d",$$css:!0}};function _(e,t){var n,o,a=e.content,i=e.content_type,l=!r("isStringNullOrEmpty")(a==null?void 0:a.text_body),u=a==null||(n=a.animated_media)==null?void 0:n.at(0),c=(o=u==null?void 0:u.is_sticker)!=null?o:!1;if(t)return s._(/*BTDS*/"Removed message");if(l){var m,p;return d.jsx(r("IGDSText.react"),{zeroMargin:!1,children:(m=(p=e.content)==null?void 0:p.text_body)!=null?m:s._(/*BTDS*/"Message").toString()})}switch(i){case"IMAGES":return s._(/*BTDS*/"Image");case"VIDEOS":return s._(/*BTDS*/"Video");case"STORE_STICKER":return s._(/*BTDS*/"Sticker");case"INSTAGRAM_MESSAGING_ANIMATED_IMAGE":return c?s._(/*BTDS*/"Sticker"):s._(/*BTDS*/"GIF");case"GIFS":return s._(/*BTDS*/"GIF");case"AUDIOS":return s._(/*BTDS*/"Voice Message");case"CLIP":case"GENERIC_XMA":case"PROFILE":case"REEL_SHARE":case"STORY_SHARE":case"MESSAGE_INLINE_SHARE":case"CUTOUT_STICKER_XMA":case"XMA":return s._(/*BTDS*/"Attachment \ud83d\udcce");default:return s._(/*BTDS*/"Message")}}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t,n=r("CurrentUser").getEIMU(),o=e==null?void 0:e.interop_messaging_user_fbid;if(n===o)return s._(/*BTDS*/"Replying to yourself");var a=(t=e==null?void 0:e.full_name)!=null?t:e==null?void 0:e.username;return a==null?s._(/*BTDS*/"Replying to {Placeholder for an unknown user on Instagram}",[s._param("Placeholder for an unknown user on Instagram","Instagram User")]):s._(/*BTDS*/"Replying to {name}",[s._param("name",d.jsx(r("IGDSText.react"),{size:"body",weight:"semibold",zeroMargin:!1,children:a}))])}function g(t){var a=o("react-compiler-runtime").c(21),i=t.reply,l=o("IGDReplyContext.react").useIGDReplySetterContext(),c=l.clearReply,g=m(r("CometTriggerAccessibilityAlertContext")),y;a[0]===Symbol.for("react.memo_cache_sentinel")?(y=e!==void 0?e:e=n("IGDOffMsysComposerReplyView_SlideMessage.graphql"),a[0]=y):y=a[0];var C=o("react-relay").useFragment(y,i.message),b;a[1]===Symbol.for("react.memo_cache_sentinel")?(b=u!==void 0?u:u=n("IGDOffMsysComposerReplyView_XDTUserDict.graphql"),a[1]=b):b=a[1];var v=o("react-relay").useFragment(b,i.sender),S;a[2]!==v?(S=f(v),a[2]=v,a[3]=S):S=a[3];var R;a[4]!==S?(R=d.jsx(r("IGDSText.react"),{size:"body",zeroMargin:!1,children:S}),a[4]=S,a[5]=R):R=a[5];var L;a[6]!==C?(L=_(C,!1),a[6]=C,a[7]=L):L=a[7];var E;a[8]!==R||a[9]!==L?(E=d.jsx(r("IGDSBox.react"),{xstyle:p.message,children:d.jsx(r("MDSTextPairing.react"),{body:R,level:3,meta:L})}),a[8]=R,a[9]=L,a[10]=E):E=a[10];var k;a[11]===Symbol.for("react.memo_cache_sentinel")?(k=s._(/*BTDS*/"Cancel Reply"),a[11]=k):k=a[11];var I;a[12]!==c||a[13]!==g?(I=function(){c(),g(s._(/*BTDS*/"Replying to message has been cancelled."),{assertive:!1})},a[12]=c,a[13]=g,a[14]=I):I=a[14];var T;a[15]===Symbol.for("react.memo_cache_sentinel")?(T=d.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel Reply"),color:"ig-primary-text",size:12}),a[15]=T):T=a[15];var D;a[16]!==I?(D=d.jsx(r("IGDSIconButton.react"),{label:k,onClick:I,xstyle:p.cancelButton,children:T}),a[16]=I,a[17]=D):D=a[17];var x;return a[18]!==D||a[19]!==E?(x=d.jsx(r("IGDSBox.react"),{"data-testid":void 0,direction:"row",xstyle:p.container,children:d.jsxs(r("CometErrorBoundary.react"),{fallback:h,children:[E,D]})}),a[18]=D,a[19]=E,a[20]=x):x=a[20],x}function h(){return d.jsx(r("IGDSText.react"),{size:"body",zeroMargin:!1,children:s._(/*BTDS*/"Replying to message")})}h.displayName=h.name+" [from "+i.id+"]",l.default=g}),226);
__d("IGDSupportedFileTypes",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e?[".png",".jpg",".jpeg"]:["audio/*",".mp4",".mov",".png",".jpg",".jpeg"]}var l=["audio/*",".mp4",".mov",".png",".jpg",".jpeg"],s=[".png",".jpg",".jpeg"];i.getIGDSupportedFileTypes=e,i.IGD_WEB_SUPPORTED_FILE_TYPES=l,i.IGD_MOBILE_SUPPORTED_FILE_TYPES=s}),66);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(t,n,r,o,a,i,l){var e="scraperLastPermissiveMatch",s=(function(t){function n(e,n){var r;return r=t.call(this)||this,r.input=e,r.enable(),r.getValueFn=n,r}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.reset=function(){o("DataStore").set(this.input,e,null)},a.enable=function(){if(!this.events){var e=function(t){window.setTimeout(this.check.bind(this,t),30)};this.events=r("Event").listen(this.input,{paste:e.bind(this,!1),keydown:e.bind(this,!0)})}},a.disable=function(){if(this.events){for(var e in this.events)this.events[e].remove();this.events=null}},a.check=function(r){var t=this.getValueFn?this.getValueFn():this.input.value;if(!(r&&n.trigger(t))){var a=n.match(t),i=o("URLMatcher").permissiveMatch(t);i&&i!=o("DataStore").get(this.input,e)&&(o("DataStore").set(this.input,e,i),this.inform("match",{url:a||i,alt_url:i}))}},n})(r("mixin")(r("ArbiterMixin")));Object.assign(s,o("URLMatcher")),l.default=s}),98);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){for(var n=[],a=0;;){var i=(s||(s=o("UnicodeUtils"))).substr(t,a),l=r("URLScraper").match(i);if(!l||!(e||(e=r("URI"))).isValidURI(l))break;var u=l;/^[a-z][a-z0-9\-+.]+:\/\//i.test(l)||(u="http://"+l);var c=i.indexOf(l),d=s.strlen(i.substr(0,c));a+=d;var m=l.length;n.push({offset:a,length:l.length,entity:{url:u}}),a+=m}return n}l.default=u}),98);
__d("MAWFindFirstUrl",["getURLRanges"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("getURLRanges")(e);return t.length===0?[]:t}l.findFirstUrl=e}),98);
__d("MWPComposerDraftMessages",["FBLogger","I64","LSMessagingThreadTypeUtil","MAWFindFirstUrl","MWHasLinksUtil","cr:5710","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Map,u=void 0;function c(){return Array.from(s.values()).some(function(e){return e.messageText.trim()!==""})}function d(e,t){return s.get(y(e,t))}function m(){n("cr:5710")==null||u!=null||(u=n("cr:5710").onBeforeUnload(function(){if(c())return"You have pending messages. Please wait for them to be sent before closing the window."}))}function p(e){var t=e.deleteLinkPreviewXMATableData,n=e.fetchAndWriteLinkPreviewXMA,a=e.message,i=e.subthreadParentMessageId,l=e.threadKey,c=e.threadType;if(a==null){if(s.delete(y(l,i)),s.size===0){var d;(d=u)==null||d.remove(),u=void 0}return}if(s.has(y(l,i)))_(l,a,i);else{var p=r("uuidv4")();s.set(y(l,i),{id:p,linkPreviewAbortToken:null,linkPreviewURL:null,messageText:a})}var g=c!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(c);g&&f(l,a,n,t,i),m()}function _(e,t,n){var o=d(e,n);if(o==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in updateDraftMessageText");return}s.set(y(e,n),babelHelpers.extends({},o,{messageText:t}))}function f(e,t,n,a,i){var l,s,u,c=d(e,i);if(c==null){r("FBLogger")("messenger_web_sharing").mustfix("currentDraft was null in updateDraftMessageURL");return}var m=c==null?void 0:c.linkPreviewURL,p=c==null?void 0:c.linkPreviewAbortToken,_=(l=o("MAWFindFirstUrl").findFirstUrl(t))!=null?l:[],f=o("MWHasLinksUtil").getHasLinks(t),y=f&&(s=(u=_[0])==null?void 0:u.entity.url)!=null?s:null;if(m!==y){if(y==null){a&&a({draftId:c.id}),p==null||p.abort(),g({linkPreviewURL:null,subthreadParentMessageId:i,threadKey:e}),h({linkPreviewAbortToken:null,subthreadParentMessageId:i,threadKey:e});return}g({linkPreviewURL:y,subthreadParentMessageId:i,threadKey:e});var C=n&&n({draftId:c.id,urls:_})||null;h({linkPreviewAbortToken:C,subthreadParentMessageId:i,threadKey:e})}}function g(e){var t=e.linkPreviewURL,n=e.subthreadParentMessageId,o=e.threadKey,a=d(o,n);if(a==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in setDraftMessageURL");return}s.set(y(o,n),babelHelpers.extends({},a,{linkPreviewURL:t}))}function h(e){var t=e.linkPreviewAbortToken,n=e.subthreadParentMessageId,o=e.threadKey,a=d(o,n);if(a==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in setDraftMessageURL");return}s.set(y(o,n),babelHelpers.extends({},a,{linkPreviewAbortToken:t}))}function y(t,n){return n!=null&&n!==""?n:(e||(e=o("I64"))).to_string(t)}l.getDraftMessage=d,l.updateDraftMessage=p,l.getNonEmptyDraftMessageKey=y}),98);
__d("MWDraftMessages.react",["MWPComposerDraftMessages","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useCallback,m=u.useContext,p=u.useState,_=c(),f=c();function g(e){var t=e.children,n=p(new Map),r=n[0],a=n[1],i=d(function(e,t){var n=o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(e,t);return r.has(n)?r.get(n):null},[r]),l=d(function(e,t,n){var r=o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(e,n);a(function(e){var n=new Map(e);return t==null||t===""?n.delete(r):n.set(r,t),n})},[a]),u=_.Provider,c=f.Provider;return s.jsx(u,{value:i,children:s.jsx(c,{value:l,children:t})})}g.displayName=g.name+" [from "+i.id+"]";function h(){return m(_)}function y(){return m(f)}l.MWDraftProvider=g,l.useMWGetDraft=h,l.useMWUpdateDraft=y}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalActorNode","MessengerLexicalEntityTextNode","cr:11494"],(function(t,n,r,o,a,i,l){"use strict";var e={getRanges:function(t){var e=[],r=0;return t.getEditorState().read(function(){var t=o("Lexical").$getRoot().getFirstChild();t instanceof o("Lexical").ElementNode&&t.getChildren().forEach(function(t){if(o("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(t)){var a=t.getEntity();e.push({id:a.id,length:t.getTextContent().length,offset:r,type:o("MessengerLexicalActorNode").$isMessengerLexicalActorNode(t)?t.getRangeType():"p"})}if(n("cr:11494")!=null&&t instanceof n("cr:11494").MessengerLexicalCommandNode){var i=t.getEntity();e.push({id:i.commandId,length:t.getTextContent().length,offset:r,type:t.getRangeType()})}r+=t.getTextContent().length})}),e}},s=e;l.default=s}),98);
__d("MWV2ComposerActionsContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=c({});function _(e){var t=e.children,n=e.onMessageSendAttempt,r=d(p),o=r.onMessageSendAttempt,a=m(function(){return{onMessageSendAttempt:function(t){o==null||o(t),n==null||n(t)}}},[o,n]);return s.jsx(p.Provider,{value:a,children:t})}_.displayName=_.name+" [from "+i.id+"]",l.MWV2ComposerActionsContext=p,l.MWV2ComposerActionsListener=_}),98);
__d("MWV2ComposerHasContentContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({hasContentRef:void 0});function f(e){var t=e.children,n=p(!1),r=m(function(){return{hasContentRef:n}},[n]);return s.jsx(_.Provider,{value:r,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(){return d(_)}l.MWV2ComposerHasContentContextProvider=f,l.useComposerHasContext=g}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","mlcErrorHandler__INTERNAL"],(function(t,n,r,o,a,i,l){"use strict";var e=[o("MessengerLexicalActorNode").MessengerLexicalActorNode,o("CometLexicalEmojiNode").EmojiNode,n("cr:11494")==null?void 0:n("cr:11494").MessengerLexicalCommandNode],s=babelHelpers.extends({},r("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r",text:{base:"x3jgonx"}});function u(t){var n,a,i=o("Lexical").createEditor({namespace:"MWPEditor",nodes:(n=t==null?void 0:t.nodes)!=null?n:e.filter(Boolean),onError:function(t){return r("mlcErrorHandler__INTERNAL")(t,i,function(e){r("FBLogger")("messenger_web").catching(t).mustfix("Lexical Error MWP: %s",e)})},theme:(a=t==null?void 0:t.theme)!=null?a:s});return i}l.default=u}),98);
__d("useIsMessengerPWA",["ExecutionEnvironment","isMessengerPWA","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useState;function m(){var t=d(r("isMessengerPWA")),n=t[0],o=t[1];return c(function(){if(!(!(e||(e=r("ExecutionEnvironment"))).canUseDOM||!matchMedia)){var t=matchMedia("(display-mode: standalone)"),n=function(t){o(t.matches)};return t.addListener(n),function(){t.removeListener(n)}}},[]),n}l.default=m}),98);
__d("useMWIsOffline",["CometSSRRenderingStateHooks","NetworkStatus","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(){var e=o("CometSSRRenderingStateHooks").useIsServerRenderingOrHydrating(),t=c(!r("NetworkStatus").isOnline()&&!e),n=t[0],a=t[1];return u(function(){var e=r("NetworkStatus").onChange(function(e){var t=e.online;a(!t)});return function(){e.remove()}},[]),n}l.default=d}),98);
__d("MWChatFocusComposerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({focusComposer:void 0,setFocusComposer:function(){}});function f(e){var t=e.children,n=p(),r=n.current,o=m(function(){return{focusComposer:r,setFocusComposer:function(t){n.current=t}}},[r]);return s.jsx(_.Provider,{value:o,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(){return d(_)}l.MWChatFocusComposerContextProvider=f,l.useMWChatFocusComposer=g}),98);
__d("MWV2IsTabFocusedContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=c(!1);function p(e){var t=e.children,n=e.isFocused;return s.jsx(m.Provider,{value:n,children:t})}p.displayName=p.name+" [from "+i.id+"]";function _(){return d(m)}l.MWV2IsTabFocusedContextProvider=p,l.useIsTabFocused=_}),98);
__d("MWInboxFocusTarget",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({THREAD_VIEW_AND_OR_COMPOSER:0,THREAD_LIST:1,YOU_MAY_KNOW:2}),l=e;i.default=l}),66);
__d("useMWGetInboxFocusTargetFromRoute",["CometRouteParams","MWInboxFocusTarget"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("CometRouteParams").useRouteParams(),t=e.focus_target;if(t!=null){var n,a=Number(t);return(n=r("MWInboxFocusTarget").cast(a))!=null?n:0}return 0}l.default=e}),98);
__d("useMWPComposerAutoFocus",["HiddenSubtreePassiveContext","IGDReplyContext.react","MWChatFocusComposerContext","MWPReplyContext.react","MWV2IsTabFocusedContext.react","deepEquals","react","useMWGetInboxFocusTargetFromRoute","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useEffect;function m(e,t){var n,r=t.getCurrentState(),o=r.hiddenOrBackgrounded;if(!o){var a=(n=document.activeElement)==null||(n=n.attributes.getNamedItem("id"))==null?void 0:n.value;if(!(a!=null&&a.includes("prevent-composer-focus-steal")))return e.focus(function(){})}}function p(e){var t=e.editor,n=e.focusEditorDelayed,a=e.hasUnsentAttachments,i=a===void 0?!1:a,l=e.isPreviewThread,s=l===void 0?!1:l,p=e.isQuickchat,_=c(r("HiddenSubtreePassiveContext")),f=o("MWChatFocusComposerContext").useMWChatFocusComposer(),g=f.setFocusComposer,h=c(o("MWPReplyContext.react").MWPReplyContext),y=h.reply,C=r("usePrevious")(y),b=o("IGDReplyContext.react").useIGDReplyContext(),v=r("usePrevious")(b);d(function(){((C==null?y!=null:!r("deepEquals")(C,y))||(v==null?b!=null:!r("deepEquals")(v,b)))&&(p&&n?n(t):m(t,_))},[t,y,C,n,p,_,v,b]);var S=r("useMWGetInboxFocusTargetFromRoute")(),R=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),L=S===0&&R&&!s;d(function(){L&&(p&&n?n(t):m(t,_))},[t,L,n,p,_]),d(function(){i&&(p&&n?n(t):m(t,_))},[t,i,n,p,_]),g(u(function(){p&&n?n(t):m(t,_)},[t,n,_,p]))}l.default=p}),98);
__d("MWPNewMessageDraftContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useRef,p=c();function _(e){var t=e.children,n=m("");return s.jsx(p.Provider,{value:n,children:t})}_.displayName=_.name+" [from "+i.id+"]";function f(){return d(p)}l.MWPNewMessageDraftContextProvider=_,l.useNewMessageDraftContext=f}),98);
__d("MWPreloadedText",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s({text:null});l.default=u}),98);
__d("useMAWDeleteLinkPreviewXMATableData",["FBLogger","Int64Hooks","LSMessagingThreadTypeUtil","asyncToGeneratorRuntime","getErrorSafe","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("useAsyncReStore")(),a=e!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(e);return o("Int64Hooks").useCallbackInt64((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var o=e.draftId;if(a){var l=yield t,s=yield l.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=null;return yield e.e2ee_composer_draft_link_preview.get(o).then(function(e){var n,r=JSON.parse((n=e==null?void 0:e.data)!=null?n:"{}");t=r.iframeMediaURL}),yield e.e2ee_composer_draft_link_preview.delete(o),t});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":41");if(s!=null)try{URL.revokeObjectURL(s)}catch(e){var u=r("getErrorSafe")(e);r("FBLogger")("messenger_web_sharing").mustfix("Failed to revoke the object URL with, failed with error: %s",u.message)}}});return function(t){return e.apply(this,arguments)}})())}l.default=e}),98);
__d("MAWExternalLinkUtil",["FBLogger","MAWOembedHelper","MAWOembedIframeContainer.react","Promise","asyncToGeneratorRuntime","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[],u=["image/png","image/jpeg","image/jpg"],c=2e3;function d(t){return new(e||(e=n("Promise")))(function(e){return r("setTimeout")(e,t)})}function m(t){return(e||(e=n("Promise"))).race([t,d(c)])}function p(e){if(e==null)return null;var t=null,n=e.find(function(e){return Object.values(S).some(function(n){var r=n.schemes,o=n.url,a=r.some(function(t){return t.test(e.entity.url)});return a&&(t=o),a})});return n==null||t==null?null:{oEmbedRequest:t+"?url="+encodeURIComponent(n.entity.url)+"&format=json",oEmbedUrl:n.entity.url}}function _(e){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=e.fallbackUrl,a=e.qplEvent,i=e.request,l=(t=window.frames["maw-intermediate-iframe"])!=null?t:null;if(l==null&&(o("MAWOembedIframeContainer.react").createMAWOembedIframeContainer(),window.frames["maw-intermediate-iframe"]==null)){a==null||a.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_return:"iframe cannot be found."}}),r("FBLogger")("messenger_web_sharing").warn("[external link] Cannot find the iframe to request oembed url response.");return}try{var s=yield m(o("MAWOembedIframeContainer.react").requestUrl(i,o("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,l));if(s==null||s instanceof Blob){a==null||a.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"oembedResponse is null or an instance of Blob."}}),r("FBLogger")("messenger_web").warn("[external link] Failed to fetch oEmbed response: expected json response but got blob.");return}return y({fallbackUrl:n,rawResponse:s})}catch(e){a==null||a.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when trying to fetch oembed response in iframe."}}),r("FBLogger")("messenger_web").warn("[External link] Error thrown when trying to fetch oembed response in iframe.");return}}),f.apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a,i=t.qplEvent,l=t.xmaData;if(l==null)return(e||(e=n("Promise"))).resolve();var u=R(l.url),c=s.includes(u);if(c)return(e||(e=n("Promise"))).resolve();var d=l==null?void 0:l.thumbnail_url;if(d==null||!d)return i==null||i.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"url was null or undefined"}}),(e||(e=n("Promise"))).resolve();var p=(a=window.frames["maw-intermediate-iframe"])!=null?a:null;if(p==null&&(o("MAWOembedIframeContainer.react").createMAWOembedIframeContainer(),window.frames["maw-intermediate-iframe"]==null)){i==null||i.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"iframe cannot be found."}}),r("FBLogger")("messenger_web").warn("[external link] Cannot find the iframe to request image blob response.");return}var _=yield m(o("MAWOembedIframeContainer.react").requestUrl(d,o("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,p));return _ instanceof Blob?_:(i==null||i.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"imageBlobResponse is not instance of Blob"}}),r("FBLogger")("messenger_web").warn("[external link] Failed to fetch image blob response. "),(e||(e=n("Promise"))).resolve())}),h.apply(this,arguments)}function y(e){var t,n=e.fallbackUrl,o=e.rawResponse;if(o.version!=="1.0")throw r("FBLogger")("messenger_web").mustfixThrow("Unsupported response version from oEmbed API");if(o.type==="photo"&&o.url==null)throw r("FBLogger")("messenger_web").mustfixThrow("Unsupported response from oEmbed API: photo does not have url field");return{author_name:o.author_name!=null?decodeURIComponent(o.author_name):void 0,height:o.height,thumbnail_height:o.thumbnail_height,thumbnail_url:o.thumbnail_url,thumbnail_width:o.thumbnail_width,title:o.title!=null?decodeURIComponent(o.title):void 0,type:o.type,url:(t=o.url)!=null?t:n,width:o.width}}function C(e){var t=v.some(function(t){return t.test(e)});return t?!0:Object.values(S).some(function(t){var n=t.url;return e.startsWith(n)})}var b=new RegExp("^http(?:s)?:\\/\\/i\\.ytimg\\.com.+$"),v=[new RegExp("^http(?:s)?:\\/\\/i1\\.sndcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.scdn\\.co.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.cloudfront\\.net.+$"),new RegExp("^http(?:s)?:\\/\\/pi\\.tedcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/static01\\.nyt\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.vimeocdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.tiktokcdn\\.com.+$"),b],S={NYTimes:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.nytimes\\.com\\/svc\\/oembed$"),new RegExp("^http(?:s)?:\\/\\/nytimes\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?nytimes\\.com\\/.+$")],url:"https://www.nytimes.com/svc/oembed/json/"},SoundCloud:{schemes:[new RegExp("^http(?:s)?:\\/\\/soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/on\\.soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/soundcloud\\.app\\.goog\\.gl\\/.+$")],url:"https://soundcloud.com/oembed"},Spotify:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/open\\.spotify\\.com\\/.+$")],url:"https://open.spotify.com/oembed"},Spreaker:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?spreaker\\.com\\/.+$")],url:"https://api.spreaker.com/oembed"},TED:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/ted\\.com\\/talks\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.ted\\.com\\/talks\\/.+$")],url:"https://www.ted.com/services/v1/oembed.json"},TikTok:{schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/(?:#!)?[^#?\\/]+\\/video\\/.+$")],url:"https://www.tiktok.com/oembed"},Vimeo:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/album\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/channels\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/groups\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/ondemand\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/player\\.vimeo\\.com\\/video\\/.+$")],url:"https://vimeo.com/api/oembed.json"},youtube:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/watch.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/v\\/.+$"),new RegExp("^http(?:s)?:\\/\\/youtu\\.be\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/shorts.+$")],url:"https://www.youtube.com/oembed"}};function R(e){return Object.keys(S).find(function(t){return S[t].schemes.some(function(t){return t.test(e)})})}l.allowedPreviewTypes=u,l.findFirstAvailableOembedUrlAndRequestPair=p,l.getOembedResponse=_,l.getImageBlobResponse=g,l.isAllowedRequestForFbsbx=C}),98);
__d("MAWOembedHelper",["$InternalEnum","ConstUriUtils","FBLogger","MAWExternalLinkUtil","SecureMessageListener","SecurePostMessage","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=["facebook.com","messenger.com","instagram.com","internalfb.com"];function s(e){if(e==null||typeof e!="object")return null;var t=e.requestURL,n=e.requestMessageType;if(typeof n!="string"||typeof t!="string"||!o("ConstUriUtils").isValidUri(t))return null;var r=c.cast(n);return r==null||r!==c.OEMBED_REQUEST_URL&&r!==c.THUMBNAIL_URL?null:[r,t]}function u(){var t=null,n=new(r("SecureMessageListener"))(window);function a(e){t=e.origin;var n=e.data,a=s(n);if(a!=null){var l=a[0],u=a[1];o("MAWExternalLinkUtil").isAllowedRequestForFbsbx(u)&&r("promiseDone")(window.fetch(u).then(function(e){switch(e.status!==200&&r("FBLogger")("messenger_web").mustfix("[external link] fbsbx page fetching for the response is not successful."),l){case c.OEMBED_REQUEST_URL:return e.json();case c.THUMBNAIL_URL:return e.blob()}}).then(function(e){i({type:l,url:u,value:e})}).catch(function(){r("FBLogger")("messenger_web").warn("[external link] Failed to fetch response in helper js.")}))}}n.setEventHandler(a).setSupportedOrigins(e),n.beginListening();function i(e,n){var o=n!=null?n:1;if(t==null){o<=3&&window.setTimeout(function(){i(e,o+1)},250*Math.pow(2,o*o));return}r("SecurePostMessage").sendMessageToSpecificOrigin(window.parent,e,t)}}var c=n("$InternalEnum").Mirrored(["OEMBED_REQUEST_URL","THUMBNAIL_URL"]);l.init=u,l.MAWOembedIFrameMessageType=c}),98);
__d("XFBSbxMAWProxyPageControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/maw_proxy_page/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("MAWOembedIframeContainer.react",["ConstUriUtils","CookieConsentIFrameConfig","FBLogger","MAWOembedHelper","Promise","SecureMessageListener","SecurePostMessage","WAResolvable","XFBSbxMAWProxyPageControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return"https://www.fbsbx.com"}var u=new Map,c=null;function d(t,a,i){var l=u.get(t);if(l!=null)return l.promise;var s=f();if(s==null)return(e||(e=n("Promise"))).resolve();r("SecurePostMessage").sendMessageToSpecificOrigin(i.contentWindow,{requestMessageType:a,requestURL:t},s);var c=new(o("WAResolvable")).Resolvable;return u.set(t,c),c.promise}function m(e){if(e==null||typeof e!="object")return null;var t=e.url,n=e.value,a=e.type;if(t==null||n==null||a==null||typeof a!="string")return null;var i=o("MAWOembedHelper").MAWOembedIFrameMessageType.cast(a);if(typeof t=="string"&&i!=null){if(i===o("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL&&n instanceof Blob)return{type:o("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,url:t,value:n};if(i===o("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL&&typeof n=="object"&&n.title!=null&&n.thumbnail_url!=null){var l={author_name:typeof n.author_name=="string"?n.author_name:void 0,height:typeof n.height=="number"?n==null?void 0:n.height:150,thumbnail_height:typeof n.thumbnail_height=="number"?n.thumbnail_height:void 0,thumbnail_url:typeof n.thumbnail_url=="string"?n.thumbnail_url:void 0,thumbnail_width:typeof n.thumbnail_width=="number"?n.thumbnail_width:void 0,title:typeof n.title=="string"?n.title:void 0,type:typeof n.type=="string"?n.type:"photo",version:typeof n.version=="string"?n.version:"1.0",width:typeof n.width=="number"?n.width:200};return{type:o("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,url:t,value:l}}}return r("FBLogger")("messenger_web").warn("Failed to handle message %s from fbsbx: cannot process event message in the correct format",a),null}var p=function(t){var e=m(t.data);if(e!=null){var n=e.url,o=e.value,a=u.get(n);if(a==null){r("FBLogger")("messenger_web").warn("Failed to handle message from fbsbx: cannot find the resolvable promise for the url");return}a.resolve(o)}};function _(){var e,t,n=(e=window.frames["maw-intermediate-iframe"])!=null?e:null,o=f();if(n!=null){var a;return(a=c)==null||a.beginListening(),c}if(o==null){r("FBLogger")("messenger_web").warn("Failed to create maw-intermediate-iframe iFrame: cannot find the fbsbxUri");return}var i=document.createElement("iframe");return i.style.display="none",i.className="MAWOembedIframe",i.id="maw-intermediate-iframe",i.src=o,(t=document.body)==null||t.appendChild(i),c=new(r("SecureMessageListener"))(window).setEventHandler(p).setSupportedOrigins(["fbsbx.com"]),c.beginListening(),c}function f(){var e,t;return(e=r("XFBSbxMAWProxyPageControllerRouteBuilder").buildUri({__cci:(t=r("CookieConsentIFrameConfig").consent_param)!=null?t:""}).qualifyDomain(o("ConstUriUtils").getUri(s())))==null?void 0:e.toString()}l.requestUrl=d,l.createMAWOembedIframeContainer=_}),98);
__d("MAWPreProcessLinkPreviewQPL",["MAWLoggerUtils","QPLUserFlow","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=r("qpl")._(1056840460,"718");function s(t){var n=t.draftId,a=t.url,i=n.concat(a),l=o("MAWLoggerUtils").getInstanceKeyFromId(i),s=r("justknobx")._("2714");return r("QPLUserFlow").start(e,{annotations:{string:{preprocess_type:"link_preview_xma"}},instanceKey:l,timeoutInMs:s}),{addAnnotations:function(n){r("QPLUserFlow").addAnnotations(e,n,{instanceKey:l})},addPoint:function(n,o){r("QPLUserFlow").addPoint(e,n,{instanceKey:l}),o!=null&&r("QPLUserFlow").addAnnotations(e,o,{instanceKey:l})},endCancel:function(n,o){r("QPLUserFlow").endCancel(e,{annotations:n,cancelReason:o,instanceKey:l})},endFail:function(n,o){r("QPLUserFlow").endFailure(e,n,{instanceKey:l}),o!=null&&r("QPLUserFlow").addAnnotations(e,o,{instanceKey:l})},endSuccess:function(){r("QPLUserFlow").endSuccess(e,{instanceKey:l})}}}l.startMediaPreProcessLinkPreviewQpl=s}),98);
__d("useXMAPreviewsDisabledSetting",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t,n=(e||(e=r("useReStore")))(),a=o("MWPActor.react").useActor(),l=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(n.tables.messaging_privacy_settings).getKeyRange(a)},[n,a],i.id+":26");return l==null?r("MessengerWebPrivacySettings").e2ee_xma_previews_disabled:(t=l==null?void 0:l.e2eeXmaPreviewsDisabled)!=null?t:!1}l.default=s}),98);
__d("useMAWFetchAndWriteLinkPreviewXMATableData",["ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","FBLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWExternalLinkUtil","MAWPreProcessLinkPreviewQPL","asyncToGeneratorRuntime","getErrorSafe","getRequestConstUri","isFacebookURI","promiseDone","useAsyncReStore","useMAWDeleteLinkPreviewXMATableData","useXMAPreviewsDisabledSetting"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){var e=!1;return{abort:function(){e=!0},isAborted:function(){return e}}};function u(e){var t=e.threadKey,a=e.threadType,i=r("useAsyncReStore")(),l=a!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(a),u=r("useMAWDeleteLinkPreviewXMATableData")(a),m=r("getRequestConstUri")(),_=r("useXMAPreviewsDisabledSetting")();return o("Int64Hooks").useCallbackInt64(function(e){var a=e.draftId,f=e.urls,g=s(),h=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(l){var e=o("ConstUriUtils").getUri(f[0].entity.url);if(e!=null){var n=o("MAWPreProcessLinkPreviewQPL").startMediaPreProcessLinkPreviewQpl({draftId:a,url:e.toString()}),s=r("isFacebookURI")(e),h=r("isFacebookURI")(m),y=s&&h;if(s&&_){c({abortToken:g,dbPromise:i,deleteLinkPreviewXMATableData:u,draftId:a,qplEvent:n,qplSubspanPoint:"write_fb_disabled",status:r("E2EELinkPreviewXMADataStatus").DISABLED,threadKey:t,xmaData:null}),n.endCancel({string:{cancel_reason:"fb_xmas_disabled"}},706);return}c({abortToken:g,dbPromise:i,deleteLinkPreviewXMATableData:u,draftId:a,qplEvent:n,qplSubspanPoint:"write_loading_status",status:r("E2EELinkPreviewXMADataStatus").LOADING,threadKey:t,xmaData:{title:e.getDomain(),url:e.toString()}}),n.addAnnotations({bool:{should_fetch_from_og:y},string:{link_type:s?"facebook":"external"}});var C=y?yield d(e.toString(),n):yield p(f,n),b=C.dataType,v=C.xmaData;c({abortToken:g,dataType:b,dbPromise:i,deleteLinkPreviewXMATableData:u,draftId:a,qplEvent:n,qplSubspanPoint:"write_xma_data",status:r("E2EELinkPreviewXMADataStatus").LOADED,threadKey:t,xmaData:v})}}});return function(){return e.apply(this,arguments)}})();return h(),g})}function c(t){var n=t.abortToken,a=t.dataType,l=t.dbPromise,s=t.deleteLinkPreviewXMATableData,u=t.draftId,c=t.qplEvent,d=t.qplSubspanPoint,m=t.status,p=t.xmaData;if(c.addAnnotations({int:{data_type:a}}),n.isAborted()){c.endCancel({string:{cancel_reason:"fetch_aborted"}},706);return}c.addPoint(d+"_start"),r("promiseDone")(l,function(t){return t.runInTransaction(function(t){return t.e2ee_composer_draft_link_preview.put({data:p!=null?JSON.stringify(p):void 0,dataType:a!=null?(e||(e=o("I64"))).of_int32(a):void 0,draftId:u,status:(e||(e=o("I64"))).of_int32(m)})},"readwrite",void 0,void 0,i.id+":214").then(function(e){n.isAborted()&&(c.endCancel({string:{cancel_reason:"fetch_aborted_delete"}},706),s({draftId:e[0]})),c.addPoint(d+"_success"),d==="write_xma_data"&&c.endSuccess()}).catch(function(e){c.endFail(d+"_failed",{string:{data_status:String(m),error:"Error thrown when writing Link Preview XMA data to LSDB table. Error: "+e}}),r("FBLogger")("messenger_web_sharing").catching(e).mustfix("Failed to write Link Preview XMA data to LSDB table.")})})}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,a;t.addPoint("fetch_fb_og_data_start");var i=(n=(a=o("ConstUriUtils").getUri(e))==null?void 0:a.getDomain())!=null?n:e;try{var l,s,u;t.addPoint("http_request_start");var c=yield window.fetch(e,{credentials:"omit",referrerPolicy:"no-referrer"});if(t.addPoint("http_response_end"),!c.ok)return t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"http_response_error",response_status_code:String(c.status),xma_data_returned:"fallback"}}),f(i,e);var d=yield c.text(),m=new DOMParser,p=m.parseFromString(d,"text/html");p.querySelector("parsererror")&&t.addPoint("html_parsererror");var _=(l=p.querySelector('meta[property="og:image"]'))==null?void 0:l.getAttribute("content"),g=(s=p.querySelector('meta[name="description"]'))==null?void 0:s.getAttribute("content"),h=(u=p.querySelector('meta[property="og:title"]'))==null?void 0:u.getAttribute("content");return _==null&&g==null&&h==null?(t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"og_data_is_null",xma_data_returned:"fallback"}}),f(i,e)):(t.addPoint("fetch_fb_og_data_success",{string:{xma_data_returned:"rich_xma"}}),{dataType:r("E2EELinkPreviewXMADataType").FB_CLIENT_FETCH,xmaData:{author_name:g!=null?g:void 0,iframeMediaURL:_,thumbnail_url:_!=null?_:void 0,title:h!=null?h:i,url:e}})}catch(n){return t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"failed_to_fetch_data",xma_data_returned:"fallback"}}),f(i,e)}}),m.apply(this,arguments)}function p(e,t){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n){var a,i,l;n.addPoint("fetch_external_link_oembed_data_start");var s=o("MAWExternalLinkUtil").findFirstAvailableOembedUrlAndRequestPair(e),u=e[0].entity.url,c=null;if(s!=null){u=s.oEmbedUrl;try{n.addPoint("get_oembed_response_start"),c=yield o("MAWExternalLinkUtil").getOembedResponse({fallbackUrl:u,qplEvent:n,request:s.oEmbedRequest}),n.addPoint("get_oembed_response_success")}catch(e){var d=r("getErrorSafe")(e);n.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when fetching oEmbed data for External Link XMA. Error message: "+d.message}}),n.addPoint("get_oembed_response_end"),r("FBLogger")("messenger_web_sharing").catching(d).mustfix("[External link] Error thrown when fetching oEmbed data for External Link XMA.")}}var m=(a=o("ConstUriUtils").getUri(u))==null?void 0:a.getDomain();if(c==null)return n.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"fallback"}}),f(m!=null?m:u,u);n==null||n.addPoint("get_image_blob_response_start");var p=yield o("MAWExternalLinkUtil").getImageBlobResponse({qplEvent:n,xmaData:c}),_=null;if(p!=null&&o("MAWExternalLinkUtil").allowedPreviewTypes.includes(p.type)){var g=new File([p],"preview",{type:p.type});_=t.URL.createObjectURL(g)}return n==null||n.addPoint("get_image_blob_response_end",{bool:{media_url_is_null:_==null}}),n.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"rich_xma"}}),{dataType:r("E2EELinkPreviewXMADataType").OEMBED,xmaData:babelHelpers.extends({iframeMediaURL:_},c,{title:(i=c.title)!=null?i:m,url:(l=c.url)!=null?l:u})}}),_.apply(this,arguments)}function f(e,t){return{dataType:r("E2EELinkPreviewXMADataType").FALLBACK,xmaData:{title:e,url:t}}}l.default=u}),98);
__d("useMWLSSaveDrafts",["CometDebounce","Int64Hooks","LexicalText","MWDraftMessages.react","MWPComposerDraftMessages","MWPNewMessageDraftContext.react","isStringNullOrEmpty","justknobx","react","useMAWDeleteLinkPreviewXMATableData","useMAWFetchAndWriteLinkPreviewXMATableData","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback,u=r("justknobx")._("3119");function c(e){var t=e.editor,n=e.isPreviewThread,a=e.subthreadParentMessageId,i=e.threadKey,l=e.threadType,c=o("MWDraftMessages.react").useMWUpdateDraft(),d=u,m=r("useMAWFetchAndWriteLinkPreviewXMATableData")({threadKey:i,threadType:l}),p=r("useMAWDeleteLinkPreviewXMATableData")(l),_=o("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),f=s(function(e){n&&_!=null?_.current=e:(c==null||c(i,e,a),o("MWPComposerDraftMessages").updateDraftMessage({deleteLinkPreviewXMATableData:p,fetchAndWriteLinkPreviewXMA:m,message:e,subthreadParentMessageId:a,threadKey:i,threadType:l}))},[c,p,m,n,_,i,l,a]);o("Int64Hooks").useEffectInt64(function(){t.registerUpdateListener(r("CometDebounce")(function(e){var t=e.editorState;r("vulture")("KeqOUuaMdqaSaGiBnklN6mG4UtY=");var n=t.read(function(){return o("LexicalText").$rootTextContent()});if(r("isStringNullOrEmpty")(n)){f(n);return}f(n)},{wait:d}))},[d,t,f])}l.default=c}),98);
__d("useMWPComposerEditorDraftText",["MWPComposerDraftMessages","MWPNewMessageDraftContext.react","MWPreloadedText","react","useMWLSSaveDrafts","usePrepopulateLexicalEditor"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(e){var t,n=e.editor,a=e.isPreviewThread,i=a===void 0?!1:a,l=e.isQuickchat,u=l===void 0?!1:l,c=e.subthreadParentMessageId,d=e.threadKey,m=e.threadType,p=o("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),_=s(r("MWPreloadedText")),f=_.text!=null?_.text:p!=null?p.current:(t=o("MWPComposerDraftMessages").getDraftMessage(d,c))==null?void 0:t.messageText;return r("useMWLSSaveDrafts")({editor:n,isPreviewThread:i,subthreadParentMessageId:c,threadKey:d,threadType:m}),r("usePrepopulateLexicalEditor")(n,u?void 0:f,!0),f}l.default=u}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","MLCKeyBindingUtil","gkx","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useLayoutEffect,c=s.useRef,d=250;function m(e,t){var n=c(null);u(function(){return e.registerCommand(o("Lexical").KEY_ENTER_COMMAND,function(a){var i=a;if(o("MLCKeyBindingUtil").hasCommandModifier(i)&&r("gkx")("13931")&&!r("gkx")("23402"))return!1;if(i!=null&&!i.shiftKey&&!i.altKey&&(!r("gkx")("23402")||o("MLCKeyBindingUtil").hasCommandModifier(i))){i.preventDefault();var l=n.current;return l!=null&&i.timeStamp-l<=d?(n.current=i.timeStamp,!0):(e.dispatchCommand(o("MLCInstrumentationCommands").COMMIT_COMMAND,"create"),t(),n.current=i.timeStamp,!0)}return!1},o("Lexical").COMMAND_PRIORITY_LOW)},[e,t])}l.default=m}),98);
__d("useMWXLexicalHasText",["LexicalText","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e){return e.getEditorState().read(o("LexicalText").$isRootTextContentEmptyCurry(e.isComposing()))}function _(e){var t=m(function(){return!p(e)}),n=t[0],r=t[1];return c(function(){return e.registerUpdateListener(function(){r(!p(e))})},[e]),n}function f(e){"use no forget";var t=e.editor,n=e.initialValue,r=d(n);return{useHasText:u(function(){var e,n=d((e=r.current)!=null?e:!1);return c(function(){n.current=!1},[]),_(t)||n.current},[t])}}function g(e){var t,n=e.editor,r=e.initialValue,o=d(r),a=d((t=o.current)!=null?t:!1);return c(function(){a.current=!1},[]),_(n)||a.current}l.useMWXLexicalHasText_DEPRECATED=f,l.useMWXLexicalHasText=g}),98);
__d("MWXUseLatch",["CometThrottle","Run","debounce","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo;function d(e,t,n){var a=t!=null?t:!1;return u(function(){if(a){var t=o("Run").onUnload(function(){return e(!1)});return function(){return t.remove()}}},[a,e]),c(function(){var t={contents:!1},o=r("debounce")(function(){if(!t.contents)return e(!1)},n|0),a=r("CometThrottle")(function(){return e(!0)},3e3,{leading:!0,trailing:!1}),i=function(){e(!1),t.contents=!0},l=function(){return a(),o()};return[l,i]},[e,n])}l.useLatch=d}),98);
__d("useMWXLexicalOnTypingChanged",["LexicalText","MWXUseLatch","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=e.editor,n=e.onTypingStateChanged,r=o("MWXUseLatch").useLatch(n,!0,5e3),a=r[0],i=r[1],l=c("");return u(function(){var e=function(t){var e=t.editorState.read(function(){return o("LexicalText").$rootTextContent()});if(e!==l.current)return l.current=e,e===""?i():a()};return t.registerUpdateListener(e)},[a,i,t]),{}}l.default=d}),98);
__d("useMWPComposerEditor",["Int64Hooks","Lexical","LexicalText","MWChatMessagesOnChatTabLoadTracker","MWDraftMessages.react","MWFBLogger","MWPComposerDraftMessages","MWV2ChatComposerGetViewContent","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","cr:7101","emptyFunction","mwpLexicalCreateEditor","react","useIsMessengerPWA","useLexicalInitializeEditor__DEPRECATED","useMWIsOffline","useMWPComposerAutoFocus","useMWPComposerEditorDraftText","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWXLexicalHasText","useMWXLexicalOnTypingChanged"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect,d=s.useMemo,m=s.useRef;function p(e){}var _=n("cr:7101")==null?p:n("cr:7101").useMWComposerKeyCommandFocusRegister,f=[],g=function(t){return t.read(function(){return o("LexicalText").$rootTextContent()})};function h(e){var t=e.customizedRanges,n=e.getTextFromEditorState,a=n===void 0?g:n,i=e.isPreviewThread,l=i===void 0?!1:i,s=e.isSendDisabled,p=s===void 0?!1:s,h=e.mediaStaging,y=h===void 0?f:h,C=e.onSendMessage,b=e.onTypingStateChanged,v=e.threadKey,S=e.clearFormatAfterSend,R=e.isQuickchat,L=R===void 0?!1:R,E=e.focusEditorDelayed,k=e.editorNodes,I=e.editorTheme,T=e.threadType,D=e.composerEntrypointForLogging,x=e.subthreadParentMessageId,$=m(null),P=d(function(){return r("mwpLexicalCreateEditor")({nodes:k,theme:I})},[k,I]),N=y.length>0;r("useLexicalInitializeEditor__DEPRECATED")(P),r("useMWPLexicalClearEditor")(P,S),r("useMWPComposerAutoFocus")({editor:P,focusEditorDelayed:E,hasUnsentAttachments:N,isPreviewThread:l,isQuickchat:L});var M=r("useMWPComposerEditorDraftText")({editor:P,isPreviewThread:l,isQuickchat:L,subthreadParentMessageId:x,threadKey:v,threadType:T}),w=o("MWDraftMessages.react").useMWUpdateDraft(),A=o("useMWXLexicalHasText").useMWXLexicalHasText({editor:P,initialValue:M!=null&&M!==""}),F=A||N,O=o("MWV2ComposerHasContentContext.react").useComposerHasContext(),B=O.hasContentRef;c(function(){B!=null&&(B.current=A)},[A,B]),r("useMWXLexicalOnTypingChanged")({editor:P,onTypingStateChanged:b});var W=u(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext),q=W.onMessageSendAttempt,U=r("useMWIsOffline")(),V=r("useIsMessengerPWA")(),H=U&&V,G=o("Int64Hooks").useCallbackInt64(function(){var e;if(!H){var n=(e=o("MWPComposerDraftMessages").getDraftMessage(v,x))==null?void 0:e.id;if(o("MWPComposerDraftMessages").updateDraftMessage({message:null,subthreadParentMessageId:x,threadKey:v}),w==null||w(v,null,x),q==null||q(F),!!F){o("MWChatMessagesOnChatTabLoadTracker").trackSendFor(v),o("MWFBLogger").MWLogger().tags(["MWPComposerEditor","Composer"]).debug("Calling onSendMessage");var i=t!=null?t(P,o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(v,x)):r("MWV2ChatComposerGetViewContent").getRanges(P),l=P.getEditorState(),s=a(l);P.dispatchCommand(o("Lexical").CLEAR_EDITOR_COMMAND),C(s,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,n,D),P.focus()}}},[w,H,q,F,P,v,t,a,C,D,x]),z=p?r("emptyFunction"):G;return r("useMWPLexicalCommitMessageOnEnter")(P,z),_($.current),{editor:P,editorElementRef:$,hasStuffToSend:F,sendMessage:z}}l.default=h}),98);
__d("MWMediaManagerFileSizeLimit",["justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=25;function s(t){return t?r("justknobx")._("3563"):e}l.getMWMaxAttachmentSizeInMB=s}),98);
__d("useFileDragEvents",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e,t,n){t===void 0&&(t=document.documentElement);var r=d(0),o=m(!1),a=o[0],i=o[1],l=u(function(t){if(i(!1),(n==null||n(t))&&e!=null){t.preventDefault();var o=t.dataTransfer;if(o!=null){var a=o.files;e(a,t)!==!1&&t.stopPropagation()}else t.stopPropagation();r.current=0}},[e,n]),s=u(function(e){var t,o=(t=e.dataTransfer)==null?void 0:t.files;(n==null||n(e))&&o!=null&&(e.preventDefault(),r.current++,i(!0))},[n]),p=u(function(e){var t,o=(t=e.dataTransfer)==null?void 0:t.files;(n==null||n(e))&&o!=null&&--r.current===0&&i(!1)},[n]),_=u(function(e){var t,n=(t=e.dataTransfer)==null?void 0:t.files;e.dataTransfer!=null&&(e.dataTransfer.dropEffect="copy"),n!=null&&e.preventDefault()},[]);return c(function(){if(t!=null)return t.addEventListener("drop",l,!0),t.addEventListener("dragenter",s,!0),t.addEventListener("dragleave",p,!0),t.addEventListener("dragover",_,!0),function(){t.removeEventListener("drop",l,!0),t.removeEventListener("dragenter",s,!0),t.removeEventListener("dragleave",p,!0),t.removeEventListener("dragover",_,!0)}},[s,p,_,l,t]),a}l.default=p}),98);
__d("MWV2FileDropzone.react",["fbt","FBLogger","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWMediaManagerFileSizeLimit","MWXTextPairing.react","cometIsMimeTypeForMedia","promiseDone","react","stylex","useFileDragEvents","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.createContext,_=m.useCallback,f=m.useRef,g=p({current:{enabled:!0,handler:null}});function h(e){var t=e.children,n=e.fileUploadHandlerConfigRef,r=g.Provider;return d.jsx(r,{value:n,children:t})}h.displayName=h.name+" [from "+i.id+"]";var y={root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function C(e){if(e==null)return[];var t=e.dataTransfer;return t==null?[]:t.types}function b(e){switch(e){case 0:return;case 1:return s._(/*BTDS*/"Certain file types are unsupported in this chat.").toString();default:return s._(/*BTDS*/"Some files are unsupported and cannot be shared to this chat").toString()}}function v(e,t){var n=b(t);n!=null&&r("promiseDone")(e.runInTransaction(function(e){return r("LSIssueNewErrorStoredProcedure")(r("LSFactory")(e),{errorBodyText:n,errorTitleText:n})},"readwrite",void 0,void 0,i.id+":122"))}function S(e){var t=e.type;return o("cometIsMimeTypeForMedia").isMimeTypeForPhoto(t)||o("cometIsMimeTypeForMedia").isMimeTypeForVideo(t)?!0:t.startsWith("audio/")}var R=new Set(["text/plain","text/html","text/uri-list"]);function L(t){var n=t.children,a=t.getMaxAttachmentSizeInMBFunc,i=a===void 0?o("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB:a,l=t.isDisabled,c=t.isMediaOnly,m=t.thread,p=t.xstyle,g=f({enabled:!1,handler:null}),b=f(null),L=(e||(e=r("useReStore")))(),E=m!=null?(o("MWCMThreadTypes.react").isBroadcastThread(m.threadType)||o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(m.threadType)||o("LSMessagingThreadTypeUtil").isAiBot(m.threadType))&&!o("LSThreadBitOffset").has(56,m):!1,k=m!=null?o("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType):!1,I=l===!0||E,T=function(t){var e;return((e=g.current)==null?void 0:e.handler)==null?!1:!C(t).some(function(e){return R.has(e)})},D=r("useFileDragEvents")(function(){return!1},void 0,T),x=_(function(e){var t,n;if(((t=g.current)==null?void 0:t.enabled)!==!1){var o=(n=g.current)==null?void 0:n.handler;if(o==null){E||r("FBLogger")("messenger_web_media").mustfix(g.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file");return}var a=Array.from(e),i=c?a.filter(S):a;a.length!==i.length&&v(L,a.length),!I&&i.length!==0&&o(i)}},[c,I,E,L]);return r("useFileDragEvents")(x,b.current,function(e){return!0}),d.jsxs("div",babelHelpers.extends({},(u||(u=r("stylex"))).props(y.root,p!=null?p:!1),{ref:b,children:[d.jsx(h,{fileUploadHandlerConfigRef:g,children:n}),!I&&D?d.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xtijo5x x1o0tod xl56j7k x10l6tqk x13vifvy x1vjfegm",children:d.jsx(r("MWXTextPairing.react"),{body:s._(/*BTDS*/"max {fileSizeLimit} MB",[s._param("fileSizeLimit",String(i(k)))]),bodyColor:"secondary",headline:s._(/*BTDS*/"Drop files here"),level:4,textAlign:"center"})}):null]}))}L.displayName=L.name+" [from "+i.id+"]",l.mWV2FileDropzoneContext=g,l.MWV2FileDropzone=L}),226);
__d("useMWIsHDMediaEnabled",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t,n=(e||(e=r("useReStore")))(),a=o("MWPActor.react").useActor(),l=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(n.tables.messaging_privacy_settings).getKeyRange(a)},[n,a],i.id+":22");return l==null?r("MessengerWebPrivacySettings").e2ee_hd_media_enabled:(t=l==null?void 0:l.e2eeHdMediaEnabled)!=null?t:!1}l.default=s}),98);
__d("useMWV2FileDropzoneRegisterHandler",["MWV2FileDropzone.react","react","useMWIsHDMediaEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect;function d(e){var t=u(o("MWV2FileDropzone.react").mWV2FileDropzoneContext),n=r("useMWIsHDMediaEnabled")();c(function(){var r={enabled:!0,handler:function(r){return e(r,n)}};return t.current=r,function(){r.enabled=!1,r.handler=null}},[t,e,n])}l.default=d}),98);
__d("LSContactListConversionAttributionStore",[],(function(t,n,r,o,a,i){"use strict";var e=new Map;function l(t){return t!=null?e.get(t):null}function s(t,n){t!=null&&e.set(t,n)}function u(t){t!=null&&e.delete(t)}i.getAttribution=l,i.setAttribution=s,i.resetAttribution=u}),66);
__d("MessageRequestsLog",["I64","coerceMessagingThreadTypeToLSThreadType","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s=r("requireDeferred"))("MessageRequestsBulkActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),c=s("MessageRequestsBulkActionEditFalcoEvent").__setRef("MessageRequestsLog"),d=s("MessageRequestsBulkActionTappedFalcoEvent").__setRef("MessageRequestsLog"),m=s("MessageRequestsInfoBannerShownFalcoEvent").__setRef("MessageRequestsLog"),p=s("MessageRequestsThreadActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),_=s("MessageRequestsThreadActionTappedFalcoEvent").__setRef("MessageRequestsLog"),f=s("MessageRequestsThreadDenialOptionsTappedFalcoEvent").__setRef("MessageRequestsLog"),g=s("MessageRequestsViewThreadlistFalcoEvent").__setRef("MessageRequestsLog");function h(e){switch(e.folderName){case"pending":return-1;case"other":return-2;case"spam":return-3;case"inbox":return 0}}function y(t,n,a){m.onReady(function(i){i.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:a,other_user_id:n,request_id:void 0,thread_folder:h(t),thread_id:a!=null?a:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function C(t,n){f.onReady(function(a){a.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:void 0,other_user_id:n,request_id:void 0,thread_folder:h(t),thread_id:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function b(t,n,a,i){_.onReady(function(l){l.log(function(){return{action:n,extra_data_map:void 0,group_thread_id:i,other_user_id:a,request_id:void 0,thread_folder:h(t),thread_id:i!=null?i:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function v(t,n,a,i){p.onReady(function(l){l.log(function(){return{action:n,extra_data_map:void 0,group_thread_id:i,other_user_id:a,request_id:void 0,thread_folder:h(t),thread_id:i!=null?i:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function S(e,t){g.onReady(function(n){n.log(function(){return{action:0,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:e,folder:t,request_id:void 0}})})}function R(e,t,n,r,o){d.onReady(function(a){a.log(function(){return{action:r,actioned_thread_count:t.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:n.toString(),entry_point:e,folder:o,request_id:void 0}})})}function L(e,t,n,r,o){u.onReady(function(a){a.log(function(){return{action:r,actioned_thread_count:t.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:n.toString(),entry_point:e,folder:o,request_id:void 0}})})}function E(e,t,n){c.onReady(function(r){r.log(function(){return{action:t,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:e,folder:n,request_id:void 0}})})}l.logMessageRequestInfoShown=y,l.logDenialOptionsTapped=C,l.logActionTapped=b,l.logActionConfirmed=v,l.logMessageRequestsView=S,l.logMessageRequestsBulkActionTapped=R,l.logMessageRequestsBulkActionConfirmed=L,l.logMessageRequestsBulkActionEdit=E}),98);
__d("MessengerClickImpressionEventsLoggerUtils",["$InternalEnum","I64","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=n("$InternalEnum").Mirrored(["CLICK","IMPRESSION","CONVERSION"]);function c(t,n){var a=(s||(s=r("useReStore")))(),l=o("MWPActor.react").useActor(),u=(e||(e=o("I64"))).to_int32(n!=null?n:(e||(e=o("I64"))).zero),c=u===1||u===15,d=o("ReQLSuspense").useArray(function(){return c&&t!=null?o("ReQL").fromTableAscending(a.tables.participants).getKeyRange(t):o("ReQL").empty()},[a,t,c],i.id+":72");if(t==null)return null;if(c){var m=d.map(function(t){return(e||(e=o("I64"))).to_string(t.contactId)}).filter(function(t){return t!==(e||(e=o("I64"))).to_string(l)})[0];return m}else return(e||(e=o("I64"))).to_string(t)}l.EventTypeEnum=u,l.useGetUniqueThreadID=c}),98);
__d("MessengerInboxTrayConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3905"),s=o("FalcoLoggerInternal").create("messenger_inbox_tray_conversion_click_event",e),u=s;l.default=u}),98);
__d("MessengerInboxTrayEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3476"),s=o("FalcoLoggerInternal").create("messenger_inbox_tray_event",e),u=s;l.default=u}),98);
__d("MessengerInboxTrayClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayConversionClickEventFalcoEvent","MessengerInboxTrayEventFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function s(e,t){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION,t)}function u(e){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function c(e,t,n){var a=e.id,i=e.isOnline,l=e.messageThreadId,s=e.position,u=e.storyIds,c=e.surface,d=e.targetType,m=null;if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)m="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)m="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)m="one_px_impression";else return;var p={event_type:m,surface:{entry_point:c.entry_point,major_surface:c.major_surface,minor_surface:c.minor_surface},target:{ranking:{absolute_position:s!=null?s.toString():"-1"},type:d,user:{id:a}}};if(i!=null&&(p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{presence:{status:i?1:0}})})),(u==null?void 0:u.firstCardId)!=null&&(u==null?void 0:u.bucketId)!=null){var _,f=atob(u.firstCardId),g=null;f!=null&&f.includes("S:_ISC:")&&(g=f.split("S:_ISC:")[1]),p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{story:{bucket_id:(_=u.bucketId)!=null?_:null,first_card_id:g!=null?g:null}})})}t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?r("MessengerInboxTrayEventFalcoEvent").log(function(){return p}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?(p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{button:n!=null?{type:n}:void 0,message_thread:l!=null?{consistent_thread_fbid:l}:void 0})}),r("MessengerInboxTrayConversionClickEventFalcoEvent").log(function(){return p})):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&r("MessengerInboxTrayEventFalcoEvent").log(function(){return p})}l.logClickEvent=e,l.logConversionClickEvent=s,l.logImpressionEvent=u}),98);
__d("MessengerSidebarClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2305"),s=o("FalcoLoggerInternal").create("messenger_sidebar_click_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2306"),s=o("FalcoLoggerInternal").create("messenger_sidebar_conversion_click_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarImpressionEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2307"),s=o("FalcoLoggerInternal").create("messenger_sidebar_impression_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerSidebarClickEventFalcoEvent","MessengerSidebarConversionClickEventFalcoEvent","MessengerSidebarImpressionEventFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e={scrollMargin:-33};function s(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function u(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)}function c(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function d(e,t){var n=e.id,a=e.isOnline,i=e.position,l=e.storyIds,s=e.surface,u=e.targetType,c=null;if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)c="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)c="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)c="vpvd_impression";else return;var d={event_type:c,surface:{entry_point:s.entry_point,major_surface:s.major_surface,minor_surface:s.minor_surface},target:{ranking:{absolute_position:i!=null?i.toString():"-1"},type:u,user:{id:n}}};if(a!=null&&(d=babelHelpers.extends({},d,{target:babelHelpers.extends({},d.target,{presence:{status:a?1:0}})})),(l==null?void 0:l.firstCardId)!=null&&(l==null?void 0:l.bucketId)!=null){var m,p=atob(l.firstCardId),_=null;p!=null&&p.includes("S:_ISC:")&&(_=p.split("S:_ISC:")[1]),d=babelHelpers.extends({},d,{target:babelHelpers.extends({},d.target,{story:{bucket_id:(m=l.bucketId)!=null?m:null,first_card_id:_!=null?_:null}})})}t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?r("MessengerSidebarClickEventFalcoEvent").log(function(){return d}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?r("MessengerSidebarConversionClickEventFalcoEvent").log(function(){return d}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&r("MessengerSidebarImpressionEventFalcoEvent").log(function(){return d})}l.IMPRESSION_LOG_OPTIONS=e,l.logClickEvent=s,l.logConversionClickEvent=u,l.logImpressionEvent=c}),98);
__d("useIGDChatTabsMessagingSource.react",["I64","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","MWLSThreadDisplayContext","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(3),r=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),a=o("IGDChatTabsStateContext.react").useIGDChatTabsState();if(r==="ChatTab"){var i,l;n[0]!==(a==null?void 0:a.openedTabs)||n[1]!==t?(l=a==null?void 0:a.openedTabs.get((e||(e=o("I64"))).to_string(t)),n[0]=a==null?void 0:a.openedTabs,n[1]=t,n[2]=l):l=n[2];var s=l;return(i=s==null?void 0:s.source)!=null?i:o("IGDChatTabsStateTypes").IGDChatTabsMessagingInitiationSource.Unknown}return null}l.default=s}),98);
__d("useMWLSAcceptMessageRequest",["Int64Hooks","LSFactory","LSOptimisticAcceptMessageRequestStoredProcedure","promiseDone","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=(e||(e=r("useReStore")))();return o("Int64Hooks").useCallbackInt64(function(){r("promiseDone")(n.runInTransaction(function(e){return r("LSOptimisticAcceptMessageRequestStoredProcedure")(r("LSFactory")(e),{threadKey:t})},"readwrite",void 0,void 0,i.id+":25"))},[n,t])}l.default=s}),98);
__d("MessengerIntent",["WebStorage","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s="mw_sent_message";function u(){return r("justknobx")._("1630")}function c(){(e||(e=r("WebStorage"))).setItemGuarded(e.getLocalStorage(),s,String(Date.now()))}function d(){var t=(e||(e=r("WebStorage"))).getLocalStorage();return Date.now()-Number(t==null?void 0:t.getItem(s))<u()}l.sentMessage=c,l.hasSentMessagesRecently=d}),98);
__d("MWLSLogSend",["CometHeroLogging","I64","MWChatInteraction","MWSharedS2SBaseAnnotations","MessengerIntent"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var i=a.isCommunityEvent,l=a.isMessageRequest,s=a.source,u=a.threadType,c=r("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(t.getTraceId());o("MWChatInteraction").set(n,c);var d={entrypoint:o("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(s),is_community_event:i===!0?"true":"false",is_message_request:l===!0?"true":"false",thread_type:u==null?"unknown":(e||(e=o("I64"))).to_string(u)};return Object.entries(d).forEach(function(e){var n=e[0],r=e[1];t.addMetadata(n,String(r))}),o("MessengerIntent").sentMessage(),t.onComplete(function(){delete o("MWChatInteraction").interactions[n]})}l.logSentHeroInteraction=s}),98);
__d("MWV2SetupS2SLoggingShared",["I64","LSIntEnum","MWChatInteraction","MWLSLogSend","MWSharedS2SBaseAnnotations","MWVersion","ReQL","ReQLSubscribe","asyncToGeneratorRuntime","err","gkx","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){o("sendToSentQPLLogger").markSendToSentPoint(e,"received_successful_server_ack"),o("sendToSentQPLLogger").markSendToSentSuccess(e),o("MWChatInteraction").remove(o("MWChatInteraction").s2sKey(t))}function c(e,t){o("sendToSentQPLLogger").markSendToSentFail(e,"send_message_server_error",r("err")("send_message_server_error")),o("MWChatInteraction").remove(o("MWChatInteraction").s2sKey(t))}function d(e){o("sendToSentQPLLogger").markSendToSentPoint(e,"sending_message")}function m(t){var a=t.db,i=t.isCommunityEvent,l=t.isFirstMessage,m=l===void 0?!1:l,p=t.isMessageRequest,_=t.isWorkChat,f=_===void 0?!1:_,g=t.s2sInstanceKey,h=t.sendFirstMessageSeparately,y=h===void 0?!1:h,C=t.source,b=t.threadType,v=t.traceSendMessageAPI,S={isCommunityEvent:i,isMessageRequest:p,mwVersion:o("MWVersion").v2,source:C,threadType:b};return function(t){o("MWLSLogSend").logSentHeroInteraction(v,t,S),o("MWChatInteraction").set(o("MWChatInteraction").s2sKey(t),String(g)),o("sendToSentQPLLogger").addSendToSentAnnotations(g,{bool:{subscription_points_gk:!0},string:{entrypoint:o("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(C),is_community_event:i===!0?"true":"false",is_first_message:m===!0?"true":"false",is_message_request:p===!0?"true":"false",offline_threading_id:f&&r("gkx")("9326")?t:null,send_first_message_separately:y===!0?"true":"false",thread_type:b==null?"unknown":(e||(e=o("I64"))).to_string(b)}});var l=!1,_=o("ReQL").fromTableAscending(a.tables.messages.index("optimistic")).getKeyRange(t),h=o("ReQLSubscribe").subscribeToFirst(_,function(n){n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(2))?(l=!0,u(g,t),h()):n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(4))?(l=!0,c(g,t),h()):n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(1))&&d(g)});window.setTimeout(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!l){var e=yield o("ReQL").firstAsync(_);l||o("sendToSentQPLLogger").addSendToSentAnnotations(g,{string:{status_after_10s:e?""+(s||(s=o("LSIntEnum"))).toNumber(e.sendStatusV2):"none"}})}}),1e4),window.setTimeout(function(){h()},12e4)}}l.default=m}),98);
__d("MessengerSurfaceType",[],(function(t,n,r,o,a,i){"use strict";var e="MESSENGER",l="WORK_QUIKCHAT",s="WORK_CHAT",u="WORKROOMS",c="WORKROOMS_IN_CALL",d="WORK_MEETINGS_IN_CALL",m="OTHER";i.messenger=e,i.workQuickchat=l,i.workChat=s,i.workrooms=u,i.workroomsInCall=c,i.workMeetingsInCall=d,i.other=m}),66);
__d("WorkGalahadMWChatTabContext.react",["MessengerSurfaceType","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s({surface:o("MessengerSurfaceType").messenger});l.context=u}),98);
__d("useEnabledForWorkchatOnly",["MessengerSurfaceType","WorkGalahadMWChatTabContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useMemo;function d(){var e=u(o("WorkGalahadMWChatTabContext.react").context);return c(function(){return e.surface===o("MessengerSurfaceType").workQuickchat||e.surface===o("MessengerSurfaceType").workChat||e.surface===o("MessengerSurfaceType").workMeetingsInCall},[e])}l.default=d}),98);
__d("mapSlideMessageSendStatusToLSStatusV2",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e==="OPTIMISTIC"?1:e==="AUTHORITATIVE"?2:e==="ERROR"?t===!0?5:4:e==="UNKNOWN"?2:e==null?0:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}i.default=e}),66);
__d("useIGDReplyOnLS",["I64","IGDReplyContext.react","LSIntEnum","MWPReplyContext.react","mapSlideMessageSendStatusToLSStatusV2","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext;function d(){var e=o("react-compiler-runtime").c(2),t=c(o("MWPReplyContext.react").MWPReplyContext),n=t.reply,r=o("IGDReplyContext.react").useIGDReplyContext();if(n==null&&r==null)return null;if(n!=null)return n;var a;return e[0]!==r?(a=m(r),e[0]=r,e[1]=a):a=e[1],a}function m(e){var t,n,a;return e==null?null:{isReported:(t=e.message.is_reported)!=null?t:!1,messageId:e.message.message_id,offlineThreadingId:e.message.offline_threading_id,sendStatusV2:(s||(s=o("LSIntEnum"))).ofNumber(r("mapSlideMessageSendStatusToLSStatusV2")(e.message.client__send_status)),text:(n=(a=e.message.content)==null?void 0:a.text_body)!=null?n:"",threadKey:(u||(u=o("I64"))).of_string(e.message.thread_fbid),timestampMs:u.of_string(e.message.timestamp_ms)}}l.default=d}),98);
__d("useMWLSDefaultThreadSourceWithResetBasedOnThreadType",["LSThreadAttributionTypeUtil","MWGenAIUtils","react","useLSMessagingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=r("useLSMessagingSource")();return s(function(t){return o("MWGenAIUtils").isMetaAIThread(t)?o("LSThreadAttributionTypeUtil").getSourceWithoutReset(t,e):o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(t,e)},[e])}l.default=u}),98);
__d("IGDGetMessagePluginInfo",["IGDInstamadilloUtils","LSIntEnum","LSPendingTasksPluginType","asyncToGeneratorRuntime","isInstamadillo"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return t?u(e,t):n()}function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){if(!r("isInstamadillo")())return{openEb:!1,pluginType:void 0};var a=yield t.messages.index("messageId").get(n.messageId);if(!o("IGDInstamadilloUtils").isInstamadilloMessage(a))return{openEb:!1,pluginType:void 0};var i=yield t.e2ee_igMessageAuxiliaryInfo.get(n.messageId),l=!!(i!=null&&i.openEb);return{openEb:l,pluginType:(e||(e=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO)}}),c.apply(this,arguments)}l.IGDGetMessagePluginInfo=s}),98);
__d("MWPSendMessageLogger",["LSIntEnum","LSPendingTasksPluginType","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("MWLogSend").__setRef("MWPSendMessageLogger");function u(t,n,a,i,l,u,c,d,m,p,_,f){var g=p!=null&&(e||(e=o("LSIntEnum"))).unwrapIntEnum(p)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO,h=g?1:0;s.onReady(function(e){return e.log(t,{actor:i,additionalTags:g?["armadillo_express"]:void 0,attachmentFbids:u,attachmentType:d,backend:h,ephemeralDurationInSec:f,hasReply:m,isInstamadilloTTLC:_,offlineThreadingId:l,sendType:0,source:c,threadKey:n,threadType:a})})}l.log=u}),98);
__d("createOptimisticTextSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"You").toString();function u(t){var n=t.offlineThreadingId,r=t.optimisticMessageId,o=t.repliedToMessageId,a=t.senderFbid,i=t.text,l=t.threadFbid,s=t.timestampMs,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:s,content:{__isSlideMessageContent:"SlideMessageText",__typename:"SlideMessageText",text_body:i},content_type:"TEXT",id:r,igd_is_forwarded:!1,igd_snippet:e+": "+i,is_reported:!1,message_id:r,offline_threading_id:n,reactions:[],replied_to_message:null,replied_to_message_id:o,sender_fbid:a,text_body:i,thread_fbid:l,timestamp_ms:s};return u}l.default=u}),226);
__d("useMWV2SendOpenMessageImplShared",["ArmadilloDataTraceCheckPoint","ChatGeminiDisplayContextProvider.react","CometRelay","I64","IGDGetMessagePluginInfo","IGDReplyContext.react","IGDThreadTTLCUtils","IGDWriteOptimisticRelayMessage","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSAuthorityLevel","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSPendingTasksPluginType","LSShape","MWPActor.react","MWPReplyContext.react","MWPSendMessageLogger","MessagePowerUp","MessagingAttachmentType","ODS","Promise","ReQL","ReQLSuspense","WATimeUtils","asyncToGeneratorRuntime","createOptimisticTextSlideMessage","gkx","isMWBumpMessage","react","sendToSentQPLLogger","useLSMessagingInitiatingSource","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=(d||(d=o("react"))).useContext;function _(e,t,n){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){n!=null&&r("gkx")("23995")&&(yield r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(e),{checkPointId:o("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:n,syncChannel:(m||(m=o("I64"))).minus_one,tags:t}))}),f.apply(this,arguments)}function g(t){var a=t.authorityLevel,l=t.disableMarkRead,d=t.ephemeralDurationInSec,f=t.onOptimisticMessageCreation,g=t.skipUrlPreviewGen,h=t.threadKey,y=t.threadType,C=o("MWPActor.react").useActor(),b=p(o("MWPReplyContext.react").MWPReplyContext),v=b.reply,S=p(o("IGDReplyContext.react").IGDReplyContext),R=o("CometRelay").useRelayEnvironment(),L=r("useLSMessagingInitiatingSource")(),E=(s||(s=r("useReStore")))(),k=o("ChatGeminiDisplayContextProvider.react").useChatGeminiDisplayContext(),I=k.sideChatMainMessageId,T=o("ReQLSuspense").useFirst(function(){return(v==null?void 0:v.messageId)==null?o("ReQL").empty():o("ReQL").fromTableAscending(E.tables.messages.index("messageId")).getKeyRange(v.messageId)},[v==null?void 0:v.messageId,E.tables.messages],i.id+":149"),D=r("isMWBumpMessage")(T==null?void 0:T.replyType)?T==null?void 0:T.replySourceId:v==null?void 0:v.messageId,x=S==null?void 0:S.message.message_id;return o("Int64Hooks").useCallbackInt64(function(t,i){var s=i.accessibilityLabel,p=i.afterSend,b=i.attributionAppId,E=i.dataclassParams,k=i.dataTraceId,T=i.externalAttachmentUrl,$=i.hotEmojiSize,P=i.logSendPoint,N=i.mentionData,M=i.messageText,w=i.messageTypeParams,A=i.multitabEnv,F=i.optimisticAttachmentPreview,O=i.platformToken,B=i.pluginType,W=i.profileRanges,q=i.richTextFormatType,U=i.s2sInstanceKey,V=i.setupS2SLogging,H=i.source,G=i.sticker,z=i.traceSendMessageAPI,j=i.transaction;return K(j);function K(e){return Q.apply(this,arguments)}function Q(){return Q=n("asyncToGeneratorRuntime").asyncToGenerator(function*(i){var K=r("LSFactory")(i),Q=r("gkx")("24135");yield _(i,(m||(m=o("I64"))).to_string(h),k);var X=w.hasAttachment,Y=X===void 0?!1:X,J=w.hasGif,Z=J===void 0?!1:J,ee=w.hasHotEmoji,te=ee===void 0?!1:ee,ne=w.hasLinks,re=ne===void 0?!1:ne,oe=w.hasSticker,ae=oe===void 0?!1:oe,ie=w.hasText,le=ie===void 0?!1:ie,se=yield i.threads.get(h),ue=re?o("IGDThreadTTLCUtils").isInstamadilloTTLCLinkEnabled(se):o("IGDThreadTTLCUtils").isInstamadilloTTLCTextEnabled(se),ce=yield o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(i,v,function(){return(e||(e=n("Promise"))).resolve({openEb:ue,pluginType:ue?(u||(u=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):B})}),de=ce.openEb,me=ce.pluginType,pe=yield r("LSOptimisticSendMessageV2StoredProcedure")(K,{dataclassParams:E!=null?JSON.stringify(E):void 0,extraSendMessageParams:o("LSShape").ofRecord({attribution_app_id:b,calculate_denormalizations:!1,data_trace_id:k!=null?k:void 0,ephemeral_duration_in_sec:d,external_attachment_url:T,hot_emoji_size:$,initiating_source:L,is_exclusive_to_subthread:I!=null,mark_read:l===!0?!1:(m||(m=o("I64"))).ge(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)),mention_data:N,multitab_env:A,openEb:de,optimistic_attachment_preview:F,platform_token:O,plugin_type:me,power_up_style:(u||(u=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),qpl_instance_key:U.toString(),reply_source_id:D!=null?D:x,reply_source_type:v!=null||S!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:v!=null||S!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,rich_text_format_type:q,skip_url_preview_gen:g,source:H,sticker_id:G==null?void 0:G.stickerId,subthread_parent_message_id:I!=null?I:void 0,text_has_links:re&&Q}),mailboxType:u.ofNumber(r("LSMailboxType").MESSENGER),metadataDataclass:JSON.stringify({media_accessibility_metadata:{alt_text:Z?s:null}}),senderId:C,text:M,threadKey:h,threadType:y});(c||(c=o("ODS"))).bumpEntityKey(3303,"igd_send_open_message","optimistic_message_created");var _e=pe[0],fe=se==null?void 0:se.consistentThreadFbid;if(se!=null&&(m||(m=o("I64"))).equal(se.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&fe==null&&(c||(c=o("ODS"))).bumpEntityKey(3303,"igd_send_open_message","consistent_thread_fbid_null_for_authoritative_thread"),fe!=null&&M!=null){P("create_igd_relay_optimistic_message");var ge=o("WATimeUtils").millisTime(),he=r("createOptimisticTextSlideMessage")({offlineThreadingId:_e,optimisticMessageId:"mid.$"+_e,repliedToMessageId:x,senderFbid:(m||(m=o("I64"))).to_string(C),text:M,threadFbid:m.to_string(fe),timestampMs:ge.toString()});r("IGDWriteOptimisticRelayMessage")(R,he),(c||(c=o("ODS"))).bumpEntityKey(3303,"igd_send_open_message","igd_relay_optimistic_message_created")}return P("create_optimistic_message_end"),o("MWPSendMessageLogger").log(t,h,y,C,void 0,[],H,r("MessagingAttachmentType").NONE,v!=null||S!=null,me,ue,d),(!Y||Z||ae||te)&&(V(_e),z.addAnnotationBoolean("is_instamadillo_ttlc",ue&&de===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(U,{bool:{is_instamadillo_ttlc:ue&&de===!0}})),f!=null&&f({TAG:0,hasHotEmoji:te,hasLink:re,hasMention:W!=null&&W.length>0,isGIF:Z,isReply:!!(v&&v.messageId!==""),isSticker:ae,isText:le,offlineThreadingId:pe[0]}),p!=null&&(yield p(j)),pe}),Q.apply(this,arguments)}},[h,v,d,L,I,l,a,D,x,S,g,C,y,f,R])}l.default=g}),98);
__d("useMWV2SendOpenMessageImpl",["useMWV2SendOpenMessageImplShared"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.disableMarkRead,n=e.ephemeralDurationInSec,o=e.onOptimisticMessageCreation,a=e.skipUrlPreviewGen,i=e.thread;return r("useMWV2SendOpenMessageImplShared")({authorityLevel:i.authorityLevel,disableMarkRead:t,ephemeralDurationInSec:n,onOptimisticMessageCreation:o,skipUrlPreviewGen:a,threadKey:i.threadKey,threadType:i.threadType})}l.default=e}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=(e||(e=o("I64"))).to_int32(t);switch(n){case r("MessagingAttachmentType").NONE:return 1;case r("MessagingAttachmentType").STICKER:return 4;case r("MessagingAttachmentType").IMAGE:return 8;case r("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case r("MessagingAttachmentType").VIDEO:return 10;case r("MessagingAttachmentType").AUDIO:return 11;case r("MessagingAttachmentType").FILE:return 9;case r("MessagingAttachmentType").XMA:return 13;case r("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case r("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case r("MessagingAttachmentType").SELFIE_STICKER:return 22;case r("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}l.convertI64ToAttachmentType=s}),98);
__d("createOptimisticImageSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=e.image,n=e.offlineThreadingId,r=e.optimisticMessageId,o=e.repliedToMessageId,a=e.senderFbid,i=e.threadFbid,l=e.timestampMs,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:l,content:{__isSlideMessageContent:"SlideMessageImageContent",__typename:"SlideMessageImageContent",attachments:[{__isSlideMessagingMediaAttachment:"XFBSlideAttachment",__typename:"XFBSlideAttachment",attachment_cdn_fallback_url:t.url,attachment_cdn_url:t.url,attachment_fbid:null,attachment_type:2,preview_cdn_fallback_url:t.url,preview_cdn_url:t.url,preview_height:t.height,preview_width:t.width}]},content_type:"IMAGES",id:r,igd_is_forwarded:!1,igd_snippet:s._(/*BTDS*/"You sent a photo").toString(),is_reported:!1,message_id:r,offline_threading_id:n,reactions:[],replied_to_message:null,replied_to_message_id:o,sender_fbid:a,text_body:"",thread_fbid:i,timestamp_ms:l};return u}l.default=e}),226);
__d("createOptimisticVideoSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=e.offlineThreadingId,n=e.optimisticMessageId,r=e.repliedToMessageId,o=e.senderFbid,a=e.threadFbid,i=e.timestampMs,l=e.video,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:i,content:{__isSlideMessageContent:"SlideMessageVideosContent",__typename:"SlideMessageVideosContent",videos:[{__typename:"XFBSlideVideoAttachment",attachment_cdn_url:l.url,attachment_fbid:null,attachment_type:4,preview_cdn_url:l.url,preview_height:l.height,preview_width:l.width}]},content_type:"VIDEOS",id:n,igd_is_forwarded:!1,igd_snippet:s._(/*BTDS*/"You sent a video").toString(),is_reported:!1,message_id:n,offline_threading_id:t,reactions:[],replied_to_message:null,replied_to_message_id:r,sender_fbid:o,text_body:"",thread_fbid:a,timestamp_ms:i};return u}l.default=e}),226);
__d("MWMediaTraceHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){return t.data_trace_meta.add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:(e||(e=o("I64"))).zero,initTimestampMs:o("MAWTimeUtils").toTimestamp(o("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:n,traceType:(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").TASK)})}function c(t,n,a,i){return u(t,n).then(function(){return r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),dataTraceId:n,syncChannel:(e||(e=o("I64"))).neg_one,tags:e.to_string(a)+","+e.to_string(i)})})}l.logMediaSendStart=c}),98);
__d("issueLSMediaSendJobs",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSGenerateTraceId","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWConsole","MWMediaTraceHandler","MWPOpenComposerUtils","MessagingLoggingUtils","Promise","asyncToGeneratorRuntime","gkx","updateAndFlushLSDataTrace"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t,n,r){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){t!=null&&(yield o("MWMediaTraceHandler").logMediaSendStart(e,t,n,(s||(s=o("I64"))).of_int32(r)))}),c.apply(this,arguments)}function d(e,t,n){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){n!=null&&r("gkx")("23995")&&(yield r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(e),{checkPointId:o("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:n,syncChannel:(s||(s=o("I64"))).minus_one,tags:t}))}),m.apply(this,arguments)}function p(e,t,n,r,o){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i,l,c){var m=r("LSGenerateTraceId")(),p=c[0],_=o("MessagingLoggingUtils").convertI64ToAttachmentType(p.attachmentType);yield u(t,m,(s||(s=o("I64"))).of_int32(l.length),_);var f=0,g=l.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n){yield r("LSInsertNewMediaSendStoredProcedure")(r("LSFactory")(t),{attachmentType:e.attachment_type,inMessageIndex:(s||(s=o("I64"))).of_int32(n),isSecure:!1,offlineAttachmentId:e.attachment_fbid,offlineThreadingId:i,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1}),yield o("MWPOpenComposerUtils").updateMediaStaging(t,e.attachment_fbid,function(e){return babelHelpers.extends({},e,{isSent:!0})});var l=c.find(function(t){return t.offlineAttachmentId===e.offline_attachment_id});if(l!=null){var u=l.fbid;u!=null&&(yield r("LSMarkSubJobCompletedV2StoredProcedure")(r("LSFactory")(t),{fbid:u,offlineAttachmentId:e.attachment_fbid}),yield o("MWPOpenComposerUtils").deleteMediaStaging(t,e.attachment_fbid),yield o("MWPOpenComposerUtils").updateAttachment(t,a,i,e.attachment_fbid,function(e){return babelHelpers.extends({},e,{attachmentFbid:(s||(s=o("I64"))).to_string(u)})}),f++)}r("gkx")("24136")&&(yield o("MWPOpenComposerUtils").updateAttachment(t,a,i,e.attachment_fbid,function(e){return babelHelpers.extends({},e,{previewHeight:void 0,previewWidth:void 0})}))});return function(t,n){return e.apply(this,arguments)}})());return yield(e||(e=n("Promise"))).allSettled(g),yield o("MWPOpenComposerUtils").resumeSendJob(r("LSFactory")(t),i,m),yield d(t,s.to_string(a),m),yield r("updateAndFlushLSDataTrace")(t,m),{sentWithAllFilesUploaded:f===l.length}}),_.apply(this,arguments)}l.default=p}),98);
__d("issueSendInstamadilloMediaMessage",["IGDBridgedAPI","MWPOpenComposerUtils","Promise","asyncToGeneratorRuntime","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i){r("promiseDone")(r("IGDBridgedAPI").sendMediaMessage({offlineThreadingId:i}));var l=a.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield o("MWPOpenComposerUtils").updateMediaStaging(t,e.attachment_fbid,function(e){return babelHelpers.extends({},e,{isSent:!0})})});return function(t){return e.apply(this,arguments)}})());yield(e||(e=n("Promise"))).allSettled(l)}),u.apply(this,arguments)}l.default=s}),98);
__d("useMWV2SendOpenStagedMedia",["CometRelay","I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","IGDWriteOptimisticRelayMessage","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSPendingTasksPluginType","LSShape","LSThreadBitOffset","LSVec","MWConsole","MWMsgMediaTypeLogUtils","MWPActor.react","MWPComposerMediaUploadUtil","MWPSendMessageLogger","MessagingAttachmentType","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","MessengerWebUXLogger","Promise","WATimeUtils","asyncToGeneratorRuntime","createOptimisticImageSlideMessage","createOptimisticVideoSlideMessage","issueLSMediaSendJobs","issueSendInstamadilloMediaMessage","sendToSentQPLLogger","useIGDReplyOnLS","useLSMessagingInitiatingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t,a,i,l){var c=o("CometRelay").useRelayEnvironment(),m=o("MWPActor.react").useActor(),p=r("useIGDReplyOnLS")(),_=r("useLSMessagingInitiatingSource")(),f=o("LSThreadBitOffset").has(40,i),g=r("MessengerWebUXLogger").useInteractionLogger();return o("Int64Hooks").useCallbackInt64((function(){var h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(h,y){var C=y.isFirstMessage,b=C===void 0?!1:C,v=y.isFirstMessageText,S=y.mediaStagings,R=y.metadataDataclass,L=y.pluginType,E=y.s2sInstanceKey,k=y.sendFirstMessageSeparately,I=k===void 0?!1:k,T=y.setupS2SLogging,D=y.source,x=y.traceSendMessageAPI,$=y.transaction;if(S.length!==0){var P=!1;if(S.length===1){var N=S[0];(u||(u=o("I64"))).to_int32(N.attachmentType)===r("MessagingAttachmentType").IMAGE?P=o("IGDThreadTTLCUtils").isInstamadilloTTLCImageEnabled(i):(u||(u=o("I64"))).to_int32(N.attachmentType)===r("MessagingAttachmentType").VIDEO&&(P=o("IGDThreadTTLCUtils").isInstamadilloTTLCVideoEnabled(i))}for(var M=yield o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo($,p,function(){return(e||(e=n("Promise"))).resolve({openEb:P,pluginType:P?(s||(s=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):L})}),w=M.openEb,A=M.pluginType,F=S[0],O=o("MessagingLoggingUtils").convertI64ToAttachmentType(F.attachmentType),B=o("MWPComposerMediaUploadUtil").createPartitionedAttachments(S,f,l),W=!0,q=0;q<B.length;q++)if(!b||!I||q===0&&b&&!v){var U=B[q],V=yield r("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(r("LSFactory")($),{extraSendMessageParams:o("LSShape").ofRecord({attachments:r("LSVec").ofArray(U.map(o("LSShape").ofRecord)),ephemeral_duration_in_sec:t,external_attachment_url:void 0,initiating_source:_,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:A,reply_source_id:p==null?void 0:p.messageId,reply_source_type:p!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:p!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:D}),senderId:m,threadKey:i.threadKey,threadType:i.threadType}),H=V[0],G=i==null?void 0:i.consistentThreadFbid;if(G!=null)for(var z of U){var j=null,K=o("WATimeUtils").millisTime(),Q=(s||(s=o("LSIntEnum"))).unwrapIntEnum(z.attachment_type),X={offlineThreadingId:H,optimisticMessageId:"mid.$"+H,repliedToMessageId:p==null?void 0:p.messageId,senderFbid:(u||(u=o("I64"))).to_string(m),threadFbid:u.to_string(G),timestampMs:K.toString()};if(Q===r("MessagingAttachmentType").IMAGE){var Y,J,Z;j=r("createOptimisticImageSlideMessage")(babelHelpers.extends({},X,{image:{height:(u||(u=o("I64"))).to_float((Y=z.preview_height)!=null?Y:(u||(u=o("I64"))).zero),url:(J=z.preview_url)!=null?J:"",width:u.to_float((Z=z.preview_width)!=null?Z:(u||(u=o("I64"))).zero)}}))}else if(Q===r("MessagingAttachmentType").VIDEO){var ee,te,ne;j=r("createOptimisticVideoSlideMessage")(babelHelpers.extends({},X,{video:{height:(u||(u=o("I64"))).to_float((ee=z.preview_height)!=null?ee:(u||(u=o("I64"))).zero),url:(te=z.preview_url)!=null?te:"",width:u.to_float((ne=z.preview_width)!=null?ne:(u||(u=o("I64"))).zero)}}))}j&&r("IGDWriteOptimisticRelayMessage")(c,j)}if(q===0&&(T(H),x.addAnnotationBoolean("is_instamadillo_ttlc",P&&w===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(E,{bool:{is_instamadillo_ttlc:P&&w===!0}})),yield $.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:_,markThreadRead:!1,messageId:void 0,metadataDataclass:R,offlineThreadingId:H,openEb:w,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(u||(u=o("I64"))).of_string(H),threadAttributionSource:D,threadKey:i.threadKey}),a==null||a({TAG:2,attachmentType:d(U),numberOfAttachments:U.length,offlineThreadingId:H}),A!=null&&(s||(s=o("LSIntEnum"))).unwrapIntEnum(A)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO)yield r("issueSendInstamadilloMediaMessage")($,U,H);else{var re=yield r("issueLSMediaSendJobs")($,i.threadKey,H,U,S);W=W&&re.sentWithAllFilesUploaded}o("MWPSendMessageLogger").log(h,i.threadKey,i.threadType,m,H,U.map(function(e){return e.attachment_fbid}),D,O,p!=null,A,P,t)}f===!1&&(g==null||g({eventName:"media_collection_message_sent"}));var oe=(u||(u=o("I64"))).to_string(i.threadKey),ae=o("LSMessagingThreadTypeUtil").isGroup(i.threadType)?[oe,null]:[null,oe],ie=ae[0],le=ae[1];r("MessengerWebEventsFalcoEvent").log(function(){return{event_name:W?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:le,thread_fbid:ie}})}});return function(e,t){return h.apply(this,arguments)}})(),[p,f,l,i,t,_,m,a,c,g])}function d(e){if(e.length===0)return o("MWMsgMediaTypeLogUtils").AttachmentType.None;var t=e[0].playable_url_mime_type;return t==null?o("MWMsgMediaTypeLogUtils").AttachmentType.None:t.indexOf("image")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.Image:t.indexOf("video")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.Video:t.indexOf("application")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.File:o("MWMsgMediaTypeLogUtils").AttachmentType.None}l.default=c}),98);
__d("createOptimisticAudioSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=e.audioAttachment,n=e.offlineThreadingId,r=e.optimisticMessageId,o=e.repliedToMessageId,a=e.senderFbid,i=e.threadFbid,l=e.timestampMs,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:l,content:{__isSlideMessageContent:"SlideMessageAudiosContent",__typename:"SlideMessageAudiosContent",audio_attachments:[{attachment_cdn_url:URL.createObjectURL(t.file),attachment_fbid:null,playable_duration_ms:t.playableDurationMs,waveform_data:t.waveformData}]},content_type:"TEXT",id:r,igd_is_forwarded:!1,igd_snippet:s._(/*BTDS*/"You sent a voice message").toString(),is_reported:!1,message_id:r,offline_threading_id:n,reactions:[],replied_to_message:null,replied_to_message_id:o,sender_fbid:a,text_body:"",thread_fbid:i,timestamp_ms:l};return u}l.default=e}),226);
__d("issueLSAudioMediaSendJob",["I64","LSDatabaseSingletonLazyWrapper","LSFactory","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWPAttachmentUploadQplFlow","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n,r){if(e!=null&&e.startsWith("blob:")){var a={contents:function(){}};a.contents=o("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(r).subscribe(function(n,r){if(r.operation==="put"){var o=r.value;if(o.attachmentFbid!==t.toString())return;var i=o.playableUrl;i!=null&&!i.startsWith("blob:")&&(a.contents(),URL.revokeObjectURL(e))}})}}function u(e,t,n,r,o,a,i,l,s,u,d,m){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,l,u,c,d,m,p,_,f,g,h){yield r("LSInsertNewMediaSendStoredProcedure")(r("LSFactory")(t),{attachmentType:m.attachment_type,inMessageIndex:(e||(e=o("I64"))).zero,isSecure:!1,offlineAttachmentId:c,offlineThreadingId:d,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});var y=function(l,p){if(!(p==null||p.length===0)){var t=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield r("LSDatabaseSingletonLazyWrapper")();return t.runInTransaction((function(){var i=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var i=r("LSFactory")(n);yield r("LSMarkSubJobCompletedV2StoredProcedure")(i,{fbid:(e||(e=o("I64"))).of_string(p),offlineAttachmentId:c}),yield o("MWPOpenComposerUtils").resumeSendJob(i,d,u),s(m.playable_url,p,t,a)});return function(e){return i.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":101")});return function(){return t.apply(this,arguments)}})();r("promiseDone")(t(),function(){f==null||f(l)})}},C=function(t,n){var e;g==null||g((e=n.response.getErrorDescriptionString())!=null?e:"unknown_upload_failure",t)},b=h==="IGDComposer"?o("MWPAttachmentUploadQplFlow").createAttachmentUploadIdToQplFlowMap([{attachmentType:"audio",entryPoint:h,fileSize:p.file.size,platform:"igd",uploadId:c}]):null;yield o("MWPComposerMediaUploadUtil").startUpload(_,void 0,y,C,!0,[p.file],[c],void 0,void 0,p.waveformData,void 0,e.to_string(l),b)}),c.apply(this,arguments)}l.default=u}),98);
__d("useMWV2SendOpenVoiceClipImplShared",["I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","IGDWriteOptimisticRelayMessage","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSPendingTasksPluginType","LSShape","LSVec","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MessagingLoggingUtils","OfflineThreadingId","Promise","RelayHooks","WATimeUtils","asyncToGeneratorRuntime","createOptimisticAudioSlideMessage","issueLSAudioMediaSendJob","issueSendInstamadilloMediaMessage","sendToSentQPLLogger","useIGDReplyOnLS","useLSMessagingInitiatingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t,n,r){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){t!=null&&(yield o("MWMediaTraceHandler").logMediaSendStart(e,t,n,(u||(u=o("I64"))).of_int32(r)))}),d.apply(this,arguments)}function m(t){var a=t.entryPoint,i=t.ephemeralDurationInSec,l=t.onOptimisticMessageCreation,d=t.onUploadFailure,m=t.onUploadStart,p=t.onUploadSuccess,_=t.sendMessageLogger,f=t.skipUrlPreviewGen,g=t.threadKey,h=t.threadType,y=o("MWPActor.react").useActor(),C=r("useLSMessagingInitiatingSource")(),b=o("RelayHooks").useRelayEnvironment(),v=r("useIGDReplyOnLS")();return o("Int64Hooks").useCallbackInt64((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,S){var R=S.dataTraceId,L=S.pluginType,E=S.s2sInstanceKey,k=S.setupS2SLogging,I=S.source,T=S.traceSendMessageAPI,D=S.transaction,x=S.voiceClip,$=r("LSFactory")(D),P=o("OfflineThreadingId").createOfflineThreadingID(),N=o("MWPComposerMediaUploadUtil").getAudioAttachment(P,x.file,x.duration,x.waveformData);yield c(D,R,(u||(u=o("I64"))).one,2);var M=yield D.threads.get(g),w=o("IGDThreadTTLCUtils").isInstamadilloTTLCAudioEnabled(M),A=yield o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(D,v,function(){return(e||(e=n("Promise"))).resolve({openEb:w,pluginType:w?(s||(s=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):L})}),F=A.openEb,O=A.pluginType,B=yield r("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")($,{extraSendMessageParams:o("LSShape").ofRecord({attachments:r("LSVec").ofArray([o("LSShape").ofRecord(N)]),ephemeral_duration_in_sec:i,external_attachment_url:void 0,initiating_source:C,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:O,reply_source_id:v==null?void 0:v.messageId,reply_source_type:v!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:v!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:I}),senderId:y,threadKey:g,threadType:h}),W=B[0],q=M==null?void 0:M.consistentThreadFbid;if(q!=null){var U=o("WATimeUtils").millisTime(),V=r("createOptimisticAudioSlideMessage")({audioAttachment:{file:x.file,playableDurationMs:x.duration*1e3,waveformData:[].concat(x.waveformData.amplitudes)},offlineThreadingId:W,optimisticMessageId:"mid.$"+W,repliedToMessageId:v==null?void 0:v.messageId,senderFbid:(u||(u=o("I64"))).to_string(y),threadFbid:u.to_string(q),timestampMs:U.toString()});r("IGDWriteOptimisticRelayMessage")(b,V)}k(W),T.addAnnotationBoolean("is_instamadillo_ttlc",w&&F===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(E,{bool:{is_instamadillo_ttlc:w&&F===!0}}),yield D.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:C,markThreadRead:!1,messageId:void 0,offlineThreadingId:W,openEb:F,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:f,taskId:u.of_string(W),threadAttributionSource:I,threadKey:g}),l!=null&&l({TAG:1,offlineThreadingId:W}),O!=null&&(s||(s=o("LSIntEnum"))).unwrapIntEnum(O)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO?yield r("issueSendInstamadilloMediaMessage")(D,[N],W):yield r("issueLSAudioMediaSendJob")(D,g,y,R,P,W,N,x,m,p,d,a),_(t,{actor:y,attachmentFbids:[N.attachment_fbid],attachmentType:o("MessagingLoggingUtils").convertI64ToAttachmentType(N.attachment_type),hasReply:v!=null,isInstamadilloTTLC:F,key:g,offlineThreadingId:W,pluginType:O,source:I,type:h})});return function(e,n){return t.apply(this,arguments)}})(),[g,v,i,C,y,h,f,l,_,b,m,p,d,a])}l.default=m}),98);
__d("useMWV2SendOpenVoiceClip",["Int64Hooks","MWPSendMessageLogger","useMWV2SendOpenVoiceClipImplShared"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.entryPoint,n=e.ephemeralDurationInSec,a=e.onOptimisticMessageCreation,i=e.onUploadFailure,l=e.onUploadStart,s=e.onUploadSuccess,u=e.skipUrlPreviewGen,c=e.thread,d=o("Int64Hooks").useCallbackInt64(function(e,t){var r=t.actor,a=t.attachmentFbids,i=t.attachmentType,l=t.hasReply,s=t.isInstamadilloTTLC,u=t.key,c=t.offlineThreadingId,d=t.pluginType,m=t.source,p=t.type;r!=null&&o("MWPSendMessageLogger").log(e,u,p,r,c,a,m,i,l,d,s,n)},[n]);return r("useMWV2SendOpenVoiceClipImplShared")({entryPoint:t,ephemeralDurationInSec:n,onOptimisticMessageCreation:a,onUploadFailure:i,onUploadStart:l,onUploadSuccess:s,sendMessageLogger:d,skipUrlPreviewGen:u,threadKey:c.threadKey,threadType:c.threadType})}l.default=e}),98);
__d("useMWV2SendOpenMessage",["I64","Int64Hooks","LSGenerateTraceId","LSIntEnum","LSMessagingThreadTypeUtil","LSShape","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","MWV2ComposerActionsContext.react","MWV2SetupS2SLoggingShared","MultipleTabsLogger","ReQL","asyncToGeneratorRuntime","react","sendToSentQPLLogger","useAsyncReStore","useEnabledForWorkchatOnly","useIGDReplyOnLS","useIsMessengerPWA","useMWLSDefaultThreadSourceWithResetBasedOnThreadType","useMWV2SendOpenMessageImpl","useMWV2SendOpenStagedMedia","useMWV2SendOpenVoiceClip"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext;function d(e){var t=e.disableMarkRead,a=e.entryPoint,l=e.ephemeralDurationInSec,d=e.isIGDW,m=e.onOptimisticMessageCreation,p=e.onUploadFailure,_=e.onUploadStart,f=e.onUploadSuccess,g=e.pluginType,h=e.skipUrlPreviewGen,y=e.thread,C=r("useAsyncReStore")(),b=r("useIsMessengerPWA")(),v=r("useIGDReplyOnLS")(),S=r("useMWLSDefaultThreadSourceWithResetBasedOnThreadType")(),R=r("useMWV2SendOpenVoiceClip")({entryPoint:a,ephemeralDurationInSec:l,onOptimisticMessageCreation:m,onUploadFailure:p,onUploadStart:_,onUploadSuccess:f,skipUrlPreviewGen:h,thread:y}),L=r("useMWV2SendOpenStagedMedia")(l,m,y,d),E=r("useMWV2SendOpenMessageImpl")({disableMarkRead:t!=null?t:!1,ephemeralDurationInSec:l,onOptimisticMessageCreation:m,skipUrlPreviewGen:h,thread:y}),k=o("LSMessagingThreadTypeUtil").isMessageRequest(y),I=r("useEnabledForWorkchatOnly")(),T=c(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext),D=T.onMessageSendAttempt;return o("Int64Hooks").useCallbackInt64((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a,l,c,d,m,p,_,f,h,T,x,$,P,N,M,w,A,F){h===void 0&&(h=!1),T===void 0&&(T=!1);var O=!1;D==null||D(!0);function B(e){x.addMarkerPoint(e,"AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint($,e)}var W=S(y.threadKey),q=r("LSGenerateTraceId")(),U={contents:1},V=y.eventStartTimestampMs!=null,H=y.threadType,G=yield C,z=r("MWV2SetupS2SLoggingShared")({db:G,isCommunityEvent:V,isFirstMessage:T,isMessageRequest:k,isWorkChat:I,s2sInstanceKey:$,sendFirstMessageSeparately:h,source:(s||(s=o("LSIntEnum"))).unwrapIntEnum(W),threadType:H,traceSendMessageAPI:x}),j=yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(G.tables.media_staging).filter(function(e){return!e.isSent&&(u||(u=o("I64"))).equal(e.threadKey,y.threadKey)})),K=o("MWSharedS2SBaseAnnotations").getMessageTypeParams(babelHelpers.extends({externalAttachmentUrl:d,hotEmojiSize:l,mediaStagings:j,messageText:e,sticker:a,threadType:y.threadType,voiceClip:p},v!=null?{reply:v}:{})),Q=yield o("MWSharedMsgLogUtils").getSendToSentAnnotations({attachmentTypeParams:K,isPwa:b,source:s.unwrapIntEnum(W),thread:y}),X=yield o("MultipleTabsLogger").hasMultipleTabs();return G.runInTransaction((function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){if(o("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(x,K,y),o("sendToSentQPLLogger").addSendToSentAnnotations($,Q),p!=null){(h===!1||T===!0)&&(yield R(G,{dataTraceId:q,pluginType:g,s2sInstanceKey:$,setupS2SLogging:z,source:W,traceSendMessageAPI:x,transaction:n,voiceClip:p}));return}var r=K.hasGif,i=r===void 0?!1:r,s=K.hasHotEmoji,C=s===void 0?!1:s,b=K.hasSticker,v=b===void 0?!1:b,S=K.hasText,k=S===void 0?!1:S;v||C?U.contents=4:i&&(U.contents=6);var I=t!=null?o("LSShape").ofRecord({mention_ids:t.map(function(e){return e.id}).join(","),mention_lengths:t.map(function(e){return String(e.length)}).join(","),mention_offsets:t.map(function(e){return String(e.offset)}).join(","),mention_types:t.length!==0?t.map(function(e){return e.type}).join(","):void 0}):void 0;if(B("create_optimistic_message_start"),k||v||C||i){if(O=!0,(h===!1||T===!0)&&(B("send_message_impl"),yield E(G,{accessibilityLabel:F,afterSend:f,attributionAppId:c,dataclassParams:A,dataTraceId:q,externalAttachmentUrl:d,hotEmojiSize:l,logSendPoint:B,mentionData:I,messageText:e,messageTypeParams:K,multitabEnv:X,optimisticAttachmentPreview:m,platformToken:_,pluginType:g,profileRanges:t,richTextFormatType:N,s2sInstanceKey:$,setupS2SLogging:z,source:W,sticker:a,traceSendMessageAPI:x,transaction:n}),h===!0)){B("send_first_message_separately_return");return}}else f!=null&&(yield f(n));!v&&!i&&!C&&(yield L(G,{isFirstMessage:T,isFirstMessageText:O,mediaStagings:yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(n.media_staging).filter(function(e){return!e.isSent&&(u||(u=o("I64"))).equal(e.threadKey,y.threadKey)})),pluginType:g,s2sInstanceKey:$,sendFirstMessageSeparately:h,setupS2SLogging:z,source:W,traceSendMessageAPI:x,transaction:n}))});return function(e){return r.apply(this,arguments)}})(),"readwrite","ui",void 0,i.id+":250")});return function(t,n,r,o,a,i,l,s,u,c,d,m,p,_,f,g,h,y,C,b){return e.apply(this,arguments)}})(),[D,S,y,C,k,I,v,b,R,g,E,L])}l.default=d}),98);
__d("useMWV2OnSendOpenMessage",["I64","IGDReplyContext.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSContactListConversionAttributionStore","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPActor.react","MWPReplyContext.react","MessageRequestsLog","MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayClickImpressionEventsLoggerImpl","MessengerSidebarClickImpressionEventsLoggerImpl","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","promiseDone","qpl","react","sendToSentQPLLogger","useCometInteractionTracing","useCometRouteTracePolicy","useIGDChatTabsMessagingSource.react","useMWLSAcceptMessageRequest","useMWV2SendOpenMessage"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useContext,m=c.useMemo;function p(e){var t=e.afterSendMessage,a=e.checkWAStorageForLogging,i=e.disableMarkRead,l=e.entryPoint,c=e.ephemeralDurationInSec,p=e.isIGDW,_=e.onOptimisticMessageCreation,f=e.onUploadFailure,g=e.onUploadStart,h=e.onUploadSuccess,y=e.pluginType,C=e.skipUrlPreviewGen,b=e.thread,v=o("MWPActor.react").useActor(),S=o("MessengerClickImpressionEventsLoggerUtils").useGetUniqueThreadID(b.threadKey,b.threadType),R=d(o("MWPReplyContext.react").MWPReplyContext),L=R.clearReply,E=d(o("IGDReplyContext.react").IGDReplySetterContext),k=E.clearReply,I=b.threadSubtype,T=m(function(){return{is_community_event:(b.eventStartTimestampMs!=null).toString(),is_cutover:"false",is_secure:"false",sender_id:p===!0?(s||(s=o("I64"))).to_string(v):null,thread_id:(s||(s=o("I64"))).to_string(b.threadKey),thread_subtype:I!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(I)?(s||(s=o("I64"))).to_string(I):"",thread_type:s.to_string(b.threadType)}},[v,p,b.eventStartTimestampMs,b.threadKey,b.threadType,I]),D=r("useMWLSAcceptMessageRequest")(b.threadKey),x=r("useCometInteractionTracing")(r("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,T),$=r("useMWV2SendOpenMessage")({disableMarkRead:i,entryPoint:l,ephemeralDurationInSec:c,isIGDW:p,onOptimisticMessageCreation:_,onUploadFailure:f,onUploadStart:g,onUploadSuccess:h,pluginType:y,skipUrlPreviewGen:C,thread:b}),P=r("MessengerWebUXLogger").useInteractionLogger(),N=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),M=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),w=r("useIGDChatTabsMessagingSource.react")(b.threadKey),A=r("useCometRouteTracePolicy")();return o("Int64Hooks").useCallbackInt64(function(e,i,l,c,d,m,_,f,g,h,y,C,R,E,F,O,B,W){y===void 0&&(y=!1),C===void 0&&(C=!1);var q=o("LSMessagingThreadTypeUtil").isMessageRequest(b);if(p===!0){var U={displayContext:M!=null?M:"UNKNOWN",isMessageRequest:String(q),thread_type:(s||(s=o("I64"))).to_string(b.threadType),threadSubtype:I!=null?(s||(s=o("I64"))).to_string(I):"UNKNOWN",tracePolicy:A},V=M==="ChatTab"&&w!=null?babelHelpers.extends({},U,{messaging_source:String(w)}):babelHelpers.extends({},U);P==null||P({eventName:"send_message",extraData:V,flowInstanceId:N})}x(function(p){var R,I=o("sendToSentQPLLogger").markSendToSentStart(a);o("sendToSentQPLLogger").addSendToSentAnnotations(I,{int:{message_text_length_int:(R=e==null?void 0:e.length)!=null?R:0},string:T}),r("promiseDone")($(e,i,l,c,d,m,_,f,g,(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t;if(h==null||h(),!!o("LSMessagingThreadTypeUtil").isOneToOne(b.threadType)){var n=(t=yield o("ReQL").firstAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(e.participants,[]).getKeyRange(b.threadKey),o("ReQL").fromTableAscending(e.contacts)).filter(function(e){var t=e[0],n=e[1];return!(s||(s=o("I64"))).equal(n.id,v)})))==null?void 0:t[1];n!=null&&!(s||(s=o("I64"))).to_float(n.contactViewerRelationship)!==r("LSContactViewerRelationship").CONTACT_OF_VIEWER&&(yield e.contacts.put(babelHelpers.extends({},n,{contactViewerRelationship:(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER)})))}});return function(t){return e.apply(this,arguments)}})(),y,C,p,I,void 0,E,F,O,B,W),function(){var e=o("LSContactListConversionAttributionStore").getAttribution(S);e!=null&&(e.surface.entry_point==="comet_home_sidebar"?o("MessengerSidebarClickImpressionEventsLoggerImpl").logConversionClickEvent(e):e.surface.entry_point==="inbox_tray"&&o("MessengerInboxTrayClickImpressionEventsLoggerImpl").logConversionClickEvent(e),o("LSContactListConversionAttributionStore").resetAttribution(S)),t(),L(b.threadKey,!1),k(),q&&(D(),o("MessageRequestsLog").logActionConfirmed(b,1))})})},[p,b,x,M,I,A,w,P,N,a,T,$,v,S,t,L,k,D])}l.default=p}),98);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=["typing","_",t.i64.to_string(e[0])].join(""),t.sequence([function(e){return t.forEach(t.filter(t.db.table(5).fetch(),function(e){return r[0]===e.queueName}),function(e){return e.delete()})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[1]=t.i64.cast([0,1]):(n=a.item,r[7]=n.syncGroup,t.i64.neq(r[7],void 0)?r[6]=r[7]:r[6]=t.i64.cast([0,1]),r[1]=r[6])})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[3]=void 0:(t=o.item,r[3]=t.threadType)})},function(o){return r[5]=new t.Map,r[5].set("thread_key",e[0]),r[5].set("is_group_thread",e[1]),r[5].set("is_typing",e[2]),r[5].set("attribution",t.i64.cast([0,0])),r[5].set("sync_group",r[1]),r[5].set("thread_type",r[3]),r[6]=t.toJSON(r[5]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),r[0],t.i64.cast([0,3]),r[6])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSTypingSendTypingIndicatorStoredProcedure",e.__tables__=["threads","pending_fire_and_forget_tasks"],a.exports=e}),null);
__d("LSSendTypingIndicatorStoredProcedure",["LSSendTypingIndicator","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSSendTypingIndicator"),a.threadKey,a.isGroupThread,a.isTyping);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSTypingIndicatorSettingState",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});i.default=e}),66);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicatorStoredProcedure","LSTypingIndicatorSettingState","MWPActor.react","MessengerWebUXLogger","Promise","ReQL","asyncToGeneratorRuntime","mwCMIsAnyCMThread","promiseDone","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(e,t,n,r){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a,i){if((u||(u=o("I64"))).equal(a,(c||(c=o("LSIntEnum"))).ofNumber(1))&&!(u||(u=o("I64"))).equal(t,i)){var l=yield(s||(s=n("Promise"))).all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads,["typingIndicatorDisabled"]).getKeyRange(t)),o("ReQL").firstAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(e.tables.participants).getKeyRange(t),o("ReQL").fromTableAscending(e.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(e){var t=e[0],n=e[1];return!(u||(u=o("I64"))).equal(t.contactId,i)}))]),d=l[0],m=l[1],p=d==null?void 0:d.typingIndicatorDisabled,_=p!=null?(u||(u=o("I64"))).equal((c||(c=o("LSIntEnum"))).ofNumber(r("LSTypingIndicatorSettingState").DISABLED),p):!1;return m!=null&&!_}else return!r("mwCMIsAnyCMThread")(a)}),m.apply(this,arguments)}function p(t){var n=(e||(e=r("useReStore")))(),a=o("MWPActor.react").useActor(),l=r("MessengerWebUXLogger").useInteractionLogger();return o("Int64Hooks").useCallbackInt64(function(e){(u||(u=o("I64"))).ge(t.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&r("promiseDone")(d(n,t.threadKey,t.threadType,a).then(function(a){if(a)return l==null||l({eventName:"send_typing_indicators",threadKey:t.threadKey,threadType:t.threadType}),n.runInTransaction(function(n){return r("LSSendTypingIndicatorStoredProcedure")(r("LSFactory")(n),{isGroupThread:o("LSMessagingThreadTypeUtil").isGroup(t.threadType),isTyping:e,threadKey:t.threadKey})},"readwrite",void 0,void 0,i.id+":134")}))},[t.authorityLevel,t.threadKey,t.threadType,n,a,l])}l.default=p}),98);
__d("IGDComposer.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","DisappearingMessagesMode","I64","IGDAiAgentsUtils","IGDChatTabsStateContext.react","IGDComposerConstants","IGDComposerEditContainer.react","IGDComposerEditContainerOffMsys.react","IGDComposerReplyView.react","IGDComposerView.react","IGDDMModeContextProvider","IGDEditMessageContext.react","IGDEqualityUtils","IGDInstamadilloUtils","IGDOffMsysComposerReplyView.react","IGDReplyContext.react","IGDSupportedFileTypes","IGDThreadlineContext","LSIntEnum","LSPendingTasksPluginType","MAWEditMessageContext.react","MWMediaManager","MWPReplyContext.react","PolarisUA","react","react-compiler-runtime","useIGDMediaMangerUploadFailedToast","useIGDMessageLengthExceededToast","useIsChatTabsDisplay","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage","useMWXLexicalMaxLength","useOnTypingStateChanged","useStableCallback","useStableValue"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useContext,f=m.useMemo;function g(e){var t=o("react-compiler-runtime").c(66),n=e.onSendMessage,a=e.thread,i=_(o("MWPReplyContext.react").MWPReplyContext),l=i.clearReply,c=i.reply,m=o("IGDReplyContext.react").useIGDReplyContext(),p=o("IGDReplyContext.react").useIGDReplySetterContext(),f=p.clearReply,g=o("IGDEditMessageContext.react").useIGDEditContext(),y=o("IGDEditMessageContext.react").useIGDEditSetterContext(),C=y.clearEditMessageData,b=_(o("MAWEditMessageContext.react").Context),v=b.editMessageData,S=b.setEditMessageData,R=_(o("IGDThreadlineContext").ThreadlineIsComposerFocusedContext),L=R.isThreadlineComposerFocused,E=r("useIGDMediaMangerUploadFailedToast")(),k;t[0]!==E||t[1]!==a?(k={showUploadFailureToast:E,thread:a},t[0]=E,t[1]=a,t[2]=k):k=t[2];var I=o("MWMediaManager").useMediaManager(k),T=I.handleFileSelect,D=r("useOnTypingStateChanged")(a),x=a.threadSubtype,$;t[3]!==x?($=o("IGDAiAgentsUtils").isAiThread(x),t[3]=x,t[4]=$):$=t[4];var P=$;r("useMWV2FileDropzoneRegisterHandler")(T);var N;t[5]!==I.mediaStaging||t[6]!==n||t[7]!==D||t[8]!==a.threadKey?(N={composerEntrypointForLogging:"IGDOpenComposer",isPreviewThread:!1,mediaStaging:I.mediaStaging,onSendMessage:n,onTypingStateChanged:D,threadKey:a.threadKey},t[5]=I.mediaStaging,t[6]=n,t[7]=D,t[8]=a.threadKey,t[9]=N):N=t[9];var M=r("useMWPComposerEditor")(N),w=M.editor,A=M.editorElementRef,F=M.hasStuffToSend,O=M.sendMessage,B=r("useIGDMessageLengthExceededToast")(),W;t[10]!==B?(W={maxLength:o("IGDComposerConstants").IGD_COMPOSER_MAX_LENGTH,onMaxLengthExceeded:B},t[10]=B,t[11]=W):W=t[11],o("useMWXLexicalMaxLength").useMWXLexicalMaxLength(w,W);var q;t[12]!==w||t[13]!==n?(q=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=t;n.apply(void 0,o),w.focus(h)},t[12]=w,t[13]=n,t[14]=q):q=t[14];var U=q,V=a.threadKey,H=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),G=r("useIsChatTabsDisplay")(),z;t[15]!==C||t[16]!==l||t[17]!==f||t[18]!==H||t[19]!==v||t[20]!==g||t[21]!==G||t[22]!==c||t[23]!==m||t[24]!==S||t[25]!==V?(z=function(){if(!(c||m)&&!(v||g))if(G)H==null||H({threadKey:(u||(u=o("I64"))).to_string(V),type:"close_tab"});else return;v||g?(S(null),C()):(c||m)&&(l(V,!0),f())},t[15]=C,t[16]=l,t[17]=f,t[18]=H,t[19]=v,t[20]=g,t[21]=G,t[22]=c,t[23]=m,t[24]=S,t[25]=V,t[26]=z):z=t[26];var j=z,K;t[27]===Symbol.for("react.memo_cache_sentinel")?(K={key:r("CometKeys").ESCAPE},t[27]=K):K=t[27];var Q;t[28]!==v||t[29]!==g||t[30]!==G||t[31]!==c||t[32]!==m?(Q=!(c||m)&&G&&s._(/*BTDS*/"Close chat tab")||(c||m)&&s._(/*BTDS*/"Cancel Reply")||(v||g)&&s._(/*BTDS*/"Cancel edit")||"",t[28]=v,t[29]=g,t[30]=G,t[31]=c,t[32]=m,t[33]=Q):Q=t[33];var X;t[34]!==j||t[35]!==Q?(X=[{command:K,description:Q,handler:j,triggerFromInputs:!0}],t[34]=j,t[35]=Q,t[36]=X):X=t[36];var Y=X,J;t[37]!==L||t[38]!==c||t[39]!==a?(J=c!=null&&!L?d.jsx(r("IGDComposerReplyView.react"),{messageId:c.messageId,messageTimestamp:c.timestampMs,thread:a}):null,t[37]=L,t[38]=c,t[39]=a,t[40]=J):J=t[40];var Z;t[41]!==L||t[42]!==m?(Z=m!=null&&!L?d.jsx(r("IGDOffMsysComposerReplyView.react"),{reply:m}):null,t[41]=L,t[42]=m,t[43]=Z):Z=t[43];var ee;t[44]!==v?(ee=v!=null&&d.jsx(r("IGDComposerEditContainer.react"),{editMessageData:v}),t[44]=v,t[45]=ee):ee=t[45];var te;t[46]!==g?(te=g!=null?d.jsx(r("IGDComposerEditContainerOffMsys.react"),{editMessageData:g}):null,t[46]=g,t[47]=te):te=t[47];var ne;t[48]!==v||t[49]!==g||t[50]!==w||t[51]!==A||t[52]!==F||t[53]!==P||t[54]!==T||t[55]!==U||t[56]!==O||t[57]!==a?(ne=v==null&&g==null?d.jsx(r("IGDComposerView.react"),{attachmentsSupported:!0,editor:w,editorElementRef:A,emojisSupported:!o("PolarisUA").isMobile()&&!P,hasStuffToSend:F,onAttachmentsAdded:T,onSendMessage:U,policyProduct:"messaging_lightswitch",sendMessage:O,supportedFileTypes:o("IGDSupportedFileTypes").getIGDSupportedFileTypes(o("PolarisUA").isMobile()),surface:"mwp_igd_composer",thread:a}):null,t[48]=v,t[49]=g,t[50]=w,t[51]=A,t[52]=F,t[53]=P,t[54]=T,t[55]=U,t[56]=O,t[57]=a,t[58]=ne):ne=t[58];var re;return t[59]!==Y||t[60]!==Z||t[61]!==ee||t[62]!==te||t[63]!==ne||t[64]!==J?(re=d.jsx("div",{children:d.jsxs(r("CometComponentWithKeyCommands.react"),{commandConfigs:Y,children:[J,Z,ee,te,ne]})}),t[59]=Y,t[60]=Z,t[61]=ee,t[62]=te,t[63]=ne,t[64]=J,t[65]=re):re=t[65],re}function h(){}function y(e){var t=o("react-compiler-runtime").c(19),n=e.afterSendMessage,a=e.thread,i=_(o("IGDDMModeContextProvider").IGDDMModeContext),l=i.dmMode,s=i.lastSetTtlSec,m;t[0]!==a?(m=o("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a)?(c||(c=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):void 0,t[0]=a,t[1]=m):m=t[1];var p=m,f;t[2]!==l||t[3]!==s?(f=l===r("DisappearingMessagesMode").ON&&s!=null?(u||(u=o("I64"))).of_int32(s):void 0,t[2]=l,t[3]=s,t[4]=f):f=t[4];var h=C(a,n,p,f),y;t[5]!==a.authorityLevel||t[6]!==a.capabilities||t[7]!==a.capabilities2||t[8]!==a.capabilities3||t[9]!==a.capabilities4||t[10]!==a.capabilities5||t[11]!==a.consistentThreadFbid||t[12]!==a.threadKey||t[13]!==a.threadSubtype||t[14]!==a.threadType?(y={authorityLevel:a.authorityLevel,capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,capabilities5:a.capabilities5,consistentThreadFbid:a.consistentThreadFbid,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},t[5]=a.authorityLevel,t[6]=a.capabilities,t[7]=a.capabilities2,t[8]=a.capabilities3,t[9]=a.capabilities4,t[10]=a.capabilities5,t[11]=a.consistentThreadFbid,t[12]=a.threadKey,t[13]=a.threadSubtype,t[14]=a.threadType,t[15]=y):y=t[15];var b=o("useStableValue").useStableValue(y,o("IGDEqualityUtils").shallowEqualI64),v;return t[16]!==h||t[17]!==b?(v=d.jsx(g,{onSendMessage:h,thread:b}),t[16]=h,t[17]=b,t[18]=v):v=t[18],v}function C(e,t,n,a){var i=o("react-compiler-runtime").c(5),l;i[0]!==t||i[1]!==a||i[2]!==n||i[3]!==e?(l={afterSendMessage:t,entryPoint:"IGDComposer",ephemeralDurationInSec:a,isIGDW:!0,pluginType:n,skipUrlPreviewGen:!1,thread:e},i[0]=t,i[1]=a,i[2]=n,i[3]=e,i[4]=l):l=i[4];var s=r("useMWV2OnSendOpenMessage")(l);return r("useStableCallback")(s)}l.default=y}),226);
__d("IGDComposerCommonPlaceholder.react",["IGDSBox.react","IGDSSpinner.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={placeholder:{borderTopColor:"x1exxf4d",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(5),n=e.height,a=e.showSpinner,i=a===void 0?!1:a,l=n,c;t[0]!==i?(c=i&&s.jsx(r("IGDSSpinner.react"),{}),t[0]=i,t[1]=c):c=t[1];var d;return t[2]!==l||t[3]!==c?(d=s.jsx(r("IGDSBox.react"),{alignItems:"center",height:l,justifyContent:"center",xstyle:u.placeholder,children:c}),t[2]=l,t[3]=c,t[4]=d):d=t[4],d}l.default=c}),98);
__d("IGDComposerBlockBoundary.react",["IGDComposerCommonPlaceholder.react","PolarisSuspenseWithErrorBoundary.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.children,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(r("IGDComposerCommonPlaceholder.react"),{height:128,showSpinner:!0}),t[0]=a):a=t[0];var l;return t[1]!==n?(l=s.jsx(r("PolarisSuspenseWithErrorBoundary.react"),{errorRenderer:c,loadingRenderer:a,name:i.id,children:n}),t[1]=n,t[2]=l):l=t[2],l}function c(){return s.jsx(r("IGDComposerCommonPlaceholder.react"),{height:128})}c.displayName=c.name+" [from "+i.id+"]",l.default=u}),98);
__d("IGDComposerBlockForThreadOffMsys_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDComposerBlockForThreadOffMsys_XFBIGDirectViewerThread",selections:[{args:null,kind:"FragmentSpread",name:"IGDComposerBlockCannesOffMsys_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"IGDRestrictedUserComposerBlockOffMsys_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"IGDBlockedUserComposerBlockOffMsys_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"IGDHiddenChatComposerOffMsys_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"IGDMessageRequestComposerBannerOffMsys_XFBIGDirectViewerThread"}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("IGDComposerBlockForThreadOffMsys.react",["CometRelay","IGDComposerBlockBoundary.react","IGDComposerBlockForThreadOffMsys_XFBIGDirectViewerThread.graphql","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDComposerBlockCannesOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),d=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDLeftGroupComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),m=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDPartnershipDisabledComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),p=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDFallbackComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),_=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDBroadcastChannelEndedComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),f=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDInstamadilloTLCComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),g=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDInstamadilloDMComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),h=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDRestrictedUserComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),y=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDBlockedUserComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),C=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDUnreachableInviteComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),b=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDHiddenChatComposerOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),v=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDMessageRequestComposerBannerOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),S=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDSupportThreadComposerOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react"));function R(t){var a=o("react-compiler-runtime").c(5),i=t.composerBlockType,l=t.viewerThreadRef,s=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDComposerBlockForThreadOffMsys_XFBIGDirectViewerThread.graphql"),l),R;a[0]!==i||a[1]!==s?(R=i==="cannes_composer_block"?u.jsx(c,{viewerThreadRef:s}):i==="input_mode_disabled_for_group_thread"?u.jsx(d,{}):i==="input_mode_partnership_thread_disabled_for_creator"?u.jsx(m,{}):i==="broadcast_channel_ended"?u.jsx(_,{}):i==="instamadillo_tlc_block"?u.jsx(f,{}):i==="instamadillo_dm_block"?u.jsx(g,{}):i==="1on1_restricted_user"?u.jsx(h,{viewerThreadRef:s}):i==="1on1_blocked_user"?u.jsx(y,{viewerThreadRef:s}):i==="1on1_unreachable_invite_model"?u.jsx(C,{}):i==="hidden_group_chat_in_spam_folder"?u.jsx(b,{viewerThreadRef:s}):i==="support_thread_composer_block"?u.jsx(S,{}):i==="message_request"?u.jsx(v,{viewerThreadRef:s}):i==="fallback"?u.jsx(p,{}):(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+i)})(),a[0]=i,a[1]=s,a[2]=R):R=a[2];var L=R,E;return a[3]!==L?(E=u.jsx(r("IGDComposerBlockBoundary.react"),{children:L}),a[3]=L,a[4]=E):E=a[4],E}l.default=R}),98);
__d("IGDReachableInviteBanner.react",["fbt","FBLogger","I64","IGDInviteModelUtils","Link.react","MWPActor.react","MWXComposerBanner.react","MessengerWebUXLogger","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react"));function m(t){var n,a=o("react-compiler-runtime").c(13),l=t.loggingEventName,c=t.threadKey,m=(e||(e=r("useReStore")))(),p=o("MWPActor.react").useActor(),_=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(m.tables.participants).getKeyRange(c).filter(function(e){var t=e.contactId;return!(u||(u=o("I64"))).equal(t,p)}),o("ReQL").fromTableAscending(m.tables.contacts))},[m.tables.contacts,m.tables.participants,c,p],i.id+":36"))!=null?n:[null,null],f=_[1],g;a[0]!==l?(g={eventName:l},a[0]=l,a[1]=g):g=a[1];var h=r("MessengerWebUXLogger").useImpressionLoggerRef(g);if(f==null)return r("FBLogger")("igd_web").mustfix("Contact data is null in IGDReachableInviteBanner"),null;var y;if(a[2]===Symbol.for("react.memo_cache_sentinel")){var C;y=(C=r("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"477434105621119"}).setDomain("help.instagram.com"))==null||(C=C.setProtocol("https"))==null?void 0:C.toString(),a[2]=y}else y=a[2];var b=y,v;a[3]!==f.name||a[4]!==f.secondaryName?(v=s._(/*BTDS*/"Invite {name} ({secondaryName}) to chat",[s._param("name",f.name),s._param("secondaryName",f.secondaryName)]),a[3]=f.name,a[4]=f.secondaryName,a[5]=v):v=a[5];var S=v,R;a[6]!==b?(R=s._(/*BTDS*/"You can only send one message in this invitation. Remember to follow our {link} and be respectful when messaging others for the first time.",[s._param("link",d.jsx(r("Link.react"),{href:b,children:"Community Standards"}))]),a[6]=b,a[7]=R):R=a[7];var L=R,E;a[8]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"You can send one message in this request. Once they've accepted, you can send more messages."),a[8]=E):E=a[8];var k=E,I=o("IGDInviteModelUtils").shouldUseInviteModelV2(),T=I?k:L,D=I?void 0:S,x;return a[9]!==h||a[10]!==T||a[11]!==D?(x=d.jsx(r("MWXComposerBanner.react"),{bodyText:T,headerText:D,ref:h}),a[9]=h,a[10]=T,a[11]=D,a[12]=x):x=a[12],x}l.default=m}),226);
__d("LSNullstateCTAType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});i.default=e}),66);
__d("MWV2ErrorComposer.react",["fbt","MDSTextPairing.react","MWXText.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){return u.jsx("div",{className:"xcrg951 x8cjs6t x13fuv20 x178xt8z x1a8lsjc x1a4sjiy xvahy20 x889kno",children:u.jsx(r("MDSTextPairing.react"),{headline:s._(/*BTDS*/"Something isn't working."),headlineColor:"secondary",level:4,meta:u.jsx(r("MWXText.react"),{numberOfLines:2,type:"meta3",children:s._(/*BTDS*/"This may be because of a technical error that we're working to fix.")}),reduceEmphasis:!0,textAlign:"center"})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("usePrecompileURLMatcher",["URLMatcher","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect,u=!1;function c(){var e=o("react-compiler-runtime").c(1),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],s(d,t)}function d(){u||(u=!0,r("URLMatcher").compilePermissiveHostPathMatcher())}l.default=c}),98);
__d("IGDComposerCommon.react",["CometErrorBoundary.react","CometPlaceholder.react","FBLogger","I64","IGDComposer.react","IGDInviteModelUtils","IGDReachableInviteBanner.react","JSResourceForInteraction","LSContactBitOffset","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","LSNullstateCTAType","MWV2ErrorComposer.react","ReQL","ReQLSuspense","WebUXLoggingSurfaceContextProvider","lazyLoadComponent","react","react-compiler-runtime","useContactReachabilityStatus","usePrecompileURLMatcher","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDUnavailableComposer.react").__setRef("IGDComposerCommon.react")),p=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDInviteSentComposer.react").__setRef("IGDComposerCommon.react"));function _(e){var t=o("react-compiler-runtime").c(9),n=e.afterSendMessage,a=e.showReachableInviteBanner,l=e.thread,s;t[0]!==a||t[1]!==l?(s=a&&d.jsx(r("IGDReachableInviteBanner.react"),{loggingEventName:"igd_invite_model_reachable_banner",threadKey:l.threadKey}),t[0]=a,t[1]=l,t[2]=s):s=t[2];var u;t[3]!==n||t[4]!==l?(u=d.jsx(r("IGDComposer.react"),{afterSendMessage:n,thread:l}),t[3]=n,t[4]=l,t[5]=u):u=t[5];var c;return t[6]!==s||t[7]!==u?(c=d.jsx(r("CometErrorBoundary.react"),{fallback:f,children:d.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:d.jsxs(o("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_chat_composer",children:[s,u]})})}),t[6]=s,t[7]=u,t[8]=c):c=t[8],c}function f(){return d.jsx(r("MWV2ErrorComposer.react"),{})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=o("react-compiler-runtime").c(3),n=e.afterSendMessage,r=e.thread,a;return t[0]!==n||t[1]!==r?(a=d.jsx(_,{afterSendMessage:n,showReachableInviteBanner:!1,thread:r}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function h(e){var t=o("react-compiler-runtime").c(9),n=e.afterSendMessage,a=e.otherUser,i=e.thread,l=o("LSContactBitOffset").has(0,a),s=o("LSContactBitOffset").has(1,a),f=!l||!s,g=a.blockedSinceTimestampMs!=null?!1:f,h=a.contactReachabilityStatusType,y;t[0]!==h?(y=o("IGDInviteModelUtils").shouldShowTextOnlyComposerWithBanner(h),t[0]=h,t[1]=y):y=t[1];var C=y,b=o("IGDInviteModelUtils").shouldShowBlockComposer(h),v=o("IGDInviteModelUtils").shouldShowTextOnlyComposer(h),S=h!=null?(u||(u=o("I64"))).equal((c||(c=o("LSIntEnum"))).ofNumber(r("LSContactReachabilityStatusType").REACHABLE),h)||C||v||b:!0;if(S)if(g){var R;return t[2]===Symbol.for("react.memo_cache_sentinel")?(R=d.jsx(m,{}),t[2]=R):R=t[2],R}else if(b&&(o("IGDInviteModelUtils").shouldUseInviteModelV2()||o("IGDInviteModelUtils").shouldUseInviteModel())){var L;return t[3]===Symbol.for("react.memo_cache_sentinel")?(L=d.jsx(p,{loggingEventName:"igd_invite_model_invite_sent"}),t[3]=L):L=t[3],L}else{var E;return t[4]!==n||t[5]!==C||t[6]!==i?(E=d.jsx(_,{afterSendMessage:n,showReachableInviteBanner:C,thread:i}),t[4]=n,t[5]=C,t[6]=i,t[7]=E):E=t[7],E}else{var k;return t[8]===Symbol.for("react.memo_cache_sentinel")?(k=d.jsx(m,{}),t[8]=k):k=t[8],k}}function y(t){var n=o("react-compiler-runtime").c(16),a=t.afterSendMessage,l=t.hasActivity,s=t.thread,m=(e||(e=r("useReStore")))(),p;n[0]!==m.tables.thread_nullstate||n[1]!==s.threadKey?(p=function(){return o("ReQL").fromTableAscending(m.tables.thread_nullstate).getKeyRange(s.threadKey)},n[0]=m.tables.thread_nullstate,n[1]=s.threadKey,n[2]=p):p=n[2];var _;n[3]!==m||n[4]!==s.threadKey?(_=[m,s.threadKey],n[3]=m,n[4]=s.threadKey,n[5]=_):_=n[5];var f=o("ReQLSuspense").useFirst(p,_,i.id+":270"),y;n[6]!==f?(y=f!=null?(u||(u=o("I64"))).equal(f.ctaType,(c||(c=o("LSIntEnum"))).ofNumber(r("LSNullstateCTAType").GET_STARTED)):!1,n[6]=f,n[7]=y):y=n[7];var C=y,b=l,v=o("useContactReachabilityStatus").useOtherUser(m,s.threadKey,s.threadType),S;n[8]!==a||n[9]!==C||n[10]!==b||n[11]!==v||n[12]!==s?(S=C&&!b?null:o("LSMessagingThreadTypeUtil").isOneToOne(s.threadType)?v!=null?d.jsx(h,{afterSendMessage:a,otherUser:v[1],thread:s}):r("FBLogger")("igd_web").mustfix("Missing contact row"):d.jsx(g,{afterSendMessage:a,thread:s}),n[8]=a,n[9]=C,n[10]=b,n[11]=v,n[12]=s,n[13]=S):S=n[13];var R;return n[14]!==S?(R=d.jsx(d.Fragment,{children:S}),n[14]=S,n[15]=R):R=n[15],R}function C(t){var n=o("react-compiler-runtime").c(12),a=t.afterSendMessage,l=t.thread,s=(e||(e=r("useReStore")))();r("usePrecompileURLMatcher")();var c;n[0]!==s.tables.threads||n[1]!==l.threadKey?(c=function(){return o("ReQL").fromTableAscending(s.tables.threads,["lastActivityTimestampMs"]).getKeyRange(l.threadKey).map(v)},n[0]=s.tables.threads,n[1]=l.threadKey,n[2]=c):c=n[2];var m;n[3]!==s||n[4]!==l.threadKey?(m=[s,l.threadKey],n[3]=s,n[4]=l.threadKey,n[5]=m):m=n[5];var p=o("ReQLSuspense").useFirst(c,m,i.id+":343"),_;n[6]!==p?(_=p!=null?!(u||(u=o("I64"))).equal(p,(u||(u=o("I64"))).zero):!0,n[6]=p,n[7]=_):_=n[7];var f=_,g;return n[8]!==a||n[9]!==f||n[10]!==l?(g=d.jsx(r("CometErrorBoundary.react"),{fallback:b,children:d.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:d.jsx(y,{afterSendMessage:a,hasActivity:f,thread:l})})}),n[8]=a,n[9]=f,n[10]=l,n[11]=g):g=n[11],g}function b(){return d.jsx(r("MWV2ErrorComposer.react"),{})}b.displayName=b.name+" [from "+i.id+"]";function v(e){return e.lastActivityTimestampMs}l.default=C}),98);
__d("IGDMessageRequestComposerLayout.react",["CometColumn.react","CometColumnItem.react","FocusRegion.react","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={header:{borderBottomColor:"x1bs97v6",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(25),n=e.messageRequestAccept,a=e.messageRequestBlockLeave,i=e.messageRequestDelete,l=e.messageRequestFootnote,c=e.messageRequestHeader,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x5ur3kl x13fuv20 x178xt8z"},t[0]=d):d=t[0];var m;t[1]!==c?(m=s.jsx(r("CometColumnItem.react"),{align:"center",children:c}),t[1]=c,t[2]=m):m=t[2];var p;t[3]!==l?(p=s.jsx(r("CometColumnItem.react"),{align:"center",paddingTop:12,children:l}),t[3]=l,t[4]=p):p=t[4];var _;t[5]!==m||t[6]!==p?(_=s.jsxs(r("CometColumn.react"),{paddingHorizontal:16,paddingVertical:16,xstyle:u.header,children:[m,p]}),t[5]=m,t[6]=p,t[7]=_):_=t[7];var f,g;t[8]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x78zum5 xyamay9 xv54qhq x1l90r2v xf7dkkf"},g={className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1gabggj xs9asl8 xaso8d8"},t[8]=f,t[9]=g):(f=t[8],g=t[9]);var h;t[10]!==a?(h=s.jsx("li",babelHelpers.extends({},g,{children:a})),t[10]=a,t[11]=h):h=t[11];var y,C;t[12]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("li",{"aria-hidden":!0,className:"x6usi7g x18b5jzi x1lun4ml x1c4vz4f xs83m0k xxk0z11"}),C={className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1gabggj xs9asl8 xaso8d8"},t[12]=y,t[13]=C):(y=t[12],C=t[13]);var b;t[14]!==i?(b=s.jsx("li",babelHelpers.extends({},C,{children:i})),t[14]=i,t[15]=b):b=t[15];var v;t[16]!==n?(v=n!=null?s.jsxs(s.Fragment,{children:[s.jsx("li",{"aria-hidden":!0,className:"x6usi7g x18b5jzi x1lun4ml x1c4vz4f xs83m0k xxk0z11"}),s.jsx("li",{className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1gabggj xs9asl8 xaso8d8",children:n})]}):null,t[16]=n,t[17]=v):v=t[17];var S;t[18]!==b||t[19]!==v||t[20]!==h?(S=s.jsxs("ul",babelHelpers.extends({},f,{children:[h,y,b,v]})),t[18]=b,t[19]=v,t[20]=h,t[21]=S):S=t[21];var R;return t[22]!==S||t[23]!==_?(R=s.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:o("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,children:s.jsxs("div",babelHelpers.extends({},d,{children:[_,S]}))}),t[22]=S,t[23]=_,t[24]=R):R=t[24],R}l.default=c}),98);
__d("IGDMessageRequestComposerBannerLoading.react",["IGDMessageRequestComposerLayout.react","IGDSGlimmer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={glimmerButton:{height:"x1v9usgg",maxWidth:"x193iq5w",width:"x9fslfs",$$css:!0},glimmerFootnote:{height:"x6w4g8m",maxWidth:"x7ep2pv",width:"xh8yej3",$$css:!0},glimmerHeader:{height:"x1v9usgg",maxWidth:"x256u9z",width:"xh8yej3",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(1),t;if(e[0]===Symbol.for("react.memo_cache_sentinel")){var n;t=s.jsx(r("IGDMessageRequestComposerLayout.react"),{messageRequestAccept:s.jsx(n=r("IGDSGlimmer.react"),{index:1,xstyle:u.glimmerButton}),messageRequestBlockLeave:s.jsx(n,{index:1,xstyle:u.glimmerButton}),messageRequestDelete:s.jsx(n,{index:1,xstyle:u.glimmerButton}),messageRequestFootnote:s.jsx(n,{index:1,xstyle:u.glimmerFootnote}),messageRequestHeader:s.jsx(n,{index:1,xstyle:u.glimmerHeader})}),e[0]=t}else t=e[0];return t}l.default=c}),98);
__d("IGDComposerMsys.react",["CometPlaceholder.react","IGDComposerCommon.react","IGDMessageRequestComposerBannerLoading.react","LSMessagingThreadTypeUtil","MessengerWebUXLogger","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("deferredLoadComponent")(r("requireDeferredForDisplay")("IGDMessageRequestComposerBanner.react").__setRef("IGDComposerMsys.react"));function c(e){var t=o("react-compiler-runtime").c(15),n=e.afterSendMessage,a=e.thread,l=o("LSMessagingThreadTypeUtil").isIGDMessageRequest(a),c;t[0]!==a.threadKey||t[1]!==a.threadType?(c={eventName:"composer_rendered",threadKey:a.threadKey,threadType:a.threadType},t[0]=a.threadKey,t[1]=a.threadType,t[2]=c):c=t[2];var d=r("MessengerWebUXLogger").useImpressionLoggerRef(c);if(l){var m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(r("IGDMessageRequestComposerBannerLoading.react"),{}),t[3]=m):m=t[3];var p;t[4]!==a?(p=s.jsx(r("CometPlaceholder.react"),{fallback:m,name:i.id,children:s.jsx(u,{thread:a})}),t[4]=a,t[5]=p):p=t[5];var _;return t[6]!==d||t[7]!==p?(_=s.jsx("div",{ref:d,children:p}),t[6]=d,t[7]=p,t[8]=_):_=t[8],_}var f;t[9]!==n||t[10]!==a?(f=s.jsx(r("IGDComposerCommon.react"),{afterSendMessage:n,thread:a}),t[9]=n,t[10]=a,t[11]=f):f=t[11];var g;return t[12]!==d||t[13]!==f?(g=s.jsx("div",{ref:d,children:f}),t[12]=d,t[13]=f,t[14]=g):g=t[14],g}l.default=c}),98);
__d("IGDGetHashtagRanges.react",["PolarisIGHashtagRegex","PolarisLinkBuilder"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)return[];var t=o("PolarisIGHashtagRegex").matchHashtags(e);return t.map(function(e){var t=e.endIndex,n=e.hashtag,r=e.startIndex;return{entity:{__typename:"Hashtag",uri:o("PolarisLinkBuilder").buildTagLink(n)},length:t-r,offset:r}})}l.getHashtagRanges=e}),98);
__d("IGDMessageRowIsRepliedContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(!1);function d(){return u(c)}l.IGDMessageRowIsRepliedContext=c,l.useIGDMessageRowIsRepliedContext=d}),98);
__d("IGDHiddenMessage.react",["fbt","IGDChatBubble.react","IGDMessageRowIsRepliedContext","IGDSBox.react","IgdHideReportedMessageFalcoEvent","MWXText.react","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={text:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(13),n=e.connectBottom,a=e.connectTop,i=e.precedesXMA,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={onImpressionStart:m},t[0]=l):l=t[0];var d=r("useSinglePartialViewImpression")(l),p=o("IGDMessageRowIsRepliedContext").useIGDMessageRowIsRepliedContext(),_;t[1]!==p?(_=p?s._(/*BTDS*/"You reported this message"):s._(/*BTDS*/"Hidden for you"),t[1]=p,t[2]=_):_=t[2];var f;t[3]!==_?(f=u.jsx(r("IGDSBox.react"),{xstyle:c.text,children:u.jsx(r("MWXText.react"),{color:"secondary",type:"body3",children:_})}),t[3]=_,t[4]=f):f=t[4];var g;t[5]!==n||t[6]!==a||t[7]!==i||t[8]!==f?(g=u.jsx(r("IGDChatBubble.react"),{connectBottom:n,connectTop:a,outgoing:!1,precedesXMA:i,children:f}),t[5]=n,t[6]=a,t[7]=i,t[8]=f,t[9]=g):g=t[9];var h;return t[10]!==d||t[11]!==g?(h=u.jsx(r("IGDSBox.react"),{containerRef:d,children:g}),t[10]=d,t[11]=g,t[12]=h):h=t[12],h}function m(){r("IgdHideReportedMessageFalcoEvent").log(p)}function p(){return{event_name:"user_hidden_message_impression"}}l.default=d}),226);
__d("IGDInboxGenAIStarIcon.react",["fbt","IGDSBox.react","IGDSGenAiPanoFilled24Icon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=u.jsx(r("IGDSBox.react"),{marginStart:1,children:u.jsx(r("IGDSGenAiPanoFilled24Icon.react"),{alt:s._(/*BTDS*/"Star-shaped icon for AI characters"),color:"ig-secondary-icon",size:12})}),e[0]=t):t=e[0],t}l.default=c}),226);
__d("IGDMessageContainerWithHighlightBar.react",["IGDSBox.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={container_incoming:{paddingInlineStart:"x1g0dm76",$$css:!0},container_outgoing:{paddingInlineEnd:"xpdmqnj",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(9),n=e.children,a=e.outgoing,i=a?u.container_outgoing:u.container_incoming,l;t[0]!==a?(l=!a&&s.jsx("div",{className:"x19g9edo xr9e8f9 x1e4oeot x1ui04y5 x6en5u8 x5yr21d x10l6tqk x13vifvy x51ohtg x1o0tod"}),t[0]=a,t[1]=l):l=t[1];var c;t[2]!==a?(c=a&&s.jsx("div",{className:"x19g9edo xr9e8f9 x1e4oeot x1ui04y5 x6en5u8 x5yr21d x10l6tqk x13vifvy x51ohtg xtijo5x"}),t[2]=a,t[3]=c):c=t[3];var d;return t[4]!==n||t[5]!==i||t[6]!==l||t[7]!==c?(d=s.jsxs(r("IGDSBox.react"),{position:"relative",xstyle:i,children:[l,n,c]}),t[4]=n,t[5]=i,t[6]=l,t[7]=c,t[8]=d):d=t[8],d}l.default=c}),98);
__d("IGDMessageErrorBubble.react",["fbt","IGDChatBubble.react","IGDSBox.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(10),n=e.isOutgoing,a=n?"end":"start",i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={padding:"2px 4px"},t[0]=i):i=t[0];var l=n?"white":"primary",c;t[1]===Symbol.for("react.memo_cache_sentinel")?(c=s._(/*BTDS*/"Error displaying this message"),t[1]=c):c=t[1];var d;t[2]!==l?(d=u.jsx("div",{style:i,children:u.jsx(r("MWXText.react"),{color:l,type:"body3",children:c})}),t[2]=l,t[3]=d):d=t[3];var m;t[4]!==n||t[5]!==d?(m=u.jsx(r("IGDSBox.react"),{children:u.jsx(r("IGDChatBubble.react"),{connectBottom:!1,connectTop:!1,outgoing:n,precedesXMA:!1,children:d})}),t[4]=n,t[5]=d,t[6]=m):m=t[6];var p;return t[7]!==a||t[8]!==m?(p=u.jsx(r("IGDSBox.react"),{alignItems:a,margin:1,children:m}),t[7]=a,t[8]=m,t[9]=p):p=t[9],p}l.default=c}),226);
__d("IGDMessageListConstantsOffMsys",[],(function(t,n,r,o,a,i){"use strict";var e=20,l=157,s=384,u=192,c=340,d=.6,m=c*d,p=236,_=300,f=200,g=158,h=96;i.IGD_MESSAGE_LIST_PAGE_SIZE=e,i.DEFAULT_STICKER_SIZE=l,i.IGD_MEDIA_GRID_FULL_WIDTH=s,i.IGD_MEDIA_GRID_HALF_WIDTH=u,i.IGD_MEDIA_DEFAULT_MAX_HEIGHT=c,i.IGD_REPLIED_MEDIA_SCALE_FACTOR=d,i.IGD_MEDIA_DEFAULT_MAX_REPLY_HEIGHT=m,i.IGD_MEDIA_DEFAULT_MAX_WIDTH=p,i.IGD_MEDIA_STANDARD_XMA_MAX_WIDTH=_,i.IGD_MEDIA_XMA_PORTRAIT_PREVIEW_WIDTH=f,i.IGD_MEDIA_STORY_INTERACTION_XMA_WIDTH=g,i.IGD_ROW_ACTIONS_WIDTH=h}),66);
__d("IGDMessageListVideoPlayButton.react",["BaseImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("span",{className:"x91lo7 x1lliihq xqvfhly x2hswfz x1oxljau x1ok221b x47corl x10l6tqk xyd03xr xzuapc8 x1vjfegm",children:s.jsx(r("BaseImage.react"),{height:45,src:"/images/mercury/clients/igd/playButton.png?__d=www",width:45})}),e[0]=t):t=e[0],t}l.default=u}),98);
__d("IGDMsysMusicStickerConstants",[],(function(t,n,r,o,a,i){"use strict";var e=.82,l=245,s=160,u=156,c=16,d=85,m=42,p="LICENSED_MUSIC_";i.MUSIC_STICKER_SMALL_SCREEN_SIZE_RATIO=e,i.MUSIC_STICKER_WIDTH=l,i.MUSIC_ALBUM_SIZE=s,i.VINYL_SIZE=u,i.PLAY_PAUSE_BUTTON_SIZE=c,i.VINYL_ALBUM_SIZE=d,i.PNG_PADDING_OFFSET=m,i.TRACKING_TOKEN_PREFIX=p}),66);
__d("IGDMsysMusicStickerPlayPauseButton.react",["fbt","IGDMsysMusicStickerConstants","IGDSBox.react","IGDSPlayPanoFilledIcon.react","IGDSWebPauseFilledIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={iconShadow:{filter:"x1eimgdo",$$css:!0},topOverlay:{background:"xvgn5wp",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(2),n=e.isPlaying,a;return t[0]!==n?(a=u.jsx(r("IGDSBox.react"),{height:40,position:"absolute",width:o("IGDMsysMusicStickerConstants").MUSIC_ALBUM_SIZE,xstyle:c.topOverlay,children:u.jsx(r("IGDSBox.react"),{margin:3,children:u.jsx(r("IGDSBox.react"),{xstyle:c.iconShadow,children:n?u.jsx(r("IGDSWebPauseFilledIcon.react"),{alt:s._(/*BTDS*/"Pause button"),color:"web-always-white",size:o("IGDMsysMusicStickerConstants").PLAY_PAUSE_BUTTON_SIZE}):u.jsx(r("IGDSPlayPanoFilledIcon.react"),{alt:s._(/*BTDS*/"Play button"),color:"web-always-white",size:o("IGDMsysMusicStickerConstants").PLAY_PAUSE_BUTTON_SIZE})})})}),t[0]=n,t[1]=a):a=t[1],a}l.default=d}),226);
__d("IGDMsysMusicStickerText.react",["fbt","CometPressable.react","IGDMsysMusicStickerConstants","IGDSBox.react","IGDSTextVariants.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","PolarisUA","react","react-compiler-runtime","useIGDSToaster","useIsChatTabsDisplay","usePolarisShowToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={overlay:{background:"x1ooqjeo",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(24),n=e.attributionLink,a=e.isPreview,i=e.subtitle,l=e.title,d=a===void 0?!1:a,m=r("usePolarisShowToast")(),p=r("useIGDSToaster")(),_;t[0]!==n?(_=n!=null?{url:n}:void 0,t[0]=n,t[1]=_):_=t[1];var f=_,g;t[2]!==i?(g=s._(/*BTDS*/"Profile page of {name}",[s._param("name",i)]),t[2]=i,t[3]=g):g=t[3];var h=g,y=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),C=r("MessengerWebUXLogger").useInteractionLogger(),b;t[4]!==f||t[5]!==y||t[6]!==C||t[7]!==m||t[8]!==p?(b=function(){if(f==null){var e=s._(/*BTDS*/"No profile has been linked to this artist.");o("PolarisUA").isMobile()?p.add({message:e}):m({text:e})}C==null||C({eventName:"music_sticker_attribution_link_click",flowInstanceId:y})},t[4]=f,t[5]=y,t[6]=C,t[7]=m,t[8]=p,t[9]=b):b=t[9];var v=b,S;t[10]!==i?(S=u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"webAlwaysWhite",maxLines:1,zeroMargin:!1,children:i}),t[10]=i,t[11]=S):S=t[11];var R=S,L=r("useIsChatTabsDisplay")(),E=L||o("PolarisUA").isMobile()?o("IGDMsysMusicStickerConstants").MUSIC_STICKER_SMALL_SCREEN_SIZE_RATIO:1,k=o("IGDMsysMusicStickerConstants").MUSIC_ALBUM_SIZE*E,I;t[12]!==l?(I=u.jsx(r("IGDSBox.react"),{marginBottom:2,children:u.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"webAlwaysWhite",maxLines:1,zeroMargin:!1,children:l})}),t[12]=l,t[13]=I):I=t[13];var T;t[14]!==h||t[15]!==f||t[16]!==v||t[17]!==d||t[18]!==R?(T=u.jsx(r("IGDSBox.react"),{marginBottom:1,children:d?R:u.jsx(r("CometPressable.react"),{"aria-label":h,linkProps:f,onPress:v,overlayDisabled:!0,children:R})}),t[14]=h,t[15]=f,t[16]=v,t[17]=d,t[18]=R,t[19]=T):T=t[19];var D;return t[20]!==k||t[21]!==I||t[22]!==T?(D=u.jsxs(r("IGDSBox.react"),{bottom:!0,padding:3,position:"absolute",width:k,xstyle:c.overlay,children:[I,T]}),t[20]=k,t[21]=I,t[22]=T,t[23]=D):D=t[23],D}l.default=d}),226);
__d("IGDMsysMusicStickerVinyl.react",["CometImage.react","IGDMsysMusicStickerConstants","IGDSBox.react","PolarisUA","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={centerPreviewImage:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",position:"x10l6tqk",$$css:!0},vinylContainerOffsetInbox:{marginInlineStart:"x15myx19",$$css:!0},vinylContainerOffsetSmallScreen:{marginInlineStart:"x7r4r73",$$css:!0},vinylRotation:{animationDuration:"x18ebdri",animationIterationCount:"xa4qsjk",animationName:"x1ka1v4i",animationPlayState:"xorstpt",animationTimingFunction:"x1esw782",$$css:!0},vinylRotationPlaying:{animationPlayState:"xoj058f",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(15),n=e.isPlaying,a=e.previewUrl,i=r("useIsChatTabsDisplay")(),l=i||o("PolarisUA").isMobile(),c=i||o("PolarisUA").isMobile()?o("IGDMsysMusicStickerConstants").MUSIC_STICKER_SMALL_SCREEN_SIZE_RATIO:1,d=o("IGDMsysMusicStickerConstants").VINYL_SIZE*c,m=o("IGDMsysMusicStickerConstants").VINYL_ALBUM_SIZE*c,p=(o("IGDMsysMusicStickerConstants").VINYL_SIZE+o("IGDMsysMusicStickerConstants").PNG_PADDING_OFFSET)*c,_=l?u.vinylContainerOffsetSmallScreen:u.vinylContainerOffsetInbox,f=n&&u.vinylRotationPlaying,g;t[0]!==f?(g=[u.vinylRotation,f],t[0]=f,t[1]=g):g=t[1];var h;t[2]!==a||t[3]!==m?(h=a?s.jsx(r("CometImage.react"),{src:a,width:m,xstyle:u.centerPreviewImage}):s.jsx(r("IGDSBox.react"),{color:"highlightBackground",height:m,width:m,xstyle:u.centerPreviewImage}),t[2]=a,t[3]=m,t[4]=h):h=t[4];var y;t[5]!==p?(y=s.jsx(r("CometImage.react"),{height:p,src:"/images/instagram/music/music_sticker_vinyl.png",width:p}),t[5]=p,t[6]=y):y=t[6];var C;t[7]!==d||t[8]!==g||t[9]!==h||t[10]!==y?(C=s.jsxs(r("IGDSBox.react"),{alignItems:"center",height:d,justifyContent:"center",width:d,xstyle:g,children:[h,y]}),t[7]=d,t[8]=g,t[9]=h,t[10]=y,t[11]=C):C=t[11];var b;return t[12]!==_||t[13]!==C?(b=s.jsx(r("IGDSBox.react"),{overflow:"hidden",xstyle:_,children:C}),t[12]=_,t[13]=C,t[14]=b):b=t[14],b}l.default=c}),98);
__d("IGDMusicAttributionUtils",[],(function(t,n,r,o,a,i){"use strict";var e="https://www.instagram.com/_u";function l(t){return t==null?null:t.startsWith(e)?t.slice(e.length):null}i.getAttributionInternalLink=l}),66);
__d("IGDMusicStickerAudioStateManager.react",["react","react-compiler-runtime","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.use,m=u.useEffect,p=c.createContext();function _(){return r("useStable")(f)}function f(){var e=new Set;return{pauseOtherMusicStickers:function(n){e.forEach(function(e){if(e.messageId!==n){var t=e.controller.getCurrentState();t.paused||e.controller.pause("audio_manager_initiated")}})},registerMusicSticker:function(n,r){var t={controller:r,messageId:n};return e.add(t),function(){e.delete(t)}}}}function g(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=_(),a;return t[0]!==n||t[1]!==r?(a=c.jsx(p.Provider,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function h(){return d(p)}function y(e,t){var n=o("react-compiler-runtime").c(5),r=h(),a,i;n[0]!==t||n[1]!==e||n[2]!==r?(a=function(){if(!(e==null||t==null||r==null)){var n=r.registerMusicSticker(e,t);return(function(){n()})}},i=[e,t,r],n[0]=t,n[1]=e,n[2]=r,n[3]=a,n[4]=i):(a=n[3],i=n[4]),m(a,i)}l.IGDMusicStickerAudioStateContext=p,l.useIGDMusicStickerAudioStateManagerDefinition=_,l.IGDMusicStickerAudioStateManagerProvider=g,l.useIGDMusicStickerAudioStateManager=h,l.useIGDMusicStickerRegisterInAudioStateManager=y}),98);
__d("IGDSFillOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M9 14H2a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1Zm12.999-6H16V2a1 1 0 0 0-2 0v7a1 1 0 0 0 1 1h6.999a1 1 0 0 0 0-2Z"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("IGDNavigateBackToChatTabsButton.react",["fbt","IGDNavigation","IGDSFillOutline24Icon.react","IGDSIconButton.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime","useRoutePassthroughProps"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useCallback;function m(e){var t=o("react-compiler-runtime").c(16),n=e["data-testid"],a=e.source,i=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),l=r("MessengerWebUXLogger").useInteractionLogger(),u;t[0]!==a?(u={source:a},t[0]=a,t[1]=u):u=t[1];var d;t[2]!==i||t[3]!==u?(d={eventName:"igd_navigate_back_to_chat_tabs",extraData:u,flowInstanceId:i},t[2]=i,t[3]=u,t[4]=d):d=t[4];var m=r("MessengerWebUXLogger").useImpressionLoggerRef(d),p=r("useRoutePassthroughProps")(),_=o("IGDNavigation").useIGDNavigation(),f=p==null?void 0:p.entryPointUrl,g;t[5]!==f||t[6]!==i||t[7]!==l||t[8]!==_||t[9]!==a?(g=function(){l==null||l({eventName:"igd_navigate_back_to_chat_tabs_clicked",extraData:{source:a},flowInstanceId:i}),f!=null&&_.goToPageWithUrl(String(f))},t[5]=f,t[6]=i,t[7]=l,t[8]=_,t[9]=a,t[10]=g):g=t[10];var h=g,y;t[11]===Symbol.for("react.memo_cache_sentinel")?(y=c.jsx(r("IGDSFillOutline24Icon.react"),{alt:s._(/*BTDS*/"Go Back"),color:"ig-primary-text"}),t[11]=y):y=t[11];var C;return t[12]!==m||t[13]!==h||t[14]!==n?(C=c.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:m,onClick:h,children:y}),t[12]=m,t[13]=h,t[14]=n,t[15]=C):C=t[15],C}l.default=m}),226);
__d("IGDNullStateGenAILearnMoreButton.react",["fbt","IGDSText.react","JSResourceForInteraction","PolarisFastLink.react","react","react-compiler-runtime","useIGDSLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={learnMore:{marginInlineStart:"xdwrcjd",$$css:!0}};function d(){var e=o("react-compiler-runtime").c(6),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("IGDThreadGenAIEducationalModal.react").__setRef("IGDNullStateGenAILearnMoreButton.react"),e[0]=t):t=e[0];var n=r("useIGDSLazyDialog")(t),a=n[0],i;e[1]!==a?(i=function(){return a({})},e[1]=a,e[2]=i):i=e[2];var l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx(r("IGDSText.react"),{color:"link",zeroMargin:!1,children:s._(/*BTDS*/"Learn more")}),e[3]=l):l=e[3];var d;return e[4]!==i?(d=u.jsx(r("PolarisFastLink.react"),{onClick:i,xstyle:c.learnMore,children:l}),e[4]=i,e[5]=d):d=e[5],d}l.default=d}),226);
__d("MWXAspectRatioContainer.react",["react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={position:"x1n2onr6",width:"xh8yej3",$$css:!0},c={child:{height:"x5yr21d",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},childInner:{maxHeight:"xmz0i5r",maxWidth:"x193iq5w",$$css:!0},flex:{display:"x78zum5",maxWidth:"x193iq5w",$$css:!0},inner:function(t){return[u,{paddingBottom:t!=null?"xjqpyvm":t,$$css:!0},{"--x-paddingBottom":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},outer:function(t,n,r){return[{maxHeight:r!=null?"x1jols5v":r,maxWidth:n!=null?"xf68679":n,width:t!=null?"x5lhr3w":t,$$css:!0},{"--x-maxHeight":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(r),"--x-maxWidth":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(n),"--x-width":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]}};function d(e){var t=e.children,n=e.height,r=e.maxHeight,a=e.maxWidth,i=e.width,l=i/n,u=a!=null&&r!=null?"min("+a+"px, "+r*l+"px)":r!=null?r*l+"px":a;return s.jsx(o("react-strict-dom").html.div,{style:[c.flex],children:s.jsx(o("react-strict-dom").html.div,{style:[c.outer(i,u!=null?u:"initial",r!=null?r:"initial")],children:s.jsx(o("react-strict-dom").html.div,{style:[c.inner(100/l+"%")],children:s.jsx(o("react-strict-dom").html.div,{style:[c.child],children:t==null?void 0:t(c.childInner)})})})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXMessageBubbleCornerStyles.react",[],(function(t,n,r,o,a,i,l){"use strict";var e={flatBottom:{borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",$$css:!0},flatTop:{borderStartEndRadius:"x1ga7v0g",borderStartStartRadius:"x15mokao",$$css:!0},rounded:{borderStartStartRadius:"xaymx6s",borderStartEndRadius:"x1lu5o8o",borderEndEndRadius:"x1ou5ly4",borderEndStartRadius:"xofb2d2",$$css:!0}},s={connectBottom:{borderEndStartRadius:"x1pczhz8",$$css:!0},connectTop:{borderStartStartRadius:"xjwep3j",$$css:!0}},u={connectBottom:{borderEndEndRadius:"x1wcsgtt",$$css:!0},connectTop:{borderStartEndRadius:"x1t39747",$$css:!0}};function c(t){var n,r,o,a,i,l=(n=t==null?void 0:t.align)!=null?n:"left",c=(r=t==null?void 0:t.connectBottom)!=null?r:!1,d=(o=t==null?void 0:t.connectTop)!=null?o:!1,m=(a=t==null?void 0:t.flatten)!=null?a:"none",p=(i=t==null?void 0:t.corners)!=null?i:"round",_=l==="right"?u:s;return[p==="round"&&e.rounded,d&&_.connectTop,c&&_.connectBottom,(m==="all"||m==="bottom")&&e.flatBottom,(m==="all"||m==="top")&&e.flatTop]}l.getMWXBubbleCornerStyles=c}),98);
__d("MWV2AttachmentLoadingPlaceholder.react",["InteractionTracingMetrics","MWXAspectRatioContainer.react","MWXGlimmer.react","MWXMessageBubbleCornerStyles.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect,c={glimmer:{display:"x1lliihq",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function d(e){var t=e.connectBottom,n=e.connectTop,a=e.descriptionForLogging,i=e.hasAppAttribution,l=e.hasCornerStyles,d=l===void 0?!0:l,m=e.height,p=e.maxHeight,_=p===void 0?200:p,f=e.maxWidth,g=f===void 0?480:f,h=e.mediaRenderQpl,y=e.outgoing,C=e.width,b=e.xstyle;if(u(function(){var e={string:{call_site:a}};return C!=null&&m!=null?h==null||h.addPoint("render-loading-placeholder",e):h==null||h.addPoint("render-loading-placeholder-null-dimensions",e),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-attachment-loading-placeholder","AppTiming",void 0,{call_site:a})}),function(){h==null||h.addPoint("unmount-loading-placeholder",e),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"unmount-attachment-loading-placeholder","AppTiming",void 0,{call_site:a})})}},[m,h,C,a]),C==null||m==null)return null;var v=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:y===!0?"right":"left",connectBottom:t,connectTop:n,flatten:i===!0?"bottom":"none"});return s.jsx("div",{"data-testid":void 0,children:s.jsx(r("MWXAspectRatioContainer.react"),{height:m,maxHeight:_,maxWidth:g,width:C,children:function(t){return s.jsx(r("MWXGlimmer.react"),{index:1,xstyle:[t,c.glimmer,d===!0&&v,b]})}})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXMessageImage.react",["BaseImage.react","FDSBlurredBackgroundImage.react","MWXAspectRatioContainer.react","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","height","maxHeight","maxWidth","renderImagePlaceholder","shouldBlur","width","xstyle"],s,u,c=u||(u=o("react")),d={container:function(t){return[{maxWidth:t!=null?"xf68679":t,$$css:!0},{"--x-maxWidth":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},image:{display:"x1lliihq",maxWidth:"x193iq5w",$$css:!0}};function m(t){var n,o=t.children,a=t.height,i=t.maxHeight,l=t.maxWidth,u=t.renderImagePlaceholder,m=t.shouldBlur,p=t.width,_=t.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(t,e),g=p==null||a==null?c.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(d.container(l)),{children:(n=u==null?void 0:u())!=null?n:c.jsx(r("BaseImage.react"),babelHelpers.extends({},f,{objectFit:"contain",style:{maxHeight:i+"px"},xstyle:d.image}))})):c.jsx(r("MWXAspectRatioContainer.react"),{height:a,maxHeight:i,maxWidth:l,width:p,children:function(t){var e;return(e=u==null?void 0:u())!=null?e:m!==!0?c.jsx(r("BaseImage.react"),babelHelpers.extends({height:a,width:p,xstyle:t},f)):c.jsx(r("FDSBlurredBackgroundImage.react"),babelHelpers.extends({xstyle:t},f))}});return c.jsxs("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(_),{children:[g,o]}))}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("appendParamToUrl",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=new URL(e);return r.searchParams.set(t,n),r.toString()}i.default=e}),66);
__d("useFetchAnimatedImageThumbnail",["FBLogger","MAWImageUtils","appendParamToUrl","asyncToGeneratorRuntime","justknobx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useState;function m(e,t,a,i,l){var s=o("react-compiler-runtime").c(15),u=d(null),m=u[0],p=u[1],_;s[0]!==l?(_=function(){l==null||l.endSuccessAfterDelay({bool:{thumbnail_generated_for_gif:!0}})},s[0]=l,s[1]=_):_=s[1];var f=_,g;s[2]!==l?(g=function(){l==null||l.endFailAfterDelay("gif-thumbnail-render-failed")},s[2]=l,s[3]=g):g=s[3];var h=g,y,C;s[4]!==t||s[5]!==a||s[6]!==l||s[7]!==e||s[8]!==i?(y=function(){var s=null,u=(function(){var u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){l==null||l.addPoint("gif-thumbnail-generation-started");var n;if(t==null&&e!=null?n=e:n=t==null?void 0:t.previewUrl,n==null)return null;r("justknobx")._("4526")&&(n=r("appendParamToUrl")(n,"not-from-cache-please",""));var u=yield o("MAWImageUtils").generateGIFThumbnail(n,a,i);if(l==null||l.addPoint("gif-thumbnail-generation-completed"),u!=null){l==null||l.addPoint("gif-thumbnail-generation-completed-successfully");var c=new Blob([u.jpegThumbnail]);s=URL.createObjectURL(c),p(s)}});function c(){return u.apply(this,arguments)}return c})();return u().catch(function(){l==null||l.endFailAfterDelay("gif-thumbnail-generation-failed"),r("FBLogger")("gif picker").mustfix("GIF thumbnail generation failed"),p(null)}),(function(){s!=null&&URL.revokeObjectURL(s)})},C=[t,a,l,e,i],s[4]=t,s[5]=a,s[6]=l,s[7]=e,s[8]=i,s[9]=y,s[10]=C):(y=s[9],C=s[10]),c(y,C);var b;return s[11]!==m||s[12]!==h||s[13]!==f?(b={gifThumbnail:m,onError:h,onLoad:f},s[11]=m,s[12]=h,s[13]=f,s[14]=b):b=s[14],b}l.default=m}),98);
__d("IGDPausableStickerThumbnailWithPlayButton.react",["fbt","CometPressable.react","MWV2AttachmentLoadingPlaceholder.react","MWVideoPlayerPlayButton.react","MWXMessageImage.react","react","react-compiler-runtime","useFetchAnimatedImageThumbnail"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(22),n=e.onPlay,a=e.alt,i=e.height,l=e.maxHeight,c=e.maxWidth,d=e.mediaRenderQpl,m=e.renderImagePlaceholder,p=e.src,_=e.width,f=r("useFetchAnimatedImageThumbnail")(p,null,i!=null?i:200,_!=null?_:200,d),g=f.gifThumbnail,h=f.onError,y=f.onLoad,C;t[0]!==a?(C=s._(/*BTDS*/"Tap to play GIF {gif_alt_text}",[s._param("gif_alt_text",a)]),t[0]=a,t[1]=C):C=t[1];var b=C;if(g==null){var v;return t[2]!==i||t[3]!==_?(v=u.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"IGDPausableStickerThumbnailWithPlayButton.NoGIFThumbnail",height:i,width:_}),t[2]=i,t[3]=_,t[4]=v):v=t[4],v}var S;t[5]!==b||t[6]!==n?(S=u.jsx(r("MWVideoPlayerPlayButton.react"),{alt:b,isVisible:!0,onClick:n,size:"LARGE"}),t[5]=b,t[6]=n,t[7]=S):S=t[7];var R;t[8]!==a||t[9]!==g||t[10]!==i||t[11]!==l||t[12]!==c||t[13]!==h||t[14]!==y||t[15]!==m||t[16]!==S||t[17]!==_?(R=u.jsx(r("MWXMessageImage.react"),{alt:a,height:i,maxHeight:l,maxWidth:c,onError:h,onLoad:y,renderImagePlaceholder:m,src:g,width:_,children:S}),t[8]=a,t[9]=g,t[10]=i,t[11]=l,t[12]=c,t[13]=h,t[14]=y,t[15]=m,t[16]=S,t[17]=_,t[18]=R):R=t[18];var L;return t[19]!==n||t[20]!==R?(L=u.jsx(r("CometPressable.react"),{onPress:n,overlayDisabled:!0,suppressFocusRing:!0,testid:void 0,children:R}),t[19]=n,t[20]=R,t[21]=L):L=t[21],L}l.default=c}),226);
__d("IGDPausableSticker.react",["CometPressable.react","IGDPausableStickerThumbnailWithPlayButton.react","MWXMessageImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["height","maxHeight","maxWidth","mediaRenderQpl","renderImagePlaceholder","width"],s,u=s||(s=o("react")),c=s.useState;function d(t){var n=o("react-compiler-runtime").c(29),a,i,l,s,d,m,p;n[0]!==t?(a=t.height,l=t.maxHeight,s=t.maxWidth,d=t.mediaRenderQpl,m=t.renderImagePlaceholder,p=t.width,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=d,n[6]=m,n[7]=p):(a=n[1],i=n[2],l=n[3],s=n[4],d=n[5],m=n[6],p=n[7]);var _=i,f=_.alt,g=_.src,h=c(!0),y=h[0],C=h[1];if(y){var b;n[8]===Symbol.for("react.memo_cache_sentinel")?(b=function(){return C(!1)},n[8]=b):b=n[8];var v;return n[9]!==f||n[10]!==a||n[11]!==l||n[12]!==s||n[13]!==d||n[14]!==m||n[15]!==g||n[16]!==p?(v=u.jsx(r("IGDPausableStickerThumbnailWithPlayButton.react"),{alt:f,height:a,maxHeight:l,maxWidth:s,mediaRenderQpl:d,onPlay:b,renderImagePlaceholder:m,src:g,width:p}),n[9]=f,n[10]=a,n[11]=l,n[12]=s,n[13]=d,n[14]=m,n[15]=g,n[16]=p,n[17]=v):v=n[17],v}var S;n[18]===Symbol.for("react.memo_cache_sentinel")?(S=function(){return C(!0)},n[18]=S):S=n[18];var R;return n[19]!==f||n[20]!==a||n[21]!==i.onError||n[22]!==i.onLoad||n[23]!==l||n[24]!==s||n[25]!==m||n[26]!==g||n[27]!==p?(R=u.jsx(r("CometPressable.react"),{onPress:S,overlayDisabled:!0,suppressFocusRing:!0,testid:void 0,children:u.jsx(r("MWXMessageImage.react"),{alt:f,height:a,maxHeight:l,maxWidth:s,onError:i.onError,onLoad:i.onLoad,renderImagePlaceholder:m,src:g,width:p})}),n[19]=f,n[20]=a,n[21]=i.onError,n[22]=i.onLoad,n[23]=l,n[24]=s,n[25]=m,n[26]=g,n[27]=p,n[28]=R):R=n[28],R}l.default=d}),98);
__d("IGDPlaceholderMessageBubble.react",["IGDMessageBubbleSelector.react","IGDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(14),n=e.connectBottom,a=e.connectTop,i=e.outgoing,l=e.subtitle,u=e.title,c=i?"right":"left",d,m;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"xw5ewwj x1y1aw1k xf159sx xwib8y2 xmzvs34"},m={className:"x1e56ztr"},t[0]=d,t[1]=m):(d=t[0],m=t[1]);var p;t[2]!==u?(p=s.jsx("div",babelHelpers.extends({},m,{children:s.jsx(r("IGDSText.react"),{zeroMargin:!1,children:u})})),t[2]=u,t[3]=p):p=t[3];var _;t[4]!==l?(_=s.jsx(r("IGDSText.react"),{color:"secondaryText",zeroMargin:!1,children:l}),t[4]=l,t[5]=_):_=t[5];var f;t[6]!==p||t[7]!==_?(f=s.jsxs("div",babelHelpers.extends({},d,{children:[p,_]})),t[6]=p,t[7]=_,t[8]=f):f=t[8];var g;return t[9]!==n||t[10]!==a||t[11]!==c||t[12]!==f?(g=s.jsx(r("IGDMessageBubbleSelector.react"),{align:c,color:"incoming",connectBottom:n,connectTop:a,children:f}),t[9]=n,t[10]=a,t[11]=c,t[12]=f,t[13]=g):g=t[13],g}l.default=u}),98);
__d("IGDPlaceholderMessage.react",["fbt","IGDPlaceholderMessageBubble.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=o("react-compiler-runtime").c(10),n=e.connectBottom,a=e.connectTop,i=e.mediaRenderQpl,l=e.outgoing,d=e.unsupportedType,m,p;t[0]!==i||t[1]!==d?(m=function(){i==null||i.addAnnotations({string:{unsupported_type:d!=null?d:"unknown"}}),i==null||i.endSuccessAfterDelay()},p=[i,d],t[0]=i,t[1]=d,t[2]=m,t[3]=p):(m=t[2],p=t[3]),c(m,p);var _,f;t[4]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"Use the Instagram mobile app to view this message."),f=s._(/*BTDS*/"Unsupported message"),t[4]=_,t[5]=f):(_=t[4],f=t[5]);var g;return t[6]!==n||t[7]!==a||t[8]!==l?(g=u.jsx(r("IGDPlaceholderMessageBubble.react"),{connectBottom:n,connectTop:a,outgoing:l,subtitle:_,title:f}),t[6]=n,t[7]=a,t[8]=l,t[9]=g):g=t[9],g}l.default=d}),226);
__d("IGDSReelsFilledIcon.react",["IGDSReelsPanoFilledIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=s.jsx(r("IGDSReelsPanoFilledIcon.react"),babelHelpers.extends({},e)),t[0]=e,t[1]=n):n=t[1],n}var c=s.memo(u);l.default=c}),98);
__d("IGDSViewOncePanoFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("polygon",{fill:"currentColor",points:"13.25 17 13.25 7 10.91895 7 8.19922 8.95996 8.19922 11.41406 10.75 9.7168 10.75 17 13.25 17"}),a=s.jsx("path",{d:"M2.97 12.137a1.5 1.5 0 0 0-1.5-1.482h-.02a1.5 1.5 0 0 0-1.48 1.519 11.96 11.96 0 0 0 .914 4.45 1.5 1.5 0 0 0 2.771-1.15 8.955 8.955 0 0 1-.685-3.337Zm8.02-9.064a9.066 9.066 0 0 1 3.4.279 1.5 1.5 0 0 0 .803-2.89A12.081 12.081 0 0 0 10.665.09a1.5 1.5 0 0 0-1.33 1.653 1.492 1.492 0 0 0 1.654 1.33Zm7.836 3.115a11.434 11.434 0 0 1 1.375 2.252 1.499 1.499 0 1 0 2.73-1.242 14.533 14.533 0 0 0-1.769-2.891c-.249-.297-.51-.58-.78-.845A1.5 1.5 0 0 0 18.278 5.6c.202.199.399.41.548.587ZM6.188 5.122c.194-.163.394-.317.598-.46A1.5 1.5 0 0 0 5.06 2.207a11.964 11.964 0 0 0-3.67 4.144A1.498 1.498 0 0 0 2.708 8.56c.534 0 1.052-.287 1.322-.791a8.987 8.987 0 0 1 2.157-2.648ZM9.4 20.682c-1.056-.335-2.069-.886-3.008-1.64a1.5 1.5 0 1 0-1.877 2.34c1.23.986 2.569 1.713 3.98 2.159a1.5 1.5 0 0 0 .904-2.86Zm13.213-9.196c-.811-.089-1.554.53-1.63 1.356A8.502 8.502 0 0 1 20 16.075a1.499 1.499 0 1 0 2.646 1.412 11.48 11.48 0 0 0 1.322-4.37 1.499 1.499 0 0 0-1.356-1.63Zm-5.649 7.96a9.284 9.284 0 0 1-3.129 1.394 1.5 1.5 0 1 0 .686 2.92 12.256 12.256 0 0 0 4.14-1.84 1.5 1.5 0 0 0-1.697-2.474Z",fill:"currentColor"}),t[0]=n,t[1]=a):(n=t[0],a=t[1]);var i;return t[2]!==e?(i=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a]})),t[2]=e,t[3]=i):i=t[3],i}var c=s.memo(u);l.default=c}),98);
__d("IGDXMAAttachmentReactionItem.react",["IGDChatEmoji.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={overlayReaction:{bottom:"x1ey2m1c",position:"x10l6tqk",$$css:!0},overlayReactionIncoming:{insetInlineEnd:"xorogi4",textAlign:"xp4054r",$$css:!0},overlayReactionOutgoing:{insetInlineStart:"xji1vaz",textAlign:"x1yc453h",$$css:!0},reactionIncoming:{paddingInlineStart:"x1g0dm76",textAlign:"x1yc453h",$$css:!0},reactionOutgoing:{paddingInlineEnd:"xpdmqnj",textAlign:"xp4054r",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(8),a=t.isOverlay,i=t.outgoing,l=t.reaction;if(l==null)return null;var s;n[0]!==a||n[1]!==i?(s=(e||(e=r("stylex"))).props(a?[c.overlayReaction,i?c.overlayReactionOutgoing:c.overlayReactionIncoming]:[i?c.reactionOutgoing:c.reactionIncoming]),n[0]=a,n[1]=i,n[2]=s):s=n[2];var d;n[3]!==l?(d=u.jsx(r("IGDChatEmoji.react"),{text:l}),n[3]=l,n[4]=d):d=n[4];var m;return n[5]!==s||n[6]!==d?(m=u.jsx("div",babelHelpers.extends({},s,{children:d})),n[5]=s,n[6]=d,n[7]=m):m=n[7],m}l.default=d}),98);
__d("LSMessagePointQueryStoredProcedure",["LSMessagePointQuery","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSMessagePointQuery"),a.threadKey,a.messageId,a.threadType,a.numContextMessages);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MWChatTypingIndicator.react",["MessengerWebUXLogger","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u="x1h06q2e-B",c="x1yitzd3-B",d={dot:{alignItems:"x6s0dn4",animationDuration:"xmg6eyc",animationIterationCount:"xa4qsjk",animationName:"xwnhzmj",animationTimingFunction:"x4hg4is",backgroundColor:"x1iuwi03",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",display:"x78zum5",height:"xqu0tyb",marginInlineStart:"xm2jcoa",marginInlineEnd:"x1mpyi22",marginLeft:null,marginRight:null,width:"x51ohtg",$$css:!0},dot1:{animationDelay:"x1t83zlg",$$css:!0},dot1Opacity:{animationDelay:"x1uzojwf",$$css:!0},dot2:{animationDelay:"x1x1c4bx",$$css:!0},dot2Opacity:{animationDelay:"xfjzax6",$$css:!0},dot3:{animationDelay:"x1xwhvez",$$css:!0},dot3Opacity:{animationDelay:"x1la68h3",$$css:!0},dotOpacity:{animationDuration:"xmg6eyc",animationIterationCount:"xa4qsjk",animationName:"x1bcwpiy",animationTimingFunction:"x4hg4is",opacity:"x1hc1fzr",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1ta3ar0",$$css:!0}};function m(e){var t,n=e.threadType,a=r("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"show_typing_indicators",threadType:n});return s.jsxs((t=o("react-strict-dom")).html.div,{ref:a,style:d.root,children:[s.jsx(t.html.div,{style:[d.dotOpacity,d.dot1Opacity],children:s.jsx(t.html.div,{style:[d.dot,d.dot1]})}),s.jsx(t.html.div,{style:[d.dotOpacity,d.dot2Opacity],children:s.jsx(t.html.div,{style:[d.dot,d.dot2]})}),s.jsx(t.html.div,{style:[d.dotOpacity,d.dot3Opacity],children:s.jsx(t.html.div,{style:[d.dot,d.dot3]})})]})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWEBEntrypointsKillswitch.enum",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({JEWEL_THREADLIST:"jewel_threadlist",IN_THREAD_GAP_UI:"in_thread_gap_ui",IN_THREAD_SCROLL_BANNER:"in_thread_scroll_banner",IN_THREAD_SEARCH:"in_thread_search",INBOX_INTERSTITIAL:"inbox_interstitial",INBOX_ROOT:"inbox_root",INBOX_THREADLIST:"inbox_threadlist",INBOX_THREADLIST_UNIVERSAL_SEARCH:"inbox_threadlist_universal_search",MEDIA_GALLERY_RESTORE:"media_gallery_restore",EB_SETTINGS:"eb_settings",AUTO_RESTORE:"auto_restore",DYI:"dyi",IGD_NO_KILLSWITCH_APPLICABLE:"igd_no_killswitch_applicable",NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE:"not_an_entrypoint_no_killswitch_applicable",IN_DEVELOPMENT_ADD_A_TODO_COMMENT_WITH_A_TASK_ABOVE_THIS_TO_ADD_A_KILLSWITCH:"in_development_add_a_todo_comment_with_a_task_above_this_to_add_a_killswitch",PINNED_MESSAGES:"pinned_messages",BUMP_MESSAGES:"bump_messages",SIDEBAR_SETTINGS_PRIVACY_MENU:"sidebar_settings_privacy_menu",JEWEL_EVERGREEN_PIN_UPSELL:"jewel_evergreen_pin_upsell"}),l=e;i.default=l}),66);
__d("MWMessageTableFocusTable.react",["fbt","CometKeys","FocusTable.react","emptyFunction"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c="messages_table",d=function(t,n,r){return r.getAttribute("data-scope")===c},m=o("FocusTable.react").createFocusTable(d),p={key:(e=r("CometKeys")).UP},_={key:e.DOWN},f={key:e.LEFT},g={key:e.RIGHT},h=[{command:p,description:s._(/*BTDS*/"Previous item"),handler:u=r("emptyFunction")},{command:_,description:s._(/*BTDS*/"Next item"),handler:u},{command:f,description:s._(/*BTDS*/"Next item"),handler:u},{command:g,description:s._(/*BTDS*/"Previous item"),handler:u}];l.scopeID=c,l.scopeQuery=d,l.FocusTable=m,l.commandConfigs=h}),226);
__d("MWMessageCellFocusTable.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.react","MWMessageTableFocusTable.react","focusScopeQueries","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=o("FocusTable.react").createFocusTable(o("focusScopeQueries").tabbableScopeQuery),d={key:r("CometKeys").ESCAPE},m={key:r("CometKeys").ENTER},p={key:r("CometKeys").SPACE},_=s._(/*BTDS*/"Exit focus region"),f=s._(/*BTDS*/"Enter focus region");function g(e){var t=e.children,n=e.onEnter,a=e.onEscape,i=e.onSpace,l=[];return a!=null&&l.push({command:d,description:_,handler:a}),n!=null&&l.push({command:m,description:f,handler:n}),i!=null&&l.push({command:p,description:f,handler:i}),u.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:o("MWMessageTableFocusTable.react").commandConfigs.concat(l),xstyle:!1,children:t})}g.displayName=g.name+" [from "+i.id+"]";var h=g;l.FocusTable=c,l.keyCommands=h}),226);
__d("useAttachmentDataLS",["I64","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n,a=(s||(s=r("useReStore")))(),l=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(t.threadKey,t.messageId).map(function(e){var t=c(a,e);return{attachment:e,attachmentCTAs:t}})},[t,a],i.id+":41").toSorted(function(t,n){return(e||(e=o("I64"))).compare(t.attachment.attachmentIndex,n.attachment.attachmentIndex)}),u=(n=l[0])==null?void 0:n.attachment,d=o("ReQLSuspense").useArray(function(){return u==null?o("ReQL").empty():o("ReQL").fromTableAscending(a.tables.attachment_items).getKeyRange(u.attachmentFbid).map(function(e){var t=c(a,e);return{attachmentItem:e,attachmentItemCTAs:t}})},[u,a],i.id+":60").reduce(function(e,t){var n=t.attachmentItem,r=t.attachmentItemCTAs;return e[0].push(n),e[1].push(r),e},[[],[]]),m=d[0],p=d[1],_=[];l.map(function(e){_.push(e.attachment)});var f;if(m.length>0)f=p;else{var g,h=(g=l[0])==null?void 0:g.attachmentCTAs;f=h?[h]:[]}return{attachmentCTAs:f,attachmentItems:m,attachments:_}}function c(e,t){var n={},r=t.attachmentCta1Id,a=t.attachmentCta2Id,l=t.attachmentCta3Id,s=t.defaultCtaId;return n.defaultCta=s!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(s),i.id+":113"):void 0,n.attachmentCta1=r!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(r),i.id+":121"):void 0,n.attachmentCta2=a!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(a),i.id+":129"):void 0,n.attachmentCta3=l!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(l),i.id+":137"):void 0,n}l.useAttachmentDataLS=u}),98);
__d("fetchOpenMissingMessage",["FBLogger","I64","LSFactory","LSMessagePointQueryStoredProcedure","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,a){var l,s=(e||(e=o("I64"))).to_int32((l=n.syncGroup)!=null?l:(e||(e=o("I64"))).neg_one);if(s!==-1&&s===95){r("FBLogger")("messenger_web").mustfix("fetchMissingMessage: incorrect call to MPQ with secure mailbox");return}yield t.runInTransaction(function(e){return r("LSMessagePointQueryStoredProcedure")(r("LSFactory")(e),{messageId:a,threadKey:n.threadKey,threadType:n.threadType})},"readwrite",void 0,void 0,i.id+":38")}),u.apply(this,arguments)}l.default=s}),98);
__d("fetchSecureMissingMessage",["MAWBridgeSendAndReceive","MAWMiActOnActThreadReady","MAWMpsGating","MAWPutMessagesToDB","MpsMessageToLoadResponse","MpsOverBridge","MpsTypes","WAStanzaUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r,o){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r,a){var i=yield o("MAWMiActOnActThreadReady").waitForACTThreadReady(e.tables,t,a),l=i.chatJid;if(o("MAWMpsGating").isMpsMessageRendering()){var s=yield o("MpsOverBridge").mps().loadMessage({config:{strategy:"local-first"},debug:{purpose:"fetchSecureMissingMessageFullMps"},messageId:o("MpsTypes").toMessageId(n),threadId:o("MpsTypes").toThreadId(l)});if(s.value!=null){var c=babelHelpers.extends({},o("MpsMessageToLoadResponse").messageToLoadMsgsResponse([s.value]),{hasMoreAfter:!1,hasMoreBefore:!1});yield o("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(e,c)}return}var d=yield u({config:{admin:!0,editMsgHistory:!1,media:!0,polls:!0,reactions:!1,receiverFetch:!0,xma:!0},externalId:n});yield o("MAWPutMessagesToDB").insertMessageResponseIntoDatabaseByExternalId(e,d),!(d.msgs.length>0||!r)&&(yield o("MpsOverBridge").mps().copMps.loadMsgIntoMaw({config:{shouldFetchSupplementals:!0,shouldFetchTags:!1,strategy:"full-fetch"},debug:{purpose:"fetchSecureMissingMessageM3"},messageId:o("MpsTypes").toMessageId(n),threadId:o("MpsTypes").toThreadId(l)}))}),s.apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.config,n=e.externalId;return babelHelpers.extends({},yield o("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:t,externalId:o("WAStanzaUtils").toStanzaId(n)}))}),c.apply(this,arguments)}l.default=e}),98);
__d("useMWEBBackupStateQuery.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBBackupStateQuery",selections:[{kind:"RequiredField",field:e,action:"LOG",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBBackupStateQuery",selections:[e]},params:{cacheID:"780695c71d771c39c4d001bd676844c7",id:null,metadata:{},name:"useMWEBBackupStateQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("isMWEBEntrypointEnabled",["MWEBEntrypointsKillswitch.enum","justknobx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case r("MWEBEntrypointsKillswitch.enum").INBOX_INTERSTITIAL:return r("justknobx")._("2598");case r("MWEBEntrypointsKillswitch.enum").INBOX_ROOT:return r("justknobx")._("782");case r("MWEBEntrypointsKillswitch.enum").JEWEL_THREADLIST:return r("justknobx")._("2599");case r("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST:return r("justknobx")._("2600");case r("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI:return r("justknobx")._("2601");case r("MWEBEntrypointsKillswitch.enum").IN_THREAD_SCROLL_BANNER:return r("justknobx")._("2602");case r("MWEBEntrypointsKillswitch.enum").AUTO_RESTORE:return r("justknobx")._("2603");case r("MWEBEntrypointsKillswitch.enum").IN_THREAD_SEARCH:return r("justknobx")._("2604");case r("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST_UNIVERSAL_SEARCH:return r("justknobx")._("2768");case r("MWEBEntrypointsKillswitch.enum").MEDIA_GALLERY_RESTORE:return r("justknobx")._("2841");case r("MWEBEntrypointsKillswitch.enum").PINNED_MESSAGES:return r("justknobx")._("2937");case r("MWEBEntrypointsKillswitch.enum").BUMP_MESSAGES:return!0;case r("MWEBEntrypointsKillswitch.enum").SIDEBAR_SETTINGS_PRIVACY_MENU:return r("justknobx")._("4788");case r("MWEBEntrypointsKillswitch.enum").JEWEL_EVERGREEN_PIN_UPSELL:return r("justknobx")._("1878");case r("MWEBEntrypointsKillswitch.enum").DYI:case r("MWEBEntrypointsKillswitch.enum").EB_SETTINGS:case r("MWEBEntrypointsKillswitch.enum").IGD_NO_KILLSWITCH_APPLICABLE:case r("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE:case r("MWEBEntrypointsKillswitch.enum").IN_DEVELOPMENT_ADD_A_TODO_COMMENT_WITH_A_TASK_ABOVE_THIS_TO_ADD_A_KILLSWITCH:return!0}}l.default=e}),98);
__d("useMWEBBackupStateUtil",["isMWEBEntrypointEnabled"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return!r("isMWEBEntrypointEnabled")(e)||t?0:n!=null?n:1}l.default=e}),98);
__d("useMWEBBackupState",["CometRelay","useMWEBBackupStateQuery.graphql","useMWEBBackupStateUtil"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var a,i=t.entrypoint,l=o("CometRelay").useClientQuery(e!==void 0?e:e=n("useMWEBBackupStateQuery.graphql"),{});return r("useMWEBBackupStateUtil")(i,(l==null?void 0:l.viewer)==null,l==null||(a=l.viewer)==null?void 0:a.backup_state)}l.default=s}),98);
__d("useGetOriginalMsgFromBumpMsg",["FBLogger","LSMessagingThreadTypeUtil","MAWFetchExternalIdUsingCache","MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","fetchOpenMissingMessage","fetchSecureMissingMessage","isMWBumpMessage","promiseDone","useMWEBBackupState","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var l=r("isMWBumpMessage")(t),s=(e||(e=r("useReStore")))(),u=r("useMWEBBackupState")({entrypoint:r("MWEBEntrypointsKillswitch.enum").BUMP_MESSAGES}),c=o("ReQLSuspense").useFirst(function(){return a!=null?o("ReQL").fromTableAscending(s.tables.threads,["threadKey","threadType","syncGroup"]).getKeyRange(a):o("ReQL").empty()},[s,a],i.id+":40"),d=o("ReQLSuspense").useFirst(function(){return n!=null&&l?o("ReQL").fromTableDescending(s.tables.messages.index("messageId")).getKeyRange(n):o("ReQL").empty()},[s.tables.messages,n,l],i.id+":52");if(d==null&&c!=null&&n!=null&&l)if(o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType)){var m=u===3;r("promiseDone")(o("MAWFetchExternalIdUsingCache").fetchExternalIdUsingCache(n).then(function(e){e!=null?r("promiseDone")(r("fetchSecureMissingMessage")(s,c.threadKey,e,m,"MAWFetchBumpMessage")):r("FBLogger")("mw_bump_message").warn("[useGetOriginalMsgFromBumpMsg] failed fetch external id, invalid msgId %s",n)}))}else r("promiseDone")(r("fetchOpenMissingMessage")(s,c,n));return d}l.default=s}),98);
__d("useAttachmentData",["useAttachmentDataLS","useGetOriginalMsgFromBumpMsg"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=r("useGetOriginalMsgFromBumpMsg")(e.replyType,e.replySourceId,e.threadKey),a=n!=null?n:e,i=o("useAttachmentDataLS").useAttachmentDataLS(a),l=i.attachmentCTAs,s=i.attachmentItems,u=i.attachments;return{attachmentCTAs:l,attachmentItems:s,attachments:u}}l.useAttachmentData=e}),98);
__d("MWPAttachmentDataContext",["FBLogger","I64","ReQL","ReQLSuspense","react","useAttachmentData","useAttachmentDataLS","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.createContext,p=d.useContext,_=m({attachmentCTAs:[],attachmentItems:[],attachments:[]});function f(e){var t=e.children,n=e.isSecureMessage,r=e.message,a=o("useAttachmentData").useAttachmentData(r,n);return c.jsx(_.Provider,{value:a,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=e.attachmentData,n=e.children;return c.jsx(_.Provider,{value:t,children:n})}g.displayName=g.name+" [from "+i.id+"]";function h(e){var t=e.children,n=e.message,r=o("useAttachmentDataLS").useAttachmentDataLS(n);return c.jsx(_.Provider,{value:r,children:t})}h.displayName=h.name+" [from "+i.id+"]";function y(e){var t=p(_).attachments,n=C(e);return t.length===0&&n.length>0?(r("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachments from context, instead retrieved attachments directly from LSDB"),n):t}function C(t){var n=(e||(e=r("useReStore")))();return o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(t.threadKey,t.messageId)},[n,t.messageId,t.threadKey],i.id+":98").toSorted(function(e,t){return(s||(s=o("I64"))).compare(e.attachmentIndex,t.attachmentIndex)})}function b(e){var t,n,a,i=(s||(s=o("I64"))).to_int32(e.attachmentIndex),l=(t=p(_).attachmentCTAs[i])!=null?t:{},u=v(e),c=(l==null?void 0:l.defaultCta)==null&&(u==null?void 0:u.defaultCta)!=null||(l==null?void 0:l.attachmentCta1)==null&&(u==null?void 0:u.attachmentCta1)!=null;if(u!=null&&(n=u.attachmentCta1)!=null&&(n=n.type_)!=null&&n.includes("poll")||l!=null&&(a=l.attachmentCta1)!=null&&(a=a.type_)!=null&&a.includes("poll")){var d,m,f={attachmentIndex:i,contextCta1Type:(l==null||(d=l.attachmentCta1)==null?void 0:d.type_)||"null",contextHasCta1:(l==null?void 0:l.attachmentCta1)!=null,contextHasDefaultCta:(l==null?void 0:l.defaultCta)!=null,lsCta1Type:(u==null||(m=u.attachmentCta1)==null?void 0:m.type_)||"null",lsHasCta1:(u==null?void 0:u.attachmentCta1)!=null,lsHasDefaultCta:(u==null?void 0:u.defaultCta)!=null,messageId:e.messageId||"null",shouldUseFallback:c};r("FBLogger")("messenger_web_media","poll_cta_debug").info("Poll CTA debug: %s",JSON.stringify(f))}return c?(r("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachmentCTAs from context, instead retrieved attachmentCTAs directly from LSDB"),u):l}function v(t){var n=(e||(e=r("useReStore")))(),o={};return o.defaultCta=S(n,t==null?void 0:t.defaultCtaId),o.attachmentCta1=S(n,t==null?void 0:t.attachmentCta1Id),o.attachmentCta2=S(n,t==null?void 0:t.attachmentCta2Id),o.attachmentCta3=S(n,t==null?void 0:t.attachmentCta3Id),o}function S(e,t){return o("ReQLSuspense").useFirst(function(){return t!=null?o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(t):o("ReQL").empty()},[e,t],i.id+":175")}function R(e){var t,n=(t=p(_).attachmentItems)!=null?t:[],o=L(e);return n.length===0&&o.length>0?(r("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachmentItems from context, instead retrieved attachmentItems directly from LSDB"),o):n}function L(t){var n=(e||(e=r("useReStore")))();return o("ReQLSuspense").useArray(function(){var e=t.attachmentFbid;return o("ReQL").fromTableAscending(n.tables.attachment_items).getKeyRange(e)},[t,n],i.id+":205")}l.MWPAttachmentDataContext=_,l.MWPAttachmentDataContextProvider=f,l.MWPAttachmentDataContextProviderMAW=g,l.MWPAttachmentDataContextProviderLS=h,l.useMWPGetAttachments=y,l.useMWPGetAttachmentCTAs=b,l.useMWPGetAttachmentItems=R}),98);
__d("MWPAudioWaveformUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){if(e.length>t){for(var n=e.length/t,r=[],o=0;o<t;o++){for(var a=o*n,i=(o+1)*n,l=0,s=0,u=Math.ceil(a);u<Math.floor(i);u++)u<e.length&&(s++,l+=e[u]);s+=a-Math.floor(a),l+=(a-Math.floor(a))*e[Math.floor(a)],Math.ceil(i)<e.length&&(s+=Math.ceil(i)-i,l+=(Math.ceil(i)-i)*e[Math.ceil(i)]),s>0&&r.push(l/s)}return r}else return e}function l(e){for(var t=1,n=0,r=0;r<e.length;r++)t=Math.min(e[r],t),n=Math.max(e[r],n);return t===n?e:e.map(function(e){return-t/(n-t)+1/(n-t)*e})}i.getReducedAudioWaveformDimensions=e,i.getLinearlyInterpolatedValues=l}),66);
__d("MWPIsContextBannerDisabled",["LSThreadBitOffset"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("LSThreadBitOffset").has(47,e)}l.isContextBannerDisabled=e}),98);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useMemo,m=u.useState,p="x1rutv7r-B",_="xuf935j-B";function f(e){var t=e.children,n=e.visible,r=m(n),o=r[0],a=r[1];return c(function(){n&&a(!0)},[n,a]),d(function(){return o?s.jsx("div",{className:"xqtp20y x1n2onr6 xh8yej3",children:s.jsx("div",babelHelpers.extends({},{0:{className:"x1ey2m1c x1ev5b24 x10l6tqk x1vjfegm x2mfxb x1j4bph1 xk9af5f"},1:{className:"x1ey2m1c x1ev5b24 x10l6tqk x1vjfegm x2mfxb x1j49z95 x1dufm33"}}[!!n<<0],{onAnimationEnd:function(t){n||a(!1)},children:t}))}):null},[n,o,a,t])}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("MWPMessageFooter.react",["react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.Children,d={container:{backgroundColor:"x1eb86dx",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function m(t){var n=t.children,o=t.itemsXstyle,a=t.outgoing,i=t.xstyle,l=c.toArray(n).filter(Boolean);return l.length===0?null:u.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(d.container,i),{role:"none",children:[l.map(function(t,n){return u.createElement("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(d.items,o),{key:""+n,role:"none"}),t)}),a?null:u.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"})]}))}m.displayName=m.name+" [from "+i.id+"]",l.MWPMessageFooter=m}),98);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=2,c={gridImage:{bottom:"x1ey2m1c",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0}};function d(e){var t=e.urls;return s.jsx("ul",{className:"x78zum5 x1a02dak xe9ewy2 x1kgmq87",children:t.map(function(e){return s.jsx("li",{className:"x1yu6fn4",children:s.jsx("div",{className:"xqtp20y xwklpps xr9ek0c x1vrad04 x1n2onr6",children:s.jsx(r("BaseImage.react"),{src:e,xstyle:c.gridImage})})},e)})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWPThreadContextBanner.react",["LSThreadTitle.react","MWPIsContextBannerDisabled","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,n=e.renderNullStateDescription,a=e.renderThreadPicture,i=e.renderThreadTitle,l=e.thread,u=l.nullstateDescriptionText1,c=l.nullstateDescriptionText2,d=l.nullstateDescriptionText3,m=l.nullstateDescriptionType1,p=l.nullstateDescriptionType2,_=l.nullstateDescriptionType3;return o("MWPIsContextBannerDisabled").isContextBannerDisabled(l)?null:s.jsxs(s.Fragment,{children:[a==null?void 0:a(l),i==null?void 0:i(s.jsx(r("LSThreadTitle.react"),{thread:l})),u!=null&&m!=null&&(t=n==null?void 0:n(u,m))!=null?t:null,c!=null&&p!=null?n==null?void 0:n(c,p):null,d!=null&&_!=null?n==null?void 0:n(d,_):null]})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWXIcon_DEPRECATED.react",["cr:2058","cr:6570","getMDSIconColorCometFallback","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["backgroundEnabled","color"],u,c=u||(u=o("react"));function d(t){var r=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.backgroundEnabled,l=a.color,u=babelHelpers.objectWithoutPropertiesLoose(a,s);return n("cr:6570")!=null?c.jsx(n("cr:6570"),babelHelpers.extends({color:o("getMDSIconColorCometFallback").getMDSIconColorCometFallback(l),ref:r},u)):n("cr:2058")!=null?c.jsx(n("cr:2058"),babelHelpers.extends({backgroundEnabled:i,color:l,ref:r},u)):null}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXMessageBaseMessageListText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function c(e){var t=e.outgoing,n=e.ref,a=e.text,i=e.xstyle,l=e.ranges,c=e.renderers,d=e.transforms;return a==null?null:s.jsx(r("MWXText.react"),{color:t?"white":"primary",type:"body3",children:s.jsx(o("react-strict-dom").html.div,{dir:"auto",ref:n,style:[u.regular,t?u.outgoing:u.incoming,i],children:s.jsx(r("MWXMessageTextWithEntities.react"),{ranges:l,renderers:c,text:a,transforms:d!=null?d:o("MWChatTextTransform").textTransforms,withParagraphs:!1})})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("calculateIGDStickerDimensions",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=e!=null?e:void 0,o=t!=null?t:void 0;if(r==null||o==null)return[r,o];var a=o>r?n/o:n/r;return[r*a,o*a]}i.default=e}),66);
__d("generateIGDXMAMediaData",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return{carousel_share_child_media_id:"",client_context:"",code:t,id:e,media_type:1,organic_tracking_token:"",original_height:1,original_width:1,preview:"",taken_at:0,upcoming_event:null,user:""}}i.default=e}),66);
__d("getIGDCannesLeaveGroupStorageKey",[],(function(t,n,r,o,a,i){"use strict";function e(e){return"__IGDCannesLeaveGroupStorageKey."+e+"__"}i.default=e}),66);
__d("getIGDShortCodeFromMediaDeeplinkUrl",["ConstUriUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)return null;var t=o("ConstUriUtils").getUri(e),n=t==null?void 0:t.getQueryParam("shortcode");if(n!=null)return typeof n=="string"?n:JSON.stringify(n);var r,a=t==null||(r=t.stripTrailingSlash())==null?void 0:r.getPath().split("/");return a!=null&&a.length>1?a[a.length-1]:null}l.default=e}),98);
__d("getInstagramRelativeUrl",[],(function(t,n,r,o,a,i){"use strict";function e(e){if(e==null)return"";var t=e.getPath()||"",n=e.getQueryString()||"";return t!==""?t+"?"+n:""}i.default=e}),66);
__d("getMAWLinkEntityRenderer.react",["E2EEMessagingLinkContext.react","MWMessageCellFocusTable.react","MWXLink.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.encryptedLink,n=e.target,a=e.testid,i=e.xstyle;return function(e,a){return s.jsx(o("MWMessageCellFocusTable.react").FocusTable[2],{children:s.jsx("span",{role:"gridcell",children:s.jsx(o("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{inThread:!0,isSecure:t,children:s.jsx(r("MWXLink.react"),{encryptedLink:t,href:a.uri,target:n,testid:void 0,xstyle_DEPRECATED:i,children:e})})})})}}l.default=u}),98);
__d("isCTAHrefValid",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.startsWith("http")||e.startsWith("/")}i.default=e}),66);
__d("useIGDComposerBlockType_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIGDComposerBlockType_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"system_folder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"instamadillo_cutover",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reachability_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"input_mode",storageKey:null},{alias:null,args:null,concreteType:"XFBIGDirectClientPayloadDMSettings",kind:"LinkedField",name:"dm_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBIGDChannelCreatorBroadcastThreadData",kind:"LinkedField",name:"creator_broadcast_thread_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_channel_paused",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBIGDHiddenChatInfoType",kind:"LinkedField",name:"hidden_chat_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null}],storageKey:null}],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("useIGDComposerBlockType.react",["CometRelay","MessagingThreadSubtype","getJSEnumSafe","gkx","isIGDChannelThreadSubtype","isIGDMessageRequest","useIGDComposerBlockType_XFBIGDirectViewerThread.graphql","useReadOnlyFeatureLimitsOffMsys"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a){var i,l=o("CometRelay").useFragment(e!==void 0?e:e=n("useIGDComposerBlockType_XFBIGDirectViewerThread.graphql"),t),s=r("useReadOnlyFeatureLimitsOffMsys")(a).length>0;if(s)return"read_only_feature_limited";if(l==null)return null;var u=l.creator_broadcast_thread_data,c=l.dm_settings,d=l.input_mode,m=l.instamadillo_cutover,p=l.is_group,_=l.reachability_status,f=l.system_folder,g=l.thread_subtype,h=l.users,y=l.viewer_id;if(m!=null&&m!=="DEFAULT")return(c==null?void 0:c.mode)===!0?"instamadillo_dm_block":"instamadillo_tlc_block";if(p===!0){if(d===1)return"input_mode_disabled_for_group_thread"}else{var C;if(_==="UNREACHABLE_R_ACCOUNT_TEEN_INTERACTION")return"cannes_composer_block";if(r("gkx")("8574")===!0&&_==="UNREACHABLE_INVITE_MODEL_BLOCK_COMPOSER")return"1on1_unreachable_invite_model";var b=h.find(function(e){return e.id!==y});if((b==null||(C=b.friendship_status)==null?void 0:C.is_restricted)===!0)return"1on1_restricted_user";var v;if((b==null||(v=b.friendship_status)==null?void 0:v.blocking)===!0)return"1on1_blocked_user"}if(r("isIGDMessageRequest")(f))return"message_request";if(d===4)return"input_mode_partnership_thread_disabled_for_creator";if(r("isIGDChannelThreadSubtype")(g)&&(u==null?void 0:u.is_channel_paused)===!0)return"broadcast_channel_ended";if(p===!0&&l.system_folder==="SPAM"&&((i=l.hidden_chat_info)==null?void 0:i.status)==="HIDDEN")return"hidden_group_chat_in_spam_folder";var S=r("getJSEnumSafe")(r("MessagingThreadSubtype"),g);return S===r("MessagingThreadSubtype").IG_SUPPORT_MESSAGING_THREAD?"support_thread_composer_block":d!=null&&d!==0?"fallback":null}l.default=s}),98);
__d("useIGDRelativeTimeStamp",["fbt","ServerTime","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=6e4,u=e*60;function c(e,t){return e+t>=o("ServerTime").getMillis()}function d(e,t){var n=new Date(o("ServerTime").getMillis());n.setDate(n.getDate()-t);var r=new Date(e);return n.getDay()===r.getDay()&&n.getMonth()===r.getMonth()?n.getFullYear()===r.getFullYear():!1}function m(t){var n=o("react-compiler-runtime").c(7);if(c(t,e)){var r;return n[0]===Symbol.for("react.memo_cache_sentinel")?(r=s._(/*BTDS*/"just now"),n[0]=r):r=n[0],r}else if(c(t,e*59)){var a;return n[1]!==t?(a=s._(/*BTDS*/"{mins} m ago",[s._param("mins",Math.floor((o("ServerTime").getMillis()-t)/e).toString())]),n[1]=t,n[2]=a):a=n[2],a}else if(c(t,u*23)){var i;return n[3]!==t?(i=s._(/*BTDS*/"{hours} h ago",[s._param("hours",Math.floor((o("ServerTime").getMillis()-t)/u).toString())]),n[3]=t,n[4]=i):i=n[4],i}else if(d(t,0)){var l;return n[5]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"today"),n[5]=l):l=n[5],l}else if(d(t,1)){var m;return n[6]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"yesterday"),n[6]=m):m=n[6],m}else return}l.default=m}),226);
__d("useIGDShowCannesLeaveGroupDialog_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIGDShowCannesLeaveGroupDialog_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_cannes",storageKey:null}],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("useIGDShowCannesLeaveGroupDialog.react",["CometRelay","JSResourceForInteraction","PolarisWebStorage","getIGDCannesLeaveGroupStorageKey","react","react-compiler-runtime","useIGDSLazyDialog","useIGDShowCannesLeaveGroupDialog_XFBIGDirectViewerThread.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useState;function c(t){var a=o("react-compiler-runtime").c(1),i=u(!1),l=i[0],s=i[1],c;a[0]===Symbol.for("react.memo_cache_sentinel")?(c=r("JSResourceForInteraction")("IGDCannesLeaveGroupDialog.react").__setRef("useIGDShowCannesLeaveGroupDialog.react"),a[0]=c):c=a[0];var m=r("useIGDSLazyDialog")(c),p=m[0],_=o("CometRelay").useFragment(e!==void 0?e:e=n("useIGDShowCannesLeaveGroupDialog_XFBIGDirectViewerThread.graphql"),t);if(!(_==null||_.is_group===!1||_.thread_fbid==null)){var f=_.thread_fbid,g=r("PolarisWebStorage").getLocalStorage(),h=r("getIGDCannesLeaveGroupStorageKey")(f),y=(g==null?void 0:g.getItem(h))==="true",C=function(){g==null||g.setItem(h,"true")};_.users.some(d)&&l===!1&&y===!1&&(p({threadFbid:f},C),s(!0))}}function d(e){return e.is_cannes===!0}l.default=c}),98);
__d("useMWPCombineTextRenderers",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t={};return e.forEach(function(e){if(e!=null){var n=e[0],r=e[1],o=t[n];t[n]=o!=null?o.concat([r]):[r]}}),t}i.default=e}),66);
__d("useMWPLinkRendererFactory",["MWPThreadCapabilitiesContext","getMAWLinkEntityRenderer.react","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),n=t.disableLinks;return function(t,o,a,i){return r("gkx")("24165")&&n?void 0:[a,r("getMAWLinkEntityRenderer.react")({encryptedLink:e,target:i,testid:o,xstyle:t})]}}l.default=e}),98);
__d("useIGDTextRenderers",["MWChatTextFormatting","MWMessageCellFocusTable.react","PolarisUA","react","react-compiler-runtime","useMWPCombineTextRenderers","useMWPLinkRendererFactory"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c={bold:{fontWeight:"x1s688f",$$css:!0},link:{color:"x7l2uk3",textDecoration:"x1bvjpef",":visited_color":"x17kgsl5",$$css:!0},regularIncoming:{color:"xzsf02u",":visited_color":"x17kgsl5",$$css:!0},regularOutgoing:{color:"x14ctfv",":visited_color":"x17kgsl5",$$css:!0},textPrecedesXMA:{color:"x5n08af",":visited_color":"x17kgsl5",$$css:!0}},d=["Ai",function(e){return s.jsx(o("MWMessageCellFocusTable.react").FocusTable[2],{children:s.jsx("span",{className:"x1s688f",role:"gridcell",children:e})})}],m=["Command",function(e){return s.jsx(o("MWMessageCellFocusTable.react").FocusTable[2],{children:s.jsx("span",{className:"x1s688f",role:"gridcell",children:e})})}];function p(e,t,n,a){var i=o("react-compiler-runtime").c(18),l=r("useMWPLinkRendererFactory")(t),s=n&&a?c.textPrecedesXMA:n?c.regularOutgoing:c.regularIncoming,u=o("PolarisUA").isMobile()?"_self":"_blank",p;i[0]!==l?(p=l([c.link],"ig_chat_message_regular_link","Link",u),i[0]=l,i[1]=p):p=i[1];var _;i[2]!==l||i[3]!==s?(_=l([c.bold,s],"ig_profile_link","Profile",u),i[2]=l,i[3]=s,i[4]=_):_=i[4];var f;i[5]!==l||i[6]!==s?(f=l([c.bold,s],"ig_chat_message_regular_hashtag","Hashtag",u),i[5]=l,i[6]=s,i[7]=f):f=i[7];var g;i[8]!==p||i[9]!==_||i[10]!==f?(g=[p,_,f,d,m],i[8]=p,i[9]=_,i[10]=f,i[11]=g):g=i[11];var h=r("useMWPCombineTextRenderers")(g),y;if(i[12]!==e||i[13]!==h||i[14]!==n){if(y=babelHelpers.extends({},h),e===!0){var C=n?o("MWChatTextFormatting").messageRenderer:o("MWChatTextFormatting").messageIncomingRenderer,b;i[16]!==C?(b=[C],i[16]=C,i[17]=b):b=i[17],y.MessengerTextFormatting=b}i[12]=e,i[13]=h,i[14]=n,i[15]=y}else y=i[15];return y}l.default=p}),98);/*FB_PKG_DELIM*/
__d("BarcelonaCommonStrings",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e="Threads",u=s._(/*BTDS*/"Something went wrong"),c=s._(/*BTDS*/"Something went wrong. Please try again later."),d=s._(/*BTDS*/"Report a problem");l.APP_NAME=e,l.GENERIC_ERROR_MESSAGE=u,l.GENERIC_ERROR_MESSAGE_WITH_RETRY=c,l.REPORT_PROBLEM_LABEL=d}),226);
__d("BarcelonaWebStorage",["WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){this.$1=e}var n=t.prototype;return n.getItem=function(t){return this.$1.getItem(t)},n.removeItem=function(t){this.$1.removeItem(t)},n.setItemGuarded=function(n,o){return(e||(e=r("WebStorage"))).setItemGuarded(this.$1,n,o)},n.setItemOrThrow=function(t,n){this.$1.setItem(t,n)},t})(),u=(function(){function e(){this.$1=new Map}var t=e.prototype;return t.getItem=function(t){return this.$1.get(t)},t.removeItem=function(t){this.$1.delete(t)},t.setItemGuarded=function(t,n){return this.setItemOrThrow(t,n)},t.setItemOrThrow=function(t,n){this.$1.set(t,n)},e})(),c=new u;function d(){var t=(e||(e=r("WebStorage"))).getLocalStorage();return t==null?c:new s(t)}function m(){var t=(e||(e=r("WebStorage"))).getLocalStorageForRead();return t==null?c:new s(t)}function p(){var t=(e||(e=r("WebStorage"))).getSessionStorage();return t==null?c:new s(t)}function _(){var t=(e||(e=r("WebStorage"))).getSessionStorageForRead();return t==null?c:new s(t)}l.getLocalStorage=d,l.getLocalStorageForRead=m,l.getSessionStorage=p,l.getSessionStorageForRead=_}),98);
__d("BarcelonaWebStorageKey",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({BADGE:"barcelona_logged_out_home_badge",BIRTHDAY:"th_signup",CAN_LOG_TO_CONSOLE:"can_log_to_console",IS_SUH_ENABLED:"is_suh_enabled",COOKIE_BANNER:"cb",CONSOLE_LOG_FILTER:"console_log_filter",DA_INFO_DISMISSED:"th_da_info_dismissed",DA_NUX_COUNT:"th_da_nux_count",DA_NUX_DISMISSED:"th_da_nux_dismissed",DARK_MODE:"dark_mode",DRAFTS:"draft",FEDIVERSE_BETA_NOTICE:"fediverse_beta_banner_dismissed",FEDIVERSE_COMPOSER_REMINDER:"fediverse_composer_reminder_dismissed",FLAIR_PICK_TOOLTIP_SHOWN:"communities_pick_tooltip_shown",FLAIR_MANAGE_TOOLTIP_SHOWN:"communities_manage_tooltip_shown",HIDDEN_POSTS:"barcelona_hidden_post_ids",MOBILE_UPSELL:"barcelona_mobile_upsell_state",MULTIPLE_DRAFTS_NUX:"multiple_drafts_tooltip_shown",ORIGINAL_REFERRER:"original_referrer",PIN_TO_HOME:"pin_tooltip_shown",SHARE_FROM_INSTAGRAM_TOOLTIP_SHOWN:"share_from_instagram_tooltip_shown_storage_key",SHARE_TO_IG_NUX:"share_to_ig_tooltip_shown",SPOILERS_COMPOSER_BANNER:"spoilers_banner_shown",SPOILERS_COMPOSER_BANNER_COUNT:"spoilers_banner_count",TURKEY_QP_DISMISSED:"barcelona_turkey_qp_dismissed",THREADS_ONLY_TOS_QP_DISMISSED:"barcelona_threads_only_qp_dismissed",XMT:"barcelona_xmt",SNIPPETS_UPSELL_DISMISSED:"barcelona_snippets_upsell_dismissed",SNIPPETS_UPSELL_COUNT:"barcelona_snippets_upsell_count",SNIPPETS_UPSELL_COOLDOWN:"barcelona_snippets_upsell_cooldown"}),l=e;i.default=l}),66);
__d("CometDarkModeContext",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({currentSetting:"DISABLED",onDarkModeToggle:r("emptyFunction"),setDarkModeSetting:r("emptyFunction")});l.default=u}),98);
__d("useSystemPrefersDarkMode",["CometDarkModeSetting","ExecutionEnvironment","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useLayoutEffect,d=u.useState,m="(prefers-color-scheme: dark)",p=new Set;if(window.matchMedia){var _=function(t){p.forEach(function(e){return e(t)})},f=window.matchMedia(m);f.addListener(_)}function g(t){if(!(e||(e=r("ExecutionEnvironment"))).canUseDOM){var n=t();return n==="ENABLED"||n==="USE_SYSTEM"&&o("CometDarkModeSetting").initialGuessForDarkModeOnClient}return window.matchMedia!=null&&window.matchMedia(m).matches}function h(e){var t=d(function(){return g(e)}),n=t[0],r=t[1];return c(function(){var e=function(t){r(t.matches)};return p.add(e),function(){p.delete(e)}},[]),n}l.getSystemPrefersDarkMode=g,l.useSystemPrefersDarkMode=h}),98);
__d("BarcelonaDarkModeStateProvider.react",["BarcelonaWebStorage","BarcelonaWebStorageKey","BaseThemeConfigContext","BaseThemeDisplayModeContext","CometDarkModeContext","CometDarkModeRootClass","gkx","react","refine","useCometSetDarkModeMetaContent","useSystemPrefersDarkMode"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.unstable_ViewTransition,d=u.useCallback,m=u.useLayoutEffect,p=u.useMemo,_=u.useState,f=r("gkx")("4174"),g="__fb-light-mode",h="__fb-dark-mode",y={darkClassName:h,darkVariables:{},lightClassName:g,lightVariables:{}};function C(e){var t=o("refine").coercion(o("refine").stringLiterals({DISABLED:"DISABLED",ENABLED:"ENABLED",USE_SYSTEM:"USE_SYSTEM"}));return t(e)}var b={get:function(){var e=o("BarcelonaWebStorage").getLocalStorage().getItem(r("BarcelonaWebStorageKey").DARK_MODE);return C(e)},set:function(t){o("BarcelonaWebStorage").getLocalStorage().setItemGuarded(r("BarcelonaWebStorageKey").DARK_MODE,t)}};function v(){var e=b.get();return e!=null?e:"USE_SYSTEM"}function S(e,t){return e==="USE_SYSTEM"?t:e==="ENABLED"}function R(){var e=v(),t=o("useSystemPrefersDarkMode").getSystemPrefersDarkMode(v),n=S(e,t);o("CometDarkModeRootClass").updateDarkModeRootClass(n?"ENABLED":"DISABLED"),o("useCometSetDarkModeMetaContent").setDarkModeMetaContent(n)}function L(e){var t=e.children,n=o("useSystemPrefersDarkMode").useSystemPrefersDarkMode(v),a=_(v),i=a[0],l=a[1],u=S(i,n);o("useCometSetDarkModeMetaContent").useCometSetDarkModeMetaContent(u),m(function(){o("CometDarkModeRootClass").updateDarkModeRootClass(u?"ENABLED":"DISABLED")},[i,u,n]);var g=u?"dark":"light",h=d(function(){g==="dark"?(l("DISABLED"),b.set("DISABLED")):(l("ENABLED"),b.set("ENABLED"))},[g]),C=d(function(e){l(e),b.set(e)},[]),R=p(function(){return{currentSetting:i,onDarkModeToggle:h,setDarkModeSetting:C}},[i,h,C]);return s.jsx(r("BaseThemeConfigContext").Provider,{value:y,children:s.jsx(r("BaseThemeDisplayModeContext").Provider,{value:g,children:s.jsx(r("CometDarkModeContext").Provider,{value:R,children:f?s.jsx(c,{update:{default:"none","update-theme":"root"},children:t}):t})})})}L.displayName=L.name+" [from "+i.id+"]",l.initDarkMode=R,l.BarcelonaDarkModeStateProvider=L}),98);
__d("BarcelonaHeaderLogoIcon.react",["BarcelonaCommonStrings","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={logo:{cursor:"x1ypdohk",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(5),a=t.xstyle,i;n[0]!==a?(i=(e||(e=r("stylex"))).props(c.logo,a),n[0]=a,n[1]=i):i=n[1];var l;n[2]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx("path",{d:"M141.537 88.9883C140.71 88.5919 139.87 88.2104 139.019 87.8451C137.537 60.5382 122.616 44.905 97.5619 44.745C97.4484 44.7443 97.3355 44.7443 97.222 44.7443C82.2364 44.7443 69.7731 51.1409 62.102 62.7807L75.881 72.2328C81.6116 63.5383 90.6052 61.6848 97.2286 61.6848C97.3051 61.6848 97.3819 61.6848 97.4576 61.6855C105.707 61.7381 111.932 64.1366 115.961 68.814C118.893 72.2193 120.854 76.925 121.825 82.8638C114.511 81.6207 106.601 81.2385 98.145 81.7233C74.3247 83.0954 59.0111 96.9879 60.0396 116.292C60.5615 126.084 65.4397 134.508 73.775 140.011C80.8224 144.663 89.899 146.938 99.3323 146.423C111.79 145.74 121.563 140.987 128.381 132.296C133.559 125.696 136.834 117.143 138.28 106.366C144.217 109.949 148.617 114.664 151.047 120.332C155.179 129.967 155.42 145.8 142.501 158.708C131.182 170.016 117.576 174.908 97.0135 175.059C74.2042 174.89 56.9538 167.575 45.7381 153.317C35.2355 139.966 29.8077 120.682 29.6052 96C29.8077 71.3178 35.2355 52.0336 45.7381 38.6827C56.9538 24.4249 74.2039 17.11 97.0132 16.9405C119.988 17.1113 137.539 24.4614 149.184 38.788C154.894 45.8136 159.199 54.6488 162.037 64.9503L178.184 60.6422C174.744 47.9622 169.331 37.0357 161.965 27.974C147.036 9.60668 125.202 0.195148 97.0695 0H96.9569C68.8816 0.19447 47.2921 9.6418 32.7883 28.0793C19.8819 44.4864 13.2244 67.3157 13.0007 95.9325L13 96L13.0007 96.0675C13.2244 124.684 19.8819 147.514 32.7883 163.921C47.2921 182.358 68.8816 191.806 96.9569 192H97.0695C122.03 191.827 139.624 185.292 154.118 170.811C173.081 151.866 172.51 128.119 166.26 113.541C161.776 103.087 153.227 94.5962 141.537 88.9883ZM98.4405 129.507C88.0005 130.095 77.1544 125.409 76.6196 115.372C76.2232 107.93 81.9158 99.626 99.0812 98.6368C101.047 98.5234 102.976 98.468 104.871 98.468C111.106 98.468 116.939 99.0737 122.242 100.233C120.264 124.935 108.662 128.946 98.4405 129.507Z"}),n[2]=l):l=n[2];var s;return n[3]!==i?(s=u.jsx("svg",babelHelpers.extends({"aria-label":o("BarcelonaCommonStrings").APP_NAME},i,{fill:"var(--icon-primary)",height:"100%",role:"img",viewBox:"0 0 192 192",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:l})),n[3]=i,n[4]=s):s=n[4],s}l.default=d}),98);
__d("BarcelonaStyleXDarkTheme",[],(function(t,n,r,o,a,i){var e=Object.freeze({"fds-black":"black","fds-black-alpha-05":"rgba(0, 0, 0, 0.05)","fds-black-alpha-10":"rgba(0, 0, 0, 0.1)","fds-black-alpha-15":"rgba(0, 0, 0, 0.15)","fds-black-alpha-20":"rgba(0, 0, 0, 0.2)","fds-black-alpha-30":"rgba(0, 0, 0, 0.3)","fds-black-alpha-40":"rgba(0, 0, 0, 0.4)","fds-black-alpha-50":"rgba(0, 0, 0, 0.5)","fds-black-alpha-60":"rgba(0, 0, 0, 0.6)","fds-black-alpha-80":"rgba(0, 0, 0, 0.8)","fds-blue-05":"black","fds-blue-30":"black","fds-blue-40":"black","fds-blue-60":"black","fds-blue-70":"black","fds-blue-80":"black","fds-button-text":"black","fds-comment-background":"black","fds-dark-mode-gray-35":"black","fds-dark-mode-gray-50":"black","fds-dark-mode-gray-70":"black","fds-dark-mode-gray-80":"black","fds-dark-mode-gray-90":"black","fds-dark-mode-gray-100":"black","fds-gray-00":"black","fds-gray-05":"black","fds-gray-10":"black","fds-gray-20":"black","fds-gray-25":"black","fds-gray-30":"black","fds-gray-45":"black","fds-gray-70":"black","fds-gray-80":"black","fds-gray-90":"black","fds-gray-100":"black","fds-green-55":"black","fds-green-60":"#31A73B","fds-green-65":"black","fds-highlight":"black","fds-highlight-cell-background":"black","fds-primary-icon":"white","fds-primary-text":"white","fds-red-55":"black","fds-soft":"cubic-bezier(.08,.52,.52,1)","fds-spectrum-aluminum-tint-70":"black","fds-spectrum-blue-gray-tint-70":"black","fds-spectrum-cherry":"black","fds-spectrum-cherry-tint-70":"black","fds-spectrum-grape-tint-70":"black","fds-spectrum-grape-tint-90":"black","fds-spectrum-lemon-dark-1":"black","fds-spectrum-lemon-tint-70":"black","fds-spectrum-lime":"black","fds-spectrum-lime-tint-70":"black","fds-spectrum-orange-tint-70":"black","fds-spectrum-orange-tint-90":"black","fds-spectrum-seafoam-tint-70":"black","fds-spectrum-slate-dark-2":"black","fds-spectrum-slate-tint-70":"black","fds-spectrum-teal":"black","fds-spectrum-teal-dark-1":"black","fds-spectrum-teal-dark-2":"black","fds-spectrum-teal-tint-70":"black","fds-spectrum-teal-tint-90":"black","fds-spectrum-tomato":"black","fds-spectrum-tomato-tint-30":"black","fds-spectrum-tomato-tint-90":"black","fds-strong":"cubic-bezier(.12,.8,.32,1)","fds-unified-blue-35":"black","fds-unified-gray-20":"black","fds-white":"black","fds-white-alpha-05":"rgba(255, 255, 255, 0.05)","fds-white-alpha-10":"rgba(255, 255, 255, 0.1)","fds-white-alpha-20":"rgba(255, 255, 255, 0.2)","fds-white-alpha-30":"rgba(255, 255, 255, 0.3)","fds-white-alpha-40":"rgba(255, 255, 255, 0.4)","fds-white-alpha-50":"rgba(255, 255, 255, 0.5)","fds-white-alpha-60":"rgba(255, 255, 255, 0.6)","fds-white-alpha-80":"rgba(255, 255, 255, 0.8)","fds-yellow-20":"black",accent:"hsl(214, 100%, 59%)","always-white":"#ffffff","always-black":"#000000","always-dark-gradient":"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.6))","always-dark-overlay":"rgba(0, 0, 0, 0.4)","always-light-overlay":"rgba(255, 255, 255, 0.4)","always-gray-40":"#65676B","always-gray-75":"#BCC0C4","always-gray-95":"#F0F2F5","attachment-footer-background":"rgba(255,255,255,0.1)","background-deemphasized":"rgba(255,255,255,0.1)","badge-background-color-blue":"var(--accent)","badge-background-color-dark-gray":"var(--secondary-icon)","badge-background-color-gray":"var(--disabled-icon)","badge-background-color-green":"var(--positive)","badge-background-color-light-blue":"var(--highlight-bg)","badge-background-color-red":"var(--notification-badge)","badge-background-color-yellow":"var(--base-lemon)","base-blue":"#1877F2","base-cherry":"#F3425F","base-grape":"#9360F7","base-lemon":"#F7B928","base-lime":"#45BD62","base-pink":"#FF66BF","base-seafoam":"#54C7EC","base-teal":"#2ABBA7","base-tomato":"#FB724B","text-badge-info-background":"hsl(214, 100%, 59%)","text-badge-success-background":"#31A24C","text-badge-attention-background":"hsl(40, 89%, 52%)","text-badge-critical-background":"#e41e3f","blue-link":"#4599FF","border-focused":"#8A8D91","card-background":"#242526","card-background-flat":"#323436","comment-background":"#3A3B3C","comment-footer-background":"#4E4F50","dataviz-primary-1":"rgb(0,174,143)","dataviz-blue-primary":"#1D85FC","dataviz-blue-secondary":"#EBF5FF","dataviz-orange":"#D06C14","disabled-button-background":"rgba(255, 255, 255, 0.2)","disabled-button-text":"rgba(255, 255, 255, 0.3)","disabled-icon":"rgba(255, 255, 255, 0.3)","disabled-text":"rgba(255, 255, 255, 0.3)",divider:"#3E4042","divider-on-color":"#3E4042","event-date":"#F3425F","fb-wordmark":"#FFFFFF","fb-logo":"#0866FF","filter-accent":"invert(40%) sepia(52%) saturate(200%) saturate(200%) saturate(200%) saturate(189%) hue-rotate(191deg) brightness(103%) contrast(102%)","filter-always-white":"invert(100%)","filter-disabled-icon":"invert(100%) opacity(30%)","filter-placeholder-icon":"invert(59%) sepia(11%) saturate(200%) saturate(135%) hue-rotate(176deg) brightness(96%) contrast(94%)","filter-primary-accent":"invert(40%) sepia(52%) saturate(200%) saturate(200%) saturate(200%) saturate(189%) hue-rotate(191deg) brightness(103%) contrast(102%)","filter-primary-icon":"invert(89%) sepia(6%) hue-rotate(185deg)","filter-secondary-button-icon-on-media":"invert(100%)","filter-secondary-icon":"invert(62%) sepia(98%) saturate(12%) hue-rotate(175deg) brightness(90%) contrast(96%)","filter-warning-icon":"invert(77%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(128%) hue-rotate(359deg) brightness(102%) contrast(107%)","filter-blue-link-icon":"invert(73%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(103.25%) hue-rotate(189deg) brightness(101%) contrast(101%)","filter-positive":"invert(37%) sepia(61%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(115%) hue-rotate(91deg) brightness(97%) contrast(105%)","filter-primary-deemphasized-button-icon":"brightness(0) saturate(100%) invert(63%) sepia(20%) saturate(1290%) hue-rotate(185deg) brightness(107%) contrast(101%)","filter-negative":"invert(25%) sepia(33%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(110%) hue-rotate(345deg) brightness(132%) contrast(96%)","focus-ring-blue":"#1877F2","glimmer-base-opaque":"#FFFFFF","glimmer-high-contrast-base-opaque":"#FFFFFF","glimmer-opacity-high-contrast-max":"0.48","glimmer-opacity-high-contrast-min":"0.1","glimmer-opacity-max":"1","glimmer-opacity-min":"0.32","glimmer-spinner-icon":"white","hero-banner-background":"#E85D07","hosted-view-selected-state":"rgba(45, 136, 255, 0.1)","highlight-bg":"rgba(24, 119, 242, .31)","hover-overlay":"rgba(255, 255, 255, 0.04)","inverse-text":"var(--always-white)","list-cell-chevron":"#B0B3B8","media-hover":"rgba(68, 73, 80, 0.15)","media-inner-border":"rgba(255, 255, 255, 0.05)","media-outer-border":"#33363A","media-pressed":"rgba(68, 73, 80, 0.35)","messenger-card-background":"#242526","messenger-card-box-shadow":"0px 0px 16px rgba(0, 0, 0, 0.3)","mwp-header-background-color":"var(--messenger-card-background)","mwp-header-button-color":"var(--accent)","mwp-message-row-background":"var(--messenger-card-background)","messenger-reply-background":"#18191A","overlay-alpha-80":"rgba(11, 11, 11, 0.8)","overlay-on-media":"rgba(0, 0, 0, 0.6)","nav-bar-background":"#242526","popover-card-background":"var(--card-background)","nav-bar-background-gradient":"linear-gradient(to top, #242526, rgba(36,37,38,.9), rgba(36,37,38,.7), rgba(36,37,38,.4), rgba(36,37,38,0))","nav-bar-background-gradient-wash":"linear-gradient(to top, #18191A, rgba(24,25,26,.9), rgba(24,25,26,.7), rgba(24,25,26,.4), rgba(24,25,26,0))",negative:"hsl(350, 87%, 55%)","negative-background":"hsl(350, 87%, 55%, 20%)","new-notification-background":"#E7F3FF","non-media-pressed":"rgba(68, 73, 80, 0.15)","non-media-pressed-on-dark":"rgba(255, 255, 255, 0.3)","notification-badge":"#e41e3f","placeholder-icon":"#8A8D91","placeholder-image":"rgb(164, 167, 171)","placeholder-text":"#8A8D91","placeholder-text-on-media":"rgba(255, 255, 255, 0.5)","popover-background":"#3E4042",positive:"#31A24C","positive-background":"#1F3520","press-overlay":"rgba(255, 255, 255, 0.2)","primary-button-background":"#2374E1","primary-button-icon":"#FFFFFF","primary-button-pressed":"#77A7FF","primary-button-text":"#FFFFFF","primary-deemphasized-button-background":"rgba(45, 136, 255, 0.2)","primary-deemphasized-button-pressed":"rgba(24, 119, 242, 0.2)","primary-deemphasized-button-pressed-overlay":"rgba(25, 110, 255, 0.15)","primary-deemphasized-button-text":"#2D88FF","primary-icon":"#E4E6EB","primary-text":"#E4E6EB","primary-text-on-media":"white","primary-web-focus-indicator":"#D24294","progress-ring-neutral-background":"rgba(255, 255, 255, 0.2)","progress-ring-neutral-foreground":"#ffffff","progress-ring-on-media-background":"rgba(255, 255, 255, 0.2)","progress-ring-on-media-foreground":"#FFFFFF","progress-ring-blue-background":"rgba(45, 136, 255, 0.2)","progress-ring-blue-foreground":"hsl(214, 100%, 59%)","progress-ring-disabled-background":"rgba(122,125,130, 0.2)","progress-ring-disabled-foreground":"#7A7D82","rating-star-active":"#FF9831","scroll-thumb":"rgba(255, 255, 255, 0.3)","scroll-shadow":"0 1px 2px rgba(0, 0, 0, 0.1), 0 -1px rgba(255, 255, 255, 0.05) inset","secondary-button-background":"rgba(255,255,255,.1)","secondary-button-background-floating":"#4B4C4F","secondary-button-background-on-dark":"rgba(255, 255, 255, 0.4)","secondary-button-pressed":"rgba(0, 0, 0, 0.05)","secondary-button-stroke":"transparent","secondary-button-text":"#E4E6EB","secondary-icon":"#B0B3B8","secondary-text":"#B0B3B8","secondary-text-on-media":"rgba(255, 255, 255, 0.9)","section-header-text":"#BCC0C4","shadow-1":"rgba(0, 0, 0, 0.1)","shadow-2":"rgba(0, 0, 0, 0.2)","shadow-5":"rgba(0, 0, 0, 0.5)","shadow-8":"rgba(0, 0, 0, 0.8)","shadow-base":"0 1px 2px var(--shadow-2)","shadow-elevated":"0 8px 20px 0 rgba(0, 0, 0, 0.2), 0 2px 4px 0 rgba(0, 0, 0, 0.1)","shadow-emphasis":"0 2px 12px var(--shadow-2)","shadow-inset":"rgba(255, 255, 255, 0.05)","shadow-on-media":"0px 0px 1px rgba(0, 0, 0, 0.62)","shadow-persistent":"0px 0px 12px rgba(28, 43, 51, 0.6)","shadow-primary":"0px 0px 12px rgba(28, 43, 51, 0.1)","shadow-responsive":"0px 8px 16px 0px rgba(0, 0, 0, 0.1)","surface-background":"#242526","switch-active":"hsl(214, 100%, 59%)","switch-inactive":"#3E4042","switch-unchecked-background-color":"#6F7276","text-highlight":"rgba(24, 119, 242, 0.45)","input-background":"#242526","input-background-hover":"var(--input-background)","input-background-warn-hover":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-background-error-hover":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-active":"hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.05)","input-background-warn-active":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-background-error-active":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-disabled":"#18191A","input-border-color":"#3E4042","input-border-color-hover":"var(--placeholder-text)","input-label-color-highlighted":"hsl(214, 100%, 59%)","input-label-color-inside":"var(--secondary-text)","input-label-color-error":"var(--negative)","input-label-color-disabled":"var(--disabled-text)","text-input-outside-label":"#FFFFFF","toast-background":"rgba(0, 0, 0)","toast-text":"rgb(255, 255, 255)","toast-text-link":"#4599FF","toast-border-color":"transparent","toast-border-style":"none","toast-border-width":"0px","toggle-active-background":"rgb(45, 136, 255)","toggle-active-icon":"#FFFFFF","toggle-active-text":"#FFFFFF","toggle-button-active-background":"#E6F2FF","tooltip-background":"rgba(11, 11, 11, 0.8)","tooltip-box-shadow":"0 2px 4px 0 var(--shadow-5)","popover-border-color":"transparent",wash:"#3E4042","web-wash":"#18191A",warning:"hsl(40, 89%, 52%)","chat-bubble-emphasis-ring-after":"white","chat-bubble-emphasis-ring-before":"black","chat-text-blockquote-color-background-line":"rgba(255, 255, 255, 0.19)","chat-text-blockquote-color-text-primary-media":"rgba(255, 255, 255, 0.7)","chat-incoming-message-bubble-background-color":"#303030","chat-outgoing-message-bubble-background-color":"var(--accent)","chat-replied-message-background-color":"rgba(255, 255, 255, 0.12)","radio-border-color":"var(--primary-icon)","radio-border-color-disabled":"var(--disabled-button-background)","radio-border-color-selected":"var(--accent)","radio-checked-icon-color":"var(--accent)","radio-checked-icon-color-disabled":"var(--disabled-button-background)","dialog-anchor-vertical-padding":"56px","header-height":"0px","global-panel-width":"0px","global-panel-width-expanded":"0px","alert-banner-corner-radius":"8px","button-corner-radius":"6px","button-corner-radius-medium":"10px","button-corner-radius-large":"12px","button-height-large":"40px","button-height-medium":"36px","button-padding-horizontal-large":"16px","button-padding-horizontal-medium":"16px","button-padding-icon-only":"16px","button-icon-padding-large":"16px","button-icon-padding-medium":"16px","button-inner-icon-spacing-large":"3px","button-inner-icon-spacing-medium":"3px","blueprint-button-height-medium":"40px","blueprint-button-height-large":"48px","card-corner-radius":"8px","card-box-shadow":"0 12px 28px 0 var(--shadow-2), 0 2px 4px 0 var(--shadow-1)","card-padding-horizontal":"10px","card-padding-vertical":"20px","chip-corner-radius":"6px","comment-bubble":"18px","dialog-corner-radius":"8px","glimmer-corner-radius":"8px","image-corner-radius":"4px","infochip-medium-radius":"12px","input-corner-radius":"6px","input-border-width":"1px","nav-list-cell-corner-radius":"8px","list-cell-corner-radius":"8px","list-cell-min-height":"52px","list-cell-padding-vertical":"20px","list-cell-padding-vertical-with-addon":"14px","menu-base-list-item-padding-horizontal":"8px","menu-base-list-item-padding-vertical":"12px","menu-base-size-full-margin-end":"48px","menu-item-base-margin-horizontal":"8px","menu-item-base-margin-vertical":"0px","menu-item-base-padding-horizontal":"8px","menu-item-base-overlay-radius":"4px","menu-item-base-padding-vertical":"12px","menu-item-base-with-icon-padding-horizontal":"var(--menu-item-base-padding-horizontal)","separator-menu-item-margin-horizontal":"16px","separator-menu-item-margin-vertical":"4px","nav-list-cell-min-height":"0px","nav-list-cell-padding-vertical":"16px","nav-list-cell-padding-vertical-with-addon":"16px","nux-card-body-padding-end":"24px","page-footer-padding-vertical":"16px","popover-border-style":"none","popover-border-width":"0px","section-header-addOnEnd-margin-horizontal":"8px","section-header-addOnStart-margin-horizontal":"12px","section-header-addOnEnd-button-padding-horizontal":"0px","section-header-addOnEnd-button-padding-vertical":"0px","section-header-padding-vertical":"16px","section-header-subtitle-margin-vertical":"14px","section-header-subtitle-with-addOnEnd-margin-vertical":"6px","tab-height":"60px","tab-icon-padding-end":"0px","tab-text-icon-gap":"4px","tab-underline-color":"transparent","tab-underline-height":"3px","text-badge-corner-radius":"4px","text-badge-padding-horizontal":"6px","text-badge-padding-vertical":"6px","text-input-multi-padding-between-text-scrollbar":"20px","text-input-multi-padding-scrollbar":"16px","text-input-caption-margin-top":"10px","text-input-padding-vertical":"12px","toast-addon-padding-horizontal":"6px","toast-addon-padding-vertical":"6px","toast-container-max-width":"100%","toast-container-min-width":"0px","toast-container-padding-horizontal":"14px","toast-container-padding-vertical":"10px","toast-corner-radius":"8px","toaster-view-max-width":"328px","tooltip-corner-radius":"8px","typeahead-list-outer-padding-vertical":"2px","fds-animation-enter-exit-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-enter-exit-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-swap-shuffle-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-swap-shuffle-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-move-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-move-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-passive-move-in":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-passive-move-out":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-quick-move-in":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-quick-move-out":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-fade-in":"cubic-bezier(0, 0, 1, 1)","fds-animation-fade-out":"cubic-bezier(0, 0, 1, 1)","fds-duration-extra-extra-short-in":"100ms","fds-duration-extra-extra-short-out":"100ms","fds-duration-extra-short-in":"200ms","fds-duration-extra-short-out":"150ms","fds-duration-short-in":"280ms","fds-duration-short-out":"200ms","fds-duration-medium-in":"400ms","fds-duration-medium-out":"350ms","fds-duration-long-in":"500ms","fds-duration-long-out":"350ms","fds-duration-extra-long-in":"1000ms","fds-duration-extra-long-out":"1000ms","fds-duration-none":"0ms","fds-fast":"200ms","fds-slow":"400ms","font-family-apple":"system-ui, -apple-system, BlinkMacSystemFont, '.SFNSText-Regular', sans-serif","font-family-code":"ui-monospace, Menlo, Consolas, Monaco, monospace","font-family-default":"Helvetica, Arial, sans-serif","font-family-segoe":"Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","font-family-system-fds":"system-ui, -apple-system, BlinkMacSystemFont, Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","text-input-field-font-family":"Placeholder Font","text-input-field-font-size":"1rem","text-input-field-font-stretch":"initial","text-input-field-font-weight":"500","text-input-field-line-height":"1.2941","text-input-label-font-family":"Placeholder Font","text-input-label-font-size":"17px","text-input-label-font-size-scale-multiplier":"0.75","text-input-label-font-stretch":"initial","text-input-label-font-weight":"400","text-input-label-line-height":"1.2941","messenger-card-min-width":"300px","messenger-card-max-width":"480px","messenger-application-max-width":"2560px","messenger-sidebar-collapsed-width":"44px","messenger-sidebar-expanded-width":"240px","messenger-card-corner-radius":"8px","messenger-card-spacing":"16px","chat-bubble-padding-vertical":"8px","chat-bubble-padding-horizontal":"12px","chat-bubble-border-radius":"18px","dialog-size-medium-width":"100%","dialog-size-small-width":"100%","focus-ring-outline-forced-colors":"2px auto transparent !important","focus-ring-outline-link":"2px auto var(--focus-ring-blue)","focus-ring-shadow-default":"0 0 0 2px var(--always-white), 0 0 0 4px var(--focus-ring-blue)","focus-ring-shadow-inset":"0 0 0 2px var(--focus-ring-blue) inset, 0 0 0 4px var(--always-white) inset","glimmer-animation-direction":"alternate","glimmer-animation-duration":"1000ms","glimmer-animation-timing-function":"linear","radio-checked-icon-size-large":"12px","radio-checked-icon-size-medium":"12px","radio-border-width":"2px","radio-size-large":"24px","radio-size-medium":"20px","blue-primary":"rgb(0,136,244)","blue-secondary":"rgb(235,245,255)","blue-tertiary":"rgb(4,59,114)","chartreuse-primary":"rgb(106,147,22)","chartreuse-secondary":"rgb(226,255,152)","chartreuse-tertiary":"rgb(50,65,19)","cyan-primary":"rgb(0,142,213)","cyan-secondary":"rgb(231,245,255)","cyan-tertiary":"rgb(15,63,93)","dataviz-primary-2":"rgb(156,219,255)","dataviz-primary-3":"rgb(73,156,255)","dataviz-secondary-1":"rgb(92,87,210)","dataviz-secondary-2":"rgb(142,129,255)","dataviz-secondary-3":"rgb(119,45,88)","dataviz-supplementary-1":"rgb(253,91,67)","dataviz-supplementary-2":"rgb(161,132,0)","dataviz-supplementary-3":"rgb(36,131,44)","dataviz-supplementary-4":"rgb(232,234,238)","fuschia-primary":"rgb(250,45,138)","fuschia-secondary":"rgb(255,241,246)","fuschia-tertiary":"rgb(118,14,62)","green-primary":"rgb(43,154,53)","green-secondary":"rgb(227,250,224)","green-tertiary":"rgb(26,68,27)","magenta-primary":"rgb(215,77,204)","magenta-secondary":"rgb(255,239,254)","magenta-tertiary":"rgb(96,36,91)","orange-primary":"rgb(208,108,20)","orange-secondary":"rgb(255,241,239)","orange-tertiary":"rgb(94,49,14)","purple-primary":"rgb(125,116,255)","purple-secondary":"rgb(245,241,255)","purple-tertiary":"rgb(55,50,121)","red-primary":"rgb(251,60,68)","red-secondary":"rgb(255,241,239)","red-tertiary":"rgb(118,22,27)","teal-primary":"rgb(0,152,124)","teal-secondary":"rgb(227,247,241)","teal-tertiary":"rgb(10,68,56)","yellow-primary":"rgb(161,132,0)","yellow-secondary":"rgb(255,246,161)","yellow-tertiary":"rgb(72,59,12)","base-unit":"4px","blue-0":"245, 251, 255","blue-1":"224, 241, 255","blue-2":"179, 219, 255","blue-3":"112, 188, 255","blue-4":"71, 175, 255","blue-5":"0, 149, 246","blue-6":"0, 116, 204","blue-7":"0, 87, 163","blue-8":"0, 55, 107","blue-9":"0, 41, 82","cyan-5":"39, 196, 245","font-family-monospace":"Menlo, Monaco, Consolas, Courier New, monospace","font-family-system":"system-ui, -apple-system, BlinkMacSystemFont, Roboto, Helvetica, Arial, sans-serif","font-family-serif":"ui-serif, New York Small, New York, Georgia, Times New Roman, Times, serif","font-weight-system-bold":"700","font-weight-system-extra-bold":"800","font-weight-system-extra-light":"200","font-weight-system-light":"300","font-weight-system-medium":"500","font-weight-system-regular":"400","font-weight-system-semibold":"600","green-4":"120, 222, 69","green-5":"88, 195, 34","green-6":"55, 166, 0","grey-0":"245, 245, 245","grey-1":"239, 239, 239","grey-2":"219, 219, 219","grey-3":"199, 199, 199","grey-4":"168, 168, 168","grey-5":"142, 142, 142","grey-6":"115, 115, 115","grey-7":"85, 85, 85","grey-8":"54, 54, 54","grey-9":"38, 38, 38","grey-10":"26, 26, 26","orange-5":"253, 141, 50","pink-5":"209, 8, 105","purple-5":"163, 7, 186","red-4":"255, 104, 116","red-5":"237, 73, 86","red-6":"198, 35, 48","red-7":"167, 3, 17","system-10-font-size":"10px","system-10-line-height":"12px","system-11-font-size":"11px","system-11-line-height":"13px","system-12-font-size":"12px","system-13-font-size":"13px","system-12-line-height":"16px","system-14-font-size":"14px","system-14-line-height":"18px","system-15-font-size":"15px","system-15-line-height":"21px","system-16-font-size":"16px","system-17-font-size":"17px","system-16-line-height":"20px","system-18-font-size":"18px","system-18-line-height":"24px","system-20-font-size":"20px","system-20-line-height":"25px","system-22-font-size":"22px","system-22-line-height":"26px","system-24-font-size":"24px","system-24-line-height":"27px","system-26-font-size":"26px","system-26-line-height":"28px","system-28-font-size":"28px","system-28-line-height":"32px","system-30-font-size":"30px","system-30-line-height":"36px","system-32-font-size":"32px","system-32-line-height":"40px","system-40-font-size":"40px","system-40-line-height":"46px","yellow-5":"253, 203, 92","barcelona-success-icon":"#20c584","barcelona-green-dot":"rgb(94, 231, 71)","background-primary":"rgb(16, 16, 16)","glimmer-stagger-time":"100ms","base-line-clamp-line-height":"calc(1.4 * 1em)","barcelona-desktop-header-height":"74px","barcelona-mobile-header-height":"60px","barcelona-mobile-logged-out-header-height":"102px","barcelona-large-screen-breakpoint":"768px","barcelona-large-screen-composer-footer-height":"84px","barcelona-small-screen-composer-footer-height":"64px","barcelona-composer-header-height":"46px","barcelona-large-screen-max-width":"620px","barcelona-large-screen-max-page-width":"1230px","barcelona-large-screen-padding":"344px","barcelona-large-screen-content-width":"572px","barcelona-medium-screen-breakpoint":"700px","barcelona-medium-screen-max-width":"520px","barcelona-small-screen-nav-height":"68px","barcelona-small-screen-nav-height-short":"50px","barcelona-threadline-column-width":"48px","barcelona-desktop-page-horizontal-padding":"24px","barcelona-post-horizontal-padding":"12px","barcelona-quoted-post-horizontal-padding":"16px","barcelona-carousel-gap":"6px","barcelona-lightbox-horizontal-padding":"92px","barcelona-search-page-width":"572px","barcelona-columns-item-horizontal-padding":"24px","barcelona-user-list-item-padding":"16px","barcelona-side-navigation-width":"76px","barcelona-tombstone-padding-horizontal":"12px","barcelona-post-footer-height":"60px","barcelona-markup-attachment-max-width":"355px","barcelona-box-shadow-04":"rgba(0, 0, 0, 0.04)","barcelona-box-shadow-08":"rgba(0, 0, 0, 0.08)","barcelona-box-shadow-10":"rgba(0, 0, 0, 0.10)","barcelona-box-shadow-12":"rgba(0, 0, 0, 0.12)","barcelona-box-shadow-15":"rgba(0, 0, 0, 0.15)","barcelona-dark-backdrop-background":"rgba(0, 0, 0, 0.7)","barcelona-onboarding-navigation-height":"52px","barcelona-onboarding-small-screen-navigation-height":"38px","barcelona-onboarding-content-width":"390px","barcelona-notification-badge-background":"rgb(255, 48, 64)","barcelona-notification-badge-background-wide-gamut":"color(display-p3 1 0.18 0.25 / 1)","barcelona-verified-badge-background":"rgb(0, 149, 246)","barcelona-video-player-mute-button-background":"rgb(40, 40, 40, 0.5)","barcelona-activity-icon-background-first-post":"#007aff","barcelona-activity-icon-background-follow":"#6e3def","barcelona-activity-icon-background-like":"#fe0169","barcelona-activity-icon-background-mention":"#20c584","barcelona-activity-icon-background-quote":"#fe7900","barcelona-activity-icon-background-markup":"#ffd600","barcelona-activity-icon-background-polls":"#007aff","barcelona-activity-icon-background-reply":"#24c3ff","barcelona-activity-icon-background-repost":"#c329bf","barcelona-activity-icon-background-request":"#ffb800","barcelona-activity-icon-background-subscribe":"#24c3ff","barcelona-activity-icon-background-warning":"#ff0000","barcelona-activity-icon-background-pinned-reply":"#0d31eb","barcelona-medium-column-layout-width":"420px","barcelona-column-layout-max-width":"640px","site-width-wide":"935px","gradient-yellow":"255, 214, 0","gradient-orange":" 255, 122, 0","gradient-pink":"255, 1, 105","gradient-lavender":"211, 0, 197","gradient-purple":"118, 56, 250","ig-primary-background":"0, 0, 0","ig-elevated-highlight-background":"54 54 54","text-inverse":"rgb(16, 16, 16)","text-primary":"rgb(243, 245, 247)","text-secondary":"rgb(119, 119, 119)","barcelona-secondary-text-loading":"rgba(119, 119, 119, 0.25)","barcelona-primary-button":"rgb(255, 255, 255)","barcelona-primary-button-text":"rgb(0, 0, 0)","barcelona-secondary-button":"rgb(16, 16, 16)","barcelona-liked-text":"rgb(255, 48, 64)","barcelona-liked-text-wide-gamut":"color(display-p3 1 0.18 0.25 / 1)","barcelona-link-text":"rgb(24, 163, 254)","barcelona-error-text":"rgb(255, 48, 64)","barcelona-beta-text":"rgb(149, 120, 179)","barcelona-charcoal-text":"rgb(204, 204, 204)","barcelona-brand-highlighted-text":"rgb(255, 248, 111)","icon-inverse":"rgba(0, 0, 0, 1)","icon-primary":"rgb(243, 245, 247)","barcelona-secondary-icon":"rgb(119, 119, 119)","barcelona-navigation-icon":"rgb(77, 77, 77)","barcelona-charcoal-icon":"rgb(204, 204, 204)","background-inverse":"rgb(255, 255, 255)","background-secondary":"rgb(10, 10, 10)","background-tertiary":"rgb(30, 30, 30)","barcelona-elevated-background":"rgb(24, 24, 24)","barcelona-header-background":"rgba(16, 16, 16, 0.85)","barcelona-elevated-header-background":"rgba(24, 24, 24, 0.85)","barcelona-elevated-tertiary-background":"rgb(38, 38, 38)","barcelona-hovered-background":"rgba(255, 255, 255, 0.04)","barcelona-pressed-background":"rgba(0, 0, 0, 0.06)","barcelona-side-navigation-background":"rgba(10, 10, 10, 0.85)","barcelona-primary-button-background":"rgb(255, 255, 255)","barcelona-dialog-backdrop-background":"rgba(16, 16, 16, 0.85)","barcelona-navigation-item-hover-background":"rgba(255, 255, 255, 0.08)","barcelona-floating-button-background":"rgba(255, 255, 255, 0.08)","barcelona-upsell-gradient-background":"linear-gradient(0deg, color(display-p3 0.0627 0.0627 0.0627) 54.03%, color(display-p3 0.0627 0.0627 0.0627 / 0.00) 99.83%)","barcelona-avatar-ig-background-border-hovered":"rgba(255, 255, 255,0.1)","status-info":"rgba(155, 56, 255, 0.12)","barcelona-brand-highlighted-background":"rgb(88, 81, 11)","barcelona-brand-highlighted-pressure-point-background":"rgb(123, 109, 7)","barcelona-insights-background":"rgb(16, 16, 16)","lines-primary":"rgba(243, 245, 247, 0.15)","barcelona-primary-column-outline":"rgb(45, 45, 45)","barcelona-media-outline":"rgba(243, 245, 247, 0.2)","barcelona-threadline":"rgb(51, 54, 56)","barcelona-menu-outline":"rgba(255, 255, 255, 0.04)","background-elevated":"rgb(44, 44, 44)","barcelona-composer-poll-option-outline":"rgb(52, 52, 52)","barcelona-poll-option-meter-background":"rgb(52, 52, 52)","barcelona-poll-option-meter-highlighted-background":"rgb(255, 255, 255)","barcelona-switch-background-off":"rgb(50, 53, 57)","barcelona-cherry-blossom-lightpink":"rgb(255, 207, 243)","color-scheme":"dark","barcelona-translucent-column-header-background":"rgb(15, 15, 15)","barcelona-tooltip-background":"rgb(38, 38, 38)","barcelona-splash-screen-logo-color":"rgb(255, 255, 255)","barcelona-bar-chart-gradient-bottom":"rgb(204, 204, 204)","barcelona-bar-chart-gradient-top":"rgb(243, 245, 247)","barcelona-user-list-action-button-gradient":"linear-gradient(180deg, color(display-p3 0.0392 0.0392 0.0392 / 0.00) 0%, color(display-p3 0.0392 0.0392 0.0392) 49.07%, color(display-p3 0.0392 0.0392 0.0392) 100%)"});i.default=e}),66);
__d("BarcelonaStyleXDefaultTheme",[],(function(t,n,r,o,a,i){var e=Object.freeze({"fds-black":"#000000","fds-black-alpha-05":"rgba(0, 0, 0, 0.05)","fds-black-alpha-10":"rgba(0, 0, 0, 0.1)","fds-black-alpha-15":"rgba(0, 0, 0, 0.15)","fds-black-alpha-20":"rgba(0, 0, 0, 0.2)","fds-black-alpha-30":"rgba(0, 0, 0, 0.3)","fds-black-alpha-40":"rgba(0, 0, 0, 0.4)","fds-black-alpha-50":"rgba(0, 0, 0, 0.5)","fds-black-alpha-60":"rgba(0, 0, 0, 0.6)","fds-black-alpha-80":"rgba(0, 0, 0, 0.8)","fds-blue-05":"#ECF3FF","fds-blue-30":"#AAC9FF","fds-blue-40":"#77A7FF","fds-blue-60":"#1877F2","fds-blue-70":"#2851A3","fds-blue-80":"#1D3C78","fds-button-text":"#444950","fds-comment-background":"#F2F3F5","fds-dark-mode-gray-35":"#CCCCCC","fds-dark-mode-gray-50":"#828282","fds-dark-mode-gray-70":"#4A4A4A","fds-dark-mode-gray-80":"#373737","fds-dark-mode-gray-90":"#282828","fds-dark-mode-gray-100":"#1C1C1C","fds-gray-00":"#F5F6F7","fds-gray-05":"#F2F3F5","fds-gray-10":"#EBEDF0","fds-gray-20":"#DADDE1","fds-gray-25":"#CCD0D5","fds-gray-30":"#BEC3C9","fds-gray-45":"#8D949E","fds-gray-70":"#606770","fds-gray-80":"#444950","fds-gray-90":"#303338","fds-gray-100":"#1C1E21","fds-green-55":"#00A400","fds-green-60":"#31A73B","fds-green-65":"#51CE70","fds-highlight":"#3578E5","fds-highlight-cell-background":"#ECF3FF","fds-primary-icon":"#1C1E21","fds-primary-text":"#1C1E21","fds-red-55":"#FA383E","fds-soft":"cubic-bezier(.08,.52,.52,1)","fds-spectrum-aluminum-tint-70":"#E4F0F6","fds-spectrum-blue-gray-tint-70":"#CFD1D5","fds-spectrum-cherry":"#F35369","fds-spectrum-cherry-tint-70":"#FBCCD2","fds-spectrum-grape-tint-70":"#DDD5F0","fds-spectrum-grape-tint-90":"#F4F1FA","fds-spectrum-lemon-dark-1":"#F5C33B","fds-spectrum-lemon-tint-70":"#FEF2D1","fds-spectrum-lime":"#A3CE71","fds-spectrum-lime-tint-70":"#E4F0D5","fds-spectrum-orange-tint-70":"#FCDEC5","fds-spectrum-orange-tint-90":"#FEF4EC","fds-spectrum-seafoam-tint-70":"#CAEEF9","fds-spectrum-slate-dark-2":"#89A1AC","fds-spectrum-slate-tint-70":"#EAEFF2","fds-spectrum-teal":"#6BCEBB","fds-spectrum-teal-dark-1":"#4DBBA6","fds-spectrum-teal-dark-2":"#31A38D","fds-spectrum-teal-tint-70":"#D2F0EA","fds-spectrum-teal-tint-90":"#F0FAF8","fds-spectrum-tomato":"#FB724B","fds-spectrum-tomato-tint-30":"#F38E7B","fds-spectrum-tomato-tint-90":"#FDEFED","fds-strong":"cubic-bezier(.12,.8,.32,1)","fds-unified-blue-35":"#1455B0","fds-unified-gray-20":"#323436","fds-white":"#FFFFFF","fds-white-alpha-05":"rgba(255, 255, 255, 0.05)","fds-white-alpha-10":"rgba(255, 255, 255, 0.1)","fds-white-alpha-20":"rgba(255, 255, 255, 0.2)","fds-white-alpha-30":"rgba(255, 255, 255, 0.3)","fds-white-alpha-40":"rgba(255, 255, 255, 0.4)","fds-white-alpha-50":"rgba(255, 255, 255, 0.5)","fds-white-alpha-60":"rgba(255, 255, 255, 0.6)","fds-white-alpha-80":"rgba(255, 255, 255, 0.8)","fds-yellow-20":"#FFBA00",accent:"hsl(214, 89%, 52%)","always-white":"#ffffff","always-black":"#000000","always-dark-gradient":"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.6))","always-dark-overlay":"rgba(0, 0, 0, 0.4)","always-light-overlay":"rgba(255, 255, 255, 0.4)","always-gray-40":"#65676B","always-gray-75":"#BCC0C4","always-gray-95":"#F0F2F5","attachment-footer-background":"#F0F2F5","background-deemphasized":"#F0F2F5","badge-background-color-blue":"var(--accent)","badge-background-color-dark-gray":"var(--secondary-icon)","badge-background-color-gray":"var(--disabled-icon)","badge-background-color-green":"var(--positive)","badge-background-color-light-blue":"var(--highlight-bg)","badge-background-color-red":"var(--notification-badge)","badge-background-color-yellow":"var(--base-lemon)","base-blue":"#1877F2","base-cherry":"#F3425F","base-grape":"#9360F7","base-lemon":"#F7B928","base-lime":"#45BD62","base-pink":"#FF66BF","base-seafoam":"#54C7EC","base-teal":"#2ABBA7","base-tomato":"#FB724B","text-badge-info-background":"hsl(214, 89%, 52%)","text-badge-success-background":"#31A24C","text-badge-attention-background":"hsl(40, 89%, 52%)","text-badge-critical-background":"#e41e3f","blue-link":"#216FDB","border-focused":"#65676B","card-background":"#FFFFFF","card-background-flat":"#F7F8FA","comment-background":"#F0F2F5","comment-footer-background":"#F6F9FA","dataviz-primary-1":"rgb(0,174,143)","dataviz-blue-primary":"#1D85FC","dataviz-blue-secondary":"#043B72","dataviz-orange":"#D06C14","disabled-button-background":"#E4E6EB","disabled-button-text":"#BCC0C4","disabled-icon":"#BCC0C4","disabled-text":"#BCC0C4",divider:"#CED0D4","divider-on-color":"#CED0D4","event-date":"#F3425F","fb-wordmark":"#0866FF","fb-logo":"#0866FF","filter-accent":"invert(39%) sepia(57%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(147.75%) hue-rotate(202deg) brightness(97%) contrast(96%)","filter-always-white":"invert(100%)","filter-disabled-icon":"invert(80%) sepia(6%) saturate(200%) saturate(120%) hue-rotate(173deg) brightness(98%) contrast(89%)","filter-placeholder-icon":"invert(59%) sepia(11%) saturate(200%) saturate(135%) hue-rotate(176deg) brightness(96%) contrast(94%)","filter-primary-accent":"invert(39%) sepia(57%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(147.75%) hue-rotate(202deg) brightness(97%) contrast(96%)","filter-primary-icon":"invert(8%) sepia(10%) saturate(200%) saturate(200%) saturate(166%) hue-rotate(177deg) brightness(104%) contrast(91%)","filter-secondary-button-icon-on-media":"invert(100%)","filter-secondary-icon":"invert(39%) sepia(21%) saturate(200%) saturate(109.5%) hue-rotate(174deg) brightness(94%) contrast(86%)","filter-warning-icon":"invert(77%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(128%) hue-rotate(359deg) brightness(102%) contrast(107%)","filter-blue-link-icon":"invert(30%) sepia(98%) saturate(200%) saturate(200%) saturate(200%) saturate(166.5%) hue-rotate(192deg) brightness(91%) contrast(101%)","filter-positive":"invert(37%) sepia(61%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(115%) hue-rotate(91deg) brightness(97%) contrast(105%)","filter-primary-deemphasized-button-icon":"invert(28%) sepia(100%) saturate(6042%) hue-rotate(202deg) brightness(96%) contrast(101%)","filter-negative":"invert(25%) sepia(33%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(110%) hue-rotate(345deg) brightness(132%) contrast(96%)","focus-ring-blue":"#1877F2","glimmer-base-opaque":"#979A9F","glimmer-high-contrast-base-opaque":"#65686C","glimmer-opacity-high-contrast-max":"1","glimmer-opacity-high-contrast-min":"0.08","glimmer-opacity-max":"1","glimmer-opacity-min":"0.32","glimmer-spinner-icon":"#65676B","hero-banner-background":"#FFFFFF","hosted-view-selected-state":"rgba(45, 136, 255, 0.1)","highlight-bg":"#E7F3FF","hover-overlay":"rgba(0, 0, 0, 0.04)","inverse-text":"var(--always-white)","list-cell-chevron":"#65676B","media-hover":"rgba(68, 73, 80, 0.15)","media-inner-border":"rgba(0, 0, 0, 0.1)","media-outer-border":"#FFFFFF","media-pressed":"rgba(68, 73, 80, 0.35)","messenger-card-background":"#FFFFFF","messenger-card-box-shadow":"0px 1px 2px 0px #0000001A","mwp-header-background-color":"var(--messenger-card-background)","mwp-header-button-color":"var(--accent)","mwp-message-row-background":"var(--messenger-card-background)","messenger-reply-background":"#F0F2F5","overlay-alpha-80":"rgba(244, 244, 244, 0.8)","overlay-on-media":"rgba(0, 0, 0, 0.6)","nav-bar-background":"#FFFFFF","popover-card-background":"var(--card-background)","nav-bar-background-gradient":"linear-gradient(to top, #FFFFFF, rgba(255,255,255.9), rgba(255,255,255,.7), rgba(255,255,255,.4), rgba(255,255,255,0))","nav-bar-background-gradient-wash":"linear-gradient(to top, #F0F2F5, rgba(240,242,245.9), rgba(240,242,245,.7), rgba(240,242,245,.4), rgba(240,242,245,0))",negative:"hsl(350, 87%, 55%)","negative-background":"hsl(350, 87%, 55%, 20%)","new-notification-background":"#E7F3FF","non-media-pressed":"rgba(68, 73, 80, 0.15)","non-media-pressed-on-dark":"rgba(255, 255, 255, 0.3)","notification-badge":"#e41e3f","placeholder-icon":"#65676B","placeholder-image":"rgb(164, 167, 171)","placeholder-text":"#65676B","placeholder-text-on-media":"rgba(255, 255, 255, 0.5)","popover-background":"#FFFFFF",positive:"#31A24C","positive-background":"#DEEFE1","press-overlay":"rgba(0, 0, 0, 0.10)","primary-button-background":"#1B74E4","primary-button-icon":"#FFFFFF","primary-button-pressed":"#77A7FF","primary-button-text":"#FFFFFF","primary-deemphasized-button-background":"#E7F3FF","primary-deemphasized-button-pressed":"rgba(0, 0, 0, 0.05)","primary-deemphasized-button-pressed-overlay":"rgba(25, 110, 255, 0.15)","primary-deemphasized-button-text":"#1877F2","primary-icon":"#050505","primary-text":"#050505","primary-text-on-media":"#FFFFFF","primary-web-focus-indicator":"#D24294","progress-ring-neutral-background":"rgba(0, 0, 0, 0.2)","progress-ring-neutral-foreground":"#000000","progress-ring-on-media-background":"rgba(255, 255, 255, 0.2)","progress-ring-on-media-foreground":"#FFFFFF","progress-ring-blue-background":"rgba(24, 119, 242, 0.2)","progress-ring-blue-foreground":"hsl(214, 89%, 52%)","progress-ring-disabled-background":"rgba(190,195,201, 0.2)","progress-ring-disabled-foreground":"#BEC3C9","rating-star-active":"#EB660D","scroll-thumb":"#BCC0C4","scroll-shadow":"0 1px 2px rgba(0, 0, 0, 0.1), 0 -1px rgba(0, 0, 0, 0.1) inset","secondary-button-background":"#E4E6EB","secondary-button-background-floating":"#ffffff","secondary-button-background-on-dark":"rgba(0, 0, 0, 0.4)","secondary-button-pressed":"rgba(0, 0, 0, 0.05)","secondary-button-stroke":"transparent","secondary-button-text":"#050505","secondary-icon":"#65676B","secondary-text":"#65676B","secondary-text-on-media":"rgba(255, 255, 255, 0.9)","section-header-text":"#4B4C4F","shadow-1":"rgba(0, 0, 0, 0.1)","shadow-2":"rgba(0, 0, 0, 0.2)","shadow-5":"rgba(0, 0, 0, 0.5)","shadow-8":"rgba(0, 0, 0, 0.8)","shadow-base":"0 1px 2px var(--shadow-2)","shadow-elevated":"0 8px 20px 0 rgba(0, 0, 0, 0.2), 0 2px 4px 0 rgba(0, 0, 0, 0.1)","shadow-emphasis":"0 2px 12px var(--shadow-2)","shadow-inset":"rgba(255, 255, 255, 0.5)","shadow-on-media":"0px 0px 1px rgba(0, 0, 0, 0.62)","shadow-persistent":"0px 0px 12px rgba(52, 72, 84, 0.05)","shadow-primary":"0px 5px 12px rgba(52, 72, 84, 0.2)","shadow-responsive":"0px 8px 16px 0px rgba(0, 0, 0, 0.1)","surface-background":"#FFFFFF","switch-active":"hsl(214, 89%, 52%)","switch-inactive":"#CED0D4","switch-unchecked-background-color":"#8F9297","text-highlight":"rgba(24, 119, 242, 0.2)","input-background":"#FFFFFF","input-background-hover":"var(--input-background)","input-background-warn-hover":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-background-error-hover":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-active":"hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.05)","input-background-warn-active":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-background-error-active":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-disabled":"#F0F2F5","input-border-color":"#CED0D4","input-border-color-hover":"var(--placeholder-text)","input-label-color-highlighted":"hsl(214, 89%, 52%)","input-label-color-inside":"var(--secondary-text)","input-label-color-error":"var(--negative)","input-label-color-disabled":"var(--disabled-text)","text-input-outside-label":"#000000","toast-background":"rgba(255, 255, 255)","toast-text":"rgb(0, 0, 0)","toast-text-link":"#216FDB","toast-border-color":"transparent","toast-border-style":"none","toast-border-width":"0px","toggle-active-background":"#E7F3FF","toggle-active-icon":"rgb(24, 119, 242)","toggle-active-text":"rgb(24, 119, 242)","toggle-button-active-background":"#E7F3FF","tooltip-background":"rgba(244, 244, 244, 0.8)","tooltip-box-shadow":"0 2px 4px 0 var(--shadow-5)","popover-border-color":"transparent",wash:"#E4E6EB","web-wash":"#F0F2F5",warning:"hsl(40, 89%, 52%)","chat-bubble-emphasis-ring-after":"black","chat-bubble-emphasis-ring-before":"white","chat-text-blockquote-color-background-line":"rgba(0, 0, 0, 0.12)","chat-text-blockquote-color-text-primary-media":"rgba(255, 255, 255, 0.7)","chat-incoming-message-bubble-background-color":"#F0F0F0","chat-outgoing-message-bubble-background-color":"var(--accent)","chat-replied-message-background-color":"rgba(0, 0, 0, 0.03)","radio-border-color":"var(--primary-icon)","radio-border-color-disabled":"var(--disabled-button-background)","radio-border-color-selected":"var(--accent)","radio-checked-icon-color":"var(--accent)","radio-checked-icon-color-disabled":"var(--disabled-button-background)","dialog-anchor-vertical-padding":"56px","header-height":"0px","global-panel-width":"0px","global-panel-width-expanded":"0px","alert-banner-corner-radius":"8px","button-corner-radius":"6px","button-corner-radius-medium":"10px","button-corner-radius-large":"12px","button-height-large":"40px","button-height-medium":"36px","button-padding-horizontal-large":"16px","button-padding-horizontal-medium":"16px","button-padding-icon-only":"16px","button-icon-padding-large":"16px","button-icon-padding-medium":"16px","button-inner-icon-spacing-large":"3px","button-inner-icon-spacing-medium":"3px","blueprint-button-height-medium":"40px","blueprint-button-height-large":"48px","card-corner-radius":"8px","card-box-shadow":"0 12px 28px 0 var(--shadow-2), 0 2px 4px 0 var(--shadow-1)","card-padding-horizontal":"10px","card-padding-vertical":"20px","chip-corner-radius":"6px","comment-bubble":"18px","dialog-corner-radius":"8px","glimmer-corner-radius":"8px","image-corner-radius":"4px","infochip-medium-radius":"12px","input-corner-radius":"6px","input-border-width":"1px","nav-list-cell-corner-radius":"8px","list-cell-corner-radius":"8px","list-cell-min-height":"52px","list-cell-padding-vertical":"20px","list-cell-padding-vertical-with-addon":"14px","menu-base-list-item-padding-horizontal":"8px","menu-base-list-item-padding-vertical":"12px","menu-base-size-full-margin-end":"48px","menu-item-base-margin-horizontal":"8px","menu-item-base-margin-vertical":"0px","menu-item-base-padding-horizontal":"8px","menu-item-base-overlay-radius":"4px","menu-item-base-padding-vertical":"12px","menu-item-base-with-icon-padding-horizontal":"var(--menu-item-base-padding-horizontal)","separator-menu-item-margin-horizontal":"16px","separator-menu-item-margin-vertical":"4px","nav-list-cell-min-height":"0px","nav-list-cell-padding-vertical":"16px","nav-list-cell-padding-vertical-with-addon":"16px","nux-card-body-padding-end":"24px","page-footer-padding-vertical":"16px","popover-border-style":"none","popover-border-width":"0px","section-header-addOnEnd-margin-horizontal":"8px","section-header-addOnStart-margin-horizontal":"12px","section-header-addOnEnd-button-padding-horizontal":"0px","section-header-addOnEnd-button-padding-vertical":"0px","section-header-padding-vertical":"16px","section-header-subtitle-margin-vertical":"14px","section-header-subtitle-with-addOnEnd-margin-vertical":"6px","tab-height":"60px","tab-icon-padding-end":"0px","tab-text-icon-gap":"4px","tab-underline-color":"transparent","tab-underline-height":"3px","text-badge-corner-radius":"4px","text-badge-padding-horizontal":"6px","text-badge-padding-vertical":"6px","text-input-multi-padding-between-text-scrollbar":"20px","text-input-multi-padding-scrollbar":"16px","text-input-caption-margin-top":"10px","text-input-padding-vertical":"12px","toast-addon-padding-horizontal":"6px","toast-addon-padding-vertical":"6px","toast-container-max-width":"100%","toast-container-min-width":"0px","toast-container-padding-horizontal":"14px","toast-container-padding-vertical":"10px","toast-corner-radius":"8px","toaster-view-max-width":"328px","tooltip-corner-radius":"8px","typeahead-list-outer-padding-vertical":"2px","fds-animation-enter-exit-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-enter-exit-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-swap-shuffle-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-swap-shuffle-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-move-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-move-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-passive-move-in":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-passive-move-out":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-quick-move-in":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-quick-move-out":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-fade-in":"cubic-bezier(0, 0, 1, 1)","fds-animation-fade-out":"cubic-bezier(0, 0, 1, 1)","fds-duration-extra-extra-short-in":"100ms","fds-duration-extra-extra-short-out":"100ms","fds-duration-extra-short-in":"200ms","fds-duration-extra-short-out":"150ms","fds-duration-short-in":"280ms","fds-duration-short-out":"200ms","fds-duration-medium-in":"400ms","fds-duration-medium-out":"350ms","fds-duration-long-in":"500ms","fds-duration-long-out":"350ms","fds-duration-extra-long-in":"1000ms","fds-duration-extra-long-out":"1000ms","fds-duration-none":"0ms","fds-fast":"200ms","fds-slow":"400ms","font-family-apple":"system-ui, -apple-system, BlinkMacSystemFont, '.SFNSText-Regular', sans-serif","font-family-code":"ui-monospace, Menlo, Consolas, Monaco, monospace","font-family-default":"Helvetica, Arial, sans-serif","font-family-segoe":"Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","font-family-system-fds":"system-ui, -apple-system, BlinkMacSystemFont, Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","text-input-field-font-family":"Placeholder Font","text-input-field-font-size":"1rem","text-input-field-font-stretch":"initial","text-input-field-font-weight":"500","text-input-field-line-height":"1.2941","text-input-label-font-family":"Placeholder Font","text-input-label-font-size":"17px","text-input-label-font-size-scale-multiplier":"0.75","text-input-label-font-stretch":"initial","text-input-label-font-weight":"400","text-input-label-line-height":"1.2941","messenger-card-min-width":"300px","messenger-card-max-width":"480px","messenger-application-max-width":"2560px","messenger-sidebar-collapsed-width":"44px","messenger-sidebar-expanded-width":"240px","messenger-card-corner-radius":"8px","messenger-card-spacing":"16px","chat-bubble-padding-vertical":"8px","chat-bubble-padding-horizontal":"12px","chat-bubble-border-radius":"18px","dialog-size-medium-width":"100%","dialog-size-small-width":"100%","focus-ring-outline-forced-colors":"2px auto transparent !important","focus-ring-outline-link":"2px auto var(--focus-ring-blue)","focus-ring-shadow-default":"0 0 0 2px var(--always-white), 0 0 0 4px var(--focus-ring-blue)","focus-ring-shadow-inset":"0 0 0 2px var(--focus-ring-blue) inset, 0 0 0 4px var(--always-white) inset","glimmer-animation-direction":"alternate","glimmer-animation-duration":"1000ms","glimmer-animation-timing-function":"linear","radio-checked-icon-size-large":"12px","radio-checked-icon-size-medium":"12px","radio-border-width":"2px","radio-size-large":"24px","radio-size-medium":"20px","blue-primary":"rgb(0,136,244)","blue-secondary":"rgb(4,59,114)","blue-tertiary":"rgb(235,245,255)","chartreuse-primary":"rgb(106,147,22)","chartreuse-secondary":"rgb(50,65,19)","chartreuse-tertiary":"rgb(226,255,152)","cyan-primary":"rgb(0,142,213)","cyan-secondary":"rgb(15,63,93)","cyan-tertiary":"rgb(231,245,255)","dataviz-primary-2":"rgb(156,219,255)","dataviz-primary-3":"rgb(73,156,255)","dataviz-secondary-1":"rgb(83,78,191)","dataviz-secondary-2":"rgb(103,96,228)","dataviz-secondary-3":"rgb(119,45,88)","dataviz-supplementary-1":"rgb(253,91,67)","dataviz-supplementary-2":"rgb(161,132,0)","dataviz-supplementary-3":"rgb(36,131,44)","dataviz-supplementary-4":"rgb(51,51,52)","fuschia-primary":"rgb(250,45,138)","fuschia-secondary":"rgb(118,14,62)","fuschia-tertiary":"rgb(255,241,246)","green-primary":"rgb(43,154,53)","green-secondary":"rgb(26,68,27)","green-tertiary":"rgb(227,250,224)","magenta-primary":"rgb(215,77,204)","magenta-secondary":"rgb(96,36,91)","magenta-tertiary":"rgb(255,239,254)","orange-primary":"rgb(208,108,20)","orange-secondary":"rgb(94,49,14)","orange-tertiary":"rgb(255,241,239)","purple-primary":"rgb(125,116,255)","purple-secondary":"rgb(55,50,121)","purple-tertiary":"rgb(245,241,255)","red-primary":"rgb(251,60,68)","red-secondary":"rgb(118,22,27)","red-tertiary":"rgb(255,241,239)","teal-primary":"rgb(0,152,124)","teal-secondary":"rgb(10,68,56)","teal-tertiary":"rgb(227,247,241)","yellow-primary":"rgb(161,132,0)","yellow-secondary":"rgb(72,59,12)","yellow-tertiary":"rgb(255,246,161)","base-unit":"4px","blue-0":"245, 251, 255","blue-1":"224, 241, 255","blue-2":"179, 219, 255","blue-3":"112, 188, 255","blue-4":"71, 175, 255","blue-5":"0, 149, 246","blue-6":"0, 116, 204","blue-7":"0, 87, 163","blue-8":"0, 55, 107","blue-9":"0, 41, 82","cyan-5":"39, 196, 245","font-family-monospace":"Menlo, Monaco, Consolas, Courier New, monospace","font-family-system":"system-ui, -apple-system, BlinkMacSystemFont, Roboto, Helvetica, Arial, sans-serif","font-family-serif":"ui-serif, New York Small, New York, Georgia, Times New Roman, Times, serif","font-weight-system-bold":"700","font-weight-system-extra-bold":"800","font-weight-system-extra-light":"200","font-weight-system-light":"300","font-weight-system-medium":"500","font-weight-system-regular":"400","font-weight-system-semibold":"600","green-4":"120, 222, 69","green-5":"88, 195, 34","green-6":"55, 166, 0","grey-0":"245, 245, 245","grey-1":"239, 239, 239","grey-2":"219, 219, 219","grey-3":"199, 199, 199","grey-4":"168, 168, 168","grey-5":"142, 142, 142","grey-6":"115, 115, 115","grey-7":"85, 85, 85","grey-8":"54, 54, 54","grey-9":"38, 38, 38","grey-10":"26, 26, 26","orange-5":"253, 141, 50","pink-5":"209, 8, 105","purple-5":"163, 7, 186","red-4":"255, 104, 116","red-5":"237, 73, 86","red-6":"198, 35, 48","red-7":"167, 3, 17","system-10-font-size":"10px","system-10-line-height":"12px","system-11-font-size":"11px","system-11-line-height":"13px","system-12-font-size":"12px","system-13-font-size":"13px","system-12-line-height":"16px","system-14-font-size":"14px","system-14-line-height":"18px","system-15-font-size":"15px","system-15-line-height":"21px","system-16-font-size":"16px","system-17-font-size":"17px","system-16-line-height":"20px","system-18-font-size":"18px","system-18-line-height":"24px","system-20-font-size":"20px","system-20-line-height":"25px","system-22-font-size":"22px","system-22-line-height":"26px","system-24-font-size":"24px","system-24-line-height":"27px","system-26-font-size":"26px","system-26-line-height":"28px","system-28-font-size":"28px","system-28-line-height":"32px","system-30-font-size":"30px","system-30-line-height":"36px","system-32-font-size":"32px","system-32-line-height":"40px","system-40-font-size":"40px","system-40-line-height":"46px","yellow-5":"253, 203, 92","barcelona-success-icon":"#20c584","barcelona-green-dot":"rgb(94, 231, 71)","background-primary":"rgb(255, 255, 255)","glimmer-stagger-time":"100ms","base-line-clamp-line-height":"calc(1.4 * 1em)","barcelona-desktop-header-height":"74px","barcelona-mobile-header-height":"60px","barcelona-mobile-logged-out-header-height":"102px","barcelona-large-screen-breakpoint":"768px","barcelona-large-screen-composer-footer-height":"84px","barcelona-small-screen-composer-footer-height":"64px","barcelona-composer-header-height":"46px","barcelona-large-screen-max-width":"620px","barcelona-large-screen-max-page-width":"1230px","barcelona-large-screen-padding":"344px","barcelona-large-screen-content-width":"572px","barcelona-medium-screen-breakpoint":"700px","barcelona-medium-screen-max-width":"520px","barcelona-small-screen-nav-height":"68px","barcelona-small-screen-nav-height-short":"50px","barcelona-threadline-column-width":"48px","barcelona-desktop-page-horizontal-padding":"24px","barcelona-post-horizontal-padding":"12px","barcelona-quoted-post-horizontal-padding":"16px","barcelona-carousel-gap":"6px","barcelona-lightbox-horizontal-padding":"92px","barcelona-search-page-width":"572px","barcelona-columns-item-horizontal-padding":"24px","barcelona-user-list-item-padding":"16px","barcelona-side-navigation-width":"76px","barcelona-tombstone-padding-horizontal":"12px","barcelona-post-footer-height":"60px","barcelona-markup-attachment-max-width":"355px","barcelona-box-shadow-04":"rgba(0, 0, 0, 0.04)","barcelona-box-shadow-08":"rgba(0, 0, 0, 0.08)","barcelona-box-shadow-10":"rgba(0, 0, 0, 0.10)","barcelona-box-shadow-12":"rgba(0, 0, 0, 0.12)","barcelona-box-shadow-15":"rgba(0, 0, 0, 0.15)","barcelona-dark-backdrop-background":"rgba(0, 0, 0, 0.7)","barcelona-onboarding-navigation-height":"52px","barcelona-onboarding-small-screen-navigation-height":"38px","barcelona-onboarding-content-width":"390px","barcelona-notification-badge-background":"rgb(255, 48, 64)","barcelona-notification-badge-background-wide-gamut":"color(display-p3 1 0.18 0.25 / 1)","barcelona-verified-badge-background":"rgb(0, 149, 246)","barcelona-video-player-mute-button-background":"rgb(40, 40, 40, 0.5)","barcelona-activity-icon-background-first-post":"#007aff","barcelona-activity-icon-background-follow":"#6e3def","barcelona-activity-icon-background-like":"#fe0169","barcelona-activity-icon-background-mention":"#20c584","barcelona-activity-icon-background-quote":"#fe7900","barcelona-activity-icon-background-markup":"#ffd600","barcelona-activity-icon-background-polls":"#007aff","barcelona-activity-icon-background-reply":"#24c3ff","barcelona-activity-icon-background-repost":"#c329bf","barcelona-activity-icon-background-request":"#ffb800","barcelona-activity-icon-background-subscribe":"#24c3ff","barcelona-activity-icon-background-warning":"#ff0000","barcelona-activity-icon-background-pinned-reply":"#0d31eb","barcelona-medium-column-layout-width":"420px","barcelona-column-layout-max-width":"640px","site-width-wide":"935px","gradient-yellow":"255, 214, 0","gradient-orange":" 255, 122, 0","gradient-pink":"255, 1, 105","gradient-lavender":"211, 0, 197","gradient-purple":"118, 56, 250","ig-primary-background":"255, 255, 255","ig-elevated-highlight-background":"239, 239, 239","text-inverse":"rgb(255, 255, 255)","text-primary":"rgb(0, 0, 0)","text-secondary":"rgb(153, 153, 153)","barcelona-secondary-text-loading":"rgba(153, 153, 153, 0.25)","barcelona-primary-button":"rgb(0, 0, 0)","barcelona-primary-button-text":"rgb(255, 255, 255)","barcelona-secondary-button":"rgb(255, 255, 255)","barcelona-liked-text":"rgb(255, 48, 64)","barcelona-liked-text-wide-gamut":"color(display-p3 1 0.18 0.25 / 1)","barcelona-link-text":"rgb(0, 149, 246)","barcelona-error-text":"rgb(255, 48, 64)","barcelona-beta-text":"rgb(149, 120, 179)","barcelona-charcoal-text":"rgb(66, 66, 66)","barcelona-brand-highlighted-text":"rgb(0, 42, 6)","icon-inverse":"rgba(255, 255, 255, 1)","icon-primary":"rgb(0, 0, 0)","barcelona-secondary-icon":"rgb(153, 153, 153)","barcelona-navigation-icon":"rgb(184, 184, 184)","barcelona-charcoal-icon":"rgb(66, 66, 66)","background-inverse":"rgb(16, 16, 16)","background-secondary":"rgb(250, 250, 250)","background-tertiary":"rgb(245, 245, 245)","barcelona-elevated-background":"rgb(255, 255, 255)","barcelona-primary-button-background":"rgb(0, 0, 0)","barcelona-header-background":"rgba(255, 255, 255, 0.85)","barcelona-elevated-header-background":"rgba(255, 255, 255, 0.85)","barcelona-elevated-tertiary-background":"rgb(255, 255, 255)","barcelona-hovered-background":"rgba(0, 0, 0, 0.04)","barcelona-pressed-background":"rgba(0, 0, 0, 0.06)","barcelona-side-navigation-background":"rgba(250, 250, 250, 0.85)","barcelona-dialog-backdrop-background":"rgba(255, 255, 255, 0.85)","barcelona-navigation-item-hover-background":"rgba(0, 0, 0, 0.035)","barcelona-floating-button-background":"rgba(0, 0, 0, 0.03)","barcelona-upsell-gradient-background":"linear-gradient(0deg, color(display-p3 1 1 1) 54.03%, color(display-p3 1 1 1 / 0.00) 99.83%)","barcelona-avatar-ig-background-border-hovered":"rgba(255, 255, 255, 0.1)","status-info":"rgba(155, 56, 255, 0.04)","barcelona-brand-highlighted-background":"rgb(250, 234, 78)","barcelona-brand-highlighted-pressure-point-background":"rgb(239, 217, 0)","barcelona-insights-background":"rgb(245, 245, 245)","lines-primary":"rgba(0, 0, 0, 0.15)","barcelona-primary-column-outline":"rgb(213, 213, 213)","barcelona-media-outline":"rgba(0, 0, 0, 0.15)","barcelona-threadline":"rgb(229, 229, 229)","barcelona-menu-outline":"rgba(0, 0, 0, 0.04)","background-elevated":"rgb(225, 225, 225)","barcelona-composer-poll-option-outline":"rgb(229, 229, 229)","barcelona-poll-option-meter-background":"rgb(240, 240, 240)","barcelona-poll-option-meter-highlighted-background":"rgb(0, 0, 0)","barcelona-switch-background-off":"rgb(219, 223, 228)","barcelona-cherry-blossom-lightpink":"rgb(255, 224, 247)","barcelona-translucent-column-header-background":"rgb(254, 254, 254)","barcelona-tooltip-background":"rgb(255, 255, 255)","barcelona-splash-screen-logo-color":"rgb(0, 0, 0)","barcelona-bar-chart-gradient-bottom":"rgb(0, 0, 0)","barcelona-bar-chart-gradient-top":"rgb(102, 102, 102)","barcelona-user-list-action-button-gradient":"linear-gradient(180deg, color(display-p3 0.9804 0.9804 0.9804 / 0.00) 0%, color(display-p3 0.9804 0.9804 0.9804) 49.07%, color(display-p3 0.9804 0.9804 0.9804) 100%)"});i.default=e}),66);
__d("BarcelonaThemeProvider.react",["BarcelonaStyleXDarkTheme","BarcelonaStyleXDefaultTheme","BaseThemeProvider.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={dark:r("BarcelonaStyleXDarkTheme"),light:r("BarcelonaStyleXDefaultTheme"),type:"VARIABLES"};function d(t){var n=o("react-compiler-runtime").c(6),a=t.children,i=t.displayMode,l=t.xstyle,s;n[0]!==a||n[1]!==l?(s=function(n,o){return u.jsx("div",{className:(e||(e=r("stylex")))(n,l),style:o,children:a})},n[0]=a,n[1]=l,n[2]=s):s=n[2];var d;return n[3]!==i||n[4]!==s?(d=u.jsx(r("BaseThemeProvider.react"),{config:c,displayMode:i,children:s}),n[3]=i,n[4]=s,n[5]=d):d=n[5],d}l.default=d}),98);
__d("CometFocusGroupContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({FocusContainer:null,FocusItem:null});l.default=u}),98);
__d("CometFocusGroup.react",["CometCompositeFocusIndicator.react","CometFocusGroupContext","FocusGroup.react","focusScopeQueries","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","hideArrowSignifiers","role"],s,u=s||(s=o("react")),c=s.useMemo,d=o("FocusGroup.react").createFocusGroup(o("focusScopeQueries").tabbableScopeQuery),m=d[0],p=d[1];function _(t){var n=t.children,o=t.hideArrowSignifiers,a=t.role,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=c(function(){return{FocusContainer:m,FocusItem:p}},[]),s=c(function(){return{hideArrowSignifiers:o===!0,horizontal:t.orientation!=="vertical",role:a,vertical:t.orientation!=="horizontal"}},[o,t.orientation,a]);return u.jsx(r("CometCompositeFocusIndicator.react"),{compositeInfo:s,children:function(t){return u.jsx(r("CometFocusGroupContext").Provider,{value:l,children:u.jsx(m,babelHelpers.extends({},i,{children:n(t)}))})}})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("BaseList.react",["CometCompositeStructureContext","CometFocusGroup.react","focusScopeQueries","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t,n=e["aria-label"],a=e["aria-labelledby"],i=e.children,l=e.keyNavOrientation_DEPRECATED,c=e.ref,d=e.role,m=e.testid,p=e.variant,_=e.xstyle,f=d!=null?d:"list",g=u(function(){return{role:f}},[f]);return l!=null?s.jsx(r("CometFocusGroup.react"),{orientation:l,role:d,tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,children:function(t){var e;return s.jsx(o("react-strict-dom").html.div,{"aria-label":n!=null?n:void 0,"aria-labelledby":a,ref:c,role:d!=null?d:void 0,style:[t,_,p==null||(e=p.xstyleConfig)==null?void 0:e.root],children:i})}}):s.jsx(o("react-strict-dom").html.div,{"aria-label":n!=null?n:void 0,"aria-labelledby":a,"data-testid":void 0,ref:c,role:f,style:[_,p==null||(t=p.xstyleConfig)==null?void 0:t.root],children:s.jsx(r("CometCompositeStructureContext").Provider,{value:g,children:i})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("ariaGlimmerProps",["fbt","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={"aria-valuetext":s._(/*BTDS*/"Loading..."),role:"progressbar",tabIndex:0};l.default=c}),226);
__d("BaseProgressRingIndeterminate.react",["fbt","ariaGlimmerProps","react","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=24,m=2,p="x1m1m39n-B",_="x1k35ma4-B",f="x2un0yo-B",g="xz9a51c-B",h="x1bt8ye9-B",y="xaeq8qu-B",C="x1941mlr-B",b="xjo493o-B",v="xyllbq6-B",S={animationFillModeAndTimingFn:{animationFillMode:"x1u6ievf",animationTimingFunction:"x1wnkzza",$$css:!0},foregroundCircle:{animationDuration:"x1c74tu6",animationFillMode:"x1u6ievf",animationIterationCount:"xa4qsjk",animationTimingFunction:"xuxiujg",transformOrigin:"x1bndym7",$$css:!0},foregroundCircle12:{animationName:"x1iqdq0d",$$css:!0},foregroundCircle16:{animationName:"x1koaglw",$$css:!0},foregroundCircle20:{animationName:"x16tkgvi",$$css:!0},foregroundCircle24:{animationName:"xiepp7r",$$css:!0},foregroundCircle32:{animationName:"x1pb3rhs",$$css:!0},foregroundCircle48:{animationName:"x1w90wak",$$css:!0},foregroundCircle60:{animationName:"x1jrcm85",$$css:!0},foregroundCircle72:{animationName:"xnw30k",$$css:!0},rotationCircle:{animationDuration:"x1c74tu6",animationIterationCount:"xa4qsjk",animationName:"x1kfoseq",animationTimingFunction:"x193epu2",outline:"x1a2a7pz",transformOrigin:"x1bndym7",$$css:!0},stroke:{stroke:"x137613r",$$css:!0}},R={12:S.foregroundCircle12,16:S.foregroundCircle16,20:S.foregroundCircle20,24:S.foregroundCircle24,32:S.foregroundCircle32,48:S.foregroundCircle48,60:S.foregroundCircle60,72:S.foregroundCircle72};function L(t){var n,o,a,i=t.focusable,l=i===void 0?!0:i,u=t.isDecorative,p=u===void 0?!1:u,_=t.ref,f=t.size,g=f===void 0?d:f,h=t.sizeVariant,y=t.strokeWidth,C=y===void 0?m:y,b=t.typeVariant,v=t.xstyle,L=t["aria-label"],E=t["aria-labelledby"],k=b?babelHelpers.extends({focusable:!0,isDecorative:!1,strokeWidth:m},b):{focusable:l,isDecorative:p,strokeWidth:C,xstyleConfig:{svg:v}},I=h?babelHelpers.extends({size:d},h):{size:g,xstyleConfig:{circle:R[g]}},T=(I.size-k.strokeWidth)*Math.PI;return c.jsx("svg",babelHelpers.extends({"aria-hidden":(n=k.isDecorative)!=null?n:void 0,"aria-label":E==null?L!=null?L:s._(/*BTDS*/"Loading..."):void 0,"aria-labelledby":E},(e||(e=r("stylex"))).props(S.rotationCircle,S.animationFillModeAndTimingFn,S.stroke,(o=k.xstyleConfig)==null?void 0:o.svg),{height:I.size,ref:_,role:"status",tabIndex:k.focusable&&!k.isDecorative?r("ariaGlimmerProps").tabIndex:void 0,viewBox:"0 0 "+I.size+" "+I.size,width:I.size,children:c.jsx("circle",babelHelpers.extends({},e.props([S.foregroundCircle,(a=I.xstyleConfig)==null?void 0:a.circle]),{cx:I.size/2,cy:I.size/2,fill:"none",r:(I.size-k.strokeWidth)/2,strokeDasharray:T,strokeWidth:k.strokeWidth}))}))}L.displayName=L.name+" [from "+i.id+"]",l.default=L}),226);
__d("CAAFetaSavePasswordInterstitialDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9971025792955102"}),null);
__d("CAAFetaSavePasswordInterstitialDialogQuery$Parameters",["CAAFetaSavePasswordInterstitialDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CAAFetaSavePasswordInterstitialDialogQuery_facebookRelayOperation"),metadata:{},name:"CAAFetaSavePasswordInterstitialDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CDSListCellRefContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s();l.default=u}),98);
__d("CDSListContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({density:"regular",selectedColorScheme:"neutral"});l.default=u}),98);
__d("CDSListTruncationLimitContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext();l.default=u}),98);
__d("CDSMenuItemRoleContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CDSSpinnerVariants",[],(function(t,n,r,o,a,i,l){"use strict";var e="x1k35ma4-B",s="xz9a51c-B",u={blueLink:{stroke:"xw496ev",$$css:!0},circle16:{animationName:"x1koaglw",$$css:!0},circle24:{animationName:"xiepp7r",$$css:!0},primary:{stroke:"xn5zopi",$$css:!0},primaryButton:{stroke:"x5r0ow9",$$css:!0},primaryOnMediaButton:{stroke:"x2dpgu9",$$css:!0},secondary:{stroke:"xm3jyu",$$css:!0},secondaryButton:{stroke:"xn5zopi",$$css:!0},secondaryOnMediaButton:{stroke:"xbwdf2z",$$css:!0}},c={xstyleConfig:{svg:u.blueLink}},d={xstyleConfig:{svg:u.primary}},m={xstyleConfig:{svg:u.primaryButton}},p={xstyleConfig:{svg:u.primaryOnMediaButton}},_={xstyleConfig:{svg:u.secondary}},f={xstyleConfig:{svg:u.secondaryButton}},g={xstyleConfig:{svg:u.secondaryOnMediaButton}},h={size:16,xstyleConfig:{circle:u.circle16}},y={size:24,xstyleConfig:{circle:u.circle24}},C={blueLink:c,primary:d,"primary-button":m,"primary-on-media-button":p,secondary:_,"secondary-button":f,"secondary-on-media-button":g},b={16:h,24:y};l.blueLinkVariant=c,l.primaryVariant=d,l.primaryButtonVariant=m,l.primaryOnMediaButtonVariant=p,l.secondaryVariant=_,l.secondaryButtonVariant=f,l.secondaryOnMediaButtonVariant=g,l.size16Variant=h,l.size24Variant=y,l.typeVariants=C,l.sizeVariants=b}),98);
__d("CDSTextStyleNames",[],(function(t,n,r,o,a,i){"use strict";var e={headline1Body:"headline1",headline1Meta:"headline1",headline2Body:"headline2",headline3Body:"headline3",headline3Meta:"headline3",primaryLabelMeta:"primaryLabel"},l={headline1Body:"body",headline1Meta:"meta",headline2Body:"body",headline3Body:"body",headline3Meta:"meta",primaryLabelMeta:"meta"};i.headlineTextStyleNames=e,i.contentTextStyleNames=l}),66);
__d("CDSTooltipStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e={container:{backgroundColor:"xj5tmjb",isolation:"xc8icb0",paddingTop:"x1vxi1rh",paddingBottom:"xocrmdt",paddingInlineStart:"xxekjy0",paddingInlineEnd:"x1klb5xx",paddingLeft:null,paddingRight:null,$$css:!0}};l.CDSTooltipStyles=e}),98);
__d("FRLXAuthHomeControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/",Object.freeze({uphe:!1}),void 0),s=e;l.default=s}),98);
__d("XCometHomeControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("ConsentTemplateActionUtils",["FBLogger","FRLXAuthHomeControllerRouteBuilder","THXBarcelonaFeedControllerRouteBuilder","XCometHomeControllerRouteBuilder","XMessengerDotComCometRootControllerRouteBuilder","XPolarisFeedControllerRouteBuilder","goForceFullPageRedirectTo"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){if(t("flow_finished"),n!=null){n();return}var o=s(e);r("goForceFullPageRedirectTo")(o)}function s(e){switch(e){case"facebook_comet":return r("XCometHomeControllerRouteBuilder").buildURL({});case"facebook_weblite":return r("XCometHomeControllerRouteBuilder").buildURL({});case"messenger_dot_com":return r("XMessengerDotComCometRootControllerRouteBuilder").buildURL({});case"instagram_web":return r("XPolarisFeedControllerRouteBuilder").buildURL({});case"meta_comet":return r("FRLXAuthHomeControllerRouteBuilder").buildURL({});case"barcelona_web":return r("THXBarcelonaFeedControllerRouteBuilder").buildURL({});default:throw r("FBLogger")("consent_core").mustfixThrow("Surface %s is not supported by Consent Template infra and cannot be used for shutdown experience",e)}}l.handleEndOfConsentFlow=e}),98);
__d("GeneralizedConsentLoggingEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4746"),s=o("FalcoLoggerInternal").create("generalized_consent_logging_event",e),u=s;l.default=u}),98);
__d("ConsentGCLLogger",["GeneralizedConsentLoggingEventFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,o,a,i){var l={consent_identifier:n,event:String(e),event_data:t,experience_id:a,source:o,target:i};r("GeneralizedConsentLoggingEventFalcoEvent").log(function(){return l})}l.logGCLEvent=e}),98);
__d("ConsentTemplateConsentExperienceIDContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=s.createContext("");function p(e){var t=e.children,n=e.consentExperienceID,r=d(function(){return n},[n]);return s.jsx(m.Provider,{value:r,children:t})}p.displayName=p.name+" [from "+i.id+"]";function _(){var e=c(m);return e}l.ConsentTemplateConsentExperienceIDContextProvider=p,l.useConsentTemplateConsentExperienceID=_}),98);
__d("ConsentTemplateFlowContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=s.createContext("");function p(e){var t=e.children,n=e.flow,r=d(function(){return n},[n]);return s.jsx(m.Provider,{value:r,children:t})}p.displayName=p.name+" [from "+i.id+"]";function _(){var e=c(m);return e}l.ConsentTemplateFlowContextProvider=p,l.useConsentTemplateFlow=_}),98);
__d("ConsentTemplateSurfaceContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=s.createContext("unknown");function p(e){var t=e.children,n=e.surface,r=d(function(){return n},[n]);return s.jsx(m.Provider,{value:r,children:t})}p.displayName=p.name+" [from "+i.id+"]";function _(){var e=c(m);return e}l.ConsentTemplateSurfaceContextProvider=p,l.useConsentTemplateSurface=_}),98);
__d("ConsentTemplateGeneralizedConsentLoggingContext",["ConsentGCLLogger","ConsentTemplateConsentExperienceIDContext","ConsentTemplateFlowContext","ConsentTemplateSurfaceContext","nullthrows","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useContext,m=u.useMemo,p=s.createContext(null);function _(e){var t=e.children,n=e.gclExperienceID,r=e.gclSource,o=e.gclTarget,a=m(function(){return{gclExperienceID:n,gclSource:r,gclTarget:o}},[n,r,o]);return s.jsx(p.Provider,{value:a,children:t})}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t=r("nullthrows")(d(p),"GCL params have not been set via context"),n=t.gclExperienceID,a=t.gclSource,i=t.gclTarget,l=o("ConsentTemplateFlowContext").useConsentTemplateFlow(),s=o("ConsentTemplateSurfaceContext").useConsentTemplateSurface(),u=o("ConsentTemplateConsentExperienceIDContext").useConsentTemplateConsentExperienceID();return c(function(t){var r={consent_experience_id:u,flow:l,surface:s};o("ConsentGCLLogger").logGCLEvent(t,r,e,a,n,i)},[e,n,a,i,l,s,u])}l.ConsentTemplateGeneralizedConsentLoggingContextProvider=_,l.useConsentTemplateGeneralizedConsentLoggingCallback=f}),98);
__d("ConsentTemplateActionCallbacksContext",["CometRelay","ConsentTemplateActionUtils","ConsentTemplateGeneralizedConsentLoggingContext","ConsentTemplateSurfaceContext","nullthrows","react","useConsentTemplateFlowConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=c(null);function _(){var e=d(p);return r("nullthrows")(e,"Prompt action callbacks have not been set via context")}function f(e){var t=e.children,n=e.currentConsentPrompt,a=e.onCloseDialog,i=e.popConsentPrompt,l=e.pushConsentPrompt,u=o("CometRelay").useRelayEnvironment(),c=o("ConsentTemplateSurfaceContext").useConsentTemplateSurface(),d=r("useConsentTemplateFlowConfig")(),_=o("ConsentTemplateGeneralizedConsentLoggingContext").useConsentTemplateGeneralizedConsentLoggingCallback(n),f=m(function(){return{onApproved:function(t){_("step_approved"),d.recordConsentOutcome("APPROVED",u),t!=null?l(t):o("ConsentTemplateActionUtils").handleEndOfConsentFlow(c,_,a)},onBacked:function(){_("step_backed");var e=i();e==null&&o("ConsentTemplateActionUtils").handleEndOfConsentFlow(c,_,a)},onContinued:function(t){_("step_continued"),l(t)},onDenied:function(t){_("step_denied"),d.recordConsentOutcome("DENIED",u),t!=null?l(t):o("ConsentTemplateActionUtils").handleEndOfConsentFlow(c,_,a)},onDismissed:function(){_("step_dismissed"),o("ConsentTemplateActionUtils").handleEndOfConsentFlow(c,_,a)},onFlowLaunched:function(){_("flow_launched")}}},[l,i,c,d,u,_,a]);return s.jsx(p.Provider,{value:f,children:t})}f.displayName=f.name+" [from "+i.id+"]",l.ConsentTemplateActionCallbacksContext=p,l.useConsentTemplateActionCallbacks=_,l.ConsentTemplateActionCallbacksProvider=f}),98);
__d("ConsentTemplateFlow.type",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({CELEB_BAIT:"celeb_bait",EXAMPLE:"example",TEMPLATE_1A:"template_1a",TEMPLATE_1B:"template_1b",TEMPLATE_1A_XMDS:"template_1a_xmds",TEMPLATE_1B_XMDS:"template_1b_xmds",UOOM:"uoom"});i.ConsentTemplateFlow=e}),66);
__d("ConsentTemplateFlows",["CelebBaitConsentTemplateConfig","ConsentTemplateFlow.type","ExampleConsentTemplateConfig","FBLogger","Template1AConsentTemplateConfig","Template1AXMDSConsentTemplateConfig","Template1BConsentTemplateConfig","Template1BXMDSConsentTemplateConfig","UOOMConsentTemplateConfig"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("ConsentTemplateFlow.type").ConsentTemplateFlow.cast(e);if(t==null)throw r("FBLogger")("consent_core").mustfixThrow("The flow %s is not supported by Consent Templates",e);switch(t){case o("ConsentTemplateFlow.type").ConsentTemplateFlow.CELEB_BAIT:return o("CelebBaitConsentTemplateConfig").CelebBaitConsentTemplateConfig;case o("ConsentTemplateFlow.type").ConsentTemplateFlow.EXAMPLE:return o("ExampleConsentTemplateConfig").ExampleConsentTemplateConfig;case o("ConsentTemplateFlow.type").ConsentTemplateFlow.TEMPLATE_1A:return o("Template1AConsentTemplateConfig").Template1AConsentTemplateConfig;case o("ConsentTemplateFlow.type").ConsentTemplateFlow.TEMPLATE_1B:return o("Template1BConsentTemplateConfig").Template1BConsentTemplateConfig;case o("ConsentTemplateFlow.type").ConsentTemplateFlow.TEMPLATE_1A_XMDS:return o("Template1AXMDSConsentTemplateConfig").Template1AXMDSConsentTemplateConfig;case o("ConsentTemplateFlow.type").ConsentTemplateFlow.TEMPLATE_1B_XMDS:return o("Template1BXMDSConsentTemplateConfig").Template1BXMDSConsentTemplateConfig;case o("ConsentTemplateFlow.type").ConsentTemplateFlow.UOOM:return o("UOOMConsentTemplateConfig").UOOMConsentTemplateConfig}}l.getConsentTemplateFlowConfig=e}),98);
__d("CelebBaitConsentTemplateConfigMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9805440179541125"}),null);
__d("CelebBaitConsentTemplateConfigMutation.graphql",["CelebBaitConsentTemplateConfigMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"outcome"}],t=[{alias:null,args:[{kind:"Variable",name:"outcome",variableName:"outcome"}],kind:"ScalarField",name:"celeb_bait_write_consent_outcome",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CelebBaitConsentTemplateConfigMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CelebBaitConsentTemplateConfigMutation",selections:t},params:{id:n("CelebBaitConsentTemplateConfigMutation_facebookRelayOperation"),metadata:{},name:"CelebBaitConsentTemplateConfigMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("CelebBaitConsentTemplateConfig",["$InternalEnum","CelebBaitConsentTemplateConfigMutation.graphql","CelebBaitExplicitConsentPromptScreen.react","CelebBaitExplicitNoticePromptScreenFB.react","CelebBaitExplicitNoticePromptScreenIG.react","CometRelay","ConsentTemplateFlow.type","FBLogger","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=n("$InternalEnum")({CELEB_BAIT_EXPLICIT_CONSENT:"celeb_bait_explicit_consent",CELEB_BAIT:"celeb_bait"}),d={flow:o("ConsentTemplateFlow.type").ConsentTemplateFlow.CELEB_BAIT,getConsentTemplatePromptScreen:function(t,n){var e=c.cast(t);if(e==null)throw r("FBLogger")("consent_core").mustfixThrow("No matching consent template screen found for the given prompt %s",t);switch(e){case c.CELEB_BAIT_EXPLICIT_CONSENT:return u.jsx(r("CelebBaitExplicitConsentPromptScreen.react"),{});case c.CELEB_BAIT:switch(n){case"facebook_comet":case"facebook_weblite":return u.jsx(r("CelebBaitExplicitNoticePromptScreenFB.react"),{});case"instagram_web":return u.jsx(r("CelebBaitExplicitNoticePromptScreenIG.react"),{})}break}throw r("FBLogger")("consent_core").mustfixThrow("The consent prompt %s does not currently support the surface %s",t,n)},recordConsentOutcome:function(r,a){var t=e!==void 0?e:e=n("CelebBaitConsentTemplateConfigMutation.graphql");o("CometRelay").commitMutation(a,{mutation:t,variables:{outcome:r}})}};l.ConsentTemplatePrompts=c,l.CelebBaitConsentTemplateConfig=d}),98);
__d("MetaBrandCaretLeftOutline24.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.753 4.341a1 1 0 0 0-1.412-.094l-8 7a1 1 0 0 0 0 1.506l8 7a1 1 0 0 0 1.318-1.506L9.518 12l7.14-6.247a1 1 0 0 0 .094-1.412z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MetaBrandCheckmarkShieldOutline24.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M16.64 9.768a1 1 0 1 0-1.28-1.536l-.067.055a43.006 43.006 0 0 0-4.852 4.74l-1.734-1.734a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.475-.067l.056-.067a40.999 40.999 0 0 1 5.25-5.25l.066-.055z"}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 5.835c0-.515.28-.99.73-1.24a17.03 17.03 0 0 1 16.54 0c.45.25.73.725.73 1.24v4.104a12 12 0 0 1-6.172 10.49L12.97 21.46a2 2 0 0 1-1.942 0L9.172 20.43A12 12 0 0 1 3 9.939V5.835zm2 .346a15.03 15.03 0 0 1 14 0V9.94a10 10 0 0 1-5.144 8.742L12 19.712l-1.856-1.031A10 10 0 0 1 5 9.939V6.181z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MetaBrandGearOutline24.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 12a4 4 0 1 1-8 0 4 4 0 0 1 8 0zm-2 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m22.191 9.207-2.224 2.06a8.112 8.112 0 0 1 0 1.466l2.224 2.06a1 1 0 0 1 .187 1.233l-1.702 2.948a1 1 0 0 1-1.162.455l-2.895-.896a7.991 7.991 0 0 1-1.27.735l-.672 2.954a1 1 0 0 1-.975.778H10.3a1 1 0 0 1-.975-.778l-.672-2.954a8 8 0 0 1-1.27-.735l-2.895.896a1 1 0 0 1-1.162-.455l-1.702-2.948a1 1 0 0 1 .187-1.233l2.224-2.06a8.1 8.1 0 0 1 0-1.466L1.81 9.207a1 1 0 0 1-.187-1.233l1.702-2.948a1 1 0 0 1 1.162-.455l2.895.896a7.992 7.992 0 0 1 1.27-.735l.672-2.954A1 1 0 0 1 10.299 1h3.403a1 1 0 0 1 .975.778l.672 2.954a7.99 7.99 0 0 1 1.27.735l2.895-.896a1 1 0 0 1 1.162.455l1.702 2.948a1 1 0 0 1-.187 1.233zm-8.574-3.071.894.412c.335.155.653.34.952.551l.805.57 3.075-.951.903 1.564-2.36 2.186.09.98a6.093 6.093 0 0 1 0 1.104l-.09.98 2.36 2.185-.903 1.565-3.075-.951-.805.57a5.993 5.993 0 0 1-.952.55l-.894.413L12.904 21h-1.807l-.713-3.136-.894-.412a5.993 5.993 0 0 1-.952-.551l-.805-.57-3.075.951-.904-1.565 2.36-2.185-.089-.98a6.102 6.102 0 0 1 0-1.104l.09-.98-2.36-2.186.903-1.564 3.075.951.805-.57c.299-.212.617-.396.952-.55l.894-.413L11.097 3h1.807l.713 3.136z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MetaBrandSmileyStardustOutline24.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M19.004 2.327a.541.541 0 0 0-.993 0l-.715 1.664a.54.54 0 0 1-.284.283l-1.684.72a.538.538 0 0 0-.005.989l1.62.71a.54.54 0 0 1 .274.271l.784 1.72c.194.426.804.42.989-.01l.73-1.699a.54.54 0 0 1 .284-.283l1.668-.713a.538.538 0 0 0 0-.991l-1.668-.714a.54.54 0 0 1-.284-.283l-.716-1.664z"}),s.jsx("path",{d:"M19 13c0-.698-.102-1.373-.293-2.009a2.503 2.503 0 0 0 1.79-.963 9 9 0 1 1-7.097-5.92 2.584 2.584 0 0 0-.332 1.973A7 7 0 1 0 19 13z"}),s.jsx("path",{d:"M9.227 12.636c.678 0 1.227-.732 1.227-1.636 0-.904-.549-1.636-1.227-1.636S8 10.096 8 11c0 .904.55 1.636 1.227 1.636zM8.172 14.168a1 1 0 0 1 1.387.277c.452.677 1.348 1.191 2.441 1.191 1.094 0 1.989-.514 2.441-1.191a1 1 0 0 1 1.663 1.11c-.854 1.28-2.4 2.081-4.104 2.081-1.703 0-3.25-.801-4.104-2.08a1 1 0 0 1 .276-1.388zM14.777 12.636c.678 0 1.228-.732 1.228-1.636 0-.904-.55-1.636-1.228-1.636-.677 0-1.227.732-1.227 1.636 0 .904.55 1.636 1.227 1.636z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("XMDSButtonSpinnerContainer.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.children;return s.jsx("div",{className:"x6s0dn4 x9f619 x78zum5 x1nrll8i x10l6tqk xwa60dl x11lhmoz x1vjfegm",children:t})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("XMDSSpinner.react",["BaseProgressRingIndeterminate.react","CDSSpinnerVariants","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var n=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.color,l=i===void 0?"primary":i,s=a.isDecorative,c=a.size,d=babelHelpers.extends({},o("CDSSpinnerVariants").typeVariants[l],{isDecorative:s});return u.jsx(r("BaseProgressRingIndeterminate.react"),{ref:n,sizeVariant:o("CDSSpinnerVariants").sizeVariants[c],typeVariant:d})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("XMDSTooltipImpl.react",["CometPlaceholder.react","deferredLoadComponent","react","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("deferredLoadComponent")(r("requireDeferredForDisplay")("XMDSTooltipDeferredImpl.react").__setRef("XMDSTooltipImpl.react"));function c(e){return s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(u,babelHelpers.extends({},e))})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("XMDSTooltip.react",["BaseTooltip.react","XMDSTooltipImpl.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["delay"],s,u=s||(s=o("react"));function c(t){var n=t.delay,o=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(r("BaseTooltip.react"),babelHelpers.extends({},o,{delayTooltipMs:n,tooltipImpl:r("XMDSTooltipImpl.react")}))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("getActiveElement",[],(function(t,n,r,o,a,i){function e(e){if(e===void 0&&(e=document),e===void 0)return null;try{return e.activeElement||e.body}catch(t){return e.body}}i.default=e}),66);
__d("useCDSButtonSpinner",["FocusManager","getActiveElement","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d={spinnerContainer:{boxSizing:"x9f619",left:"x1nrll8i",insetInlineStart:null,insetInlineEnd:null,position:"x10l6tqk",top:"xwa60dl",transform:"x11lhmoz",zIndex:"x1vjfegm",$$css:!0}};function m(e,t,n){n===void 0&&(n=!0);var a=c(null),i=c(!1),l=c(!1);u(function(){var s=a.current;t?(!l.current&&s!=null&&e.current!=null&&r("getActiveElement")()===e.current&&o("FocusManager").focusElement(s),l.current=!0):(l.current&&i.current&&e.current!=null&&n&&o("FocusManager").focusElement(e.current),l.current=!1)},[e,l,i,t,n]);var s=function(t){a.current!=null&&t.target===a.current&&(i.current=!0)},d=function(t){a.current!=null&&t.target===a.current&&(i.current=!1)};return{handleContainerBlur:d,handleContainerFocus:s,spinnerRef:a}}l.spinnerContainerStyle=d,l.useCDSButtonSpinner=m}),98);
__d("XMDSButton.react",["BaseStyledButton.react","XMDSButtonSpinnerContainer.react","XMDSSpinner.react","XMDSText.react","XMDSTooltip.react","react","useCDSButtonSpinner","useMergeRefs"],(function(t,n,r,o,a,i,l){"use strict";var e=["addOnEnd","addOnStart","contentXstyle","disabled","label","labelIsHidden","linkProps","loading","onPress","ref","resetFocusAfterLoading","size","testid","tooltip","tooltipPosition","type","widthMode","xstyle"],s,u=s||(s=o("react")),c=s,d=c.useMemo,m=c.useRef,p=c.useState,_={button:{borderStartStartRadius:"x21tfra",borderStartEndRadius:"x1inkh0v",borderEndEndRadius:"xdmlb9z",borderEndStartRadius:"x99u3i8",$$css:!0},container:{display:"x3nfvp2",position:"x1n2onr6",$$css:!0},disabled:{opacity:"xti2d7y",$$css:!0},onMedia:{backgroundColor:"xrmyhay",$$css:!0},pressed:{opacity:"x1ks1olk",$$css:!0},primary:{backgroundColor:"xtvsq51",$$css:!0},primaryDestructive:{backgroundColor:"x1ejdgk5",$$css:!0},primaryOnMedia:{backgroundColor:"xyyilqk",$$css:!0},secondary:{backgroundColor:"x1qhmfi1",borderTopColor:"x1s9qjmn",borderInlineEndColor:"x71vvrb",borderBottomColor:"x7gj0x1",borderInlineStartColor:"x167l43f",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0},secondaryDestructive:{backgroundColor:"x1a4om8m",borderTopColor:"xlyiply",borderInlineEndColor:"xmfhr8w",borderBottomColor:"x4vss3y",borderInlineStartColor:"xbsyyi8",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0},secondaryEmphasized:{backgroundColor:"x1qhmfi1",borderTopColor:"x12ezzi8",borderInlineEndColor:"xk7q072",borderBottomColor:"x7uw254",borderInlineStartColor:"x1xjjfxs",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0},secondaryOnMedia:{backgroundColor:"x1f4ngb1",$$css:!0},sizeLarge:{borderStartStartRadius:"xqbgfmv",borderStartEndRadius:"xbe3n85",borderEndEndRadius:"x7a1id4",borderEndStartRadius:"x1d9i5bo",height:"x1xila8y",paddingInlineStart:"x1bumbmr",paddingInlineEnd:"xc8cyl1",paddingLeft:null,paddingRight:null,$$css:!0},sizeLargeWithAddOnEnd:{paddingInlineEnd:"xyauj1b",$$css:!0},sizeLargeWithAddOnStart:{paddingInlineStart:"xd4mpni",$$css:!0},sizeMedium:{borderStartStartRadius:"xj9xf8b",borderStartEndRadius:"xku6xm2",borderEndEndRadius:"x1ctn6jl",borderEndStartRadius:"xf0qvnx",height:"xp88ac2",paddingInlineStart:"x185berc",paddingInlineEnd:"x5ujcfi",paddingLeft:null,paddingRight:null,$$css:!0},sizeMediumWithAddOnEnd:{paddingInlineEnd:"x1drw3yx",$$css:!0},sizeMediumWithAddOnStart:{paddingInlineStart:"x31k296",$$css:!0},sizeSmall:{borderStartStartRadius:"x5zhcno",borderStartEndRadius:"x183u03e",borderEndEndRadius:"x1l1h38j",borderEndStartRadius:"x1sek5qj",height:"xhiysgs",paddingInlineStart:"xlff4si",paddingInlineEnd:"x1pkuq60",paddingLeft:null,paddingRight:null,$$css:!0},sizeSmallWithAddOnEnd:{paddingInlineEnd:"x1twhhy7",$$css:!0},sizeSmallWithAddOnStart:{paddingInlineStart:"xjc8h4x",$$css:!0},text:{backgroundColor:"xjbqb8w",$$css:!0},textWhileLoading:{opacity:"xg01cxk",$$css:!0},widthModeConstrained:{width:"x14atkfc",$$css:!0},widthModeFlexible:{width:"xh8yej3",$$css:!0}},f={"on-media":{iconColor:"secondary-button",spinnerColor:"secondary-button",textColor:"secondaryButtonText"},primary:{iconColor:"primary-button",spinnerColor:"primary-button",textColor:"primaryButtonText"},primaryDestructive:{iconColor:"primary-destructive-button",spinnerColor:"primary-button",textColor:"primaryButtonText"},primaryOnMedia:{iconColor:"primary-on-media-button",spinnerColor:"primary-on-media-button",textColor:"primaryOnMediaButtonText"},secondary:{iconColor:"secondary-button",spinnerColor:"secondary-button",textColor:"secondaryButtonText"},secondaryDestructive:{iconColor:"secondary-destructive-button",spinnerColor:"secondary-button",textColor:"secondaryDestructiveButtonText"},secondaryEmphasized:{iconColor:"blueLink",spinnerColor:"blueLink",textColor:"blueLink"},secondaryOnMedia:{iconColor:"secondary-on-media-button",spinnerColor:"secondary-on-media-button",textColor:"secondaryOnMediaButtonText"},text:{iconColor:"primary",spinnerColor:"secondary-button",textColor:"primaryText"},textEmphasized:{iconColor:"blueLink",spinnerColor:"blueLink",textColor:"blueLink"}},g={large:"primaryLabel",medium:"secondaryLabel",small:"tertiaryLabel"};function h(t){var n=t.addOnEnd,a=t.addOnStart,i=t.contentXstyle,l=t.disabled,s=l===void 0?!1:l,c=t.label,h=t.labelIsHidden,y=h===void 0?!1:h,C=t.linkProps,b=t.loading,v=b===void 0?!1:b,S=t.onPress,R=t.ref,L=t.resetFocusAfterLoading,E=L===void 0?!1:L,k=t.size,I=k===void 0?"medium":k,T=t.testid,D=t.tooltip,x=t.tooltipPosition,$=t.type,P=$===void 0?"primary":$,N=t.widthMode,M=N===void 0?"flexible":N,w=t.xstyle,A=babelHelpers.objectWithoutPropertiesLoose(t,e),F=f[P],O=F.iconColor,B=F.spinnerColor,W=F.textColor,q={color:O,size:16},U={color:B,size:24},V=g[I],H=p(!1),G=H[0],z=H[1],j=m(null),K=r("useMergeRefs")(R,j),Q=o("useCDSButtonSpinner").useCDSButtonSpinner(j,v,E),X=Q.handleContainerBlur,Y=Q.handleContainerFocus,J=Q.spinnerRef,Z=n!=null?u.jsx("div",babelHelpers.extends({},{0:{},1:{className:"xg01cxk"}}[!!v<<0],{children:n({iconProps:q,spinnerProps:U})})):null,ee=a!=null?u.jsx("div",babelHelpers.extends({},{0:{},1:{className:"xg01cxk"}}[!!v<<0],{children:a({iconProps:q})})):null,te=function(){return A["aria-label"]!=null?A["aria-label"]:y?c:void 0},ne=d(function(){if(ee!=null&&c!=null&&!y){if(I==="small")return _.sizeSmallWithAddOnStart;if(I==="medium")return _.sizeMediumWithAddOnStart;if(I==="large")return _.sizeLargeWithAddOnStart}},[ee,c,y,I]),re=d(function(){if(Z!=null){if(I==="small")return _.sizeSmallWithAddOnEnd;if(I==="medium")return _.sizeMediumWithAddOnEnd;if(I==="large")return _.sizeLargeWithAddOnEnd}},[Z,I]),oe=u.jsxs("div",babelHelpers.extends({},{0:{className:"x3nfvp2 x1n2onr6"},2:{className:"x3nfvp2 x1n2onr6 xh8yej3"},1:{className:"x3nfvp2 x1n2onr6 x14atkfc"},3:{className:"x3nfvp2 x1n2onr6 x14atkfc"}}[(M==="flexible")<<1|(M==="constrained")<<0],{onBlur:X,onFocus:Y,children:[v?u.jsx(r("XMDSButtonSpinnerContainer.react"),{children:u.jsx(r("XMDSSpinner.react"),{color:B,ref:J,size:I==="large"?24:16})}):null,u.jsx(r("BaseStyledButton.react"),babelHelpers.extends({},A,{addOnEnd:Z,addOnStart:ee,"aria-label":te(),content:c&&!y?u.jsx(r("XMDSText.react"),{color:W,maxLines:1,textStyle:V,xstyle:v&&_.textWhileLoading,children:c}):null,contentXstyle:[_.button,P==="primary"&&_.primary,P==="secondary"&&_.secondary,P==="primaryDestructive"&&_.primaryDestructive,P==="primaryOnMedia"&&_.primaryOnMedia,P==="secondaryDestructive"&&_.secondaryDestructive,P==="secondaryEmphasized"&&_.secondaryEmphasized,P==="secondaryOnMedia"&&_.secondaryOnMedia,P==="on-media"&&_.onMedia,P==="text"&&_.text,P==="textEmphasized"&&_.text,I==="small"&&_.sizeSmall,I==="medium"&&_.sizeMedium,I==="large"&&_.sizeLarge,G&&_.pressed,s&&_.disabled,ne,re,i],disabled:s||v,linkProps:C,onPress:S,onPressIn:function(){return z(!0)},onPressOut:function(){return z(!1)},overlayPressedStyle:_.pressed,padding:"normal",ref:K,role:C!=null?"link":"button",size:I,testid:void 0,xstyle:w}))]}));return D!=null?u.jsx(r("XMDSTooltip.react"),{position:x,tooltip:D,children:oe}):oe}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),98);
__d("CelebBaitExplicitConsentPromptScreen.react",["fbt","BaseRow.react","BaseRowItem.react","BaseView.react","CometColumnItem.react","CometPlaceholder.react","ConsentTemplateActionCallbacksContext","ConsentTemplateSurfaceContext","MetaBrandCaretLeftOutline24.svg.react","MetaBrandCheckmarkShieldOutline24.svg.react","MetaBrandGearOutline24.svg.react","MetaBrandSmileyStardustOutline24.svg.react","MetaLockupPrimary.react","XMDSButton.react","XMDSDialogContainer.react","XMDSDialogLoadingState.react","XMDSIcon.react","XMDSIconButton.react","XMDSInlinePressableText.react","XMDSText.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={footer:{backgroundColor:"x2bj2ny",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,"@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtons:{flexWrap:"x8hhl5t",justifyContent:"x1qughib",paddingBottom:"xx6bls6","@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtonsContainer:{alignItems:"x1qjc9v5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},footerDisclosure:{paddingBottom:"xr1496l",paddingTop:"xqy66fx",$$css:!0},header:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,paddingTop:"x1iorvi4",$$css:!0},navbar:{alignItems:"x6s0dn4",justifyContent:"x1qughib",minHeight:"x8nclml",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},primaryButton:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0},secondaryButton:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},section:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},sectionIconTextList:{paddingBottom:"x10b6aqq",paddingTop:"xyamay9",$$css:!0},sectionIconTextListItem:{paddingTop:"x889kno",$$css:!0},sectionIconTextListItemContent:{paddingBottom:"x1a8lsjc",paddingTop:"x1yrsyyn",$$css:!0},sectionIconTextListItemContentSpaceBetween:{paddingTop:"x889kno",$$css:!0},sectionIconTextListItemIcon:{paddingInlineEnd:"xpdmqnj",$$css:!0},sectionParagraph:{paddingTop:"x7sb2j6",$$css:!0}};function d(){var e,t,n,a,l,d=o("ConsentTemplateSurfaceContext").useConsentTemplateSurface(),m="";switch(d){case"facebook_comet":case"facebook_weblite":m="https://www.facebook.com/privacy/policy/";break;default:m="https://privacycenter.instagram.com/policy/"}var p=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),_=p.onApproved,f=p.onBacked,g=p.onDenied;return u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("XMDSDialogLoadingState.react"),{withCloseButton:!1}),name:i.id,children:u.jsxs(r("XMDSDialogContainer.react"),{disableClosingWithMask:!0,size:"medium",children:[u.jsxs(e=r("BaseRow.react"),{xstyle:c.navbar,children:[u.jsx(r("XMDSIconButton.react"),{"aria-label":s._(/*BTDS*/"Back"),onPress:f,children:u.jsx(t=r("XMDSIcon.react"),{color:"primary",icon:r("MetaBrandCaretLeftOutline24.svg.react"),size:24})}),u.jsx(r("MetaLockupPrimary.react"),{size:12}),u.jsx("div",{className:"xc9qbxq x14qfxbe"})]}),u.jsx(n=r("BaseView.react"),{xstyle:[c.root,c.header],children:u.jsx(a=r("XMDSText.react"),{color:"primaryText",isPrimaryHeading:!0,textAlign:"start",textStyle:"headline1",children:s._(/*BTDS*/"Allow Meta to use facial recognition technology on your image to help protect it from misuse")})}),u.jsxs(r("CometColumnItem.react"),{expanding:!0,children:[u.jsxs(n,{xstyle:[c.root,c.section],children:[u.jsx(n,{xstyle:c.sectionParagraph,children:u.jsx(a,{color:"primaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"To help us quickly and more accurately detect and stop scams that use your image, we would like to use facial recognition technology. {=m1}",[s._implicitParam("=m1",u.jsx(r("XMDSInlinePressableText.react"),{linkProps:{target:"_blank",url:"https://www.meta.com/help/1265316287987507/"},children:s._(/*BTDS*/"Learn how we use this technology.")}))])})}),u.jsxs(n,{xstyle:c.sectionIconTextList,children:[u.jsxs(e,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(l=r("BaseRowItem.react"),{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(t,{icon:r("MetaBrandSmileyStardustOutline24.svg.react"),size:24})}),u.jsxs(l,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(e,{align:"start",children:u.jsx(a,{color:"primaryText",textAlign:"start",textStyle:"primaryLabel",children:s._(/*BTDS*/"How we use your data")})}),u.jsx(e,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(e,{children:u.jsx(a,{color:"secondaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"If we believe that your image is being misused, such as in scam ads, we will use facial recognition technology to compare that image to photos that you uploaded on your Facebook and Instagram profiles, including any previous profile photos on Facebook.")})})]})]}),u.jsxs(e,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(l,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(t,{icon:r("MetaBrandCheckmarkShieldOutline24.svg.react"),size:24})}),u.jsxs(l,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(e,{align:"start",children:u.jsx(a,{color:"primaryText",textAlign:"start",textStyle:"primaryLabel",children:s._(/*BTDS*/"What happens next")})}),u.jsx(e,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(e,{children:u.jsx(a,{color:"secondaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"If we confirm that your image is being misused, we will take action.")})})]})]}),u.jsxs(e,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(l,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(t,{icon:r("MetaBrandGearOutline24.svg.react"),size:24})}),u.jsxs(l,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(e,{align:"start",children:u.jsx(a,{color:"primaryText",textAlign:"start",textStyle:"primaryLabel",children:s._(/*BTDS*/"You can change your choice at any time")})}),u.jsx(e,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(e,{children:u.jsx(a,{color:"secondaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"You can manage this permission at any time in Accounts Centre. Changes that you make will apply to all of the Facebook and Instagram accounts in the same Accounts Centre.")})})]})]})]})]}),u.jsx(e,{expanding:!0}),u.jsxs(r("CometColumnItem.react"),{xstyle:[c.root,c.footer],children:[u.jsx(n,{xstyle:c.footerDisclosure,children:u.jsx(a,{color:"secondaryText",textAlign:"center",textStyle:"body",children:s._(/*BTDS*/"By choosing Agree, you consent to Meta using facial recognition technology on your data as described above and in the {=m1}",[s._implicitParam("=m1",u.jsx(r("XMDSInlinePressableText.react"),{linkProps:{target:"_blank",url:m},children:s._(/*BTDS*/"Privacy Policy.")}))])})}),u.jsx(n,{xstyle:c.footerButtons,children:u.jsx(e,{expanding:!0,children:u.jsxs(n,{xstyle:c.footerButtonsContainer,children:[u.jsx(l,{expanding:!0,xstyle:c.primaryButton,children:u.jsx(r("XMDSButton.react"),{disabled:!1,label:s._(/*BTDS*/"Agree"),onPress:function(){_()},size:"medium",type:"primary"})}),u.jsx(l,{expanding:!0,xstyle:c.secondaryButton,children:u.jsx(r("XMDSButton.react"),{disabled:!1,label:s._(/*BTDS*/"Don't agree"),onPress:function(){g()},size:"medium",type:"secondary"})})]})})})]})]})]})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("ConsentTemplateUserContext_user_data.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ConsentTemplateUserContext_user_data",selections:[{alias:null,args:null,concreteType:"ConsentTemplateAPIUserData",kind:"LinkedField",name:"user_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],storageKey:null}],type:"ConsentTemplateAPILaunch",abstractKey:null};a.exports=e}),null);
__d("ConsentTemplateUserContext",["CometRelay","ConsentTemplateUserContext_user_data.graphql","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext,d=u.createContext(null);function m(t){var r=t.children,a=t.launchConsentTemplateFlowData$key,i=o("CometRelay").useFragment(e!==void 0?e:e=n("ConsentTemplateUserContext_user_data.graphql"),a).user_data;return u.jsx(d.Provider,{value:i,children:r})}m.displayName=m.name+" [from "+i.id+"]";function p(){var e=c(d);return e==null?void 0:e.short_name}l.ConsentTemplateUserContextProvider=m,l.useConsentTemplateUserShortName=p}),98);
__d("CrossFilled24.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M18.707 5.293a1 1 0 0 0-1.414 0L12 10.586 6.707 5.293a1 1 0 0 0-1.414 1.414L10.586 12l-5.293 5.293a1 1 0 1 0 1.414 1.414L12 13.414l5.293 5.293a1 1 0 0 0 1.414-1.414L13.414 12l5.293-5.293a1 1 0 0 0 0-1.414z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("CelebBaitExplicitNoticePromptScreenFB.react",["fbt","BaseRow.react","BaseRowItem.react","BaseView.react","CelebBaitConsentTemplateConfig","CometBackgroundImage.react","CometColumn.react","CometColumnItem.react","CometPlaceholder.react","ConsentTemplateActionCallbacksContext","ConsentTemplateUserContext","CrossFilled24.svg.react","FDSButton.react","FDSCircleButton.react","FDSDialogContainer.react","FDSDialogLoadingState.react","FDSText.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={footer:{paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,paddingTop:"xyamay9",$$css:!0},footerButtons:{flexWrap:"x8hhl5t",justifyContent:"x1qughib",paddingBottom:"xsag5q8","@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtonsContainer:{alignItems:"x1qjc9v5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},header:{paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},headerTitle:{paddingTop:"xyamay9",$$css:!0},navbar:{alignItems:"x6s0dn4",justifyContent:"x1qughib",minHeight:"x879a55",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},primaryButton:{paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,paddingTop:"x1iorvi4",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0},secondaryButton:{paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,paddingTop:"x1iorvi4",$$css:!0},section:{paddingBottom:"x10b6aqq",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},sectionParagraph:{paddingTop:"xyamay9",$$css:!0}};function d(){var e,t=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),n=t.onContinued,a=t.onDismissed,l=t.onFlowLaunched,d=o("ConsentTemplateUserContext").useConsentTemplateUserShortName();return l(),u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("FDSDialogLoadingState.react"),{withCloseButton:!1}),name:i.id,children:u.jsxs(r("FDSDialogContainer.react"),{disableClosingWithMask:!0,size:"medium",children:[u.jsxs(r("BaseRow.react"),{xstyle:c.navbar,children:[u.jsx("div",{className:"xc9qbxq x14qfxbe"}),u.jsx(r("FDSCircleButton.react"),{"aria-label":s._(/*BTDS*/"Close"),icon:r("CrossFilled24.svg.react"),iconRatio:"large",onPress:a,size:32})]}),u.jsxs(e=r("BaseView.react"),{xstyle:[c.root,c.header],children:[u.jsx(r("CometColumn.react"),{align:"stretch",children:u.jsx(r("CometColumnItem.react"),{children:u.jsx(r("CometBackgroundImage.react"),{src:"/images/assets_DO_NOT_HARDCODE/privacy_checkup_privatetopublic/Communities-Privacy-Checkup-PrivateToPublic-BottomSheet-Header-iOS_light-2x.png"})})}),u.jsx(e,{xstyle:c.headerTitle,children:u.jsx(r("FDSText.react"),{align:"start",color:"primary",isPrimaryHeading:!0,type:"headlineEmphasized1",children:s._(/*BTDS*/"{userName}, help protect your image from being misused",[s._param("userName",d)])})})]}),u.jsx(e,{xstyle:[c.root,c.section],children:u.jsx(e,{xstyle:c.sectionParagraph,children:u.jsx(r("FDSText.react"),{align:"start",color:"primary",type:"body3",children:s._(/*BTDS*/"You can use facial recognition technology to help us detect and stop scams that use your image.")})})}),u.jsx(r("BaseRow.react"),{expanding:!0}),u.jsx(e,{xstyle:[c.root,c.footer],children:u.jsx(e,{xstyle:c.footerButtons,children:u.jsx(r("BaseRow.react"),{expanding:!0,children:u.jsxs(e,{xstyle:c.footerButtonsContainer,children:[u.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:c.primaryButton,children:u.jsx(r("FDSButton.react"),{disabled:!1,label:s._(/*BTDS*/"Continue"),onPress:function(){n(o("CelebBaitConsentTemplateConfig").ConsentTemplatePrompts.CELEB_BAIT_EXPLICIT_CONSENT)},size:"medium",type:"primary"})}),u.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:c.secondaryButton,children:u.jsx(r("FDSButton.react"),{disabled:!1,label:s._(/*BTDS*/"Not now"),onPress:a,size:"medium",type:"secondary"})})]})})})})]})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("IGDSDialogPage.react",["BaseHeadingContextWrapper.react","BaseScrollableArea.react","FocusInertRegion.react","focusScopeQueries","react","react-compiler-runtime","shouldUseIGDSPrismDialog","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={content:{paddingBottom:"x84yb8i",paddingInlineStart:"x7vhb2i",paddingInlineEnd:"xli2wwf",paddingLeft:null,paddingRight:null,"@media (max-width: 679px)_paddingInlineStart":"x1t4wfpm","@media (max-width: 679px)_paddingInlineEnd":"xnfz16y","@media (max-width: 679px)_paddingLeft":null,"@media (max-width: 679px)_paddingRight":null,$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxHeight:"x1yr2tfi",position:"x1n2onr6",$$css:!0},rootFullAndMinHeight:{minHeight:"xw36ugu",$$css:!0},rootFullHeight:{minHeight:"xw36ugu",$$css:!0},scrollableArea:{flexGrow:"x1iyjqo2",overscrollBehaviorY:"xy5w88m",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(29),a=t.children,i=t.disablePageScroll,l=t.footer,s=t.header,d=t.isContentInert,m=t.isFullHeightByDefault,p=t.mobileFullHeight,_=t.pageXStyle,f=t.scrollAreaRef,g=i===void 0?!1:i,h=d===void 0?!1:d,y=m===void 0?!1:m,C=p===void 0?!0:p,b,v,S;if(n[0]!==a||n[1]!==g||n[2]!==l||n[3]!==s||n[4]!==h||n[5]!==y||n[6]!==C||n[7]!==_||n[8]!==f){var R=r("shouldUseIGDSPrismDialog")(),L=!h,E;n[12]!==h?(E={0:{className:"x78zum5 xdt5ytf x1iyjqo2 x7ywyr2"},1:{className:"x78zum5 xdt5ytf x1iyjqo2 x7ywyr2 x47corl x87ps6o"}}[!!h<<0],n[12]=h,n[13]=E):E=n[13];var k;n[14]!==a||n[15]!==E?(k=u.jsx("div",babelHelpers.extends({},E,{children:a})),n[14]=a,n[15]=E,n[16]=k):k=n[16];var I;n[17]!==k||n[18]!==L?(I=u.jsx(r("FocusInertRegion.react"),{disabled:L,focusQuery:o("focusScopeQueries").tabbableScopeQuery,children:k}),n[17]=k,n[18]=L,n[19]=I):I=n[19];var T=I;n[20]!==a||n[21]!==y||n[22]!==C||n[23]!==_?(b=(e||(e=r("stylex"))).props(c.root,y&&c.rootFullHeight,y&&C&&a!=null&&c.rootFullAndMinHeight,_),n[20]=a,n[21]=y,n[22]=C,n[23]=_,n[24]=b):b=n[24],v=s,S=(a!=null||l!=null)&&u.jsxs(u.Fragment,{children:[a!=null&&u.jsx(r("BaseHeadingContextWrapper.react"),{children:g?u.jsx("div",babelHelpers.extends({},{0:{},1:{className:"x84yb8i x7vhb2i xli2wwf x1t4wfpm xnfz16y"}}[!!R<<0],{children:T})):u.jsx(r("BaseScrollableArea.react"),{horizontal:!1,ref:f,vertical:!0,xstyle:[c.scrollableArea,R&&c.content],children:T})}),l&&u.jsx("div",babelHelpers.extends({},{0:{},1:{className:"x84yb8i x7vhb2i xli2wwf x1t4wfpm xnfz16y"}}[!!R<<0],{children:l}))]}),n[0]=a,n[1]=g,n[2]=l,n[3]=s,n[4]=h,n[5]=y,n[6]=C,n[7]=_,n[8]=f,n[9]=b,n[10]=v,n[11]=S}else b=n[9],v=n[10],S=n[11];var D;return n[25]!==b||n[26]!==v||n[27]!==S?(D=u.jsxs("div",babelHelpers.extends({},b,{children:[v,S]})),n[25]=b,n[26]=v,n[27]=S,n[28]=D):D=n[28],D}l.default=d}),98);
__d("IGDSDialogPageLoadingState.react",["IGDSDialogHeader.react","IGDSDialogPage.react","IGDSSpinner.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.onClose,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx("div",{}),t[0]=a):a=t[0];var i;t[1]!==n?(i=s.jsx(r("IGDSDialogHeader.react"),{borderBottom:"none",onClose:n,children:a}),t[1]=n,t[2]=i):i=t[2];var l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k xh8yej3",children:s.jsx(r("IGDSSpinner.react"),{})}),t[3]=l):l=t[3];var u;return t[4]!==i?(u=s.jsx(r("IGDSDialogPage.react"),{footer:null,header:i,children:l}),t[4]=i,t[5]=u):u=t[5],u}l.default=u}),98);
__d("IGDSDialogContainer.react",["BaseDialog.react","BaseDialogLabelIDProvider","BaseMultiPageView.react","IGDSDialogPageLoadingState.react","PolarisUA","emptyFunction","react","react-compiler-runtime","shouldUseIGDSPrismDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c={anchor:{alignItems:"x1qjc9v5",maxHeight:"x1bwycvy",paddingTop:"x1x97wu9",paddingBottom:"xbr3nou",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,"@supports (padding: env(safe-area-inset-bottom, 0))_paddingBottom":"xqit15g","@supports (padding: env(safe-area-inset-bottom, 0))_paddingTop":"x1bi8yb4",$$css:!0},card:{backgroundColor:"x1jx94hy",borderStartStartRadius:"x1bphaa0",borderStartEndRadius:"x18nydb4",borderEndEndRadius:"xcm95gh",borderEndStartRadius:"x1vsb9q8",clipPath:"x1gj8qfm",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},cardPrism:{backgroundColor:"x1jx94hy",borderStartStartRadius:"x15fl9t6",borderStartEndRadius:"x1yw9sn2",borderEndEndRadius:"x1evh3fb",borderEndStartRadius:"x4giqqa",clipPath:"x1gj8qfm",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62","@media (max-width: 450px)_width":"x1kfdzhg","@media (max-width: 735px)_maxWidth":"xw2d4lh",$$css:!0},dialog:{alignItems:"x1qjc9v5",borderStartStartRadius:"x1bphaa0",borderStartEndRadius:"x18nydb4",borderEndEndRadius:"xcm95gh",borderEndStartRadius:"x1vsb9q8",display:"x78zum5",overflowX:"x1plvlek",overflowY:"xryxfnj",$$css:!0},dialogMobile:{width:"xh8yej3",$$css:!0},dialogPrism:{alignItems:"x1qjc9v5",borderStartStartRadius:"x15fl9t6",borderStartEndRadius:"x1yw9sn2",borderEndEndRadius:"x1evh3fb",borderEndStartRadius:"x4giqqa",display:"x78zum5",overflowX:"x1plvlek",overflowY:"xryxfnj","@media (max-width: 735px)_placeItems":"x14q99fr",$$css:!0}},d={default:{maxWidth:"x1j9u4d2",minWidth:"x1klvvdw",width:"x1wqampe",$$css:!0},extraLarge:{maxWidth:"xnfiwf0",width:"xh8yej3",$$css:!0},large:{width:"xewp6mh","@media (max-width: 735px)_alignSelf":"x13cs4ds","@media (max-width: 735px)_flexGrow":"x1quol0o","@media (max-width: 735px)_marginTop":"xwzhuwn","@media (max-width: 735px)_marginInlineEnd":"x1ou96c","@media (max-width: 735px)_marginBottom":"x1lvlso5","@media (max-width: 735px)_marginInlineStart":"x1ja1j3x","@media (max-width: 735px)_maxHeight":"xk2aghb","@media (max-width: 735px)_overflowX":"x14pmy57","@media (max-width: 735px)_overflowY":"xcaymy2","@media (max-width: 735px)_width":"x16kswgo",$$css:!0},prismDefault:{maxHeight:"xqui1pq",minHeight:"x5mc7k8",width:"xewp6mh x19lxi20",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(20),n=e.anchorXStyle,a=e["aria-label"],i=e.children,l=e.disableClosingWithMask,u=e.onClose,m=e.ref,p=e.size,_=e.testid,f=l===void 0?!1:l,g=p===void 0?"default":p,h=u!=null?u:r("emptyFunction"),y;t[0]!==h?(y=s.jsx(r("IGDSDialogPageLoadingState.react"),{onClose:h}),t[0]=h,t[1]=y):y=t[1];var C=y,b=o("BaseDialogLabelIDProvider").useDialogLabelID(),v=r("shouldUseIGDSPrismDialog")(),S;t[2]!==n?(S=[c.anchor,n],t[2]=n,t[3]=S):S=t[3];var R=a==null?b:void 0,L=u!=null?u:r("emptyFunction"),E=g==="default"&&v?d.prismDefault:d[g],k;t[4]===Symbol.for("react.memo_cache_sentinel")?(k=o("PolarisUA").isMobile()&&c.dialogMobile,t[4]=k):k=t[4];var I;t[5]!==E?(I=[v?c.dialogPrism:c.dialog,E,k],t[5]=E,t[6]=I):I=t[6];var T;t[7]!==i||t[8]!==C?(T=s.jsx(r("BaseMultiPageView.react"),{fallback:C,xstyle:v?c.cardPrism:c.card,children:i}),t[7]=i,t[8]=C,t[9]=T):T=t[9];var D;return t[10]!==a||t[11]!==f||t[12]!==m||t[13]!==I||t[14]!==T||t[15]!==S||t[16]!==R||t[17]!==L||t[18]!==_?(D=s.jsx(r("BaseDialog.react"),{anchorXStyle:S,"aria-label":a,"aria-labelledby":R,disableClosingWithMask:f,onClose:L,ref:m,testid:void 0,xstyle:I,children:T}),t[10]=a,t[11]=f,t[12]=m,t[13]=I,t[14]=T,t[15]=S,t[16]=R,t[17]=L,t[18]=_,t[19]=D):D=t[19],D}l.default=m}),98);
__d("IGDSDialog.react",["BaseDialogLabelIDProvider","IGDSDialogContainer.react","IGDSDialogPage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["anchorXStyle","aria-label","disableClosingWithMask","onClose","ref","size","testid"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(20),a,i,l,s,c,d,m,p;n[0]!==t?(a=t.anchorXStyle,i=t["aria-label"],l=t.disableClosingWithMask,s=t.onClose,d=t.ref,m=t.size,p=t.testid,c=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=d,n[7]=m,n[8]=p):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],d=n[6],m=n[7],p=n[8]);var _;n[9]!==c?(_=u.jsx(r("IGDSDialogPage.react"),babelHelpers.extends({},c)),n[9]=c,n[10]=_):_=n[10];var f;return n[11]!==a||n[12]!==i||n[13]!==l||n[14]!==s||n[15]!==d||n[16]!==m||n[17]!==_||n[18]!==p?(f=u.jsx(o("BaseDialogLabelIDProvider").BaseDialogLabelIDProvider,{children:u.jsx(r("IGDSDialogContainer.react"),{anchorXStyle:a,"aria-label":i,disableClosingWithMask:l,onClose:s,ref:d,size:m,testid:void 0,children:_})}),n[11]=a,n[12]=i,n[13]=l,n[14]=s,n[15]=d,n[16]=m,n[17]=_,n[18]=p,n[19]=f):f=n[19],f}l.default=c}),98);
__d("IGDSDialogLoadingState.react",["fbt","CometDialogLoadingStateContext","IGDSDialog.react","IGDSDialogHeader.react","IGDSSpinner.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(10),n=e["aria-label"],a=e.borderBottom,i=e.onClose,l=a===void 0?"default":a,c;t[0]!==n?(c=n!=null?n:s._(/*BTDS*/"Loading..."),t[0]=n,t[1]=c):c=t[1];var d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=u.jsx("div",{}),t[2]=d):d=t[2];var m;t[3]!==l||t[4]!==i?(m=u.jsx(r("IGDSDialogHeader.react"),{borderBottom:l,onClose:i,children:d}),t[3]=l,t[4]=i,t[5]=m):m=t[5];var p;t[6]===Symbol.for("react.memo_cache_sentinel")?(p=u.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k x1ku5rj1 xh8yej3",children:u.jsx(r("IGDSSpinner.react"),{})}),t[6]=p):p=t[6];var _;return t[7]!==c||t[8]!==m?(_=u.jsx(r("CometDialogLoadingStateContext").Provider,{value:!0,children:u.jsx(r("IGDSDialog.react"),{"aria-label":c,footer:null,header:m,children:p})}),t[7]=c,t[8]=m,t[9]=_):_=t[9],_}l.default=c}),226);
__d("CelebBaitExplicitNoticePromptScreenIG.react",["fbt","BaseRow.react","BaseRowItem.react","BaseView.react","CelebBaitConsentTemplateConfig","CometColumn.react","CometColumnItem.react","CometImage.react","CometPlaceholder.react","ConsentTemplateActionCallbacksContext","ConsentTemplateUserContext","IGDSBox.react","IGDSButton.react","IGDSDialogLegacy.react","IGDSDialogLoadingState.react","IGDSIconButton.react","IGDSText.react","IGDSXPanoOutlineIcon.react","PolarisBaseThemeDisplayModeWrapper.react","PolarisIGTheme.react","emptyFunction","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={dialog:{"--dialog-anchor-vertical-padding":"xqtmrrc",borderTopColor:"x5ur3kl",borderInlineEndColor:"x6usi7g",borderBottomColor:"x1bs97v6",borderInlineStartColor:"x18dxpii",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",maxHeight:"xedcshv","@media (max-width: 679px)_minHeight":"x1mfppf3",$$css:!0},footer:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,paddingTop:"xz9dl7a",$$css:!0},footerButtons:{flexWrap:"x8hhl5t",justifyContent:"x1qughib",paddingBottom:"xwxc41k","@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtonsContainer:{alignItems:"x1qjc9v5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},header:{paddingInlineStart:"x13jy36j",paddingInlineEnd:"x64bnmy",paddingLeft:null,paddingRight:null,$$css:!0},headerHero:{alignItems:"x6s0dn4",$$css:!0},headerTitle:{paddingTop:"xz9dl7a",$$css:!0},navbar:{alignItems:"x6s0dn4",justifyContent:"x1qughib",minHeight:"x1qafhyn",paddingInlineStart:"x13jy36j",paddingInlineEnd:"x64bnmy",paddingLeft:null,paddingRight:null,$$css:!0},primaryButton:{paddingBottom:"xwib8y2",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,paddingTop:"x1y1aw1k",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0},secondaryButton:{paddingBottom:"xwib8y2",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,paddingTop:"x1y1aw1k",$$css:!0},section:{paddingBottom:"x1a8lsjc",paddingInlineStart:"x13jy36j",paddingInlineEnd:"x64bnmy",paddingLeft:null,paddingRight:null,$$css:!0},sectionParagraph:{paddingTop:"x1p5oq8j",$$css:!0}};function d(){var e,t=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),n=t.onContinued,a=t.onDismissed,l=t.onFlowLaunched,d=o("ConsentTemplateUserContext").useConsentTemplateUserShortName();return l(),u.jsx(o("PolarisIGTheme.react").IGThemeProvider,{children:u.jsx(r("PolarisBaseThemeDisplayModeWrapper.react"),{children:u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("IGDSDialogLoadingState.react"),{onClose:r("emptyFunction")}),name:i.id,children:u.jsxs(r("IGDSDialogLegacy.react"),{innerContentXStyle:c.dialog,size:"large",children:[u.jsxs(r("BaseRow.react"),{xstyle:c.navbar,children:[u.jsx("div",{className:"xc9qbxq x14qfxbe"}),u.jsx(r("IGDSIconButton.react"),{onClick:a,padding:0,children:u.jsx(r("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:u.jsx(r("IGDSXPanoOutlineIcon.react"),{alt:s._(/*BTDS*/"Close"),size:24})})})]}),u.jsxs(e=r("BaseView.react"),{xstyle:[c.root,c.header],children:[u.jsx(r("CometColumn.react"),{align:"stretch",xstyle:c.headerHero,children:u.jsx(r("CometColumnItem.react"),{children:u.jsx(r("CometImage.react"),{height:96,src:"/images/assets_DO_NOT_HARDCODE/ig_illustrations/qp-shield-refresh_light-2x.png",width:96})})}),u.jsx(e,{xstyle:c.headerTitle,children:u.jsx(r("IGDSText.react"),{color:"primaryText",size:"headline2",textAlign:"start",weight:"bold",zeroMargin:!1,children:s._(/*BTDS*/"{userName}, help protect your image from being misused",[s._param("userName",d)])})})]}),u.jsx(e,{xstyle:[c.root,c.section],children:u.jsx(e,{xstyle:c.sectionParagraph,children:u.jsx(r("IGDSText.react"),{color:"primaryText",size:"body",weight:"normal",zeroMargin:!1,children:s._(/*BTDS*/"You can use facial recognition technology to help us detect and stop scams that use your image.")})})}),u.jsx(r("BaseRow.react"),{expanding:!0}),u.jsx(e,{xstyle:[c.root,c.footer],children:u.jsx(e,{xstyle:c.footerButtons,children:u.jsx(r("BaseRow.react"),{expanding:!0,children:u.jsxs(e,{xstyle:c.footerButtonsContainer,children:[u.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:c.primaryButton,children:u.jsx(r("IGDSButton.react"),{display:"block",isDisabled:!1,label:s._(/*BTDS*/"Continue"),onClick:function(){n(o("CelebBaitConsentTemplateConfig").ConsentTemplatePrompts.CELEB_BAIT_EXPLICIT_CONSENT)},size:"large",variant:"primary"})}),u.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:c.secondaryButton,children:u.jsx(r("IGDSButton.react"),{display:"block",isDisabled:!1,label:s._(/*BTDS*/"Not now"),onClick:a,size:"large",variant:"secondary"})})]})})})})]})})})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("ExampleConsentTemplateConfig",["$InternalEnum","ConsentTemplateFlow.type","ExamplePromptScreenFB.react","ExamplePromptScreenIG.react","ExamplePromptScreenMN.react","ExamplePromptScreenMeta.react","ExamplePromptScreenTH.react","FBLogger","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=n("$InternalEnum")({EXAMPLE:"example"}),c={flow:o("ConsentTemplateFlow.type").ConsentTemplateFlow.EXAMPLE,getConsentTemplatePromptScreen:function(t,n){var e=u.cast(t);if(e==null)throw r("FBLogger")("consent_core").mustfixThrow("No matching consent template screen found for the given prompt %s",t);switch(e){case u.EXAMPLE:switch(n){case"facebook_comet":return s.jsx(r("ExamplePromptScreenFB.react"),{});case"instagram_web":return s.jsx(r("ExamplePromptScreenIG.react"),{});case"meta_comet":return s.jsx(r("ExamplePromptScreenMeta.react"),{});case"messenger_dot_com":return s.jsx(r("ExamplePromptScreenMN.react"),{});case"barcelona_web":return s.jsx(r("ExamplePromptScreenTH.react"),{})}break}throw r("FBLogger")("consent_core").mustfixThrow("The consent prompt %s does not currently support the surface %s",t,n)},recordConsentOutcome:function(t,n){}};l.ConsentTemplatePrompts=u,l.ExampleConsentTemplateConfig=c}),98);
__d("CometIconAppFacebookCircleFilled.react",["CometSVGIcon.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(r("CometSVGIcon.react"),babelHelpers.extends({},e,{viewBox:"0 0 36 36",children:[s.jsx("path",{d:"M20.181 35.87C29.094 34.791 36 27.202 36 18c0-9.941-8.059-18-18-18S0 8.059 0 18c0 8.442 5.811 15.526 13.652 17.471L14 34h5.5l.681 1.87Z"}),s.jsx("path",{className:"xe3v8dz",d:"M13.651 35.471v-11.97H9.936V18h3.715v-2.37c0-6.127 2.772-8.964 8.784-8.964 1.138 0 3.103.223 3.91.446v4.983c-.425-.043-1.167-.065-2.081-.065-2.952 0-4.09 1.116-4.09 4.025V18h5.883l-1.008 5.5h-4.867v12.37a18.183 18.183 0 0 1-6.53-.399Z"})]}))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("CometIconLogo.react",["CometIconAppFacebookCircleFilled.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.color;return s.jsx(r("CometIconAppFacebookCircleFilled.react"),babelHelpers.extends({},e,{color:t!=null?t:"fb-logo"}))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MetaBrandDashedArcPointerOutline24Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({fill:"currentColor",viewBox:"0 0 24 24",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M5.98 19.97c.29.22.69.27 1.02.11 3.04-1.41 6.95-1.41 10 0a1 1 0 0 0 1.02-.11C20.55 18.06 22 15.15 22 12c0-3.67-1.99-6.88-4.95-8.62-.02-.01-.03-.03-.05-.04-.02 0-.03 0-.05-.02A9.9 9.9 0 0 0 12 2c-1.8 0-3.49.49-4.95 1.32-.02 0-.03 0-.05.02-.02.01-.03.03-.05.04C3.99 5.12 2 8.33 2 12c0 3.15 1.45 6.06 3.98 7.97M5 11h-.93a7.98 7.98 0 0 1 3.1-5.36l.46.8c.19.32.52.5.87.5.17 0 .34-.04.5-.13.48-.28.64-.89.37-1.37l-.47-.81c.95-.4 2-.63 3.1-.63s2.15.22 3.1.63l-.47.81a1.002 1.002 0 0 0 .87 1.5c.35 0 .68-.18.87-.5l.46-.8a7.98 7.98 0 0 1 3.1 5.36H19c-.55 0-1 .45-1 1s.45 1 1 1h.93a7.9 7.9 0 0 1-2.67 5.01A14 14 0 0 0 12 17c-1.82 0-3.62.35-5.26 1.01A7.9 7.9 0 0 1 4.07 13H5c.55 0 1-.45 1-1s-.45-1-1-1"}),s.jsx("path",{d:"M12 14c1.1 0 2-.9 2-2 0-.88-1.28-4.06-1.54-4.69-.15-.38-.77-.38-.93 0-.26.63-1.54 3.81-1.54 4.69 0 1.1.9 2 2 2z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MetaBrandEyeOutline24Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({fill:"currentColor",viewBox:"0 0 24 24",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{fillRule:"evenodd",d:"M12 8.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7m0 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3",clipRule:"evenodd"}),s.jsx("path",{fillRule:"evenodd",d:"M5.677 7.756c3.537-3.675 9.11-3.675 12.646 0l3.395 3.526a1.054 1.054 0 0 1 0 1.436l-3.395 3.526c-3.426 3.56-8.764 3.671-12.31.334l-.336-.334-3.395-3.526a1.054 1.054 0 0 1 0-1.436zm11.206 1.386c-2.75-2.857-7.016-2.857-9.766 0L4.367 12l2.75 2.857c2.75 2.857 7.016 2.857 9.766 0L19.632 12z",clipRule:"evenodd"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MetaBrandHeartOpenHandOutline24Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M14.506 2.024A2.877 2.877 0 0 1 17 4.882c0 1.328-.656 2.552-1.49 3.525-.845.985-1.954 1.815-3.063 2.369a1 1 0 0 1-.894 0c-1.108-.554-2.218-1.384-3.062-2.369C7.656 7.434 7 6.21 7 4.882a2.877 2.877 0 0 1 2.494-2.858 2.825 2.825 0 0 1 2.048.533c.162.118.316.254.458.405a3.27 3.27 0 0 1 .458-.405 2.825 2.825 0 0 1 2.048-.533z"}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m14.146 11.742-1.697 1.414-3.25-.928a5.285 5.285 0 0 0-5.188 1.345c-.272.272-.64.425-1.025.425h-.985a1 1 0 1 0 0 2h.985c.915 0 1.792-.364 2.439-1.01a3.286 3.286 0 0 1 3.225-.837l3.483.994c.366.105.658.384.778.746a.346.346 0 0 1-.355.454l-4.479-.344a1 1 0 0 0-.153 1.994l4.478.345c.63.048 1.2-.15 1.64-.502a.979.979 0 0 0 .04-.026l5.051-3.609a1.21 1.21 0 0 1 1.661.244c-.62.788-2.032 2.414-4.408 4.262-1.79 1.391-2.99 1.76-5.026 2.127a2.902 2.902 0 0 1-1.505-.137l-2.221-.808a8 8 0 0 0-5.264-.07l-.686.228a1 1 0 0 0 .633 1.898l.686-.23a6 6 0 0 1 3.948.054l2.22.807c.806.294 1.683.381 2.543.226 2.243-.404 3.779-.867 5.9-2.517 2.678-2.082 4.233-3.923 4.874-4.76.462-.603.46-1.392.102-1.99a3.212 3.212 0 0 0-3.967-1.322.933.933 0 0 0-.022-.017l-.735-.551a3 3 0 0 0-3.72.095zm2.52 1.505a1 1 0 0 0-1.24.032l-1.171.976c.167.204.31.43.422.673l2.167-1.548-.178-.133z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MetaBrandPersonStarsOutline24Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M5.409 1.606c-.347-.808-1.492-.808-1.839 0l-.423.988a1 1 0 0 1-.525.525l-1.016.435C.802 3.9.796 5.037 1.597 5.39l.952.419a1 1 0 0 1 .508.501l.495 1.09c.36.791 1.488.78 1.83-.02l.45-1.05a1 1 0 0 1 .525-.525l.988-.423c.808-.347.808-1.492 0-1.839l-.988-.423a1 1 0 0 1-.525-.525l-.423-.988zM18.99 3.461a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.99 12.961a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0-2a2 2 0 1 0 0-4 2 2 0 0 0 0 4zM18.99 19.147v.862c0 1.255-.792 2.358-2.029 2.57-1.16.198-2.817.382-4.971.382-2.155 0-3.812-.184-4.972-.382-1.237-.212-2.028-1.315-2.028-2.57v-.862c0-3.457 3.5-5.186 7-5.186s7 1.729 7 5.186zm-2 .862v-.862c0-.942-.434-1.657-1.288-2.219-.912-.6-2.255-.967-3.712-.967-1.458 0-2.8.367-3.713.967-.854.562-1.287 1.277-1.287 2.219v.862c0 .211.066.367.136.458.062.081.133.124.23.14 1.05.18 2.594.354 4.634.354 2.04 0 3.584-.174 4.634-.353a.343.343 0 0 0 .229-.14.756.756 0 0 0 .137-.459z"}),s.jsx("path",{d:"M4.99 13.961a1 1 0 1 0 0-2 1 1 0 0 0 0 2zM19.3 10.07a.75.75 0 0 1 1.379 0l.392.916a.75.75 0 0 0 .394.394l.916.392a.75.75 0 0 1 0 1.379l-.916.392a.75.75 0 0 0-.394.394l-.412.963a.75.75 0 0 1-1.372.015l-.452-.993a.75.75 0 0 0-.38-.376l-.885-.389a.75.75 0 0 1 .007-1.376l.937-.401a.75.75 0 0 0 .394-.394l.392-.916z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("ExamplePromptScreenFB.react",["fbt","BaseRow.react","BaseRowItem.react","BaseScrollableArea.react","BaseView.react","CometColumn.react","CometColumnItem.react","CometIconLogo.react","CometPlaceholder.react","CometRow.react","ConsentTemplateActionCallbacksContext","ConsentTemplateUserContext","FDSButton.react","FDSDialogContainer.react","FDSDialogLoadingState.react","FDSIcon.react","FDSLink.react","FDSText.react","MetaBrandDashedArcPointerOutline24Icon.react","MetaBrandEyeOutline24Icon.react","MetaBrandHeartOpenHandOutline24Icon.react","MetaBrandPersonStarsOutline24Icon.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={dialog:{"@media (max-width: 679px)_maxHeight":"x1jxyteu","@media (max-width: 679px)_minHeight":"x1mfppf3","@media (max-width: 679px)_paddingTop":"x1y0ix2f","@media (max-width: 679px)_paddingBottom":"x1eevrrt","@media (max-width: 679px)_paddingInlineStart":"x1vnzckh","@media (max-width: 679px)_paddingInlineEnd":"xgof6fa","@media (max-width: 679px)_paddingLeft":null,"@media (max-width: 679px)_paddingRight":null,$$css:!0},footer:{backgroundColor:"x2bj2ny",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,"@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtons:{flexWrap:"x8hhl5t",justifyContent:"x1qughib",paddingBottom:"xsag5q8","@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtonsContainer:{alignItems:"x1qjc9v5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},footerDisclosure:{paddingBottom:"xsag5q8",paddingTop:"xyamay9",$$css:!0},header:{paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,paddingTop:"xyamay9",$$css:!0},layout:{maxHeight:"x1yr2tfi",position:"x1n2onr6","@media (max-width: 679px)_maxHeight":"x1jxyteu",$$css:!0},navbar:{alignItems:"x6s0dn4",justifyContent:"x1qughib",minHeight:"x879a55",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},primaryButton:{paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,paddingTop:"x1iorvi4",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0},secondaryButton:{paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,paddingTop:"x1iorvi4",$$css:!0},section:{paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},sectionIconTextList:{paddingBottom:"x10b6aqq",paddingTop:"xyamay9",$$css:!0},sectionIconTextListItem:{paddingTop:"x889kno",$$css:!0},sectionIconTextListItemContent:{paddingBottom:"x1a8lsjc",paddingTop:"x1yrsyyn",$$css:!0},sectionIconTextListItemContentSpaceBetween:{paddingTop:"x889kno",$$css:!0},sectionIconTextListItemIcon:{paddingInlineEnd:"xpdmqnj",$$css:!0},sectionParagraph:{paddingTop:"x7sb2j6",$$css:!0}};function d(){var e,t,n,a,l,d,m=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),p=m.onApproved,_=m.onDenied,f=o("ConsentTemplateUserContext").useConsentTemplateUserShortName();return u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("FDSDialogLoadingState.react"),{withCloseButton:!1}),name:i.id,children:u.jsx(r("FDSDialogContainer.react"),{anchorXStyle:c.dialog,disableClosingWithMask:!0,size:"medium",children:u.jsxs(r("CometColumn.react"),{expanding:!0,paddingTop:0,paddingVertical:0,xstyle:c.layout,children:[u.jsxs(r("CometRow.react"),{xstyle:c.navbar,children:[u.jsx(e=r("CometColumnItem.react"),{children:u.jsx(r("CometIconLogo.react"),{size:32})}),u.jsx(e,{children:u.jsx("div",{className:"xc9qbxq x14qfxbe"})})]}),u.jsx(e,{expanding:!0,children:u.jsxs(r("BaseScrollableArea.react"),{expanding:!0,hideScrollbar:!1,horizontal:!1,vertical:!0,children:[u.jsx(t=r("BaseView.react"),{xstyle:[c.root,c.header],children:u.jsx(n=r("FDSText.react"),{align:"start",color:"primary",isPrimaryHeading:!0,type:"headlineEmphasized1",children:s._(/*BTDS*/"Allow Meta to improve your app experience?")})}),u.jsxs(t,{xstyle:[c.root,c.section],children:[u.jsx(t,{xstyle:c.sectionParagraph,children:u.jsx(n,{align:"start",color:"primary",type:"body3",children:s._(/*BTDS*/"{userName}, at Meta, we value your trust and want to be transparent about how we use your data. By consenting to this agreement, you allow us to collect and process your data to improve your app experience. {=m2}",[s._param("userName",f),s._implicitParam("=m2",u.jsx(r("FDSLink.react"),{href:"https://www.meta.com/help/1265316287987507/",children:s._(/*BTDS*/"Learn how your data will be processed.")}))])})}),u.jsxs(t,{xstyle:c.sectionIconTextList,children:[u.jsxs(a=r("BaseRow.react"),{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(l=r("BaseRowItem.react"),{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(d=r("FDSIcon.react"),{icon:r("MetaBrandPersonStarsOutline24Icon.react"),size:24})}),u.jsxs(l,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(a,{align:"start",children:u.jsx(n,{align:"start",color:"primary",type:"headlineEmphasized3",children:s._(/*BTDS*/"Personalized Recommendations")})}),u.jsx(a,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(a,{children:u.jsx(n,{align:"start",color:"secondary",type:"body3",children:s._(/*BTDS*/"We can provide you with tailored content and suggestions based on your interests and preferences.")})})]})]}),u.jsxs(a,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(l,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(d,{icon:r("MetaBrandDashedArcPointerOutline24Icon.react"),size:24})}),u.jsxs(l,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(a,{align:"start",children:u.jsx(n,{align:"start",color:"primary",type:"headlineEmphasized3",children:s._(/*BTDS*/"Enhanced App Performance")})}),u.jsx(a,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(a,{children:u.jsx(n,{align:"start",color:"secondary",type:"body3",children:s._(/*BTDS*/"Your data helps us identify areas for improvement, ensuring a smoother and more efficient app experience.")})})]})]}),u.jsxs(a,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(l,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(d,{icon:r("MetaBrandHeartOpenHandOutline24Icon.react"),size:24})}),u.jsxs(l,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(a,{align:"start",children:u.jsx(n,{align:"start",color:"primary",type:"headlineEmphasized3",children:s._(/*BTDS*/"New Features and Services")})}),u.jsx(a,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(a,{children:u.jsx(n,{align:"start",color:"secondary",type:"body3",children:s._(/*BTDS*/"By analyzing user behavior, we can develop new features and services that cater to your needs and interests.")})})]})]}),u.jsxs(a,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(l,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(d,{icon:r("MetaBrandEyeOutline24Icon.react"),size:24})}),u.jsxs(l,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(a,{align:"start",children:u.jsx(n,{align:"start",color:"primary",type:"headlineEmphasized3",children:s._(/*BTDS*/"Improved Security")})}),u.jsx(a,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(a,{children:u.jsx(n,{align:"start",color:"secondary",type:"body3",children:s._(/*BTDS*/"Your data helps us detect and prevent potential security threats, keeping your account and personal information safe.")})})]})]})]})]})]})}),u.jsxs(e,{xstyle:[c.root,c.footer],children:[u.jsx(t,{xstyle:c.footerDisclosure,children:u.jsx(n,{align:"center",color:"secondary",type:"body3",children:s._(/*BTDS*/"By agreeing to this consent, you acknowledge that you have read and understood how we will use your data to improve your app experience. You also acknowledge that you are at least 18 years old (or the age of majority in your jurisdiction) and have the authority to agree to this consent.")})}),u.jsx(t,{xstyle:c.footerButtons,children:u.jsx(a,{expanding:!0,children:u.jsxs(t,{xstyle:c.footerButtonsContainer,children:[u.jsx(l,{expanding:!0,xstyle:c.primaryButton,children:u.jsx(r("FDSButton.react"),{disabled:!1,label:s._(/*BTDS*/"Agree"),onPress:function(){p()},size:"medium",type:"primary"})}),u.jsx(l,{expanding:!0,xstyle:c.secondaryButton,children:u.jsx(r("FDSButton.react"),{disabled:!1,label:s._(/*BTDS*/"Don't agree"),onPress:function(){_()},size:"medium",type:"secondary"})})]})})})]})]})})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("MDSIcon.react",["BaseTheme.react","Box.react","FDSIcon.react","SVGIcon","XPlatReactEnvironment","getMDSIconColorCometFallback","react","useMDSIconColors"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","backgroundEnabled","color"],s,u=s||(s=o("react")),c=s.useMemo,d={iconBackground:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderStartStartRadius:"xd4w7er",borderStartEndRadius:"x1u1g78z",borderEndEndRadius:"x3n7fbn",borderEndStartRadius:"xljgxep",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},themeWrapper:{display:"xt0psk2",$$css:!0}},m={dark:{"secondary-button-background":"rgba(255, 255, 255, 0.14)"},light:{"secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"};function p(t){var n=t.ref,a=t.backgroundEnabled,i=a===void 0?!1:a,l=t.color,s=babelHelpers.objectWithoutPropertiesLoose(t,e),p=r("useMDSIconColors")(!0),_=l!=null&&l!=="primary"?p[l]:void 0,f=c(function(){return _!=null?{dark:{"primary-icon":_},light:{"primary-icon":_},type:"VARIABLES"}:void 0},[_]),g=s.icon instanceof o("SVGIcon").SVGIcon,h=u.jsx(r("FDSIcon.react"),babelHelpers.extends({color:g?"primary":o("getMDSIconColorCometFallback").getMDSIconColorCometFallback(l),ref:n},s));return f!=null&&(h=u.jsx(r("BaseTheme.react"),{config:f,xstyle:o("XPlatReactEnvironment").isWeb()?d.themeWrapper:null,children:h})),i?u.jsx(r("BaseTheme.react"),{config:m,children:u.jsx(r("Box.react"),{xstyle:d.iconBackground,children:h})}):h}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("ExamplePromptScreenIG.react",["fbt","BaseLink.react","BaseRow.react","BaseRowItem.react","BaseScrollableArea.react","BaseView.react","CometColumn.react","CometColumnItem.react","CometPlaceholder.react","CometRow.react","ConsentTemplateActionCallbacksContext","ConsentTemplateUserContext","IGDSButton.react","IGDSDialogLegacy.react","IGDSDialogLoadingState.react","IGDSText.react","MDSIcon.react","MetaBrandDashedArcPointerOutline24Icon.react","MetaBrandEyeOutline24Icon.react","MetaBrandHeartOpenHandOutline24Icon.react","MetaBrandInstagramFilled24.svg.react","MetaBrandPersonStarsOutline24Icon.react","PolarisBaseThemeDisplayModeWrapper.react","PolarisIGTheme.react","emptyFunction","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={dialog:{"--dialog-anchor-vertical-padding":"xqtmrrc",borderTopColor:"x5ur3kl",borderInlineEndColor:"x6usi7g",borderBottomColor:"x1bs97v6",borderInlineStartColor:"x18dxpii",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4","@media (max-width: 679px)_minHeight":"x1mfppf3","@media (max-width: 679px)_overflowX":"xgez5wu","@media (max-width: 679px)_overflowY":"x1ws9fzp",$$css:!0},footer:{backgroundColor:"x2bj2ny",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,"@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_position":"xv7j57z","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,$$css:!0},footerButtons:{flexWrap:"x8hhl5t",justifyContent:"x1qughib",paddingBottom:"xwxc41k",$$css:!0},footerButtonsContainer:{alignItems:"x1qjc9v5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},footerDisclosure:{paddingBottom:"xsag5q8",paddingTop:"xyamay9",$$css:!0},header:{paddingInlineStart:"x13jy36j",paddingInlineEnd:"x64bnmy",paddingLeft:null,paddingRight:null,paddingTop:"xz9dl7a",$$css:!0},layout:{maxHeight:"x1yr2tfi",position:"x1n2onr6","@media (max-width: 679px)_maxHeight":"x1jxyteu",$$css:!0},navbar:{alignItems:"x6s0dn4",justifyContent:"x1qughib",minHeight:"x879a55",paddingInlineStart:"x13jy36j",paddingInlineEnd:"x64bnmy",paddingLeft:null,paddingRight:null,$$css:!0},primaryButton:{paddingBottom:"xwib8y2",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,paddingTop:"x1y1aw1k",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0},secondaryButton:{paddingBottom:"xwib8y2",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,paddingTop:"x1y1aw1k",$$css:!0},section:{paddingInlineStart:"x13jy36j",paddingInlineEnd:"x64bnmy",paddingLeft:null,paddingRight:null,$$css:!0},sectionIconTextList:{paddingBottom:"x10b6aqq",paddingTop:"xyamay9",$$css:!0},sectionIconTextListItem:{paddingTop:"x889kno",$$css:!0},sectionIconTextListItemContent:{paddingBottom:"x1a8lsjc",paddingTop:"x1yrsyyn",$$css:!0},sectionIconTextListItemContentSpaceBetween:{paddingTop:"x889kno",$$css:!0},sectionIconTextListItemIcon:{paddingInlineEnd:"xpdmqnj",$$css:!0},sectionParagraph:{paddingTop:"x7sb2j6",$$css:!0}};function d(){var e,t,n,a,l,d,m=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),p=m.onApproved,_=m.onDenied,f=o("ConsentTemplateUserContext").useConsentTemplateUserShortName();return u.jsx(o("PolarisIGTheme.react").IGThemeProvider,{children:u.jsx(r("PolarisBaseThemeDisplayModeWrapper.react"),{children:u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("IGDSDialogLoadingState.react"),{onClose:r("emptyFunction")}),name:i.id,children:u.jsx(r("IGDSDialogLegacy.react"),{innerContentXStyle:c.dialog,size:"large",children:u.jsxs(r("CometColumn.react"),{expanding:!0,paddingTop:0,paddingVertical:0,xstyle:c.layout,children:[u.jsxs(r("CometRow.react"),{xstyle:c.navbar,children:[u.jsx(e=r("CometColumnItem.react"),{children:u.jsx(r("MetaBrandInstagramFilled24.svg.react"),{height:24,width:24})}),u.jsx(e,{children:u.jsx("div",{className:"xc9qbxq x14qfxbe"})})]}),u.jsx(e,{expanding:!0,children:u.jsxs(r("BaseScrollableArea.react"),{expanding:!0,hideScrollbar:!1,horizontal:!1,vertical:!0,children:[u.jsx(t=r("BaseView.react"),{xstyle:[c.root,c.header],children:u.jsx(n=r("IGDSText.react"),{color:"primaryText",size:"headline2",textAlign:"start",weight:"bold",zeroMargin:!1,children:s._(/*BTDS*/"Allow Meta to improve your app experience?")})}),u.jsxs(t,{xstyle:[c.root,c.section],children:[u.jsx(t,{xstyle:c.sectionParagraph,children:u.jsx(n,{color:"primaryText",size:"body",textAlign:"start",zeroMargin:!1,children:s._(/*BTDS*/"{userName}, at Meta, we value your trust and want to be transparent about how we use your data. By consenting to this agreement, you allow us to collect and process your data to improve your app experience. {=m2}",[s._param("userName",f),s._implicitParam("=m2",u.jsx(r("BaseLink.react"),{href:"https://www.meta.com/help/1265316287987507/",children:s._(/*BTDS*/"Learn how your data will be processed.")}))])})}),u.jsxs(t,{xstyle:c.sectionIconTextList,children:[u.jsxs(a=r("BaseRow.react"),{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(l=r("BaseRowItem.react"),{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(d=r("MDSIcon.react"),{icon:r("MetaBrandPersonStarsOutline24Icon.react"),size:24})}),u.jsxs(l,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(a,{align:"start",children:u.jsx(n,{color:"primaryText",size:"body",textAlign:"start",weight:"semibold",zeroMargin:!1,children:s._(/*BTDS*/"Personalized Recommendations")})}),u.jsx(a,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(a,{children:u.jsx(n,{color:"secondaryText",size:"body",textAlign:"start",zeroMargin:!1,children:s._(/*BTDS*/"We can provide you with tailored content and suggestions based on your interests and preferences.")})})]})]}),u.jsxs(a,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(l,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(d,{icon:r("MetaBrandDashedArcPointerOutline24Icon.react"),size:24})}),u.jsxs(l,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(a,{align:"start",children:u.jsx(n,{color:"primaryText",size:"body",textAlign:"start",weight:"semibold",children:s._(/*BTDS*/"Enhanced App Performance")})}),u.jsx(a,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(a,{children:u.jsx(n,{color:"secondaryText",size:"body",textAlign:"start",children:s._(/*BTDS*/"Your data helps us identify areas for improvement, ensuring a smoother and more efficient app experience.")})})]})]}),u.jsxs(a,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(l,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(d,{icon:r("MetaBrandHeartOpenHandOutline24Icon.react"),size:24})}),u.jsxs(l,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(a,{align:"start",children:u.jsx(n,{color:"primaryText",size:"body",textAlign:"start",weight:"semibold",children:s._(/*BTDS*/"New Features and Services")})}),u.jsx(a,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(a,{children:u.jsx(n,{color:"secondaryText",size:"body",textAlign:"start",children:s._(/*BTDS*/"By analyzing user behavior, we can develop new features and services that cater to your needs and interests.")})})]})]}),u.jsxs(a,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(l,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(d,{icon:r("MetaBrandEyeOutline24Icon.react"),size:24})}),u.jsxs(l,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(a,{align:"start",children:u.jsx(n,{color:"primaryText",size:"body",textAlign:"start",weight:"semibold",children:s._(/*BTDS*/"Improved Security")})}),u.jsx(a,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(a,{children:u.jsx(n,{color:"secondaryText",size:"body",textAlign:"start",children:s._(/*BTDS*/"Your data helps us detect and prevent potential security threats, keeping your account and personal information safe.")})})]})]})]})]})]})}),u.jsxs(e,{xstyle:[c.root,c.footer],children:[u.jsx(t,{xstyle:c.footerDisclosure,children:u.jsx(n,{color:"secondaryText",size:"body",textAlign:"center",children:s._(/*BTDS*/"By agreeing to this consent, you acknowledge that you have read and understood how we will use your data to improve your app experience. You also acknowledge that you are at least 18 years old (or the age of majority in your jurisdiction) and have the authority to agree to this consent.")})}),u.jsx(t,{xstyle:c.footerButtons,children:u.jsx(a,{expanding:!0,children:u.jsxs(t,{xstyle:c.footerButtonsContainer,children:[u.jsx(l,{expanding:!0,xstyle:c.primaryButton,children:u.jsx(r("IGDSButton.react"),{display:"block",isDisabled:!1,label:s._(/*BTDS*/"Agree"),onClick:function(){p()},size:"large",variant:"primary"})}),u.jsx(l,{expanding:!0,xstyle:c.secondaryButton,children:u.jsx(r("IGDSButton.react"),{display:"block",isDisabled:!1,label:s._(/*BTDS*/"Don't agree"),onClick:function(){_()},size:"large",variant:"secondary"})})]})})})]})]})})})})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("MDSButtonImpl.react",["BaseStyledButton.react","BaseTheme.react","CometContainerPressableContext","FDSIcon.react","MDSText.react","emptyFunction","gkx","mergeRefs","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["addOnStart","disabled","icon","isContainerTarget","label","labelIsHidden","linkProps","onFocusIn","onFocusOut","onHoverIn","onHoverOut","onPress","onPressIn","onPressOut","padding","reduceEmphasis","size","suppressHydrationWarning","testid","type"],u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useEffect,_=d.useRef,f={destructive:{backgroundColor:"xb4tp27",$$css:!0},disabled:{backgroundColor:"xwcfey6",$$css:!0},primary:{backgroundColor:"xtvsq51",$$css:!0},primaryDeemphasized:{backgroundColor:"x1hr4nm9",$$css:!0},secondary:{backgroundColor:"x1qhmfi1",$$css:!0},secondaryDeemphasized:{backgroundColor:"x1f3278h",$$css:!0},secondaryDeemphasized_DEPRECATED:{backgroundColor:"xjbqb8w",$$css:!0},sizeLarge:{height:"xc9qbxq",$$css:!0},sizeMedium:{height:"x10w6t97",$$css:!0},sizeSmall:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",height:"x1fgtraw",$$css:!0}},g={dark:{"destructive-button-background":"rgba(235, 52, 52, 100)","disabled-button-background":"var(--secondary-button-background)","disabled-button-text":"rgba(155, 160, 168, 0.5)","primary-button-background":"#429AFF","secondary-button-background":"rgba(255, 255, 255, 0.19)"},light:{"destructive-button-background":"rgba(255, 41, 41, 100)","disabled-button-background":"var(--secondary-button-background)","disabled-button-text":"rgba(134, 142, 153, 0.5)","primary-button-background":"#0A7CFF","secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"},h={":deemphasized":{iconColor:"highlight",textColor:"highlight"},":disabled":{iconColor:"disabled",textColor:"disabled"},iconColor:"white",textColor:"white"},y={":deemphasized":{iconColor:"highlight",textColor:"highlight"},":disabled":{iconColor:"disabled",textColor:"disabled"},iconColor:"primary",textColor:"secondary"};function C(e){switch(e){case"secondary":return y;case"destructive":case"primary":default:return h}}function b(e,t){var n=t.disabled,r=t.reduceEmphasis,o=C(e);return(n?o[":disabled"]:null)||(r?o[":deemphasized"]:null)||o}function v(t){var n,o=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.addOnStart,l=a.disabled,u=l===void 0?!1:l,d=a.icon,h=a.isContainerTarget,y=h===void 0?!1:h,C=a.label,v=a.labelIsHidden,S=v===void 0?!1:v,R=a.linkProps,L=a.onFocusIn,E=a.onFocusOut,k=a.onHoverIn,I=a.onHoverOut,T=a.onPress,D=a.onPressIn,x=a.onPressOut,$=a.padding,P=$===void 0?"normal":$,N=a.reduceEmphasis,M=N===void 0?!1:N,w=a.size,A=w===void 0?32:w,F=a.suppressHydrationWarning,O=F===void 0?!1:F,B=a.testid,W=a.type,q=W===void 0?"primary":W,U=babelHelpers.objectWithoutPropertiesLoose(a,s),V=b(q,{disabled:u,reduceEmphasis:M}),H=V.iconColor,G=V.textColor,z=_(null),j=_(null),K=m(r("CometContainerPressableContext"));return p(function(){y&&K&&K.onMount({onContextMenu:r("emptyFunction"),onPress:function(t){var e=z.current;e&&e.click()},target:R==null?void 0:R.target,url:R==null?void 0:R.url},j)},[K,y,R==null?void 0:R.url,R==null?void 0:R.target]),c.jsx(r("BaseTheme.react"),{config:r("gkx")("5751")?void 0:g,style:{width:"100%"},children:c.jsx(r("BaseStyledButton.react"),babelHelpers.extends({},U,{addOnStart:i,"aria-label":(n=U["aria-label"])!=null?n:C,content:S?null:c.jsx(r("MDSText.react"),{color:G,numberOfLines:1,type:"button2",children:C}),contentXstyle:[A===28&&f.sizeSmall,A===32&&f.sizeMedium,A===36&&f.sizeLarge],disabled:u,icon:d==null?null:c.jsx(r("FDSIcon.react"),{color:H,icon:d,size:24}),linkProps:R,onFocusIn:L,onFocusOut:E,onHoverIn:k,onHoverOut:I,onPress:T,onPressIn:D,onPressOut:x,padding:P,ref:r("mergeRefs")(z,o),suppressHydrationWarning:O,testid:void 0,xstyle:[q==="primary"&&f.primary,q==="secondary"&&f.secondary,q==="destructive"&&f.destructive,q==="secondary"&&M?r("gkx")("5751")?f.secondaryDeemphasized:f.secondaryDeemphasized_DEPRECATED:null,q==="primary"&&M&&f.primaryDeemphasized,u&&f.disabled]}))})}v.displayName=v.name+" [from "+i.id+"]",l.default=v}),98);
__d("MDSButton.react",["MDSButtonImpl.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var n=t.ref,o=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(r("MDSButtonImpl.react"),babelHelpers.extends({ref:n},o))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MDSPressable.react",["CometPressable.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["overlayRadius","ref"],s,u=s||(s=o("react")),c={hover:{backgroundColor:"x1yjz2vk",$$css:!0}};function d(e){switch(e){case"normal":return 6;case"50%":return"50%";case"compact":return 4;case"inherit":default:return}}function m(t){var n=t.overlayRadius,o=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(r("CometPressable.react"),babelHelpers.extends({overlayFocusVisibleStyle:c.hover,overlayHoveredStyle:c.hover,overlayRadius:d(n),ref:o},a))}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MDSBaseCircleButton.react",["ComponentWithDataAttributes.react","MDSIcon.react","MDSPressable.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["color","dataAttributes","disabled","focusable","icon","iconRatio","label","linkProps","onFocusIn","onFocusOut","onHoverIn","onHoverOut","onPress","onPressIn","onPressOut","overlayHoveredStyle","size","testid","testOnly_pressed","type"],u,c,d,m=d||(d=o("react")),p={pressableOverlayPressed:{backgroundColor:"x1lxk4cn",$$css:!0},pressed:{transform:"x1n5d1j9",$$css:!0},root:{alignItems:"x6s0dn4",borderStartStartRadius:"x1rl75mt",borderStartEndRadius:"x19t5iym",borderEndEndRadius:"xz7t8uv",borderEndStartRadius:"x13xmedi",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6",$$css:!0}},_={24:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},28:{height:"x1fgtraw",width:"xgd8bvy",$$css:!0},32:{height:"x10w6t97",width:"x1td3qas",$$css:!0},36:{height:"xc9qbxq",width:"x14qfxbe",$$css:!0},40:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0},48:{height:"xsdox4t",width:"x1useyqa",$$css:!0}},f={"dark-overlay":{backgroundColor:"x18l40ae",color:"x14ctfv",$$css:!0},deemphasized:{backgroundColor:"xjbqb8w",$$css:!0},"deemphasized-overlay":{backgroundColor:"x1hr4nm9",$$css:!0},green:{backgroundColor:"x2h9iz9",$$css:!0},normal:{backgroundColor:"x10ltxyv",$$css:!0},overlay:{backgroundColor:"x9bbmet",boxShadow:"x10f5nwc",color:"xi81zsa",$$css:!0},"overlay-floating":{backgroundColor:"x1l31dnx",boxShadow:"x1qeybcx",$$css:!0},"overlay-raised":{backgroundColor:"x1iyvwtf",boxShadow:"xqqgvjq",color:"xi81zsa",$$css:!0},"primary-background-overlay":{backgroundColor:"xtvsq51",$$css:!0},red:{backgroundColor:"x18tkn2g",$$css:!0},"secondary-on-media":{backgroundColor:"x182fuwn",$$css:!0}},g={"dark-overlay":{backgroundColor:"x18l40ae",$$css:!0},deemphasized:{backgroundColor:"xjbqb8w",$$css:!0},"deemphasized-overlay":{backgroundColor:"x1f2gare",$$css:!0},green:{backgroundColor:"xwcfey6",$$css:!0},normal:{backgroundColor:"xwcfey6",$$css:!0},overlay:{backgroundColor:"x1ahlmzr",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxShadow:"xxnfx33",color:"x1dntmbh",$$css:!0},"primary-background-overlay":{backgroundColor:"xtvsq51",$$css:!0},red:{backgroundColor:"xwcfey6",$$css:!0},"secondary-on-media":{backgroundColor:"xwcfey6",$$css:!0}},h=(u={},u[24]=12,u[28]=16,u[32]=16,u[36]=20,u[40]=20,u),y=(c={},c[24]=20,c[28]=20,c[32]=24,c[36]=28,c[40]=32,c);function C(t){var n=t.ref,o=babelHelpers.objectWithoutPropertiesLoose(t,e),a=o.color,i=o.dataAttributes,l=o.disabled,u=l===void 0?!1:l,c=o.focusable,d=o.icon,C=o.iconRatio,v=o.label,S=o.linkProps,R=o.onFocusIn,L=o.onFocusOut,E=o.onHoverIn,k=o.onHoverOut,I=o.onPress,T=o.onPressIn,D=o.onPressOut,x=o.overlayHoveredStyle,$=o.size,P=o.testid,N=o.testOnly_pressed,M=o.type,w=M===void 0?"normal":M,A=babelHelpers.objectWithoutPropertiesLoose(o,s),F=m.jsx(r("MDSPressable.react"),babelHelpers.extends({},A,{"aria-label":v,disabled:u,display:"inline",focusable:c,linkProps:S,onFocusIn:R,onFocusOut:L,onHoverIn:E,onHoverOut:k,onPress:I,onPressIn:T,onPressOut:D,overlayHoveredStyle:x,overlayPressedStyle:p.pressableOverlayPressed,overlayRadius:"50%",ref:n,testOnly_pressed:N,testid:void 0,xstyle:function(t){var e=t.pressed;return[p.root,_[$],f[w],u&&g[w==="overlay-raised"||w==="overlay-floating"?"overlay":w],e&&p.pressed]},children:m.jsx(r("MDSIcon.react"),{color:u?"disabled":a!=null?a:b(w),icon:d,isDecorative:!0,size:C==="large"?y[$]:h[$]})}));return m.jsx(r("ComponentWithDataAttributes.react"),{dataAttributes:i,children:F})}C.displayName=C.name+" [from "+i.id+"]";function b(e){switch(e){case"primary-background-overlay":case"dark-overlay":return"white";case"deemphasized-overlay":return"highlight";default:return"primary"}}l.default=C}),98);
__d("MDSCircleButton.react",["MDSBaseCircleButton.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var n=t.ref,o=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(r("MDSBaseCircleButton.react"),babelHelpers.extends({iconRatio:"large"},o,{ref:n}))}c.displayName=c.name+" [from "+i.id+"]";var d=c;l.default=d}),98);
__d("MessengerArrowLeft.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M17.634 11.384a1.25 1.25 0 0 0-1.768-1.768l-7.5 7.5a1.25 1.25 0 0 0 0 1.768l7.5 7.5a1.25 1.25 0 0 0 1.768-1.768l-4.94-4.94a.25.25 0 0 1 .177-.426H26.75a1.25 1.25 0 1 0 0-2.5H12.871a.25.25 0 0 1-.177-.427l4.94-4.94z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerArrowLeftIcon",["MessengerArrowLeft.svg.react","SVGIcon"],(function(t,n,r,o,a,i,l){"use strict";var e=o("SVGIcon").svgIcon(r("MessengerArrowLeft.svg.react"));l.default=e}),98);
__d("MessengerArrowRight.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M18.366 11.384a1.25 1.25 0 0 1 1.768-1.768l7.5 7.5a1.25 1.25 0 0 1 0 1.768l-7.5 7.5a1.25 1.25 0 0 1-1.768-1.768l4.94-4.94a.25.25 0 0 0-.177-.426H9.25a1.25 1.25 0 1 1 0-2.5h13.879a.25.25 0 0 0 .176-.427l-4.939-4.94z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerArrowRightIcon",["MessengerArrowRight.svg.react","SVGIcon"],(function(t,n,r,o,a,i,l){"use strict";var e=o("SVGIcon").svgIcon(r("MessengerArrowRight.svg.react"));l.default=e}),98);
__d("MessengerCrossFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"m12.631 25.138 5.196-5.189a.25.25 0 0 1 .353 0l5.197 5.189a1.241 1.241 0 0 0 1.76 0 1.241 1.241 0 0 0 0-1.761L19.95 18.18a.25.25 0 0 1 0-.354l5.188-5.196a1.241 1.241 0 0 0 0-1.76 1.241 1.241 0 0 0-1.76 0l-5.197 5.188a.25.25 0 0 1-.353 0l-5.196-5.189a1.241 1.241 0 0 0-1.76 0 1.241 1.241 0 0 0 0 1.761l5.188 5.196a.25.25 0 0 1 0 .354l-5.189 5.196a1.241 1.241 0 0 0 0 1.76 1.241 1.241 0 0 0 1.761 0z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MDSDialogHeader.react",["fbt","BaseDialogLabelIDProvider","BaseHeading.react","Box.react","Locale","MDSCircleButton.react","MDSGlimmer.react","MDSRow.react","MDSRowItem.react","MDSText.react","MessengerArrowLeftIcon","MessengerArrowRightIcon","MessengerCrossFilled.svg.react","SVGIcon","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={backButton:{insetInlineStart:"xzwoauc",left:null,right:null,position:"x10l6tqk",top:"xomnu4r",zIndex:"x1vjfegm",$$css:!0},closeButton:{insetInlineEnd:"xdg88n9",left:null,right:null,position:"x10l6tqk",top:"xomnu4r",zIndex:"x1vjfegm",$$css:!0},header:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",height:"x1peatla",paddingBottom:"x1l90r2v",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,paddingTop:"xyamay9",$$css:!0},headerGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"xlup9mm",width:"xq1dxzn",$$css:!0},headerWithPadding:{paddingInlineEnd:"xh7rcd0",paddingInlineStart:"x17smslp",$$css:!0}},d={center:{justifyContent:"xl56j7k",$$css:!0},start:{justifyContent:"x1nhvcw1",$$css:!0}};function m(e){var t=e.backButtonType,n=e.closeButtonTestId,a=n===void 0?"close-button":n,i=e.closeButtonType,l=e.id,m=e.isLoading,p=m===void 0?!1:m,_=e.onBack,f=e.onClose,g=e.title,h=e.titleHorizontalAlignment,y=h===void 0?"center":h,C=e.titleImageAddOn,b=e.titleLayout,v=b===void 0?"auto":b,S=e.withBackButton,R=S===void 0?!1:S,L=e.withCloseButton,E=L===void 0?!1:L,k=o("BaseDialogLabelIDProvider").useDialogHeaderID();return u.jsxs(u.Fragment,{children:[g!=null||p===!0||v==="block"?u.jsx(r("Box.react"),{id:l,xstyle:[c.header,(E||R)&&y==="center"&&c.headerWithPadding,d[y]],children:p===!0?u.jsx(r("MDSGlimmer.react"),{index:0,xstyle:c.headerGlimmer}):C!=null||g!=null?u.jsx(r("BaseHeading.react"),{id:k,children:u.jsxs(r("MDSRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,spacing:4,verticalAlign:"center",children:[C!=null&&u.jsx(r("MDSRowItem.react"),{children:C}),u.jsx(r("MDSRowItem.react"),{children:u.jsx(r("MDSText.react"),{align:"center",type:"headlineEmphasized3",children:g})})]})}):null}):null,E?u.jsx(r("Box.react"),{xstyle:c.closeButton,children:u.jsx(r("MDSCircleButton.react"),{color:"primary",icon:o("SVGIcon").svgIcon(r("MessengerCrossFilled.svg.react")),label:s._(/*BTDS*/"Close"),onPress:f,size:32,testid:void 0,type:i})}):null,R?u.jsx(r("Box.react"),{xstyle:c.backButton,children:u.jsx(r("MDSCircleButton.react"),{color:"primary",icon:o("Locale").isRTL()?r("MessengerArrowRightIcon"):r("MessengerArrowLeftIcon"),label:s._(/*BTDS*/"Back"),onPress:_,size:32,testid:void 0,type:t})}):null]})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),226);
__d("MDSDialogLoadingStateImpl.react",["MDSColumn.react","MDSColumnItem.react","MDSGlimmer.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={bodyGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"x1kpxq89",marginBottom:"x1yztbdb",$$css:!0},bodyGlimmerFirst:{width:"xktia5q",$$css:!0},bodyGlimmerSecond:{width:"x65xoit",$$css:!0}};function c(){return s.jsxs(r("MDSColumn.react"),{align:"center",spacing:4,children:[s.jsx(r("MDSColumnItem.react"),{children:s.jsx(r("MDSGlimmer.react"),{index:0,xstyle:[u.bodyGlimmer,u.bodyGlimmerFirst]})}),s.jsx(r("MDSColumnItem.react"),{children:s.jsx(r("MDSGlimmer.react"),{index:0,xstyle:[u.bodyGlimmer,u.bodyGlimmerSecond]})}),s.jsx(r("MDSColumnItem.react"),{children:s.jsx(r("MDSGlimmer.react"),{index:0,xstyle:[u.bodyGlimmer,u.bodyGlimmerFirst]})})]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MDSDialogPage.react",["BaseHeadingContextWrapper.react","BaseScrollableArea.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useRef,c={content:{flexGrow:"x1iyjqo2",paddingBottom:"xwib8y2",paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxHeight:"x1yr2tfi x1jxyteu",position:"x1n2onr6",$$css:!0},rootFullAndMinHeight:{minHeight:"xw36ugu x1mfppf3",$$css:!0},rootFullHeight:{minHeight:"xw36ugu",$$css:!0},rootMinHeight:{minHeight:"x1mfppf3",$$css:!0},scrollableArea:{flexGrow:"x1iyjqo2",overscrollBehaviorY:"xy5w88m",$$css:!0},textOnlyContent:{textAlign:"x2b8uid",$$css:!0}};function d(e){var t=e.children,n=e.disablePageScroll,a=n===void 0?!1:n,i=e.footer,l=e.hasTextOnlyContent,d=l===void 0?!1:l,m=e.header,p=e.isFullHeightByDefault,_=p===void 0?!1:p,f=e.mobileFullHeight,g=f===void 0?!0:f,h=e.scrollAreaFocusProps,y=e.scrollAreaRef,C=u(null),b=s.jsx(o("react-strict-dom").html.div,{ref:C,style:[c.content,d===!0&&c.textOnlyContent],children:t});return s.jsxs(o("react-strict-dom").html.div,{style:[c.root,[_&&c.rootFullHeight],[g&&t!=null&&c.rootMinHeight],[_&&g&&t!=null&&c.rootFullAndMinHeight]],children:[m,t!=null&&s.jsx(r("BaseHeadingContextWrapper.react"),{children:a?b:s.jsx(r("BaseScrollableArea.react"),babelHelpers.extends({},h,{contentRef:C,horizontal:!1,ref:y,vertical:!0,xstyle:c.scrollableArea,children:b}))}),i]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MDSDialogPageLoadingState.react",["fbt","MDSDialogHeader.react","MDSDialogLoadingStateImpl.react","MDSDialogPage.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.onClose,n=t!=null;return u.jsx(r("MDSDialogPage.react"),{footer:null,header:u.jsx(r("MDSDialogHeader.react"),{isLoading:!0,onClose:t,title:s._(/*BTDS*/"Loading..."),withBackButton:!1,withCloseButton:n}),children:u.jsx(r("MDSDialogLoadingStateImpl.react"),{})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("MDSDialogSizes",[],(function(t,n,r,o,a,i,l){"use strict";var e={content:{maxWidth:"x193iq5w",$$css:!0},"content-mobile-safe":{width:"xh8yej3",$$css:!0},medium:{maxWidth:"xrgej4m",width:"x3dwbn0",$$css:!0},small:{maxWidth:"x1n7qst7",width:"x17omtbh",$$css:!0}};l.sizeStyles=e}),98);
__d("MDSDialogContainer.react",["BaseDialog.react","BaseDialogLabelIDProvider","BaseMultiPageView.react","CometDialogLoadingStateContext","MDSDialogPageLoadingState.react","MDSDialogSizes","emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c={anchor:{alignItems:"x1qjc9v5",maxHeight:"x1bwycvy",paddingTop:"x1x97wu9",paddingBottom:"xbr3nou",paddingInlineStart:"x10zyrgg",paddingInlineEnd:"xxe13sb",paddingLeft:null,paddingRight:null,$$css:!0},card:{backgroundColor:"x1jx94hy",borderStartStartRadius:"x9n396y",borderStartEndRadius:"x1ojodb8",borderEndEndRadius:"xul23gt",borderEndStartRadius:"x1zosaf",boxShadow:"xwhkkir",clipPath:"x1gj8qfm",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62","@media (max-width: 679px)_boxShadow":"x1likypf","@media (max-width: 679px)_clipPath":"xzit4ce","@media (max-width: 679px)_overflowX":"x1e9k66k","@media (max-width: 679px)_overflowY":"x12l8kdc",$$css:!0},dialog:{alignItems:"x1qjc9v5",borderStartStartRadius:"xw5cjc7",borderStartEndRadius:"x1dmpuos",borderEndEndRadius:"x1vsv7so",borderEndStartRadius:"xau1kf4",display:"x78zum5",overflowX:"x1plvlek",overflowY:"xryxfnj","@media (max-width: 679px)_boxShadow":"xcatxm7",$$css:!0},root:{"@media (max-width: 679px)_justifyContent":"xshlqvt",$$css:!0}};function d(e){var t=e.ref,n=e.anchorXStyle,a=e.children,i=e.disableClosingWithMask,l=i===void 0?!1:i,d=e.onClose,m=e.size,p=m===void 0?"small":m,_=e.testid,f=u(r("CometDialogLoadingStateContext")),g=o("BaseDialogLabelIDProvider").useDialogLabelID();return s.jsx(r("BaseDialog.react"),{anchorXStyle:[c.anchor,n],"aria-labelledby":g,disableClosingWithMask:l,onClose:d!=null?d:r("emptyFunction"),ref:t,rootXStyle:c.root,testid:void 0,xstyle:[c.dialog,o("MDSDialogSizes").sizeStyles[p]],children:s.jsx(r("BaseMultiPageView.react"),{disableAutoRestoreFocus:f,fallback:s.jsx(r("MDSDialogPageLoadingState.react"),{onClose:d}),xstyle:c.card,children:a})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MDSDialog.react",["BaseDialogLabelIDProvider","MDSDialogContainer.react","MDSDialogPage.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","anchorXStyle","disableClosingWithMask","onClose","size","testid"],s,u=s||(s=o("react"));function c(t){var n=t.ref,a=t.anchorXStyle,i=t.disableClosingWithMask,l=t.onClose,s=t.size,c=t.testid,d=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(o("BaseDialogLabelIDProvider").BaseDialogLabelIDProvider,{children:u.jsx(r("MDSDialogContainer.react"),{anchorXStyle:a,disableClosingWithMask:i,onClose:l,ref:n,size:s,testid:void 0,children:u.jsx(r("MDSDialogPage.react"),babelHelpers.extends({},d))})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MDSDialogLoadingState.react",["fbt","CometDialogLoadingStateContext","MDSDialog.react","MDSDialogHeader.react","MDSDialogLoadingStateImpl.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.onClose,n=t!=null;return u.jsx(r("CometDialogLoadingStateContext").Provider,{value:!0,children:u.jsx(r("MDSDialog.react"),{footer:null,header:u.jsx(r("MDSDialogHeader.react"),{isLoading:!0,onClose:t,title:s._(/*BTDS*/"Loading..."),withBackButton:!1,withCloseButton:n}),children:u.jsx(r("MDSDialogLoadingStateImpl.react"),{})})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("MDSLinkNewImpl.react",["BaseTheme.react","E2EEMessagingLinkContext.react","FDSLink.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","xstyleInThread"],s,u=s||(s=o("react"));function c(t){var n=t.ref,a=t.xstyleInThread,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=o("E2EEMessagingLinkContext.react").useE2EEMessagingLink(),s=l.inThread,c=[s&&a];return u.jsx(r("BaseTheme.react"),{style:{display:"inline"},children:u.jsx(r("FDSLink.react"),babelHelpers.extends({},i,{color_DEPRECATED:"blueLink",ref:n,weight_DEPRECATED:"bold",xstyle_DEPRECATED:c}))})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MDSLink.react",["MDSLinkNewImpl.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["color_DEPRECATED","ref","display_DEPRECATED","weight_DEPRECATED","xstyle_DEPRECATED"],s,u=s||(s=o("react"));function c(t){var n=t.color_DEPRECATED,o=t.ref,a=t.display_DEPRECATED,i=t.weight_DEPRECATED,l=t.xstyle_DEPRECATED,s=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(r("MDSLinkNewImpl.react"),babelHelpers.extends({ref:o,xstyleInThread:l},s))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MessengerAppMessengerFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 28.855c6.337 0 11.25-4.642 11.25-10.913 0-6.27-4.913-10.912-11.25-10.912S6.75 11.672 6.75 17.942c0 3.28 1.344 6.114 3.533 8.072a.898.898 0 0 1 .302.641l.062 2.001a.9.9 0 0 0 1.262.796l2.234-.986a.897.897 0 0 1 .6-.043 12.27 12.27 0 0 0 3.257.432zm6.971-13.825-3.916 6.054a.662.662 0 0 1-.916.196l-3.628-2.348a.414.414 0 0 0-.46.007l-4.09 2.82c-.597.412-1.326-.296-.932-.905l3.917-6.053a.662.662 0 0 1 .916-.197l3.629 2.348c.14.091.322.089.46-.007l4.088-2.82c.597-.411 1.326.297.932.905z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("ExamplePromptScreenMN.react",["fbt","BaseRow.react","BaseRowItem.react","BaseScrollableArea.react","BaseView.react","CometColumn.react","CometColumnItem.react","CometPlaceholder.react","CometRow.react","CometTransientDialogProvider.react","ConsentTemplateActionCallbacksContext","ConsentTemplateUserContext","MDSButton.react","MDSDialogContainer.react","MDSDialogLoadingState.react","MDSIcon.react","MDSLink.react","MDSText.react","MDSTheme.react","MessengerAppMessengerFilled.svg.react","MetaBrandDashedArcPointerOutline24Icon.react","MetaBrandEyeOutline24Icon.react","MetaBrandHeartOpenHandOutline24Icon.react","MetaBrandPersonStarsOutline24Icon.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={dialog:{"@media (max-width: 679px)_maxHeight":"x1jxyteu","@media (max-width: 679px)_minHeight":"x1mfppf3","@media (max-width: 679px)_paddingTop":"x1y0ix2f","@media (max-width: 679px)_paddingBottom":"x1eevrrt","@media (max-width: 679px)_paddingInlineStart":"x1vnzckh","@media (max-width: 679px)_paddingInlineEnd":"xgof6fa","@media (max-width: 679px)_paddingLeft":null,"@media (max-width: 679px)_paddingRight":null,$$css:!0},footer:{backgroundColor:"x2bj2ny",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,"@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtons:{flexWrap:"x8hhl5t",justifyContent:"x1qughib",paddingBottom:"xsag5q8","@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtonsContainer:{alignItems:"x1qjc9v5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},footerDisclosure:{paddingBottom:"xsag5q8",paddingTop:"xyamay9",$$css:!0},header:{paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,paddingTop:"xyamay9",$$css:!0},layout:{maxHeight:"x1yr2tfi",position:"x1n2onr6","@media (max-width: 679px)_maxHeight":"x1jxyteu",$$css:!0},navbar:{alignItems:"x6s0dn4",justifyContent:"x1qughib",minHeight:"x879a55",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},primaryButton:{paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,paddingTop:"x1iorvi4",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0},secondaryButton:{paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,paddingTop:"x1iorvi4",$$css:!0},section:{paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},sectionIconTextList:{paddingBottom:"x10b6aqq",paddingTop:"xyamay9",$$css:!0},sectionIconTextListItem:{paddingTop:"x889kno",$$css:!0},sectionIconTextListItemContent:{paddingBottom:"x1a8lsjc",paddingTop:"x1yrsyyn",$$css:!0},sectionIconTextListItemContentSpaceBetween:{paddingTop:"x889kno",$$css:!0},sectionIconTextListItemIcon:{paddingInlineEnd:"xpdmqnj",$$css:!0},sectionParagraph:{paddingTop:"x7sb2j6",$$css:!0}};function d(){var e,t,n,a,l,d,m=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),p=m.onApproved,_=m.onDenied,f=o("ConsentTemplateUserContext").useConsentTemplateUserShortName();return u.jsx(r("MDSTheme.react"),{children:u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("MDSDialogLoadingState.react"),{}),name:i.id,children:u.jsx(r("CometTransientDialogProvider.react"),{children:u.jsx(r("MDSDialogContainer.react"),{anchorXStyle:c.dialog,disableClosingWithMask:!0,size:"medium",children:u.jsxs(r("CometColumn.react"),{expanding:!0,paddingTop:0,paddingVertical:0,xstyle:c.layout,children:[u.jsxs(r("CometRow.react"),{xstyle:c.navbar,children:[u.jsx(e=r("CometColumnItem.react"),{children:u.jsx(t=r("MDSIcon.react"),{icon:r("MessengerAppMessengerFilled.svg.react"),isDecorative:!0,size:40})}),u.jsx(e,{children:u.jsx("div",{className:"xc9qbxq x14qfxbe"})})]}),u.jsx(e,{expanding:!0,children:u.jsxs(r("BaseScrollableArea.react"),{expanding:!0,hideScrollbar:!1,horizontal:!1,vertical:!0,children:[u.jsx(n=r("BaseView.react"),{xstyle:[c.root,c.header],children:u.jsx(a=r("MDSText.react"),{align:"start",color:"primary",isPrimaryHeading:!0,type:"headlineEmphasized1",children:s._(/*BTDS*/"Allow Meta to improve your app experience?")})}),u.jsxs(n,{xstyle:[c.root,c.section],children:[u.jsx(n,{xstyle:c.sectionParagraph,children:u.jsx(a,{align:"start",color:"primary",type:"body3",children:s._(/*BTDS*/"{userName}, at Meta, we value your trust and want to be transparent about how we use your data. By consenting to this agreement, you allow us to collect and process your data to improve your app experience. {=m2}",[s._param("userName",f),s._implicitParam("=m2",u.jsx(r("MDSLink.react"),{href:"https://www.meta.com/help/1265316287987507/",children:s._(/*BTDS*/"Learn how your data will be processed.")}))])})}),u.jsxs(n,{xstyle:c.sectionIconTextList,children:[u.jsxs(l=r("BaseRow.react"),{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(d=r("BaseRowItem.react"),{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(t,{icon:r("MetaBrandPersonStarsOutline24Icon.react"),size:24})}),u.jsxs(d,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(l,{align:"start",children:u.jsx(a,{align:"start",color:"primary",type:"headlineEmphasized3",children:s._(/*BTDS*/"Personalized Recommendations")})}),u.jsx(l,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(l,{children:u.jsx(a,{align:"start",color:"secondary",type:"body3",children:s._(/*BTDS*/"We can provide you with tailored content and suggestions based on your interests and preferences.")})})]})]}),u.jsxs(l,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(d,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(t,{icon:r("MetaBrandDashedArcPointerOutline24Icon.react"),size:24})}),u.jsxs(d,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(l,{align:"start",children:u.jsx(a,{align:"start",color:"primary",type:"headlineEmphasized3",children:s._(/*BTDS*/"Enhanced App Performance")})}),u.jsx(l,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(l,{children:u.jsx(a,{align:"start",color:"secondary",type:"body3",children:s._(/*BTDS*/"Your data helps us identify areas for improvement, ensuring a smoother and more efficient app experience.")})})]})]}),u.jsxs(l,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(d,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(t,{icon:r("MetaBrandHeartOpenHandOutline24Icon.react"),size:24})}),u.jsxs(d,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(l,{align:"start",children:u.jsx(a,{align:"start",color:"primary",type:"headlineEmphasized3",children:s._(/*BTDS*/"New Features and Services")})}),u.jsx(l,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(l,{children:u.jsx(a,{align:"start",color:"secondary",type:"body3",children:s._(/*BTDS*/"By analyzing user behavior, we can develop new features and services that cater to your needs and interests.")})})]})]}),u.jsxs(l,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(d,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(t,{icon:r("MetaBrandEyeOutline24Icon.react"),size:24})}),u.jsxs(d,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(l,{align:"start",children:u.jsx(a,{align:"start",color:"primary",type:"headlineEmphasized3",children:s._(/*BTDS*/"Improved Security")})}),u.jsx(l,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(l,{children:u.jsx(a,{align:"start",color:"secondary",type:"body3",children:s._(/*BTDS*/"Your data helps us detect and prevent potential security threats, keeping your account and personal information safe.")})})]})]})]})]})]})}),u.jsxs(e,{xstyle:[c.root,c.footer],children:[u.jsx(n,{xstyle:c.footerDisclosure,children:u.jsx(a,{align:"center",color:"secondary",type:"body3",children:s._(/*BTDS*/"By agreeing to this consent, you acknowledge that you have read and understood how we will use your data to improve your app experience. You also acknowledge that you are at least 18 years old (or the age of majority in your jurisdiction) and have the authority to agree to this consent.")})}),u.jsx(n,{xstyle:c.footerButtons,children:u.jsx(l,{expanding:!0,children:u.jsxs(n,{xstyle:c.footerButtonsContainer,children:[u.jsx(d,{expanding:!0,xstyle:c.primaryButton,children:u.jsx(r("MDSButton.react"),{disabled:!1,label:s._(/*BTDS*/"Agree"),onPress:function(){p()},size:32,type:"primary"})}),u.jsx(d,{expanding:!0,xstyle:c.secondaryButton,children:u.jsx(r("MDSButton.react"),{disabled:!1,label:s._(/*BTDS*/"Don't agree"),onPress:function(){_()},size:32,type:"secondary"})})]})})})]})]})})})})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("ExamplePromptScreenMeta.react",["fbt","BaseRow.react","BaseRowItem.react","BaseView.react","CometColumnItem.react","CometPlaceholder.react","ConsentTemplateActionCallbacksContext","ConsentTemplateUserContext","MetaBrandDashedArcPointerOutline24Icon.react","MetaBrandEyeOutline24Icon.react","MetaBrandHeartOpenHandOutline24Icon.react","MetaBrandPersonStarsOutline24Icon.react","MetaLockupPrimary.react","XMDSButton.react","XMDSDialogContainer.react","XMDSDialogLoadingState.react","XMDSIcon.react","XMDSInlinePressableText.react","XMDSText.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={footer:{backgroundColor:"x2bj2ny",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,"@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtons:{flexWrap:"x8hhl5t",justifyContent:"x1qughib",paddingBottom:"xx6bls6","@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtonsContainer:{alignItems:"x1qjc9v5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},footerDisclosure:{paddingBottom:"xr1496l",paddingTop:"xqy66fx",$$css:!0},header:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,paddingTop:"x1iorvi4",$$css:!0},navbar:{alignItems:"x6s0dn4",justifyContent:"x1qughib",minHeight:"x8nclml",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},primaryButton:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0},secondaryButton:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},section:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},sectionIconTextList:{paddingBottom:"x10b6aqq",paddingTop:"xyamay9",$$css:!0},sectionIconTextListItem:{paddingTop:"x889kno",$$css:!0},sectionIconTextListItemContent:{paddingBottom:"x1a8lsjc",paddingTop:"x1yrsyyn",$$css:!0},sectionIconTextListItemContentSpaceBetween:{paddingTop:"x889kno",$$css:!0},sectionIconTextListItemIcon:{paddingInlineEnd:"xpdmqnj",$$css:!0},sectionParagraph:{paddingTop:"x7sb2j6",$$css:!0}};function d(){var e,t,n,a,l,d=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),m=d.onApproved,p=d.onDenied,_=o("ConsentTemplateUserContext").useConsentTemplateUserShortName();return u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("XMDSDialogLoadingState.react"),{withCloseButton:!1}),name:i.id,children:u.jsxs(r("XMDSDialogContainer.react"),{disableClosingWithMask:!0,size:"medium",children:[u.jsxs(e=r("BaseRow.react"),{xstyle:c.navbar,children:[u.jsx("div",{className:"xc9qbxq x14qfxbe"}),u.jsx(r("MetaLockupPrimary.react"),{size:12}),u.jsx("div",{className:"xc9qbxq x14qfxbe"})]}),u.jsx(t=r("BaseView.react"),{xstyle:[c.root,c.header],children:u.jsx(n=r("XMDSText.react"),{color:"primaryText",isPrimaryHeading:!0,textAlign:"start",textStyle:"headline1",children:s._(/*BTDS*/"Allow Meta to improve your app experience?")})}),u.jsxs(r("CometColumnItem.react"),{expanding:!0,children:[u.jsxs(t,{xstyle:[c.root,c.section],children:[u.jsx(t,{xstyle:c.sectionParagraph,children:u.jsx(n,{color:"primaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"{userName}, at Meta, we value your trust and want to be transparent about how we use your data. By consenting to this agreement, you allow us to collect and process your data to improve your app experience. {=m2}",[s._param("userName",_),s._implicitParam("=m2",u.jsx(r("XMDSInlinePressableText.react"),{linkProps:{target:"_blank",url:"https://www.meta.com/help/1265316287987507/"},children:s._(/*BTDS*/"Learn how your data will be processed.")}))])})}),u.jsxs(t,{xstyle:c.sectionIconTextList,children:[u.jsxs(e,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(a=r("BaseRowItem.react"),{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(l=r("XMDSIcon.react"),{icon:r("MetaBrandPersonStarsOutline24Icon.react"),size:24})}),u.jsxs(a,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(e,{align:"start",children:u.jsx(n,{color:"primaryText",textAlign:"start",textStyle:"primaryLabel",children:s._(/*BTDS*/"Personalized Recommendations")})}),u.jsx(e,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(e,{children:u.jsx(n,{color:"secondaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"We can provide you with tailored content and suggestions based on your interests and preferences.")})})]})]}),u.jsxs(e,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(a,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(l,{icon:r("MetaBrandDashedArcPointerOutline24Icon.react"),size:24})}),u.jsxs(a,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(e,{align:"start",children:u.jsx(n,{color:"primaryText",textAlign:"start",textStyle:"primaryLabel",children:s._(/*BTDS*/"Enhanced App Performance")})}),u.jsx(e,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(e,{children:u.jsx(n,{color:"secondaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"Your data helps us identify areas for improvement, ensuring a smoother and more efficient app experience.")})})]})]}),u.jsxs(e,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(a,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(l,{icon:r("MetaBrandHeartOpenHandOutline24Icon.react"),size:24})}),u.jsxs(a,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(e,{align:"start",children:u.jsx(n,{color:"primaryText",textAlign:"start",textStyle:"primaryLabel",children:s._(/*BTDS*/"New Features and Services")})}),u.jsx(e,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(e,{children:u.jsx(n,{color:"secondaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"By analyzing user behavior, we can develop new features and services that cater to your needs and interests.")})})]})]}),u.jsxs(e,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(a,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(l,{icon:r("MetaBrandEyeOutline24Icon.react"),size:24})}),u.jsxs(a,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(e,{align:"start",children:u.jsx(n,{color:"primaryText",textAlign:"start",textStyle:"primaryLabel",children:s._(/*BTDS*/"Improved Security")})}),u.jsx(e,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(e,{children:u.jsx(n,{color:"secondaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"Your data helps us detect and prevent potential security threats, keeping your account and personal information safe.")})})]})]})]})]}),u.jsx(e,{expanding:!0}),u.jsxs(r("CometColumnItem.react"),{xstyle:[c.root,c.footer],children:[u.jsx(t,{xstyle:c.footerDisclosure,children:u.jsx(n,{color:"secondaryText",textAlign:"center",textStyle:"body",children:s._(/*BTDS*/"By agreeing to this consent, you acknowledge that you have read and understood how we will use your data to improve your app experience. You also acknowledge that you are at least 18 years old (or the age of majority in your jurisdiction) and have the authority to agree to this consent.")})}),u.jsx(t,{xstyle:c.footerButtons,children:u.jsx(e,{expanding:!0,children:u.jsxs(t,{xstyle:c.footerButtonsContainer,children:[u.jsx(a,{expanding:!0,xstyle:c.primaryButton,children:u.jsx(r("XMDSButton.react"),{disabled:!1,label:s._(/*BTDS*/"Agree"),onPress:function(){m()},size:"medium",type:"primary"})}),u.jsx(a,{expanding:!0,xstyle:c.secondaryButton,children:u.jsx(r("XMDSButton.react"),{disabled:!1,label:s._(/*BTDS*/"Don't agree"),onPress:function(){p()},size:"medium",type:"secondary"})})]})})})]})]})]})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("THSpinner.react",["fbt","BaseLoadingStateElement.react","XPlatReactSVG","range","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={large:{count:12,length:25,offset:25,size:32,thickness:6},medium:{count:8,length:28,offset:22,size:24,thickness:10},small:{count:8,length:28,offset:22,size:18,thickness:10}},d="x1rp9ifn-B",m="xqng64z-B",p={root:{color:"xhgddhk",display:"x1rg5ohu",$$css:!0},rootSizing:function(t){return[{height:t!=null?"x16ye13r":t,width:t!=null?"x5lhr3w":t,$$css:!0},{"--x-height":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t),"--x-width":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},spin12:{animationDuration:"xemfg65",animationIterationCount:"xa4qsjk",animationName:"x1ka1v4i",animationTimingFunction:"xbv57ra",$$css:!0},spin8:{animationDuration:"xemfg65",animationIterationCount:"xa4qsjk",animationName:"xs51kk",animationTimingFunction:"x2a5n4e",$$css:!0}};function _(e){var t=e.disableLoadingStateTracker,n=e.size,a=n===void 0?"medium":n,i=e.xstyle,l=c[a],d=l.count,m=l.length,_=l.offset,f=l.size,g=l.thickness;return u.jsx(r("BaseLoadingStateElement.react"),{disableLoadingStateTracker:t,xstyle:[p.root,i,p.rootSizing(f)],children:u.jsx(o("XPlatReactSVG").Svg,{"aria-label":s._(/*BTDS*/"Loading..."),role:"img",viewBox:"0 0 100 100",xstyle:[d===8&&p.spin8,d===12&&p.spin12],children:r("range")(0,d).map(function(e){return u.jsx(o("XPlatReactSVG").Rect,{fill:"currentColor",height:g,opacity:e/d,rx:g/2,ry:g/2,transform:"rotate("+(e-d/4)*360/d+" 50 50)",width:m,x:50-g/2+_,y:50-g/2},e)})})})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("THButton.react",["CometPressable.react","Locale","THSpinner.react","normalizeCometRouterUrl","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={disabled:{color:"xhgddhk",cursor:"x1h6gzvc",":active_transform":"x1pdlv7q",$$css:!0},large:{height:"xdd8jsf",$$css:!0},loading:{color:"x19co3pv",$$css:!0},primary:{backgroundColor:"x111bo7f",borderTopColor:"x1vmvj1k",borderInlineEndColor:"x1yvpm8f",borderBottomColor:"x3tjt7u",borderInlineStartColor:"x147ezun",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",color:"xteu7em",$$css:!0},root:{alignItems:"x6s0dn4",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",boxSizing:"x9f619",display:"x3nfvp2",fontWeight:"x1s688f",height:"x90ne7k",justifyContent:"xl56j7k",maxWidth:"x193iq5w",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,transitionDuration:"x1g2r6go x12w9bfk",transitionProperty:"x11xpdln",transitionTimingFunction:"xz4gly6",userSelect:"x87ps6o",whiteSpace:"xuxw1ft",":active_transform":"x19kf12q",$$css:!0},secondary:{borderTopColor:"xz6dhga",borderInlineEndColor:"x79t38",borderBottomColor:"x1qv9dbp",borderInlineStartColor:"x121z25r",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",color:"xw2npq5",$$css:!0},simpleText:{color:"xw2npq5",fontSize:"x1lkfr7t",fontWeight:"xo1l8bm",paddingTop:"x1mznueg",paddingInlineEnd:"x1isbhzs",paddingBottom:"xw3kv2p",paddingInlineStart:"xwmlgs2",$$css:!0},small:{fontSize:"xmd891q",height:"xmix8c7",$$css:!0},tertiary:{backgroundColor:"xcw5jcc",borderTopColor:"xz6dhga",borderInlineEndColor:"x79t38",borderBottomColor:"x1qv9dbp",borderInlineStartColor:"x121z25r",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",color:"xw2npq5",$$css:!0},tertiaryBordered:{borderTopColor:"xz6dhga",borderInlineEndColor:"x79t38",borderBottomColor:"x1qv9dbp",borderInlineStartColor:"x121z25r",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",color:"x1r0l4h4",$$css:!0},tertiaryText:{color:"x1r0l4h4",$$css:!0},tombstone:{color:"x1r0l4h4",paddingInlineEnd:"xyri2b",":active_opacity":"x1citr7e",":active_transform":"x1pdlv7q",$$css:!0},whiteText:{color:"x14ctfv",$$css:!0}};function c(e){var t=e["aria-current"],n=e["aria-pressed"],a=e.disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV,i=e.href,l=e.icon,c=e.isDisabled,d=c===void 0?!1:c,m=e.isDownload,p=m===void 0?!1:m,_=e.isLabelHidden,f=_===void 0?!1:_,g=e.isLoading,h=g===void 0?!1:g,y=e.label,C=e.onClick,b=e.onHoverIn,v=e.onHoverOut,S=e.onPressIn,R=e.prefetchQueriesOnHover,L=e.replace,E=e.size,k=E===void 0?"medium":E,I=e.target,T=e.testid,D=e.textAlign,x=D===void 0?"center":D,$=e.traceParams,P=$===void 0?void 0:$,N=e.variant,M=e.xstyle,w=d||h,A=x==="center"||o("Locale").isRTL();return s.jsxs(r("CometPressable.react"),{"aria-current":t,"aria-label":f?y:void 0,"aria-pressed":n,cursorDisabled:w,disabled:w,linkProps:i==null?void 0:{disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:a,download:p,prefetchQueriesOnHover:R,replace:L,target:I,traceParams:P,url:r("normalizeCometRouterUrl")(i)},onHoverIn:b,onHoverOut:v,onPress:C,onPressIn:S,overlayDisabled:!0,testid:void 0,xstyle:[u.root,k==="large"&&u.large,k==="small"&&u.small,N==="primary"&&u.primary,N==="secondary"&&u.secondary,N==="tertiary"&&u.tertiary,N==="tertiary_text"&&u.tertiaryText,N==="tertiary_bordered"&&u.tertiaryBordered,N==="tombstone"&&u.tombstone,N==="simple_text"&&u.simpleText,N==="always_white"&&[u.simpleText,u.whiteText],M,w&&u.disabled,h&&u.loading],children:[l!=null&&A&&!(f&&h)&&l,f===!0?null:s.jsx("div",babelHelpers.extends({},{0:{className:"x6ikm8r x10wlt62 xlyipyv"},1:{className:"x6ikm8r x10wlt62 xlyipyv x1iyjqo2"}}[(x==="start")<<0],{children:y})),l!=null&&!A&&!(f&&h)&&l,h&&s.jsx("div",{className:"xausltr x10l6tqk xim6ej3",children:s.jsx(r("THSpinner.react"),{size:"small"})})]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("THDialogConstants",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["DEFAULT","SMALL","SMALL_TABBED","FULLSCREEN_FOR_BOTTOM_SHEET_OTHERWISE_DEFAULT"]),l=n("$InternalEnum").Mirrored(["BLURRED","DARK"]);i.THDialogVariant=e,i.THDialogBackdropVariant=l}),66);
__d("THDialogStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e="x18re5ia-B",s="x1prjo1g-B",u={backdropBlurred:{backgroundColor:"xjbqb8w",$$css:!0},backdropDark:{animationDuration:"x5hsz1j x1u6grsq",animationName:"xqcmdr3",animationTimingFunction:"x4hg4is",backgroundColor:"xwv1ft4",$$css:!0},card:{backgroundColor:"xz401s1",borderTopColor:"xz6dhga",borderInlineEndColor:"x79t38",borderBottomColor:"x1qv9dbp",borderInlineStartColor:"x121z25r",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xt8cgyo",borderInlineEndWidth:"x128c8uf",borderBottomWidth:"x1co6499",borderInlineStartWidth:"xc5fred",boxShadow:"x1vbw0d0",boxSizing:"x9f619",clipPath:"x1gj8qfm",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},contentWithAnimation:{animationDuration:"x5hsz1j x1u6grsq",animationName:"x1mkrjbl",animationTimingFunction:"x4hg4is",$$css:!0}};l.dialogStyles=u}),98);
__d("THHighlightedIconButton.react",["BaseButton.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={button:{alignItems:"x6s0dn4",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",height:"xn3w4p2",justifyContent:"xl56j7k",transitionDuration:"x13dflua",transitionProperty:"x11xpdln",width:"x187nhsf",":active_transform":"xk4oym4",":hover_transform":"xus2keu",$$css:!0},circle:{alignItems:"x6s0dn4",backgroundColor:"x1d90nhi",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",height:"xn3w4p2",justifyContent:"xl56j7k",width:"x187nhsf",$$css:!0},circleSecondary:{backgroundColor:"x1ohetei",$$css:!0},circleSmall:{height:"x1fgtraw",width:"xgd8bvy",$$css:!0},disabled:{opacity:"xti2d7y",":active_transform":"x1pdlv7q",":hover_transform":"x1t7rm6y",$$css:!0}};function c(e){var t=e.children,n=e.disabled,a=n===void 0?!1:n,i=e.innerRef,l=e.onClick,c=e.size,d=e.useSecondaryBackground,m=d===void 0?!1:d;return s.jsx(r("BaseButton.react"),{disabled:a,onClick:l,ref:i,xstyle:[u.button,a&&u.disabled],children:s.jsx(o("react-strict-dom").html.span,{style:[u.circle,c==="small"&&u.circleSmall,m&&u.circleSecondary],children:t})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("colorStyles",[],(function(t,n,r,o,a,i){"use strict";var e={"always-white":{dark:"var(--always-white)",light:"var(--always-white)"},"beta-icon":{dark:"var(--barcelona-beta-text)",light:"var(--barcelona-beta-text)"},"charcoal-icon":{dark:"var(--barcelona-charcoal-icon)",light:"var(--barcelona-charcoal-icon)"},"elevated-background":{dark:"var(--barcelona-elevated-background)",light:"var(--barcelona-elevated-background)"},"error-text":{dark:"var(--barcelona-error-text)",light:"var(--barcelona-error-text)"},"icon-elevated":{dark:"var(--barcelona-icon-elevated)",light:"var(--barcelona-icon-elevated)"},"inverse-icon":{dark:"var(--icon-inverse)",light:"var(--icon-inverse)"},"link-text":{dark:"var(--barcelona-link-text)",light:"var(--barcelona-link-text)"},"navigation-icon":{dark:"var(--barcelona-navigation-icon)",light:"var(--barcelona-navigation-icon)"},"notification-badge":{dark:"var(--barcelona-notification-badge-background)",light:"var(--barcelona-notification-badge-background)"},"primary-button-text":{dark:"var(--barcelona-primary-button-text)",light:"var(--barcelona-primary-button-text)"},"primary-icon":{dark:"var(--icon-primary)",light:"var(--icon-primary)"},"secondary-icon":{dark:"var(--barcelona-secondary-icon)",light:"var(--barcelona-secondary-icon)"},"success-icon":{dark:"var(--barcelona-success-icon)",light:"var(--barcelona-success-icon)"},"tooltip-background":{dark:"var(--barcelona-tooltip-background)",light:"var(--barcelona-tooltip-background)"}},l=e;i.default=l}),66);
__d("THIcon.react",["BaseSVGIcon.react","colorStyles","react","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e=["color"],s,u=s||(s=o("react"));function c(t){var n=t.color,o=n===void 0?"primary-icon":n,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=r("useCurrentDisplayMode")();return u.jsx(r("BaseSVGIcon.react"),babelHelpers.extends({color:r("colorStyles")[o][i]},a))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("ThreadsXOutline24Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M18.293 4.293a1 1 0 1 1 1.414 1.414L13.414 12l6.293 6.293a1 1 0 1 1-1.414 1.414L12 13.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L10.586 12 4.293 5.707a1 1 0 1 1 1.414-1.414L12 10.586l6.293-6.293z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("useTHIsLargeScreen_UNSAFE_FOR_SSR",["BarcelonaStyleXDefaultTheme","useMatchMedia"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=r("BarcelonaStyleXDefaultTheme")["barcelona-large-screen-breakpoint"];return r("useMatchMedia")("(min-width: "+e+")")}l.default=e}),98);
__d("THDialog.react",["fbt","BaseDialog.react","BaseMultiPageView.react","THDialogConstants","THDialogStyles","THHighlightedIconButton.react","THIcon.react","ThreadsXOutline24Icon.react","react","react-strict-dom","useTHIsLargeScreen_UNSAFE_FOR_SSR"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={backdrop:{bottom:"x1ey2m1c",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,pointerEvents:"x47corl",position:"xixxii4",top:"x13vifvy",$$css:!0},backdropBlurredVariant:{backdropFilter:"xgpcfj4",backgroundColor:"xspb4xo",$$css:!0},closeButtonContainer:{display:"x78zum5",insetInlineStart:"xqpl54q",left:null,right:null,position:"xixxii4",top:"x8l1umf",zIndex:"x1vjfegm",$$css:!0},closeButtonContainerSmall:{insetInlineStart:"x1r4y97",left:null,right:null,top:"xuivejd",$$css:!0},closeButtonContainerSmallTabbed:{insetInlineStart:"x1r4y97",left:null,right:null,top:"xfr5jun",$$css:!0},content:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},dialog:{overflowX:"x1plvlek",overflowY:"xryxfnj",$$css:!0}};function d(e){var t=e.backdropVariant,n=t===void 0?o("THDialogConstants").THDialogBackdropVariant.DARK:t,a=e.children,i=e.childrenXStyle,l=e.disableClosingWithMask,d=e.disableMultiPageViewAnimations,m=d===void 0?!1:d,p=e.fallback,_=e.hasCloseButton,f=_===void 0?!1:_,g=e.onClose,h=e.ref,y=e.showCardStyles,C=y===void 0?!1:y,b=e.testid,v=e.variant,S=v===void 0?o("THDialogConstants").THDialogVariant.DEFAULT:v,R=r("useTHIsLargeScreen_UNSAFE_FOR_SSR")();return u.jsxs(r("BaseDialog.react"),{disableClosingWithMask:l,onClose:g,ref:h,testid:void 0,xstyle:[c.dialog,n!==o("THDialogConstants").THDialogBackdropVariant.BLURRED&&o("THDialogStyles").dialogStyles.contentWithAnimation],children:[u.jsx(o("react-strict-dom").html.div,{style:[c.backdrop,n===o("THDialogConstants").THDialogBackdropVariant.BLURRED&&c.backdropBlurredVariant]}),u.jsxs(o("react-strict-dom").html.div,{style:[c.content],children:[f&&u.jsx(o("react-strict-dom").html.div,{style:[c.closeButtonContainer,!R&&S===o("THDialogConstants").THDialogVariant.SMALL&&c.closeButtonContainerSmall,!R&&S===o("THDialogConstants").THDialogVariant.SMALL_TABBED&&c.closeButtonContainerSmallTabbed],children:u.jsx(r("THHighlightedIconButton.react"),{onClick:g,size:R?"large":"small",children:u.jsx(r("THIcon.react"),{alt:s._(/*BTDS*/"Close"),color:"secondary-icon",icon:r("ThreadsXOutline24Icon.react"),size:R?18:12})})}),u.jsx(r("BaseMultiPageView.react"),{disableAnimations:m,fallback:p,xstyle:[C&&o("THDialogStyles").dialogStyles.card,i],children:a})]})]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("THDialogLoadingState.react",["BaseDialog.react","THSpinner.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={container:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,justifyContent:"xl56j7k",position:"xixxii4",top:"x13vifvy",$$css:!0}};function c(e){var t=e.onClose;return s.jsx(r("BaseDialog.react"),{onClose:t,children:s.jsx(o("react-strict-dom").html.div,{style:[u.container],children:s.jsx(r("THSpinner.react"),{size:"medium"})})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("THBrandHighlightContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("THTextConfig",[],(function(t,n,r,o,a,i,l){"use strict";var e={alwaysBlack:{color:"x1p6odiv",$$css:!0},alwaysWhite:{color:"x14ctfv",$$css:!0},beta:{color:"x1mpclbd",$$css:!0},brandHighlighted:{color:"x4d59ch",$$css:!0},charcoal:{color:"xc82ewx",$$css:!0},disabled:{color:"xuysnkq",$$css:!0},errorOrDestructive:{color:"xhci195",$$css:!0},likedText:{color:"x1mked70",$$css:!0},link:{color:"x1pwva54",$$css:!0},primary:{color:"xw2npq5",$$css:!0},secondary:{color:"xhgddhk",$$css:!0}},s=400,u=600,c=700,d=800,m={default:{fontWeight:"xo1l8bm",$$css:!0}},p={default:{fontWeight:"x1s688f",$$css:!0}},_={default:{fontWeight:"x1xlr1w8",$$css:!0}},f={default:{fontWeight:"xuv8nkb",$$css:!0}},g={body1:{fontSize:"xjohtrz",$$css:!0},body2:{fontSize:"xmd891q",$$css:!0},display:{fontSize:"x1vravhs",$$css:!0},footnote:{fontSize:"x1fhwpqd",$$css:!0},heading1:{fontSize:"x1kd8h9g",$$css:!0},heading2:{fontSize:"x133cpev",$$css:!0},label:{fontSize:"xl565be",$$css:!0},subtitle:{fontSize:"x1ju8cih",$$css:!0},title:{fontSize:"x1ms8i2q",$$css:!0}},h=function(){return[0,0]},y=function(t){switch(t){case"footnote":return[2,1];case"body1":return[3,4];case"body2":return[3,4];case"label":return[3,4];case"subtitle":return[3,4];case"title":return[4,6];case"heading2":return[5,6];case"heading1":return[5,6];case"display":return[5,6]}},C={default:{fontFamily:"x1i0vuye",$$css:!0},defaultWithInstagramLogo:{fontFamily:"x1ep9g4n",$$css:!0},instagramSans:{fontFamily:"xnh215r",$$css:!0},serif:{fontFamily:"xfbp3kx",$$css:!0}};function b(t,n,r){t===void 0&&(t="normal"),n===void 0&&(n=!1),r===void 0&&(r="default");var o=g,a=m;switch(t){case"semibold":a=p;break;case"bold":a=_;break;case"heavy":a=f}var i=C.default;switch(r){case"instagramSans":i=C.instagramSans;break;case"defaultWithInstagramLogo":i=C.defaultWithInstagramLogo;break;case"serif":i=C.serif;break}var l=n?y:h;return{colors:{alwaysBlack:e.alwaysBlack,alwaysWhite:e.alwaysWhite,beta:e.beta,brandHighlightedText:e.brandHighlighted,charcoal:e.charcoal,destructive:e.errorOrDestructive,disabled:e.disabled,likedText:e.likedText,link:e.link,primary:e.primary,secondary:e.secondary},defaultFontFamily:i,offsets:l,styles:{body1:{lineHeight:"1.4",style:[o.body1,a.default]},body2:{lineHeight:"1.4",style:[o.body2,a.default]},display:{lineHeight:"1.15",style:[o.display,a.default]},footnote:{lineHeight:"1.4",style:[o.footnote,a.default]},heading1:{lineHeight:"1.4",style:[o.heading1,a.default]},heading2:{lineHeight:"1.4",style:[o.heading2,a.default]},label:{lineHeight:"1.3125",style:[o.label,a.default]},subtitle:{lineHeight:"1.5",style:[o.subtitle,a.default]},title:{lineHeight:"1.25",style:[o.title,a.default]}}}}l.createTHTextConfig=b}),98);
__d("THText.react",["BaseText.react","THBrandHighlightContext.react","THTextConfig","memoizeWithArgs","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.use,c=r("memoizeWithArgs")(function(e,t,n){return o("BaseText.react").createBaseTextComponent(o("THTextConfig").createTHTextConfig(e,t,n))},function(e,t,n){return e+":"+t.toString()+":"+n});function d(e){var t=e.applyNegativeMargins,n=t===void 0?!1:t,o=e.children,a=e.color,i=a===void 0?"primary":a,l=e.dir,d=l===void 0?"auto":l,m=e.elementType,p=e.fontFamily,_=p===void 0?"default":p,f=e.id,g=e.maxLines,h=g===void 0?0:g,y=e.ref,C=e.testid,b=e.textAlign,v=e.translate,S=e.type,R=S===void 0?"body1":S,L=e.weight,E=L===void 0?"normal":L,k=e.wrap,I=e.xstyle,T=u(r("THBrandHighlightContext.react")),D=c(E,n,_);return s.jsx(D,{alignment:b,colorName:(T==null?void 0:T.inHighlightOverlay)===!0?"brandHighlightedText":i,dir:d,elementType:m,id:f,lines:h,ref:y,styleName:R,testid:void 0,translate:v,wrap:k,xstyle:I,children:o})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("THLink.react",["BaseLink.react","normalizeCometRouterUrl","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.ref,n=e["aria-current"],o=e["aria-label"],a=e.children,i=e.disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV,l=e.display,u=e.focusable,c=e.href,d=e.onClick,m=e.onHoverEnd,p=e.onHoverStart,_=e.onPressStart,f=e.passthroughProps,g=e.prefetchQueriesOnHover,h=e.preventLocalNavigation,y=e.replace,C=e.target,b=e.testid,v=e.xstyle,S=c!=null?r("normalizeCometRouterUrl")(c):null;return s.jsx(r("BaseLink.react"),{"aria-current":n,"aria-label":o,disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:i,display:l,focusable:u,href:S,onClick:d,onHoverEnd:m,onHoverStart:p,onPressStart:_,passthroughProps:f,prefetchQueriesOnHover:g,preventLocalNavigation:h,ref:t,replace:y,target:C,testid:void 0,xstyle:v,children:a})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("THTextLink.react",["THLink.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={bold:{fontWeight:"x1xlr1w8",$$css:!0},heavy:{fontWeight:"xuv8nkb",$$css:!0},normal:{fontWeight:"xo1l8bm",$$css:!0},semibold:{fontWeight:"x1s688f",$$css:!0}},c={primary:{color:"xw2npq5",":active_color":"xy3z9c9",":active_opacity":"x1citr7e",":visited_color":"x11smg1a",$$css:!0},root:{color:"xzlwxrv",":active_color":"xklvfq0",":active_opacity":"x1citr7e",":hover_textDecoration":"x1lku1pv",":visited_color":"x1w4el19",$$css:!0},secondary:{color:"xhgddhk",":active_color":"xj2mjn9",":active_opacity":"x1citr7e",":visited_color":"x1rq5sj",$$css:!0},underline:{textDecoration:"x1bvjpef",$$css:!0},underlineOnHover:{":hover_textDecoration":"xt0b8zv",$$css:!0}};function d(e){var t=e.ref,n=e["aria-label"],o=e.children,a=e.color,i=e.disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV,l=e.focusable,d=e.href,m=e.onClick,p=e.onHoverEnd,_=e.onHoverStart,f=e.onPressStart,g=e.passthroughProps,h=e.preventLocalNavigation,y=e.target,C=e.testid,b=e.textDecoration,v=e.underlineOnHover,S=e.weight,R=e.xstyle;return s.jsx(r("THLink.react"),{"aria-label":n,disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:i,focusable:l,href:d,onClick:m,onHoverEnd:p,onHoverStart:_,onPressStart:f,passthroughProps:g,preventLocalNavigation:h,ref:t,target:y,testid:void 0,xstyle:[c.root,a==="primary"&&c.primary,a==="secondary"&&c.secondary,v===!0&&c.underlineOnHover,b==="underline"&&c.underline,S!=null&&u[S],R],children:o})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("ExamplePromptScreenTH.react",["fbt","BarcelonaDarkModeStateProvider.react","BarcelonaHeaderLogoIcon.react","BarcelonaThemeProvider.react","BaseRow.react","BaseRowItem.react","BaseScrollableArea.react","BaseView.react","CometColumn.react","CometColumnItem.react","CometPlaceholder.react","CometRow.react","ConsentTemplateActionCallbacksContext","ConsentTemplateUserContext","MetaBrandDashedArcPointerOutline24Icon.react","MetaBrandEyeOutline24Icon.react","MetaBrandHeartOpenHandOutline24Icon.react","MetaBrandPersonStarsOutline24Icon.react","THButton.react","THDialog.react","THDialogLoadingState.react","THText.react","THTextLink.react","XMDSIcon.react","emptyFunction","react","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={dialog:{maxWidth:"x1xu72j8",$$css:!0},footer:{backgroundColor:"xukmnpi",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,"@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtons:{flexWrap:"x8hhl5t",justifyContent:"x1qughib",paddingBottom:"xx6bls6","@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtonsContainer:{alignItems:"x1qjc9v5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},footerDisclosure:{paddingBottom:"xr1496l",paddingTop:"xqy66fx",$$css:!0},header:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,paddingTop:"x1iorvi4",$$css:!0},layout:{maxHeight:"x1yr2tfi",position:"x1n2onr6",$$css:!0},navbar:{alignItems:"x6s0dn4",justifyContent:"x1qughib",minHeight:"x8nclml",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},navboarLogo:{height:"xt7dq6l",width:"xgd8bvy",$$css:!0},primaryButton:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0},secondaryButton:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},section:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},sectionIconTextList:{paddingBottom:"x10b6aqq",paddingTop:"xyamay9",$$css:!0},sectionIconTextListItem:{paddingTop:"x889kno",$$css:!0},sectionIconTextListItemContent:{paddingBottom:"x1a8lsjc",paddingTop:"x1yrsyyn",$$css:!0},sectionIconTextListItemContentSpaceBetween:{paddingTop:"x889kno",$$css:!0},sectionIconTextListItemIcon:{paddingInlineEnd:"xpdmqnj",$$css:!0},sectionParagraph:{paddingTop:"x7sb2j6",$$css:!0}};function d(){var e,t,n,a,l,d,m=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),p=m.onApproved,_=m.onDenied,f=o("ConsentTemplateUserContext").useConsentTemplateUserShortName(),g=r("useCurrentDisplayMode")();return u.jsx(r("BarcelonaThemeProvider.react"),{displayMode:g,children:u.jsx(o("BarcelonaDarkModeStateProvider.react").BarcelonaDarkModeStateProvider,{children:u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("THDialogLoadingState.react"),{onClose:r("emptyFunction")}),name:i.id,children:u.jsx("div",{className:"x6s0dn4 x78zum5 x1q0g3np xl56j7k xg6iff7",children:u.jsx(r("THDialog.react"),{childrenXStyle:c.dialog,hasCloseButton:!1,onClose:r("emptyFunction"),showCardStyles:!0,children:u.jsxs(r("CometColumn.react"),{expanding:!0,paddingTop:0,paddingVertical:0,xstyle:c.layout,children:[u.jsxs(r("CometRow.react"),{xstyle:c.navbar,children:[u.jsx(e=r("CometColumnItem.react"),{children:u.jsx("div",{className:"xc9qbxq x14qfxbe"})}),u.jsx(e,{children:u.jsx(r("BarcelonaHeaderLogoIcon.react"),{xstyle:c.navboarLogo})}),u.jsx(e,{children:u.jsx("div",{className:"xc9qbxq x14qfxbe"})})]}),u.jsx(e,{expanding:!0,children:u.jsxs(r("BaseScrollableArea.react"),{expanding:!0,hideScrollbar:!1,horizontal:!1,vertical:!0,children:[u.jsx(t=r("BaseView.react"),{xstyle:[c.root,c.header],children:u.jsx(n=r("THText.react"),{color:"primary",textAlign:"start",type:"heading1",children:s._(/*BTDS*/"Allow Meta to improve your app experience?")})}),u.jsxs(t,{xstyle:[c.root,c.section],children:[u.jsx(t,{xstyle:c.sectionParagraph,children:u.jsx(n,{color:"primary",textAlign:"start",type:"body1",children:s._(/*BTDS*/"{userName}, at Meta, we value your trust and want to be transparent about how we use your data. By consenting to this agreement, you allow us to collect and process your data to improve your app experience. {=m2}",[s._param("userName",f),s._implicitParam("=m2",u.jsx(r("THTextLink.react"),{color:"blue",href:"https://www.meta.com/help/1265316287987507/",children:s._(/*BTDS*/"Learn how your data will be processed.")}))])})}),u.jsxs(t,{xstyle:c.sectionIconTextList,children:[u.jsxs(a=r("BaseRow.react"),{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(l=r("BaseRowItem.react"),{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(d=r("XMDSIcon.react"),{icon:r("MetaBrandPersonStarsOutline24Icon.react"),size:24})}),u.jsxs(l,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(a,{align:"start",children:u.jsx(n,{color:"primary",textAlign:"start",type:"label",children:s._(/*BTDS*/"Personalized Recommendations")})}),u.jsx(a,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(a,{children:u.jsx(n,{color:"secondary",textAlign:"start",type:"body1",children:s._(/*BTDS*/"We can provide you with tailored content and suggestions based on your interests and preferences.")})})]})]}),u.jsxs(a,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(l,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(d,{icon:r("MetaBrandDashedArcPointerOutline24Icon.react"),size:24})}),u.jsxs(l,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(a,{align:"start",children:u.jsx(n,{color:"primary",textAlign:"start",type:"label",children:s._(/*BTDS*/"Enhanced App Performance")})}),u.jsx(a,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(a,{children:u.jsx(n,{color:"secondary",textAlign:"start",type:"body1",children:s._(/*BTDS*/"Your data helps us identify areas for improvement, ensuring a smoother and more efficient app experience.")})})]})]}),u.jsxs(a,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(l,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(d,{icon:r("MetaBrandHeartOpenHandOutline24Icon.react"),size:24})}),u.jsxs(l,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(a,{align:"start",children:u.jsx(n,{color:"primary",textAlign:"start",type:"label",children:s._(/*BTDS*/"New Features and Services")})}),u.jsx(a,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(a,{children:u.jsx(n,{color:"secondary",textAlign:"start",type:"body1",children:s._(/*BTDS*/"By analyzing user behavior, we can develop new features and services that cater to your needs and interests.")})})]})]}),u.jsxs(a,{align:"start",role:"listitem",xstyle:c.sectionIconTextListItem,children:[u.jsx(l,{xstyle:c.sectionIconTextListItemIcon,children:u.jsx(d,{icon:r("MetaBrandEyeOutline24Icon.react"),size:24})}),u.jsxs(l,{expanding:!0,xstyle:c.sectionIconTextListItemContent,children:[u.jsx(a,{align:"start",children:u.jsx(n,{color:"primary",textAlign:"start",type:"label",children:s._(/*BTDS*/"Improved Security")})}),u.jsx(a,{align:"start",xstyle:c.sectionIconTextListItemContentSpaceBetween}),u.jsx(a,{children:u.jsx(n,{color:"secondary",textAlign:"start",type:"body1",children:s._(/*BTDS*/"Your data helps us detect and prevent potential security threats, keeping your account and personal information safe.")})})]})]})]})]})]})}),u.jsxs(e,{xstyle:[c.root,c.footer],children:[u.jsx(t,{xstyle:c.footerDisclosure,children:u.jsx(n,{color:"secondary",textAlign:"center",type:"body1",children:s._(/*BTDS*/"By agreeing to this consent, you acknowledge that you have read and understood how we will use your data to improve your app experience. You also acknowledge that you are at least 18 years old (or the age of majority in your jurisdiction) and have the authority to agree to this consent.")})}),u.jsx(t,{xstyle:c.footerButtons,children:u.jsx(a,{expanding:!0,children:u.jsxs(t,{xstyle:c.footerButtonsContainer,children:[u.jsx(l,{expanding:!0,xstyle:c.primaryButton,children:u.jsx(r("THButton.react"),{isDisabled:!1,label:s._(/*BTDS*/"Agree"),onClick:function(){p()},size:"medium",variant:"primary"})}),u.jsx(l,{expanding:!0,xstyle:c.secondaryButton,children:u.jsx(r("THButton.react"),{isDisabled:!1,label:s._(/*BTDS*/"Don't agree"),onClick:function(){_()},size:"medium",variant:"secondary"})})]})})})]})]})})})})})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("Template1AConsentTemplateConfig",["$InternalEnum","ConsentTemplateFlow.type","FBLogger","Template1AConsentPromptScreenFB.react","Template1AConsentPromptScreenIG.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=n("$InternalEnum")({TEMPLATE_1A:"template_1a"}),c={flow:o("ConsentTemplateFlow.type").ConsentTemplateFlow.TEMPLATE_1A,getConsentTemplatePromptScreen:function(t,n){var e=u.cast(t);if(e==null)throw r("FBLogger")("consent_core").mustfixThrow("No matching consent template screen found for the given prompt %s",t);switch(e){case u.TEMPLATE_1A:switch(n){case"facebook_comet":return s.jsx(r("Template1AConsentPromptScreenFB.react"),{});case"instagram_web":return s.jsx(r("Template1AConsentPromptScreenIG.react"),{})}break}throw r("FBLogger")("consent_core").mustfixThrow("The consent prompt %s does not currently support the surface %s",t,n)},recordConsentOutcome:function(t,n){}};l.ConsentTemplatePrompts=u,l.Template1AConsentTemplateConfig=c}),98);
__d("CometVariablesTheme.react",["BaseTheme.react","CometStyleXDarkTheme","CometStyleXDefaultTheme","DspFDSWebLegacyThemeUsage","react","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e=["theme","xstyle"],s,u=s||(s=o("react")),c=s.useMemo,d={root:{boxSizing:"x1afcbsf",position:"x1uhb9sk",zIndex:"x1swf91x",$$css:!0}},m=babelHelpers.extends({},r("CometStyleXDefaultTheme")),p=babelHelpers.extends({},r("CometStyleXDarkTheme"));Object.assign(m,r("DspFDSWebLegacyThemeUsage").light),Object.assign(p,r("DspFDSWebLegacyThemeUsage").dark);var _={dark:p,light:m,type:"VARIABLES"};function f(t){var n=t.theme,o=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=r("useCurrentDisplayMode")(),l=c(function(){return n==="invert"?i==="dark"?"light":"dark":n!=null?n:i},[i,n]);return u.jsx(r("BaseTheme.react"),babelHelpers.extends({config:_,displayMode:l,xstyle:[d.root,o]},a))}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("ChevronLeftOutline24.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M6.053 12.53a.748.748 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.061 1.06L7.644 12l6.97 6.97a.75.75 0 0 1-1.061 1.06z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("ChevronRightOutline24.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M17.947 12.53a.748.748 0 0 0 0-1.06l-7.5-7.5a.75.75 0 1 0-1.061 1.06l6.97 6.97-6.97 6.97a.75.75 0 0 0 1.061 1.06z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSDialogBackgroundImageHeader.react",["fbt","BaseDialogLabelIDProvider","ChevronLeftOutline24.svg.react","ChevronRightOutline24.svg.react","CometImage.react","CrossFilled24.svg.react","FDSCircleButton.react","FDSDialogHeaderContainer.react","Locale","emptyFunction","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={maxHeight:"x1jols5v",$$css:!0},d={container:function(t){return[c,{"--x-maxHeight":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})("calc(100% - "+t+"px)")}]},content:{position:"x10l6tqk",width:"xh8yej3",$$css:!0},image:{height:"x5yr21d",objectFit:"xl1xv1r",verticalAlign:"xxymvpz",width:"xh8yej3",$$css:!0}},m=o("Locale").isRTL();function p(e){var t=e.backgroundImageProps,n=e.backTestID,a=n===void 0?"back-button":n,i=e.closeTestID,l=i===void 0?"close-button":i,c=e.disabled,p=c===void 0?!1:c,_=e.imageCutoffHeight,f=_===void 0?120:_,g=e.onBack,h=g===void 0?r("emptyFunction"):g,y=e.onClose,C=y===void 0?r("emptyFunction"):y,b=e.withBackButton,v=b===void 0?!1:b,S=e.withCloseButton,R=S===void 0?!0:S,L=e.withoutDivider,E=o("BaseDialogLabelIDProvider").useDialogHeaderID();return u.jsxs(r("FDSDialogHeaderContainer.react"),{addOnBottom:u.jsx(r("CometImage.react"),babelHelpers.extends({},t,{draggable:!1,xstyle:d.image})),containerXstyle:d.container(f),contentXstyle:d.content,id:E,children:[v?u.jsx("div",{className:"xyqm7xq x1ys307a",children:u.jsx(r("FDSCircleButton.react"),{"aria-label":s._(/*BTDS*/"Back"),disabled:p,icon:r(m?"ChevronRightOutline24.svg.react":"ChevronLeftOutline24.svg.react"),onPress:h,size:36,testid:void 0})}):u.jsx("div",{className:"xyqm7xq x1ys307a xc9qbxq x14qfxbe"}),R?u.jsx("div",{className:"xyqm7xq x1ys307a",children:u.jsx(r("FDSCircleButton.react"),{"aria-label":s._(/*BTDS*/"Close"),disabled:p,icon:r("CrossFilled24.svg.react"),onPress:C,size:36,testid:void 0})}):u.jsx("div",{className:"xc9qbxq x14qfxbe xyqm7xq x1ys307a"})]})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),226);
__d("FDSList.react",["BaseList.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","ref","testid","xstyle"],s,u=s||(s=o("react"));function c(t){var n=t.children,o=t.ref,a=t.testid,i=t.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(r("BaseList.react"),babelHelpers.extends({},l,{ref:o,role:"list",testid:void 0,variant:{xstyleConfig:{root:i}},children:n}))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("FDSListCellImpl.react",["cr:8666","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var r=t.ref,o=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(n("cr:8666"),babelHelpers.extends({},o,{ref:r}))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("FDSListCell.react",["FDSListCellImpl.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var n=t.ref,o=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(r("FDSListCellImpl.react"),babelHelpers.extends({},o,{ref:n}))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("Template1AConsentPromptScreenFB.react",["fbt","BaseRowItem.react","BaseScrollableArea.react","BaseView.react","CometColumn.react","CometColumnItem.react","CometPlaceholder.react","CometVariablesTheme.react","ConsentTemplateActionCallbacksContext","FDSButton.react","FDSDialogBackgroundImageHeader.react","FDSDialogContainer.react","FDSDialogLoadingState.react","FDSList.react","FDSListCell.react","FDSText.react","FDSTextPairing.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={dialog:{"@media (max-width: 679px)_maxHeight":"x1jxyteu","@media (max-width: 679px)_minHeight":"x1mfppf3","@media (max-width: 679px)_paddingTop":"x1y0ix2f","@media (max-width: 679px)_paddingBottom":"x1eevrrt","@media (max-width: 679px)_paddingInlineStart":"x1vnzckh","@media (max-width: 679px)_paddingInlineEnd":"xgof6fa","@media (max-width: 679px)_paddingLeft":null,"@media (max-width: 679px)_paddingRight":null,$$css:!0},footer:{backgroundColor:"x2bj2ny",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,paddingTop:"xyamay9","@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtons:{flexWrap:"x8hhl5t",justifyContent:"x1qughib",paddingBottom:"xsag5q8",paddingTop:"x1y1aw1k",$$css:!0},footerButtonsContainer:{alignItems:"x1qjc9v5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},footerDisclaimer:{$$css:!0},header:{paddingBottom:"xjkvuk6",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,paddingTop:"x1cnzs8",$$css:!0},layout:{maxHeight:"x1yr2tfi",position:"x1n2onr6","@media (max-width: 679px)_maxHeight":"x1jxyteu",$$css:!0},primaryButton:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},secondaryButton:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},section:{paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},sectionList:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},sectionListSubHeadline:{paddingBottom:"xjkvuk6",paddingTop:"x1cnzs8",$$css:!0},sectionSubHeadline:{paddingBottom:"xjkvuk6",paddingTop:"x1cnzs8",$$css:!0}};function d(){var e,t,n=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),a=n.onApproved,l=n.onDenied,d=n.onDismissed;return u.jsx(r("CometVariablesTheme.react"),{children:u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("FDSDialogLoadingState.react"),{withCloseButton:!1}),name:i.id,children:u.jsx(r("FDSDialogContainer.react"),{anchorXStyle:c.dialog,disableClosingWithMask:!0,size:"small",children:u.jsxs(r("CometColumn.react"),{expanding:!0,paddingTop:0,paddingVertical:0,xstyle:c.layout,children:[u.jsxs(r("CometColumnItem.react"),{expanding:!0,children:[u.jsx(r("FDSDialogBackgroundImageHeader.react"),{backgroundImageProps:{src:"/images/assets_DO_NOT_HARDCODE/foundation_privacy_sev_template_illustrations/Privacy-SEV-template-QP-mobile-4x.png"},onClose:d,withBackButton:!1}),u.jsxs(r("BaseScrollableArea.react"),{expanding:!0,hideScrollbar:!1,horizontal:!1,vertical:!0,children:[u.jsx(e=r("BaseView.react"),{xstyle:c.header,children:u.jsx(r("FDSText.react"),{align:"start",color:"primary",isPrimaryHeading:!0,type:"headlineEmphasized2",children:s._(/*BTDS*/"Allow [Processor] to use [Data types] for [Purposes]?")})}),u.jsxs(e,{xstyle:c.section,children:[u.jsx(e,{xstyle:c.sectionSubHeadline,children:u.jsx(t=r("FDSTextPairing.react"),{body:s._(/*BTDS*/"More information about the [Processor], [Data types], [Purposes], [Outcome] or [Management]."),bodyColor:"secondary",headline:s._(/*BTDS*/"Description subheadline"),isSemanticHeading:!0,level:3})}),u.jsx(e,{xstyle:c.sectionListSubHeadline,children:u.jsx(r("FDSText.react"),{align:"start",color:"primary",isSemanticHeading:!0,type:"headlineEmphasized3",children:s._(/*BTDS*/"List subheadline")})}),u.jsx(e,{xstyle:c.sectionList,children:u.jsxs(r("FDSList.react"),{"aria-label":s._(/*BTDS*/"List showing additional information about the consent"),children:[u.jsx(r("FDSListCell.react"),{content:u.jsx(t,{headline:s._(/*BTDS*/"More detail about this experience."),level:4,reduceEmphasis:!0}),spacingVertical:0}),u.jsx(r("FDSListCell.react"),{content:u.jsx(t,{headline:s._(/*BTDS*/"More detail about this experience."),level:4,reduceEmphasis:!0}),spacingVertical:0}),u.jsx(r("FDSListCell.react"),{content:u.jsx(t,{headline:s._(/*BTDS*/"More detail about this experience."),level:4,reduceEmphasis:!0}),spacingVertical:0})]})})]})]})]}),u.jsxs(r("CometColumnItem.react"),{xstyle:c.footer,children:[u.jsx(e,{xstyle:c.footerDisclaimer,children:u.jsx(r("FDSText.react"),{align:"center",color:"secondary",type:"meta3",children:s._(/*BTDS*/"Disclaimer text")})}),u.jsx(e,{xstyle:c.footerButtons,children:u.jsxs(e,{xstyle:c.footerButtonsContainer,children:[u.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:c.primaryButton,children:u.jsx(r("FDSButton.react"),{disabled:!1,label:s._(/*BTDS*/"Allow"),onPress:function(){a()},size:"medium",type:"primary"})}),u.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:c.secondaryButton,children:u.jsx(r("FDSButton.react"),{disabled:!1,label:s._(/*BTDS*/"Don't allow"),onPress:function(){l()},size:"medium",type:"secondary"})})]})})]})]})})})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("ConsentTemplateListItemMarker.react",["react","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){return r("vulture")("EqX0OYHS5qfukkhdgoFwgVwgQ5c="),s.jsx("div",{className:"x1jvgg1o x1c9tyrk xeusxvb x1pahc9y x1ertn4p xols6we x1v4s8kt"})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("IGDSList.react",["BaseList.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){return s.jsx(r("BaseList.react"),babelHelpers.extends({},e))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("Template1AConsentPromptScreenIG.react",["fbt","BaseRow.react","BaseRowItem.react","BaseScrollableArea.react","BaseView.react","CometColumn.react","CometColumnItem.react","CometImage.react","CometPlaceholder.react","ConsentTemplateActionCallbacksContext","ConsentTemplateListItemMarker.react","IGDSButton.react","IGDSDialogContainer.react","IGDSDialogHeader.react","IGDSDialogLoadingState.react","IGDSList.react","IGDSListCell.react","IGDSText.react","IGDSTextPairing.react","PolarisIGTheme.react","emptyFunction","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={footer:{backgroundColor:"x2bj2ny",paddingBottom:"x1t4gjm",paddingInlineStart:"x7vhb2i",paddingInlineEnd:"xli2wwf",paddingLeft:null,paddingRight:null,paddingTop:"x889kno",$$css:!0},footerButtons:{alignItems:"x1qjc9v5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},footerButtonsPrimary:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},footerButtonsSecondary:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},header:{paddingBottom:"xwib8y2",paddingInlineStart:"x7vhb2i",paddingInlineEnd:"xli2wwf",paddingLeft:null,paddingRight:null,paddingTop:"x1miatn0",$$css:!0},headerImage:{alignItems:"x6s0dn4",paddingBottom:"x84yb8i",$$css:!0},layout:{maxHeight:"xz59zxb",position:"x1n2onr6",$$css:!0},section:{paddingBottom:"x1l90r2v",paddingInlineStart:"x7vhb2i",paddingInlineEnd:"xli2wwf",paddingLeft:null,paddingRight:null,$$css:!0},sectionDescription:{paddingBottom:"xsag5q8",paddingTop:"xyamay9",$$css:!0},sectionListItem:{minHeight:"x1gg8mnh",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},sectionListItemGap:{paddingInlineEnd:"xpdmqnj",$$css:!0},sectionListItemMarker:{paddingBottom:"xwib8y2",paddingInlineStart:"x7coems",paddingInlineEnd:"xrw5ot4",paddingLeft:null,paddingRight:null,paddingTop:"x1y1aw1k",$$css:!0},sectionListSubHeadline:{paddingBottom:"x1a8lsjc",paddingTop:"x7sb2j6",$$css:!0}};function d(){var e,t,n,a,l=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),d=l.onApproved,m=l.onDenied,p=l.onDismissed,_=o("PolarisIGTheme.react").useTheme().getTheme();return u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("IGDSDialogLoadingState.react"),{onClose:r("emptyFunction")}),name:i.id,children:u.jsx(r("IGDSDialogContainer.react"),{size:"large",children:u.jsxs(r("CometColumn.react"),{expanding:!0,paddingTop:0,paddingVertical:0,xstyle:c.layout,children:[u.jsx(e=r("CometColumnItem.react"),{children:u.jsx(r("IGDSDialogHeader.react"),{borderBottom:"none",onClose:p,size:"default",children:null})}),u.jsx(e,{expanding:!0,children:u.jsxs(r("BaseScrollableArea.react"),{expanding:!0,hideScrollbar:!1,horizontal:!1,vertical:!0,children:[u.jsxs(t=r("BaseView.react"),{xstyle:c.header,children:[u.jsx(e,{xstyle:c.headerImage,children:u.jsx(r("CometImage.react"),{alt:s._(/*BTDS*/"[Placeholder] Image for a screen that asks the user to give permission for their data to be used for a specific purpose."),height:"100%",src:"/images/assets_DO_NOT_HARDCODE/ig_illustrations/illo-ig-fb-connection-refresh_"+_+"-4x.png",width:144})}),u.jsx(t,{children:u.jsx(r("IGDSTextPairing.react"),{headline:u.jsx(n=r("IGDSText.react"),{color:"primaryText",size:"headline2",textAlign:"start",weight:"bold",zeroMargin:!1,children:s._(/*BTDS*/"Allow [Processor] to use [Data types] for [Purposes]?")}),isPrimaryHeading:!0,level:"operational"})})]}),u.jsxs(t,{xstyle:c.section,children:[u.jsxs(t,{xstyle:c.sectionDescription,children:[u.jsx(r("IGDSTextPairing.react"),{headline:u.jsx(n,{color:"primaryText",size:"label",textAlign:"start",weight:"bold",zeroMargin:!1,children:s._(/*BTDS*/"Description subheadline")}),isSemanticHeading:!0,level:"operational"}),u.jsx(r("IGDSTextPairing.react"),{body:u.jsx(n,{color:"primaryText",size:"body",textAlign:"start",zeroMargin:!1,children:s._(/*BTDS*/"More information about the [Processor], [Data types], [Purposes], [Outcome] or [Management].")}),level:"operational"})]}),u.jsx(t,{xstyle:c.sectionListSubHeadline,children:u.jsx(n,{color:"primaryText",size:"label",textAlign:"start",weight:"bold",children:s._(/*BTDS*/"List subheadline")})}),u.jsx(t,{children:u.jsxs(r("IGDSList.react"),{"aria-label":s._(/*BTDS*/"[Placeholder] List with more information."),role:"list",children:[u.jsx(r("IGDSListCell.react"),{addOnStart:u.jsx(a=r("BaseRow.react"),{xstyle:c.sectionListItemMarker,children:u.jsx(r("ConsentTemplateListItemMarker.react"),{})}),addOnStartVerticalAlign:"top",addOnStartXStyle:c.sectionListItemGap,content:u.jsx(n,{color:"primaryText",size:"body",textAlign:"start",children:s._(/*BTDS*/"More detail about this experience.")}),horizontalSpacing:0,verticalSpacing:12,xstyle:c.sectionListItem}),u.jsx(r("IGDSListCell.react"),{addOnStart:u.jsx(a,{xstyle:c.sectionListItemMarker,children:u.jsx(r("ConsentTemplateListItemMarker.react"),{})}),addOnStartVerticalAlign:"top",addOnStartXStyle:c.sectionListItemGap,content:u.jsx(n,{color:"primaryText",size:"body",textAlign:"start",children:s._(/*BTDS*/"More detail about this experience.")}),horizontalSpacing:0,verticalSpacing:12,xstyle:c.sectionListItem}),u.jsx(r("IGDSListCell.react"),{addOnStart:u.jsx(a,{xstyle:c.sectionListItemMarker,children:u.jsx(r("ConsentTemplateListItemMarker.react"),{})}),addOnStartVerticalAlign:"top",addOnStartXStyle:c.sectionListItemGap,content:u.jsx(n,{color:"primaryText",size:"body",textAlign:"start",children:s._(/*BTDS*/"More detail about this experience.")}),horizontalSpacing:0,verticalSpacing:12,xstyle:c.sectionListItem})]})})]})]})}),u.jsx(e,{xstyle:c.footer,children:u.jsx(a,{expanding:!0,children:u.jsxs(t,{xstyle:c.footerButtons,children:[u.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:c.footerButtonsPrimary,children:u.jsx(r("IGDSButton.react"),{display:"block",isDisabled:!1,label:s._(/*BTDS*/"Allow"),onClick:function(){d()},size:"large",variant:"primary"})}),u.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:c.footerButtonsSecondary,children:u.jsx(r("IGDSButton.react"),{display:"block",isDisabled:!1,label:s._(/*BTDS*/"Don't allow"),onClick:function(){m()},size:"large",variant:"secondary"})})]})})})]})})})}d.displayName=d.name+" [from "+i.id+"]";function m(){return u.jsx(o("PolarisIGTheme.react").IGThemeProvider,{children:u.jsx(d,{})})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),226);
__d("XMDSDialogFooterContainer.react",["CDSDialogHeaderFooterContainerContext","CometColumn.react","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext,d={background:{backgroundColor:"x1jx94hy",$$css:!0},column:{paddingTop:"x1cnzs8",paddingInlineEnd:"x1xnnf8n",paddingBottom:"xx6bls6",paddingInlineStart:"x106a9eq",$$css:!0},root:{backfaceVisibility:"xlp1x4z",bottom:"x1ey2m1c",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",width:"xh8yej3",$$css:!0},sticky:{position:"x1n2onr6 xv7j57z",$$css:!0}};function m(t){var n,o=t.children,a=t.sticky,i=t.testid,l=c(r("CDSDialogHeaderFooterContainerContext")),s=l.isInner,m=l.isSticky,p=l.showBackground,_=l.xstyle,f=(n=a!=null?a:m)!=null?n:!0,g=s===!0,h=g&&!f||!g&&f;return h?u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(d.root,p===!0&&d.background,f&&d.sticky,_),{"data-testid":void 0,children:u.jsx("div",{className:"x6ikm8r x10wlt62",children:u.jsx(r("CometColumn.react"),{xstyle:d.column,children:o})})})):null}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("XMDSButtonGroup.react",["BaseRow.react","BaseRowItem.react","XMDSButton.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["testid"],u=["ref"],c=["testid","type"],d,m=d||(d=o("react")),p={containerNegativeMargin:{marginTop:"xifccgj",marginInlineEnd:"x1ws5yxj",marginBottom:"x4cne27",marginInlineStart:"xw01apr",$$css:!0},itemSpacing:{paddingTop:"x1yrsyyn",paddingInlineEnd:"x1icxu4v",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",$$css:!0},resetFlexBasis:{flexBasis:"xdl72j9",$$css:!0},stacked:{minWidth:"xgqtt45",$$css:!0}};function _(t){var n=t.align,o=n===void 0?"justify":n,a=t.direction,i=a===void 0?"forward":a,l=t.expanding,d=l===void 0?!1:l,_=t.showSecondaryLabelButtonOnly,f=_===void 0?!1:_,g=t.size,h=t.stacking,y=h===void 0?"auto":h,C=t.verticalAlign,b=t.widthMode,v=b===void 0?"flexible":b,S=t.wrap,R=S===void 0?"none":S,L=t.xstyle,E=t.primary,k=t.secondary,I=t.secondaryIcon,T=t.secondaryIconGroup,D=[],x=[],$=y==="always",P=$?"forward":y==="never"?"none":R,N=[p.itemSpacing,$&&p.stacked],M=null;if(E!=null){var w=E.ref,A=babelHelpers.objectWithoutPropertiesLoose(E,e),F=A.testid,O=babelHelpers.objectWithoutPropertiesLoose(A,s);M=m.jsx(r("XMDSButton.react"),babelHelpers.extends({},A,{ref:w,size:g,widthMode:v})),D.push({hidden:m.jsx(r("XMDSButton.react"),babelHelpers.extends({},O,{disabled:!0,size:g,widthMode:v})),visible:M})}if(k!=null){var B=k.ref,W=babelHelpers.objectWithoutPropertiesLoose(k,u),q=W.testid,U=W.type,V=babelHelpers.objectWithoutPropertiesLoose(W,c),H={hidden:m.jsx(r("XMDSButton.react"),babelHelpers.extends({},V,{disabled:!0,size:g,type:U!=null?U:"secondary",widthMode:v})),visible:m.jsx(r("XMDSButton.react"),babelHelpers.extends({},W,{ref:B,size:g,type:U!=null?U:"secondary",widthMode:v}))};i==="forward"&&R==="backward"&&!$?D.unshift(H):D.push(H)}else if(I!=null)x.push(m.jsx(r("BaseRowItem.react"),{xstyle:N,children:m.jsx(r("XMDSButton.react"),babelHelpers.extends({},I,{labelIsHidden:!0,size:g,type:"secondary",widthMode:v}))},"secondary-icon"));else if(T!=null){var G=T.primaryIcon,z=T.secondaryIcon;G!=null&&x.push(m.jsx(r("BaseRowItem.react"),{xstyle:N,children:m.jsx(r("XMDSButton.react"),babelHelpers.extends({},G,{labelIsHidden:!0,size:g,type:"secondary",widthMode:v}))},"secondary-icon-1")),z!=null&&x.push(m.jsx(r("BaseRowItem.react"),{xstyle:N,children:m.jsx(r("XMDSButton.react"),babelHelpers.extends({},z,{labelIsHidden:!0,size:g,type:"secondary",widthMode:v}))},"secondary-icon-2"))}var j=D.map(function(e,t){return m.jsx(r("BaseRowItem.react"),{expanding:o==="justify"&&v!=="constrained",xstyle:[p.resetFlexBasis,N],children:D.map(function(e,n){return m.jsx(m.Fragment,{children:t!==n?v==="constrained"?null:m.jsx("div",{"aria-hidden":!0,className:"xqtp20y xlshs6z",children:e.hidden}):e.visible},n)})},t)}),K=M!=null?m.jsx(r("BaseRowItem.react"),{expanding:o==="justify",xstyle:[p.resetFlexBasis,N],children:M},"primary"):null,Q=[K].concat(x),X=D.length===2||f;return m.jsx(r("BaseRow.react"),{align:o,direction:i,expanding:d,verticalAlign:C,wrap:P,xstyle:[L,p.containerNegativeMargin],children:X?j:Q})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("XMDSDialogFooterItem.react",["CometColumnItem.react","XMDSButtonGroup.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.primary,n=e.secondary,o=e.showSecondaryLabelButtonOnly,a=o===void 0?!1:o,i=e.size,l=i===void 0?"large":i,u=e.stacking;return s.jsx(r("CometColumnItem.react"),{children:s.jsx(r("XMDSButtonGroup.react"),{direction:"forward",primary:t?babelHelpers.extends({},t):null,secondary:n?babelHelpers.extends({},n):null,showSecondaryLabelButtonOnly:a,size:l,stacking:u!=null?u:void 0,verticalAlign:"stretch",wrap:"backward"})})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("useCDSDialogFooterActionsProps",["react"],(function(t,n,r,o,a,i,l){"use strict";var e=["purpose","testid"],s=["purpose","testid"],u,c=(u||(u=o("react"))).useMemo;function d(t){var n=t.primary,r=t.secondary,o=c(function(){if(n==null)return null;var t=n.purpose,r=n.testid,o=babelHelpers.objectWithoutPropertiesLoose(n,e);return babelHelpers.extends({testid:r},o)},[n]),a=c(function(){if(r==null)return null;var e=r.purpose,t=r.testid,n=babelHelpers.objectWithoutPropertiesLoose(r,s);return babelHelpers.extends({testid:t},n)},[r]);return{primary:o,secondary:a}}l.default=d}),98);
__d("XMDSDialogFooter.react",["CometColumnItem.react","XMDSDialogFooterContainer.react","XMDSDialogFooterItem.react","XMDSText.react","react","useCDSDialogFooterActionsProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.meta,n=e.metaAlign,o=n===void 0?"start":n,a=e.metaBelowPaddingTop,i=e.metaPosition,l=i===void 0?"below":i,u=e.primary,c=e.secondary,d=e.showSecondaryLabelButtonOnly,m=d===void 0?!1:d,p=e.size,_=e.stacking,f=e.sticky,g=e.testid,h=t!=null&&l==="above",y=t!=null&&l==="below",C=s.jsx(r("XMDSText.react"),{color:"secondaryText",textAlign:o,textStyle:"meta",children:t}),b=r("useCDSDialogFooterActionsProps")({primary:u,secondary:c}),v=b.primary,S=b.secondary,R=function(t){switch(t){case"small":return 12;case"medium":return 16;case"large":return 20;case"xlarge":return 24}};return s.jsxs(r("XMDSDialogFooterContainer.react"),{sticky:f,testid:void 0,children:[h&&s.jsx(r("CometColumnItem.react"),{align:o,paddingTop:0,paddingVertical:16,children:C}),s.jsx(r("XMDSDialogFooterItem.react"),{primary:v!=null?v:void 0,secondary:S!=null?S:void 0,showSecondaryLabelButtonOnly:m,size:p,stacking:_!=null?_:void 0}),y&&s.jsx(r("CometColumnItem.react"),{align:o,paddingTop:R(a!=null?a:"large"),children:C})]})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("XMDSCardContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({mediaBleed:!1}),c=u;l.default=c}),98);
__d("XMDSCard.react",["CometPressable.react","MetaConfig","XMDSCardContext","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useMemo,d={deprecatedBorderRadius:{borderStartStartRadius:"xk4rmqj",borderStartEndRadius:"xzhdlhr",borderEndEndRadius:"x4j2o4k",borderEndStartRadius:"xuyguo4",$$css:!0},mediaBleed:{borderStartStartRadius:"x51soum",borderStartEndRadius:"x1p52sp3",borderEndEndRadius:"xkyogvf",borderEndStartRadius:"xluoswm",$$css:!0},overflowHidden:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},pressed:{opacity:"x18km98s",transform:"xjzqdv7",$$css:!0},root:{alignItems:"x1qjc9v5",borderStartStartRadius:"x51soum",borderStartEndRadius:"x1p52sp3",borderEndEndRadius:"xkyogvf",borderEndStartRadius:"xluoswm",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x1epygpo",borderInlineEndWidth:"x91d900",borderBottomWidth:"x18bsr7w",borderInlineStartWidth:"xj39t1m",boxShadow:"x1irw62u",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",isolation:"xc8icb0",justifyContent:"x1nhvcw1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}},m=r("MetaConfig")._("195"),p={default:{backgroundColor:"x1jx94hy",borderTopColor:"xkpljb8",borderInlineEndColor:"x1fimh9p",borderBottomColor:"x1ae76x5",borderInlineStartColor:"x4hbd2p",$$css:!0},filled:{backgroundColor:"x1mz6kv3",borderTopColor:"xqtaiir",borderInlineEndColor:"x1lc4v28",borderBottomColor:"xxepxns",borderInlineStartColor:"xnmcyqj",$$css:!0}};function _(t){var n=t.children,o=t.color,a=o===void 0?"default":o,i=t.linkProps,l=t.mediaBleed,s=l===void 0?!1:l,_=t.onPress,f=t.ref,g=t.testid,h=t.xstyle,y=c(function(){return{mediaBleed:s}},[s]);return _!=null||i!=null?u.jsx(r("XMDSCardContext").Provider,{value:y,children:u.jsx(r("CometPressable.react"),{hideHoverOverlay:!0,linkProps:i,onPress:_,ref:f,xstyle:function(t){var e=t.pressed;return[d.root,!m&&d.deprecatedBorderRadius,!m&&s&&d.mediaBleed,p[a],h,e&&d.pressed]},children:n})}):u.jsx(r("XMDSCardContext").Provider,{value:y,children:u.jsx("div",babelHelpers.extends({"data-testid":void 0},(e||(e=r("stylex"))).props(d.root,!m&&d.deprecatedBorderRadius,!m&&s&&d.mediaBleed,p[a],d.overflowHidden,h),{ref:f,children:n}))})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("XMDSListContainer.react",["XMDSCard.react","XPlatReactEnvironment","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={card:{borderTopColor:"xkkctlj",borderInlineEndColor:"x1xa7n6s",borderBottomColor:"x1rsacje",borderInlineStartColor:"x140pcy2",borderStartStartRadius:"x1xupafa",borderStartEndRadius:"xajztof",borderEndEndRadius:"x4wgi3o",borderEndStartRadius:"x3rzcs5",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x1486fpl",borderInlineEndWidth:"x17j4th3",borderBottomWidth:"xh2bela",borderInlineStartWidth:"xzgjdc6",$$css:!0},cardWeb:{boxShadow:"x1bqluzl",$$css:!0},content:{alignItems:"x1qjc9v5",boxSizing:"x9f619",flexDirection:"xdt5ytf",justifyContent:"x1nhvcw1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},contentWeb:{borderStartStartRadius:"x1fmog5m",borderStartEndRadius:"xu25z0z",borderEndEndRadius:"x140muxe",borderEndStartRadius:"xo1y3bh",display:"x1jfb8zj",isolation:"xc8icb0",$$css:!0},footerMargin:{marginBottom:"x1yztbdb",$$css:!0},headerMargin:{marginTop:"x1gslohp",$$css:!0},inheritBorder:{borderStartStartRadius:"x1fmog5m",borderStartEndRadius:"xu25z0z",borderEndEndRadius:"x140muxe",borderEndStartRadius:"xo1y3bh",$$css:!0}};function c(e){var t=e["aria-label"],n=t===void 0?null:t,r=e["aria-labelledby"],a=e.children,i=e.footer,l=e.header,c=e.role,m=e.withoutCard,p=m===void 0?!1:m,_=e.xstyle;return s.jsxs(o("react-strict-dom").html.div,{style:_,children:[l,s.jsx(d,{hasFooter:i!=null,hasHeader:l!=null,withoutCard:p,children:s.jsx(o("react-strict-dom").html.div,{style:u.inheritBorder,children:s.jsx(o("react-strict-dom").html.div,{"aria-label":r==null&&n!=null?n:void 0,"aria-labelledby":r!=null?r:void 0,role:c,style:[u.content,o("XPlatReactEnvironment").isWeb()&&u.contentWeb],children:a})})}),i]})}c.displayName=c.name+" [from "+i.id+"]";function d(e){var t=e.children,n=e.hasFooter,a=e.hasHeader,i=e.withoutCard,l=[a&&u.headerMargin,n&&u.footerMargin];return i?s.jsx(o("react-strict-dom").html.div,{style:[u.inheritBorder,l],children:t}):s.jsx(r("XMDSCard.react"),{xstyle:[l,u.card,o("XPlatReactEnvironment").isWeb()&&u.cardWeb],children:t})}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),98);
__d("XMDSListCellTextPairing.react",["XMDSText.react","react","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={subtitleText:{marginBottom:"xjpr12u",paddingTop:"x1nn3v0j",$$css:!0},subtitleTextOverride:{paddingTop:"x889kno",$$css:!0},titleText:{marginBottom:"xjpr12u",paddingTop:"x1nn3v0j",$$css:!0},topText:{marginBottom:"x1e56ztr",$$css:!0}},c={dense:"body",regular:"primaryLabel"},d={dense:"bodyEmphasized",regular:"primaryLabelEmphasized"},m={dense:"meta",regular:"body"};function p(e){var t=e.density,n=t===void 0?"regular":t,o=e.selectedColorScheme,a=e.state,i=e.subtitle,l=e.subtitleColor,p=l===void 0?"secondaryText":l,_=e.subtitleMaxLines,f=e.title,g=e.titleColor,h=g===void 0?"primaryText":g,y=e.titleId,C=e.titleMaxLines,b=e.topText,v=e.topTextColor,S=v===void 0?"secondaryText":v,R=e.topTextMaxLines,L=r("useCurrentDisplayMode")(),E=L==="dark",k=a==="selected"&&o==="accent";return s.jsxs(s.Fragment,{children:[b!=null?s.jsx(r("XMDSText.react"),{color:a==="disabled"?"disabledText":a==="selected"?o==="accent"?"navListSelectedAccentText":"primaryDeemphasizedButtonText":S,maxLines:R,textStyle:"meta",xstyle:u.topText,children:b}):null,f!=null?s.jsx(r("XMDSText.react"),{asBox:!0,color:a==="disabled"?"disabledText":a==="selected"?o==="accent"?"navListSelectedAccentText":"primaryDeemphasizedButtonText":h,id:y,maxLines:C,textStyle:k&&E?d[n]:c[n],xstyle:u.titleText,children:f}):null,i!=null?s.jsx(r("XMDSText.react"),{asBox:!0,color:a==="disabled"?"disabledText":k?"primaryText":p,maxLines:_,textStyle:m[n],xstyle:[u.subtitleText,f!=null&&u.subtitleTextOverride],children:i}):null]})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("XMDSListCellImpl.react",["BaseDivider.react","BaseListCell.react","BaseRow.react","CDSListCellRefContext","CDSListContext","CDSListTruncationLimitContext","CDSMenuItemRoleContext","CometCompositeStructureContext","CometPressable.react","CometPressableOverlay.react","FBLogger","XMDSListCellTextPairing.react","XMDSText.react","react","stylex","useCometPressableEventHandlers","useMergeRefs"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useEffect,_=d.useMemo,f=d.useRef,g=d.useState,h={16:{paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",$$css:!0}},y={40:{alignItems:"x6s0dn4",height:"x1vqgdyp",justifyContent:"xl56j7k",width:"x100vrsf",$$css:!0}},C={16:{width:"x1kky2od",$$css:!0},24:{width:"xvy4d1p",$$css:!0},32:{width:"x1td3qas",$$css:!0},40:{width:"x100vrsf",$$css:!0},48:{width:"x1useyqa",$$css:!0}},b={deemphasized:{backgroundColor:"xljulmy",$$css:!0},primary:{$$css:!0}},v={badgeMargin:{marginTop:"x1xmf6yo",$$css:!0},baseListCell:{flexBasis:"xdl72j9",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",minHeight:"x1mq37bv",paddingTop:"xdqstbe",paddingBottom:"x7oumki",$$css:!0},denseListCell:{minHeight:"x1gg8mnh",$$css:!0},listItemBorder:{":first-child_borderStartEndRadius":"x1exlly7",":first-child_borderStartStartRadius":"x1e7cf47",":last-child_borderEndEndRadius":"x44cjkt",":last-child_borderEndStartRadius":"x1dygckn",$$css:!0},listItemPressable:{display:"x1lliihq",position:"x1n2onr6",$$css:!0},menuItemMargin:{marginInlineStart:"x1ijvj0j",marginInlineEnd:"x19rhlwn",marginLeft:null,marginRight:null,$$css:!0},menuItemPressableOverlay:{borderStartStartRadius:"x1aw5mqg",borderStartEndRadius:"x1je6yt",borderEndEndRadius:"x18jemmn",borderEndStartRadius:"x1n8fppw",$$css:!0},metaStartAddOnSpacing:{marginInlineStart:"xdwrcjd",$$css:!0},metaText:{marginBottom:"xjpr12u",paddingTop:"x1nn3v0j",$$css:!0},metaTextOverride:{paddingTop:"x96k8nx",$$css:!0},pressable:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1ga7v0g",borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",display:"x78zum5",flexDirection:"xdt5ytf",minHeight:"x1mq37bv",":first-child_borderStartEndRadius":"x1exlly7",":first-child_borderStartStartRadius":"x1e7cf47",":last-child_borderEndEndRadius":"x44cjkt",":last-child_borderEndStartRadius":"x1dygckn",$$css:!0},selected:{backgroundColor:"x1av1boa",$$css:!0},selectedAccent:{backgroundColor:"x9intrv",$$css:!0},startIndentStyles:{display:"x1rg5ohu",$$css:!0},withAddon:{paddingTop:"x1gw22gp",paddingBottom:"x188425o",$$css:!0}};function S(t){var n=t.ref,o=babelHelpers.objectWithoutPropertiesLoose(t,e),a=o.addOnBottom,i=o.addOnEnd,l=o.addOnEndVerticalAlign,u=o.addOnEndXStyle,d=o.addOnStart,S=o.addOnStartSize,R=o.addOnStartVerticalAlign,L=R===void 0?"top":R,E=o["aria-checked"],k=o["aria-label"],I=o["aria-selected"],T=o.badge,D=o.colorVariant,x=D===void 0?"primary":D,$=o.contentId,P=o.contentVerticalAlign,N=P===void 0?"center":P,M=o.contentXStyle,w=o.disabled,A=w===void 0?!1:w,F=o.hasBottomDivider,O=F===void 0?!1:F,B=o.linkProps,W=o.meta,q=o.metaAddOnStart,U=o.metaAddOnStartXStyle,V=o.metaColor,H=o.metaMaxLines,G=o.onPress,z=o.pressableId,j=o.role,K=o.selected,Q=K===void 0?!1:K,X=o.startIndent,Y=o.subtitle,J=o.subtitleColor,Z=J===void 0?"secondaryText":J,ee=o.subtitleMaxLines,te=o.testid,ne=o.title,re=o.titleColor,oe=re===void 0?"primaryText":re,ae=o.titleMaxLines,ie=o.topText,le=o.topTextColor,se=le===void 0?"secondaryText":le,ue=o.topTextMaxLines,ce=o.visuallyFocused,de=ce===void 0?!1:ce,me=o.withLabelElement,pe=me===void 0?!1:me,_e=m(r("CDSListContext")),fe=_e.density,ge=_e.selectedColorScheme,he=f(null),ye=f(null),Ce=m(r("CDSListTruncationLimitContext")),be=m(r("CDSListCellRefContext")),ve=m(r("CDSMenuItemRoleContext")),Se=G!=null||B!=null||pe,Re=m(r("CometCompositeStructureContext")),Le=Re.role,Ee=Le==="list",ke=r("useMergeRefs")(n,he,be!=null&&Ce&&!Se?be:null),Ie=r("useMergeRefs")(ye,be!=null&&Ce?be:null),Te=g(null),De=Te[0],xe=Te[1],$e=B!=null,Pe=d!=null||i!=null,Ne=G!=null||$e,Me=f(!0);p(function(){var e=!Me.current;Me.current=!1;var t=he.current;!de||t==null||t.scrollIntoView==null||t.scrollIntoView({behavior:e?"smooth":"auto",block:"nearest"})},[de]);var we=_(function(){if(k!=null)return k;if($e&&De!=null)return De},[k,$e,De]);p(function(){if(!(!$e||k!=null)){var e=he.current;if(e==null){r("FBLogger")("comet_ui").mustfix("List cell ref not set");return}xe(e.innerText)}},[k,$e,Y,ne]);var Ae=r("useCometPressableEventHandlers")({disabled:A}),Fe=Ae[2],Oe=Fe.focused,Be=Fe.focusVisible,We=Fe.hovered,qe=Fe.pressed,Ue=Ae[3],Ve=X!=null?c.jsx("span",babelHelpers.extends({},(s||(s=r("stylex"))).props([v.startIndentStyles,C[X]]))):void 0,He=c.jsx(r("BaseListCell.react"),{addOnEnd:i,addOnEndVerticalAlign:l,addOnEndXStyle:u,addOnFooter:a,addOnStart:d!=null?d:Ve,addOnStartVerticalAlign:L,addOnStartXStyle:S&&y[S],"aria-hidden":$e&&we!=null,"aria-label":Ne?void 0:k,content:c.jsxs("div",babelHelpers.extends({},{0:{},2:{className:"x1diwwjn"},1:{className:"xbmvrgn"},3:{className:"x1diwwjn xbmvrgn"}}[(d!=null||Ve!=null)<<1|(i!=null)<<0],{children:[c.jsx(r("XMDSListCellTextPairing.react"),{density:fe,selectedColorScheme:ge,state:A?"disabled":Q?"selected":null,subtitle:Y,subtitleColor:Z,subtitleMaxLines:ee,title:ne,titleColor:oe,titleMaxLines:ae,topText:ie,topTextColor:se,topTextMaxLines:ue}),W!=null?c.jsxs(r("BaseRow.react"),{align:"start",verticalAlign:"center",xstyle:[v.metaText,(ne!=null||Y!=null)&&q==null&&v.metaTextOverride,q!=null&&U],children:[q!=null?q:null,c.jsx(r("XMDSText.react"),{color:A?"disabledText":V!=null?V:"secondaryText",maxLines:H,textStyle:"meta",xstyle:q!=null&&v.metaStartAddOnSpacing,children:W})]}):null,T&&c.jsx(r("BaseRow.react"),{align:"start",verticalAlign:"center",xstyle:ne!=null||Y!=null||W!=null?v.badgeMargin:void 0,children:T})]})),contentId:$,contentVerticalAlign:N,contentXStyle:M,ref:ke,role:Ee&&(Ne||pe)?"none":void 0,tabIndex:Se?void 0:-1,testid:void 0,verticalAlign:"center",xstyle:[v.baseListCell,fe==="dense"&&v.denseListCell,h[16],Pe&&v.withAddon,v.listItemBorder,b[x],Q===!0&&(ge==="accent"?v.selectedAccent:v.selected)]}),Ge=O&&c.jsx(r("BaseDivider.react"),{ariaHidden:!0});if(pe)return c.jsxs(c.Fragment,{children:[c.jsxs("label",babelHelpers.extends({},Ue,{className:(s||(s=r("stylex")))([v.listItemPressable,v.listItemBorder]),ref:Ie,tabIndex:-1,children:[He,c.jsx(r("CometPressableOverlay.react"),{focusRingPosition:"inset",focusVisible:Oe&&Be||de,hovered:We,pressed:qe,showFocusRing:!0,xstyle:ve!=null&&v.menuItemPressableOverlay})]})),Ge]});if(!Ne)return c.jsxs(c.Fragment,{children:[He,Ge]});var ze=c.jsx(r("CometPressable.react"),{"aria-checked":E,"aria-label":we,"aria-selected":I!=null?I:Q||void 0,disabled:A,id:z,linkProps:B,onPress:G,overlayDisabled:!0,ref:Ie,role:j,suppressFocusRing:!0,xstyle:[v.pressable,fe==="dense"&&v.denseListCell,b[x],ve!=null&&v.menuItemMargin],children:function(t){return c.jsxs(c.Fragment,{children:[He,c.jsx(r("CometPressableOverlay.react"),{focusRingPosition:"inset",focusVisible:t.focused&&t.focusVisible||de,hovered:t.hovered,pressed:t.pressed,showFocusRing:!0,xstyle:ve!=null&&v.menuItemPressableOverlay})]})}});return c.jsxs(c.Fragment,{children:[Ee?c.jsx("div",{role:"listitem",className:"x1exlly7 x1e7cf47 x44cjkt x1dygckn",children:ze}):ze,Ge]})}S.displayName=S.name+" [from "+i.id+"]",l.default=S}),98);
__d("XMDSListCell.react",["BaseIsDecorativeContext","XMDSListCellImpl.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["addOnEnd","ref"],s,u=s||(s=o("react"));function c(t){var n=t.addOnEnd,o=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(r("BaseIsDecorativeContext").Provider,{value:!0,children:u.jsx(r("XMDSListCellImpl.react"),babelHelpers.extends({ref:o},a,{addOnEnd:n}))})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("XMDSTextPairing.react",["CDSTextStyleNames","FBLogger","XMDSText.react","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useMemo,d={bottomText:{marginTop:"xw7yly9",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},topText:{marginBottom:"x1yztbdb",$$css:!0}},m={headline1Body:{marginTop:"x1sy10c2",$$css:!0},headline1Meta:{marginTop:"xw7yly9",$$css:!0},headline2Body:{marginTop:"x1sy10c2",$$css:!0},headline3Body:{marginTop:"xw7yly9",$$css:!0},headline3Meta:{marginTop:"x14vqqas",$$css:!0},primaryLabelMeta:{marginTop:"x14vqqas",$$css:!0}};function p(t){var n=t.bottomText,a=t.contentColor,i=a===void 0?"primaryText":a,l=t.contentMaxLines,s=t.contentRef,p=t.contentTestid,_=t.contentText,f=t.contentTruncationTooltip,g=t.headlineColor,h=g===void 0?"primaryText":g,y=t.headlineId,C=t.headlineMaxLines,b=t.headlineTestid,v=t.headlineText,S=t.headlineTruncationTooltip,R=t.isPrimaryHeading,L=t.isSemanticHeading,E=L===void 0?!0:L,k=t.testid,I=t.textAlign,T=I===void 0?"start":I,D=t.textPairingStyle,x=t.topText,$=t.topTextColor,P=$===void 0?"primaryText":$,N=t.xstyle,M=c(function(){if(x!=null&&(D==="headline1Body"||D==="headline2Body"||D==="headline3Body"))return u.jsx(r("XMDSText.react"),{color:P,textAlign:T,textStyle:D==="headline3Body"?"metaEmphasized":"secondaryLabel",xstyle:d.topText,children:x});if(x!=null)return r("FBLogger")("comet_ui").mustfix('Top text can only be passed in for "headline1Body", "headline2Body" and "headline3Body"')},[T,D,x,P]),w=v!=null?u.jsx(r("XMDSText.react"),{color:h,id:y,isPrimaryHeading:R,isSemanticHeading:E,maxLines:C,testid:void 0,textAlign:T,textStyle:o("CDSTextStyleNames").headlineTextStyleNames[D],truncationTooltip:S,children:v}):null,A=_!=null?u.jsx(r("XMDSText.react"),{color:i,maxLines:l,ref:s,testid:void 0,textAlign:T,textStyle:o("CDSTextStyleNames").contentTextStyleNames[D],truncationTooltip:f,xstyle:w!=null&&m[D],children:_}):null,F=n!=null&&D==="headline3Body"?u.jsx(r("XMDSText.react"),{textStyle:"meta",xstyle:d.bottomText,children:n}):n!=null?r("FBLogger")("comet_ui").mustfix('Bottom text can only be passed in for "headline3Body"'):null;return u.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(d.root,N),{"data-testid":void 0,children:[M,w,A,F]}))}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("Template1AXMDSConsentPromptScreen.react",["fbt","BaseView.react","CometBackgroundImage.react","CometColumnItem.react","CometPlaceholder.react","ConsentTemplateActionCallbacksContext","XMDSDialog.react","XMDSDialogFooter.react","XMDSDialogHeader.react","XMDSDialogLoadingState.react","XMDSList.react","XMDSListCell.react","XMDSText.react","XMDSTextPairing.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={header:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},headerHeadline:{paddingTop:"x1cnzs8",$$css:!0},headerImage:{borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",marginTop:"xhsvlbd",$$css:!0},section:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},sectionListSubHeadline:{paddingBottom:"xx6bls6",paddingTop:"x1p5oq8j",$$css:!0},sectionSubHeadline:{paddingBottom:"x10b6aqq",paddingTop:"xm77wn2",$$css:!0}};function d(){var e,t=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),n=t.onApproved,a=t.onDenied,l=t.onDismissed;return u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("XMDSDialogLoadingState.react"),{withCloseButton:!1}),name:i.id,children:u.jsxs(r("XMDSDialog.react"),{footer:u.jsx(r("XMDSDialogFooter.react"),{meta:s._(/*BTDS*/"Disclaimer text"),metaAlign:"center",metaPosition:"above",primary:{label:s._(/*BTDS*/"Allow"),onPress:function(){n()}},secondary:{label:s._(/*BTDS*/"Don't allow"),onPress:function(){a()}},sticky:!0}),header:u.jsx(r("XMDSDialogHeader.react"),{onClose:l}),inline:!0,size:"small",children:[u.jsxs(e=r("BaseView.react"),{xstyle:c.header,children:[u.jsx(r("CometColumnItem.react"),{xstyle:c.headerImage,children:u.jsx(r("CometBackgroundImage.react"),{alt:s._(/*BTDS*/"[Placeholder] Image for a screen that asks the user to give permission for their data to be used for a specific purpose."),src:"/images/assets_DO_NOT_HARDCODE/fb_company_illo/XMDS-Image-16-7-Placeholder_light-4x.png"})}),u.jsx(r("CometColumnItem.react"),{xstyle:c.headerHeadline,children:u.jsx(r("XMDSText.react"),{color:"primaryText",isPrimaryHeading:!0,textAlign:"start",textStyle:"headline1",children:s._(/*BTDS*/"Allow [Processor] to use [Data types] for [Purposes]?")})})]}),u.jsxs(e,{xstyle:c.section,children:[u.jsx(e,{xstyle:c.sectionSubHeadline,children:u.jsx(r("XMDSTextPairing.react"),{contentText:s._(/*BTDS*/"More information about the [Processor], [Data types], [Purposes], [Outcome] or [Management]."),headlineText:s._(/*BTDS*/"Description subheadline"),isSemanticHeading:!0,textPairingStyle:"headline3Body"})}),u.jsx(e,{xstyle:c.sectionListSubHeadline,children:u.jsx(r("XMDSText.react"),{color:"primaryText",isSemanticHeading:!0,textAlign:"start",textStyle:"headline3",children:s._(/*BTDS*/"List subheadline")})}),u.jsx(e,{children:u.jsxs(r("XMDSList.react"),{"aria-label":s._(/*BTDS*/"[Placeholder] List with more information."),children:[u.jsx(r("XMDSListCell.react"),{hasBottomDivider:!0,title:s._(/*BTDS*/"More detail about this experience.")}),u.jsx(r("XMDSListCell.react"),{hasBottomDivider:!0,title:s._(/*BTDS*/"More detail about this experience.")}),u.jsx(r("XMDSListCell.react"),{title:s._(/*BTDS*/"More detail about this experience.")})]})})]})]})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("Template1AXMDSConsentTemplateConfig",["$InternalEnum","ConsentTemplateFlow.type","FBLogger","Template1AXMDSConsentPromptScreen.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=n("$InternalEnum")({TEMPLATE_1A_XMDS:"template_1a_xmds"}),c={flow:o("ConsentTemplateFlow.type").ConsentTemplateFlow.TEMPLATE_1A_XMDS,getConsentTemplatePromptScreen:function(t,n){var e=u.cast(t);if(e==null)throw r("FBLogger")("consent_core").mustfixThrow("No matching consent template screen found for the given prompt %s",t);switch(e){case u.TEMPLATE_1A_XMDS:switch(n){case"facebook_comet":case"instagram_web":return s.jsx(r("Template1AXMDSConsentPromptScreen.react"),{})}break}throw r("FBLogger")("consent_core").mustfixThrow("The consent prompt %s does not currently support the surface %s",t,n)},recordConsentOutcome:function(t,n){}};l.ConsentTemplatePrompts=u,l.Template1AXMDSConsentTemplateConfig=c}),98);
__d("Template1BConsentTemplateConfig",["$InternalEnum","ConsentTemplateFlow.type","FBLogger","Template1BConsentPromptScreenFB.react","Template1BConsentPromptScreenIG.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=n("$InternalEnum")({TEMPLATE_1B:"template_1b"}),c={flow:o("ConsentTemplateFlow.type").ConsentTemplateFlow.TEMPLATE_1B,getConsentTemplatePromptScreen:function(t,n){var e=u.cast(t);if(e==null)throw r("FBLogger")("consent_core").mustfixThrow("No matching consent template screen found for the given prompt %s",t);switch(e){case u.TEMPLATE_1B:switch(n){case"facebook_comet":return s.jsx(r("Template1BConsentPromptScreenFB.react"),{});case"instagram_web":return s.jsx(r("Template1BConsentPromptScreenIG.react"),{})}break}throw r("FBLogger")("consent_core").mustfixThrow("The consent prompt %s does not currently support the surface %s",t,n)},recordConsentOutcome:function(t,n){}};l.ConsentTemplatePrompts=u,l.Template1BConsentTemplateConfig=c}),98);
__d("Template1BConsentString",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Allow [Processor] to use [Data types] for [Purposes]?"),u=s._(/*BTDS*/"More information about the [Processor], [Data types], [Purposes], [Outcome] or [Management]."),c=s._(/*BTDS*/"List subheadline"),d=s._(/*BTDS*/"More detail about this experience."),m=s._(/*BTDS*/"Disclaimer text"),p=s._(/*BTDS*/"Allow"),_=s._(/*BTDS*/"Don't allow");l.TITLE=e,l.SUBTITLE=u,l.LIST_SUBHEADLINE=c,l.LIST_ITEM_CONTENT=d,l.DISCLAIMER_TEXT=m,l.ALLOW_BUTTON_LABEL=p,l.DISALLOW_BUTTON_LABEL=_}),226);
__d("Template1BConsentPromptScreenFB.react",["ix","BaseRowItem.react","BaseScrollableArea.react","BaseView.react","CometColumn.react","CometColumnItem.react","CometPlaceholder.react","CometVariablesTheme.react","ConsentTemplateActionCallbacksContext","FDSButton.react","FDSDialogContainer.react","FDSDialogHeader.react","FDSDialogLoadingState.react","FDSIcon.react","FDSList.react","FDSListCell.react","FDSText.react","FDSTextPairing.react","Template1BConsentString","fbicon","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={dialog:{"@media (max-width: 679px)_maxHeight":"x1jxyteu","@media (max-width: 679px)_minHeight":"x1mfppf3","@media (max-width: 679px)_paddingTop":"x1y0ix2f","@media (max-width: 679px)_paddingBottom":"x1eevrrt","@media (max-width: 679px)_paddingInlineStart":"x1vnzckh","@media (max-width: 679px)_paddingInlineEnd":"xgof6fa","@media (max-width: 679px)_paddingLeft":null,"@media (max-width: 679px)_paddingRight":null,$$css:!0},footer:{backgroundColor:"x2bj2ny",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,paddingTop:"xyamay9","@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtons:{flexWrap:"x8hhl5t",justifyContent:"x1qughib",paddingBottom:"xsag5q8",paddingTop:"x1y1aw1k",$$css:!0},footerButtonsContainer:{alignItems:"x1qjc9v5",columnGap:"xfex06f",display:"x78zum5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},footerDisclaimer:{$$css:!0},header:{paddingBottom:"xjkvuk6",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,paddingTop:"x1cnzs8",$$css:!0},layout:{maxHeight:"x1yr2tfi",position:"x1n2onr6","@media (max-width: 679px)_maxHeight":"x1jxyteu",$$css:!0},primaryButton:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},secondaryButton:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},section:{paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},sectionList:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},sectionListSubHeadline:{paddingBottom:"xjkvuk6",paddingTop:"x1cnzs8",$$css:!0},sectionSubHeadline:{paddingBottom:"xjkvuk6",paddingTop:"x1y1aw1k",$$css:!0}};function d(){var e,t,n,a=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),l=a.onApproved,d=a.onDenied,m=a.onDismissed;return u.jsx(r("CometVariablesTheme.react"),{children:u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("FDSDialogLoadingState.react"),{withCloseButton:!1}),name:i.id,children:u.jsxs(r("FDSDialogContainer.react"),{anchorXStyle:c.dialog,disableClosingWithMask:!0,size:"small",children:[u.jsx(r("FDSDialogHeader.react"),{onClose:m,text:"",withoutDivider:!0}),u.jsxs(r("CometColumn.react"),{expanding:!0,paddingTop:0,paddingVertical:0,xstyle:c.layout,children:[u.jsx(r("CometColumnItem.react"),{expanding:!0,children:u.jsxs(r("BaseScrollableArea.react"),{expanding:!0,hideScrollbar:!1,horizontal:!1,vertical:!0,children:[u.jsx(t=r("BaseView.react"),{xstyle:c.header,children:u.jsx(n=r("FDSText.react"),{align:"start",color:"primary",isPrimaryHeading:!0,type:"headlineEmphasized2",children:(e=o("Template1BConsentString")).TITLE})}),u.jsxs(t,{xstyle:c.section,children:[u.jsx(t,{xstyle:c.sectionSubHeadline,children:u.jsx(n,{color:"primary",type:"body2",children:e.SUBTITLE})}),u.jsx(t,{xstyle:c.sectionListSubHeadline,children:u.jsx(n,{align:"start",color:"primary",isSemanticHeading:!0,type:"headlineEmphasized3",children:e.LIST_SUBHEADLINE})}),u.jsx(t,{xstyle:c.sectionList,children:u.jsxs(r("FDSList.react"),{"aria-label":e.LIST_ITEM_CONTENT,children:[u.jsx(r("FDSListCell.react"),{addOnStart:u.jsx(r("FDSIcon.react"),{color:"black",icon:o("fbicon")._(s("834100"),24)}),content:u.jsx(r("FDSTextPairing.react"),{headline:e.LIST_ITEM_CONTENT,level:4,reduceEmphasis:!0}),spacingVertical:0}),u.jsx(r("FDSListCell.react"),{addOnStart:u.jsx(r("FDSIcon.react"),{color:"black",icon:o("fbicon")._(s("834100"),24)}),content:u.jsx(r("FDSTextPairing.react"),{headline:e.LIST_ITEM_CONTENT,level:4,reduceEmphasis:!0}),spacingVertical:0}),u.jsx(r("FDSListCell.react"),{addOnStart:u.jsx(r("FDSIcon.react"),{color:"black",icon:o("fbicon")._(s("834100"),24)}),content:u.jsx(r("FDSTextPairing.react"),{headline:e.LIST_ITEM_CONTENT,level:4,reduceEmphasis:!0}),spacingVertical:0})]})})]})]})}),u.jsxs(r("CometColumnItem.react"),{xstyle:c.footer,children:[u.jsx(t,{xstyle:c.footerDisclaimer,children:u.jsx(n,{align:"center",color:"secondary",type:"meta3",children:e.DISCLAIMER_TEXT})}),u.jsx(t,{xstyle:c.footerButtons,children:u.jsxs(t,{xstyle:c.footerButtonsContainer,children:[u.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:c.primaryButton,children:u.jsx(r("FDSButton.react"),{disabled:!1,label:e.ALLOW_BUTTON_LABEL,onPress:function(){l()},size:"medium",type:"primary"})}),u.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:c.secondaryButton,children:u.jsx(r("FDSButton.react"),{disabled:!1,label:e.DISALLOW_BUTTON_LABEL,onPress:function(){d()},size:"medium",type:"secondary"})})]})})]})]})]})})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("IGDSShieldStarPanoOutline24Icon.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M3 13.5a9 9 0 0 0 18 0V4.488A17.848 17.848 0 0 1 12 1.5a17.848 17.848 0 0 1-9 2.988z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),s.jsx(o("XPlatReactSVG").Path,{d:"m11.283 7.925-.934 2.094-2.403.277a.785.785 0 0 0-.425 1.372l1.808 1.572-.523 2.342a.785.785 0 0 0 1.177.839L12 15.18l2.017 1.241a.785.785 0 0 0 1.177-.84l-.523-2.341 1.808-1.572a.785.785 0 0 0-.425-1.372l-2.403-.277-.934-2.094a.785.785 0 0 0-1.434 0z",fillRule:"evenodd"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("Template1BConsentPromptScreenIG.react",["fbt","BaseRow.react","BaseRowItem.react","BaseScrollableArea.react","BaseView.react","CometColumn.react","CometColumnItem.react","CometPlaceholder.react","ConsentTemplateActionCallbacksContext","IGDSButton.react","IGDSDialogContainer.react","IGDSDialogHeader.react","IGDSDialogLoadingState.react","IGDSIcon.react","IGDSList.react","IGDSListCell.react","IGDSShieldStarPanoOutline24Icon.svg.react","IGDSText.react","IGDSTextPairing.react","PolarisIGTheme.react","emptyFunction","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={disclaimerText:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},footer:{backgroundColor:"x2bj2ny",paddingBottom:"x1t4gjm",paddingInlineStart:"x7vhb2i",paddingInlineEnd:"xli2wwf",paddingLeft:null,paddingRight:null,paddingTop:"x889kno",$$css:!0},footerButtons:{alignItems:"x1qjc9v5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},footerButtonsPrimary:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},footerButtonsSecondary:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},header:{paddingBottom:"xwib8y2",paddingInlineStart:"x7vhb2i",paddingInlineEnd:"xli2wwf",paddingLeft:null,paddingRight:null,paddingTop:"x1p5oq8j",$$css:!0},layout:{maxHeight:"xz59zxb",position:"x1n2onr6",$$css:!0},section:{paddingBottom:"x1l90r2v",paddingInlineStart:"x7vhb2i",paddingInlineEnd:"xli2wwf",paddingLeft:null,paddingRight:null,$$css:!0},sectionListItem:{minHeight:"x1gg8mnh",$$css:!0},sectionListItemGap:{paddingInlineEnd:"xpdmqnj",$$css:!0},sectionListItemMarker:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},sectionListSubHeadline:{paddingBottom:"x1a8lsjc",paddingTop:"x1p5oq8j",$$css:!0}};function d(){var e,t,n,a=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),l=a.onApproved,d=a.onDenied,m=a.onDismissed;return u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("IGDSDialogLoadingState.react"),{onClose:r("emptyFunction")}),name:i.id,children:u.jsx(r("IGDSDialogContainer.react"),{size:"large",children:u.jsxs(r("CometColumn.react"),{expanding:!0,paddingTop:0,paddingVertical:0,xstyle:c.layout,children:[u.jsx(r("CometColumnItem.react"),{children:u.jsx(r("IGDSDialogHeader.react"),{borderBottom:"none",onClose:m,size:"default",children:null})}),u.jsx(r("CometColumnItem.react"),{expanding:!0,children:u.jsxs(r("BaseScrollableArea.react"),{expanding:!0,hideScrollbar:!1,horizontal:!1,vertical:!0,children:[u.jsx(e=r("BaseView.react"),{xstyle:c.header,children:u.jsx(e,{children:u.jsx(r("IGDSTextPairing.react"),{body:u.jsx(t=r("IGDSText.react"),{color:"primaryText",size:"body",textAlign:"start",zeroMargin:!1,children:s._(/*BTDS*/"More information about the [Processor], [Data types], [Purposes], [Outcome] or [Management].")}),headline:u.jsx(t,{color:"primaryText",size:"headline2",textAlign:"start",weight:"bold",zeroMargin:!1,children:s._(/*BTDS*/"Allow [Processor] to use [Data types] for [Purposes]?")}),isPrimaryHeading:!0,level:"operational"})})}),u.jsxs(e,{xstyle:c.section,children:[u.jsx(e,{xstyle:c.sectionListSubHeadline,children:u.jsx(t,{color:"primaryText",size:"label",textAlign:"start",weight:"bold",zeroMargin:!1,children:s._(/*BTDS*/"List subheadline")})}),u.jsx(e,{children:u.jsxs(r("IGDSList.react"),{"aria-label":s._(/*BTDS*/"[Placeholder] List with more information."),role:"list",children:[u.jsx(r("IGDSListCell.react"),{addOnStart:u.jsx(n=r("BaseRow.react"),{xstyle:c.sectionListItemMarker,children:u.jsx(r("IGDSIcon.react"),{icon:r("IGDSShieldStarPanoOutline24Icon.svg.react"),size:24})}),addOnStartVerticalAlign:"top",addOnStartXStyle:c.sectionListItemGap,content:u.jsx(t,{color:"primaryText",size:"body",textAlign:"start",children:s._(/*BTDS*/"More detail about this experience.")}),horizontalSpacing:0,verticalSpacing:12,xstyle:c.sectionListItem}),u.jsx(r("IGDSListCell.react"),{addOnStart:u.jsx(n,{xstyle:c.sectionListItemMarker,children:u.jsx(r("IGDSIcon.react"),{icon:r("IGDSShieldStarPanoOutline24Icon.svg.react"),size:24})}),addOnStartVerticalAlign:"top",addOnStartXStyle:c.sectionListItemGap,content:u.jsx(t,{color:"primaryText",size:"body",textAlign:"start",children:s._(/*BTDS*/"More detail about this experience.")}),horizontalSpacing:0,verticalSpacing:12,xstyle:c.sectionListItem}),u.jsx(r("IGDSListCell.react"),{addOnStart:u.jsx(n,{xstyle:c.sectionListItemMarker,children:u.jsx(r("IGDSIcon.react"),{icon:r("IGDSShieldStarPanoOutline24Icon.svg.react"),size:24})}),addOnStartVerticalAlign:"top",addOnStartXStyle:c.sectionListItemGap,content:u.jsx(t,{color:"primaryText",size:"body",textAlign:"start",children:s._(/*BTDS*/"More detail about this experience.")}),horizontalSpacing:0,verticalSpacing:12,xstyle:c.sectionListItem})]})})]})]})}),u.jsx(r("CometColumnItem.react"),{xstyle:c.footer,children:u.jsx(n,{expanding:!0,children:u.jsxs(e,{xstyle:c.footerButtons,children:[u.jsx(r("BaseRowItem.react"),{xstyle:c.disclaimerText,children:u.jsx(t,{color:"secondaryText",size:"footnote",textAlign:"center",zeroMargin:!1,children:s._(/*BTDS*/"Disclaimer text")})}),u.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:c.footerButtonsPrimary,children:u.jsx(r("IGDSButton.react"),{display:"block",isDisabled:!1,label:s._(/*BTDS*/"Allow"),onClick:function(){l()},size:"large",variant:"primary"})}),u.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:c.footerButtonsSecondary,children:u.jsx(r("IGDSButton.react"),{display:"block",isDisabled:!1,label:s._(/*BTDS*/"Don't allow"),onClick:function(){d()},size:"large",variant:"secondary"})})]})})})]})})})}d.displayName=d.name+" [from "+i.id+"]";function m(){return u.jsx(o("PolarisIGTheme.react").IGThemeProvider,{children:u.jsx(d,{})})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),226);
__d("MetaBrandSquareOverlappingCircleOutline24Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M23 8.5a7.503 7.503 0 0 1-5 7.073V15.5c0-.721-.023-1.414-.063-2.068A5.5 5.5 0 1 0 10.6 6H8.428A7.5 7.5 0 0 1 23 8.5z"}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 15.5c0-2.09.21-3.926.423-5.258C1.638 8.907 2.817 8 4.17 8h8.662c1.352 0 2.53.907 2.746 2.242.214 1.332.423 3.167.423 5.258 0 2.09-.21 3.926-.423 5.258C15.362 22.093 14.183 23 12.83 23H4.17c-1.352 0-2.53-.907-2.746-2.242A33.478 33.478 0 0 1 1 15.5zm2.398-4.94A31.479 31.479 0 0 0 3 15.5c0 1.961.197 3.688.398 4.94.043.266.296.56.77.56h8.663c.475 0 .728-.294.771-.56.201-1.252.398-2.979.398-4.94 0-1.961-.197-3.688-.398-4.94-.043-.266-.296-.56-.77-.56H4.168c-.475 0-.728.294-.771.56z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("Template1BXMDSConsentPromptScreen.react",["fbt","BaseView.react","CometColumnItem.react","CometPlaceholder.react","ConsentTemplateActionCallbacksContext","MetaBrandSquareOverlappingCircleOutline24Icon.react","XMDSDialog.react","XMDSDialogFooter.react","XMDSDialogHeader.react","XMDSDialogLoadingState.react","XMDSIcon.react","XMDSList.react","XMDSListCell.react","XMDSText.react","XMDSTextPairing.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={header:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},headerHeadline:{paddingTop:"xexx8yu",$$css:!0},section:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},sectionListSubHeadline:{paddingBottom:"xx6bls6",paddingTop:"xljfnv1",$$css:!0},sectionSubHeadline:{paddingBottom:"x10b6aqq",paddingTop:"x1nn3v0j",$$css:!0}};function d(){var e,t=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),n=t.onApproved,a=t.onDenied,l=t.onDismissed;return u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("XMDSDialogLoadingState.react"),{withCloseButton:!1}),name:i.id,children:u.jsxs(r("XMDSDialog.react"),{footer:u.jsx(r("XMDSDialogFooter.react"),{meta:s._(/*BTDS*/"Disclaimer text"),metaAlign:"center",metaPosition:"above",primary:{label:s._(/*BTDS*/"Allow"),onPress:function(){n()}},secondary:{label:s._(/*BTDS*/"Don't allow"),onPress:function(){a()}},sticky:!0}),header:u.jsx(r("XMDSDialogHeader.react"),{onClose:l}),inline:!0,size:"small",children:[u.jsx(e=r("BaseView.react"),{xstyle:c.header,children:u.jsx(r("CometColumnItem.react"),{xstyle:c.headerHeadline,children:u.jsx(r("XMDSText.react"),{color:"primaryText",isPrimaryHeading:!0,textAlign:"start",textStyle:"headline1",children:s._(/*BTDS*/"Allow [Processor] to use [Data types] for [Purposes]?")})})}),u.jsxs(e,{xstyle:c.section,children:[u.jsx(e,{xstyle:c.sectionSubHeadline,children:u.jsx(r("XMDSTextPairing.react"),{contentText:s._(/*BTDS*/"More information about the [Processor], [Data types], [Purposes], [Outcome] or [Management]."),headlineText:s._(/*BTDS*/""),isSemanticHeading:!0,textPairingStyle:"headline3Body"})}),u.jsx(e,{xstyle:c.sectionListSubHeadline,children:u.jsx(r("XMDSText.react"),{color:"primaryText",isSemanticHeading:!0,textAlign:"start",textStyle:"headline3",children:s._(/*BTDS*/"List subheadline")})}),u.jsx(e,{children:u.jsxs(r("XMDSList.react"),{"aria-label":s._(/*BTDS*/"[Placeholder] List with more information."),withoutCard:!0,children:[u.jsx(r("XMDSListCell.react"),{addOnStart:u.jsx(r("XMDSIcon.react"),{icon:r("MetaBrandSquareOverlappingCircleOutline24Icon.react"),size:24}),hasBottomDivider:!1,title:s._(/*BTDS*/"More detail about this experience.")}),u.jsx(r("XMDSListCell.react"),{addOnStart:u.jsx(r("XMDSIcon.react"),{icon:r("MetaBrandSquareOverlappingCircleOutline24Icon.react"),size:24}),hasBottomDivider:!1,title:s._(/*BTDS*/"More detail about this experience.")}),u.jsx(r("XMDSListCell.react"),{addOnStart:u.jsx(r("XMDSIcon.react"),{icon:r("MetaBrandSquareOverlappingCircleOutline24Icon.react"),size:24}),title:s._(/*BTDS*/"More detail about this experience.")})]})})]})]})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("Template1BXMDSConsentTemplateConfig",["$InternalEnum","ConsentTemplateFlow.type","FBLogger","Template1BXMDSConsentPromptScreen.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=n("$InternalEnum")({TEMPLATE_1B_XMDS:"template_1b_xmds"}),c={flow:o("ConsentTemplateFlow.type").ConsentTemplateFlow.TEMPLATE_1B_XMDS,getConsentTemplatePromptScreen:function(t,n){var e=u.cast(t);if(e==null)throw r("FBLogger")("consent_core").mustfixThrow("No matching consent template screen found for the given prompt %s",t);switch(e){case u.TEMPLATE_1B_XMDS:switch(n){case"facebook_comet":case"instagram_web":return s.jsx(r("Template1BXMDSConsentPromptScreen.react"),{})}break}throw r("FBLogger")("consent_core").mustfixThrow("The consent prompt %s does not currently support the surface %s",t,n)},recordConsentOutcome:function(t,n){}};l.ConsentTemplatePrompts=u,l.Template1BXMDSConsentTemplateConfig=c}),98);
__d("ConsentInteractionsFlowAcceptFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("7031"),s=o("FalcoLoggerInternal").create("consent_interactions_flow_accept",e),u=s;l.default=u}),98);
__d("ConsentInteractionsFlowDenyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("7033"),s=o("FalcoLoggerInternal").create("consent_interactions_flow_deny",e),u=s;l.default=u}),98);
__d("ConsentInteractionsFlowDismissFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("7034"),s=o("FalcoLoggerInternal").create("consent_interactions_flow_dismiss",e),u=s;l.default=u}),98);
__d("ConsentInteractionsFlowStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("7036"),s=o("FalcoLoggerInternal").create("consent_interactions_flow_start",e),u=s;l.default=u}),98);
__d("ConsentInteractionsLinkOpenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("7050"),s=o("FalcoLoggerInternal").create("consent_interactions_link_open",e),u=s;l.default=u}),98);
__d("ConsentInteractionsPromptAcceptFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("7051"),s=o("FalcoLoggerInternal").create("consent_interactions_prompt_accept",e),u=s;l.default=u}),98);
__d("ConsentInteractionsPromptBackFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("7052"),s=o("FalcoLoggerInternal").create("consent_interactions_prompt_back",e),u=s;l.default=u}),98);
__d("ConsentInteractionsPromptContinueFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("7053"),s=o("FalcoLoggerInternal").create("consent_interactions_prompt_continue",e),u=s;l.default=u}),98);
__d("ConsentInteractionsPromptDenyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("7054"),s=o("FalcoLoggerInternal").create("consent_interactions_prompt_deny",e),u=s;l.default=u}),98);
__d("ConsentInteractionsPromptDismissFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("7055"),s=o("FalcoLoggerInternal").create("consent_interactions_prompt_dismiss",e),u=s;l.default=u}),98);
__d("ConsentInteractionsPromptImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("7056"),s=o("FalcoLoggerInternal").create("consent_interactions_prompt_impression",e),u=s;l.default=u}),98);
__d("ConsentPromptType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({DIALOG:1,BOTTOM_SHEET:2,FULL_SCREEN_DEPRECATED:3,SCREEN_COMPONENT:4,NO_PROMPT:5,ALERT:6,MODAL:7,SCREEN:8}),l=e;i.default=l}),66);
__d("ConsentInteractionsLogger",["ConsentInteractionsFlowAcceptFalcoEvent","ConsentInteractionsFlowDenyFalcoEvent","ConsentInteractionsFlowDismissFalcoEvent","ConsentInteractionsFlowStartFalcoEvent","ConsentInteractionsLinkOpenFalcoEvent","ConsentInteractionsPromptAcceptFalcoEvent","ConsentInteractionsPromptBackFalcoEvent","ConsentInteractionsPromptContinueFalcoEvent","ConsentInteractionsPromptDenyFalcoEvent","ConsentInteractionsPromptDismissFalcoEvent","ConsentInteractionsPromptImpressionFalcoEvent","ExecutionEnvironment","WebStorage","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){var t="consent_interactions_experience_id",n=(e||(e=r("WebStorage"))).getSessionStorage(),o=n==null?void 0:n.getItem(t);return o==null&&(o=r("uuidv4")(),n==null||n.setItem(t,o)),o}function c(){if((s||(s=r("ExecutionEnvironment"))).canUseDOM&&typeof window!="undefined"){var e=window.location.hostname;if(e==="instagram.com"||e.endsWith(".instagram.com"))return"instagram_web";if(e==="messenger.com"||e.endsWith(".messenger.com"))return"messenger_dot_com";if(e==="web.whatsapp.com"||e.endsWith(".web.whatsapp.com"))return"whatsapp_web";if(e==="threads.net"||e.endsWith(".threads.net"))return"barcelona_web";if(e==="meta.com"||e.endsWith(".meta.com"))return"meta_dot_com";if(e==="meta.ai"||e.endsWith(".meta.ai"))return"meta_ai_web";if(e==="facebook.com"||e.endsWith(".facebook.com"))return"facebook_comet"}return"facebook_comet"}function d(){if((s||(s=r("ExecutionEnvironment"))).canUseDOM&&typeof window!="undefined"){var e=window.location.hostname;if(e.includes("instagram.com"))return"Instagram"}return"Facebook"}function m(e){var t=e.config_enum,n=e.flow_category,r=e.flow_name,o=e.owner,a=e.product_data,i=e.surface,l=e.user_id,s={prompt_type:1},m=l!=null?l:"0";return{config_enum:t,event_data:s,experience_id:u(),flow_category:n,flow_name:r,owner:o,product_data:a!=null?a:null,source:"consent_experiences_kit",surface:i!=null?i:c(),universe:d(),user_fbid:m,user_id:m}}function p(e){r("ConsentInteractionsPromptImpressionFalcoEvent").log(function(){return m(e)})}function _(e){r("ConsentInteractionsPromptAcceptFalcoEvent").log(function(){return m(e)})}function f(e){var t=m(e);r("ConsentInteractionsFlowStartFalcoEvent").log(function(){return{config_enum:t.config_enum,event_data:{},experience_id:t.experience_id,flow_category:t.flow_category,flow_name:t.flow_name,owner:t.owner,product_data:t.product_data,source:t.source,surface:t.surface,universe:t.universe,user_fbid:t.user_fbid,user_id:t.user_id}})}function g(e){r("ConsentInteractionsPromptDenyFalcoEvent").log(function(){return m(e)})}function h(e){r("ConsentInteractionsPromptDismissFalcoEvent").log(function(){return m(e)})}function y(e){var t=m(e);r("ConsentInteractionsFlowDenyFalcoEvent").log(function(){return{config_enum:t.config_enum,event_data:{},experience_id:t.experience_id,flow_category:t.flow_category,flow_name:t.flow_name,owner:t.owner,product_data:t.product_data,source:t.source,surface:t.surface,universe:t.universe,user_fbid:t.user_fbid,user_id:t.user_id}})}function C(e){var t=m(e);r("ConsentInteractionsFlowAcceptFalcoEvent").log(function(){return{config_enum:t.config_enum,event_data:{},experience_id:t.experience_id,flow_category:t.flow_category,flow_name:t.flow_name,owner:t.owner,product_data:t.product_data,source:t.source,surface:t.surface,universe:t.universe,user_fbid:t.user_fbid,user_id:t.user_id}})}function b(e){var t=m(e);r("ConsentInteractionsFlowDismissFalcoEvent").log(function(){return{config_enum:t.config_enum,event_data:{},experience_id:t.experience_id,flow_category:t.flow_category,flow_name:t.flow_name,owner:t.owner,product_data:t.product_data,source:t.source,surface:t.surface,universe:t.universe,user_fbid:t.user_fbid,user_id:t.user_id}})}function v(e){r("ConsentInteractionsPromptBackFalcoEvent").log(function(){return m(e)})}function S(e){r("ConsentInteractionsPromptContinueFalcoEvent").log(function(){return m(e)})}function R(e,t){var n=m(e);r("ConsentInteractionsLinkOpenFalcoEvent").log(function(){return{config_enum:n.config_enum,event_data:{url:t},experience_id:n.experience_id,flow_category:n.flow_category,flow_name:n.flow_name,owner:n.owner,product_data:n.product_data,source:n.source,surface:n.surface,universe:n.universe,user_fbid:n.user_fbid,user_id:n.user_id}})}l.logImpression=p,l.logAccept=_,l.logFlowStart=f,l.logDeny=g,l.logDismiss=h,l.logDenyFlow=y,l.logAcceptFlow=C,l.logDismissFlow=b,l.logBack=v,l.logContinue=S,l.logLinkOpen=R}),98);
__d("FXAccountsCenterAdPreferencesPageRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/ad_preferences/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("MetaBrandExclamationCircleOutline24.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18zm0 2c6.075 0 11-4.925 11-11S18.075 1 12 1 1 5.925 1 12s4.925 11 11 11zm1.25-7.002c0 .6-.416 1-1.25 1-.833 0-1.25-.4-1.25-1s.417-1 1.25-1c.834 0 1.25.4 1.25 1zm-.374-8.125a.875.875 0 0 0-1.75 0v4.975a.875.875 0 1 0 1.75 0V7.873z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MetaBrandLinesRectangleCheckmarkOutline24.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M7 4h10a1 1 0 0 1 1 1v9.523a47.96 47.96 0 0 1 1.98-1.745l.02-.017V5a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h3.764A2.99 2.99 0 0 1 10 18H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1z"}),s.jsx("path",{d:"M8 8a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H9a1 1 0 0 1-1-1zM8 12a1 1 0 0 1 1-1h4a1 1 0 1 1 0 2H9a1 1 0 0 1-1-1zM22.768 14.36a1 1 0 0 1-.128 1.408l-.099.083a44 44 0 0 0-5.24 5.167l-.542.633a1 1 0 0 1-1.466.056l-3-3a1 1 0 0 1 1.414-1.414l2.237 2.237a46.002 46.002 0 0 1 5.317-5.216l.099-.082a1 1 0 0 1 1.408.128z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MetaBrandPadlockClosedOutline24.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M12 12a2 2 0 0 1 1 3.732V17a1 1 0 1 1-2 0v-1.268A2 2 0 0 1 12 12z"}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 6a5 5 0 0 1 10 0v2h.857c1.282 0 2.417.818 2.664 2.076A25.71 25.71 0 0 1 21 15a25.71 25.71 0 0 1-.479 4.924C20.274 21.182 19.14 22 17.857 22H6.143c-1.282 0-2.417-.818-2.664-2.076A25.711 25.711 0 0 1 3 15c0-1.984.236-3.692.479-4.924C3.726 8.818 4.86 8 6.143 8H7V6zm8 0v2H9V6a3 3 0 1 1 6 0zm-8.857 4h11.714a.84.84 0 0 1 .508.157c.107.082.17.182.194.305.223 1.133.441 2.71.441 4.538 0 1.828-.218 3.405-.441 4.538a.488.488 0 0 1-.194.305.84.84 0 0 1-.508.157H6.143a.84.84 0 0 1-.508-.157.489.489 0 0 1-.194-.305A23.712 23.712 0 0 1 5 15c0-1.828.218-3.405.441-4.538a.489.489 0 0 1 .194-.305.84.84 0 0 1 .508-.157z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MetaBrandSquareLinesStamperOutline24.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),s.jsxs("g",{clipPath:"url(#a)",children:[s.jsx("path",{d:"M16 4H6a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h6v2H6a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v3.024a5.261 5.261 0 0 0-2 .196V5a1 1 0 0 0-1-1z"}),s.jsx("path",{d:"M8 7a1 1 0 0 0 0 2h5a1 1 0 1 0 0-2H8zM8 11a1 1 0 1 0 0 2h3a1 1 0 1 0 0-2H8z"}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m21.222 17 .391-3.521a3.133 3.133 0 1 0-6.226 0l.39 3.521H15a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-.778zm-2.012 0 .416-3.742a1.133 1.133 0 1 0-2.252 0L17.79 17h1.42zM16 19v1h5v-1h-5z"})]}),s.jsxs("defs",{children:[s.jsx("clipPath",{children:s.jsx("path",{d:"M0 0H24V24H0z"})}),e.children]})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MetaBrandXOutline24.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M5.707 4.293a1 1 0 1 0-1.414 1.414L10.586 12l-6.293 6.293a1 1 0 1 0 1.414 1.414L12 13.414l6.293 6.293a1 1 0 0 0 1.414-1.414L13.414 12l6.293-6.293a1 1 0 0 0-1.414-1.414L12 10.586 5.707 4.293z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("UOOMConsentPromptScreenFacePileQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="10029822320475508"}),null);
__d("UOOMConsentPromptScreenFacePileQuery.graphql",["UOOMConsentPromptScreenFacePileQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,concreteType:"XFBFXPlatformInfo",kind:"LinkedField",name:"platform_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},r={alias:null,args:null,concreteType:"XFBFXProfilePictureInfo",kind:"LinkedField",name:"profile_picture_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UOOMConsentPromptScreenFacePileQuery",selections:[{alias:null,args:null,concreteType:"FXManageAccountsQueries",kind:"LinkedField",name:"fx_accounts_management",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"accounts",plural:!0,selections:[e,t,r,o],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"UOOMConsentPromptScreenFacePileQuery",selections:[{alias:null,args:null,concreteType:"FXManageAccountsQueries",kind:"LinkedField",name:"fx_accounts_management",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"accounts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e,t,r,o],storageKey:null}],storageKey:null}]},params:{id:n("UOOMConsentPromptScreenFacePileQuery_facebookRelayOperation"),metadata:{},name:"UOOMConsentPromptScreenFacePileQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("UOOMConsentPromptScreenOnFlowEndMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24496941779983126"}),null);
__d("UOOMConsentPromptScreenOnFlowEndMutation.graphql",["UOOMConsentPromptScreenOnFlowEndMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"gpc_signal_reconciliation_on_flow_end",storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UOOMConsentPromptScreenOnFlowEndMutation",selections:e,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"UOOMConsentPromptScreenOnFlowEndMutation",selections:e},params:{id:n("UOOMConsentPromptScreenOnFlowEndMutation_facebookRelayOperation"),metadata:{},name:"UOOMConsentPromptScreenOnFlowEndMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("UOOMConsentPromptScreenProductDataQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25857066470550581"}),null);
__d("UOOMConsentPromptScreenProductDataQuery.graphql",["UOOMConsentPromptScreenProductDataQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"gpc_signal_reconciliation_logging_product_data",storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UOOMConsentPromptScreenProductDataQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"UOOMConsentPromptScreenProductDataQuery",selections:e},params:{id:n("UOOMConsentPromptScreenProductDataQuery_facebookRelayOperation"),metadata:{},name:"UOOMConsentPromptScreenProductDataQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MetaBrandExclamationTriangleFilled24Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({fill:"currentColor",viewBox:"0 0 24 24",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{fillRule:"evenodd",d:"M10.257 3.057c.765-1.358 2.72-1.358 3.486 0l7.998 14.211c.75 1.333-.213 2.982-1.743 2.982H4c-1.53 0-2.492-1.649-1.742-2.982zM12 14.997c-.833 0-1.25.4-1.25 1s.417 1 1.25 1c.834 0 1.25-.4 1.25-1s-.417-1-1.25-1m0-7.122a.875.875 0 0 0-.875.875v4.347a.875.875 0 1 0 1.75 0V8.75A.875.875 0 0 0 12 7.875",clipRule:"evenodd"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("cdsPushToast",["BaseToasterStateManager","MetaBrandExclamationTriangleFilled24Icon.react","XMDSIcon.react","basePushToast","deferredLoadComponent","getToastDurationFromTextLength","react","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=["action"],s,u=s||(s=o("react")),c=r("BaseToasterStateManager").getInstance(),d=r("deferredLoadComponent")(r("requireDeferred")("XMDSToast.react").__setRef("cdsPushToast")),m={LONG:5e3,MEDIUM:3e3};function p(t,n,a){var i=a?m[a]:void 0,l=n!=null?n:c;if(o("basePushToast").passesNewToastAPIGK())if(o("basePushToast").isInteractiveToast(t)){var s=o("basePushToast").pushPersistentToast(u.jsx(d,babelHelpers.extends({},t,{loadImmediately:!0,onDismiss:function(){return l.expire(s)}})),l);return s}else{var p=t.action,_=babelHelpers.objectWithoutPropertiesLoose(t,e),f=babelHelpers.extends({withoutCloseButton:!0},_),g=o("basePushToast").pushAlertToast(babelHelpers.extends({},f),u.jsx(d,babelHelpers.extends({},f,{loadImmediately:!0,onDismiss:function(){return l.expire(g)}})),l,i);return g}else{var h=l.push(u.jsx(d,babelHelpers.extends({},t,{loadImmediately:!0,onDismiss:function(){return l.expire(h)}})),i!=null?i:r("getToastDurationFromTextLength")(t.message.toString(),l));return h}}function _(e){return p({message:e})}function f(e,t,n){return p(babelHelpers.extends({},e,{addOnStart:u.jsx(r("XMDSIcon.react"),{icon:r("MetaBrandExclamationTriangleFilled24Icon.react"),size:24})}),t,n)}function g(e,t){var n=t!=null?t:c,r=n.push(u.jsx(d,babelHelpers.extends({},e,{loadImmediately:!0,onDismiss:function(){return n.expire(r)}})),1/0);return r}l.pushToast=p,l.pushSimpleToast=_,l.pushErrorToast=f,l.pushPersistentToast=g}),98);
__d("UOOMConsentPromptScreen.react",["fbt","Actor","BaseRow.react","BaseRowItem.react","BaseView.react","CometColumnItem.react","CometImage.react","CometPlaceholder.react","CometPressable.react","CometRelay","ConsentInteractionsLogger","ConsentTemplateActionCallbacksContext","ConsentTemplateSurfaceContext","FXAccountsCenterAdPreferencesPageRouteBuilder","MetaBrandExclamationCircleOutline24.svg.react","MetaBrandGearOutline24.svg.react","MetaBrandLinesRectangleCheckmarkOutline24.svg.react","MetaBrandPadlockClosedOutline24.svg.react","MetaBrandSquareLinesStamperOutline24.svg.react","MetaBrandXOutline24.svg.react","MetaLockupPrimary.react","UOOMConsentPromptScreenFacePileQuery.graphql","UOOMConsentPromptScreenOnFlowEndMutation.graphql","UOOMConsentPromptScreenProductDataQuery.graphql","XMDSButton.react","XMDSDialogContainer.react","XMDSDialogLoadingState.react","XMDSIcon.react","XMDSInlinePressableText.react","XMDSText.react","asyncToGeneratorRuntime","cdsPushToast","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=m.useEffect,_=m.useMemo,f=m.useRef,g=m.useState,h={audienceDialogSection:{paddingBottom:"x1t1ogtf",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,paddingTop:"x1y1aw1k",$$css:!0},facePileSection:{paddingBottom:"xjkvuk6",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,paddingTop:"x1cnzs8",$$css:!0},footer:{backgroundColor:"x2bj2ny",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,"@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtons:{flexWrap:"x8hhl5t",justifyContent:"x1qughib",paddingBottom:"xx6bls6","@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtonsContainer:{alignItems:"x1qjc9v5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},header:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,paddingTop:"x1iorvi4",$$css:!0},navbar:{alignItems:"x6s0dn4",justifyContent:"x1qughib",minHeight:"x8nclml",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},overlayBackdrop:{backgroundColor:"x18l40ae",bottom:"x1ey2m1c",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,position:"xixxii4",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},overlayContainer:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,justifyContent:"xl56j7k",position:"xixxii4",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},primaryButton:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0},secondaryButton:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},section:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,paddingTop:"x1y1aw1k",$$css:!0},sectionIconTextList:{paddingBottom:"x84yb8i",paddingTop:"x1xy6bms",$$css:!0},sectionIconTextListItem:{paddingTop:"x889kno",$$css:!0},sectionIconTextListItemContent:{paddingBottom:"x1a8lsjc",paddingTop:"x1yrsyyn",$$css:!0},sectionIconTextListItemIcon:{paddingInlineEnd:"xpdmqnj",$$css:!0},sectionParagraph:{paddingTop:"x1cnzs8",$$css:!0}},y=e!==void 0?e:e=n("UOOMConsentPromptScreenFacePileQuery.graphql"),C=u!==void 0?u:u=n("UOOMConsentPromptScreenProductDataQuery.graphql"),b=c!==void 0?c:c=n("UOOMConsentPromptScreenOnFlowEndMutation.graphql");function v(){var e,t=o("CometRelay").useLazyLoadQuery(y,{});return _(function(){var e;if(!(t!=null&&(e=t.fx_accounts_management)!=null&&e.accounts))return{accounts:[],accountsCount:0,hasLinkedAccounts:!1};var n=t.fx_accounts_management.accounts.filter(function(e){var t,n;return e&&e.is_active===!0&&(((t=e.platform_info)==null?void 0:t.type)==="FACEBOOK"||((n=e.platform_info)==null?void 0:n.type)==="INSTAGRAM")}).map(function(e){var t,n,r;return{account_type:((t=e.platform_info)==null?void 0:t.type)==="FACEBOOK"?"facebook":"instagram",id:e.id||"",platform_info:{type:((n=e.platform_info)==null?void 0:n.type)||""},profile_picture_url:((r=e.profile_picture_info)==null?void 0:r.url)||""}}),r=n.sort(function(e,t){return e.account_type==="instagram"&&t.account_type==="facebook"?-1:e.account_type==="facebook"&&t.account_type==="instagram"?1:0});return{accounts:r,accountsCount:r.length,hasLinkedAccounts:r.length>0}},[t==null||(e=t.fx_accounts_management)==null?void 0:e.accounts])}var S={badgeContainer:{backgroundColor:"x2bj2ny",borderTopColor:"x1aoij9j",borderInlineEndColor:"x5eh17s",borderBottomColor:"x2e7n7m",borderInlineStartColor:"xk1cdbz",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",bottom:"x1c7jfne",insetInlineEnd:"xz03a8w",left:null,right:null,paddingTop:"x1nn3v0j",paddingInlineEnd:"x14vy60q",paddingBottom:"x1120s5i",paddingInlineStart:"xyiysdx",position:"x10l6tqk",$$css:!0},facePileContainer:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},overlappingPhoto:{marginInlineStart:"x162z183",$$css:!0},photosContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"xl56j7k",$$css:!0},photoWrapper:{position:"x1n2onr6",$$css:!0},profileContainer:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",position:"x1n2onr6",$$css:!0},profilePhoto:{backgroundColor:"x2bj2ny",borderTopColor:"x1aoij9j",borderInlineEndColor:"x5eh17s",borderBottomColor:"x2e7n7m",borderInlineStartColor:"xk1cdbz",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xmn4e3e",borderInlineEndWidth:"x1if355w",borderBottomWidth:"x2x41l1",borderInlineStartWidth:"xct1zlm",$$css:!0},zIndex1:{zIndex:"x1vjfegm",$$css:!0},zIndex2:{zIndex:"xhtitgo",$$css:!0}};function R(e){var t=e.accountType,n=e.profileImageUrl,o=e.showBadge,a=o===void 0?!0:o,i=e.size,l=i===void 0?75:i,s=_(function(){if(!a)return null;var e=t==="facebook"?"/images/facebook_logo/fb_icon_32x32.png":"/images/instagram-business/instagram-favicon-2016.png";return m.jsx(r("BaseView.react"),{xstyle:S.badgeContainer,children:m.jsx(r("CometImage.react"),{alt:t+" app badge",height:14.5,src:e,width:14.5})})},[t,a]);return m.jsxs(r("BaseView.react"),{xstyle:S.profileContainer,children:[m.jsx(r("CometImage.react"),{alt:t+" profile photo",cornerRadius:"large",onError:function(){},src:n,xstyle:[S.profilePhoto,{height:l,width:l}]}),s]})}R.displayName=R.name+" [from "+i.id+"]";function L(e){var t=e.accounts,n=e.maxPhotos,o=e.photoSize,a=o===void 0?60:o,i=_(function(){if(!t||t.length===0)return[];var e=n!=null?[].concat(t).slice(0,n):[].concat(t);return e.sort(function(e,t){return e.accountType==="instagram"&&t.accountType==="facebook"?-1:e.accountType==="facebook"&&t.accountType==="instagram"?1:0})},[t,n]);return i.length===0?null:m.jsx(r("BaseView.react"),{xstyle:S.facePileContainer,children:m.jsx(r("BaseView.react"),{xstyle:S.photosContainer,children:i.map(function(e,t){var n=t>0,o=t===0?S.zIndex2:S.zIndex1;return m.jsx(r("BaseView.react"),{xstyle:[S.photoWrapper,n&&S.overlappingPhoto,o],children:m.jsx(R,{accountType:e.accountType,profileImageUrl:e.profileImageUrl,showBadge:!0,size:a})},e.accountType+"-"+t)})})})}L.displayName=L.name+" [from "+i.id+"]";function E(e){var t,n,a=e.audienceBasedAdvertisingLink,i=e.loggingParams,l=e.onClose;return m.jsxs(r("XMDSDialogContainer.react"),{disableClosingWithMask:!1,fitToSize:!0,onClose:l,size:"small",children:[m.jsxs(r("BaseRow.react"),{xstyle:h.navbar,children:[m.jsx(r("BaseRow.react"),{expanding:!0}),m.jsx(r("CometPressable.react"),{"aria-label":s._(/*BTDS*/"Close"),onPress:l,children:m.jsx(r("XMDSIcon.react"),{color:"primary",icon:r("MetaBrandXOutline24.svg.react"),size:24})})]}),m.jsxs(t=r("BaseView.react"),{xstyle:[h.root,h.header],children:[m.jsx(n=r("XMDSText.react"),{color:"primaryText",isPrimaryHeading:!0,textAlign:"start",textStyle:"headline2",children:s._(/*BTDS*/"Other information that affects your ads")}),m.jsxs(t,{xstyle:[h.root,h.audienceDialogSection],children:[m.jsx(t,{xstyle:h.sectionParagraph,children:m.jsx(n,{color:"primaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"This isn't the only kind of information from ad partners that can be used to show you ads.")})}),m.jsx(t,{xstyle:h.sectionParagraph,children:m.jsx(n,{color:"primaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"For example, you may have signed up to receive emails from a business that partners with us. That business may then send us a list of customers who signed up, which can be used to show you ads.")})}),m.jsx(t,{xstyle:h.sectionParagraph,children:m.jsx(n,{color:"primaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"Make sure that you also review your {=m1} to make the right decisions about how your information is used.",[s._implicitParam("=m1",m.jsx(r("XMDSInlinePressableText.react"),{linkProps:{target:"_blank",url:a},onPress:function(){o("ConsentInteractionsLogger").logLinkOpen(i,a)},children:s._(/*BTDS*/"audience-based advertising setting")}))])})})]})]})]})}E.displayName=E.name+" [from "+i.id+"]";function k(){var e,t,a=g(!1),l=a[0],u=a[1],c=o("Actor").useActor(),d=c[0],y=o("CometRelay").useLazyLoadQuery(C,{}),S=_(function(){if((y==null?void 0:y.gpc_signal_reconciliation_logging_product_data)!=null)try{return JSON.parse(y.gpc_signal_reconciliation_logging_product_data)}catch(e){return{}}return{}},[y==null?void 0:y.gpc_signal_reconciliation_logging_product_data]),R=_(function(){return{config_enum:"gpc_signal_reconciliation_choice_prompt",flow_category:"gpc_signal_reconciliation",flow_name:"gpc_signal_reconciliation",owner:"gpc_signal_reconciliation",product_data:S,user_id:d}},[S,d]);p(function(){var e=window.setTimeout(function(){var e;(e=document.activeElement)==null||e.blur()},0);return function(){return window.clearTimeout(e)}},[]);var k=o("ConsentTemplateSurfaceContext").useConsentTemplateSurface(),I="",T="",D="";switch(k){case"facebook_comet":case"facebook_weblite":I="https://www.facebook.com/privacy/policy/?section_id=19-WhyAndHowWe",T="https://www.facebook.com/help/652751476243277",D="https://accountscenter.facebook.com/ad_preferences/ad_settings/audience_based_advertising/";break;default:I="https://privacycenter.instagram.com/policy/?section_id=19-WhyAndHowWe",T="https://help.instagram.com/544284327840525",D="https://accountscenter.instagram.com/ad_preferences/ad_settings/audience_based_advertising/"}var x=(e=(t=r("FXAccountsCenterAdPreferencesPageRouteBuilder").buildUri({}).getQualifiedUri())==null||(t=t.setSubDomain("accountscenter"))==null?void 0:t.toString())!=null?e:"#",$=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),P=$.onApproved,N=$.onDenied,M=$.onDismissed,w=o("CometRelay").useMutation(b),A=w[0],F=v(),O=F.accounts,B=F.hasLinkedAccounts,W=_(function(){return O.map(function(e){return{accountType:e.account_type,profileImageUrl:e.profile_picture_url}})},[O]),q=f(!1);return p(function(){q.current||(q.current=!0,o("ConsentInteractionsLogger").logImpression(R))},[]),m.jsxs(m.Fragment,{children:[m.jsx(r("CometPlaceholder.react"),{fallback:m.jsx(r("XMDSDialogLoadingState.react"),{withCloseButton:!1}),name:i.id,children:m.jsxs(r("XMDSDialogContainer.react"),{disableClosingWithMask:!0,size:"medium",children:[m.jsxs(r("BaseRow.react"),{xstyle:h.navbar,children:[m.jsx(r("MetaLockupPrimary.react"),{size:12}),m.jsx(r("BaseRow.react"),{expanding:!0}),m.jsx(r("CometPressable.react"),{"aria-label":s._(/*BTDS*/"Close"),onPress:function(){o("ConsentInteractionsLogger").logDismissFlow(R),o("ConsentInteractionsLogger").logDismiss(R),M(),A({onCompleted:function(){},onError:function(){},variables:{}})},children:m.jsx(r("XMDSIcon.react"),{color:"primary",icon:r("MetaBrandXOutline24.svg.react"),size:24})})]}),m.jsx(r("BaseView.react"),{xstyle:[h.root,h.header],children:m.jsx(r("XMDSText.react"),{color:"primaryText",isPrimaryHeading:!0,textAlign:"start",textStyle:"headline1",children:s._(/*BTDS*/"Do you want us to show you ads that are more relevant by using your activity information from ad partners?")})}),m.jsx(r("BaseView.react"),{xstyle:h.facePileSection,children:m.jsx(L,{accounts:W,maxPhotos:4})}),m.jsxs(r("CometColumnItem.react"),{expanding:!0,children:[m.jsxs(r("BaseView.react"),{xstyle:[h.root,h.section],children:[m.jsx(r("BaseView.react"),{xstyle:h.sectionParagraph,children:m.jsx(r("XMDSText.react"),{color:"primaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"A universal opt-out control has changed an ad setting that allows Meta to use your activity information from {=m1} to show you ads. You can choose to turn this ad setting back on for all accounts in this Accounts Centre.",[s._implicitParam("=m1",m.jsx(r("XMDSInlinePressableText.react"),{linkProps:{target:"_blank",url:T},children:s._(/*BTDS*/"ad partners")}))])})}),m.jsxs(r("BaseView.react"),{xstyle:h.sectionIconTextList,children:[m.jsxs(r("BaseRow.react"),{align:"start",role:"listitem",xstyle:h.sectionIconTextListItem,children:[m.jsx(r("BaseRowItem.react"),{xstyle:h.sectionIconTextListItemIcon,children:m.jsx(r("XMDSIcon.react"),{icon:r("MetaBrandGearOutline24.svg.react"),size:24})}),m.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:h.sectionIconTextListItemContent,children:m.jsx(r("BaseRow.react"),{children:m.jsx(r("XMDSText.react"),{color:"primaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"This choice will continue to apply even if you change any universal opt-out controls. You can change this choice in {=m1} at any time",[s._implicitParam("=m1",m.jsx(r("XMDSInlinePressableText.react"),{linkProps:{target:"_blank",url:x},children:s._(/*BTDS*/"Ad preferences")}))])})})})]}),m.jsxs(r("BaseRow.react"),{align:"start",role:"listitem",xstyle:h.sectionIconTextListItem,children:[m.jsx(r("BaseRowItem.react"),{xstyle:h.sectionIconTextListItemIcon,children:m.jsx(r("XMDSIcon.react"),{icon:r("MetaBrandPadlockClosedOutline24.svg.react"),size:24})}),m.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:h.sectionIconTextListItemContent,children:m.jsx(r("BaseRow.react"),{children:m.jsx(r("XMDSText.react"),{color:"primaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"We always use strict security standards to keep your information safe")})})})]}),m.jsxs(r("BaseRow.react"),{align:"start",role:"listitem",xstyle:h.sectionIconTextListItem,children:[m.jsx(r("BaseRowItem.react"),{xstyle:h.sectionIconTextListItemIcon,children:m.jsx(r("XMDSIcon.react"),{icon:r("MetaBrandSquareLinesStamperOutline24.svg.react"),size:24})}),m.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:h.sectionIconTextListItemContent,children:m.jsx(r("BaseRow.react"),{children:m.jsx(r("XMDSText.react"),{color:"primaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"Some information may be anonymised and used to improve our products as described in our {=m1}, regardless of your choice",[s._implicitParam("=m1",m.jsx(r("XMDSInlinePressableText.react"),{linkProps:{target:"_blank",url:I},children:s._(/*BTDS*/"Privacy Policy")}))])})})})]}),m.jsxs(r("BaseRow.react"),{align:"start",role:"listitem",xstyle:h.sectionIconTextListItem,children:[m.jsx(r("BaseRowItem.react"),{xstyle:h.sectionIconTextListItemIcon,children:m.jsx(r("XMDSIcon.react"),{icon:r("MetaBrandLinesRectangleCheckmarkOutline24.svg.react"),size:24})}),m.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:h.sectionIconTextListItemContent,children:m.jsx(r("BaseRow.react"),{children:m.jsx(r("XMDSText.react"),{color:"primaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"This isn't the only kind of information from ad partners that can affect your ads. See details about {=m1}",[s._implicitParam("=m1",m.jsx(r("XMDSInlinePressableText.react"),{onPress:function(){u(!0)},children:s._(/*BTDS*/"audience-based advertising")}))])})})})]}),m.jsxs(r("BaseRow.react"),{align:"start",role:"listitem",xstyle:h.sectionIconTextListItem,children:[m.jsx(r("BaseRowItem.react"),{xstyle:h.sectionIconTextListItemIcon,children:m.jsx(r("XMDSIcon.react"),{icon:r("MetaBrandExclamationCircleOutline24.svg.react"),size:24})}),m.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:h.sectionIconTextListItemContent,children:m.jsx(r("BaseRow.react"),{children:m.jsx(r("XMDSText.react"),{color:"primaryText",textAlign:"start",textStyle:"body",children:s._(/*BTDS*/"Learn more about {=m1}",[s._implicitParam("=m1",m.jsx(r("XMDSInlinePressableText.react"),{linkProps:{target:"_blank",url:T},children:s._(/*BTDS*/"ad partners")}))])})})})]})]})]}),m.jsx(r("BaseRow.react"),{expanding:!0}),m.jsx(r("CometColumnItem.react"),{xstyle:[h.root,h.footer],children:m.jsx(r("BaseView.react"),{xstyle:h.footerButtons,children:m.jsx(r("BaseRow.react"),{expanding:!0,children:m.jsxs(r("BaseView.react"),{xstyle:h.footerButtonsContainer,children:[m.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:h.primaryButton,children:m.jsx(r("XMDSButton.react"),{disabled:!1,label:s._(/*BTDS*/"Use this information"),onPress:function(){o("ConsentInteractionsLogger").logAcceptFlow(R),o("ConsentInteractionsLogger").logAccept(R),o("cdsPushToast").pushToast({message:s._(/*BTDS*/"All set. Your activity information will be used to show you ads."),withoutCloseButton:!0},void 0,"LONG"),window.setTimeout(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield P()}),200)},size:"large",type:"primary"})}),m.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:h.secondaryButton,children:m.jsx(r("XMDSButton.react"),{disabled:!1,label:s._(/*BTDS*/"Don't use this information"),onPress:function(){o("ConsentInteractionsLogger").logDenyFlow(R),o("ConsentInteractionsLogger").logDeny(R),N()},size:"large",type:"secondary"})})]})})})})]})]})}),l&&m.jsxs(m.Fragment,{children:[m.jsx(r("BaseView.react"),{xstyle:h.overlayBackdrop}),m.jsx(r("BaseView.react"),{xstyle:h.overlayContainer,children:m.jsx(E,{audienceBasedAdvertisingLink:D,loggingParams:R,onClose:function(){u(!1)}})})]})]})}k.displayName=k.name+" [from "+i.id+"]",l.default=k}),226);
__d("UOOMConsentTemplateConfigRecordOutcomeMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25421322587479527"}),null);
__d("UOOMConsentTemplateConfigRecordOutcomeMutation.graphql",["UOOMConsentTemplateConfigRecordOutcomeMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"outcome"}],t=[{alias:null,args:[{fields:[{kind:"Variable",name:"outcome",variableName:"outcome"}],kind:"ObjectValue",name:"input"}],concreteType:"XFBCTGpcSignalReconciliationRecordOutcomeData",kind:"LinkedField",name:"gpc_signal_reconciliation_record_outcome",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UOOMConsentTemplateConfigRecordOutcomeMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UOOMConsentTemplateConfigRecordOutcomeMutation",selections:t},params:{id:n("UOOMConsentTemplateConfigRecordOutcomeMutation_facebookRelayOperation"),metadata:{},name:"UOOMConsentTemplateConfigRecordOutcomeMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("UOOMConsentTemplateConfig",["$InternalEnum","CometRelay","ConsentTemplateFlow.type","FBLogger","UOOMConsentPromptScreen.react","UOOMConsentTemplateConfigRecordOutcomeMutation.graphql","UOOMFacebookIntroScreen.react","UOOMInstagramIntroScreen.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=n("$InternalEnum")({UOOM_CONSENT:"uoom",UOOM_CONSENT_PROMPT:"uoom_consent_prompt"}),d={flow:o("ConsentTemplateFlow.type").ConsentTemplateFlow.UOOM,getConsentTemplatePromptScreen:function(t,n){var e=c.cast(t);if(e==null)throw r("FBLogger")("ads_data_controls_and_platform").mustfixThrow("No matching consent template screen found for the given prompt %s",t);switch(e){case c.UOOM_CONSENT:return n==="instagram_web"?u.jsx(r("UOOMInstagramIntroScreen.react"),{}):u.jsx(r("UOOMFacebookIntroScreen.react"),{});case c.UOOM_CONSENT_PROMPT:return u.jsx(r("UOOMConsentPromptScreen.react"),{})}throw r("FBLogger")("ads_data_controls_and_platform").mustfixThrow("The consent prompt %s does not currently support the surface %s",t,n)},recordConsentOutcome:function(r,o){var t=n("CometRelay"),a=t.commitMutation,i=t.graphql,l=e!==void 0?e:e=n("UOOMConsentTemplateConfigRecordOutcomeMutation.graphql");a(o,{mutation:l,variables:{outcome:r}})}};l.ConsentTemplatePrompts=c,l.UOOMConsentTemplateConfig=d}),98);
__d("UOOMFacebookIntroScreenOnFlowEndMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24985083154490253"}),null);
__d("UOOMFacebookIntroScreenOnFlowEndMutation.graphql",["UOOMFacebookIntroScreenOnFlowEndMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"gpc_signal_reconciliation_on_flow_end",storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UOOMFacebookIntroScreenOnFlowEndMutation",selections:e,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"UOOMFacebookIntroScreenOnFlowEndMutation",selections:e},params:{id:n("UOOMFacebookIntroScreenOnFlowEndMutation_facebookRelayOperation"),metadata:{},name:"UOOMFacebookIntroScreenOnFlowEndMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("UOOMFacebookIntroScreenOnFlowStartMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24594167623599214"}),null);
__d("UOOMFacebookIntroScreenOnFlowStartMutation.graphql",["UOOMFacebookIntroScreenOnFlowStartMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"gpc_signal_reconciliation_on_flow_start",storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UOOMFacebookIntroScreenOnFlowStartMutation",selections:e,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"UOOMFacebookIntroScreenOnFlowStartMutation",selections:e},params:{id:n("UOOMFacebookIntroScreenOnFlowStartMutation_facebookRelayOperation"),metadata:{},name:"UOOMFacebookIntroScreenOnFlowStartMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("UOOMFacebookIntroScreenProductDataQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24949662238025127"}),null);
__d("UOOMFacebookIntroScreenProductDataQuery.graphql",["UOOMFacebookIntroScreenProductDataQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"gpc_signal_reconciliation_logging_product_data",storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UOOMFacebookIntroScreenProductDataQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"UOOMFacebookIntroScreenProductDataQuery",selections:e},params:{id:n("UOOMFacebookIntroScreenProductDataQuery_facebookRelayOperation"),metadata:{},name:"UOOMFacebookIntroScreenProductDataQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("UOOMFacebookIntroScreen.react",["fbt","ix","Actor","BaseRow.react","BaseRowItem.react","BaseView.react","CometBackgroundImage.react","CometColumn.react","CometColumnItem.react","CometPlaceholder.react","CometPressable.react","CometRelay","CometVariablesTheme.react","ConsentInteractionsLogger","ConsentTemplateActionCallbacksContext","CrossFilled24.svg.react","FDSButton.react","FDSCircleButton.react","FDSDialogContainer.react","FDSDialogLoadingState.react","FDSIcon.react","FDSText.react","UOOMConsentTemplateConfig","UOOMFacebookIntroScreenOnFlowEndMutation.graphql","UOOMFacebookIntroScreenOnFlowStartMutation.graphql","UOOMFacebookIntroScreenProductDataQuery.graphql","react","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d,m,p=m||(m=o("react")),_=m,f=_.useEffect,g=_.useMemo,h=_.useRef,y={bodyDesktop:{display:"x1lliihq x142wc1w",$$css:!0},bodyMobile:{display:"x1s85apg x1x77nfp",$$css:!0},closeButtonWrapper:{display:"x78zum5",$$css:!0},desktopCloseButton:{display:"x78zum5 x142wc1w",$$css:!0},dialogOverride:{"--dialog-corner-radius":"xq27zc8",alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"xg6iff7","@media (max-width: 679px)_paddingInlineStart":"x1rpp92y","@media (max-width: 679px)_paddingInlineEnd":"xwjh8uw","@media (max-width: 679px)_paddingLeft":null,"@media (max-width: 679px)_paddingRight":null,$$css:!0},footer:{paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,paddingTop:"xyamay9",$$css:!0},footerButtons:{flexWrap:"x8hhl5t",justifyContent:"x1qughib",paddingBottom:"xsag5q8","@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtonsContainer:{alignItems:"x1qjc9v5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},header:{paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,paddingTop:"xz9dl7a","@media (max-width: 679px)_paddingTop":"x1y0ix2f",$$css:!0},headerTitle:{paddingTop:"x1p5oq8j",textAlign:"x2b8uid","@media (max-width: 679px)_paddingTop":"x1k902ro","@media (max-width: 679px)_textAlign":"x1j8oh5e",$$css:!0},imageThumbnail:{alignSelf:"xamitd3",height:"xpyat2d",maxHeight:"x569fbc",maxWidth:"xazcve0",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"x1exxlbk","@media (max-width: 679px)_marginTop":"xxtkh0h",$$css:!0},mobileCloseButton:{display:"x1s85apg xxx7516",$$css:!0},navbar:{alignItems:"x6s0dn4",justifyContent:"x1qughib",minHeight:"x879a55",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},primaryButton:{paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,paddingTop:"x1iorvi4",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0},section:{paddingBottom:"x10b6aqq",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},sectionParagraph:{paddingTop:"xyamay9",textAlign:"x2b8uid","@media (max-width: 679px)_paddingTop":"x1e8b02o","@media (max-width: 679px)_textAlign":"x1j8oh5e",$$css:!0}},C=e!==void 0?e:e=n("UOOMFacebookIntroScreenProductDataQuery.graphql"),b=c!==void 0?c:c=n("UOOMFacebookIntroScreenOnFlowStartMutation.graphql"),v=d!==void 0?d:d=n("UOOMFacebookIntroScreenOnFlowEndMutation.graphql");function S(e){var t=e.onDismiss,n=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),a=n.onBacked,l=n.onContinued,c=t!=null?t:a,d="headlineEmphasized2",m=r("useCurrentDisplayMode")(),_=m==="dark",S=o("Actor").useActor(),R=S[0],L=o("CometRelay").useLazyLoadQuery(C,{}),E=o("CometRelay").useMutation(b),k=E[0],I=o("CometRelay").useMutation(v),T=I[0],D=g(function(){if((L==null?void 0:L.gpc_signal_reconciliation_logging_product_data)!=null)try{return JSON.parse(L.gpc_signal_reconciliation_logging_product_data)}catch(e){return{}}return{}},[L==null?void 0:L.gpc_signal_reconciliation_logging_product_data]),x=g(function(){return{config_enum:"gpc_signal_reconciliation_intro_prompt",flow_category:"gpc_signal_reconciliation",flow_name:"gpc_signal_reconciliation",owner:"gpc_signal_reconciliation",product_data:D,user_id:R}},[D,R]);f(function(){var e=window.setTimeout(function(){var e;(e=document.activeElement)==null||e.blur()},0);return function(){return window.clearTimeout(e)}},[]);var $=h(!1);return f(function(){$.current||($.current=!0,o("ConsentInteractionsLogger").logFlowStart(x),o("ConsentInteractionsLogger").logImpression(x),k({onCompleted:function(){},onError:function(){},variables:{}}))},[]),p.jsx(r("CometVariablesTheme.react"),{children:p.jsx(r("CometPlaceholder.react"),{fallback:p.jsx(r("FDSDialogLoadingState.react"),{withCloseButton:!1}),name:i.id,children:p.jsxs(r("FDSDialogContainer.react"),{anchorXStyle:y.dialogOverride,disableClosingWithMask:!0,size:"medium",children:[p.jsxs(r("BaseRow.react"),{xstyle:y.navbar,children:[p.jsx(r("BaseRow.react"),{expanding:!0}),p.jsxs(r("BaseView.react"),{xstyle:y.closeButtonWrapper,children:[p.jsx(r("CometPressable.react"),{"aria-label":s._(/*BTDS*/"Close"),onPress:function(){o("ConsentInteractionsLogger").logDismissFlow(x),o("ConsentInteractionsLogger").logDismiss(x),T({onCompleted:function(){},onError:function(){},variables:{}}),c()},xstyle:y.mobileCloseButton,children:p.jsx(r("FDSIcon.react"),{icon:r("CrossFilled24.svg.react"),size:24})}),p.jsx(r("BaseView.react"),{xstyle:y.desktopCloseButton,children:p.jsx(r("FDSCircleButton.react"),{"aria-label":s._(/*BTDS*/"Close"),icon:r("CrossFilled24.svg.react"),iconRatio:"large",onPress:function(){o("ConsentInteractionsLogger").logDismissFlow(x),o("ConsentInteractionsLogger").logDismiss(x),T({onCompleted:function(){},onError:function(){},variables:{}}),c()},size:32})})]})]}),p.jsxs(r("BaseView.react"),{xstyle:[y.root,y.header],children:[p.jsx(r("CometColumn.react"),{align:"center",children:p.jsx(r("CometColumnItem.react"),{children:p.jsx(r("BaseView.react"),{xstyle:y.imageThumbnail,children:p.jsx(r("CometBackgroundImage.react"),{src:u(_?"870432":"870434")})})})}),p.jsx(r("BaseView.react"),{xstyle:y.headerTitle,children:p.jsx(r("FDSText.react"),{color:"primary",isPrimaryHeading:!0,type:d,children:s._(/*BTDS*/"Review your ad preferences")})})]}),p.jsx(r("BaseView.react"),{xstyle:[y.root,y.section],children:p.jsxs(r("BaseView.react"),{xstyle:y.sectionParagraph,children:[p.jsx(r("BaseView.react"),{xstyle:y.bodyDesktop,children:p.jsx(r("FDSText.react"),{color:"secondary",type:"body1",children:s._(/*BTDS*/"A universal opt-out control has changed one of your ad settings. You can review and update this ad setting now.")})}),p.jsx(r("BaseView.react"),{xstyle:y.bodyMobile,children:p.jsx(r("FDSText.react"),{color:"secondary",type:"body3",children:s._(/*BTDS*/"A universal opt-out control has changed one of your ad settings. You can review and update this ad setting now.")})})]})}),p.jsx(r("BaseRow.react"),{expanding:!0}),p.jsx(r("BaseView.react"),{xstyle:[y.root,y.footer],children:p.jsx(r("BaseView.react"),{xstyle:y.footerButtons,children:p.jsx(r("BaseRow.react"),{expanding:!0,children:p.jsx(r("BaseView.react"),{xstyle:y.footerButtonsContainer,children:p.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:y.primaryButton,children:p.jsx(r("FDSButton.react"),{disabled:!1,label:s._(/*BTDS*/"Review now"),onPress:function(){o("ConsentInteractionsLogger").logAccept(x),l(o("UOOMConsentTemplateConfig").ConsentTemplatePrompts.UOOM_CONSENT_PROMPT)},size:"medium",type:"primary"})})})})})})]})})})}S.displayName=S.name+" [from "+i.id+"]",l.default=S}),226);
__d("UOOMInstagramIntroScreenOnFlowEndMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="32995009390142919"}),null);
__d("UOOMInstagramIntroScreenOnFlowEndMutation.graphql",["UOOMInstagramIntroScreenOnFlowEndMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"gpc_signal_reconciliation_on_flow_end",storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UOOMInstagramIntroScreenOnFlowEndMutation",selections:e,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"UOOMInstagramIntroScreenOnFlowEndMutation",selections:e},params:{id:n("UOOMInstagramIntroScreenOnFlowEndMutation_facebookRelayOperation"),metadata:{},name:"UOOMInstagramIntroScreenOnFlowEndMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("UOOMInstagramIntroScreenOnFlowStartMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="32361073063539388"}),null);
__d("UOOMInstagramIntroScreenOnFlowStartMutation.graphql",["UOOMInstagramIntroScreenOnFlowStartMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"gpc_signal_reconciliation_on_flow_start",storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UOOMInstagramIntroScreenOnFlowStartMutation",selections:e,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"UOOMInstagramIntroScreenOnFlowStartMutation",selections:e},params:{id:n("UOOMInstagramIntroScreenOnFlowStartMutation_facebookRelayOperation"),metadata:{},name:"UOOMInstagramIntroScreenOnFlowStartMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("UOOMInstagramIntroScreenProductDataQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24480138408335381"}),null);
__d("UOOMInstagramIntroScreenProductDataQuery.graphql",["UOOMInstagramIntroScreenProductDataQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"gpc_signal_reconciliation_logging_product_data",storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UOOMInstagramIntroScreenProductDataQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"UOOMInstagramIntroScreenProductDataQuery",selections:e},params:{id:n("UOOMInstagramIntroScreenProductDataQuery_facebookRelayOperation"),metadata:{},name:"UOOMInstagramIntroScreenProductDataQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("UOOMInstagramIntroScreen.react",["fbt","Actor","BaseRow.react","BaseRowItem.react","BaseView.react","CometColumn.react","CometColumnItem.react","CometImage.react","CometPlaceholder.react","CometRelay","ConsentInteractionsLogger","ConsentTemplateActionCallbacksContext","IGDSBox.react","IGDSButton.react","IGDSDialogContainer.react","IGDSDialogLoadingState.react","IGDSIconButton.react","IGDSText.react","IGDSXPanoOutlineIcon.react","PolarisBaseThemeDisplayModeWrapper.react","PolarisIGTheme.react","UOOMConsentTemplateConfig","UOOMInstagramIntroScreenOnFlowEndMutation.graphql","UOOMInstagramIntroScreenOnFlowStartMutation.graphql","UOOMInstagramIntroScreenProductDataQuery.graphql","emptyFunction","react","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useEffect,f=p.useMemo,g=p.useRef,h={desktop:{footer:64,header:64,navbar:16,section:64},mobile:32},y={footer:{paddingBottom:"x84yb8i xqhem2w",paddingInlineStart:"x7vhb2i x1t4wfpm",paddingLeft:null,paddingRight:null,paddingInlineEnd:"xli2wwf xnfz16y",paddingTop:"x1ow4hk9 x1y8xl2v",$$css:!0},footerButtons:{flexWrap:"x8hhl5t",justifyContent:"x1qughib","@media (max-width: 679px)_bottom":"xefnots","@media (max-width: 679px)_insetInlineEnd":"x438uni","@media (max-width: 679px)_insetInlineStart":"xxalm91","@media (max-width: 679px)_left":null,"@media (max-width: 679px)_right":null,"@media (max-width: 679px)_position":"xv7j57z",$$css:!0},footerButtonsContainer:{alignItems:"x1qjc9v5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},header:{marginTop:"xabbe9j",paddingInlineStart:"x7vhb2i x1t4wfpm",paddingLeft:null,paddingRight:null,paddingInlineEnd:"xli2wwf xnfz16y",paddingTop:"x1p5oq8j x1y0ix2f",$$css:!0},headerHero:{alignItems:"x6s0dn4",$$css:!0},headerTitle:{paddingTop:"x1cnzs8 x1gplw2q",$$css:!0},navbar:{alignItems:"x6s0dn4",justifyContent:"x1nhvcw1",minHeight:"x1qafhyn x1ujafp0",paddingInlineStart:"xf7dkkf x1t4wfpm",paddingLeft:null,paddingRight:null,paddingInlineEnd:"xv54qhq xnfz16y",paddingTop:"x1mvjyk6",$$css:!0},primaryButton:{paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0},section:{paddingBottom:"x1gan7if x12360ty",paddingInlineStart:"x7vhb2i x1t4wfpm",paddingLeft:null,paddingRight:null,paddingInlineEnd:"xli2wwf xnfz16y",$$css:!0},sectionParagraph:{paddingTop:"xyamay9 x1dj7lud",$$css:!0}},C=e!==void 0?e:e=n("UOOMInstagramIntroScreenProductDataQuery.graphql"),b=u!==void 0?u:u=n("UOOMInstagramIntroScreenOnFlowStartMutation.graphql"),v=c!==void 0?c:c=n("UOOMInstagramIntroScreenOnFlowEndMutation.graphql");function S(e){var t=e.onDismiss,n=o("ConsentTemplateActionCallbacksContext").useConsentTemplateActionCallbacks(),a=n.onBacked,l=n.onContinued,u=t!=null?t:a,c=r("useCurrentDisplayMode")(),d=c==="dark",p=o("Actor").useActor(),h=p[0],S=o("CometRelay").useLazyLoadQuery(C,{}),R=o("CometRelay").useMutation(b),L=R[0],E=o("CometRelay").useMutation(v),k=E[0],I=f(function(){if((S==null?void 0:S.gpc_signal_reconciliation_logging_product_data)!=null)try{return JSON.parse(S.gpc_signal_reconciliation_logging_product_data)}catch(e){return{}}return{}},[S==null?void 0:S.gpc_signal_reconciliation_logging_product_data]),T=f(function(){return{config_enum:"gpc_signal_reconciliation_intro_prompt",flow_category:"gpc_signal_reconciliation",flow_name:"gpc_signal_reconciliation",owner:"gpc_signal_reconciliation",product_data:I,user_id:h}},[I,h]);_(function(){var e=window.setTimeout(function(){var e;(e=document.activeElement)==null||e.blur()},0);return function(){return window.clearTimeout(e)}},[]);var D=g(!1);return _(function(){D.current||(D.current=!0,o("ConsentInteractionsLogger").logFlowStart(T),o("ConsentInteractionsLogger").logImpression(T),L({onCompleted:function(){},onError:function(){},variables:{}}))},[]),m.jsx(o("PolarisIGTheme.react").IGThemeProvider,{children:m.jsx(r("PolarisBaseThemeDisplayModeWrapper.react"),{children:m.jsx(r("CometPlaceholder.react"),{fallback:m.jsx(r("IGDSDialogLoadingState.react"),{onClose:r("emptyFunction")}),name:i.id,children:m.jsxs(r("IGDSDialogContainer.react"),{disableClosingWithMask:!0,onClose:u,size:"large",children:[m.jsx(r("BaseRow.react"),{xstyle:y.navbar,children:m.jsx(r("IGDSIconButton.react"),{onClick:function(){o("ConsentInteractionsLogger").logDismissFlow(T),o("ConsentInteractionsLogger").logDismiss(T),k({onCompleted:function(){},onError:function(){},variables:{}}),u()},padding:0,children:m.jsx(r("IGDSBox.react"),{alignItems:"center",height:20,justifyContent:"center",position:"relative",width:20,children:m.jsx(r("IGDSXPanoOutlineIcon.react"),{alt:s._(/*BTDS*/"Close"),size:20})})})}),m.jsxs(r("BaseView.react"),{xstyle:[y.root,y.header],children:[m.jsx(r("CometColumn.react"),{align:"stretch",xstyle:y.headerHero,children:m.jsxs(r("CometColumnItem.react"),{children:[m.jsx("div",{className:"x1lliihq x142wc1w",children:m.jsx(r("CometImage.react"),{alt:"",height:96,src:d?"/images/assets_DO_NOT_HARDCODE/oba_winback/OBAwinback-DM-IG_dark-4x.png":"/images/assets_DO_NOT_HARDCODE/oba_winback/OBAwinback-LM-IG_light-4x.png",width:96})}),m.jsx("div",{className:"x1s85apg x1x77nfp",children:m.jsx(r("CometImage.react"),{alt:"",height:64,src:d?"/images/assets_DO_NOT_HARDCODE/oba_winback/OBAwinback-DM-IG_dark-4x.png":"/images/assets_DO_NOT_HARDCODE/oba_winback/OBAwinback-LM-IG_light-4x.png",width:64})})]})}),m.jsxs(r("BaseView.react"),{xstyle:y.headerTitle,children:[m.jsx("div",{className:"x1lliihq x142wc1w",children:m.jsx(r("IGDSText.react"),{color:"primaryText",size:"headline2",textAlign:"start",weight:"bold",zeroMargin:!1,children:s._(/*BTDS*/"Review your ad preferences")})}),m.jsx("div",{className:"x1s85apg x1x77nfp",children:m.jsx(r("IGDSText.react"),{color:"primaryText",size:"headline3",textAlign:"start",weight:"bold",zeroMargin:!1,children:s._(/*BTDS*/"Review your ad preferences")})})]})]}),m.jsx(r("BaseView.react"),{xstyle:[y.root,y.section],children:m.jsx(r("BaseView.react"),{xstyle:y.sectionParagraph,children:m.jsx("div",{className:"x1yc453h x10jh483",children:m.jsx(r("IGDSText.react"),{color:"primaryText",size:"body",textAlign:"start",weight:"normal",zeroMargin:!1,children:s._(/*BTDS*/"A universal opt-out control has changed one of your ad settings. You can review and update this ad setting now.")})})})}),m.jsx(r("BaseRow.react"),{expanding:!0}),m.jsx(r("BaseView.react"),{xstyle:[y.root,y.footer],children:m.jsx(r("BaseView.react"),{xstyle:y.footerButtons,children:m.jsx(r("BaseRow.react"),{expanding:!0,children:m.jsx(r("BaseView.react"),{xstyle:y.footerButtonsContainer,children:m.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:y.primaryButton,children:m.jsx(r("IGDSButton.react"),{display:"block",label:s._(/*BTDS*/"Review now"),onClick:function(){o("ConsentInteractionsLogger").logAccept(T),l(o("UOOMConsentTemplateConfig").ConsentTemplatePrompts.UOOM_CONSENT_PROMPT)},size:"large",variant:"primary"})})})})})})]})})})})}S.displayName=S.name+" [from "+i.id+"]",l.default=S}),226);
__d("useConsentTemplateFlowConfig",["ConsentTemplateFlowContext","ConsentTemplateFlows","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(){var e=o("ConsentTemplateFlowContext").useConsentTemplateFlow(),t=s(function(){return o("ConsentTemplateFlows").getConsentTemplateFlowConfig(e)},[e]);return t}l.default=u}),98);
__d("CometListCellContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({disabled:!1,level:void 0,shouldToggleOnListcell:!1});l.default=u}),98);
__d("ConsentFlowName",[],(function(t,n,r,o,a,i){var e=Object.freeze({ACV_FB_1ST_TIME_3PD_CONSENT:"acv_fb_1st_time_3pd_consent",ACV_FB_CONSENT_DEBUT_2ND:"acv_fb_consent_debut_2nd",ACV_FB_CONSENT_DEBUT_2ND_RECONSIDER:"acv_fb_consent_debut_2nd_reconsider",ACV_FB_CONSENT_DEBUT_BLOCKING:"acv_fb_consent_debut_blocking",ACV_FB_CONSENT_DEBUT_CONFIRMATION:"acv_fb_consent_debut_confirmation",ACV_FB_CONSENT_DEBUT_RECONSIDER:"acv_fb_consent_debut_reconsider",ACV_FB_HEADLINE:"acv_fb_headline",ACV_FB_OBA_WINBACK_NON_CONSENT_REGION:"acv_fb_oba_winback_non_consent_region",ACV_FB_OBA_WINBACK_NON_CONSENT_REGION_DISMISSIBLE:"acv_fb_oba_winback_non_consent_region_dismissible",ACV_FB_UNCONSENTED_WINBACK:"acv_fb_unconsented_winback",ACV_IG_CONSENT_DEBUT_CONFIRMATION:"acv_ig_consent_debut_confirmation",ACV_IG_OBA_WINBACK_NON_CONSENT_REGION:"acv_ig_oba_winback_non_consent_region",ACV_IG_OBA_WINBACK_NON_CONSENT_REGION_DISMISSIBLE:"acv_ig_oba_winback_non_consent_region_dismissible",ACV_INLINE_CONTROL_WINBACKS_HARDMATCHED:"acv_inline_control_winbacks_hardmatched",ACV_PCD_REFRESH_BLOCKING:"acv_pcd_refresh_blocking",ACV_PCD_REFRESH_DISMISSIBLE:"acv_pcd_refresh_dismissible",AD_FREE_SUBSCRIPTION:"ad_free_subscription",AD_FREE_SUBSCRIPTION_UK:"ad_free_subscription_uk",AD_FREE_SUBSCRIPTION_UPGRADE:"ad_free_subscription_upgrade",AD_FREE_SUBSCRIPTION_WAMO_LINKED:"ad_free_subscription_wamo_linked",AD_FREE_SUBSCRIPTION_WAMO_UNLINKED:"afs_wamo_unlinked",AD_FREE_SUBSCRIPTION_WAMO_UPGRADE:"ad_free_subscription_wamo_upgrade",AD_PREFERENCE_WAMO_UNLINKED:"ad_preference_wamo_unlinked",AFS_WAMO_CONSENT_AFTER_EXPIRY_MANDATORY:"afs_wamo_consent_after_expiry_mandatory",AFS_WAMO_INCLUDE_STATUS_CHANNELS:"afs_wamo_include_status_channels",AFS_WAMO_LINKED_GATEWAY:"afs_wamo_linked_gateway",ANDROID_LAT_OBA_3PD_BLOCKING:"android_lat_oba_3pd_blocking",ANDROID_LAT_OBA_3PD_DISMISSIBLE:"android_lat_oba_3pd_dismissible",ATT_IOS_DEMO:"att_ios_demo",BASIC_ADS_ONBOARDING:"basic_ads_onboarding",BUY_WITH_PRIME:"buy_with_prime",BUY_WITH_PRIME_JEWEL_WINBACK:"buy_with_prime_jewel_winback",BUY_WITH_PRIME_TEST:"buy_with_prime_test",BUY_WITH_PRIME_TWO_SCREEN:"buy_with_prime_two_screen",BUY_WITH_PRIME_UNIVERSAL_LINK:"buy_with_prime_universal_link",BUY_WITH_SHOPEE:"buy_with_shopee",BUY_WITH_SHOPEE_TWO_SCREEN:"buy_with_shopee_two_screen",CA_SETTLEMENT_AUSTRALIA:"ca_settlement_australia",CALENDAR_ACCESS:"calendar_access",CELEB_BAIT_EXPLICIT_CONSENT:"celeb_bait_explicit_consent",CONFIRMACCOUNTS:"confirmaccounts",CONFIRMACCOUNTS_TURKEY:"confirmaccounts_turkey",CONSENT_APP_BLOCKING_DEMO:"consent_app_blocking_demo",CONSENT_NEXT_3PD:"consent_next_3pd",CONSENT_REGION_TRANSITION_3PD_BLOCKING:"consent_region_transition_3pd_blocking",CONSENT_REGION_TRANSITION_3PD_DISMISSIBLE:"consent_region_transition_3pd_dismissible",CONSENTS_BROWSER_TECHNOLOGICAL:"consents_browser_technological",CONSENTZERO:"consentzero",CONTACT_IMPORT_M4A_DISCLOSURE:"contact_import_m4a_disclosure",CONTEXTUAL_META_FLOW:"contextual_meta_flow",CREATOR_INELIGIBLE_COUNTRY_APPEAL:"creator_ineligible_country_appeal",CUSTOM_GENDER_CONSENT:"custom_gender_consent",DATA_COMBINATION_CHAINED_FLOW:"data_combination_chained_flow",DATA_COMBINATION_DETAIL:"data_combination_detail",DATA_COMBINATION_QP_MSGR:"data_combination_qp_msgr",DATA_SLICE_3PD_DEPRECATION:"data_slice_3pd_deprecation",DEMA_DATA_COMBINATION_FLOW:"dema_data_combination_flow",DEMO_ACCOUNTS_CENTER_INTEGRATION:"demo_accounts_center_integration",DEMO_BACKGROUND_CUSTOM_ACTION:"demo_background_custom_action",DEMO_COMPONENT_LIBRARY:"demo_component_library",DEMO_CONTEXTUAL_FLOW:"demo_contextual_flow",DEMO_DYNAMIC:"demo_dynamic",DEMO_EXTRA_PARAMS:"demo_extra_params",DEMO_FLOW_CHAINING_FIRST:"demo_flow_chaining_first",DEMO_FLOW_CHAINING_SECOND:"demo_flow_chaining_second",DEMO_INFO:"demo_info",DEMO_MODULARIZED_GDPR:"demo_modularized_gdpr",DEMO_MULTISTEP:"demo_multistep",DEMO_PROMPT:"demo_prompt",DEMO_QP:"demo_qp",DEMO_RL_CONFIRM_ACCOUNTS:"demo_rl_confirm_accounts",DEMO_USER_ACTION_LAUNCH_ACCOUNTS_CENTER:"demo_user_action_launch_accounts_center",DEMO_USER_ACTION_REQUEST_PAYMENT:"demo_user_action_request_payment",DEMO_USER_ACTION_REQUEST_PERMISSION:"demo_user_action_request_permission",DEMO_USER_CUSTOM_ACTION:"demo_user_custom_action",DEPRECATED_FLOW_PLACEHOLDER:"deprecated_flow_placeholder",DEVICE_LOGIN:"device_login",DEVICE_LOGIN_INVALID_CODE:"device_login_invalid_code",DEVICE_PERMISSION_CAMERA:"device_permission_camera",DEVICE_PERMISSION_CONTACTS:"device_permission_contacts",DEVICE_PERMISSION_MICROPHONE:"device_permission_microphone",DEVICE_PERMISSION_PHOTOS:"device_permission_photos",DEVICE_PERMISSION_SETTINGS:"device_permission_settings",DEVICE_PERMISSIONS_INSTRUCTIONS:"device_permissions_instructions",DMA_ACCOUNT_REGISTRATION_DELAY_NOTIF_QP_FLOW:"dma_account_registration_delay_notif_qp_flow",DMA_CONFIRMATION:"dma_confirmation",DMA_DISMISSIBLE_APP_UPGRADE:"dma_dismissible_app_upgrade",DMA_FORCE_APP_UPGRADE:"dma_force_app_upgrade",EPD_MARKETPLACE_MESSAGING_UPDATE:"epd_marketplace_messaging_update",EVERGREEN_WINBACK_GDPR_INTERSTITIAL:"evergreen_winback_gdpr_interstitial",EVERGREEN_WINBACK_GDPR_JEWEL:"evergreen_winback_gdpr_jewel",EVERGREEN_WINBACK_GDPR_TOF:"evergreen_winback_gdpr_tof",EVERGREEN_WINBACK_HIGH_RISK_INTERSTITIAL:"evergreen_winback_high_risk_interstitial",EVERGREEN_WINBACK_HIGH_RISK_JEWEL:"evergreen_winback_high_risk_jewel",EVERGREEN_WINBACK_INLINE_CONTROL_INTERSTITIAL:"evergreen_winback_inline_control_interstitial",EXAMPLE_ACV:"example_acv",EXP_CONFIRM_ACCOUNTS_FLOW:"exp_confirm_accounts_flow",FB_AGE_COLLECTION:"fb_age_collection",FB_DMA_DATING:"fb_dma_dating",FB_DMA_GAMING:"fb_dma_gaming",FB_DMA_MARKETPLACE:"fb_dma_marketplace",FB_GEMSTONE:"fb_gemstone",FB_PROFILE_CUSTOM_GENDER:"fb_profile_custom_gender",FB_PROFILE_POLITICAL_VIEWS:"fb_profile_political_views",FB_PROFILE_RELIGIOUS_VIEWS:"fb_profile_religious_views",FIRST_PARTY_LOGIN:"first_party_login",FLM_AR_EFFECT:"flm_ar_effect",FLM_MK_AR_EFFECT_CHILD_ASK_PERMISSION:"flm_mk_ar_effect_child_ask_permission",FLM_MK_AR_EFFECT_PARENT_CONSENT:"flm_mk_ar_effect_parent_consent",FLORIDA_YOUTH_DATA_USE:"florida_youth_data_use",FRIEND_MAP_LOCATION_SHARING_DEVICE_PERMISSIONS:"friend_map_location_sharing_device_permissions",GAMING_GDP:"gaming_gdp",GDP:"gdp",GDP_COMPLETION:"gdp_completion",GDP_COOKIE:"gdp_cookie",GDP_COOKIE_ALLOWLIST:"gdp_cookie_allowlist",GDP_OPTIN:"gdp_optin",GDPR:"gdpr",GDPR_NEW_3PD:"gdpr_new_3pd",GDPR_SCD:"gdpr_scd",GPC_SIGNAL_RECONCILIATION:"gpc_signal_reconciliation",HORIZON_CALENDAR_APP_LINK:"horizon_calendar_app_link",HZW_DEAPP_PERMISSION_NOTICE_FLOW:"hzw_deapp_permission_notice_flow",HZW_DEAPP_PERMISSION_TELEMETRY_NOTICE_FLOW:"hzw_deapp_permission_telemetry_notice_flow",IG_ACV_AFN_META_INITIATED:"ig_acv_afn_meta_initiated",IG_ACV_CONSENT_DEBUT:"ig_acv_consent_debut",IG_ACV_CONSENT_DEBUT_2:"ig_acv_consent_debut_2",IG_ACV_CONSENT_DEBUT_BLOCKING:"ig_acv_consent_debut_blocking",IG_ACV_CONSENT_DEBUT_RECONSIDER:"ig_acv_consent_debut_reconsider",IG_ACV_CONSENT_DEBUT_RECONSIDER_2:"ig_acv_consent_debut_reconsider_2",IG_ACV_CONTEXTUAL_IAW:"ig_acv_contextual_iaw",IG_ACV_HIDE_AD:"ig_acv_hide_ad",IG_ACV_REELS_ADS_WINBACK:"ig_acv_reels_ads_winback",IG_ACV_WAIST_BACK_WINBACK:"ig_acv_waist_back_winback",IG_ACV_WAIST_MENU_WINBACK:"ig_acv_waist_menu_winback",IG_ACV_WINBACK:"ig_acv_winback",IG_BIZ_LOGIN_OAUTH:"ig_biz_login_oauth",IG_FIRST_TIME_CONSENT:"ig_first_time_consent",IG_IMAGINE_ME_CREATOR_TEMPLATES_CONSENT_FLOW:"ig_imagine_me_creator_templates_consent_flow",IG_MAGIC_MOD_CONSENT_FLOW:"ig_magic_mod_consent_flow",IG_THIRD_PARTY_OAUTH:"ig_third_party_oauth",IGAFSAPP_UPGRADE_BLOCKING_FLOW:"igafsapp_upgrade_blocking_flow",INLINE_3PD_CONTROL_LEARN_HOW:"inline_3pd_control_learn_how",INLINE_CONTROL_WINBACKS:"inline_control_winbacks",IOS14_ATT_FINAL_INTERSTITIAL:"ios14_att_final_interstitial",IOS14_ATT_FINAL_INTERSTITIAL_WITH_LEARN_MORE:"ios14_att_final_interstitial_with_learn_more",IOS14_ATT_WINBACKS:"ios14_att_winbacks",IOS14_ATT_WINBACKS_LEARN_MORE:"ios14_att_winbacks_learn_more",LGPD:"lgpd",LGPD_CONTEXTUAL_BIOMETRIC:"lgpd_contextual_biometric",LGPD_CONTEXTUAL_SCD:"lgpd_contextual_scd",LGPD_CONTEXTUAL_THIRD_PARTY:"lgpd_contextual_third_party",LGPD_MIGRATED:"lgpd_migrated",LIPSYNC_CONSENT_FLOW:"lipsync_consent_flow",LIVE_LOCATION_SHARING_DEVICE_PERMISSION:"live_location_sharing_device_permission",LOCAL_NETWORK:"local_network",LOCATION_ANDROID_10_BUCKET_1:"location_android_10_bucket_1",LOCATION_ANDROID_CUSTOM_BACKGROUND:"location_android_custom_background",LOCATION_ANDROID_DOWNGRADE:"location_android_downgrade",LOCATION_ANDROID_UNIFIED_LOGIN_NUX:"location_android_unified_login_nux",LOCATION_CHECK_IN:"location_check_in",LOCATION_DEVICE_PERMISSION:"location_device_permission",LOCATION_DEVICE_PERMISSION_FB:"location_device_permission_fb",LOCATION_DEVICE_PERMISSION_V2:"location_device_permission_v2",LOCATION_HISTORY_UPSELL:"location_history_upsell",LOCATION_IOS_DOWNGRADE:"location_ios_downgrade",LOCATION_LS_RESURRECTION:"location_ls_resurrection",LOCATION_NEARBY_FRIENDS_RESURRECTION:"location_nearby_friends_resurrection",LOCATION_SERVICES:"location_services",LOCATION_SERVICES_ALWAYS:"location_services_always",LOCATION_SERVICES_FOREGROUND:"location_services_foreground",LOYALTY_WELCOME_CONSENT:"loyalty_welcome_consent",LPA_TRANSPARENCY_FB_FLOW:"lpa_transparency_fb_flow",LPA_TRANSPARENCY_IG_FLOW:"lpa_transparency_ig_flow",MARKETPLACE_TRUSTED_PROGRAM_LOCATION_VERIFICATION:"marketplace_trusted_program_location_verification",MEDIA_ACCESS:"media_access",MESSAGING_TRANSPARENCY_IAB:"messaging_transparency_iab",MP_DMA_CONSENT:"mp_dma_consent",MPI_BUYER_LOCATION_VERIFICATION:"mpi_buyer_location_verification",MPILOCATION_VERIFICATION:"mpilocation_verification",MWA_DEMO_FLOW:"mwa_demo_flow",NDX:"ndx",NDX_EMAIL_ACQUISITION:"ndx_email_acquisition",NDX_LOCATION:"ndx_location",NDX_LOCATION_DPK:"ndx_location_dpk",NDX_PHONE_ACQUISITION:"ndx_phone_acquisition",NEARBY_FRIENDS:"nearby_friends",NEW_USERS_META_FLOW:"new_users_meta_flow",OBA_STATUS_RECONCILIATION_CONSENT_REGION_LOW_RISK_BLOCKING:"oba_status_reconciliation_consent_region_low_risk_blocking",OBA_STATUS_RECONCILIATION_CONSENT_REGION_LOW_RISK_DISMISSIBLE:"oba_status_reconciliation_consent_region_low_risk_dismissible",OBA_STATUS_RECONCILIATION_NON_CONSENT_REGION_BLOCKING:"oba_status_reconciliation_non_consent_region_blocking",OBA_STATUS_RECONCILIATION_NON_CONSENT_REGION_DISMISSIBLE:"oba_status_reconciliation_non_consent_region_dismissible",OPT_IN_TRIAL_PRE_CONSENT_INTERSTITIAL_3PD:"opt_in_trial_pre_consent_interstitial_3pd",PARENTAL_CONSENT_SCD:"parental_consent_scd",PARENTAL_CONSENT_THIRD_PARTY:"parental_consent_third_party",PDP_EMAIL_ACQUISITION:"email_acquisition",PDP_PREFILL_EMAIL_UPDATE:"prefill_email_update",PDPA:"pdpa",PE_CONSENT_RECONCILIATION:"pe_consent_reconciliation",PE_CONSENT_RECONCILIATION_INTERSTITIAL:"pe_consent_reconciliation_interstitial",PHONE_NUMBER_ACQUISITION:"phone_number_acquisition",PHONE_NUMBER_ACQUISITION_EVERGREEN_QP:"phone_number_acquisition_evergreen_qp",PHONE_NUMBER_UPDATE_EVERGREEN_QP:"phone_number_update_evergreen_qp",PHONE_NUMBER_UPDATE_EVERGREEN_QP_WITH_STACKED_CTA:"phone_number_update_evergreen_qp_with_stacked_cta",PIPA:"pipa",POPIA:"popia",PRIVACY_EDUCATION_ADS_TOO_PERSON_QP:"privacy_education_ads_too_person_qp",PRIVACY_INCIDENT_NOTICE_DEFAULT_INTERSTITIAL:"privacy_incident_notice_default_interstitial",PRIVACY_POLICY_NOTICE_BLOCKING:"privacy_policy_notice_blocking",PRIVACY_POLICY_NOTICE_IG_TOU_NOTIF:"privacy_policy_notice_ig_tou_notif",PRIVACY_POLICY_NOTICE_NON_BLOCKING:"privacy_policy_notice_non_blocking",PRIVACY_POLICY_NOTICE_NON_BLOCKING_ACCEPT:"privacy_policy_notice_non_blocking_accept",PRIVACY_POLICY_NOTICE_TEST_CMS:"privacy_policy_notice_test_cms",PRIVACY_POLICY_NOTICE_TEST_DEMO:"privacy_policy_notice_test_demo",PRIVACY_POLICY_NOTICE_USECASE:"privacy_policy_notice_usecase",PRIVACY_POLICY_NOTICE_USECASE_BUNDLED_TERMS_NOTICE_2024:"privacy_policy_notice_usecase_bundled_terms_notice_2024",PRIVACY_POLICY_NOTICE_USECASE_DSA_2023:"privacy_policy_notice_usecase_dsa_2023",PRIVACY_POLICY_NOTICE_USECASE_DSA_NETHERLANDS_NOTICE:"privacy_policy_notice_usecase_dsa_netherlands_notice",PRIVACY_POLICY_NOTICE_USECASE_GENAI_2024:"privacy_policy_notice_usecase_genai_2024",PRIVACY_POLICY_NOTICE_USECASE_GENAI_2025_STITCH:"privacy_policy_notice_usecase_genai_2025_stitch",PRIVACY_POLICY_NOTICE_USECASE_GENAI_EU_TRANSPARENCY_2025:"privacy_policy_notice_usecase_genai_eu_transparency_2025",PRIVACY_POLICY_NOTICE_USECASE_GENAI_UK_BRAZIL_2024:"privacy_policy_notice_usecase_genai_uk_brazil_2024",PRIVACY_POLICY_NOTICE_USECASE_INDIA_ITRULES:"privacy_policy_notice_usecase_india_itrules",PRIVACY_POLICY_NOTICE_USECASE_INTERNAL_QA_TERMS_ART14:"privacy_policy_notice_usecase_internal_qa_terms_art14",PRIVACY_POLICY_NOTICE_USECASE_NOYB_2023:"privacy_policy_usecase_noyb_2023",PRIVACY_POLICY_NOTICE_USECASE_SEMIANNUAL_WITH_OAK:"privacy_policy_notice_usecase_semiannual_with_oak",PRIVACY_POLICY_NOTICE_USECASE_SOUTH_KOREA2025:"privacy_policy_notice_usecase_south_korea2025",PRIVACY_POLICY_NOTICE_USECASE_UK_2023:"privacy_policy_notice_usecase_uk_2023",RECONCILIATION_3PD:"reconciliation_3pd",RECONCILIATION_3PD_BLOCKING:"reconciliation_3pd_blocking",RL_ARCATA_EYE_TRACKING:"rl_arcata_eye_tracking",RL_ARCATA_FACE_TRACKING:"rl_arcata_face_tracking",RL_CHECKPOINT:"rl_checkpoint",RL_CONSENTZERO_MR:"rl_consentzero_mr",RL_FC_ENHANCED_SPATIAL_SERVICES:"rl_fc_enhanced_spatial_services",RL_FC_QUEST_HAND_TRACKING:"rl_fc_quest_hand_tracking",RL_FC_QUEST_TELEMETRY:"rl_fc_quest_telemetry",RL_FC_SALSA_PERSONALIZATION:"rl_fc_salsa_personalization",RL_GENERIC_COOKIE:"rl_generic_cookie",RL_GENERIC_DMA:"rl_generic_dma",RL_INTERNAL_E2E_TEST:"rl_internal_e2e_test",RL_INTERNAL_E2E_TEST_RESET_ELIGIBILITY_CONSENT_ZERO:"rl_internal_e2e_test_reset_eligibility_consent_zero",RL_INTERNAL_E2E_TEST_RESET_ELIGIBILITY_ESS_V2:"rl_internal_e2e_test_reset_eligibility_essv2",RL_INTERNAL_E2E_TEST_RESET_ELIGIBILITY_HAND_BODY_TRACKING:"rl_internal_e2e_test_reset_eligibility_hand_body_tracking",RL_INTERNAL_E2E_TEST_RESET_ELIGIBILITY_HAND_BODY_TRACKING_TELEMETRY:"rl_internal_e2e_test_reset_eligibility_hand_body_tracking_telemetry",RL_INTERNAL_E2E_TEST_RESET_ELIGIBILITY_SALSA_AGE_UP:"rl_internal_e2e_test_reset_eligibility_salsa_age_up",RL_INTERNAL_E2E_TEST_RESET_ELIGIBILITY_SOCIAL_PRIVACY:"rl_internal_e2e_test_reset_eligibility_social_privacy",RL_INTERNAL_E2E_TEST_RESET_ELIGIBILITY_YOUTH_CONSENT:"rl_internal_e2e_test_reset_eligibility_youth_consent",RL_MR_ESS_V2:"rl_mr_ess_v2",RL_MWA_LIFESTYLE_CONSENT_FLOW:"rl_mwa_lifestyle_consent_flow",RL_MWA_TELEMETRY:"rl_mwa_telemetry",RL_MWA_TEST_FLOW:"rl_mwa_test_flow",RL_NUX_ADDITIONAL_PRIVACY_DATA:"rl_nux_additional_privacy_data",RL_OCULUS_HAND_BODY_TRACKING:"rl_oculus_hand_body_tracking",RL_OCULUS_HAND_BODY_TRACKING_WITH_TELEMETRY:"rl_oculus_hand_body_tracking_with_telemetry",RL_OCULUS_SALSA_HAND_BODY_TRACKING:"rl_oculus_salsa_hand_body_tracking",RL_OCULUS_TWILIGHT_NUX:"rl_oculus_twilight_nux",RL_OCULUS_TWILIGHT_NUX_EUREKA:"rl_oculus_twilight_nux_eureka",RL_OCULUS_TWILIGHT_NUX_STANLEY:"rl_oculus_twilight_nux_stanley",RL_OCULUS_VR_NUX_ESCAPE_HATCH:"rl_oculus_vr_nux_escape_hatch",RL_SOCIAL_PRIVACY_SETTING_DEDUP:"rl_social_privacy_setting_dedup",RL_SOCIAL_PRIVACY_SETTING_DEDUP_SALSA:"rl_social_privacy_setting_dedup_salsa",RL_TEST_HELLO_WORLD:"rl_test_hello_world",RL_TWILIGHT_TELEMETRY_DATA_CONSENT:"rl_twilight_telemetry_data_consent",SHOP_WITH_X:"shop_with_x",SLV_AI_DISCLOSURE:"slv_ai_disclosure",SLV_DISCLOSURE_AI:"slv_disclosure_ai",SLV_DISCLOSURE_SOCIAL:"slv_disclosure_social",SLV_DISCLOSURE_VOICE:"slv_disclosure_voice",SLV_PJ_RECONSENT:"slv_pj_reconsent",SLV_VOICE_PRIVACY_CHECKUP:"slv_voice_privacy_checkup",SUPPORT_PERSONALIZED_ADS_ATT_WINBACKS:"support_personalized_ads_att_winbacks",TEST_ADHAM_PLAYGROUND_FLOW:"test_adham_playground_flow",TEST_ANASTASIA_PLAYGROUND_FLOW:"test_anastasia_playground_flow",TEST_AUTO_LAYOUT_FLOW:"test_auto_layout_flow",TEST_BATCH_FLOW:"test_batch_flow",TEST_CHRIS_PLAYGROUND_FLOW:"test_chris_playground_flow",TEST_CUSTOM_COMPONENTS_FLOW:"test_custom_components_flow",TEST_E2E:"test_e2e",TEST_FLOW:"test_flow",TEST_LAYOUT_FLOW:"test_layout_flow",TEST_PREDEFINED_OUTCOME_FLOW:"test_predefined_outcome_flow",THIRD_PARTY_ACCOUNT_LINKING:"third_party_account_linking",THIRD_PARTY_ACCOUNT_LINKING_WA_YUKON:"third_party_account_linking_wa_yukon",TWILIGHT_APP_TELEMETRY_CONSENT:"twilight_app_telemetry_consent",TWO_FAC_PHONE_ACQUISITION:"two_fac_phone_acquisition",UFAC_SMS_SCARCE_V2_PHONE_ACQUISITION:"ufac_sms_scarce_v2_phone_acquisition",UNIFIED_CLEANUP:"unified_cleanup",USER_COOKIE_CHOICE_META:"user_cookie_choice_meta",USER_COOKIE_CHOICE_META_V2:"user_cookie_choice_meta_v2",USER_COOKIE_CHOICE_V2:"user_cookie_choice_v2",VR_SPATIAL_DATA:"vr_spatial_data",WAMO_TEST:"wamo_test",WEATHER:"weather",WIFI_ACCESS:"wifi_access",XFAC_LOCATION:"xfac_location",YOUTH_REGULATION_TEEN_REGISTRATION:"youth_regulation_teen_registration",YUKON_CDS_TEST_CUSTOM_COMPONENTS_FLOW:"yukon_cds_test_custom_components_flow",YUKON_CDS_TEST_LAYOUT_FLOW:"yukon_cds_test_layout_flow"});i.default=e}),66);
__d("ConsentSurface",[],(function(t,n,r,o,a,i){var e=Object.freeze({BARCELONA_ANDROID:"barcelona_android",BARCELONA_IOS:"barcelona_ios",BARCELONA_WEB:"barcelona_web",FACEBOOK_ANDROID:"facebook_android",FACEBOOK_COMET:"facebook_comet",FACEBOOK_IOS:"facebook_ios",FACEBOOK_IOS_PLAYGROUND:"facebook_ios_playground",FACEBOOK_LITE_ANDROID:"facebook_lite_android",FACEBOOK_LITE_KAIOS:"facebook_lite_kaios",FACEBOOK_MBASIC:"facebook_mbasic",FACEBOOK_MTOUCH:"facebook_mtouch",FACEBOOK_WEBBLOKS:"facebook_webbloks",FACEBOOK_WEBLITE:"facebook_weblite",INSTAGRAM_ANDROID:"instagram_android",INSTAGRAM_CARBON:"instagram_carbon",INSTAGRAM_IOS:"instagram_ios",INSTAGRAM_WEB:"instagram_web",MESSENGER_ANDROID:"messenger_android",MESSENGER_DESKTOP_ZERATUL:"messenger_desktop_zeratul",MESSENGER_DOT_COM:"messenger_dot_com",MESSENGER_IOS_LIGHTSPEED:"messenger_ios_lightspeed",MESSENGER_LITE_ANDROID:"messenger_lite_android",MESSENGER_LITE_BURRITO_ANDROID:"messenger_lite_burrito_android",MESSENGER_KIDS_TALK_ANDROID:"messenger_kids_talk_android",MESSENGER_KIDS_TALK_IOS:"messenger_kids_talk_ios",META_COMET:"meta_comet",META_DOT_COM:"meta_dot_com",META_AI_WEB:"meta_ai_web",OCULUS_COMET:"oculus_comet",PAGE_ADMIN_ANDROID:"page_admin_android",PAGE_ADMIN_IOS:"page_admin_ios",REALITY_LABS_ARCATA:"reality_labs_arcata",REALITY_LABS_MIRAMAR:"reality_labs_miramar",REALITY_LABS_OFFLINE:"reality_labs_offline",REALITY_LABS_STINSON:"reality_labs_stinson",REALITY_LABS_VENTURA:"reality_labs_ventura",TWILIGHT_ANDROID:"twilight_android",TWILIGHT_IOS:"twilight_ios",WEARABLES_ANDROID:"wearables_android",WEARABLES_IOS:"wearables_ios",WHATSAPP_ANDROID:"whatsapp_android",WHATSAPP_IOS:"whatsapp_ios",WHATSAPP_WEB:"whatsapp_web",UNKNOWN:"unknown"});i.default=e}),66);
__d("ConsentTemplatePromptScreen.react",["ConsentTemplateGeneralizedConsentLoggingContext","useConsentTemplateFlowConfig"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.currentConsentPrompt,n=e.surface,a=o("ConsentTemplateGeneralizedConsentLoggingContext").useConsentTemplateGeneralizedConsentLoggingCallback(t),i=r("useConsentTemplateFlowConfig")(),l=i.getConsentTemplatePromptScreen(t,n);return a("step_presented"),l}l.default=e}),98);
__d("FXFetaMigrationMomentPromptDialogRootQuery$Parameters",["cr:12310"],(function(t,n,r,o,a,i,l){"use strict";i.exports=n("cr:12310")}),34);
__d("FXFetaMigrationMomentPromptDialog.entrypoint",["FXFetaMigrationMomentPromptDialogRootQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{query:{options:{fetchPolicy:"store-and-network"},parameters:r("FXFetaMigrationMomentPromptDialogRootQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("FXFetaMigrationMomentPromptDialog.react").__setRef("FXFetaMigrationMomentPromptDialog.entrypoint")};l.default=e}),98);
__d("FXFetaMigrationMomentPromptDialogRootQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25136421556040320"}),null);
__d("FXFetaMigrationMomentPromptDialogRootQuery$Parameters.instagram",["FXFetaMigrationMomentPromptDialogRootQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("FXFetaMigrationMomentPromptDialogRootQuery_instagramRelayOperation"),metadata:{},name:"FXFetaMigrationMomentPromptDialogRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("FXFetaPreMigrationDialogRootQuery$Parameters",["cr:18509"],(function(t,n,r,o,a,i,l){"use strict";i.exports=n("cr:18509")}),34);
__d("FXFetaPreMigrationDialog.entrypoint",["FXFetaPreMigrationDialogRootQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{query:{options:{fetchPolicy:"store-and-network"},parameters:r("FXFetaPreMigrationDialogRootQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("FXFetaPreMigrationDialog.react").__setRef("FXFetaPreMigrationDialog.entrypoint")};l.default=e}),98);
__d("FXFetaPreMigrationDialogRootQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29746258828351352"}),null);
__d("FXFetaPreMigrationDialogRootQuery$Parameters.instagram",["FXFetaPreMigrationDialogRootQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("FXFetaPreMigrationDialogRootQuery_instagramRelayOperation"),metadata:{},name:"FXFetaPreMigrationDialogRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("FXFetaToSDialogRootQuery$Parameters",["cr:18511"],(function(t,n,r,o,a,i,l){"use strict";i.exports=n("cr:18511")}),34);
__d("FXFetaToSDialog.entrypoint",["FXFetaToSDialogRootQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{query:{options:{fetchPolicy:"store-and-network"},parameters:r("FXFetaToSDialogRootQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("FXFetaToSDialog.react").__setRef("FXFetaToSDialog.entrypoint")};l.default=e}),98);
__d("FXFetaToSDialogRootQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24182768904661579"}),null);
__d("FXFetaToSDialogRootQuery$Parameters.instagram",["FXFetaToSDialogRootQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("FXFetaToSDialogRootQuery_instagramRelayOperation"),metadata:{},name:"FXFetaToSDialogRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDSAdPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M18.44 1H5.56A4.565 4.565 0 0 0 1 5.561v12.878A4.565 4.565 0 0 0 5.56 23h12.88A4.566 4.566 0 0 0 23 18.44V5.56A4.566 4.566 0 0 0 18.44 1ZM21 18.44A2.564 2.564 0 0 1 18.44 21H5.56A2.563 2.563 0 0 1 3 18.44V5.56A2.563 2.563 0 0 1 5.56 3h12.88A2.564 2.564 0 0 1 21 5.561Z"}),a=s.jsx("path",{d:"M12 16H6a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2Zm6-10H6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1Zm-1 6H7V8h10Zm1 4h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2Z"}),t[0]=n,t[1]=a):(n=t[0],a=t[1]);var i;return t[2]!==e?(i=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a]})),t[2]=e,t[3]=i):i=t[3],i}var c=s.memo(u);l.default=c}),98);
__d("IGDSLicensingPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"m20.414 7-5.412-5.412A2.01 2.01 0 0 0 13.586 1H6a3.003 3.003 0 0 0-3 3v16a3.003 3.003 0 0 0 3 3h12a3.003 3.003 0 0 0 3-3V8.414A1.99 1.99 0 0 0 20.414 7ZM15 4.414 17.586 7H15ZM19 20a1.001 1.001 0 0 1-1 1H6a1.001 1.001 0 0 1-1-1V4a1.001 1.001 0 0 1 1-1h7v4a2.002 2.002 0 0 0 2 2h4ZM8 10h2a1 1 0 0 0 0-2H8a1 1 0 0 0 0 2Zm8 6H8a1 1 0 0 0 0 2h8a1 1 0 0 0 0-2Zm-9-3a1 1 0 0 0 1 1h8a1 1 0 0 0 0-2H8a1 1 0 0 0-1 1Z"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("IGDSMetaLogoPrimaryIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=5;function c(e){var t=o("react-compiler-runtime").c(7),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"b",x1:"125",x2:"160.217",y1:"97",y2:"57.435",children:[s.jsx("stop",{offset:".21",stopColor:"#0278F1"}),s.jsx("stop",{offset:".533",stopColor:"#0180FA"})]}),t[0]=n):n=t[0];var a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"c",x1:"44",x2:"0",y1:"5",y2:"64",children:[s.jsx("stop",{offset:".427",stopColor:"#0165E0"}),s.jsx("stop",{offset:".917",stopColor:"#0180FA"})]}),t[1]=a):a=t[1];var i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"d",x1:"28.5",x2:"135",y1:"29",y2:"72",children:[s.jsx("stop",{stopColor:"#0064E0"}),s.jsx("stop",{offset:".656",stopColor:"#0066E2"}),s.jsx("stop",{offset:"1",stopColor:"#0278F1"})]}),t[2]=i):i=t[2];var l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsxs("defs",{children:[n,a,i,s.jsx("clipPath",{id:"a",children:s.jsx("path",{d:"M0 0h496.236v100H0z",fill:"#fff"})})]}),t[3]=l):l=t[3];var c;t[4]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsxs("g",{clipPath:"url(#a)",children:[s.jsx("path",{d:"M182.141 3.213h18.808l31.98 57.849 31.979-57.849h18.401V98.27h-15.345V25.416l-28.042 50.448h-14.394l-28.042-50.448V98.27h-15.345V3.213ZM332.804 99.967c-7.107 0-13.353-1.573-18.739-4.718-5.387-3.146-9.586-7.504-12.595-13.07-3.011-5.569-4.515-11.95-4.515-19.148 0-7.287 1.47-13.738 4.413-19.35 2.942-5.613 7.027-10.004 12.255-13.173 5.229-3.168 11.238-4.753 18.027-4.753 6.744 0 12.55 1.596 17.416 4.787 4.865 3.191 8.611 7.661 11.237 13.41 2.624 5.749 3.938 12.492 3.938 20.233v4.21h-52.077c.95 5.794 3.292 10.354 7.027 13.68 3.735 3.328 8.453 4.991 14.157 4.991 4.571 0 8.509-.679 11.814-2.037 3.303-1.358 6.404-3.417 9.302-6.178l8.147 9.98c-8.103 7.425-18.038 11.136-29.807 11.136Zm11.204-56.389c-3.215-3.281-7.425-4.923-12.629-4.923-5.07 0-9.314 1.676-12.731 5.025-3.418 3.35-5.58 7.854-6.484 13.512h37.343c-.453-5.794-2.286-10.331-5.499-13.614ZM382.846 40.014h-14.123V27.453h14.123V6.676h14.802v20.777h21.455v12.561h-21.455v31.844c0 5.295.905 9.075 2.716 11.338 1.809 2.264 4.911 3.395 9.302 3.395 1.945 0 3.598-.078 4.956-.237a92.35 92.35 0 0 0 4.481-.646v12.425c-1.675.498-3.564.906-5.669 1.223a44.63 44.63 0 0 1-6.62.475c-15.979 0-23.968-8.735-23.968-26.208V40.014ZM496.236 98.27h-14.53v-9.913c-2.58 3.712-5.862 6.575-9.845 8.588-3.983 2.014-8.51 3.022-13.579 3.022-6.247 0-11.78-1.596-16.601-4.787s-8.612-7.581-11.373-13.172c-2.761-5.59-4.142-11.983-4.142-19.18 0-7.243 1.403-13.648 4.21-19.216 2.806-5.567 6.688-9.935 11.645-13.104 4.956-3.168 10.648-4.753 17.075-4.753 4.844 0 9.189.94 13.037 2.818a25.768 25.768 0 0 1 9.573 7.978v-9.098h14.53V98.27Zm-14.801-46.035c-1.585-4.028-4.085-7.207-7.503-9.54-3.418-2.33-7.367-3.496-11.848-3.496-6.338 0-11.384 2.128-15.141 6.382-3.758 4.255-5.635 10.004-5.635 17.246 0 7.289 1.809 13.06 5.431 17.314 3.621 4.255 8.532 6.382 14.734 6.382 4.571 0 8.645-1.176 12.222-3.53 3.575-2.353 6.155-5.522 7.74-9.506V52.235Z",fill:"currentColor"}),s.jsx("path",{d:"M108 0C95.66 0 86.015 9.294 77.284 21.1 65.284 5.821 55.25 0 43.24 0 18.76 0 0 31.862 0 65.586 0 86.69 10.21 100 27.31 100c12.308 0 21.16-5.803 36.897-33.31 0 0 6.56-11.584 11.072-19.564 1.582 2.553 3.243 5.3 4.997 8.253l7.38 12.414C102.03 91.848 110.038 100 124.551 100c16.659 0 25.931-13.492 25.931-35.034C150.483 29.656 131.301 0 108 0ZM52.207 59.241c-12.759 20-17.172 24.483-24.276 24.483-7.31 0-11.655-6.418-11.655-17.862 0-24.483 12.207-49.517 26.759-49.517 7.88 0 14.465 4.55 24.552 18.991-9.578 14.691-15.38 23.905-15.38 23.905Zm48.153-2.517-8.823-14.715a301.425 301.425 0 0 0-6.884-10.723c7.952-12.274 14.511-18.39 22.313-18.39 16.206 0 29.172 23.863 29.172 53.173 0 11.172-3.659 17.655-11.241 17.655-7.268 0-10.739-4.8-24.537-27Z",fill:"#0180FA"}),s.jsx("path",{d:"M145.586 35H130.66c3.452 8.746 5.478 19.482 5.478 31.069 0 11.172-3.659 17.655-11.241 17.655-1.407 0-2.672-.18-3.897-.631V99.82c1.143.122 2.324.18 3.552.18 16.659 0 25.931-13.492 25.931-35.034 0-10.737-1.774-20.95-4.897-29.966Z",fill:"url(#b)"}),s.jsx("path",{d:"M43.241 0c.254 0 .507.003.759.008v16.36c-.32-.015-.642-.023-.965-.023-14.183 0-26.139 23.782-26.736 47.655H.014C.59 30.87 19.143 0 43.24 0Z",fill:"url(#c)"}),s.jsx("path",{d:"M43.241 0c11.152 0 20.601 5.02 31.502 17.971 3.065 3.828 6.761 8.805 10.716 14.557l.017.025.025-.003a311.041 311.041 0 0 1 6.036 9.459l8.823 14.715c13.798 22.2 17.269 27 24.537 27H125v16.273c-.149.002-.298.003-.448.003-14.513 0-22.522-8.152-36.897-32.207l-7.38-12.414a596.368 596.368 0 0 0-2.294-3.834L78 51.5c-5.5-9-9-14.5-12-18.5l-.05.038c-9.18-12.63-15.47-16.693-22.916-16.693H43V0L43.241 0Z",fill:"url(#d)"})]}),t[4]=c):c=t[4];var d;return t[5]!==e?(d=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{aspectRatio:u,viewBox:"0 0 500 100",children:[l,c]})),t[5]=e,t[6]=d):d=t[6],d}var d=s.memo(c);l.default=d}),98);
__d("IGDSPaymentsPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsxs("g",{fill:"currentColor",children:[s.jsx("path",{d:"M1.4 5.3c-.3.8-.4 4.3-.2 7.8l.3 6.4h21v-15l-10.3-.3c-8-.2-10.4 0-10.8 1.1zM21 7c0 .6-3.7 1-9 1s-9-.4-9-1 3.7-1 9-1 9 .4 9 1zm0 7.5V18H3v-7h18v3.5z"}),s.jsx("path",{d:"M4 16c0 .5 1.1 1 2.5 1S9 16.5 9 16c0-.6-1.1-1-2.5-1S4 15.4 4 16zm6 0c0 .5 1.8 1 4 1s4-.5 4-1c0-.6-1.8-1-4-1s-4 .4-4 1z"})]}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("IGDUBIUpsellInterstitialEntrypointQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9886512594745684"}),null);
__d("IGDUBIUpsellInterstitialEntrypointQuery$Parameters",["IGDUBIUpsellInterstitialEntrypointQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("IGDUBIUpsellInterstitialEntrypointQuery_instagramRelayOperation"),metadata:{},name:"IGDUBIUpsellInterstitialEntrypointQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDUBIUpsellInterstitial.entrypoint",["IGDUBIUpsellInterstitialEntrypointQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{queryRef:{parameters:r("IGDUBIUpsellInterstitialEntrypointQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("IGDUBIUpsellInterstitialEntrypoint.react").__setRef("IGDUBIUpsellInterstitial.entrypoint")};l.default=e}),98);
__d("decodeIgSignalingPayload",["TCompactProtocol","TReadBuffer","ThriftTypes"],(function(t,n,r,o,a,i,l){"use strict";var e,s=2;function u(t){var n=new(r("TReadBuffer"))(t),o=new(r("TCompactProtocol"))(n),a=null;for(o.readStructBegin();;){var i=o.readFieldBegin(),l=i.ftype,u=i.fid;if(l===(e||(e=r("ThriftTypes"))).STOP)break;switch(u){case s:l===(e||(e=r("ThriftTypes"))).STRING?a=o.readString():o.skip(l);break;default:o.skip(l)}o.readFieldEnd()}return o.readStructEnd(),a}l.default=u}),98);
__d("IgSignalingListener",["FBLogger","IGDOverLSMqttChannel","RequestStreamBodyUtils","ZenonMWThriftMessageDebugLogger","ZenonMWThriftMessageReliabilityLogger","ZenonMWThriftMessageSerializer","ZenonMWThriftMessageTranslator","decodeIgSignalingPayload","getErrorSafe","nullthrows","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=o("IGDOverLSMqttChannel").waitAndGetInstance(),s=(function(){function t(){}var n=t.prototype;return n.setLoggingEventHandler=function(t){this.$1=t},n.subscribe=function(n,a){var t=this;r("promiseDone")(e.then(function(e){e.subscribeBinary("/pubsub",function(e){try{var i=r("nullthrows")(r("decodeIgSignalingPayload")(e)),l=JSON.parse(i),s=o("RequestStreamBodyUtils").base64ToUint8Array(l.binaryPayload),u=o("ZenonMWThriftMessageSerializer").deserializeMWThriftMessage(s,!0);o("ZenonMWThriftMessageReliabilityLogger").logReceivedMessage(u),r("ZenonMWThriftMessageDebugLogger").logMWThriftMessage("RECEIVED","MQTT Thrift",u),t.$1&&t.$1({mwThriftMessage:u,name:"mwThriftMessageRecv"});var c=o("ZenonMWThriftMessageTranslator").toSignalingMessage(u);if(c==null)return;n(c),a&&t.$2(u,c,a),o("ZenonMWThriftMessageReliabilityLogger").logProcessingMessage(u)}catch(e){r("FBLogger")("rpweb").catching(r("getErrorSafe")(e)).mustfix("Error receiving MQTT message from /pubsub topic")}})}))},n.unsubscribe=function(){r("promiseDone")(e.then(function(e){e.unsubscribeAll("/webrtc"),e.unsubscribeAll("/pubsub")}))},n.$2=function(t,n,o){try{o(t,n)}catch(e){r("FBLogger")("rtweb").catching(r("getErrorSafe")(e)).mustfix("Signaling messages should be json parsable. error")}},t})();l.default=s}),98);
__d("InstagramWebFeedPageExtrasLoadFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5238"),s=o("FalcoLoggerInternal").create("instagram_web_feed_page_extras_load_failure",e),u=s;l.default=u}),98);
__d("InstagramWebReelTrayRefreshFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5242"),s=o("FalcoLoggerInternal").create("instagram_web_reel_tray_refresh_failure",e),u=s;l.default=u}),98);
__d("InstagramWebStoriesLoadFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5243"),s=o("FalcoLoggerInternal").create("instagram_web_stories_load_failure",e),u=s;l.default=u}),98);
__d("MDCXWwwHelpControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/{?locale}/help/{?*rest}/",Object.freeze({device_view:!1}),["/help/{?*rest}/","/{?locale}/help/","/help/"],void 0),s=e;l.default=s}),98);
__d("PolarisActorGatewayDialogQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9636967049672442"}),null);
__d("PolarisActorGatewayDialogQuery$Parameters",["PolarisActorGatewayDialogQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("PolarisActorGatewayDialogQuery_instagramRelayOperation"),metadata:{},name:"PolarisActorGatewayDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("PolarisActorGatewayDialog.entrypoint",["JSResourceForInteraction","PolarisActorGatewayDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{polarisActorGatewayDialogQuery:{options:{},parameters:r("PolarisActorGatewayDialogQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("PolarisActorGatewayDialog.react").__setRef("PolarisActorGatewayDialog.entrypoint")};l.default=e}),98);
__d("PolarisFXAccountCenterStrings",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Accounts Centre"),u=s._(/*BTDS*/"Facebook wordmark and family of apps logo"),c=s._(/*BTDS*/"Control settings for connected experiences across Instagram, the Facebook app and Messenger, including story and post sharing, and logging in."),d=s._(/*BTDS*/"Disclosure Page"),m=s._(/*BTDS*/"Personal information"),p=s._(/*BTDS*/"Privacy and security"),_=s._(/*BTDS*/"Ad preferences"),f=s._(/*BTDS*/"Payments"),g=s._(/*BTDS*/"Manage your connected experiences and account settings across Meta technologies."),h=s._(/*BTDS*/"See more in Accounts Centre"),y=s._(/*BTDS*/"Personal details"),C=s._(/*BTDS*/"Password and security"),b=s._(/*BTDS*/"Ad preferences"),v=s._(/*BTDS*/"Ad preferences, including subscription for no ads");l.ACCOUNT_CENTER_DIALOG_TITLE=e,l.WATERMARK_FAMILY_APPS_LOGO_ALT=u,l.ACCOUNT_CENTER_DESCRIPTION=c,l.DISCLOSURE_PAGE_TITLE=d,l.ACCOUNT_CENTER_ALT_TEXT_LOCK=m,l.ACCOUNT_CENTER_ALT_TEXT_SHIELD=p,l.ACCOUNT_CENTER_ALT_TEXT_ADS=_,l.ACCOUNT_CENTER_ALT_TEXT_ADS_PAYMENTS=f,l.ACCOUNT_CENTER_DESCRIPTION_NEW_APP_IA=g,l.ACCOUNT_CENTER_SEE_MORE_TEXT=h,l.ACCOUNT_CENTER_PERSONAL_DETAILS_TEXT=y,l.ACCOUNT_CENTER_PASSWORD_AND_SECURITY_TEXT=C,l.ACCOUNT_CENTER_AD_PREFERENCES_TEXT=b,l.ACCOUNT_CENTER_AD_PREFERENCES_WITH_AFS_TEXT=v}),226);
__d("PolarisFeedLogger",["InstagramODS","InstagramWebFeedPageExtrasLoadFailureFalcoEvent","InstagramWebReelTrayRefreshFailureFalcoEvent","InstagramWebStoriesLoadFailureFalcoEvent","PolarisFalcoErrorEventUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){r("InstagramODS").incr("web.stories.fetch_data.failure"),r("InstagramWebStoriesLoadFailureFalcoEvent").log(function(){return babelHelpers.extends({},o("PolarisFalcoErrorEventUtils").getErrorLoggerData(e))})}function s(e){r("InstagramODS").incr("web.reel_tray.refresh.failure"),r("InstagramWebReelTrayRefreshFailureFalcoEvent").log(function(){return babelHelpers.extends({},o("PolarisFalcoErrorEventUtils").getErrorLoggerData(e))})}function u(e){r("InstagramODS").incr("web.feed.load_page_extras.failure"),r("InstagramWebFeedPageExtrasLoadFailureFalcoEvent").log(function(){return babelHelpers.extends({},o("PolarisFalcoErrorEventUtils").getErrorLoggerData(e))})}l.logStoriesLoadFailure=e,l.logReelTrayRefreshFailure=s,l.logFeedPageExtrasLoadFailure=u}),98);
__d("PolarisFeedActionLoadFeedPageExtras",["CometRelay","FBLogger","PolarisFeedLogger","PolarisFeedVariants","PolarisInstajax","PolarisQueryParams","PolarisRelayEnvironment","PolarisStoryAPIActions","Promise","QuickPerformanceLogger","asyncToGeneratorRuntime","getErrorSafe","polarisGetXDTMaterialTray","polarisLogAction","qpl","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){var e,t=o("PolarisQueryParams").parseQueryParams(),n=t.variant;return(e=r("PolarisFeedVariants").cast(String(n)))!=null?e:"home"}function c(){return(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){t({type:"FEED_PAGE_EXTRAS_LOADING"});var a=Date.now(),i=u();r("polarisLogAction")("loadFeedPageExtrasAttempt"),(s||(s=r("QuickPerformanceLogger"))).markerPoint(r("qpl")._(27459585,"2172"),"stories_network_request");var l=new(e||(e=n("Promise")))((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){try{r("polarisLogAction")("fetchStoriesDataAttempt");var n=yield o("PolarisStoryAPIActions").loadStoryTray(i);r("polarisLogAction")("fetchStoriesDataSuccess"),e(n)}catch(e){r("polarisLogAction")("fetchStoriesDataFailure"),o("PolarisFeedLogger").logStoriesLoadFailure(r("getErrorSafe")(e)),t(r("getErrorSafe")(e))}});return function(t,n){return e.apply(this,arguments)}})());try{var c=yield l;c!=null&&t(c),r("polarisLogAction")("loadFeedPageExtrasSuccess"),(s||(s=r("QuickPerformanceLogger"))).markerPoint(r("qpl")._(27459585,"2172"),"stories_network_response"),o("CometRelay").commitLocalUpdate(r("PolarisRelayEnvironment"),function(e){var t,n=r("polarisGetXDTMaterialTray")(e,i==="following");n==null||(t=n.setValue(r("uuidv4")(),"tray_session_id"))==null||(t=t.setValue(Date.now(),"refresh_key"))==null||t.setValue(Date.now()-a,"refresh_latency")})}catch(e){var d=r("getErrorSafe")(e);r("polarisLogAction")("loadFeedPageExtrasFailure",{errorMessage:d.name+" "+d.message}),o("PolarisFeedLogger").logFeedPageExtrasLoadFailure(d),(s||(s=r("QuickPerformanceLogger"))).markerPoint(r("qpl")._(27459585,"2172"),"stories_network_response_failure"),t({type:"FEED_PAGE_EXTRAS_FAILED"}),d instanceof o("PolarisInstajax").AjaxError||r("FBLogger")("ig_web").catching(d).mustfix("unexpected")}e.resolve()});return function(e){return t.apply(this,arguments)}})()}l.loadFeedPageExtras=c}),98);
__d("PolarisNidoEnrollmentDialogQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24252703977684041"}),null);
__d("PolarisNidoEnrollmentDialogQuery$Parameters",["PolarisNidoEnrollmentDialogQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("PolarisNidoEnrollmentDialogQuery_instagramRelayOperation"),metadata:{},name:"PolarisNidoEnrollmentDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("PolarisNidoEnrollmentDialog.entrypoint",["JSResourceForInteraction","PolarisNidoEnrollmentDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{queryReference:{parameters:r("PolarisNidoEnrollmentDialogQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("PolarisNidoEnrollmentDialog.react").__setRef("PolarisNidoEnrollmentDialog.entrypoint")};l.default=e}),98);
__d("PolarisNidoGraduationDialogQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="32067610436171650"}),null);
__d("PolarisNidoGraduationDialogQuery$Parameters",["PolarisNidoGraduationDialogQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("PolarisNidoGraduationDialogQuery_instagramRelayOperation"),metadata:{},name:"PolarisNidoGraduationDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("PolarisNidoGraduationDialog.entrypoint",["JSResourceForInteraction","PolarisNidoGraduationDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{queryReference:{parameters:r("PolarisNidoGraduationDialogQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("PolarisNidoGraduationDialog.react").__setRef("PolarisNidoGraduationDialog.entrypoint")};l.default=e}),98);
__d("PolarisQPActorGatewayInterstitial.react",["PolarisActorGatewayDialog.entrypoint","PolarisQPActions","PolarisReactRedux.react","react","react-compiler-runtime","useIGDSEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(9),n=o("PolarisReactRedux.react").useDispatch(),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={routeParams:{},routeProps:{}},t[0]=a):a=t[0];var i=r("useIGDSEntryPointDialog")(r("PolarisActorGatewayDialog.entrypoint"),a),l=i[0],s=c(!1),d;t[1]!==e.slot?(d=function(n){return n.qp[e.slot].qpDismissed},t[1]=e.slot,t[2]=d):d=t[2];var m=o("PolarisReactRedux.react").useSelector(d),p,_;return t[3]!==n||t[4]!==m||t[5]!==e.slot||t[6]!==l?(p=function(){s.current===!1&&!m&&(s.current=!0,l({},function(){n(o("PolarisQPActions").dismissQP(e.slot))}))},_=[l,n,e.slot,m],t[3]=n,t[4]=m,t[5]=e.slot,t[6]=l,t[7]=p,t[8]=_):(p=t[7],_=t[8]),u(p,_),null}l.default=d}),98);
__d("PolarisQPHelperModule.react",["cx","invariant","$InternalEnum","ConstUriUtils","PolarisExternalLink.react","PolarisFastLink.react","PolarisGenericStrings","isStringNullOrEmpty","joinClasses","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react"));function d(e){var t=/igw:\/\/(.*)/,n=/igw:\/\/root\/(.*)/,r=e.match(t),o=e.match(n);return r?o?o[1]:r[1]:null}function m(e,t){if(!r("isStringNullOrEmpty")(t)){var n=d(t);if(!r("isStringNullOrEmpty")(n))return c.jsx(r("PolarisFastLink.react"),{href:n,children:e});var o=t;if(t.includes("webview")){if(o=decodeURIComponent(t.split("url=")[1]),o.includes("www.instagram.com"))return c.jsx(r("PolarisFastLink.react"),{href:o.split("www.instagram.com")[1],children:e});o.includes("https://")||(o="https://"+o)}return c.jsx(r("PolarisExternalLink.react"),{href:o,children:e})}return e}function p(e){var t=o("react-compiler-runtime").c(12),n=e.Button,r=e.callback,a=e.type;n||u(0,51593);var i=e[a+"Action"];if(!i)return null;var l=a[0].toUpperCase()+a.slice(1),s=e["on"+l+"ButtonClick"],d=a==="primary",p;t[0]!==i.dismiss_promotion||t[1]!==r||t[2]!==s?(p=function(t){r(s,i.dismiss_promotion,t)},t[0]=i.dismiss_promotion,t[1]=r,t[2]=s,t[3]=p):p=t[3];var _=p,f;t[4]!==n||t[5]!==i||t[6]!==_||t[7]!==d?(f=i?c.jsx(n,{action:i,isPrimary:d,onClick:_}):null,t[4]=n,t[5]=i,t[6]=_,t[7]=d,t[8]=f):f=t[8];var g=f,h;return t[9]!==i||t[10]!==g?(h=i&&g?m(g,i.url):null,t[9]=i,t[10]=g,t[11]=h):h=t[11],h}function _(e){var t=o("react-compiler-runtime").c(4),n=e.className,a=e.dismissAction,i=e.onClick,l;return t[0]!==n||t[1]!==a||t[2]!==i?(l=a?c.jsx("button",{className:r("joinClasses")(n,"_9_57","_a9_t"),onClick:i,children:c.jsx("span",{className:"_a9_u",children:o("PolarisGenericStrings").CLOSE_TEXT})}):null,t[0]=n,t[1]=a,t[2]=i,t[3]=l):l=t[3],l}function f(e){var t=o("react-compiler-runtime").c(5),n=e.className,a=e.image,i=e.size;if(!a)return null;a.uri!=null&&a.uri!==""&&(a.spriteClass==null||a.spriteClass==="")||(a.uri==null||a.uri==="")&&a.spriteClass!=null&&a.spriteClass!==""||u(0,51604);var l;return t[0]!==n||t[1]!==a.spriteClass||t[2]!==a.uri||t[3]!==i?(l=a.uri!=null&&a.uri!==""?c.jsx("img",{alt:"",className:n,height:i,src:a.uri,width:i}):c.jsx("div",{className:r("joinClasses")(n,a.spriteClass),height:i,width:i}),t[0]=n,t[1]=a.spriteClass,t[2]=a.uri,t[3]=i,t[4]=l):l=t[4],l}function g(e){var t=o("react-compiler-runtime").c(3),n=e.className,r=e.text,a;return t[0]!==n||t[1]!==r?(a=r&&r.text!=null&&r.text!==""&&r.text!==!1&&r.text!==0?c.jsx("div",{className:n,children:r.text}):null,t[0]=n,t[1]=r,t[2]=a):a=t[2],a}var h=n("$InternalEnum")({FX_FETA_PRE_MIGRATION_DIALOG:"fx_feta_pre_migration_dialog",FX_FETA_TOS_DIALOG:"fx_feta_tos_dialog",IG_UBI_INBOX_UPSELL:"/ig_ubi_inbox_upsell/",OREGON_CUSTOM_GENDER_CONSENT_URL:"/consent/"});function y(e){var t,n,r=o("ConstUriUtils").getUri(e),a=Object.keys((t=r==null?void 0:r.getQueryData())!=null?t:{}),i=r==null?void 0:r.removeQueryParams(a);if(i==null)return null;var l=h.cast(i==null?void 0:i.toString());if(l==null)return null;var s=(n=r==null?void 0:r.getQueryData())!=null?n:{};return{action:l,actionData:s}}l.getQPDeepLinkUrl=d,l.QPButton=p,l.QPDismiss=_,l.QPImage=f,l.QPText=g,l.QPCustomActionURL=h,l.getQPCustomActionDataFromUrl=y}),98);
__d("PolarisQPCelebBaitDialog.react",["fbt","IGCoreDialog.react","IGDSBox.react","IGRouter_DO_NOT_USE.react","MDCXWwwHelpControllerRouteBuilder","PolarisIGCoreDialogCircleMedia","PolarisQPHelperModule.react","URI","browserHistory_DO_NOT_USE","isStringNullOrEmpty","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=(function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,e.state={hideDialog:!1},e.$3=function(t){e.props.primaryAction&&(e.$2(e.props.primaryAction),e.props.onPrimaryButtonClick&&e.props.onPrimaryButtonClick(t))},e.$4=function(t){e.props.secondaryAction&&(e.$2(e.props.secondaryAction),e.props.onSecondaryButtonClick&&e.props.onSecondaryButtonClick(t))},e.$5=function(){e.props.dismissAction&&(e.$1(),e.props.onDismissButtonClick&&e.props.onDismissButtonClick())},babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.$1=function(){this.setState({hideDialog:!0})},a.$2=function(t){if(t.dismiss_promotion&&this.$1(),t.url){var e=o("PolarisQPHelperModule.react").getQPDeepLinkUrl(t.url);r("isStringNullOrEmpty")(e)?o("browserHistory_DO_NOT_USE").redirect(t.url):this.props.history.push(e)}},a.render=function(){var t,n;if(this.state.hideDialog)return null;var a=this.props,i=a.image,l=a.imageSize,u=a.primaryAction,d=a.secondaryAction,m=a.title,p=c.jsx(r("PolarisIGCoreDialogCircleMedia"),{icon:c.jsx(o("PolarisQPHelperModule.react").QPImage,{image:i,size:l})}),_=c.jsxs(c.Fragment,{children:[c.jsx(r("IGDSBox.react"),{marginBottom:6,children:s._(/*BTDS*/"We're using facial recognition technology to help detect and stop scams that use your image. Learn how we use this technology by choosing Learn more below.")}),c.jsx(r("IGDSBox.react"),{children:s._(/*BTDS*/"You can turn this off at any time in Accounts Centre.")})]});return c.jsxs(o("IGCoreDialog.react").IGCoreDialog,{body:_,media:p,onModalClose:this.$5,title:m==null?void 0:m.text,children:[u&&c.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$3,children:(t=u.title)==null?void 0:t.text}),c.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{onClick:function(n){var t,o=(t=r("MDCXWwwHelpControllerRouteBuilder").buildUri({rest:"1265316287987507"}).getQualifiedUri())==null?void 0:t.setDomain("meta.com");o!=null&&(e||(e=r("URI"))).goURIOnWindow(o,window.open("","_blank"))},children:s._(/*BTDS*/"Learn more")}),d&&c.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.$4,children:(n=d.title)==null?void 0:n.text})]})},n})(c.Component),m=o("IGRouter_DO_NOT_USE.react").withIGRouter(d);l.default=m}),226);
__d("useConsentTemplatePromptHistory",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useState;function u(e){var t=s([e]),n=t[0],r=t[1],o=function(t){r(function(e){return[].concat(e,[t])})},a=function(){var e=n[n.length-1];return r(function(e){return e.slice(0,-1)}),e},i=n[n.length-1];return{currentConsentPrompt:i,popConsentPrompt:a,pushConsentPrompt:o}}l.default=u}),98);
__d("PolarisQPConsentExperiencesKitDialog.react",["BaseModal.react","ConsentTemplateActionCallbacksContext","ConsentTemplateConsentExperienceIDContext","ConsentTemplateFlow.type","ConsentTemplateFlowContext","ConsentTemplateGeneralizedConsentLoggingContext","ConsentTemplatePromptScreen.react","ConsentTemplateSurfaceContext","react","react-compiler-runtime","useConsentTemplatePromptHistory"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(3),n=e.currentConsentPrompt,a=e.surface,i;return t[0]!==n||t[1]!==a?(i=s.jsx(r("ConsentTemplatePromptScreen.react"),{currentConsentPrompt:n,surface:a}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}function p(e){var t=o("react-compiler-runtime").c(21),n=e.onDismissButtonClick,a=e.parameters,i=e.promotionId,l=d(!1),u=l[0],c=l[1],p;if(t[0]!==a||t[1]!==i){var f,g,h;p=(f=(g=a==null||(h=a.find(_))==null?void 0:h.value)!=null?g:i)!=null?f:"consent_experience_kit_ig",t[0]=a,t[1]=i,t[2]=p}else p=t[2];var y=p,C=r("useConsentTemplatePromptHistory")(o("ConsentTemplateFlow.type").ConsentTemplateFlow.UOOM),b=C.currentConsentPrompt,v=C.popConsentPrompt,S=C.pushConsentPrompt,R;t[3]!==n?(R=function(){c(!0),n&&n()},t[3]=n,t[4]=R):R=t[4];var L=R,E;t[5]!==L?(E=function(){L()},t[5]=L,t[6]=E):E=t[6];var k=E;if(u||!b)return null;var I;t[7]!==b?(I=s.jsx(m,{currentConsentPrompt:b,surface:"instagram_web"}),t[7]=b,t[8]=I):I=t[8];var T;t[9]!==b||t[10]!==k||t[11]!==v||t[12]!==S||t[13]!==I?(T=s.jsx(o("ConsentTemplateSurfaceContext").ConsentTemplateSurfaceContextProvider,{surface:"instagram_web",children:s.jsx(o("ConsentTemplateFlowContext").ConsentTemplateFlowContextProvider,{flow:o("ConsentTemplateFlow.type").ConsentTemplateFlow.UOOM,children:s.jsx(o("ConsentTemplateActionCallbacksContext").ConsentTemplateActionCallbacksProvider,{currentConsentPrompt:b,onCloseDialog:k,popConsentPrompt:v,pushConsentPrompt:S,children:I})})}),t[9]=b,t[10]=k,t[11]=v,t[12]=S,t[13]=I,t[14]=T):T=t[14];var D;t[15]!==y||t[16]!==T?(D=s.jsx(o("ConsentTemplateGeneralizedConsentLoggingContext").ConsentTemplateGeneralizedConsentLoggingContextProvider,{gclExperienceID:y,gclSource:"quick_promotion",gclTarget:"templates_cek",children:T}),t[15]=y,t[16]=T,t[17]=D):D=t[17];var x;return t[18]!==y||t[19]!==D?(x=s.jsx(r("BaseModal.react"),{stackingBehavior:"above-nav",children:s.jsx(o("ConsentTemplateConsentExperienceIDContext").ConsentTemplateConsentExperienceIDContextProvider,{consentExperienceID:y,children:D})}),t[18]=y,t[19]=D,t[20]=x):x=t[20],x}function _(e){return e.key==="consent_experience_id"}l.default=p}),98);
__d("PolarisQPContainer.react",["PolarisLogger","PolarisQPConstants","nullthrows","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,t.$4=function(){t.$3(o("PolarisQPConstants").OBJECT_IDS.primary)},t.$5=function(){t.$3(o("PolarisQPConstants").OBJECT_IDS.secondary)},t.$6=function(){t.$3(o("PolarisQPConstants").OBJECT_IDS.dismiss)},babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.$1=function(){var e=this.props,t=e.promotionId,n=e.surfaceId;return{nux_id:r("nullthrows")(n),promotion_id:t}},n.componentDidMount=function(){this.props.component&&this.$2()},n.$3=function(t){var e=this.$1();o("PolarisLogger").logQuickPromotionEvent(o("PolarisQPConstants").LOG_EVENTS.click,babelHelpers.extends({object_id:t},e))},n.$2=function(){o("PolarisLogger").logQuickPromotionEvent(o("PolarisQPConstants").LOG_EVENTS.view,this.$1())},n.render=function(){var e=this.props.component,t=this.props,n=t.body,r=t.bulletList,o=t.dismissAction,a=t.image,i=t.imageSize,l=t.parameters,u=t.primaryAction,c=t.refetchPromotions,d=t.secondaryAction,m=t.slot,p=t.title;return e!=null&&s.jsx(e,{body:n,bulletList:r,dismissAction:o,image:a,imageSize:i,onDismissButtonClick:this.$6,onPrimaryButtonClick:this.$4,onSecondaryButtonClick:this.$5,parameters:l,primaryAction:u,refetchPromotions:c,secondaryAction:d,slot:m,title:p})},t})(s.PureComponent);l.default=u}),98);
__d("PolarisQPFetaAccountAutoMigrationDialog.react",["FXFetaMigrationMomentPromptDialog.entrypoint","react","react-compiler-runtime","useIGDSEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.useEffect,m=u.useRef;function p(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={},e[0]=t):t=e[0];var n=r("useIGDSEntryPointDialog")(r("FXFetaMigrationMomentPromptDialog.entrypoint"),t,void 0,_),a=n[0],i=m(!1),l,s;return e[1]!==a?(l=function(){i.current===!1&&(i.current=!0,a({routeProps:{noticeType:"IG_MIGRATION_MOMENT_NOTICE"}}))},s=[a],e[1]=a,e[2]=l,e[3]=s):(l=e[2],s=e[3]),d(l,s),null}function _(){return c.jsx("div",{})}_.displayName=_.name+" [from "+i.id+"]",l.default=p}),98);
__d("PolarisQPFetaSavePasswordInterstitial.react",["CAAFetaSavePasswordInterstitial.entrypoint","PolarisOneTapLogin","react","react-compiler-runtime","useIGDSEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.useEffect,m=u.useRef;function p(e){var t=o("react-compiler-runtime").c(9),n=e.onDismissButtonClick,a=e.onPrimaryButtonClick,i=e.onSecondaryButtonClick,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={},t[0]=l):l=t[0];var s=r("useIGDSEntryPointDialog")(r("CAAFetaSavePasswordInterstitial.entrypoint"),l,void 0,_),u=s[0],c=m(!1),p;t[1]===Symbol.for("react.memo_cache_sentinel")?(p=o("PolarisOneTapLogin").isCAASpiDialogEligible(),t[1]=p):p=t[1];var f=p,g;t[2]!==n||t[3]!==a||t[4]!==i||t[5]!==u?(g=function(){!c.current&&f&&(c.current=!0,u({next:null,onDismissButtonClick:n,onPrimaryButtonClick:a,onSecondaryButtonClick:i}))},t[2]=n,t[3]=a,t[4]=i,t[5]=u,t[6]=g):g=t[6];var h;return t[7]!==u?(h=[u,c,f],t[7]=u,t[8]=h):h=t[8],d(g,h),null}function _(){return c.jsx("div",{})}_.displayName=_.name+" [from "+i.id+"]",l.default=p}),98);
__d("PolarisQPStandardMegaphone.react",["cx","IGDSBox.react","InstagramODS","PolarisIGCoreButton.react","PolarisQPHelperModule.react","PolarisReactRedux.react","PolarisUA","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(10),n=e.action,a=e.isPrimary,i=e.onClick,l=a?2:3,s=!a,c=(a?"_a9_v":"")+(a?"":" _a9_w"),d;t[0]!==c?(d={__className:c},t[0]=c,t[1]=d):d=t[1];var m;t[2]!==n.title.text||t[3]!==i||t[4]!==s||t[5]!==d?(m=u.jsx(r("PolarisIGCoreButton.react"),{borderless:s,dangerouslySetClassName:d,fullWidth:!0,onClick:i,children:n.title.text}),t[2]=n.title.text,t[3]=i,t[4]=s,t[5]=d,t[6]=m):m=t[6];var p;return t[7]!==l||t[8]!==m?(p=u.jsx(r("IGDSBox.react"),{marginTop:l,position:"relative",children:m}),t[7]=l,t[8]=m,t[9]=p):p=t[9],p}var d=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.state={hideMegaphone:!1},t.$1=function(e,n,r){n===void 0&&(n=!0),n&&t.setState({hideMegaphone:!0}),e&&e(r)},t.$2=function(e){e.preventDefault(),t.$1(t.props.onDismissButtonClick,!0,e)},babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.componentDidMount=function(){r("InstagramODS").incr("web.notifications.react_qp_render")},n.render=function(){if(this.props.showCookieModal===!0||this.state.hideMegaphone)return null;var e=this.props,t=e.body,n=e.dismissAction,a=e.image,i=e.title,l=e.type,s=l===void 0?"default":l;return u.jsx(r("IGDSBox.react"),{marginBottom:o("PolarisUA").isMobile()?0:8,position:"relative",children:u.jsx("section",{className:"_a9_x"+(s==="loggedOut"?" _a9_y":"")+(s==="loggedInHalfSheet"?" _a9_z":""),children:u.jsxs("div",{className:"_a9_-",children:[u.jsx(o("PolarisQPHelperModule.react").QPDismiss,{className:"_a9__",dismissAction:n,onClick:this.$2}),u.jsxs("div",{className:"_aa00",children:[u.jsx(o("PolarisQPHelperModule.react").QPImage,{className:"_aa01",image:a,size:this.props.imageSize}),u.jsxs("span",{className:"_aa02",children:[u.jsx(o("PolarisQPHelperModule.react").QPText,{className:"_aa03",text:i}),u.jsx(o("PolarisQPHelperModule.react").QPText,{className:"_aa04",text:t})]}),u.jsxs("span",{className:"_aa05",children:[u.jsx(o("PolarisQPHelperModule.react").QPButton,{Button:c,callback:this.$1,onPrimaryButtonClick:this.props.onPrimaryButtonClick,primaryAction:this.props.primaryAction,type:"primary"}),u.jsx(o("PolarisQPHelperModule.react").QPButton,{Button:c,callback:this.$1,onSecondaryButtonClick:this.props.onSecondaryButtonClick,secondaryAction:this.props.secondaryAction,type:"secondary"})]})]})]})})})},t})(u.Component);function m(e){return{showCookieModal:e.cookieModal.visible}}var p=o("PolarisReactRedux.react").connect(m)(d);l._QPStandardMegaphone=d,l.QPStandardMegaphone=p}),98);
__d("PolarisQPFooterBanner.react",["PolarisQPStandardMegaphone.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(12);r("vulture")("mydj5Sytmr4blH7HXPTrkxbU4Xs=");var n=e.body,a=e.dismissAction,i=e.image,l=e.imageSize,u=e.onDismissButtonClick,c=e.onPrimaryButtonClick,d=e.onSecondaryButtonClick,m=e.primaryAction,p=e.secondaryAction,_=e.slot,f=e.title,g;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==u||t[5]!==c||t[6]!==d||t[7]!==m||t[8]!==p||t[9]!==_||t[10]!==f?(g=s.jsx(o("PolarisQPStandardMegaphone.react").QPStandardMegaphone,{body:n,dismissAction:a,image:i,imageSize:l,onDismissButtonClick:u,onPrimaryButtonClick:c,onSecondaryButtonClick:d,primaryAction:m,secondaryAction:p,slot:_,title:f,type:"loggedOut"}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=u,t[5]=c,t[6]=d,t[7]=m,t[8]=p,t[9]=_,t[10]=f,t[11]=g):g=t[11],g}l.default=u}),98);
__d("PolarisQPFullscreenBulletListInterstitial.react",["cx","fbt","IGDSAdPanoOutline24Icon.react","IGDSIconButton.react","IGDSLicensingPanoOutline24Icon.react","IGDSMetaLogoPrimaryIcon.react","IGDSPaymentsPanoOutline24Icon.react","IGDSShieldPanoOutlineIcon.react","IGDSUserCirclePrismOutline24Icon.react","IGDSUsersPrismOutline24Icon.react","IGDSXPanoOutlineIcon.react","PolarisFXAccountCenterStrings","PolarisFastLink.react","PolarisGenericStrings","PolarisQPHelperModule.react","react"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.state={hideInterstitial:!1},t.$2=function(e){e.preventDefault(),t.$1(t.props.onDismissButtonClick,!0,e)},babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.$1=function(t,n,r){n===void 0&&(n=!0),n&&(this.setState({hideInterstitial:!0}),this.props.refetchPromotions!=null&&this.props.refetchPromotions()),t&&t(r)},n.render=function(){var e,t,n;if(this.state.hideInterstitial)return null;var a=this.props.bulletList,i=[c.jsx(r("IGDSUserCirclePrismOutline24Icon.react"),{alt:u._(/*BTDS*/"User circle icon on Accounts Centre interstitial"),color:"ig-primary-text",size:24},"user-circle-prism"),c.jsx(r("IGDSUsersPrismOutline24Icon.react"),{alt:u._(/*BTDS*/"Users icon on Accounts Centre interstitial"),color:"ig-primary-text",size:24},"users-prism"),c.jsx(r("IGDSShieldPanoOutlineIcon.react"),{alt:u._(/*BTDS*/"Shield icon on Accounts Centre interstitial"),color:"ig-primary-text",size:24},"shield-pano"),c.jsx(r("IGDSLicensingPanoOutline24Icon.react"),{alt:u._(/*BTDS*/"Licensing icon on Accounts Centre interstitial"),color:"ig-primary-text",size:24},"licensing-pano"),c.jsx(r("IGDSAdPanoOutline24Icon.react"),{alt:u._(/*BTDS*/"Ad icon on Accounts Centre interstitial"),color:"ig-primary-text",size:24},"ad-pano"),c.jsx(r("IGDSPaymentsPanoOutline24Icon.react"),{alt:u._(/*BTDS*/"Payments icon on Accounts Centre interstitial"),color:"ig-primary-text",size:24},"payments-pano")];return c.jsx("div",{className:"_a9-g",children:c.jsxs("div",{className:"_a9-h",children:[c.jsx("div",{className:"_a9-i",children:c.jsx(r("IGDSIconButton.react"),{onClick:this.$2,padding:0,children:c.jsx(r("IGDSXPanoOutlineIcon.react"),{alt:o("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:16})})}),c.jsx("div",{className:"_a9-j",children:c.jsx(r("IGDSMetaLogoPrimaryIcon.react"),{alt:o("PolarisFXAccountCenterStrings").WATERMARK_FAMILY_APPS_LOGO_ALT,color:"ig-primary-text",size:60})}),c.jsx(o("PolarisQPHelperModule.react").QPText,{className:"_a9-k",text:this.props.title}),c.jsx("div",{className:"_a9-l",children:c.jsxs("p",{className:"_a9-m",children:[(e=this.props.body)==null?void 0:e.text," ",c.jsx(r("PolarisFastLink.react"),{className:"_a9-n",href:(t=this.props.secondaryAction)==null?void 0:t.url,target:"_blank",children:(n=this.props.secondaryAction)==null?void 0:n.title.text})]})}),a!=null?c.jsx("ul",{children:a.map(function(e,t){return c.jsxs("li",{className:"_a9-o",children:[i[t],c.jsx(o("PolarisQPHelperModule.react").QPText,{className:"_a9-p",text:{text:e.title}})]},e.title)})}):null]})})},t})(c.Component);l.default=d}),226);
__d("PolarisQPFullscreenInterstitial.react",["cx","IGDSBox.react","IGDSIconButton.react","IGDSXPanoOutlineIcon.react","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisQPHelperModule.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=o("react-compiler-runtime").c(6),n=e.action,a=e.isPrimary,i=e.onClick,l;t[0]!==i?(l=function(t){i(),t.preventDefault()},t[0]=i,t[1]=l):l=t[1];var s=l,c=!a,d;return t[2]!==n.title.text||t[3]!==s||t[4]!==c?(d=u.jsx(r("PolarisIGCoreButton.react"),{borderless:c,fullWidth:!0,onClick:s,children:n.title.text}),t[2]=n.title.text,t[3]=s,t[4]=c,t[5]=d):d=t[5],d}var m=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.state={hideInterstitial:!1},t.$1=function(e,n,r){n===void 0&&(n=!0),n&&t.setState({hideInterstitial:!0}),e&&e(r)},t.$2=function(e){e.preventDefault(),t.$1(t.props.onDismissButtonClick,!0,e)},babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.render=function(){return this.state.hideInterstitial?null:u.jsx("div",{className:"_a9_4",children:u.jsxs("div",{className:"_a9_5",children:[u.jsx("div",{className:"_aqt-",children:u.jsx(r("IGDSIconButton.react"),{onClick:this.$2,padding:0,children:u.jsx(r("IGDSXPanoOutlineIcon.react"),{alt:o("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:16})})}),u.jsx(o("PolarisQPHelperModule.react").QPImage,{className:"_a9_6",image:this.props.image,size:this.props.imageSize}),u.jsx(o("PolarisQPHelperModule.react").QPText,{className:"_a9_7",text:this.props.title}),u.jsx(o("PolarisQPHelperModule.react").QPText,{className:"_a9_8",text:this.props.body}),u.jsx(o("PolarisQPHelperModule.react").QPButton,{Button:d,callback:this.$1,onPrimaryButtonClick:this.props.onPrimaryButtonClick,primaryAction:this.props.primaryAction,type:"primary"}),u.jsx(r("IGDSBox.react"),{margin:2,position:"relative",children:u.jsx(o("PolarisQPHelperModule.react").QPButton,{Button:d,callback:this.$1,onSecondaryButtonClick:this.props.onSecondaryButtonClick,secondaryAction:this.props.secondaryAction,type:"secondary"})})]})})},t})(u.Component);l.default=m}),98);
__d("PolarisQPNidoEnrollmentInterstitial.react",["PolarisDismissEntry","PolarisNidoEnrollmentDialog.entrypoint","react","react-compiler-runtime","useIGDSEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={routeParams:{},routeProps:{}},e[0]=t):t=e[0];var n=r("useIGDSEntryPointDialog")(r("PolarisNidoEnrollmentDialog.entrypoint"),t),a=n[0],i=c(!1),l,s;return e[1]!==a?(l=function(){i.current===!1&&!o("PolarisDismissEntry").isDismissed(o("PolarisDismissEntry").NIDO_ENROLLMENT_TYPE)&&(i.current=!0,a({}))},s=[a],e[1]=a,e[2]=l,e[3]=s):(l=e[2],s=e[3]),u(l,s),null}l.default=d}),98);
__d("PolarisQPNidoGraduationInterstitial.react",["PolarisDismissEntry","PolarisNidoGraduationDialog.entrypoint","react","react-compiler-runtime","useIGDSEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={routeParams:{},routeProps:{}},e[0]=t):t=e[0];var n=r("useIGDSEntryPointDialog")(r("PolarisNidoGraduationDialog.entrypoint"),t),a=n[0],i=c(!1),l,s;return e[1]!==a?(l=function(){i.current===!1&&!o("PolarisDismissEntry").isDismissed(o("PolarisDismissEntry").NIDO_GRADUATION_TYPE)&&(i.current=!0,a({}))},s=[a],e[1]=a,e[2]=l,e[3]=s):(l=e[2],s=e[3]),u(l,s),null}l.default=d}),98);
__d("SaharaCometConsentExtractExperienceFromExtraParams",[],(function(t,n,r,o,a,i){"use strict";var e="__aectx__";function l(t){if(t==null||!Object.prototype.hasOwnProperty.call(t,e))return null;var n=t[e];if(typeof n!="string")return null;var r=JSON.parse(n);return r}i.maybeExtractConsentExperienceFromExtraParams=l}),66);
__d("SaharaCometConsentClientSupportedFeatures.entrypointutils",[],(function(t,n,r,o,a,i){"use strict";var e={components:["HEADER_TITLE","HEADER_CONTENT","BUTTONS_PRIMARY","BUTTONS_SECONDARY","CONTENT_PARAGRAPH","CONTENT_LIST","SECTION_TITLE","SECTION_CONTENT","CONTENT_TOGGLE"]};i.default=e}),66);
__d("SaharaCometConsentFlowContextualRootQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="33416643834650612"}),null);
__d("SaharaCometConsentFlowContextualRootQuery$Parameters",["SaharaCometConsentFlowContextualRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("SaharaCometConsentFlowContextualRootQuery_facebookRelayOperation"),metadata:{},name:"SaharaCometConsentFlowContextualRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("SaharaCometConsentFlowContextual.entrypoint",["ConsentFlowName","ConsentSurface","FBLogger","JSResourceForInteraction","SaharaCometConsentClientSupportedFeatures.entrypointutils","SaharaCometConsentFlowContextualRootQuery$Parameters","WebPixelRatio","getGraphQLEnumSafe"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e,n=r("getGraphQLEnumSafe")(r("ConsentFlowName"),t.routeParams.flow);if(n==null){var a;throw r("FBLogger")("consent_ui_infra").mustfixThrow("Could not find associated GraphQL enum for flowName: "+((a=t.routeParams.flow)!=null?a:"null"),"consent_ui_infra")}var i=r("getGraphQLEnumSafe")(r("ConsentSurface"),t.routeParams.surface);if(i==null){var l;throw r("FBLogger")("consent_ui_infra").mustfixThrow("Could not find associated GraphQL enum for surface: "+((l=t.routeParams.surface)!=null?l:"null"),"consent_ui_infra")}return{queries:{saharaCometConsentContextualRootQueryRef:{parameters:r("SaharaCometConsentFlowContextualRootQuery$Parameters"),variables:{client_supported_features:r("SaharaCometConsentClientSupportedFeatures.entrypointutils"),device_id:t.routeParams.device_id,experience_id:t.routeParams.experience_id,extra_params_json:(e=t.routeParams.extra_params_json)!=null?e:"{}",flow_name:n,runtime:"SAHARA",scale:o("WebPixelRatio").get(),source:t.routeParams.source,surface:i}}}}},root:r("JSResourceForInteraction")("SaharaCometConsentFlowContextualRoot.react").__setRef("SaharaCometConsentFlowContextual.entrypoint")};l.default=e}),98);
__d("useBaseDynamicEntryPointDialog",["CometDialogContext","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useContext,m=u.useEffect,p=u.useRef;function _(e){var t=e.entryPoint,n=e.environmentProvider,a=e.onClose,i=e.otherProps,l=e.overrideRelayEnv,u=e.preloadedEntryPoint,c=e.preloadParams,d=o("CometRelay").useEntryPointLoader(n,t),_=d[0],f=d[1],g=d[2],h=_!=null?_:u,y=p(null);m(function(){return y.current!=null&&(r("clearTimeout")(y.current),y.current=null),h.isDisposed&&f(c),function(){y.current=r("setTimeout")(function(){_?g():u.dispose(),y.current=null},6e4)}},[g,h.isDisposed,u,c,f,_]);var C=babelHelpers.extends({},i,{onClose:a}),b=s.jsx(o("CometRelay").EntryPointContainer,{entryPointReference:u,props:C});return l!=null?s.jsx(o("CometRelay").RelayEnvironmentProvider,{environment:l,children:b}):b}_.displayName=_.name+" [from "+i.id+"]";function f(e,t,n,a){var i=r("useCometRelayEntrypointContextualEnvironmentProvider")(a),l=d(r("CometDialogContext"));return c(function(s,u,c,d,m){var p=o("CometRelay").loadEntryPoint(i,e,s),f=_,g=function(){c&&c.apply(void 0,arguments),p.dispose()};l(r("CometSuspendedDialogImpl.react"),{dialog:f,dialogProps:{entryPoint:e,environmentProvider:i,otherProps:u,overrideRelayEnv:a,preloadedEntryPoint:p,preloadParams:s},fallback:n},{loadType:"entrypoint",preloadTrigger:t,tracePolicy:d!=null?d:r("tracePolicyFromResource")("comet.dialog",e.root)},g,{replaceCurrentDialog:m})},[i,e,l,n,t,a])}l.default=f}),98);
__d("useSaharaCometConsentFlowContextualAPI__EXPERIMENTAL",["SaharaCometConsentExtractExperienceFromExtraParams","SaharaCometConsentFlowContextual.entrypoint","cr:567","react","useBaseDynamicEntryPointDialog","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=r("react")),c=(e||(e=o("react"))).useCallback;function d(e){e===void 0&&(e="facebook_comet");var t=r("useBaseDynamicEntryPointDialog")(r("SaharaCometConsentFlowContextual.entrypoint"),void 0,n("cr:567")!=null?n("cr:567"):function(){return u.jsx("div",{})}),a=c(function(n){var a,i=n.callbacks,l=n.device_id,s=n.flow,u=n.onError,c=n.params,d=n.source,m=o("SaharaCometConsentExtractExperienceFromExtraParams").maybeExtractConsentExperienceFromExtraParams(c),p=(a=m==null?void 0:m.id)!=null?a:r("uuidv4")(),_={device_id:l,experience_id:p,extra_params_json:JSON.stringify(c),flow:s,source:d,surface:e};t({routeParams:_,routeProps:{}},{flow:s,onClose:function(){},onError:u,source:d,userlandConsentExperienceCallbacks:i})},[t,e]);return a}l.default=d}),98);
__d("usePolarisQPCustomActionLaunchOregonCustomGenderConsent",["ConsentFlowName","FBLogger","emptyFunction","getJSEnumSafe","react-compiler-runtime","useSaharaCometConsentFlowContextualAPI__EXPERIMENTAL"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(2),t=r("useSaharaCometConsentFlowContextualAPI__EXPERIMENTAL")("instagram_web"),n;return e[0]!==t?(n=function(n){var e=u(n),o=s(e==null?void 0:e.flow);if(o==null){r("FBLogger")("consent_ui_infra").mustfix("cannot parse consent flow name: %s from custom action url for custom gender consent sent by QP config");return}var a=e==null?void 0:e.source;if(a==null){r("FBLogger")("consent_ui_infra").mustfix("cannot parse consent flow source: %s from custom action url for custom gender consent sent by QP config",a);return}t({flow:o,onError:r("emptyFunction"),source:a})},e[0]=t,e[1]=n):n=e[1],n}function s(e){var t=Object.keys(r("ConsentFlowName")).find(function(t){return r("ConsentFlowName")[t]===e});return t==null?null:r("getJSEnumSafe")(r("ConsentFlowName"),t)}function u(e){var t={};for(var n of Object.entries(e)){var r=n[0],o=n[1];t[r]=typeof o=="string"?o:String(o)}return t}l.default=e}),98);
__d("usePolarisQPCustomClickHandler",["FXFetaPreMigrationDialog.entrypoint","FXFetaToSDialog.entrypoint","IGDUBIUpsellInterstitial.entrypoint","PolarisQPHelperModule.react","react","react-compiler-runtime","useIGDSEntryPointDialog","usePolarisQPCustomActionLaunchOregonCustomGenderConsent"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(){var e=o("react-compiler-runtime").c(8),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={routeProps:{entry_point:"fx_feta_pre_migration_dialog"}},e[0]=t):t=e[0];var n=r("useIGDSEntryPointDialog")(r("FXFetaPreMigrationDialog.entrypoint"),t,void 0,d),a=n[0],i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i={routeProps:{entry_point:"fx_feta_migration_tos_dialog"}},e[1]=i):i=e[1];var l=r("useIGDSEntryPointDialog")(r("FXFetaToSDialog.entrypoint"),i,void 0,c),s=l[0],u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u={},e[2]=u):u=e[2];var m=r("useIGDSEntryPointDialog")(r("IGDUBIUpsellInterstitial.entrypoint"),u),p=m[0],_=r("usePolarisQPCustomActionLaunchOregonCustomGenderConsent")(),f;return e[3]!==_||e[4]!==a||e[5]!==s||e[6]!==p?(f=function(t,n){e:switch(t){case o("PolarisQPHelperModule.react").QPCustomActionURL.FX_FETA_PRE_MIGRATION_DIALOG:{a({routeProps:{noticeType:"IG_PRE_MIGRATION_NOTICE",useDialog:!0}});break e}case o("PolarisQPHelperModule.react").QPCustomActionURL.FX_FETA_TOS_DIALOG:{s({routeProps:{noticeType:"IG_TERMS_OF_SERVICE_NOTICE",useDialog:!0}});break e}case o("PolarisQPHelperModule.react").QPCustomActionURL.IG_UBI_INBOX_UPSELL:{p({});break e}case o("PolarisQPHelperModule.react").QPCustomActionURL.OREGON_CUSTOM_GENDER_CONSENT_URL:_(n)}},e[3]=_,e[4]=a,e[5]=s,e[6]=p,e[7]=f):f=e[7],f}function c(){return s.jsx("div",{})}c.displayName=c.name+" [from "+i.id+"]";function d(){return s.jsx("div",{})}d.displayName=d.name+" [from "+i.id+"]",l.default=u}),98);
__d("useWebBloksIGHandleQPActionClick",["PolarisLogger","PolarisNavigationUtils","PolarisQPConstants","PolarisQPHelperModule.react","WebBloksAsyncActions","isStringNullOrEmpty","react","usePolarisQPCustomClickHandler"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e,t){var n=r("usePolarisQPCustomClickHandler")(),a=s(function(a,i,l){if(o("PolarisLogger").logQuickPromotionEvent(o("PolarisQPConstants").LOG_EVENTS.click,babelHelpers.extends({},t,{object_id:l.toLowerCase()})),l==="DISMISS"||i.length===0){e(!1);return}var s=o("PolarisQPHelperModule.react").getQPCustomActionDataFromUrl(i);if(l==="PRIMARY"&&s!=null){var u=s.action,c=s.actionData;u!=null&&n(u,c),e(!1);return}var d=i.replace(/\\/g,""),m=o("PolarisQPHelperModule.react").getQPDeepLinkUrl(d);if(!r("isStringNullOrEmpty")(m))o("PolarisNavigationUtils").openURL(m);else if(d.includes("webview")){var p=decodeURIComponent(d.split("url=")[1]);p.includes("www.instagram.com")&&(p=p.split("www.instagram.com")[1]),o("PolarisNavigationUtils").openURL(p)}else if(d.includes("instagram://run_bloks_action")){var _,f=(_=d.split("?")[1])!=null?_:"",g=new URLSearchParams(f),h=g.get("bloks_app_id");switch(h){case"com.bloks.www.privacy.consent.prompt.action":{var y=g.get("params");y!=null&&o("WebBloksAsyncActions").executeAsyncActionCatch(a,h,JSON.parse(y));break}case"com.bloks.www.yp.supervision_launch_qp_landing.async":{var C=g.get("page_type");C!=null&&o("WebBloksAsyncActions").executeAsyncActionCatch(a,h,{page_type:C});break}case"com.bloks.www.nido.how_teen_account_keeps_you_safe.async":{o("WebBloksAsyncActions").executeAsyncActionCatch(a,h);break}case"com.bloks.www.youth_ads.tier_two_onboarding.async":{o("WebBloksAsyncActions").executeAsyncActionCatch(a,h);break}}}else o("PolarisNavigationUtils").openURL(d)},[n,t,e]);return a}l.default=u}),98);
__d("PolarisQPWWWBloksRenderer.react",["cx","IGWebBloksApp","PolarisLogger","PolarisQPConstants","PolarisUA","gkx","react","react-compiler-runtime","useWebBloksIGHandleQPActionClick"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useMemo,p=c.useState;function _(e){var t=o("react-compiler-runtime").c(16),n=e.bloks_payload,a=e.encrypted_logging_data,i=e.logging_data,l=e.promotionId,s=e.surfaceId,c=e.triggers,m=p(!0),_=m[0],f=m[1],g;t[0]!==a||t[1]!==i||t[2]!==l||t[3]!==s?(g={encrypted_instance_log_data:a,instance_log_data:i,nux_id:s,promotion_id:l},t[0]=a,t[1]=i,t[2]=l,t[3]=s,t[4]=g):g=t[4];var h=g,y,C;t[5]!==h?(y=function(){o("PolarisLogger").logQuickPromotionEvent(o("PolarisQPConstants").LOG_EVENTS.view,h)},C=[h],t[5]=h,t[6]=y,t[7]=C):(y=t[6],C=t[7]),d(y,C);var b=r("useWebBloksIGHandleQPActionClick")(f,h),v;t[8]!==b?(v={"ig.action.quickpromotion.HandleQuickPromotionActionClick":b},t[8]=b,t[9]=v):v=t[9];var S=v;if(!_)return null;var R=c!=null&&c.includes(o("PolarisQPConstants").TRIGGERS.instagram_feed_header),L="_a9_9"+(o("PolarisUA").isDesktop()&&R?" _aeky":"")+(r("gkx")("9971")?" _atdf":""),E;t[10]!==S||t[11]!==n?(E=u.jsx("div",{className:"_a9_b",children:u.jsx(r("IGWebBloksApp"),{actionOverrides:S,payload:n})}),t[10]=S,t[11]=n,t[12]=E):E=t[12];var k;return t[13]!==L||t[14]!==E?(k=u.jsx("div",{className:L,children:E}),t[13]=L,t[14]=E,t[15]=k):k=t[15],k}var f=u.memo(_);l.default=f}),98);
__d("PolarisQPManager.react",["FBLogger","PolarisQPActions","PolarisQPActorGatewayInterstitial.react","PolarisQPCelebBaitDialog.react","PolarisQPConsentExperiencesKitDialog.react","PolarisQPConstants","PolarisQPContainer.react","PolarisQPFetaAccountAutoMigrationDialog.react","PolarisQPFetaSavePasswordInterstitial.react","PolarisQPFooterBanner.react","PolarisQPFullscreenBulletListInterstitial.react","PolarisQPFullscreenInterstitial.react","PolarisQPNidoEnrollmentInterstitial.react","PolarisQPNidoGraduationInterstitial.react","PolarisQPStandardMegaphone.react","PolarisQPWWWBloksRenderer.react","PolarisReactRedux.react","polarisLogAction","polarisQPSelectors","react","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=e.WrapperComponent,n=t===void 0?s.Fragment:t,a=e.filter,i=e.slot,l=e.triggerContext,c=o("PolarisReactRedux.react").useSelector(o("polarisQPSelectors").getValidPromotion({filter:a,slot:i})),d=o("PolarisReactRedux.react").useDispatch();u(function(){c||d(o("PolarisQPActions").fetchBatchQuickPromotionAction(i,o("PolarisQPConstants").SLOT_TO_SURFACES[i],l))},[d,c,i,l]);var m=function(t){var e=o("PolarisQPConstants").TEMPLATES;switch(t.name){case e.standard_megaphone_ig:case e.standard_megaphone:return r("vulture")("-rayh2SNhLEcf9KlbZo4K_TX94Q="),o("PolarisQPStandardMegaphone.react").QPStandardMegaphone;case e.iig_celeb_bait_dialog:return r("PolarisQPCelebBaitDialog.react");case e.consent_experience_kit_interstitial:return r("PolarisQPConsentExperiencesKitDialog.react");case e.iig_fullscreen_bullet_list:return r("PolarisQPFullscreenBulletListInterstitial.react");case e.iig_celebration_fullscreen:case e.iig_fullscreen:case e.iig_fullscreen_rectangular_image:return r("PolarisQPFullscreenInterstitial.react");case e.instagram_direct_launcher:return r("vulture")("rzWEOYlGmHKjT0tJR5nFV-T6I5Q="),r("FBLogger")("ig_web").mustfix("IG Web does not currently support the instagram_direct_launcher template"),null;case e.instagram_footer_banner:return r("vulture")("t7Rz0wHrejVyVyxpg0dc1vMBT3A="),r("PolarisQPFooterBanner.react");case e.feta_account_auto_migration_dialog:return r("PolarisQPFetaAccountAutoMigrationDialog.react");case e.feta_save_password_interstitial:return r("PolarisQPFetaSavePasswordInterstitial.react");case e.ig_nido_enrollment:return r("PolarisQPNidoEnrollmentInterstitial.react");case e.ig_nido_graduation:return r("PolarisQPNidoGraduationInterstitial.react");case e.actor_gateway_interstitial:return r("PolarisQPActorGatewayInterstitial.react");default:return r("FBLogger")("ig_web").mustfix("Attempted to render unsupported QP template type: %s",t.name),null}};if(!c)return null;var p=c.bloks_view_v2,_=c.creatives,f=c.encrypted_logging_data,g=c.id,h=c.logging_data,y=c.surface_id,C=c.template,b=c.triggers,v=_[0],S=v.bullet_list,R=v.content,L=v.dismiss_action,E=v.image,k=v.primary_action,I=v.secondary_action,T=v.title;if(p){r("polarisLogAction")("bloksRenderQP",{target_id:g});var D=s.jsx(r("PolarisQPWWWBloksRenderer.react"),{bloks_payload:p.component.bundle.bloks_bundle_tree,encrypted_logging_data:f,logging_data:h,promotionId:g,surfaceId:y,triggers:b});return C.name==="fixed_banner_ig"?s.jsx(n,{children:s.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf x1fj9vlw",children:D})}):s.jsx(n,{children:D})}return s.jsx(n,{children:s.jsx(r("PolarisQPContainer.react"),{body:R,bulletList:S,component:m(C),dismissAction:L,image:E,imageSize:o("PolarisQPConstants").IMAGE_SIZES[C.name],parameters:C.parameters,primaryAction:k,promotionId:g,refetchPromotions:i===o("PolarisQPConstants").SLOTS.settings?function(){return d(o("PolarisQPActions").fetchBatchQuickPromotionAction(i,o("PolarisQPConstants").SLOT_TO_SURFACES[i],l))}:null,secondaryAction:I,slot:i,surfaceId:y,title:T})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("SaharaCometConsentFlowContextualConsentFallbackLoadingStateIGDS.react",["IGDSDialogLegacy.react","IGDSSpinner.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsx(r("IGDSDialogLegacy.react"),{closeButtonPosition:"hidden",enablePopInAnimation:!1,fixedHeight:!0,fixedWidth:!0,size:"large",children:s.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k xh8yej3",children:s.jsx(r("IGDSSpinner.react"),{})})})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("XMDSShadow.react",["react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={shadow:{borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxShadow:"xi1c1fh",boxSizing:"x1afcbsf",height:"x5yr21d",insetInlineStart:"x1o0tod",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x8knxv4",$$css:!0}};function d(t){var n=t.xstyle;return u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props([c.shadow,n])))}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("XMDSTooltipDeferredImpl.react",["BaseTooltipImpl.react","CDSTooltipStyles","XMDSShadow.react","XMDSSpinner.react","XMDSTextPairing.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["headline","tooltip"],s,u=s||(s=o("react")),c={shadow:{borderStartStartRadius:"xyjepno",borderStartEndRadius:"x15s83fx",borderEndEndRadius:"xdgutz0",borderEndStartRadius:"x1wjlvx0",$$css:!0}};function d(t){var n=t.headline,a=t.tooltip,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=u.jsx(r("XMDSSpinner.react"),{color:"primary-button",size:24}),s=a!=null?u.jsxs(u.Fragment,{children:[u.jsx(r("XMDSShadow.react"),{xstyle:c.shadow}),u.jsx(r("XMDSTextPairing.react"),{contentColor:"secondaryTextOnMedia",contentText:a,headlineColor:"secondaryTextOnMedia",headlineText:n,textPairingStyle:"headline3Meta"})]}):null;return u.jsx(r("BaseTooltipImpl.react"),babelHelpers.extends({},i,{loadingState:l,tooltip:s,xstyle:o("CDSTooltipStyles").CDSTooltipStyles.container}))}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);/*FB_PKG_DELIM*/
__d("LatencySensitiveType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({NORMAL:0,LOW:1,ULTRA_LOW:2}),l=e;i.default=l}),66);
__d("MaybeNativePromise",["Promise"],(function(t,n,r,o,a,i){"use strict";var e,l=t.Promise||e||(e=n("Promise"));(e||(e=n("Promise"))).resolve();var s=l;i.default=s}),66);
__d("OzActiveActiveFailoverNetworkRequestStreamHandler",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.onResponse=function(t,n){var e=t.headers;return e&&e.has("x-fb-video-replica")&&this.$1(t,n),null},t.onError=function(t,n){return null},e})();i.default=e}),66);
__d("OzBufferVTTCaptionsVisibleStrategy",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.isActive=function(){return!this.$1()},t.getBufferTarget=function(){return 0},e})();i.default=e}),66);
__d("OzCDNSignedQueryParams",["ConstUriUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1={}}var t=e.prototype;return t.$2=function(t,n,r){this.$1[t]==null&&(this.$1[t]={}),this.$1[t][n]=r},t.get=function(t){var e=this.$1[t];return e==null?null:e},t.update=function(t){var e=o("ConstUriUtils").getUri(t);if(e!=null){var n=e.getQueryParams(),r=e.getDomain()+e.getPath(),a=n.get("oe");a!=null&&this.$2(r,"oe",String(n.get("oe"))),n.get("oh")!=null&&this.$2(r,"oh",String(n.get("oh")))}},e})();l.default=e}),98);
__d("OzCustomParsers",[],(function(t,n,r,o,a,i){function e(){return new Map([["fbProjection",function(e){try{return e.Period[0].AdaptationSet[0].$.FBProjection||null}catch(e){return null}}],["hasInbandCaptionsFromAccessibility",function(e){var t=e.Period[0],n=t&&t.AdaptationSet[0].Accessibility;return n&&n[0]?n[0].$.schemeIdUri==="urn:scte:dash:cc:cea-608:2015":!1}],["hasInbandCaptionsFromUsingASRCaptions",function(e){var t=Number.parseInt(e.$.usingASRCaptions,0);return!isNaN(t)&&t!=0}],["hasInbandCaptionsFromIsUsingAsrCaptionsEmployeeDogfooding",function(e){var t=Number.parseInt(e.$.isUsingAsrCaptionsEmployeeDogfooding,0);return!isNaN(t)&&t!=0}],["hasVTTRepresentationCaptions",function(e){return e.Period[0].AdaptationSet.find(function(e){var t;return((t=e.$.mimeType)==null?void 0:t.startsWith("application"))&&e.$.lang!=null})!=null}],["isLiveTemplated",function(e){return e.$.FBIsLiveTemplated==="true"}],["isFBMS",function(e){return e.$.FBMS==="true"}],["isFBWasLive",function(e){return e.$.FBWasLive==="true"}],["loapStreamType",function(e){return e.$.loapStreamType?parseInt(e.$.loapStreamType,10):0}],["fbManifestIdentifier",function(e){var t;return(t=e.$.FBManifestIdentifier)!=null?t:""}],["lastVideoFrameTs",function(e){return e.$.lastVideoFrameTs?Number.parseInt(e.$.lastVideoFrameTs,10):null}],["currentServerTimeMs",function(e){return e.$.currentServerTimeMs?Number.parseInt(e.$.currentServerTimeMs,10):null}],["validationErrors",function(e){var t;return(t=e.$.validationErrors)!=null?t:""}]])}i.createOzCustomParser=e}),66);
__d("oz-player/manifests/OzSegmentOptions",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1=!1,this.$2=null}var t=e.prototype;return t.setSegmentNumDecisionTime=function(t){this.$2=t},t.getSegmentNumDecisionTime=function(){return this.$2},t.setIsDVLEnabled=function(t){this.$1=t},t.isDVLEnabled=function(){return this.$1},e})();i.default=e}),66);
__d("oz-player/shims/www/OzURIWWWImplConstUri",["ConstUriUtils","err"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.getQueryParams(),n={};return t.forEach(function(e,t){typeof e=="string"||typeof e=="number"?n[t]=e:n[t]=String(e)}),n}var s=(function(){function t(t){if(this.$1=o("ConstUriUtils").getUri(t),this.$1==null)throw r("err")("Invalid URI passed to OzURI");this.$2=e(this.$1)}var n=t.prototype;return n.addQueryData=function(n,r){var t=this.$1;if(typeof n=="string"){var o;t=(o=t)==null?void 0:o.addQueryParam(n,r===void 0?"":r)}else{var a,i=new Map;Object.keys(n).forEach(function(e){i.set(e,n[e])}),t=(a=t)==null?void 0:a.addQueryParams(i)}t!=null&&(this.$1=t,this.$2=e(this.$1))},n.getQueryData=function(){return this.$2},n.getDomain=function(){var e,t;return(e=(t=this.$1)==null?void 0:t.getDomain())!=null?e:""},n.toString=function(){var e,t;return(e=(t=this.$1)==null?void 0:t.toString())!=null?e:""},n.getPath=function(){var e,t;return(e=(t=this.$1)==null?void 0:t.getPath())!=null?e:""},t})();l.default=s}),98);
__d("oz-player/shims/www/OzURIWWW",["oz-player/shims/www/OzURIWWWImplConstUri"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/OzURIWWWImplConstUri")}),98);
__d("oz-player/shims/OzURI",["oz-player/shims/www/OzURIWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/OzURIWWW")}),98);
__d("oz-player/utils/ozConcatUint8Arrays",["oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].byteLength;var r,a;try{r=new ArrayBuffer(t),a=new Uint8Array(r)}catch(e){throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_ALLOCATION_FAILURE",description:e.name+": "+e.message})}for(var i=0,l=0;l<e.length;++l){var s=e[l];a.set(s,i),i+=s.byteLength}return{buffer:r,view:a}}l.default=e}),98);
__d("oz-player/utils/OzReadableStreamUtils",["oz-player/utils/ozConcatUint8Arrays"],(function(t,n,r,o,a,i,l){"use strict";var e=typeof TextDecoder!="undefined"?function(e){return new TextDecoder("utf-8").decode(new Uint8Array(e))}:function(e){return String.fromCharCode.apply(null,e)};function s(e){var t=[],n=function(){return e.read().then(function(e){var r=e.done,o=e.value;return r||!o?null:(t.push(o),n())})};return n().then(function(){var e=r("oz-player/utils/ozConcatUint8Arrays")(t),n=e.view;return n})}function u(t){return s(t).then(function(t){return e(t)})}function c(e){var t=new Uint8Array(e.length);return t.map(function(t,n){return e.charCodeAt(n)})}l.pumpAllData=s,l.pumpString=u,l.stringToUint8Array=c}),98);
__d("OzCustomRepresentationParsers",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI","oz-player/utils/OzReadableStreamUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=e.ozConfig,n=e.startTimestamp,a={timescale:function(t){var e=t.SegmentTemplate;if(e&&e.length>0){var n=e[0].$;if(n)return Number.parseInt(n.timescale,0)||null}return null}};return t.getBool("parse_initialization_binary",!1)&&(a.initializationBinary=function(e){try{var t=window.atob(e.FBInitializationBinary[0]._);return o("oz-player/utils/OzReadableStreamUtils").stringToUint8Array(t)}catch(e){return null}}),a.playbackResolutionMos=function(e){try{return e.$.FBPlaybackResolutionMos}catch(e){return null}},a.playbackResolutionCsvqm=function(e){try{return e.$.FBPlaybackResolutionCsvqm}catch(e){return null}},a.qualityLabel=function(e){try{return e.$.FBQualityLabel}catch(e){return null}},t.getBool("parse_first_segment",!1)&&(a.firstSegmentParser=function(e){if(n!=null&&n>0)return null;try{var t=e.SegmentBase[0].$.FBFirstSegmentRange.split("-").map(Number),o={startByte:t[0],endByte:t[1]},a=e.BaseURL[0]._,i=new(r("oz-player/shims/OzURI"))(a),l=new(r("oz-player/manifests/OzSegmentOptions"));return{getData:function(){return null},getURI:function(){return i},getByteRange:function(){return o},getTimeRange:function(){return{startTime:0,endTime:2}},getSequenceNumber:function(){return null},getOptions:function(){return l}}}catch(e){return null}}),a}l.createOzCustomRepresentationParsers=e}),98);
__d("OzDOMEventListenerImpl",["CometEventListener"],(function(t,n,r,o,a,i,l){"use strict";var e={listenDOMEvent:r("CometEventListener").listen,captureDOMEvent:r("CometEventListener").capture,suppressDOMEvent:r("CometEventListener").suppress},s=e;l.default=s}),98);
__d("OzMinimumSmallestDimensionRestriction",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.applyRestriction=function(t){var e=this;if(t.length===0)return[];var n=t.filter(function(t){var n=t.getWidth(),r=t.getHeight(),o=n<r?n:r;return o>=e.$1});return n.length>0?n:[t[t.length-1]]},e})();i.default=e}),66);
__d("OzMosThresholdRestriction",["MosUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$3=new Map,this.$4=e,this.$1=e.getNumber("mos_upper_threshold",0),this.$2=e.getNumber("mos_lower_threshold",0)}var t=e.prototype;return t.$5=function(){return this.$4.getBool("cache_mos_threshold",!1)?{mosUpperThreshold:this.$1,mosLowerThreshold:this.$2}:{mosUpperThreshold:this.$4.getNumber("mos_upper_threshold",0),mosLowerThreshold:this.$4.getNumber("mos_lower_threshold",0)}},t.$6=function(t,n){var e=null;if(this.$3.get(t))e=this.$3.get(t);else{var r=t.getCustomField("playbackResolutionMos");r!=null&&(e=o("MosUtils").parsePlaybackMos(String(r)),e&&this.$3.set(t,e))}return e!=null?o("MosUtils").getMosValue(e,o("MosUtils").getQualityLabel(n.width,n.height)):null},t.$7=function(t,n){var e=this,r=null,o=this.$5(),a=o.mosUpperThreshold;return t.forEach(function(t){var o=e.$6(t,n);o!=null&&o>a&&(r==null||r>o)&&(r=o)}),r==null?t.slice():t.filter(function(t){var o=e.$6(t,n);return o==null?!0:o<=a||o===r})},t.$8=function(t,n){var e=this,r=[],o=this.$5(),a=o.mosLowerThreshold;return t.forEach(function(t){var o=e.$6(t,n);o!=null&&o>a&&r.push(t)}),r.length===0&&r.push(t[t.length-1]),r},t.applyRestriction=function(t,n){if(t.length===0)return[];var e=this.$5(),r=e.mosLowerThreshold,o=e.mosUpperThreshold,a=void 0;return o>0&&(a=this.$7(a!=null?a:t,n)),r>0&&(a=this.$8(a!=null?a:t,n)),a!=null?a:t.slice()},e})();l.default=e}),98);
__d("OzOneSemanticHandlerUtils",["ConstUriUtils","FBLogger","qex"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){t!=null&&t.indexOf("+RE")>=0&&e.retry(),n!=null&&n()}function s(t,n){var o=n.error,a=o.getExtra(),i=a.code,l=a.headers,s=null;if(i==null&&r("FBLogger")("comet_video_player").mustfix("A ONE Semantic error response must have an error code."),l==null&&r("FBLogger")("comet_video_player").mustfix("A ONE Semantic error response must contain response Headers."),l!=null){var u=l.get("x-fb-one-variant");s=u!=null?u:null}var c=JSON.parse(t.getString("network_retry_intervals_json","{}")),d=c[i];switch(i){case"410":n.endStream();break;case"404":e(n,s,function(){n.retry({behavior:"recover_failed_request"})});break;case"429":n.retry(d);break;case"403":default:}}function u(e){if(e!=null){var t=parseInt(e,10);return!isNaN(t)&&t>0&&t<=3}return!1}function c(e,t){if(e!=null&&t!=null){var n=parseInt(e,10),r=parseInt(t,10);return!isNaN(n)&&!isNaN(r)&&n>0&&n<=r}return!1}function d(e){if(e!=null){var t=o("ConstUriUtils").getUri(e);if(t){var n=t.getQueryParam("os_param");return n?String(n).toString():null}}return null}function m(e,t){var n=e!=null;return u(t)||(n||!!r("qex")._("1636"))&&c(t,e)}function p(e){var t=e.getExtra(),n=t.headers,o=_(n),a=e.getExtra(),i=a.code,l=a.url;if(o!=null&&i==null)return r("FBLogger")("comet_video_player").mustfix("A ONE Semantic error response must have an error code."),!1;var s=d(l);return m(s,o)}function _(e){if(e){var t=e.get("x-fb-one");if(t!=null)return parseInt(t,10)>0?t:null}return null}function f(e,t,n){var r=null,o=null;t!=null&&(r=d(t),r!=null&&e.setOneReqWave(parseInt(r,10)));var a=n==null?void 0:n.headers;a&&(o=_(a),o!=null&&e.setOneResWave(parseInt(o,10))),e.setOneObserved(m(r,o))}l.maybeRetryForVariant=e,l.evaluateOneSemanticsResponse=s,l.isOneSemanticsForcedForResponseWave=u,l.isOneSemanticsEnabledForWave=c,l.getOneSemanticRequestWave=d,l.shouldRespondWithOneSemantics=p,l.getOneSemanticResponseWave=_,l.setOneSemanticFetchStreamLoggingAttributes=f}),98);
__d("handleOzManifestFetchErrorEvent",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=e.getNumber("initial_manifest_request_retry_count",0),r=JSON.parse(e.getString("network_retry_intervals_json","{}")),o=e.getNumber("live_max_try_attempts_on_404",1),a=["404","503"];e.getBool("live_gracefully_handle_no_network",!1)&&a.push("0"),e.getBool("live_gracefully_handle_410",!1)&&a.push("410"),e.getBool("live_gracefully_handle_502",!1)&&a.push("502"),e.getBool("live_gracefully_handle_429",!1)&&a.push("429"),e.getBool("live_gracefully_handle_504",!1)&&a.push("504"),e.getBool("normalize_mpd_fetch_errors",!1)&&a.push("20");var i=t.error.getExtra().code;if(!(e.getBool("no_retry_on_empty_string_error_code",!1)&&i==="")){e.getBool("handle_mpd_null_error_codes",!1)&&(i=i!=null?i:null);var l=r[i];if(t.isInitialRequest)typeof l=="number"&&l>0&&t.retryAttemptCount<n&&t.retry({waitMs:l});else if(i!=null&&a.indexOf(i)>-1)switch(i){case"410":t.endStream();break;case"404":o<t.consecutiveFailuresForErrorCode&&t.retry();break;case"504":case"502":case"503":case"20":case"0":t.retry();break;case"429":typeof l=="number"&&l>0&&t.retry({waitMs:l});break;default:break}else i===null&&e.getBool("handle_mpd_null_error_codes",!1)&&t.retry()}}i.default=e}),66);
__d("handleOzStreamErrorEvent",[],(function(t,n,r,o,a,i){"use strict";var e=[0,1,1,2,3,5,8,13,21,34];function l(t,n){var r=n.error.getExtra().code;if(!(t.getBool("no_retry_on_empty_string_error_code",!1)&&r==="")){if(t.getBool("retry_null_error_code_in_stream",!1)&&r==null){n.retry();return}var o=JSON.parse(t.getString("network_end_broadcasts_json","[]"));if(o.includes(r)){n.endStream();return}var a=JSON.parse(t.getString("network_skip_json","[]"));if(a.includes(r)){n.retry();return}var i=t.getBool("back_off_pdash_504_retry",!0)?e[n.retryAttemptCount]:0,l=JSON.parse(t.getString("network_reload_mpd_json","[]")),s=t.getBool("fix_reload_manifest_retry",!1);if(!(t.getBool("back_off_pdash_504_retry",!0)&&i==null&&(!s||l.includes(r)))){if(i!=null&&l.includes(r)){t.getBool("network_reload_mpd_json_retry",!1)?n.retry({behavior:"recover_failed_request",waitMs:i*1e3}):n.retry({waitMs:i*1e3});return}var u=JSON.parse(t.getString("network_retry_intervals_json",'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}')),c=r!=null?u[r]:null;if(c!=null){t.getBool("network_retry_intervals_json_retry",!1)?n.retry({behavior:"retry_failed_request",waitMs:c}):n.retry({waitMs:c});return}}}}i.default=l}),66);
__d("OzOneSemanticHandler",["OzOneSemanticHandlerUtils","handleOzManifestFetchErrorEvent","handleOzStreamErrorEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=t.error;o("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(n)?o("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(e,t):r("handleOzManifestFetchErrorEvent")(e,t)}function s(e,t){var n=t.error;o("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(n)?o("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(e,t):r("handleOzStreamErrorEvent")(e,t)}l.handleManifestFetchErrorEvent=e,l.handleStreamErrorEvent=s}),98);
__d("oz-player/shims/www/ozvariantWWW",["invariant"],(function(t,n,r,o,a,i,l,s){var e=s;l.default=e}),98);
__d("oz-player/shims/ozvariant",["oz-player/shims/www/ozvariantWWW"],(function(t,n,r,o,a,i,l){l.default=r("oz-player/shims/www/ozvariantWWW")}),98);
__d("oz-player/utils/OzNumericalHelper",[],(function(t,n,r,o,a,i){"use strict";var e=1e-5;function l(t,n,r){return r===void 0&&(r=e),Math.abs(n-t)<=r}function s(t,n,r){return r===void 0&&(r=e),t>n&&!l(t,n,r)}function u(t,n,r){return r===void 0&&(r=e),t<n&&!l(t,n,r)}function c(t,n,r){return r===void 0&&(r=e),u(t,n,r)||l(t,n,r)}function d(t,n,r){return r===void 0&&(r=e),s(t,n,r)||l(t,n,r)}i.equalTo=l,i.greaterThan=s,i.lessThan=u,i.lessThanOrEqual=c,i.greaterThanOrEqual=d}),66);
__d("oz-player/utils/OzNumericalRangeUtil",["oz-player/utils/OzNumericalHelper"],(function(t,n,r,o,a,i,l){"use strict";var e=.01;function s(t,n){var r=n.rangeEnd;return r==null?!1:Math.abs(t.rangeStart-r)>e&&t.rangeStart>r}function u(t,n){var r=t.rangeEnd,o=n.rangeEnd;return r==null?!0:o==null?!1:Math.abs(r-o)>e&&r>o}function c(t,n,r,o){var a=r.rangeEnd;return a==null?!1:n===a||Math.abs(n-a)>(o!=null?o:e)&&n>a}function d(t,n,r){var o=n.rangeEnd;if(o==null)return!1;var a=r!=null?r:e;return t-n.rangeStart>=a&&o-t>=a}function m(t,n){return t>n-e}function p(e){if(!e.length)return[];var t=[],n=e[0];t.push(n);for(var r=1;r<e.length;r++){var o=e[r];if(u(o,n))s(o,n)?(n={rangeStart:o.rangeStart,rangeEnd:o.rangeEnd},t.push(n)):n.rangeEnd=o.rangeEnd;else continue}return t}function _(e,t,n){return t.reduceRight(function(t,r){if(c(e,r.rangeStart,n)||c(e,n.rangeStart,r))t.push(r);else{var o=n.rangeEnd;o!=null&&(r.rangeEnd==null||c(e,r.rangeEnd,n))&&t.push({rangeStart:o,rangeEnd:r.rangeEnd}),m(n.rangeStart,r.rangeStart)&&t.push({rangeStart:r.rangeStart,rangeEnd:n.rangeStart})}return t},[]).filter(function(e){return e.rangeEnd==null||e.rangeStart<e.rangeEnd}).reverse()}function f(t,n,r,o){o===void 0&&(o=e);for(var a=0;a<r.length;a++){var i=r[a],l=i.rangeStart;if(m(n,l)&&!c(t,n,i,o))return a}return-1}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.rangeStart;if(!m(e,o))return n}return-1}function h(e,t,n){return e>=t?0:n.reduceRight(function(n,r){var o=r.rangeEnd,a=r.rangeStart;return t<a||o!=null&&e>o?n:o==null||t<=o?Math.min(t-a,t-e)+n:e>=a?Math.min(o-e,t-e)+n:o-a+n},0)}function y(e,t){for(var n,r=e.length===0&&(n=t[t.length-1])!=null?n:null,a=0;a<e.length;a++){for(var i=e[a],l=a;l<t.length;l++){var s=t[l];if(o("oz-player/utils/OzNumericalHelper").equalTo(i.rangeStart,s.rangeStart)&&i.rangeEnd!=null&&s.rangeEnd!=null&&o("oz-player/utils/OzNumericalHelper").equalTo(i.rangeEnd,s.rangeEnd))break;if(s.rangeEnd!=null&&i.rangeEnd!=null&&!o("oz-player/utils/OzNumericalHelper").equalTo(i.rangeStart,s.rangeStart)){r={rangeStart:s.rangeStart,rangeEnd:s.rangeEnd};break}else if(s.rangeEnd!=null&&i.rangeEnd!=null&&o("oz-player/utils/OzNumericalHelper").equalTo(i.rangeStart,s.rangeStart)&&!o("oz-player/utils/OzNumericalHelper").equalTo(i.rangeEnd,s.rangeEnd)){r={rangeStart:i.rangeEnd,rangeEnd:s.rangeEnd};break}}if(r!==null)break}return r}function C(e){for(var t=[],n=0;n<e.length;n++)t.push({rangeStart:e[n].startTime,rangeEnd:e[n].endTime});return t}l.isAfter=c,l.isWithin=d,l.isLargerThan=m,l.mergeSortedRanges=p,l.diffSortedRanges=_,l.findCurrentRangeIndex=f,l.findNextRangeIndex=g,l.findDiffCoveredByRanges=h,l.firstAddedInSortedRanges=y,l.convertFromTimeRanges=C}),98);
__d("oz-player/manifests/SegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(t,n,r,o,a,i,l){"use strict";var e=1e-4,s=(function(){function t(e,t,n,o,a,i){i===void 0&&(i=!1),this.$7=new(r("oz-player/shims/OzEventEmitter")),this.$10=null,this.$8=e,this.$2=t,this.$3=n,this.$1=a,this.$4=o,this.$5=this.$11(this.$4),this.$6=i,this.$9=this.$8.getNumber("live_numerical_error_epsilon")}var n=t.prototype;return n.getSegmentByTime=function(t){for(var e=this.$12(t),n=e*this.$3,r=null,a=this.$4.length-1;a>=0;a--){var i=this.$4[a];if(o("oz-player/utils/OzNumericalHelper").lessThanOrEqual(i.t+i.d*(i.r+1),n,this.$9))break;r=i}if(r===null||o("oz-player/utils/OzNumericalHelper").greaterThan(r.t,n,this.$9))return null;var l=Math.max(0,Math.floor((n-r.t+this.$9)/r.d));return this.$13(r,l)},n.getSegment=function(t){for(var e=0,n=t;n>=0&&e<this.$4.length;){var r=this.$4[e],o=r.r,a=o+1;if(n>=a){n-=a,e++;continue}break}var i=this.$4[e];return i?this.$13(i,n):null},n.getSegmentAfter=function(t){var e=t.getTimeRange().endTime;return this.getSegmentByTime(e)},n.getPredictedSegmentAfter=function(t){return null},n.canPredict=function(){return!1},n.canApproximateId=function(){return!1},n.isEndingSegment=function(n){if(!this.$4||!this.$4.length||!this.$6)return!1;var t=this.$4[this.$4.length-1],r=t.r,o=this.$13(t,r);return Math.abs(o.getTimeRange().startTime-n.getTimeRange().startTime)+Math.abs(o.getTimeRange().endTime-n.getTimeRange().endTime)<e},n.updateWith=function(n){n instanceof t||r("oz-player/shims/ozvariant")(0,646),this.$6=n.$6,this.$14(n.$4),this.$15(n.$4),this.$7.emit("segment_updated")},n.getTimeRanges=function(){return this.$10?this.$16(this.$5,this.$10):this.$5},n.blockTimeRange=function(t){this.$10=t},n.$16=function(t,n){return o("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$8,t.map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}}),{rangeStart:n.startTime,rangeEnd:n.endTime}).map(function(e){return{startTime:e.rangeStart,endTime:e.rangeEnd==null?1/0:e.rangeEnd}})},n.addUpdateListener=function(t){return this.$7.addListener("segment_updated",t)},n.$12=function(t){var e=t,n=o("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$8,t,this.getTimeRanges().map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}}));if(n===-1){var r=o("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(t,this.getTimeRanges().map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}}));r!==-1&&(e=this.getTimeRanges()[r].startTime)}return e},n.$14=function(t){var e;(e=this.$4).splice.apply(e,[0,this.$4.length].concat(t))},n.$15=function(t){var e=this.$11(t),n=o("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$5.map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}}).concat(e.map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}})));this.$5=n.map(function(e){return{startTime:e.rangeStart,endTime:e.rangeEnd==null?1/0:e.rangeEnd}})},n.$11=function(t){var e=this,n=o("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$4.map(function(t){var n=e.$13(t,0).getTimeRange().startTime,r=e.$13(t,t.r).getTimeRange().endTime;return{rangeStart:n,rangeEnd:r}}));return n.map(function(e){var t=e.rangeEnd,n=e.rangeStart;return t=t==null?1/0:t,{startTime:n,endTime:t}})},n.$13=function(t,n){var e=this;n===void 0&&(n=0);var o=t.d,a=t.id,i=t.r,l=t.t,s=l+o*n,u=this.$8.getBool("use_scf_timebased_segments"),c=a!=null?a-(i-n):null,d=new(r("oz-player/manifests/OzSegmentOptions"));return{getData:function(){return null},getURI:function(){var t="";e.$1!=null&&c!=null?t=e.$1.replace("$Number$",c.toString()):c!=null&&e.$2.indexOf("$Number$")!==-1&&e.$8.getBool("parse_number_templated_uri")?t=e.$2.replace("$Number$",c.toString()):t=e.$2.replace("$Time$",s.toString());var n=new(r("oz-player/shims/OzURI"))(t);return u&&n.addQueryData("_nc_scf",1),n},getTimeRange:function(){return{startTime:s/e.$3,endTime:(s+o)/e.$3}},getByteRange:function(){return null},getSequenceNumber:function(){return null},getOptions:function(){return d}}},n.getSegmentGroups=function(){return this.$4},n.getEndingSegment=function(){if(this.$4.length===0)return null;var e=this.$4[this.$4.length-1],t=e.r;return this.$13(e,t)},n.forceParseIfNotParsed=function(){},n.getMaxGopSec=function(){return null},t})();l.default=s}),98);
__d("oz-player/utils/OzUrlHelper",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=e,n=t.indexOf("://"),r=t.indexOf("/",n+3);return r>n&&(t=t.substring(r)),t}function l(e){var t=e,n=t.lastIndexOf("/"),r=t.lastIndexOf("://");return n>r+2&&(t=t.substring(0,n+1)),t}function s(e){var t=e;return t=l(t),t.endsWith("/")?l(t.substring(0,t.length-1)):t}function u(e,t){for(var n=l(e),r=t;r.length;)if(r.startsWith("./"))r=r.substring(2);else if(r.startsWith("../"))r=r.substring(3),n=s(n),n.endsWith("/")&&(n=n.substring(0,n.length-1));else if(r.startsWith(".."))r=r.substring(2),n=s(n);else if(r.startsWith("."))r=r.substring(1);else break;return r&&r.length&&(n.endsWith("/")||(n+="/"),n+=r),n}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t||!t.length)return"";if(t.length===1)return t[0];for(var r=t.shift();t.length>0;)r=u(r,t.shift());return r}function d(e,t){return m(t)?t:c(e,t)}function m(e){var t=/^https?:\/\//i;return t.test(e)}i.stripToPathAndQueryOnly=e,i.joinRelativeUrlPaths=c,i.joinUrlPaths=d}),66);
__d("PredictedSegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzUrlHelper"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o,a,i,l,s,u,c){var d;c===void 0&&(c=!1),d=e.call(this,t,n,o,a,null,c)||this,d.$PredictedSegmentTemplateSegmentsContainer$p_9=0,d.$PredictedSegmentTemplateSegmentsContainer$p_11=null,d.$PredictedSegmentTemplateSegmentsContainer$p_10=r,d.$PredictedSegmentTemplateSegmentsContainer$p_8=c,d.$PredictedSegmentTemplateSegmentsContainer$p_12=a,d.$PredictedSegmentTemplateSegmentsContainer$p_7=t,d.$PredictedSegmentTemplateSegmentsContainer$p_5=o,d.$PredictedSegmentTemplateSegmentsContainer$p_1=i,d.$PredictedSegmentTemplateSegmentsContainer$p_3=s,d.$PredictedSegmentTemplateSegmentsContainer$p_2=l,d.$PredictedSegmentTemplateSegmentsContainer$p_4=u,d.$PredictedSegmentTemplateSegmentsContainer$p_6=t.getNumber("live_numerical_error_epsilon");for(var m=0;m<d.$PredictedSegmentTemplateSegmentsContainer$p_12.length;m++)d.$PredictedSegmentTemplateSegmentsContainer$p_9=Math.max(d.$PredictedSegmentTemplateSegmentsContainer$p_12[m].d,d.$PredictedSegmentTemplateSegmentsContainer$p_9);return d}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.$PredictedSegmentTemplateSegmentsContainer$p_13=function(){return this.$PredictedSegmentTemplateSegmentsContainer$p_2!=null&&this.$PredictedSegmentTemplateSegmentsContainer$p_4!=null?{predictedAverageDuration:this.$PredictedSegmentTemplateSegmentsContainer$p_4,predictedMediaStartNumber:this.$PredictedSegmentTemplateSegmentsContainer$p_2}:null},n.$PredictedSegmentTemplateSegmentsContainer$p_14=function(t,n,a){var e=this;!Number.isNaN(a)||r("oz-player/shims/ozvariant")(0,54238);var i=this.$PredictedSegmentTemplateSegmentsContainer$p_1.indexOf("%24Number%24")===-1?this.$PredictedSegmentTemplateSegmentsContainer$p_1.replace("$Number$",a.toString()):this.$PredictedSegmentTemplateSegmentsContainer$p_1.replace("%24Number%24",a.toString()),l=this.$PredictedSegmentTemplateSegmentsContainer$p_7.getLegacyConfig().getString("cdn_experiment_id",""),s=this.$PredictedSegmentTemplateSegmentsContainer$p_7.getLegacyConfig().getNumber("use_dvl_with_timeout_ms",0),u=new(r("oz-player/manifests/OzSegmentOptions"));return{getByteRange:function(){return null},getData:function(){return null},getOptions:function(){return u},getSequenceNumber:function(){return a},getTimeRange:function(){return{endTime:n,startTime:t}},getURI:function(){var t=new(r("oz-player/shims/OzURI"))(i);l.length!==0&&t.addQueryData("_nc_expid",l);var n=u.isDVLEnabled();return n&&s>0&&e.$PredictedSegmentTemplateSegmentsContainer$p_10!=null&&(t.addQueryData("_nc_dinfo-manifest-url",o("oz-player/utils/OzUrlHelper").stripToPathAndQueryOnly(e.$PredictedSegmentTemplateSegmentsContainer$p_10)),t.addQueryData("_nc_dinfo-timeout",s)),t}}},n.updateWith=function(o){o instanceof t||r("oz-player/shims/ozvariant")(0,646),this.$PredictedSegmentTemplateSegmentsContainer$p_3=o.$PredictedSegmentTemplateSegmentsContainer$p_3,this.$PredictedSegmentTemplateSegmentsContainer$p_1=o.$PredictedSegmentTemplateSegmentsContainer$p_1,e.prototype.updateWith.call(this,o),this.$PredictedSegmentTemplateSegmentsContainer$p_12=o.$PredictedSegmentTemplateSegmentsContainer$p_12,this.$PredictedSegmentTemplateSegmentsContainer$p_8=o.$PredictedSegmentTemplateSegmentsContainer$p_8;for(var n=0;n<this.$PredictedSegmentTemplateSegmentsContainer$p_12.length;n++)this.$PredictedSegmentTemplateSegmentsContainer$p_9=Math.max(this.$PredictedSegmentTemplateSegmentsContainer$p_12[n].d,this.$PredictedSegmentTemplateSegmentsContainer$p_9)},n.getSegmentByTime=function(t){return this.canApproximateId()?this.$PredictedSegmentTemplateSegmentsContainer$p_15(t):this.$PredictedSegmentTemplateSegmentsContainer$p_16(t)},n.getPredictedSegmentAfter=function(t){var e=t!=null?t.getSequenceNumber():null;return e!=null&&this.canPredict()?this.$PredictedSegmentTemplateSegmentsContainer$p_14(0,0,e+1):null},n.blockTimeRange=function(n){this.$PredictedSegmentTemplateSegmentsContainer$p_11=n,e.prototype.blockTimeRange.call(this,n)},n.getTimeRanges=function(){var t=this.$PredictedSegmentTemplateSegmentsContainer$p_13();if(t){var n=[{endTime:(this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].d)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,startTime:(this.$PredictedSegmentTemplateSegmentsContainer$p_12[0].t-t.predictedAverageDuration-(this.$PredictedSegmentTemplateSegmentsContainer$p_3-this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-Number(this.$PredictedSegmentTemplateSegmentsContainer$p_2))*Number(t.predictedAverageDuration))/this.$PredictedSegmentTemplateSegmentsContainer$p_5}],r=this.$PredictedSegmentTemplateSegmentsContainer$p_11;return r==null?n:o("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$PredictedSegmentTemplateSegmentsContainer$p_7,n.map(function(e){return{rangeEnd:e.endTime,rangeStart:e.startTime}}),{rangeEnd:r.endTime,rangeStart:r.startTime}).map(function(e){return{endTime:e.rangeEnd==null?1/0:e.rangeEnd,startTime:e.rangeStart}})}else return e.prototype.getTimeRanges.call(this)},n.canPredict=function(){return!0},n.canApproximateId=function(){var e=this.$PredictedSegmentTemplateSegmentsContainer$p_13();return e!=null},n.$PredictedSegmentTemplateSegmentsContainer$p_16=function(t){var e=null,n=t*this.$PredictedSegmentTemplateSegmentsContainer$p_5,a=this.$PredictedSegmentTemplateSegmentsContainer$p_12.length>0?this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].d:null,i=this.$PredictedSegmentTemplateSegmentsContainer$p_7.getLegacyConfig().getNumber("pdash_future_edgelatency_gops",0);if(a!=null&&a<=n&&i!==0&&n<a+this.$PredictedSegmentTemplateSegmentsContainer$p_9*i){var l=n-(this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].d),s=this.$PredictedSegmentTemplateSegmentsContainer$p_9?0:Math.floor(l/this.$PredictedSegmentTemplateSegmentsContainer$p_9);return this.$PredictedSegmentTemplateSegmentsContainer$p_14(0,0,this.$PredictedSegmentTemplateSegmentsContainer$p_3+1+s)}for(var u=0,c=0;this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1-c>=0;c++){var d=this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1-c];if(d.r===0||r("oz-player/shims/ozvariant")(0,18769),o("oz-player/utils/OzNumericalHelper").lessThanOrEqual(d.t+d.d*(d.r+1),n,this.$PredictedSegmentTemplateSegmentsContainer$p_6))break;e=d,u=c}return e===null||i>0&&n<e.t?null:this.$PredictedSegmentTemplateSegmentsContainer$p_14(e.t/this.$PredictedSegmentTemplateSegmentsContainer$p_5,(e.t+e.d)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,this.$PredictedSegmentTemplateSegmentsContainer$p_3-u)},n.$PredictedSegmentTemplateSegmentsContainer$p_15=function(t){var e=t*this.$PredictedSegmentTemplateSegmentsContainer$p_5,n=this.getTimeRanges();if(o("oz-player/utils/OzNumericalHelper").greaterThan(n[0].startTime,t))return null;if(o("oz-player/utils/OzNumericalHelper").lessThanOrEqual(this.$PredictedSegmentTemplateSegmentsContainer$p_12[0].t,e))return this.$PredictedSegmentTemplateSegmentsContainer$p_16(t);var r=Math.ceil((this.$PredictedSegmentTemplateSegmentsContainer$p_12[0].t-e)/Number(this.$PredictedSegmentTemplateSegmentsContainer$p_4)),a=Math.max(Number(this.$PredictedSegmentTemplateSegmentsContainer$p_2),this.$PredictedSegmentTemplateSegmentsContainer$p_3-this.$PredictedSegmentTemplateSegmentsContainer$p_12.length+1-r);return this.$PredictedSegmentTemplateSegmentsContainer$p_14(t,t+Number(this.$PredictedSegmentTemplateSegmentsContainer$p_4)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,a)},n.isEndingSegment=function(n){if(!this.$PredictedSegmentTemplateSegmentsContainer$p_8)return!1;var t=n.getSequenceNumber();return t!=null?t>=this.$PredictedSegmentTemplateSegmentsContainer$p_3:e.prototype.isEndingSegment.call(this,n)},n.getEndingSegment=function(){if(this.$PredictedSegmentTemplateSegmentsContainer$p_12.length===0)return null;var e=this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1];return this.$PredictedSegmentTemplateSegmentsContainer$p_14(e.t/this.$PredictedSegmentTemplateSegmentsContainer$p_5,(e.t+e.d)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,this.$PredictedSegmentTemplateSegmentsContainer$p_3)},n.getMaxGopSec=function(){return this.$PredictedSegmentTemplateSegmentsContainer$p_9/this.$PredictedSegmentTemplateSegmentsContainer$p_5},t})(r("oz-player/manifests/SegmentTemplateSegmentsContainer"));l.default=e}),98);
__d("oz-player/parsers/OzDefaultSegmentTimelineParser",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/utils/OzUrlHelper"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}e.parseSegments=function(t,n){var e=[];return n.SegmentTimeline[0].S&&(e=n.SegmentTimeline[0].S.map(function(e){return{t:Number.parseInt(e.$.t,10),d:Number.parseInt(e.$.d,10),r:Number.parseInt(e.$.r||"0",10),id:e.$.id?Number.parseInt(e.$.id,10):void 0}})),e};var t=e.prototype;return t.parseSegmentsContainer=function(n,a,i){return new(r("oz-player/manifests/SegmentTemplateSegmentsContainer"))(n,o("oz-player/utils/OzUrlHelper").joinUrlPaths(a.baseUrl,i.$.media),Number.parseInt(i.$.timescale,10),e.parseSegments(n,i),null,a.isStaticMpd)},e})();l.default=e}),98);
__d("OzPredictedSegmentTimelineParser",["PredictedSegmentTemplateSegmentsContainer","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.parseSegmentsContainer=function(t,n,a){var e;if(a.SegmentTimeline[0].$.FBPredictedMedia){e=o("oz-player/utils/OzUrlHelper").joinUrlPaths(n.baseUrl,a.SegmentTimeline[0].$.FBPredictedMedia);var i=new(r("oz-player/shims/OzURI"))(e);i.addQueryData("_nc_sc",1),e=i.toString()}var l;a.SegmentTimeline[0].$.FBPredictedMediaStartNumber&&(l=Number.parseInt(a.SegmentTimeline[0].$.FBPredictedMediaStartNumber,0));var s;a.SegmentTimeline[0].$.FBPredictedMediaEndNumber&&(s=Number.parseInt(a.SegmentTimeline[0].$.FBPredictedMediaEndNumber,0));var u;a.SegmentTimeline[0].$.FBAverageDuration&&(u=Number.parseInt(a.SegmentTimeline[0].$.FBAverageDuration,0));var c=r("oz-player/parsers/OzDefaultSegmentTimelineParser").parseSegments(t,a);return(n.isTemplatedMpd&&l!=null&&u!=null||!n.isTemplatedMpd)&&e!=null&&s!=null?new(r("PredictedSegmentTemplateSegmentsContainer"))(t,o("oz-player/utils/OzUrlHelper").joinUrlPaths(n.baseUrl,a.$.media),n.mpdUrl,Number.parseInt(a.$.timescale,10),c,e,l,s,u,n.isStaticMpd):new(r("oz-player/manifests/SegmentTemplateSegmentsContainer"))(t,o("oz-player/utils/OzUrlHelper").joinUrlPaths(n.baseUrl,a.$.media),Number.parseInt(a.$.timescale,10),c,e,n.isStaticMpd)},e})();l.default=e}),98);
__d("oz-player/utils/OzAbrUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r){if(r.resolutionConstraintFactor===0)return e.slice();var o=e.filter(function(e){var o=e.getWidth()<=t.width*n*r.resolutionConstraintFactor,a=e.getHeight()<=t.height*n*r.resolutionConstraintFactor;return o&&a});return o.length?o:[e[0]]}function l(e,t,n,r,o,a){var i=t?e.getNumber("min_switch_interval"):e.getNumber("initial_switch_interval"),l=r>=e.getNumber("abr_min_bandwidth_samples"),s=e.getNumber("abr_eval_buffer_threshold"),u=!s||n>=s,c=null;return o+e.getNumber("min_eval_interval")>Date.now()?c="min_eval_interval":a+i>Date.now()?c="min_switch_interval":l?u||(c="buffer_threshold_not_satisfied"):c="min_bandwidth_samples",c}i.excludeLargeRepresentations=e,i.getReasonToPreventEvaluation=l}),66);
__d("oz-player/utils/OzPlaybackRestrictionsUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){if(n.length===0)return[];var r=e.reduce(function(e,n){return n.applyRestriction(e,t)},n);return r}i.applyVideoPlaybackRestrictions=e}),66);
__d("OzSystemicRiskABRUtils",["OzSystemicRiskUtils","QualityScoreUtils","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=30,s=5e3;function u(e,t,n){var r=t.getQualityScoreCurveString(e),a=o("QualityScoreUtils").parseQualityScoreCurve(String(r));return a!=null?o("QualityScoreUtils").calculateQualityScore(a,n,!0):null}function c(e){var t=s;if(e!=null&&e.length>0){var n=e[0].getTimeRange().startTime,r=e[e.length-1].getTimeRange().endTime;r-n>0&&(t=(r-n)*1e3)}return t}function d(e,t,n,r,a){if(!r.shouldApplyRepresentationRestrictions)return a.slice();var i,l=function(){i=o("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(i!=null?i:a,t,n,{resolutionConstraintFactor:r.resolutionConstraintFactor})},s=function(){i=o("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(e,t,i!=null?i:a)};return r.excludeLargeRepresentationsAfterRestrictions||(l(),s()),r.excludeLargeRepresentationsAfterRestrictions&&(s(),l()),i!=null?i:a.slice()}var m={BANDWIDTH:"br",BUFFER:"vb",ENCODING:"er",LOW_MOS:"lm",MULTIPLIER:"m",PREVIOUS_MOS:"pm",PREVIOUS_RESOLUTION:"pr"};function p(e,t,n){if(t==null)return e;var r=n.isSystemicRiskABREnabled,o=n.noRepresentationSelected,a=n.representationCount,i=[[m.LOW_MOS,t.lowMos],[m.ENCODING,t.encoding],[m.BANDWIDTH,t.bandwidth],[m.MULTIPLIER,t.multiplier],[m.BUFFER,t.buffer],[m.PREVIOUS_MOS,t.previousMos],[m.PREVIOUS_RESOLUTION,t.previousResolution]].reduce(function(e,t){var n=t[1],r="";switch(typeof n){case"number":r=n.toFixed(1);break;case"boolean":r=n?"1":"0";break;default:r="null"}return e+(t[0]+": "+r+";")},"");return r||(i+="disabled;"),o&&(i+="none-selected-of-"+a+";"),i}function _(t){var n=t.videoRepresentations;if(n.length===0)return babelHelpers.extends({},t.abrState,{lastEvaluationReason:"no available representations"});var r=o("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(t.playheadMediaTimeSec,t.sourceBufferBufferedRangesSec),a=t.mediaDurationSec;a=isNaN(a)||!isFinite(a)?e:a;var i=t.durationMode==="static"?(a-t.playheadMediaTimeSec)*1e3:e*1e3,l=t.systemicRiskConfig.segmentFetchRangeDurationEnabled?c(t.segments):s,m=t.bandwidthDiagnostics;if(m==null)return babelHelpers.extends({},t.abrState,{lastEvaluationReason:"missing bandwidth diagnostics"});var _=d(t.videoRepresentationRestrictions,t.playerDimensions,t.devicePixelRatio,t.systemicRiskConfig,n).slice().sort(function(e,t){return e.getBandwidth()-t.getBandwidth()});if(_.length===0)return babelHelpers.extends({},t.abrState,{lastEvaluationReason:"no representations after applying restrictions"});for(var f=null,g=null,h=null,y=0;y<_.length;y++){var C,b,v=_[Math.max(y-1,0)],S=_[y],R=(C=u(t.qualityScoreType,S,t.playerDimensions))!=null?C:0,L=(b=u(t.qualityScoreType,v,t.playerDimensions))!=null?b:0,E=Math.min(v.getHeight(),v.getWidth()),k=E*t.devicePixelRatio;g=o("OzSystemicRiskUtils").getRiskFactorsForRepresentation({bandwidthDiagnostics:m,bitrate:S.getBandwidth(),bufferAheadSec:r,defaultRiskFactor:t.systemicRiskConfig.defaultRiskFactor,documentHiddenRiskFactor:t.systemicRiskConfig.documentHiddenRiskFactor,hasMadeInitialDecision:t.abrState.hasMadeInitialDecision,highEstimateConfidence:t.systemicRiskConfig.highEstimateConfidence,initialRiskFactor:t.systemicRiskConfig.initialRiskFactor,isDocumentHidden:t.isDocumentHidden,lowMosResolution:t.systemicRiskConfig.lowMosResolution,lowMosRiskFactor:t.systemicRiskConfig.lowMosRiskFactor,minWatchableMos:t.systemicRiskConfig.minWatchableMos,previousMos:L,previousResolution:k,remainingVideoDurationMs:i,segmentFetchRangeDurationMs:l});var I=g,T=I.multiplier;if(isNaN(T)){h=g,f=t.abrState.bestRepresentation;break}var D=o("OzSystemicRiskUtils").isEffectiveBitrateBelowBandwidthEstimate(S.getBandwidth(),g.multiplier,l,m);if(D&&R>=L)h=g,f=S;else continue}var x;f==null?x=t.systemicRiskConfig.respectPlaybackRestrictionsInABRFallback&&_.length>0?_[0]:n[0]:x=f;var $=p(t.abrState.lastEvaluationReason,h!=null?h:g,{isSystemicRiskABREnabled:t.systemicRiskConfig.isSystemicRiskABREnabled,noRepresentationSelected:f==null,representationCount:_.length});return{bestRepresentation:x,hasMadeInitialDecision:!0,lastEvaluationReason:$}}l.evaluateSystemicRiskABR=_}),98);
__d("OzSystemicRiskABRManager",["OzSystemicRiskABRUtils","OzSystemicRiskUtils","VideoPlayerOzWWWConfig","oz-player/networks/OzBandwidthEstimator"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,r,o,a,i,l,s){this.$1=e,this.$2=n,this.$3=r,this.$4=o,this.$6=a,this.$7=i,this.$8=l,this.$9={bestRepresentation:t,hasMadeInitialDecision:!1,lastEvaluationReason:void 0},this.$10=s,this.$1.getBool("enable_abr_logging")&&this.$10.getOperationLogger("abr_initialized").setResult("success").setUserInfo({codecs:n.map(function(e){return e.getCodecs()}).join("|"),displayLabels:n.map(function(e){return e.getDisplayLabel()}).join(","),representationIds:n.map(function(e){return e.getID()}).join(",")}).setRepresentationID(t.getID()).setType("video").setInitiator("OzSystemicRiskABRManager").log()}var t=e.prototype;return t.setSourceBuffer=function(t){this.$5=t},t.updateRepresentations=function(t){var e=this,n=this.$2;this.$2=t;var r=this.$9.bestRepresentation,o=this.$2.find(function(t){return t.getDisplayLabel()===e.$9.bestRepresentation.getDisplayLabel()});this.$9=babelHelpers.extends({},this.$9,{bestRepresentation:o!=null?o:this.$2[0]}),this.$1.getBool("enable_abr_logging")&&this.$10.getOperationLogger("abr_representations_updated").setResult("success").setRepresentationID(this.$9.bestRepresentation.getID()).setPreviousRepresentationID(r.getID()).setUserInfo({newCodecs:t.map(function(e){return e.getCodecs()}).join("|"),newDisplayLabels:t.map(function(e){return e.getDisplayLabel()}).join(","),previousRepresentationIds:n.map(function(e){return e.getID()}).join(",")}).setType("video").setInitiator("OzSystemicRiskABRManager").log()},t.getBestRepresentation=function(t){var e,n,a=this.$1.getLegacyConfig(),i="mos";if(a instanceof r("VideoPlayerOzWWWConfig")){var l=a.getAllContexts(),s=String(l.quality_score_type);i=s==="csvqm"?"csvqm":"mos"}var u=(e=(n=this.$5)==null?void 0:n.getSourceBufferState().getBufferedRanges())!=null?e:null,c=this.$4.getCurrentTime(),d=this.$4.getDuration(),m=this.$9.bestRepresentation,p=a.getBool("use_bandwidth_estimate_from_headers_in_abr",!1)?r("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnosticsFromHeaders(a):r("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(a);return this.$9=o("OzSystemicRiskABRUtils").evaluateSystemicRiskABR({abrState:this.$9,bandwidthDiagnostics:p,devicePixelRatio:this.$6,durationMode:this.$8,isDocumentHidden:document.hidden,mediaDurationSec:d,playerDimensions:this.$7(),playheadMediaTimeSec:c,qualityScoreType:i,segments:t,sourceBufferBufferedRangesSec:u,systemicRiskConfig:o("OzSystemicRiskUtils").getSystemicRiskConfigFromOzPlayerConfig(a),videoRepresentationRestrictions:this.$3,videoRepresentations:this.$2}),this.$1.getBool("enable_abr_logging")&&this.$9.bestRepresentation!==m&&this.$10.getOperationLogger("abr_best_representation_selected").setResult("success").setReason(this.$9.lastEvaluationReason).setRepresentationID(this.$9.bestRepresentation.getID()).setPreviousRepresentationID(m==null?void 0:m.getID()).setUserInfo({bandwidthEstimate:String(p==null?void 0:p.bandwidthEstimate),qualityScoreType:i}).setType("video").setInitiator("OzSystemicRiskABRManager").log(),this.$9.bestRepresentation},t.getLastEvaluationReason=function(){return this.$9.lastEvaluationReason},e})();l.default=e}),98);
__d("oz-player/shims/www/OzStreamsWWW",["cr:927622","cr:927623"],(function(t,n,r,o,a,i,l){"use strict";var e=!!n("cr:927622"),s=!!n("cr:927623"),u=n("cr:927622")?n("cr:927622").ReadableStream:t.ReadableStream,c=n("cr:927623")?n("cr:927623").WritableStream:t.WritableStream;l.OzReadableStream=u,l.OzReadableStreamIsPolyfilled=e,l.OzWritableStream=c,l.OzWritableStreamIsPolyfilled=s}),98);
__d("oz-player/shims/OzStreams",["oz-player/shims/www/OzStreamsWWW"],(function(t,n,r,o,a,i,l){"use strict";var e;l.OzReadableStream=(e=o("oz-player/shims/www/OzStreamsWWW")).OzReadableStream,l.OzReadableStreamIsPolyfilled=e.OzReadableStreamIsPolyfilled,l.OzWritableStream=e.OzWritableStream,l.OzWritableStreamIsPolyfilled=e.OzWritableStreamIsPolyfilled}),98);
__d("oz-player/networks/OzTransformStream",["oz-player/shims/OzEventEmitter","oz-player/shims/OzStreams","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n,r;r=e.call(this)||this;var a=(n=t==null?void 0:t.errorTransform)!=null?n:function(e){return e},i,l;return r.writable=new(o("oz-player/shims/OzStreams")).OzWritableStream({start:function(t){l=t},write:function(t){r.emit("writableWrite",t);try{r.onDataWritten(t)}catch(e){i.error(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM",description:"Error from write handler: "+r.constructor.name,extra:{code:"OZ_S-0",originalError:e}}))}i.enqueue(t)},close:function(){r.emit("writableClose");try{r.onClose()}catch(e){i.error(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM",description:"Error from close handler: "+r.constructor.name,extra:{code:"OZ_S-1",originalError:e}}))}i.close()},abort:function(t){var e=a(t);i.error(e)}}),r.readable=new(o("oz-player/shims/OzStreams")).OzReadableStream({start:function(t){i=t},cancel:function(t){r.emit("readableCancel",t),l.error(t)}}),r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.onDataWritten=function(t){},n.onClose=function(){},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/shims/www/OzPerformanceWWW",["performance","performanceNow"],(function(t,n,r,o,a,i,l){var e,s,u={now:function(){return(e||(e=r("performanceNow")))()},getEntriesByName:function(t,n){return typeof(s||(s=r("performance"))).getEntriesByName=="function"?(s||(s=r("performance"))).getEntriesByName(t,n):[]}},c=u;l.default=c}),98);
__d("oz-player/shims/OzPerformance",["oz-player/shims/www/OzPerformanceWWW"],(function(t,n,r,o,a,i,l){l.default=r("oz-player/shims/www/OzPerformanceWWW")}),98);
__d("oz-player/utils/OzResourceTimingUtils",["oz-player/shims/OzPerformance"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){var e=r("oz-player/shims/OzPerformance").getEntriesByName(t,"resource");return e.reduce(function(e,t){return e==null?t:t.responseEnd<e.responseEnd?e:t},null)};l.getLatestResourceTimingEntry=e}),98);
__d("OzVideoLiveTraceNetworkRequestStreamHandler",["oz-player/networks/OzTransformStream","oz-player/utils/OzResourceTimingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){t===void 0&&(t=!1),this.$2=!1,this.$1=e,this.$2=t}var t=e.prototype;return t.onResponse=function(t,n){var e=this,a=t.headers,i=null;if(!this.$1)return null;var l=new(r("oz-player/networks/OzTransformStream"));return l.addListener("writableClose",function(){var t={},r=o("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(n);r&&(t.lat=Math.round(r.responseStart-r.requestStart).toString()),e.$1&&a&&e.$1(a,i,t)}),this.$2&&l.addListener("writableWrite",function(e){i===null?i=[e]:i.push(e)}),l},t.onError=function(t,n){return null},e})();l.default=e}),98);
__d("oz-player/drm/OzDrmUtils",[],(function(t,n,r,o,a,i){"use strict";var e=function(t){return Uint8Array.from(window.atob(t),function(e){return e.charCodeAt(0)})},l=function(t){return window.btoa(String.fromCharCode.apply(null,new Uint8Array(t)))};i.base64ToUint8Array=e,i.arrayBufferToBase64=l}),66);
__d("OzWidevineDrmProvider",["ConstUriUtils","FBLogger","getErrorSafe","oz-player/drm/OzDrmUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,a,i){if(this.$2=[],this.$4=!0,this.$5=!1,i!=null&&i!==""&&(this.$1=o("oz-player/drm/OzDrmUtils").base64ToUint8Array(i)),t!=null&&a!=null){var l,s=(l=o("ConstUriUtils").getUri(t))==null?void 0:l.addQueryParam("access_token",a);if(s==null)throw r("FBLogger")("comet_video_player").mustfixThrow("Invalid Graph API license uri for video: %s",e);this.$3=s.toString(),this.$5=!0,this.$4=!1}else{var u=n[0];if(u==null){var c;u="/video/drm/getlicense";var d=(c=o("ConstUriUtils").getUri(u))==null?void 0:c.addQueryParam("video_id",e);if(d==null)throw r("FBLogger")("comet_video_player").mustfixThrow("Invalid server license uri for video: %s",e);this.$3=d.toString()}else this.$3=u}}var t=e.prototype;return t.getKeySystem=function(){return"com.widevine.alpha"},t.getSchemeId=function(){return"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"},t.getInitDatas=function(){return this.$2},t.setInitDatas=function(t){this.$2=t},t.getRequireDistinctiveIdentifier=function(){return"optional"},t.getRequirePersistentState=function(){return"optional"},t.getInitDataTypes=function(){},t.getDrmSessionTypes=function(){return["temporary"]},t.getAudioRobustness=function(){return""},t.getVideoRobustness=function(){return""},t.getServerCertificate=function(){return this.$1},t.getLicenseRequestInfo=function(t){var e={url:this.$3,method:"POST",body:"",headers:{},credentials:void 0};this.$4&&(e.credentials="include");var n=o("oz-player/drm/OzDrmUtils").arrayBufferToBase64(t);if(this.$5){var r={request:n};e.body=JSON.stringify(r),e.headers["Content-Type"]="application/json"}else e.body=n,e.headers["Content-Type"]="application/text";return e},t.parseLicenseResponse=function(t){var e=String.fromCharCode.apply(null,t),n;try{n=JSON.parse(e)}catch(e){n=void 0}var a;if(n!==void 0&&n.data!==void 0&&n.data.length===1){var i=n.data[0];i.error!=null||(a=i.license)}else a=e;if(a!=null&&a!=="")try{return o("oz-player/drm/OzDrmUtils").base64ToUint8Array(a)}catch(e){var l=r("getErrorSafe")(e);throw l.name==="InvalidCharacterError"?new Error("Endpoint returned error: "+a):l}return null},e})();l.default=e}),98);
__d("TimeRanges",["invariant"],(function(t,n,r,o,a,i,l,s){var e=(function(){function e(e){this.$1=[],this.$1=e}var t=e.prototype;return t.start=function(t){return this.$1[t]||s(0,2205),this.$1[t].startTime},t.end=function(t){return this.$1[t]||s(0,2205),this.$1[t].endTime},t.length=function(){return this.$1.length},e})();l.default=e}),98);
__d("VideoPlayerImplementationLoadSequenceManager",["setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=[],this.$2=[]}var t=e.prototype;return t.schedule=function(t,n,o){var e=this,a={load:o,maximumBlockTimeMs:t.getNumber("load_sequence_max_delay_ms",0),sequence:n},i=!1,l=t.getNumber("load_sequence_only_prioritize_first_count",0);return l>0?i=!this.$2.find(function(e){return e.sequence<l}):i=!this.$2.find(function(e){return e.sequence<n}),i?this.$3(a):(this.$1.push(a),r("setTimeout")(function(){return e.$4(a)},a.maximumBlockTimeMs)),function(){return e.$5(a)}},t.$4=function(t){var e=this.$1.find(function(e){return e===t});e&&(this.$1=this.$1.filter(function(e){return e!==t}),this.$3(e))},t.$3=function(t){var e=this;this.$2.push(t),t.load().then(function(){return e.$6(t)}).catch(function(n){throw e.$6(t),n}),r("setTimeout")(function(){return e.$6(t)},t.maximumBlockTimeMs)},t.$7=function(){var e=this,t=Math.min.apply(Math,this.$1.map(function(e){return e.sequence})),n=this.$1.filter(function(e){return e.sequence===t});n.forEach(function(t){return e.$4(t)})},t.$5=function(t){this.$1=this.$1.filter(function(e){return e!==t})},t.$6=function(t){if(this.$2.find(function(e){return e===t})){this.$2=this.$2.filter(function(e){return e!==t});var e=!!this.$2.find(function(e){return e.sequence===t.sequence});e&&this.$7()}},e})(),s=new e,u=s;l.default=u}),98);
__d("handleVideoPlayerLatencyLevelChange",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r){if(e&&t&&n){var o=e.getAllContexts().latency_level,a=[];try{a=JSON.parse(e.getString("seek_on_latency_level_change_allowed","[]"))}catch(e){}var i=a.some(function(e){return e.length===2&&e[0]===o&&e[1]===r});if(e.setContext("latency_level",r),!i)return;var l=t.getDuration(),s=l!=null?l+e.getNumber("live_initial_playback_position",0):null;s!=null&&t.setPlayheadPosition(s)}}i.default=e}),66);
__d("VideoPlayerOzImplementationEngineExtrasAPI",["VideoPlayerOzWWWGlobalConfig","emptyFunction","gkx","handleVideoPlayerLatencyLevelChange","oz-player/networks/OzBandwidthEstimator"],(function(t,n,r,o,a,i,l){"use strict";var e=r("emptyFunction");function s(e){var t;return(t=e.getSelectedVideoQuality())!=null?t:""}function u(e){var t=e.getCurrentPlayingAudioTrackID();return t==null?null:t}function c(e){var t=e.getCurrentVideoRepresentation();return t==null?"":t.getDisplayLabel()}function d(e){var t,n=e.getIsVideoQualityAdaptationEnabled()?"auto":(t=e.getSelectedVideoQuality())!=null?t:"auto";return n}function m(e){return e.getTargetAudioTrack()}function p(e){var t,n;return(t=(n=e.getMpd())==null?void 0:n.getCustomField("fbProjection"))!=null?t:null}function _(e,t){var n=d(e);if(t==="notselected"||t===n)return!1;if(t==="auto")return e.enableVideoQualityAdaptation(),!0;if(t!==e.getSelectedVideoQuality()){var r=t;return e.switchToVideoQuality(r),!0}else return!1}function f(e,t){var n=t;e.switchToVideoVariant(n)}function g(e){var t=e.getConfig,n=e.getOzPlayer,o=e.getVideoElementAPI,a={getApproximateFBLSToPlayerDisplayLatency:function(){var e,t;return(e=(t=n())==null?void 0:t.getApproximateFBLSToPlayerDisplayLatency())!=null?e:null},getAvailableAudioTracks:function(){var e,t=(e=n())==null?void 0:e.getAudioTracks();if(!t)return[];var r=t.map(function(e){return{displayLabel:e.displayLabel,id:e.id,lang:e.lang,mimeCodecs:e.mimeCodecs,role:e.role,variantKey:e.variantKey}});return r},getAvailableVideoQualities:function(){var e,t;return(e=(t=n())==null?void 0:t.getVideoQualities())!=null?e:[]},getAvailableVideoTracks:function(){var e,t=(e=n())==null?void 0:e.getVideoTracks();if(!t)return[];var r=t.map(function(e){return{codec:e.codec,codecFamily:e.codecFamily,displayLabel:e.displayLabel,height:e.height,id:e.id,lang:e.lang,mimeCodecs:e.mimeCodecs,qualityLabel:e.qualityLabel,role:e.role,variantKey:e.variantKey,width:e.width}});return r},getCurrentAudioRepresentation:function(){var e,t;return(e=(t=n())==null?void 0:t.getCurrentAudioRepresentation())!=null?e:null},getCurrentPlayingAudioRepresentationID:function(){var e=n();return e?u(e):null},getCurrentPlayingAudioTrackID:function(){var e=n();return e?u(e):null},getCurrentPlayingVideoQuality:function(){var e=n();return e?c(e):""},getCurrentPlayingVideoRepresentationID:function(){var e,t;return(e=(t=n())==null||(t=t.getCurrentVideoRepresentation())==null?void 0:t.getID())!=null?e:null},getCurrentTargetVideoQuality:function(){var e=n();return e?s(e):""},getCurrentVideoRepresentation:function(){var e,t;return(e=(t=n())==null?void 0:t.getCurrentVideoRepresentation())!=null?e:null},getEstimatedBandwidth:function(){return r("oz-player/networks/OzBandwidthEstimator").getBandwidth(r("VideoPlayerOzWWWGlobalConfig"))},getInbandCaptionsAutogeneratedFromManifest:function(){var e,t=(e=n())==null?void 0:e.getMpd();return!!(t!=null&&t.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))},getInbandCaptionsExpectedFromManifest:function(){var e,t=(e=n())==null?void 0:e.getMpd();return!!(t!=null&&t.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))||!!(t!=null&&t.getCustomField("hasInbandCaptionsFromAccessibility"))},getManifestIdentifier:function(){var e,t=(e=n())==null||(e=e.getMpd())==null?void 0:e.getCustomField("fbManifestIdentifier");return t!=null?String(t):null},getMpdValidationErrors:function(){var e,t=(e=n())==null||(e=e.getMpd())==null?void 0:e.getCustomField("validationErrors");return t!=null?String(t):null},getPerfLoggerProvider:function(){var e=n();return e?e.getPerfLoggerProvider():null},getRepresentationCaptionsExpectedFromManifest:function(){var e,t=(e=n())==null?void 0:e.getMpd();return!!(t!=null&&t.getCustomField("hasVTTRepresentationCaptions"))},getStreamType:function(){return"dash"},getTargetAudioTrack:function(){var e=n();return e?m(e):null},getUserSelectedVideoQuality:function(){var e=n();return e?d(e):""},getUserSelectedVideoVariant:function(){var e,t=n();return(e=t==null?void 0:t.getTargetVideoVariant())!=null?e:null},getVideoProjectionType:function(){var e=n();return e!=null?p(e):null},getVideoRepresentations:function(){var e,t;return(e=(t=n())==null||(t=t.getMpd())==null?void 0:t.getVideoRepresentations())!=null?e:null},isDrm:function(){var e;return!!((e=n())!=null&&e.isDrm())},isFBIsLiveTemplated:function(){var e,t=(e=n())==null?void 0:e.getMpd();return!!(t!=null&&t.getCustomField("isLiveTemplated"))},isFBMS:function(){var e,t=(e=n())==null?void 0:e.getMpd();return!!(t!=null&&t.getCustomField("isFBMS"))},isFBWasLive:function(){var e,t=(e=n())==null?void 0:e.getMpd();return!!(t!=null&&t.getCustomField("isFBWasLive"))},isLiveRewindAvailable:function(){var e,t,r=(e=(t=n())==null?void 0:t.getMpdUrl())!=null?e:"";try{var o,a;return(o=(a=new URL(r).searchParams.get("ms"))==null?void 0:a.includes("m_CT"))!=null?o:!1}catch(e){}return!1},isMixedCodecManifest:function(){var e,t,r,o,a=(e=n())==null?void 0:e.getMpd();if(a==null)return null;var i=(t=a.getVideoRepresentations())!=null?t:[],l=new Set(i.map(function(e){return/codecs=\"([^\".]+)/i.exec(e.getMimeCodecs())})),s=(r=(o=n())==null||(o=o.getMpd())==null?void 0:o.getAudioRepresentations())!=null?r:[],u=new Set(s.map(function(e){return/codecs=\"([^\".]+)/i.exec(e.getMimeCodecs())}));return l.size>1||u.size>1},isPredictiveDash:function(){var e,t,r=(e=(t=n())==null||(t=t.getMpd())==null?void 0:t.getVideoRepresentations()[0])!=null?e:null;return r!==null&&r.canPredict()},setDimensions:function(t){},setEnableLiveheadCatchup:function(t){var e=n();e!=null&&e.setEnableLiveheadCatchup(t)},setLatencyLevel:function(a){r("handleVideoPlayerLatencyLevelChange")(t(),o(),n(),a)},setUserSelectedVideoQuality:function(t){var e=n();e!=null&&_(e,t)},setUserSelectedVideoVariant:function(t){var e=n();e!=null&&t!=null&&f(e,t)}};return a}l.createVideoPlayerOzImplementationEngineExtrasAPI=g}),98);
__d("oz-player/shims/www/OzDOMEventListenerWWW",["OzDOMEventListenerImpl"],(function(t,n,r,o,a,i){"use strict";var e=n("OzDOMEventListenerImpl");i.default=e}),66);
__d("oz-player/shims/OzDOMEventListener",["oz-player/shims/www/OzDOMEventListenerWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/OzDOMEventListenerWWW")}),98);
__d("oz-player/shims/www/OzSubscriptionsHandlerWWW",["SubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("SubscriptionsHandler")}),98);
__d("oz-player/shims/OzSubscriptionsHandler",["oz-player/shims/www/OzSubscriptionsHandlerWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/OzSubscriptionsHandlerWWW")}),98);
__d("oz-player/shims/www/ozThrottleWWW",["throttle"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("throttle")}),98);
__d("oz-player/shims/ozThrottle",["oz-player/shims/www/ozThrottleWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/ozThrottleWWW")}),98);
__d("oz-player/strategies/OzBufferingDetectorStates",["oz-player/utils/OzBufferingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){this.$1=e,this.$2=t,this.$3=n}var t=e.prototype;return t.handleEvent=function(t,n,r){if(t.type==="pause"||n.paused)return new s(this.$1,this.$2);var e=this.$3 instanceof u?this.$1.getInPlayBufferOverflowTarget():this.$1.getStartBufferUnderflowTarget();return o("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(n,e,r)?new u(this.$1,this.$2):this},e})(),s=(function(){function t(e,t){this.$1=e,this.$2=t}var n=t.prototype;return n.handleEvent=function(n,r,a){return n.type==="play"||n.type==="playing"||!r.paused?o("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(r,this.$1.getStartBufferUnderflowTarget(),a)?new u(this.$1,this.$2):new e(this.$1,this.$2,this):this},t})(),u=(function(){function t(e,t){this.$1=e,this.$2=t,this.$3=t.getString("stream_types_eligible_for_partial_playback","").split(",")}var n=t.prototype;return n.handleEvent=function(n,r,a,i){return i===void 0&&(i=new Map),n.type==="pause"||r.paused?new s(this.$1,this.$2):!o("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(r,this.$1.getInPlayBufferUnderflowTarget(),a)&&!this.$4(n,r.currentTime,i)?new e(this.$1,this.$2,this):this},n.$4=function(t,n,r){return t.type==="waiting"?!1:o("oz-player/utils/OzBufferingUtils").hasEnoughPartialBuffer(n,r,this.$3,this.$2.getNumber("partial_playback_buffer_overflow",0))},t})();l.OzVideoBufferingState=e,l.OzVideoPausedState=s,l.OzVideoPlayingState=u}),98);
__d("oz-player/strategies/OzBufferingStateThresholdManager",["oz-player/shims/OzPerformance","oz-player/utils/OzBufferingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$2=!1,this.$3=-1/0,this.$4=-1/0,this.$1=e}var t=e.prototype;return t.getInPlayBufferUnderflowTarget=function(){return this.$1.getNumber("in_play_buffer_underflow_target",o("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)},t.getInPlayBufferOverflowTarget=function(){return this.$5()?this.$1.getNumber("stream_interrupt_in_play_buffer_overflow_target",o("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD):r("oz-player/shims/OzPerformance").now()-this.$4<this.$1.getNumber("recent_buffer_timeout_ms",0)?this.$1.getNumber("recent_buffer_in_play_buffer_overflow_target",o("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD):this.$1.getNumber("in_play_buffer_overflow_target",o("oz-player/utils/OzBufferingUtils").BUFFER_OVERFLOW_THRESHOLD)},t.getStartBufferUnderflowTarget=function(){return this.$1.getNumber("start_buffer_underflow_target",o("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)},t.notifyBufferingEnd=function(){this.$4=r("oz-player/shims/OzPerformance").now()},t.notifyStreamInterrupted=function(){this.$2=!0},t.notifyStreamResumed=function(){this.$2=!1,this.$3=r("oz-player/shims/OzPerformance").now()},t.$5=function(){var e=this.$1.getNumber("stream_interrupt_buffer_target_timeout_ms",0);return e===0?!1:this.$2||r("oz-player/shims/OzPerformance").now()-this.$3<e},e})();l.default=e}),98);
__d("oz-player/strategies/OzBufferingDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/strategies/OzBufferingDetectorStates","oz-player/strategies/OzBufferingStateThresholdManager","oz-player/utils/OzBufferingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=150,s=(function(t){function n(n,a,i){var l;return l=t.call(this)||this,l.$OzBufferingDetector$p_3=new(r("oz-player/shims/OzSubscriptionsHandler")),l.$OzBufferingDetector$p_6=new Map,l.$OzBufferingDetector$p_8=null,l.$OzBufferingDetector$p_9=function(e){l.$OzBufferingDetector$p_11(e)},l.$OzBufferingDetector$p_2=n,l.$OzBufferingDetector$p_4=a,l.$OzBufferingDetector$p_5=i,l.$OzBufferingDetector$p_7=new(r("oz-player/strategies/OzBufferingStateThresholdManager"))(a),l.$OzBufferingDetector$p_2.paused?l.$OzBufferingDetector$p_1=new(o("oz-player/strategies/OzBufferingDetectorStates")).OzVideoPausedState(l.$OzBufferingDetector$p_7,l.$OzBufferingDetector$p_4):l.$OzBufferingDetector$p_1=o("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(l.$OzBufferingDetector$p_2,l.$OzBufferingDetector$p_7.getInPlayBufferUnderflowTarget(),l.$OzBufferingDetector$p_5())?new(o("oz-player/strategies/OzBufferingDetectorStates")).OzVideoPlayingState(l.$OzBufferingDetector$p_7,l.$OzBufferingDetector$p_4):new(o("oz-player/strategies/OzBufferingDetectorStates")).OzVideoBufferingState(l.$OzBufferingDetector$p_7,l.$OzBufferingDetector$p_4,null),l.$OzBufferingDetector$p_3.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(l.$OzBufferingDetector$p_2,"pause",l.$OzBufferingDetector$p_9),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(l.$OzBufferingDetector$p_2,"play",l.$OzBufferingDetector$p_9),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(l.$OzBufferingDetector$p_2,"progress",r("oz-player/shims/ozThrottle")(l.$OzBufferingDetector$p_9,e)),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(l.$OzBufferingDetector$p_2,"timeupdate",r("oz-player/shims/ozThrottle")(l.$OzBufferingDetector$p_9,e)),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(l.$OzBufferingDetector$p_2,"seeked",l.$OzBufferingDetector$p_9),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(l.$OzBufferingDetector$p_2,"seeking",l.$OzBufferingDetector$p_9),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(l.$OzBufferingDetector$p_2,"waiting",l.$OzBufferingDetector$p_9)),l.$OzBufferingDetector$p_3.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(l.$OzBufferingDetector$p_2,"canplay",l.$OzBufferingDetector$p_9),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(l.$OzBufferingDetector$p_2,"canplaythrough",l.$OzBufferingDetector$p_9)),l}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.$OzBufferingDetector$p_10=function(){var e=this,t="unavailable",n=this.$OzBufferingDetector$p_7.getInPlayBufferUnderflowTarget();return this.$OzBufferingDetector$p_6.forEach(function(r,a){var i=e.$OzBufferingDetector$p_2.currentTime;o("oz-player/utils/OzBufferingUtils").hasBuffer(i,n,r)||(t=t==="unavailable"?a:"audio/video")}),t},a.setSourceBufferState=function(t,n){this.$OzBufferingDetector$p_6.set(t,n)},a.$OzBufferingDetector$p_11=function(t){var e=this.$OzBufferingDetector$p_1.handleEvent(t,this.$OzBufferingDetector$p_2,this.$OzBufferingDetector$p_5(),this.$OzBufferingDetector$p_6),n=this.$OzBufferingDetector$p_1;this.$OzBufferingDetector$p_1=e;var r=e instanceof o("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState,a=n instanceof o("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState;if(e===n)return r&&this.$OzBufferingDetector$p_8&&this.$OzBufferingDetector$p_8.cloneContext().getOperationLogger("buffering_handle_event").setInitiator(t.type).log(),e;if(r){var i=n instanceof o("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState?"in_play":"start/unpause";this.$OzBufferingDetector$p_8&&this.$OzBufferingDetector$p_8.cloneContext().getOperationLogger("enter_buffering").setState("buffering").setType(i).setReason(this.$OzBufferingDetector$p_10()).setInitiator(t.type).log(),this.emit("enterBuffering",i)}else a&&(this.$OzBufferingDetector$p_8&&this.$OzBufferingDetector$p_8.cloneContext().getOperationLogger("leave_buffering").setInitiator(t.type).log(),this.$OzBufferingDetector$p_7.notifyBufferingEnd(),this.emit("leaveBuffering",{domEventPerfTimestamp:t.timeStamp}));return e},a.notifyStreamInterrupted=function(){this.$OzBufferingDetector$p_7.notifyStreamInterrupted()},a.notifyStreamResumed=function(){this.$OzBufferingDetector$p_7.notifyStreamResumed()},a.attachPerfLoggerProvider=function(t){this.$OzBufferingDetector$p_8=t},a.destroy=function(){this.$OzBufferingDetector$p_3.release()},n})(r("oz-player/shims/OzEventEmitter"));l.default=s}),98);
__d("VideoPlayerOzImplementationEnginePartsImplUtils",["OzSystemicRiskABRManager","OzWidevineDrmProvider","cr:2964","gkx","justknobx","oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzBufferingDetector"],(function(t,n,r,o,a,i,l){"use strict";var e=/(livestream-)?lookaside\.(facebook|workplace)\.com$/;function s(t){return e.test(t.getDomain())}function u(e,t,n,o,a,i){if(a.current==null){var l=!0,s=function(){if(l)return!1;var e=a.current!==u;return!1},u=new(r("oz-player/strategies/OzBufferingDetector"))(e,n,function(){var e=o.getCurrentState(),n=e.controlledState;return n.streamEnded?t.getDuration():1/0});a.current=u,l=!1;var c=function(t){if(!s()){o.dispatch({payload:{bufferingType:t},type:"buffering_begin_requested"});var e=n.getNumber("ull_fallback_stall_count",0);if(e>0){var r=i.getLoggerState().stallCountTotal;n.getBool("fix_ull_fallback_stall_count",!1)&&(r=i.getLoggerState().inPlayStallCount200ms),o.getCurrentState().controlledState.latencyLevel==="ultra-low"&&r>e&&o.dispatch({payload:{latencyLevel:"low",ullIneligibilityReason:null},type:"implementation_set_latency_level_requested"})}}},d=function(t){s()||o.dispatch({payload:{domEventPerfTimestamp:t.domEventPerfTimestamp},type:"buffering_end_requested"})};u.addListener("enterBuffering",c),u.addListener("leaveBuffering",d)}}function c(e){var t=e.accessToken,n=e.graphQLVideoDRMInfo,o=e.videoFBID,a=[];if(n&&o!=null){var i=r("justknobx")._("717")?null:n.widevineCert;a.push(new(r("OzWidevineDrmProvider"))(o,n.graphApiVideoLicenseUri,n.videoLicenseUriMap,t,i!=null?i:null))}return a}function d(e){var t=e.VideoPlayerShakaPerformanceLoggerClass,n=e.accessToken,r=e.disableLogging,o=e.getApproximateFBLSToPlayerDisplayLatency,a=e.getBandwidthEstimate,i=e.getPlayerDimensions,l=e.getPlayerFormat,s=e.playbackIsLiveStreaming,u=e.playerInstanceCount,c=e.playerInstanceKey,d=e.playerSuborigin,m=e.playerVersion,p=e.videoElement,_=e.videoFBID,f=e.videoPlayerShakaPerformanceLoggerBuilder;if(r||!f&&(!t||!t.shouldInitialize()))return[];var g={accessToken:n,getApproximateFBLSToPlayerDisplayLatency:o,getBandwidthEstimate:a,getPlayerDimensions:i,getPlayerFormat:l,isLive:s,isServableViaFbms:!1,playerInstanceCount:u,playerOrigin:null,playerSuborigin:d,playerVersion:m,representationId:null,uniqueID:c,video:p,videoID:_!=null?_:""};return f!=null?[f.build(g)]:t?[new t(g)]:[]}function m(e,t){return t>0?t/1e3*-1:e.getNumber("live_initial_playback_position",0)}function p(e,t,n){return t>0&&n>0?(t+n)/1e3:e.getNumber("livehead_fall_behind_block_threshold",0)}function _(e,t){return t>0?t/2/1e3:e.getNumber("live_time_range_block_margin",0)}function f(e){return function(t,o,a,i,l,s,u,c,d){return!e&&n("cr:2964")!=null?new(n("cr:2964"))(t,o,a,i,l,s,u,c,d):t.getLegacyConfig().getBool("use_systemic_risk_abr",!1)?new(r("OzSystemicRiskABRManager"))(t,o,a,i,l,s,u,c,d):null}}function g(e,t){var n=t.experimentationConfig,o=t.getCurrentVideoRepresentation,a=t.getOzCDNSignedQueryParams,i=t.isClientTriggeredTraceEnabled,l=t.playbackIsLiveStreaming,s=t.playbackSessionId,u=t.shouldRefresh403,c=e.getQueryData(),d;if(l&&(d={},n.getBool("server_side_abr_send_client_estimates",!1))){var m=r("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(n);m&&(d=babelHelpers.extends({},d,{_nc_bwe:String(m.bandwidthEstimate),_nc_bwe_std:String(m.bandwidthStandardDeviation),_nc_ttfb:String(m.timeToFirstByteMsEstimate),_nc_ttfb_std:String(m.timeToFirstByteMsStandardDeviation)}));var p=o();p&&(d=babelHelpers.extends({},d,{_nc_abr_bitrate:String(p.getBandwidth()),_nc_abr_qlabel:p.getDisplayLabel()}))}var _=n.getNumber("live_video_chunk_duration",0),f=n.getBool("use_bandwidth_estimate_from_headers_in_abr",!1),g=f?r("oz-player/networks/OzBandwidthEstimator").hasRecentBandwidthEstimateFromHeader():!1;if(l&&_>0&&g&&(d=babelHelpers.extends({},d,{chk_dur:_.toString(10)})),r("gkx")("24354")&&c.uss!=null&&c.odm!=null&&(d=babelHelpers.extends({},d,{manual_redirect:"1"})),i&&(d=babelHelpers.extends({},d,{_nc_psid:s})),u){var h=a();if(h!=null){var y=e.getDomain()+e.getPath(),C=h.get(y);if(C!=null)for(var b in C){var v;d=babelHelpers.extends({},d,(v={},v[b]=C[b],v))}}}return d}l.checkShouldIncludeCredentials=s,l.createOzBufferingDetector=u,l.createOzDrmProviders=c,l.createOzPerfLoggerProviders=d,l.calculateInitialPlaybackPositionForDynamicMpd=m,l.calculateLiveheadFallBehindBlockThreshold=p,l.calculateLiveheadFallBehindBlockMargin=_,l.getVideoAbrManagerFactory=f,l.getCustomRequestParametersForURI=g}),98);
__d("getOzPlaybackRestrictions",["OzMinimumSmallestDimensionRestriction","OzMosThresholdRestriction","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=[];switch(e){case"HD":n.push(new(r("OzMinimumSmallestDimensionRestriction"))(720));break;case"UHD":r("gkx")("24263")&&n.push(new(r("OzMinimumSmallestDimensionRestriction"))(1080));break;default:break}var o=t.getNumber("mos_upper_threshold",0),a=t.getNumber("mos_lower_threshold",0);return(o>0||a>0)&&n.push(new(r("OzMosThresholdRestriction"))(t)),n}l.default=e}),98);
__d("oz-player/configs/OzPlayerConfigDefaults",[],(function(t,n,r,o,a,i){var e={bandwidth_ignore_on_stream_write_samples:!1,bandwidth_use_response_time_adjustment:!1,catchup_use_timeline_range_end_time_as_end:!1,clear_on_seek:!0,debug_live_replay:!1,do_not_end_stream:!1,enable_abr_logging:!1,enable_alternative_audio_tracks:!1,enable_lip_sync_abr_select_quality:!1,enable_managed_media_source:!1,enable_revoke_object_url_on_destroy:!1,fix_live_rewind_user_selected_playback_speed:!0,ignore_reset_after_seek_if_bufferahead:!1,latencymanager_stalled_edgelatency_sec_on:!1,msm_refactor_wait_for_sourceopen:!1,ms_promise_for_null:!1,no_rep_to_switch_fallback_progressive:!1,normalize_mpd_fetch_errors:!0,parse_number_templated_uri:!0,pdash_use_pdash_segmentlocator:!1,playback_speed_latency_adjustment_disabled:!1,player_emit_mpdparsed_early:!1,playhead_manager_buffered_timerange_update_on_timeupdate:!0,playhead_manager_clamp_initial_playback_position:!1,reset_catchup_timeout_after_play_sec_on_overwrite:!0,retry_video_element_error:!0,sidx_parser_memory_optimization:!0,skip_videobuffer_gaps:!0,skip_videobuffer_gaps_on_buffer_updated:!0,use_live_latency_manager:!1,use_scf_timebased_segments:!1,video_cdn_url_refresh:!1,vtt_caption_representation:!0},l={abr_confidence_threshold:.9,abr_eval_buffer_threshold:0,abr_min_bandwidth_samples:0,abr_prevent_down_switch_buffer_threshold:11,abr_restrict_from_index:0,abr_restrict_to_index:0,append_byte_target_without_range:1e5,appends_per_segment:6,auto_seek_playhead_slack:.5,bandwidth_boundary_standard_deviation_factor:1,bandwidth_estimator_half_life:6,bandwidth_estimator_outlier_exclusion_factor:50,bandwidth_estimator_std_dev_penalty_factor:0,bandwidth_header_expire_threshold:0,bandwidth_response_time_handicap:0,bandwidth_ttfb_samples_to_save:5,buffer_ahead_target:22,buffer_target_constraint_append_succeeded_reward:.2,buffer_target_constraint_minimum_sec:2,buffer_target_constraint_quota_exceeded_penalty:.3,byte_count_per_sample:2e5,catchup_timeout_after_buffering_sec:0,catchup_timeout_after_play_sec:0,clear_buffer_around_playhead_boundary_ms:5e3,clear_buffer_on_seek_epsilon_s:0,clear_buffer_on_seek_nudge_s:0,default_bandwidth_estimate:1e6,download_cursor_buffer_ahead_time_max_sec:0,download_cursor_total_buffer_max_sec:0,dvl_initial_segment_ignore_count:1,dvl_update_interval_ms:0,dynamic_mpd_initial_playback_position_offset_modifier:4,initial_manifest_request_retry_count:3,initial_switch_interval:0,in_play_buffer_overflow_target:1,in_play_buffer_underflow_target:.1,latencymanager_stalled_edgelatency_sec:0,live_audio_ibr_bandwidth_percentage:.05,live_numerical_error_epsilon:1e-4,loop_body_handle_error_interval_ms:1,low_buffer_bandwidth_target_increase_factor:0,low_buffer_bandwidth_target_threshold:10,low_segment_stream_playhead_threshold:0,manifest_initial_update_delay_ms:0,manifest_update_frequency_ms:0,max_bandwidth_sample_count:30,maximum_bandwidth_sample_bandwidth:1e8,max_start_eme_attempts:3,min_eval_interval:100,minimum_bandwidth_sample_duration:10,minimum_bytes_to_sample_on_close:25e3,min_switch_interval:100,mpd_updater_network_request_timeout_ms:2e4,ms_promise_for_null_ms:0,network_seg_timeout_ms:0,overwrite_livehead_fall_behind_block_threshold:0,overwrite_live_time_range_block_margin:0,partial_playback_buffer_overflow:.75,paused_stream_segments_count:2,pdash_download_cursor_between_catchups_seg:0,pdash_download_cursor_catchup_threshold_gop_multiplier:0,pdash_download_cursor_catchup_threshold_sec:0,pdash_download_cursor_catchup_tolerance_sec:0,per_stream_duration_target:0,pixels_above_viewport_to_observe:0,pixels_below_viewport_to_observe:0,playback_speed_enabled_delay_sec:4,playback_speed_latency_adjustment_rate:0,playback_speed_latency_slowdown_adjustment_rate:0,playback_speed_latency_speedup_adjustment_rate:0,playback_speed_min_buffer_sec:1,playback_speed_min_duration_sec:2,playback_speed_min_sharpness_factor:3,playback_speed_restore_min_duration_sec:1,playhead_manager_buffered_auto_seek_playhead_slack:.5,playhead_manager_buffered_is_near_gap_threshold:1.5,playhead_manager_buffered_numerical_error:.01,playhead_manager_timeupdate_throttle_ms:1e3,pre_start_buffer_ahead_target:16.924449682236,prioritize_by_viewport_static_penalty:0,recent_buffer_in_play_buffer_overflow_target:3,recent_buffer_timeout_ms:1e4,resolution_constraint_factor:2,seconds_to_stream:10,seconds_to_stream_near_bandwidth_boundary:10,seek_ahead_epsilon:.05,segments_to_stream:5,segments_to_stream_near_bandwidth_boundary:5,segments_to_stream_under_playhead_threshold:0,sidx_segment_retry_attempts:9999,sidx_segment_retry_interval_ms:100,skip_videobuffer_gaps_max_gap_size_sec:0,stale_mpd_buffer_ahead_target:0,start_buffer_underflow_target:.1,steadystate_minbuffer_buckets:0,steadystate_minbuffer_buckets_sec:1,steadystate_minbuffer_sec:0,stream_interrupt_buffer_target_timeout_ms:1e4,stream_interrupt_check_mpd_stale_count_threshold:6,stream_interrupt_in_play_buffer_overflow_target:1,stream_reader_max_buffer_len:0,timeline_offset_threshold:10,time_to_first_byte_estimate_half_life_ms:500,time_to_first_byte_ignore_above_threshold_ms:0},s={bandwidth_estimate_header_key:"",bandwidth_estimate_key:"",block_representation_status_codes_json:"[500, 503]",block_representation_status_codes_temporarily_json:"{}",cdn_experiment_id:"",stream_types_eligible_for_partial_playback:""};a.exports={defaultBools:e,defaultNumbers:l,defaultStrings:s}}),null);
__d("oz-player/configs/OzPlayerConfig",["oz-player/configs/OzPlayerConfigDefaults"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){e===void 0&&(e={}),this.$1=e}var t=e.prototype;return t.getBool=function(t){return typeof this.$1[t]=="boolean"?this.$1[t]:o("oz-player/configs/OzPlayerConfigDefaults").defaultBools[t]},t.getNumber=function(t){return typeof this.$1[t]=="number"?this.$1[t]:o("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[t]},t.getString=function(t){return typeof this.$1[t]=="string"?this.$1[t]:o("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[t]},t.getLegacyConfig=function(){var e=this;return{getBool:function(n,r){var t;return typeof e.$1[n]=="boolean"?e.$1[n]:(t=o("oz-player/configs/OzPlayerConfigDefaults").defaultBools[n])!=null?t:r},getNumber:function(n,r){var t;return typeof e.$1[n]=="number"?e.$1[n]:(t=o("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[n])!=null?t:r},getString:function(n,r){var t;return typeof e.$1[n]=="string"?e.$1[n]:(t=o("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[n])!=null?t:r}}},e})();l.default=e}),98);
__d("oz-player/configs/OzConfigUtils",["oz-player/configs/OzPlayerConfig"],(function(t,n,r,o,a,i,l){"use strict";var e=new(r("oz-player/configs/OzPlayerConfig")),s=function(n){return{getBool:function(r){return n.getBool(r,e.getBool(r))},getNumber:function(r){return n.getNumber(r,e.getNumber(r))},getString:function(r){return n.getString(r,e.getString(r))},getLegacyConfig:function(){return n}}};l.provideConfigWithDefaults=s}),98);
__d("oz-player/networks/OzClientClock",["oz-player/shims/OzPerformance","oz-player/utils/OzResourceTimingUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e!==null){var t=parseInt(e,10);if(!isNaN(t))return t}return null}var s=(function(){function t(){this.$1=null,this.$2=0,this.$2=Date.now()-r("oz-player/shims/OzPerformance").now()}var n=t.prototype;return n.updateOffsetFromHeaderResponse=function(n,r){var t=e(r.get("x-fb-dynamic-server-wallclock-ms")),a=e(r.get("x-fb-dynamic-rtt-ms")),i=o("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(n);if(t!==null&&a!==null&&i!=null&&i.responseStart>0&&i.duration>10){var l=i.requestStart+this.$2,s=t-l-a/2;this.$1=s}},n.now=function(){var e;return r("oz-player/shims/OzPerformance").now()+this.$2+((e=this.$1)!=null?e:0)},n.getClientClockOffsetMs=function(){return this.$1},t})(),u=new s;l.default=u}),98);
__d("oz-player/networks/OzClockSyncNetworkRequestStreamHandler",["oz-player/networks/OzClientClock","oz-player/networks/OzTransformStream"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.onResponse=function(t,n){var e=t.headers;if(!e)return null;var o=new(r("oz-player/networks/OzTransformStream"));return o.addListener("writableClose",function(){r("oz-player/networks/OzClientClock").updateOffsetFromHeaderResponse(n,e)}),o},t.onError=function(t,n){return null},e})();l.default=e}),98);
__d("VideoPlayerOzImplementationEnginePartsImplFunction",["CometThrottle","ConstUriUtils","Deferred","FBLogger","JSResourceForInteraction","NetworkStatus","OzActiveActiveFailoverNetworkRequestStreamHandler","OzBufferVTTCaptionsVisibleStrategy","OzCDNSignedQueryParams","OzCustomParsers","OzCustomRepresentationParsers","OzOneSemanticHandler","OzOneSemanticHandlerUtils","OzPredictedSegmentTimelineParser","OzVideoLiveTraceNetworkRequestStreamHandler","Promise","QE2Logger","TimeRanges","VideoPlayerConnectionQuality","VideoPlayerImplementationErrors","VideoPlayerODS","VideoPlayerOzImplementationEnginePartsImplUtils","clearTimeout","cr:1836099","cr:1871597","cr:1947728","cr:1993377","getErrorSafe","getOzPlaybackRestrictions","gkx","justknobx","md5","oz-player/configs/OzConfigUtils","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzClockSyncNetworkRequestStreamHandler","setTimeout","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("JSResourceForInteraction")("VideoPlayerEmsg").__setRef("VideoPlayerOzImplementationEnginePartsImplFunction"),u=1e4,c=null,d=null;n("cr:1836099")&&(c=n("cr:1836099").getHiveConfig(),d=n("cr:1836099").HiveOz);function m(t){var a,i,l=t.OzPlayerClass,m=t.callChain,p=t.destroyOzPlayerPartsRef,_=t.engineDebugAPI,f=t.engineExtrasAPI,g=t.getCaptionsInfo,h=t.getLatencyLevelManager,y=t.getVideoLiveTrace,C=t.handleCaptionsInfoChange,b=t.handleFatalImplementationError,v=t.hivePluginRef,S=t.initialProps,R=t.initiateLivePlaybackFromStart,L=t.loggerToVPL,E=t.machine,k=t.overrideOzRequestImplementationRef,I=t.ozBufferingDetectorRef,T=t.ozPlayerRef,D=t.p2pSessionLoggerRef,x=t.playerFormatForDPLRef,$=t.playerVersion,P=t.resolvedVideoInfo,N=t.videoElement,M=t.videoElementAPI,w={current:!1},A={current:null},F={current:null};p.current=function(t){var e=I.current;e&&(I.current=null,e.destroy());var n=T.current;if(n){_&&_.handleOzPlayerChanged(null,M),T.current=null;try{n.destroy([].concat(t,["destroyOzPlayerParts"]).join(":")).catch(function(e){var t=r("getErrorSafe")(e);r("FBLogger")("comet_video_player").catching(t).mustfix("Error in ozPlayer.destroy (async): %s",t.message)})}catch(e){var o=r("getErrorSafe")(e);r("FBLogger")("comet_video_player").catching(o).mustfix("Error in ozPlayer.destroy: %s",o.message)}}var a=A.current;a&&(A.current=null,a()),F.current&&(F.current=null),Ue(),v.current!=null&&(v.current=null),D.current&&(D.current=null),k.current&&(k.current=null)};var O=P.accessToken,B=P.audioOnly,W=P.experimentationConfig,q=P.graphQLVideoDRMInfo,U=P.graphQLVideoP2PSettings,V=P.manifestUrl,H=P.manifestXmlStringResolved,G=P.minQualityPreference,z=P.ozPrefetchCache,j=P.videoFBID,K=S.coreVideoPlayerMetaData.loggingConfig,Q=K.disableLogging===!0?null:P.VideoPlayerShakaPerformanceLoggerClass,X=!!S.coreVideoPlayerMetaData.isLiveStreaming,Y=!!((a=S.coreVideoPlayerMetaData.isClientTriggeredTraceEnabled)!=null&&a),J=function(t){return f.getEstimatedBandwidth()},Z=function(){return f.getApproximateFBLSToPlayerDisplayLatency()},ee=function(){W.setContext("connection_quality",o("VideoPlayerConnectionQuality").evaluate(function(){return J(X)}))},te=function(){var e=W.getNumber("connection_quality_context_throttle_frequency",0);if(e===0)return null;var t=r("CometThrottle")(ee,e),n=r("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",t);return function(){n.remove(),t.cancel()}};A.current=te();var ne=o("VideoPlayerOzImplementationEnginePartsImplUtils").createOzDrmProviders({accessToken:O,graphQLVideoDRMInfo:q,videoFBID:j}),re=function(){return E.getCurrentState().controlledState.captionsVisible},oe=[];W.getBool("use_vtt_captions_visible_buffer_strategy",!0)&&oe.push(new(r("OzBufferVTTCaptionsVisibleStrategy"))(re));var ae=function(){return E.getCurrentState().controlledState.dimensions},ie=function(){var e;return(e=x.current)!=null?e:"unknown"},le=o("VideoPlayerOzImplementationEnginePartsImplUtils").createOzPerfLoggerProviders({VideoPlayerShakaPerformanceLoggerClass:Q,accessToken:O,disableLogging:K.disableLogging===!0,getApproximateFBLSToPlayerDisplayLatency:Z,getBandwidthEstimate:J,getPlayerDimensions:ae,getPlayerFormat:ie,playbackIsLiveStreaming:X,playerInstanceCount:S.loggingMetaData.playerImplementationInstanceCountRef.current,playerInstanceKey:S.loggingMetaData.instanceKey,playerSuborigin:S.coreVideoPlayerMetaData.subOrigin,playerVersion:$,videoElement:N,videoFBID:j,videoPlayerShakaPerformanceLoggerBuilder:P.videoPlayerShakaPerformanceLoggerBuilder});if(F.current==null&&(F.current=new(r("OzCDNSignedQueryParams"))),U&&j!=null){var se,ue=U.community_info,ce=U.config,de=U.hive_initialization_options,me=D.current=(se=D.current)!=null?se:n("cr:1871597")?new(n("cr:1871597"))(j,ue):null;try{if(v.current==null){me&&me.logEnableP2P();var pe=function(t){D.current&&D.current.logHiveError(t)},_e=function(t){var e=T.current;e&&e.injectExternalDebugEvent("P2PTech",t.tech),D.current&&D.current.logSessionActive(t.tech)},fe=function(t){var e=T.current;e&&e.injectExternalDebugEvent("P2PStats",t),D.current&&D.current.setCurrentHiveStats(t)},ge=function(t){var e=t.state,n=E.getCurrentState(),r=n.controlledState,o=r.playbackState;if(v.current!=null&&e==="CLOSED"){Ue();var a=T.current;a&&o!=="ended"&&(w.current&&V!=null?a.updatePlayerRunTimeConfig({manifestUrl:V}):a.load(V))}},he={HiveJava:{},HiveJS:{maximumTrimming:{dash:void 0,hls:void 0},renderStatsCallback:fe},debugLevel:"off",hiveTechOrder:["HiveJS","StatsJS","HiveJava"],onActiveSession:_e,onError:pe,onSessionStateChange:ge,telemetryId:me?me.getSessionID():0},ye=W.getNumber("hive_maximum_trimming_seconds",0);if(ye>0&&(he.HiveJS.maximumTrimming={dash:ye,hls:ye}),de){var Ce=de.HiveJava,be=de.debugLevel,ve=de.hiveTechOrder;he.hiveTechOrder=ve.slice(),he.HiveJava=Ce?{minVersion:Ce.minVersion}:{},he.debugLevel=be!=null?be:he.debugLevel}if(ce.disable_hivejava_for_livevc===!0&&V!=null&&V.startsWith("https://livestream-lookaside")){var Se=he.hiveTechOrder.indexOf("HiveJava");Se>=0&&he.hiveTechOrder.splice(Se,1)}if(c)c.SensitiveInfo.restrictedConnectivityInfo=!0;else throw r("FBLogger")("comet_video_player").mustfixThrow("HiveConfig does not exist");if(d)v.current=new d(he);else throw r("FBLogger")("comet_video_player").mustfixThrow("HiveOz does not exist");if(v.current!=null){if(!n("cr:1947728"))throw r("FBLogger")("comet_video_player").mustfixThrow("OzConfigurableRequestImplementation does not exist");k.current=n("cr:1947728")(v.current.getRequestImplementation(),{inferResponseStatusIsOK:!0,inferResponseStatusIsOk2xx:!1})}}}catch(e){var Re=r("getErrorSafe")(e);me&&me.logError(Re),Ue()}}var Le=[new(r("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(e,t,n){var r=y();r!=null&&r.handleHeadersAndBody(e,t,n)},W.getBool("live_trace_parse_emsg",!1)),new(r("oz-player/networks/OzClockSyncNetworkRequestStreamHandler"))];r("OzActiveActiveFailoverNetworkRequestStreamHandler")&&Le.push(new(r("OzActiveActiveFailoverNetworkRequestStreamHandler"))(function(e,t){var n=T.current,r=e.headers;if(n&&r){var a=parseInt(r.get("x-fb-video-replica"),10);L.logVPLEvent({eventType:"replica_switch",logDataOverrides:{error_code:e.status.toString(),error_user_info:JSON.stringify({failover_response_code:e.status.toString(),replica:a,url:t})},state:E.getCurrentState()});var i=n.getMpdUrl();if(i!=null){var l=o("ConstUriUtils").getUri(i);if(l){var s=l.addQueryParam("replica",a);s&&(Ue(),n.updatePlayerRunTimeConfig({manifestUrl:s.toString(),resetStreamAnchor:!0}))}}}}));var Ee=S.coreVideoPlayerMetaData.expiredVideoUrlRefreshHandler,ke=S.loggingMetaData.instanceKey,Ie=r("gkx")("24353"),Te=r("gkx")("24354")||r("gkx")("24355"),De=X?Ie:Te,xe=r("gkx")("4927");W.getBool("log_exposure_on_oz_initialization",!1)&&o("QE2Logger").logExposureForUser("www_videos_html5_mpeg_dash");var $e={audioOnly:B!=null?B:!1,bufferEndLimit:S.coreVideoPlayerMetaData.bufferEndLimit!=null?S.coreVideoPlayerMetaData.bufferEndLimit:null,bufferingDetector:(i=I.current)!=null?i:void 0,config:o("oz-player/configs/OzConfigUtils").provideConfigWithDefaults(W),configureCustomRequestParametersForSegment:function(t){var e=null;if(X&&Y){var n=t.getByteRange(),o=n?n.startByte+", "+(n.endByte!=null?n.endByte:"null"):"null",a=r("md5")(t.getURI().toString()+o);e=e!=null?e:{},a!=null&&(e=babelHelpers.extends({},e,{_nc_tsid:a})),e=babelHelpers.extends({},e,{_nc_e2e:"live"})}return e},customParsers:o("OzCustomParsers").createOzCustomParser(),customRepresentationParsers:o("OzCustomRepresentationParsers").createOzCustomRepresentationParsers({ozConfig:W}),customSegmentTimelineParser:W.getBool("enable_predictive_dash",!1)?new(r("OzPredictedSegmentTimelineParser")):void 0,customVTTBufferTargetStrategies:oe,debugCreateInitiator:[].concat(m,["proceedWithOzPlayerCreation"]).join(":"),drmProviders:ne,getCustomRequestParametersForURI:function(t){return o("VideoPlayerOzImplementationEnginePartsImplUtils").getCustomRequestParametersForURI(t,{experimentationConfig:W,getCurrentVideoRepresentation:function(){var e=T.current;return e==null?void 0:e.getCurrentVideoRepresentation()},getOzCDNSignedQueryParams:function(){return F.current},isClientTriggeredTraceEnabled:Y,playbackIsLiveStreaming:X,playbackSessionId:ke,shouldRefresh403:De})},getOverrideOzRequestImplementation:function(){return k.current},getShouldIncludeCredentials:W.getBool("use_oz_credentials_provider",!1)?o("VideoPlayerOzImplementationEnginePartsImplUtils").checkShouldIncludeCredentials:null,getUserSelectedPlaybackRate:function(){return E.getCurrentState().controlledState.targetPlaybackRate},getVideoDimensions:ae,initialPlaybackPositionForDynamicMpd:o("VideoPlayerOzImplementationEnginePartsImplUtils").calculateInitialPlaybackPositionForDynamicMpd(W,S.coreVideoPlayerMetaData.desiredLatencyMs),initialRepresentationIDs:S.coreVideoPlayerMetaData.initialRepresentationIds,initiateLivePlaybackFromStart:R,isClientTriggeredTraceEnabled:Y,liveheadFallBehindBlockMargin:o("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockMargin(W,S.coreVideoPlayerMetaData.desiredLatencyMs),liveheadFallBehindBlockThreshold:o("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockThreshold(W,S.coreVideoPlayerMetaData.desiredLatencyMs,S.coreVideoPlayerMetaData.latencyToleranceMs),loggerConfig:{isOzDevConsoleEnabled:r("gkx")("24356"),observedOperationLoggers:[],perfLoggerProviders:le},mpdUrl:V,networkRequestFetchPriority:"high",networkRequestStreamHandlers:Le,networkRequestStreamRetryHandler:De?function(t,o,a){var i=t.headers,l=i==null?void 0:i.get("x-fb-url-refresh"),s=F.current;if(t.status===403&&s!=null){L.logVPLEvent({eventType:"video_cdn_url_expired",logDataOverrides:{error_user_info:JSON.stringify({expired_url:a})},state:E.getCurrentState()});var u=l!=null&&n("cr:1993377")!=null?{name:"refreshShortExpiryVideoUrl",promise:n("cr:1993377")(l)}:Ee!=null?{name:"expiredVideoUrlRefreshHandler",promise:Ee(a)}:null;if(u!=null)return u.promise.then(function(e){var t,n,a=(t=e.refreshedUrl)!=null?t:null,i=(n=e.reason)!=null?n:null;if(a!=null&&a!=="")return L.logVPLEvent({eventType:"video_cdn_url_refreshed",logDataOverrides:{error_user_info:JSON.stringify({refresh_handler:u.name,refreshed_url:a})},state:E.getCurrentState()}),s.update(a),o(a);throw r("FBLogger")("comet_video_player").mustfixThrow("%s refreshedUrl is %s, reason: %s",u.name,a===""?"an empty string":"null",i!=null?i:"null")}).catch(function(e){var t=r("getErrorSafe")(e);throw L.logVPLEvent({eventType:"video_cdn_url_refresh_error",logDataOverrides:{error_description:t.message,error_user_info:JSON.stringify({expired_url:a,refresh_handler:u.name,refresh_url:l})},state:E.getCurrentState()}),t})}return(e||(e=n("Promise"))).resolve(t)}:null,networkRequestUrlRefreshHandler:xe?S.coreVideoPlayerMetaData.expiredVideoUrlRefreshHandler:null,prefetchCache:W.getBool("use_prefetch_cache",!1)?z:null,rawMpdXml:v.current!=null?void 0:H,seekHandler:null,setCustomFetchStreamLoggingAttributes:function(t,n,a){t.setIsOnline(r("NetworkStatus").isOnline());var e=a==null?void 0:a.headers;if(e)try{t.setProxyStatusHeader(e.get("proxy-status")),t.setDynamicStatusHeader(e.get("x-fb-dynamic-status"))}catch(e){}o("OzOneSemanticHandlerUtils").setOneSemanticFetchStreamLoggingAttributes(t,n,a)},shouldBlockStatusCode5xx:!X,startTimeStamp:W.getBool("fix_start_timestamp",!1)?S.coreVideoPlayerMetaData.startTimestamp:0,userPreferenceLang:S.initialAudioUserPreferredLanguage,videoAbrManagerFactory:o("VideoPlayerOzImplementationEnginePartsImplUtils").getVideoAbrManagerFactory(X),videoNode:N,videoPlaybackRestrictions:r("getOzPlaybackRestrictions")(G,W)},Pe=new l($e);T.current=Pe,I.current&&I.current.attachPerfLoggerProvider(Pe.getPerfLoggerProvider());var Ne=S.loggingMetaData.playerImplementationInstanceCountRef;Ne.current++,Pe.onError(function(e){Q&&Q.flushQueuedLogs(),b(e,"oz_player_error")}),r("justknobx")._("3727")||Pe.onWarning(function(e){Q&&Q.flushQueuedLogs();var t=o("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(e,"oz_player_warning");E.dispatch({payload:{warningError:t},type:"implementation_warning"})}),Pe.addListener("switchVideoRepresentation",function(){E.dispatch({payload:{},type:"representation_changed"})});var Me=function(t){if(W.getBool("enable_error_recovery_attempt_logging",!1)){var e=o("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(t,"oz_player_stream_error_retry");E.dispatch({payload:{recoverableError:e},type:"error_recovery_attempt"})}};Pe.addListener("manifestFetchError",function(e){o("OzOneSemanticHandler").handleManifestFetchErrorEvent(W,e)}),Pe.addListener("manifestFetchErrorRetry",function(e){Me(e)}),Pe.addListener("streamError",function(e){return o("OzOneSemanticHandler").handleStreamErrorEvent(W,e)}),Pe.addListener("streamErrorRetry",function(e){var t;(((t=e.getExtra())==null?void 0:t.mimeType)!=="application"||W.getBool("enable_era_logging_for_application_stream",!0))&&Me(e)}),Pe.addListener("streamInterruptAt",function(){E.dispatch({type:"stream_interrupted"})}),Pe.addListener("streamResumedAt",function(){E.dispatch({type:"stream_resumed"})}),Pe.addListener("streamGoneBeforeStart",function(){Ue(),E.dispatch({type:"stream_gone_before_start"})}),Pe.addListener("streamEnd",function(){Ue(),E.dispatch({type:"stream_ended"})}),Pe.addListener("videoNodeErrorRetry",function(e){if(W.getBool("enable_error_recovery_attempt_logging",!1)){var t=o("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationVideoNodeError(e,"oz_player_stream_error_retry");E.dispatch({payload:{recoverableError:t},type:"error_recovery_attempt"})}}),Pe.addListener("enterBuffering",function(e){E.dispatch({payload:{bufferingType:e},type:"buffering_begin_requested"})}),Pe.addListener("leaveBuffering",function(e){E.dispatch({payload:{domEventPerfTimestamp:e.domEventPerfTimestamp},type:"buffering_end_requested"})}),_&&_.handleOzPlayerChanged(Pe,M);var we=function(){var e=g(),t={inbandCaptionsAutogeneratedFromManifest:f.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:f.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:e==null?void 0:e.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:f.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:e==null?void 0:e.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:e==null?void 0:e.sideLoadCaptionsUrlFromProps},n=E.getCurrentState(),r=n.controlledState;(t.inbandCaptionsExpectedFromManifest!==r.captionsLoaded||t.inbandCaptionsAutogeneratedFromManifest!==r.inbandCaptionsAutogenerated)&&C(t)},Ae=function(t,n){var e=t.getCustomField("timescale"),r=typeof e=="number"?e:0;E.dispatch({payload:{timescale:r,videoBytes:n},type:"cea608_bytes_received"})},Fe=function(){var e=f.getVideoRepresentations();if(e!=null&&e.length>0){var t=e[0].getTimeRanges();if(t!=null&&t.length>0){var n=t[0].startTime,o=Math.max(t[t.length-1].endTime-W.getNumber("live_rewind_seek_to_live_delta",8),n);E.dispatch({payload:{seekableRanges:new(r("TimeRanges"))([{endTime:o,startTime:n}])},type:"seekable_ranges_changed"})}}},Oe=function(){var e=Pe.getMpd();if(e){var t=e.getCustomField("loapStreamType"),n=y();typeof t=="number"&&n!=null&&n.setStreamType(t)}},Be=function(t){if(t!=null){var e=o("ConstUriUtils").getUri(t);if(e){var n=e.getQueryParam("lvp");return n==="1"}}return!1},We=function(t){var e=function(){Fe(),we(),Oe()};t.addListener("updated",e),e();var n=[],a=function(t){r("vulture")("-qMa5tAKPbv_1R6kiRCb1dmZzO4="),L.logVPLEvent({eventType:"imf",logDataOverrides:t,state:E.getCurrentState()})},i=function(t,n,r){var e=t.parseEmsgBoxesFromMP4Segment,o=e(r,j,n.getID(),N.currentTime,a);o.length>0&&E.dispatch({payload:{emsgBoxes:o},type:"emsg_boxes_parsed"})},l=function(t){for(var e=n.shift();e;)i.apply(void 0,[t].concat(e)),e=n.shift()};if(Pe.updatePlayerRunTimeConfig({audioStreamDataHandler:function(){var e=E.getCurrentState();if(e.controlledState.emsgObserverTokens.size>0){for(var t=s.getModuleIfRequireable(),o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];t!=null?(l(t),i.apply(void 0,[t].concat(a))):(n.push(a),s.load().then(function(e){l(e)}).catch(function(e){r("FBLogger")("comet_video_player").catching(r("getErrorSafe")(e)).warn("Failed to load VideoPlayerEmsg"),n.length=0}))}},videoStreamDataHandler:Ae}),f.isPredictiveDash()){W.setContext("streaming_implementation","pdash");var u=h();u&&u.maybeUpdateLatencyLevel()}var c="mos",d=W.getBool("is_csvqm_enabled",!1);if(d&&!X){var m=f.getVideoRepresentations(),p=m==null?void 0:m.every(function(e){return e.getQualityScoreCurveString("csvqm")!=null});p===!0&&(c="csvqm")}W.setContext("quality_score_type",c),o("VideoPlayerODS").bumpEntityKey("comet_video_player",c==="csvqm"?"OzImplementation.quality_score_type_csvqm":"OzImplementation.quality_score_type_mos",14);{var _=g();C({inbandCaptionsAutogeneratedFromManifest:f.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:f.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:_==null?void 0:_.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:f.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:_==null?void 0:_.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:_==null?void 0:_.sideLoadCaptionsUrlFromProps})}};Pe.addListener("vttCaptionsUpdated",function(e,t){var n="webvtt",r=E.getCurrentState().controlledState.captionFormat;n!==r&&E.dispatch({payload:{captionFormat:n},type:"controller_set_caption_format_requested"}),E.dispatch({payload:{activeCaptions:e,captionsLocale:t},type:"controller_set_active_captions_requested"})}),Pe.addListener("mpdParsed",function(e){f.isPredictiveDash()&&W.setContext("streaming_implementation","pdash")}),Pe.addListener("mpdReady",function(e){w.current=!0,We(e),E.dispatch({payload:{selectedVideoQuality:f.getUserSelectedVideoQuality()},type:"implementation_engine_initialized"})}),Pe.addListener("representationBlocked",function(e){E.dispatch({payload:{blockedRepresentationID:e},type:"implementation_engine_representation_blocked"})});var qe=null;function Ue(){r("clearTimeout")(qe);var e=v.current,t=D.current;if(e!=null){v.current=null,D.current=null,k.current=null;try{e!=null&&e.closeHiveSession(),t&&t.logEndSession()}catch(e){var n=r("getErrorSafe")(e);t&&t.logError(n)}}}var Ve=v.current,He=U==null?void 0:U.ticket;if(V!=null&&U&&Ve!=null&&He!=null){var Ge=Pe.getPerfLoggerProvider();Ge&&Ge.setIsP2pPlayback(!0);var ze=V.substring(V.indexOf("?")),je=Ve.initSession(He+ze,Pe,N),Ke=new(r("Deferred"));qe=r("setTimeout")(function(){Ke.reject(new Error("Hive initialization timed out after "+u+"ms"))},u),je.then(function(e){Ke.resolve(e)}).catch(function(e){Ke.reject(e)}),Ke.getPromise().then(function(e){r("clearTimeout")(qe);var t=e.manifest,n=e.tech,o=D.current;t!==V&&o&&o.logManifestMismatch(t,V),o&&o.logSessionInit(n,t),L.setLoggingToVPLAdditionalData("is_p2p_playback",!0),L.setLoggingToVPLAdditionalData("is_live_preview",Be(t)),Pe.load(t)}).catch(function(e){r("clearTimeout")(qe);var t=D.current;t&&t.logError(e),Ue(),L.setLoggingToVPLAdditionalData("is_live_preview",Be(V)),Pe.load(V)})}else L.setLoggingToVPLAdditionalData("is_p2p_playback",!1),L.setLoggingToVPLAdditionalData("is_live_preview",Be(V)),Pe.load(V)}l.proceedWithOzPlayerCreation=m}),98);
__d("VideoPlayerOzImplementationLatencyLevelManager",[],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){this.$2="normal",this.$4=null,this.$1=e,this.$3=t,this.$6=n}var t=e.prototype;return t.updatePlayerFormat=function(t){this.$4!==t&&(this.$4=t,this.maybeUpdateLatencyLevel())},t.updateBroadcastLatencySensitivity=function(t){this.$5!==t&&(this.$5=t,this.maybeUpdateLatencyLevel())},t.maybeUpdateLatencyLevel=function(){var e=this.$7(this.$5);e!==this.$2&&(this.$2=e,this.$1.getBool("set_latency_context_immediately",!1)&&this.$1.setContext("latency_level",e),this.$3.dispatch({payload:{latencyLevel:e,ullIneligibilityReason:this.$8()},type:"implementation_set_latency_level_requested"}))},t.$8=function(){var e=this.$1.getNumber("ultra_low_latency_bandwidth_threshold",0),t=this.$6.getEstimatedBandwidth();return t!==null&&e>0&&t<e?"low_bandwidth_estimate":null},t.$7=function(t){if(t==null)return"normal";switch(t){case 1:return"low";case 2:return this.$8()!==null?this.$1.getBool("fall_back_to_low_latency_in_ull",!1)?"low":"normal":"ultra-low";case 0:return"normal"}},e})();l.default=e}),98);
__d("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay",["requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferredForDisplay")("oz-player").__setRef("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay");function s(){return{getModuleIfRequireable:function(){return e.getModuleIfRequireable()||null},load:function(){return e.load()}}}l.default=s}),98);
__d("VideoPlayerOzImplementationEngine",["CometDASHPrefetchCacheManager","ErrorMetadata","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerImplementationLoadSequenceManager","VideoPlayerODS","VideoPlayerOzImplementationEngineExtrasAPI","VideoPlayerOzImplementationEnginePartsImplFunction","VideoPlayerOzImplementationEnginePartsImplUtils","VideoPlayerOzImplementationLatencyLevelManager","VideoPlayerOzPlayerModuleLoaderDeferredForDisplay","cr:1157","err","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=!1;function s(e){var t=e.initialProps,a={current:null},i={current:null},l={current:null},s={current:null},u={current:null},c={current:null},d={current:null},m={current:null},p={current:null},_={current:null},f={current:null},g={current:null},h={current:null},y={current:null};function C(){var e;return(e=d.current)!=null?e:null}function b(){var e;return(e=c.current)!=null?e:null}function v(){var e,t;return(e=(t=i.current)==null?void 0:t.experimentationConfig)!=null?e:null}function S(){var e;return(e=X.current)!=null?e:null}function R(){var e;return(e=h.current)!=null?e:null}var L;n("cr:1157")&&(L=new(n("cr:1157")));var E="comet_oz",k=t.loggingMetaData.instanceKey,I=t.initiateLivePlaybackFromStart,T=function(t,n){return n.manifestXmlStringInitial!==null?t.manifestXmlStringInitial!==n.manifestXmlStringInitial:t.manifestUrl!==n.manifestUrl},D=function(t,n){return t.videoFBID!==n.videoFBID},x=function(t){return t.getBool("use_full_player_if_cached",!1)&&r("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")?r("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")().getModuleIfRequireable():null},$=function(t,n,r){n!=null?i.current=babelHelpers.extends({},t,{manifestXmlStringResolved:n}):i.current=t,Q.dispatch({type:"implementation_engine_oz_manifest_downloading"}),u.current=x(t.experimentationConfig),M(u.current,[].concat(r,["proceedWithOzManifestDownloading"]))},P=function(t){var e,n,i,l=t.manifestUrl,s=t.manifest,u=null;r("CometDASHPrefetchCacheManager")&&t.coreVideoPlayerMetaData.videoFBID!=null&&(u=r("CometDASHPrefetchCacheManager").get(t.coreVideoPlayerMetaData.videoFBID));var c={VideoPlayerShakaPerformanceLoggerClass:t.coreVideoPlayerMetaData.VideoPlayerShakaPerformanceLoggerClass,accessToken:t.loggingMetaData.accessToken,audioOnly:t.coreVideoPlayerMetaData.audioOnly,experimentationConfig:t.experimentationConfig,graphQLVideoDRMInfo:t.coreVideoPlayerMetaData.graphQLVideoDRMInfo,graphQLVideoP2PSettings:t.coreVideoPlayerMetaData.graphQLVideoP2PSettings,initialAudioUserPreferredLanguage:t.initialAudioUserPreferredLanguage,manifestUrl:l!=null?l:null,manifestXmlStringInitial:s!=null?s:null,minQualityPreference:t.minQualityPreference,ozPrefetchCache:u,videoFBID:t.coreVideoPlayerMetaData.videoFBID,videoPlayerShakaPerformanceLoggerBuilder:t.coreVideoPlayerMetaData.videoPlayerShakaPerformanceLoggerBuilder},d=a.current,m=(e=h.current)!=null?e:new(r("VideoPlayerOzImplementationLatencyLevelManager"))(t.experimentationConfig,Q,B);h.current=m,y.current=(n=t.coreVideoPlayerMetaData.playerFormat)!=null?n:null,m.updatePlayerFormat((i=t.coreVideoPlayerMetaData.playerFormat)!=null?i:null),m.updateBroadcastLatencySensitivity(t.coreVideoPlayerMetaData.broadcastLatencySensitivity);var p=!1;if(d==null)p=!0;else if(d!=null&&!D(c,d)&&T(c,d)){var _=14;o("VideoPlayerODS").bumpEntityKey("OzImplementation","manifest_reloaded",_),p=!1}else if(d!=null&&D(c,d)){var f,g=r("err")("videoFBID changed after player initialization: %s",JSON.stringify({subOrigin:t.coreVideoPlayerMetaData.subOrigin,toVideoFBID:c.videoFBID}));g.name="VideoPlayerOzImplementationVideoFBIDChanged";var C=(f=g.metadata)!=null?f:new(r("ErrorMetadata"));throw d.videoFBID!=null&&C.addEntry("COMET_VIDEO","VIDEO_ID",d.videoFBID),g.metadata=C,g.project="comet_video_player",g}if(!p)return!1;if(l=c.manifestUrl,s=c.manifestXmlStringInitial,s==null&&l==null){var b,v=r("err")("Empty manifestXmlStringInitial and manifestUrl: %s",JSON.stringify({manifestUrl:l,manifestXmlStringInitial:s,subOrigin:t.coreVideoPlayerMetaData.subOrigin}));v.name="VideoPlayerOzImplementationManifestEmpty";var S=(b=v.metadata)!=null?b:new(r("ErrorMetadata"));throw c.videoFBID!=null&&S.addEntry("COMET_VIDEO","VIDEO_ID",c.videoFBID),v.metadata=S,v.project="comet_video_player",v}return a.current=c,$(c,s,["handleVideoInfoChangeForOzImplementation","downloadManifestInOz"]),!0},N=function(t,n){var e=function(r){s.current===t&&(u.current=r,M(r,[].concat(n,["handleOzPlayerModuleLoadSuccess"])))},o=function(n){s.current===t&&j(n,"oz_player_module_load_failed")};s.current=t,r("promiseDone")(t,e,o)},M=function(t,n){var e=H(),a=i.current;if(!(e==null||a==null)){var l=r("gkx")("18183")?o("VideoPlayerImplementationEngineAPI").ensureVideoElementAPI(X):X.current=o("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(e),s=a.experimentationConfig;t?w(t,e,l,a,[].concat(n,["proceedWithResolvedVideoInfo","OzPlayerModuleFromRef"])):(s.getBool("instantiate_buffering_detector_before_quick_starter",!1)&&o("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(e,l,a.experimentationConfig,Q,d,K),N(r("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")().load(),[].concat(n,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderAsync"])))}},w=function(n,a,i,s,u){try{var e={OzPlayerClass:n,callChain:[].concat(u,["proceedWithResolvedVideoInfoAndOzPlayerModuleSync"]),destroyOzPlayerPartsRef:g,engineDebugAPI:L,engineExtrasAPI:B,getCaptionsInfo:V,getLatencyLevelManager:R,getVideoLiveTrace:G,handleCaptionsInfoChange:z,handleFatalImplementationError:j,initialProps:t,loggerToVPL:K,machine:Q,ozBufferingDetectorRef:d,playerFormatForDPLRef:y,playerVersion:E,resolvedVideoInfo:s,videoElement:a},h=v(),C=t.coreVideoPlayerMetaData.loadSequence;h&&h.getNumber("load_sequence_max_delay_ms",0)>0&&C!=null?f.current=r("VideoPlayerImplementationLoadSequenceManager").schedule(h,C,function(){return o("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers.extends({},e,{hivePluginRef:m,initiateLivePlaybackFromStart:I,overrideOzRequestImplementationRef:_,ozPlayerRef:c,p2pSessionLoggerRef:p,videoElementAPI:i})),i.getCanPlayPromise()}):o("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers.extends({},e,{hivePluginRef:m,initiateLivePlaybackFromStart:I,overrideOzRequestImplementationRef:_,ozPlayerRef:c,p2pSessionLoggerRef:p,videoElementAPI:i})),l.current=s}catch(e){j(e,"oz_player_create_exception")}};function A(e){var t=g.current;t!=null&&(g.current=null,t(e)),f.current!=null&&(f.current(),f.current=null)}function F(){}function O(){s.current=null,u.current=null}var B=o("VideoPlayerOzImplementationEngineExtrasAPI").createVideoPlayerOzImplementationEngineExtrasAPI({getConfig:v,getOzPlayer:b,getVideoElementAPI:S}),W=o("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({createDebugAPI:function(t){var e=t.getVideoElementAPI,n=t.loggerToVPL;return L?L.createDebugAPI({engineExtrasAPI:B,getConfig:function(){var e,t;return(e=(t=l.current)==null?void 0:t.experimentationConfig)!=null?e:null},getManifest:function(){var e,t;return(e=(t=l.current)==null?void 0:t.manifestXmlStringResolved)!=null?e:null},getManifestUrl:function(){var e,t;return(e=(t=l.current)==null?void 0:t.manifestUrl)!=null?e:null},getOzBufferingDetector:C,getOzPlayer:b,getVideoElementAPI:e,loggerToVPL:n}):null},createVideoPlayerError:o("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError,destroyEngineParts:function(t){A([].concat(t,["destroyEngineParts"])),O()},engineCreateArgs:e,engineExtrasAPI:B,engineMetadata:{isAbrEnabled:!0,playerInstanceKey:k,playerVersion:E,streamingFormat:"dash"},handleVideoElementChanged:function(t,n){t!=null&&M(u.current,[].concat(n,["handleVideoElementMounted"]))},handleVideoInfoChange:P}),q=W.debugLog,U=W.engine,V=W.getCaptionsInfo,H=W.getVideoElement,G=W.getVideoLiveTrace,z=W.handleCaptionsInfoChange,j=W.handleFatalImplementationError,K=W.loggerToVPL,Q=W.machine,X=W.videoElementAPIRef;return U}l.createVideoPlayerOzImplementationEngine=s}),98);
__d("VideoPlayerOzImplementationIGLazyConditional.react",["cr:1635"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:1635")}),98);
__d("VideoPlayerOzImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerOzImplementationEngine"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(e,o("VideoPlayerOzImplementationEngine").createVideoPlayerOzImplementationEngine),n=t.reactVideoFrameAndComponents;return n}l.default=e}),98);
__d("oz-player/shims/ozReportUnexpectedError",["oz-player/shims/www/ozReportUnexpectedErrorWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/ozReportUnexpectedErrorWWW")}),98);
__d("oz-player/loggings/OzLoggingUtils",["oz-player/shims/ozReportUnexpectedError"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=e.getOperationLogger(t).start();try{return n(r)}catch(e){throw r.setError(e),e}finally{r.log()}}function s(e,t,n,o,a){o===void 0&&(o=function(){}),a===void 0&&(a=function(){});var i=t.getOperationLogger(n).start();o(i),e.then(function(e){a(i),i.log()},function(e){a(i),i.setError(e),i.log()}).catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,n+" logger")})}l.executeOperationAndLog=e,l.monitorPromiseAndLogOperation=s}),98);
__d("oz-player/loggings/OzOperationLoggerBase",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$52=new Map,this.$1=e}var t=e.prototype;return t.start=function(){var e=Date.now();return this.setClientTimeBegin(e),this.setClientTimeEnd(null),this.setClientTimeDuration(null),this},t.log=function(){var e=Date.now(),t=this.getClientTimeBegin(),n=this.getClientTimeEnd();(t==null||t===0)&&(t=e,this.setClientTimeBegin(t)),(n==null||n===0)&&(n=e,this.setClientTimeEnd(n)),this.setClientTimeDuration(n-t)},t.setError=function(t){return this.$2=t,this},t.setPerSessionSampleRate=function(t){return this.$3=t,this},t.setAppendTarget=function(t){return this.$47=t,this},t.setOneObserved=function(t){return this.$44=t,this},t.setOneReqWave=function(t){return this.$45=t,this},t.setOneResWave=function(t){return this.$46=t,this},t.setIsP2pPlayback=function(t){return this.$43=t,this},t.setResult=function(t){return this.$4=t,this},t.setType=function(t){return this.$5=t,this},t.setClientTimeBegin=function(t){return this.$6=t,this},t.setClientTimeDuration=function(t){return this.$7=t,this},t.setClientTimeEnd=function(t){return this.$8=t,this},t.setSegmentCount=function(t){return this.$15=t,this},t.setTimeToFirstByte=function(t){return this.$9=t,this},t.setTimeToLastByte=function(t){return this.$10=t,this},t.setTimeToRequestStart=function(t){return this.$11=t,this},t.setTimeToRequestSent=function(t){return this.$12=t,this},t.setReason=function(t){return this.$13=t,this},t.setResource=function(t){return this.$14=t,this},t.setSegmentStartTime=function(t){return this.$16=t,this},t.setSegmentEndTime=function(t){return this.$17=t,this},t.setLength=function(t){return this.$18=t,this},t.setLiveheadPosition=function(t){return this.$19=t,this},t.setLiveheadSeqNumHeader=function(t){return this.$20=t,this},t.setLiveheadSeqNumMpd=function(t){return this.$21=t,this},t.setManifestType=function(t){return this.$22=t,this},t.setMediaSourceNewDuration=function(t){return this.$23=t,this},t.setMediaSourcePreviousDuration=function(t){return this.$24=t,this},t.setPriorityFloat=function(t){return this.$25=t,this},t.setAppendedBufferMs=function(t){return this.$26=t,this},t.setInitiator=function(t){return this.$27=t,this},t.setPreloadTime=function(t){return this.$28=t,this},t.setConcluder=function(t){return this.$29=t,this},t.setPreviousRepresentationID=function(t){return this.$30=t,this},t.setRepresentationID=function(t){return this.$31=t,this},t.setStreamSwitchReason=function(t){return this.$32=t,this},t.setState=function(t){return this.$33=t,this},t.setContentLengthHeader=function(t){return this.$34=t,this},t.setOriginHitHeader=function(t){return this.$36=t,this},t.setEdgeHitHeader=function(t){return this.$37=t,this},t.setFNAHitHeader=function(t){return this.$38=t,this},t.setCode=function(t){return this.$35=t,this},t.setResponseTimeMsHeader=function(t){return this.$39=t,this},t.setIsTemplatedManifest=function(t){return this.$40=t,this},t.setIsLatencyCachupEnabled=function(t){return this.$41=t,this},t.setPlayerFormat=function(t){return this.$42=t,this},t.setIsRingBufferSample=function(t){return this.$48=t,this},t.setIsOnline=function(t){return this.$49=t,this},t.setProxyStatusHeader=function(t){return this.$50=t,this},t.setPlaybackFbmsParam=function(t){return this},t.setPreferredEdgeLatency=function(t){return this.$51=t,this},t.setUserInfo=function(t){return this},t.setDynamicStatusHeader=function(t){return this},t.setIsMixedCodecManifest=function(t){return this.$53=t,this},t.getPerSessionSampleRate=function(){return this.$3},t.setMediaSourceSourceBuffer=function(t,n){return this.$52.set(t,n),this},t.unsetMediaSourceSourceBuffers=function(){return this.$52.clear(),this},t.getError=function(){return this.$2},t.getResult=function(){return this.$4},t.getType=function(){return this.$5},t.getClientTimeBegin=function(){return this.$6},t.getClientTimeEnd=function(){return this.$7!=null?this.$6!=null?this.$6+this.$7:null:this.$8},t.getTimeToRequestStart=function(){return this.$11},t.getTimeToRequestSent=function(){return this.$12},t.getReason=function(){return this.$13},t.getResource=function(){return this.$14},t.getOperationName=function(){return this.$1},t.getSegmentStartTime=function(){return this.$16},t.getSegmentEndTime=function(){return this.$17},t.getLength=function(){return this.$18},t.getLiveheadPosition=function(){return this.$19},t.getManifestType=function(){return this.$22},t.getIsMixedCodecManifest=function(){return this.$53},t.getPriorityFloat=function(){return this.$25},t.getAppendedBufferMs=function(){return this.$26},t.getInitiator=function(){return this.$27},t.getPreloadTime=function(){return this.$28},t.getConcluder=function(){return this.$29},t.getContentLengthHeader=function(){return this.$34},t.getOriginHitHeader=function(){return this.$36},t.getEdgeHitHeader=function(){return this.$37},t.getFNAHitHeader=function(){return this.$38},t.getCode=function(){return this.$35},t.getResponseTimeMsHeader=function(){return this.$39},t.getIsTemplatedManifest=function(){return this.$40},t.getOneObserved=function(){return this.$44},t.getOneReqWave=function(){return this.$45},t.getOneResWave=function(){return this.$46},t.getAppendTarget=function(){return this.$47},t.getIsRingBufferSample=function(){return this.$48},t.getIsOnline=function(){return this.$49},t.getProxyStatusHeader=function(){return this.$50},t.getMediaSourceSourceBuffers=function(){return this.$52},e})();i.default=e}),66);
__d("oz-player/shims/www/OzMaybeNativePromiseWWW",["cr:3014"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:3014")}),98);
__d("oz-player/shims/OzMaybeNativePromise",["oz-player/shims/www/OzMaybeNativePromiseWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/OzMaybeNativePromiseWWW")}),98);
__d("oz-player/utils/OzErrorEmitter",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return t===void 0&&(t=!1),n=e.call(this)||this,n.$OzErrorEmitter$p_1=!1,n.$OzErrorEmitter$p_2=!1,n.$OzErrorEmitter$p_3=[],n.emitError=function(e){n.$OzErrorEmitter$p_1?n.emit("error",e):n.$OzErrorEmitter$p_2?n.$OzErrorEmitter$p_3.push(e):n.$OzErrorEmitter$p_1||r("oz-player/shims/ozvariant")(0,14038)},n.$OzErrorEmitter$p_2=t,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.onError=function(t){this.$OzErrorEmitter$p_1=!0;var e=this.addListener("error",t);return this.$OzErrorEmitter$p_2&&this.$OzErrorEmitter$p_3.length>0&&this.$OzErrorEmitter$p_3.forEach(this.emitError),e},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/drm/OzDrmManager",["oz-player/drm/OzDrmUtils","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzOperationLoggerBase","oz-player/shims/OzDOMEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){var a=this;n===void 0&&(n=null),this.$1=null,this.$2=new Map,this.$4=!1,this.$6=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$7=new(r("oz-player/utils/OzErrorEmitter")),this.$8=!1,this.$9=null,this.$10=0,this.$11=[],this.$12=[],this.$22=function(e,t){e instanceof r("oz-player/loggings/OzOperationLoggerBase")&&e.getError()&&e.setResult("failed"),t!=null&&e.setReason(t)},this.$19=function(e){if(a.$4)return r("oz-player/shims/OzMaybeNativePromise").reject(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"OzDrmManager destroyed before call to mediaKeySystemAccess.createMediaKeys()."}));var t=a.$5.mediaKeys!=null?r("oz-player/shims/OzMaybeNativePromise").resolve(a.$5.mediaKeys):e.createMediaKeys(),n=t.then(function(t){return{mediaKeySystemAccess:e,mediaKeys:t}});return o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(n,a.$3,"drm_create_media_keys",function(){},a.$22),n},this.$20=function(e){if(a.$4)return r("oz-player/shims/OzMaybeNativePromise").reject(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"OzDrmManager destroyed before call to setMediaKeys()"}));var t=e.mediaKeys,n=e.mediaKeySystemAccess;if(!t)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"No mediaKeys for mediaKeySystemAccess"});var i=a.$5.setMediaKeys(t).then(function(){if(a.$4)return r("oz-player/shims/OzMaybeNativePromise").reject(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"OzDrmManager destroyed after setMediaKeys() called."}));var e=Array.from(a.$2.values()).find(function(e){return e.getKeySystem()===n.keySystem});if(!e)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"Can't find OzDrmProvider for keySystem "+n.keySystem});var i=e.getServerCertificate();return i?t.setServerCertificate(i).then(function(){return{mediaKeys:t,provider:e}}):{mediaKeys:t,provider:e}});return o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(i,a.$3,"drm_set_media_keys",function(){},a.$22),i},this.$21=function(e){var t=e.mediaKeys,n=e.provider,i=n.getInitDatas();if(i.length===0)return a.$6.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$5,"encrypted",function(e){a.$23(t,n,e).catch(function(e){a.$14(o("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(e,{type:"OZ_DRM_MANAGER",description:"DRM encrypted rejection"}))})})),r("oz-player/shims/OzMaybeNativePromise").resolve([]);var l=i.map(function(e){return a.$23(t,n,{initData:e.data,initDataType:e.type})}),s=r("oz-player/shims/OzMaybeNativePromise").all(l);return o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(s,a.$3,"drm_request_license",function(){},a.$22),s},this.$5=t,this.$1=n,this.$3=e.cloneContext().setType("drm_manager")}var t=e.prototype;return t.hasContentProtections=function(){return this.$9},t.onError=function(t){return this.$7.onError(t)},t.$13=function(t){this.$7.emitError(t)},t.$14=function(t){var e,n,r=(e=(n=this.$1)==null?void 0:n.maxStartEMEAttempts)!=null?e:-1;this.$10<r?this.$15():this.$13(t)},t.addProvider=function(t){this.$2.set(t.getSchemeId(),t)},t.getProviderForSchemeId=function(t){return this.$2.get(t)},t.$16=function(t){if(!t)return null;for(var e=[],n=0;n<t.length;n++){var r=t[n],a=r.$.schemeIdUri,i=this.getProviderForSchemeId(a);if(i){var l=i.getInitDatas();if(l.length===0&&r["cenc:pssh"]&&r["cenc:pssh"].length===1){var s,u=(s=r["cenc:pssh"][0]._)!=null?s:"",c=o("oz-player/drm/OzDrmUtils").base64ToUint8Array(u.replace(/-/g,"+").replace(/_/g,"/"));l=[{data:c,type:"cenc"}],i.setInitDatas(l)}e.push({provider:i,initDatas:l})}}return e},t.$15=function(){try{this.$8=!1,this.startEME(this.$11,this.$12)}catch(t){var e=t;this.$13(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"Restart EME failed with: "+String(e),extra:{}}))}},t.startEME=function(t,n){var e=this;if(!this.$8){this.$8=!0,this.$10+=1,this.$11=t,this.$12=n;var r=new Map;this.$17(n,r,"audio"),this.$17(t,r,"video");var a;if(r.forEach(function(t,n){a?a=a.catch(function(){return e.$18(n,t)}):a=e.$18(n,t)}),!a){this.$9=!1;return}var i=a;this.$9=!0;var l=this.$3.getOperationLogger("drm_setup").start();i.then(this.$19).then(this.$20).then(this.$21).then(function(){return l.log()},function(t){var n=o("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(t,{type:"OZ_DRM_MANAGER",description:"DRM definedKeyPromiseChain rejection"});e.$13(n),l.setResult("failed").setError(n).log()})}},t.$17=function(t,n,r){var e=this;t.forEach(function(t){var o=e.$16(t.getContentProtectionXml()),a=t.getMimeCodecs();o!=null&&o.forEach(function(e){var t=e.provider,o=t.getKeySystem(),i=n.get(o);i||(i={audioCapabilities:new Map,videoCapabilities:new Map,distinctiveIdentifier:t.getRequireDistinctiveIdentifier(),persistentState:t.getRequirePersistentState(),sessionTypes:t.getDrmSessionTypes(),initDataTypes:t.getInitDataTypes()},n.set(o,i)),r==="audio"&&!i.audioCapabilities.has(a)&&i.audioCapabilities.set(a,{contentType:a,robustness:t.getAudioRobustness()}),r==="video"&&!i.videoCapabilities.has(a)&&i.videoCapabilities.set(a,{contentType:a,robustness:t.getVideoRobustness()})})})},t.destroy=function(){this.$6.release(),this.$4=!0},t.$18=function(t,n){var e=this,a={audioCapabilities:Array.from(n.audioCapabilities.values()),videoCapabilities:Array.from(n.videoCapabilities.values()),distinctiveIdentifier:n.distinctiveIdentifier,persistentState:n.persistentState,sessionTypes:n.sessionTypes,initDataTypes:n.initDataTypes},i=window.navigator.requestMediaKeySystemAccess(t,[a]);return o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(i,this.$3,"drm_request_media_key_system_access",function(){},function(n){var o=null;return n instanceof r("oz-player/loggings/OzOperationLoggerBase")&&n.getError()&&(o="keySystem: "+t+";domConfig: "+JSON.stringify(a)),e.$22(n,o)}),i},t.$23=function(t,n,a){var e=this,i=t.createSession();return this.$6.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(i,"message",function(t){e.$24(i,n,t).catch(function(t){e.$14(o("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(t,{type:"OZ_DRM_MANAGER",description:"DRM message rejection"}))})}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(i,"keystatuseschange",function(t){e.$25(i).catch(function(t){e.$14(o("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(t,{type:"OZ_DRM_MANAGER",description:"DRM keystatuseschange rejection"}))})})),i.generateRequest(a.initDataType,a.initData)},t.$24=function(t,n,r){var e=this,a=n.getLicenseRequestInfo(r.message.slice(0)),i=this.$3.getOperationLogger("drm_fetch_license").setResource(a.url).start();return window.fetch(a.url,a).then(function(r){return r.ok?i.setResult("success").setCode(r.status).log():i.setResult("failed").setCode(r.status).setError(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"DRM license fetch HTTP status not OK ("+r.status+")",extra:{code:r.status.toString()}})).log(),r.arrayBuffer().then(function(a){var i=new Uint8Array(a),l=n.parseLicenseResponse(i);if(l==null||l.byteLength===0){var s,u,c=l==null?"License is null or undefined.":"License is 0 bytes.";r.ok?a.byteLength===0&&(c+=" HTTP status OK ("+r.status+"), but response body is 0 bytes"):c+=" HTTP status not OK ("+r.status+")";var d=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"No license for "+n.getKeySystem()+" - "+c,extra:{code:r.status.toString(),headers:r.headers,url:r.url}}),m=(s=(u=e.$1)==null?void 0:u.throwNoLicenseError)!=null?s:!1;if(m)throw d;e.$13(d)}else t.update(l)})})},t.$25=function(t){return t.expiration<Date.now()?t.close():r("oz-player/shims/OzMaybeNativePromise").resolve()},e})();l.OzDrmManager=e}),98);
__d("oz-player/loggings/OzPerfLoggerProviderBase",["oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.cloneContext=function(){var e=this.createLoggerProvider();return this.$11(e),e},t.setType=function(t){return this.$1=t,this},t.setInitiator=function(t){return this.$2=t,this},t.setResource=function(t){return this.$4=t,this},t.setRepresentationID=function(t){return this.$3=t,this},t.setSegmentStartTime=function(t){return this.$5=t,this},t.setSegmentEndTime=function(t){return this.$6=t,this},t.setStreamSwitchReason=function(t){return this.$7=t,this},t.setIsP2pPlayback=function(t){return this.$8=t,this},t.setIsRingBufferSample=function(t){return this.$9=t,this},t.setPerSessionSampleRate=function(t){return this.$10=t,this},t.getType=function(){return this.$1},t.getInitiator=function(){return this.$2},t.getRepresentationID=function(){return this.$3},t.getStreamSwitchReason=function(){return this.$7},t.getResource=function(){return this.$4},t.getSegmentStartTime=function(){return this.$5},t.getSegmentEndTime=function(){return this.$6},t.getIsP2pPlayback=function(){return this.$8},t.getIsRingBufferSample=function(){return this.$9},t.getOperationLogger=function(t){var e=this.createOperationLogger(t);return this.setOperationContext(e)},t.setOperationContext=function(t){return this.$11(t),t},t.createOperationLogger=function(t){throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createOperationLogger"})},t.createLoggerProvider=function(){throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createLoggerProvider"})},t.$11=function(t){this.getType()&&t.setType(this.getType()),this.getInitiator()&&t.setInitiator(this.getInitiator()),this.getResource()&&t.setResource(this.getResource()),this.getRepresentationID()&&t.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&t.setStreamSwitchReason(this.getStreamSwitchReason()),typeof this.getSegmentStartTime()=="number"&&t.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()=="number"&&t.setSegmentEndTime(this.getSegmentEndTime()),typeof this.getIsP2pPlayback()=="boolean"&&t.setIsP2pPlayback(this.getIsP2pPlayback()),typeof this.getIsRingBufferSample()=="boolean"&&t.setIsRingBufferSample(this.getIsRingBufferSample())},e})();l.default=e}),98);
__d("oz-player/loggings/OzDevConsolePerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(t,n,r,o,a,i,l){"use strict";function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).debug.apply(e,["[oz]"].concat(n))}function s(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,["[oz]"].concat(n))}function u(e,t){return Math.floor(e).toString().padStart(t,"0")}function c(e,t){t===void 0&&(t=null);var n=function(t){return u(t.getHours(),2)+":"+u(t.getMinutes(),2)+":"+u(t.getSeconds(),2)+" "+u(t.getMilliseconds(),3)},r=t?t.getTime()-e.getTime():0;return"["+n(e)+(t?" - "+n(t):"")+" ("+r+" ms)]"}function d(t){return t==="failed"?s:e}function m(e){return e==null||e===0?null:e.toFixed(2)}var p=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.createOperationLogger=function(t){return new _(t)},n.createLoggerProvider=function(){return new t},t})(r("oz-player/loggings/OzPerfLoggerProviderBase")),_=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.log=function(){e.prototype.log.call(this);var t=this.getClientTimeBegin()||0,n=this.getClientTimeEnd(),r=n!=null&&n!==0?new Date(n):null,o=this.getResult()||"success",a=this.getType(),i=this.getInitiator(),l=this.getResource(),s=m(this.getSegmentStartTime()),u=m(this.getSegmentEndTime());d(o)("["+o+"]",this.getOperationName()+": "+c(new Date(t),r),a!=null&&a!==""?"["+a+"]":"",s!=null&&s!==""&&u!=null&&u!==""?"[segment time range: "+s+" - "+u+"]":"",i||"",l||"")},t})(r("oz-player/loggings/OzOperationLoggerBase"));l.OzDevConsolePerfLoggerProvider=p,l.OzDevConsoleOperationLogger=_}),98);
__d("oz-player/loggings/OzMultiDestinationPerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this)||this,n.$OzMultiDestinationPerfLoggerProvider$p_1=t,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.createOperationLogger=function(t){return new s(t,this.$OzMultiDestinationPerfLoggerProvider$p_1.map(function(e){return e.getOperationLogger(t)}))},n.createLoggerProvider=function(){return new t(this.$OzMultiDestinationPerfLoggerProvider$p_1)},t})(r("oz-player/loggings/OzPerfLoggerProviderBase")),s=(function(e){function t(t,n){var r;return r=e.call(this,t)||this,r.$OzMultiDestinationOperationLogger$p_1=n,r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.start=function(){return e.prototype.start.call(this),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.start()}),this},n.setPerSessionSampleRate=function(n){return e.prototype.setPerSessionSampleRate.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setPerSessionSampleRate(n)}),this},n.setResult=function(n){return e.prototype.setResult.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setResult(n)}),this},n.setError=function(n){return e.prototype.setError.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setError(n)}),this},n.setType=function(n){return e.prototype.setType.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setType(n)}),this},n.setMediaSourcePreviousDuration=function(n){return e.prototype.setMediaSourcePreviousDuration.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setMediaSourcePreviousDuration(n)}),this},n.setMediaSourceNewDuration=function(n){return e.prototype.setMediaSourceNewDuration.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setMediaSourceNewDuration(n)}),this},n.setClientTimeBegin=function(n){return e.prototype.setClientTimeBegin.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setClientTimeBegin(n)}),this},n.setClientTimeDuration=function(n){return e.prototype.setClientTimeDuration.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setClientTimeDuration(n)}),this},n.setClientTimeEnd=function(n){return e.prototype.setClientTimeEnd.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setClientTimeEnd(n)}),this},n.setSegmentCount=function(n){return e.prototype.setSegmentCount.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setSegmentCount(n)}),this},n.setTimeToFirstByte=function(n){return e.prototype.setTimeToFirstByte.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setTimeToFirstByte(n)}),this},n.setTimeToLastByte=function(n){return e.prototype.setTimeToLastByte.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setTimeToLastByte(n)}),this},n.setTimeToRequestStart=function(n){return e.prototype.setTimeToRequestStart.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setTimeToRequestStart(n)}),this},n.setTimeToRequestSent=function(n){return e.prototype.setTimeToRequestSent.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setTimeToRequestSent(n)}),this},n.setReason=function(n){return e.prototype.setReason.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setReason(n)}),this},n.setResource=function(n){return e.prototype.setResource.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setResource(n)}),this},n.setSegmentStartTime=function(n){return e.prototype.setSegmentStartTime.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setSegmentStartTime(n)}),this},n.setSegmentEndTime=function(n){return e.prototype.setSegmentEndTime.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setSegmentEndTime(n)}),this},n.setAppendedBufferMs=function(n){return e.prototype.setAppendedBufferMs.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setAppendedBufferMs(n)}),this},n.setLength=function(n){return e.prototype.setLength.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setLength(n)}),this},n.setLiveheadPosition=function(n){return e.prototype.setLiveheadPosition.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setLiveheadPosition(n)}),this},n.setLiveheadSeqNumHeader=function(n){return e.prototype.setLiveheadSeqNumHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setLiveheadSeqNumHeader(n)}),this},n.setLiveheadSeqNumMpd=function(n){return e.prototype.setLiveheadSeqNumMpd.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setLiveheadSeqNumMpd(n)}),this},n.setManifestType=function(n){return e.prototype.setManifestType.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setManifestType(n)}),this},n.setPriorityFloat=function(n){return e.prototype.setPriorityFloat.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setPriorityFloat(n)}),this},n.setInitiator=function(n){return e.prototype.setInitiator.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setInitiator(n)}),this},n.setPreloadTime=function(n){return e.prototype.setPreloadTime.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setPreloadTime(n)}),this},n.setConcluder=function(n){return e.prototype.setConcluder.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setConcluder(n)}),this},n.setPreviousRepresentationID=function(n){return e.prototype.setPreviousRepresentationID.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setPreviousRepresentationID(n)}),this},n.setRepresentationID=function(n){return e.prototype.setRepresentationID.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setRepresentationID(n)}),this},n.setState=function(n){return e.prototype.setState.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setState(n)}),this},n.setContentLengthHeader=function(n){return e.prototype.setContentLengthHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setContentLengthHeader(n)}),this},n.setEdgeHitHeader=function(n){return e.prototype.setEdgeHitHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setEdgeHitHeader(n)}),this},n.setFNAHitHeader=function(n){return e.prototype.setFNAHitHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setFNAHitHeader(n)}),this},n.setOriginHitHeader=function(n){return e.prototype.setOriginHitHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setOriginHitHeader(n)}),this},n.setCode=function(n){return e.prototype.setCode.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setCode(n)}),this},n.setResponseTimeMsHeader=function(n){return e.prototype.setResponseTimeMsHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setResponseTimeMsHeader(n)}),this},n.setIsTemplatedManifest=function(n){return e.prototype.setIsTemplatedManifest.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setIsTemplatedManifest(n)}),this},n.setIsLatencyCachupEnabled=function(n){return e.prototype.setIsLatencyCachupEnabled.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setIsLatencyCachupEnabled(n)}),this},n.setPlayerFormat=function(n){return e.prototype.setPlayerFormat.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setPlayerFormat(n)}),this},n.setIsP2pPlayback=function(n){return e.prototype.setIsP2pPlayback.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setIsP2pPlayback(n)}),this},n.setOneObserved=function(n){return e.prototype.setOneObserved.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setOneObserved(n)}),this},n.setOneReqWave=function(n){return e.prototype.setOneReqWave.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setOneReqWave(n)}),this},n.setOneResWave=function(n){return e.prototype.setOneResWave.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setOneResWave(n)}),this},n.setAppendTarget=function(n){return e.prototype.setAppendTarget.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setAppendTarget(n)}),this},n.setIsRingBufferSample=function(n){return e.prototype.setIsRingBufferSample.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setIsRingBufferSample(n)}),this},n.setIsOnline=function(n){return e.prototype.setIsOnline.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setIsOnline(n)}),this},n.setIsMixedCodecManifest=function(n){return e.prototype.setIsMixedCodecManifest.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setIsMixedCodecManifest(n)}),this},n.setProxyStatusHeader=function(n){return e.prototype.setProxyStatusHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setProxyStatusHeader(n)}),this},n.setPlaybackFbmsParam=function(n){return e.prototype.setPlaybackFbmsParam.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setPlaybackFbmsParam(n)}),this},n.setPreferredEdgeLatency=function(n){return e.prototype.setPreferredEdgeLatency.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setPreferredEdgeLatency(n)}),this},n.setUserInfo=function(n){return e.prototype.setUserInfo.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setUserInfo(n)}),this},n.setDynamicStatusHeader=function(n){return e.prototype.setDynamicStatusHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setDynamicStatusHeader(n)}),this},n.setMediaSourceSourceBuffer=function(n,r){return e.prototype.setMediaSourceSourceBuffer.call(this,n,r),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setMediaSourceSourceBuffer(n,r)}),this},n.unsetMediaSourceSourceBuffers=function(){return e.prototype.unsetMediaSourceSourceBuffers.call(this),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.unsetMediaSourceSourceBuffers()}),this},n.log=function(){e.prototype.log.call(this),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.log()})},t})(r("oz-player/loggings/OzOperationLoggerBase"));l.OzMultiDestinationPerfLoggerProvider=e}),98);
__d("oz-player/loggings/OzOperationLoggerObserver",["oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=new(r("oz-player/shims/OzSubscriptionsHandler"))}var t=e.prototype;return t.observe=function(t,n){var e,r=t.map(function(e){var t=e.setOperationLoggedListener(function(e){var t=e.getClientTimeBegin()||0,r=e.getClientTimeEnd()||0;n.getOperationLogger(e.getOperationName()).setClientTimeBegin(t).setClientTimeDuration(r-t).setClientTimeEnd(r).setLength(e.getLength()).setResult(e.getResult()||"success").setInitiator(e.getInitiator()).setType(e.getType()).log()});return e.activate(),t});(e=this.$1).addSubscriptions.apply(e,r)},t.destroy=function(){this.$1.release()},e})();l.default=e}),98);
__d("oz-player/shims/www/OzNetworkDiagnosticsWWW",["VideoPlayerOzWWWGlobalConfig"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){if(!e)return null;var n=parseInt(e.get(t),10);return!isNaN(n)&&isFinite(n)?n:null}function s(e,t,n){var r;if(!e||t===""||n==="")return null;for(var o=(r=e.get(t))!=null?r:"",a=o.split(";"),i=0;i<a.length;i++){var l=a[i].split(":");if(l.length===2&&l[0]===n){var s=parseInt(l[1],10);return isFinite(s)?s:null}}return null}var u={getNextValidSegmentId:function(n){return e(n,"x-fb-next-valid-segment-id")},getResponseTimeMs:function(n){return e(n,"x-fb-response-time-ms")},getDvlSegmentPTS:function(n){return e(n,"x-fb-segment-pts-start")},getDvlStatus:function(t){return t==null?void 0:t.get("x-fb-dynamic-status")},getUsableResponseSizeForBandwidthEstimation:function(n){return e(n,"x-fb-dynamic-predictive-response-chunk-size")},getBandwidthMeanEstimate:function(t){var e=r("VideoPlayerOzWWWGlobalConfig").getString("bandwidth_estimate_header_key",""),n=r("VideoPlayerOzWWWGlobalConfig").getString("bandwidth_estimate_key","");return s(t,e,n)},getBandwidthStandardDeviationEstimate:function(n){return e(n,"x-bwe-std-dev")},getTimeToFirstByteMsEstimate:function(n){return e(n,"x-mrtt-ms")}},c=u;l.default=c}),98);
__d("oz-player/shims/OzNetworkDiagnostics",["oz-player/shims/www/OzNetworkDiagnosticsWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/OzNetworkDiagnosticsWWW")}),98);
__d("oz-player/manifests/OzDynamicVideoLibrary",["oz-player/shims/OzNetworkDiagnostics"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$4=null,this.$5=null,this.$6=new RegExp(/(.*)\.(m4v|m4a)(\?|$)/),this.$7={m4a:{time:0},m4v:{time:0}},this.$8={audio:"m4a",video:"m4v"},this.$9={};var t=e.config;this.$3=t}var t=e.prototype;return t.getLastSegmentStartPTS=function(){return this.$1},t.getLast200RequestedTime=function(){return this.$5},t.getLast200RequestedUrlDecisionMinTime=function(){var e=[];for(var t in this.$7)e.push(this.$7[t].time);return Math.min.apply(Math,e)},t.getLast200RequestedUrlDecisionTimeByMimeType=function(t){var e;return(e=this.$7[this.$8[t]])==null?void 0:e.time},t.updateWithResponse=function(t,n,o,a){var e;!a.headers||a.status!=200||(this.$5=n,this.$1=(e=r("oz-player/shims/OzNetworkDiagnostics").getDvlSegmentPTS(a.headers))!=null?e:this.$1,this.$2=r("oz-player/shims/OzNetworkDiagnostics").getDvlStatus(a.headers),this.$10(t,o),(this.$2!=null||this.$2==="200")&&(this.$4=n))},t.$10=function(t,n){var e=this.$6.exec(t);if(e!=null){var r=e[2];n!=null&&(this.$7[r]={time:n})}},t.shouldRequestDynamicInfo=function(t){if(t!=="video")return!1;this.$11(t);var e=this.$12(t);return e!=null&&e<=this.$3.getNumber("dvl_initial_segment_ignore_count")?!1:this.$3.getNumber("dvl_update_interval_ms")==0||this.$4==null||this.$4+this.$3.getNumber("dvl_update_interval_ms")<=Date.now()},t.$11=function(t){return this.$9[t]==null&&(this.$9[t]={segmentCount:0}),this.$9[t].segmentCount=this.$9[t].segmentCount!=null?this.$9[t].segmentCount+1:0},t.$12=function(t){return this.$9[t].segmentCount},e})();l.default=e}),98);
__d("oz-player/manifests/OzRepresentationBase",["oz-player/parsers/getMIMECodecs","oz-player/shims/ozvariant","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,r,o,a,i,l,s,u,c,d,m){this.$1=e,this.$2=t,this.$11=n,this.$6=i,this.$3=r,this.$4=o,this.$5=a,this.$7=l,this.$8=s,this.$9=u,this.$10=c,this.$12=d,this.$13=m}var t=e.prototype;return t.getContentProtectionXml=function(){return this.$2},t.getID=function(){return this.$11},t.getBandwidth=function(){return this.$10},t.getMimeCodecs=function(){return r("oz-player/parsers/getMIMECodecs")(this.$3,this.$4)},t.getMimeType=function(){return this.$3},t.getCodecs=function(){return this.$4},t.getVariantKey=function(){return this.$5},t.getLang=function(){return this.$6},t.getRole=function(){return this.$7},t.getDisplayLabel=function(){return this.$11},t.getInitSegment=function(){return this.$8},t.getCustomFieldFirstSegment=function(){return this.$12},t.getCustomField=function(t){if(this.$13==null||!this.$13[t])throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Custom field "+t+" is not specified by caller",extra:{code:"OZ_RP-8"}});var e=this.$13[t];try{return e(this.$1)}catch(e){return null}},t.updateWith=function(n){n instanceof e||r("oz-player/shims/ozvariant")(0,229),this.$9.updateWith(n.$9)},t.getSegmentByTime=function(t){return this.$9.getSegmentByTime(t)},t.getSegment=function(t){return this.$9.getSegment(t)},t.getPredictedSegmentAfter=function(t){return this.$9.getPredictedSegmentAfter(t)},t.canPredict=function(){return this.$9.canPredict()},t.canApproximateId=function(){return this.$9.canApproximateId()},t.getSegmentAfter=function(t){return this.$9.getSegmentAfter(t)},t.isEndingSegment=function(t){return this.$9.isEndingSegment(t)},t.addUpdateListener=function(t){return this.$9.addUpdateListener(t)},t.getTimeRanges=function(){return this.$9.getTimeRanges()},t.blockTimeRange=function(t){this.$9.blockTimeRange(t)},t.getEndingSegment=function(){return this.$9.getEndingSegment()},t.getMaxGopSec=function(){return this.$9.getMaxGopSec()},e})();l.default=e}),98);
__d("oz-player/manifests/OzVideoRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o,a,i,l,s,u,c,d,m,p,_,f){var g;if(g=e.call(this,t,n,r,o,a,i,l,s,u,c,d,m,p)||this,g.$OzVideoRepresentation$p_5=null,g.$OzVideoRepresentation$p_6=null,g.$OzVideoRepresentation$p_7=null,g.$OzVideoRepresentation$p_1=_,g.$OzVideoRepresentation$p_2=f,g.$OzVideoRepresentation$p_4=p,g.$OzVideoRepresentation$p_3=t,p!=null){if(p.playbackResolutionMos!=null){var h=g.getCustomField("playbackResolutionMos");g.$OzVideoRepresentation$p_7=h!=null?String(h):null}if(p.playbackResolutionCsvqm!=null){var y=g.getCustomField("playbackResolutionCsvqm");g.$OzVideoRepresentation$p_6=y!=null?String(y):null}}return g}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getQualityScoreCurveString=function(t){return t==="csvqm"?this.$OzVideoRepresentation$p_6:this.$OzVideoRepresentation$p_7},n.getWidth=function(){return this.$OzVideoRepresentation$p_1},n.getHeight=function(){return this.$OzVideoRepresentation$p_2},n.getDisplayLabel=function(){if(this.$OzVideoRepresentation$p_5!=null)return this.$OzVideoRepresentation$p_5;var e=this.$OzVideoRepresentation$p_4?this.$OzVideoRepresentation$p_4.qualityLabel:null;return e&&(this.$OzVideoRepresentation$p_5=e(this.$OzVideoRepresentation$p_3)),(this.$OzVideoRepresentation$p_5==null||this.$OzVideoRepresentation$p_5=="")&&(this.$OzVideoRepresentation$p_5=this.getHeight().toString()+"p"),this.$OzVideoRepresentation$p_5||""},t})(r("oz-player/manifests/OzRepresentationBase"));l.default=e}),98);
__d("oz-player/utils/OzMimeUtil",[],(function(t,n,r,o,a,i){"use strict";function e(e){return(e.split("/")[0]||"").trim()}function l(e){var t=(e.split(";")[0]||"").trim(),n=(t.split("/")[1]||"").trim();return n}function s(e){var t=e.split('codecs="').pop();return t.split(".")[0].trim()}i.getMimeType=e,i.getContainerType=l,i.getParsedCodecFamily=s}),66);
__d("oz-player/media_source/OzMSESourceBufferImpl",["oz-player/shims/OzDOMEventListener","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,r){this.$1=e,this.$2=n,this.$3=t,this.$4=r}var t=e.prototype;return t.registerOnUpdateStartListener=function(t){return r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"updatestart",t)},t.registerOnUpdateEndListener=function(t){return r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"updateend",t)},t.registerOnUpdateListener=function(t){return r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"update",t)},t.registerOnErrorListener=function(t){return r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"error",t)},t.getIsUpdating=function(){return this.$1.updating},t.getBuffered=function(){return this.$1.buffered},t.setAppendWindowEnd=function(t){this.$1.appendWindowEnd=t},t.appendBuffer=function(t,n){var e,r=(e=o("oz-player/utils/OzMimeUtil")).getMimeType(n)!==e.getMimeType(this.$3),a=e.getContainerType(n)!==e.getContainerType(this.$3),i=e.getParsedCodecFamily(n)!==e.getParsedCodecFamily(this.$3);if(r||a||i)if(this.$4){try{this.$1.changeType(n)}catch(e){throw o("oz-player/utils/OzErrorUtils").createOzError({description:'SourceBufferChangeTypeError: Failed to changeType("'+n+'"): '+String(e)+" current MIME Codecs: "+this.$3,type:"OZ_SOURCE_BUFFER_CHANGE_TYPE"})}this.$3=n}else throw o("oz-player/utils/OzErrorUtils").createOzError({description:"SourceBufferChangeTypeError: attempted to call changeType() on a SourceBuffer that does not support it.",type:"OZ_SOURCE_BUFFER_CHANGE_TYPE_UNAVAILABLE"});this.$1.appendBuffer(t)},t.abort=function(){this.$1.abort()},t.remove=function(t,n){this.$1.remove(t,n)},e})();l.default=e}),98);
__d("oz-player/media_source/OzMediaErrorProvider",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.hasError=function(){return this.$1.error!==null},t.getMediaErrorName=function(){var e=this.$1.error;return e!=null&&e.message!=null&&e.message!==""?this.$2(e.message):null},t.getErrorCode=function(){var e=this.$1.error;return e&&e.code?e.code:null},t.getVideoNode=function(){return this.$1},t.$2=function(t){return t.replace(/([0-9]{2,})/g,function(e){for(var t="";t.length<e.length;)t+="#";return t})},e})();i.default=e}),66);
__d("oz-player/utils/OzSourceBufferUtil",["oz-player/utils/OzNumericalRangeUtil"],(function(t,n,r,o,a,i,l){"use strict";function e(e){for(var t=0,n=0;n<e.getBuffered().length;n++)t+=e.getBuffered().end(n)-e.getBuffered().start(n);return t}function s(e){return e.reduce(function(e,t){return e+(t.endTime-t.startTime)},0)}function u(e){return e.getBuffered().length===0?0:e.getBuffered().start(0)}function c(e){var t=null;try{t=e.getBuffered()}catch(e){return 0}return t.length===0?0:t.end(t.length-1)}function d(e){for(var t=[],n=0;n<e.length;n++)t.push({startTime:e.start(n),endTime:e.end(n)});return t}function m(e,t,n){var r=o("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(n,t,e.map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}})),a=r>=0?parseFloat((e[r].endTime-t).toFixed(3)):0,i=r>=0?e.length-1-r:-1;return{bufferAheadSec:a,bufferedOffset:i}}function p(e,t,n){var r=e.map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}}),a=o("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(n,t,r),i=parseFloat(r.reduce(function(e,n){var r=n.rangeEnd;return r==null?e:e+(o("oz-player/utils/OzNumericalRangeUtil").isWithin(t,n)?r-t:o("oz-player/utils/OzNumericalRangeUtil").isLargerThan(n.rangeStart,t)?r-n.rangeStart:0)},0).toFixed(3)),l=a>=0?e.length-1-a:-1;return{bufferAheadSec:i,bufferedOffset:l}}l.getTotalBufferedTime=e,l.getTotalInBufferedRanges=s,l.getStartBufferedTime=u,l.getEndBufferedTime=c,l.convertToBufferedTimeRangeArray=d,l.getBufferAheadInBufferedRanges=m,l.getTotalBufferAheadOfPosition=p}),98);
__d("oz-player/media_source/SourceBufferManagerUtils",["oz-player/utils/OzSourceBufferUtil"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=o("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(t);return function(){var e=o("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(t);return{startTime:r,endTime:e}}}l.startMeasuringAppendedBuffer=e}),98);
__d("oz-player/shims/www/OzDeferredWWW",["Deferred"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("Deferred")}),98);
__d("oz-player/shims/OzDeferred",["oz-player/shims/www/OzDeferredWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/OzDeferredWWW")}),98);
__d("oz-player/utils/OzFakeEventTarget",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1={}}var t=e.prototype;return t.dispatchEvent=function(t){this.$1[t]!=null&&this.$1[t].forEach(function(e){return e()})},t.addEventListener=function(t,n){var e=this;return this.$1[t]===void 0&&(this.$1[t]=new Set),this.$1[t].add(n),{remove:function(){e.removeEventListener(t,n)}}},t.removeEventListener=function(t,n){this.$1[t]&&this.$1[t].delete(n)},t.destroy=function(){this.$1={}},e})();i.default=e}),66);
__d("oz-player/states/OzObservedSourceBufferState",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzFakeEventTarget"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var o;return o=e.call(this)||this,o.$OzObservedSourceBufferState$p_2=new(r("oz-player/shims/OzSubscriptionsHandler")),o.$OzObservedSourceBufferState$p_3=[],o.$OzObservedSourceBufferState$p_6=function(){var e;try{e=o.$OzObservedSourceBufferState$p_1.getBuffered()}catch(e){if(e.name==="InvalidStateError"){o.$OzObservedSourceBufferState$p_3=[];return}else throw e}for(var t=[],n=0;n<e.length;n++)t.push({startTime:e.start(n),endTime:e.end(n)});o.$OzObservedSourceBufferState$p_3=t},o.$OzObservedSourceBufferState$p_1=t,o.$OzObservedSourceBufferState$p_4=n,o.$OzObservedSourceBufferState$p_5(),o}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.$OzObservedSourceBufferState$p_5=function(){var e=this;this.$OzObservedSourceBufferState$p_2.release(),this.$OzObservedSourceBufferState$p_2=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$OzObservedSourceBufferState$p_2.addSubscriptions(this.$OzObservedSourceBufferState$p_1.registerOnUpdateEndListener(function(){e.$OzObservedSourceBufferState$p_6(),e.dispatchEvent("buffer_updated")}),this.$OzObservedSourceBufferState$p_1.registerOnErrorListener(this.$OzObservedSourceBufferState$p_6))},n.setSourceBuffer=function(t){this.$OzObservedSourceBufferState$p_1=t,this.$OzObservedSourceBufferState$p_5(),this.$OzObservedSourceBufferState$p_6()},n.getBufferedRanges=function(){return this.$OzObservedSourceBufferState$p_3},n.destroy=function(){e.prototype.destroy.call(this),this.$OzObservedSourceBufferState$p_2.release(),this.$OzObservedSourceBufferState$p_2.engage()},t})(r("oz-player/utils/OzFakeEventTarget"));l.default=e}),98);
__d("oz-player/utils/OzCustomErrorCode",[],(function(t,n,r,o,a,i){"use strict";var e={APPEND_BUFFER_UNKNOWN_ERROR:"21539",APPEND_BUFFER_INVALID_STATE_ERROR_SOURCE_BUFFER_HAS_BEEN_REMOVED:"21540",APPEND_BUFFER_MEDIA_ERROR_ATTRIBUTE_NOT_NULL:"21541",APPEND_BUFFER_SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:"21542",SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR:"21543",SOURCE_BUFFER_MANAGER_CREATE_ERROR:"21544",SETUP_STREAMS_PROMISE_REJECTION:"21545",APPEND_BUFFER_QUOTA_EXCEEDED_ERROR:"21546",APPEND_BUFFER_INVALID_STATE_ERROR:"21547",SOURCE_BUFFER_MANAGER_UPDATEEND_UNKNOWN_ERROR:"21548",NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR:"21549",STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR:"21550",SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED:"21551",WEBVTT_CAPTION_PARSE_ERROR:"21552"},l=e;i.default=l}),66);
__d("oz-player/media_source/SourceBufferManager",["Promise","oz-player/loggings/OzLoggingUtils","oz-player/media_source/SourceBufferManagerUtils","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzStreams","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzObservedSourceBufferState","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorUtils","oz-player/utils/ozConcatUint8Arrays"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t,n,a,i,l){var s=this;l===void 0&&(l=null),this.$4=null,this.$5=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$7=!1,this.$8=[],this.$12=!1,this.$13=!1,this.$14=0,this.$26=function(){if(s.$10.hasError()){s.$13=!1,s.$12=!1;var e=s.$10.getMediaErrorName(),t=e!=null?e:"An unknown source buffer error occurred.",n=s.$10.getErrorCode(),a=n!=null?String(n):r("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_UPDATEEND_UNKNOWN_ERROR,i=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:t,extra:{code:a}});s.$4&&s.$4.reject(i),s.$4=null,s.cancelOperationAndCleanQueue()}else if(!s.$13){s.$13=!0;var l=s.$10.getVideoNode(),u=s.$26,c=r("oz-player/shims/OzDOMEventListener").listenDOMEvent(l,"error",u);s.$5.addSubscriptions(c)}},this.$17=function(){var e=s.$2;if(e!=null){var t;e.getOperationLogger("source_buffer_updateend").setError((t=s.$10.getMediaErrorName())!=null?t:void 0).setCode(s.$10.getErrorCode()).setResult(s.$12?"failed":"success").log()}var n=s.$4;n&&(s.$12?s.$26():(n.resolve(),s.$4&&(s.$4=null)))},this.$18=function(){var e=s.$2;if(e!=null){var t;e.getOperationLogger("source_buffer_error").setError((t=s.$10.getMediaErrorName())!=null?t:void 0).setCode(s.$10.getErrorCode()).setResult("failed").log()}s.$12=!0},this.$1=e,this.$2=l,this.$3=t,this.$11=n,this.$16(),this.$9=new(r("oz-player/states/OzObservedSourceBufferState"))(this.$3,this.$11),this.$10=a,this.$15=i}var a=t.prototype;return a.$16=function(){this.$5.release(),this.$5=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$5.addSubscriptions(this.$3.registerOnUpdateEndListener(this.$17),this.$3.registerOnErrorListener(this.$18))},a.setSourceBuffer=function(t){t!=null&&(this.cancelOperationAndCleanQueue(),this.$3=t,this.$16(),this.$9.setSourceBuffer(t))},a.queueData=function(t,n,o,a,i){a===void 0&&(a=null),i===void 0&&(i=0);var e=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise"));this.$8.push({data:t,deferred:e,loggerProvider:a,appendTarget:i,mimeCodecs:n,clearSourceBufferRange:o});var l=e.getPromise();return this.$7||this.$19().catch(function(e){}),l},a.cancelOperationAndCleanQueue=function(t){t===void 0&&(t=null),t&&t.cloneContext().getOperationLogger("source_buffer_cancel_and_clean").log();var e=o("oz-player/utils/OzErrorUtils").createOzCancelledError("SBM cancel and clean");this.$8.forEach(function(t){var n=t.deferred;n.reject(e)}),this.$8=[];try{this.$11.getBool("enable_alternative_audio_tracks")?this.$15()==="open"&&(this.$10.hasError()||this.$3.abort()):this.$15()!=="closed"&&(this.$10.hasError()||this.$3.abort())}catch(e){var n=e;t&&t.cloneContext().getOperationLogger("cancel_operation_abort_failed").setError(n).setReason(this.$15?this.$15():null).log()}var r=this.$4;r&&r.reject(e),this.$6&&(this.$6.reject(e),this.$6=null)},a.getSourceBufferState=function(){return this.$9},a.$20=function(t,n){var e=Math.max(t,0);n>0&&n>e&&this.$3.remove(e,n)},a.$21=function(t,n){var e=Math.max(t,0);if(n>0&&n>e){var o=this.$22();return this.$20(e,n),o}return r("oz-player/shims/OzMaybeNativePromise").resolve()},a.clearRangeWithWait=function(r){var t=this;return this.cancelOperationAndCleanQueue(),r.reduce(function(e,n){var r=n.fromTime,o=n.toTime;return e.then(function(){return t.$21(r,o)})},(e||(e=n("Promise"))).resolve())},a.$22=function(t){var e=this.$4=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),n=e.getPromise();return t&&o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(n,t,"wait_for_source_buffer"),n},a.$23=function(t,n,a,i){var e=this,l=function(){var l=e.$4=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),s=!1,u=!0;try{u=!!e.$3.getBuffered()}catch(e){u=!1}try{if(s=e.$3.getIsUpdating(),u)e.$3.appendBuffer(t,n);else return l.resolve(),l.getPromise()}catch(t){var c=t,d=r("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_UNKNOWN_ERROR,m=c.name,p=c.message;m==="QuotaExceededError"?d=r("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_QUOTA_EXCEEDED_ERROR:e.$10.hasError()?d=r("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_MEDIA_ERROR_ATTRIBUTE_NOT_NULL:s?d=r("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:m==="InvalidStateError"&&typeof p=="string"&&/SourceBuffer has been removed/.test(p)?d=r("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_INVALID_STATE_ERROR_SOURCE_BUFFER_HAS_BEEN_REMOVED:m==="InvalidStateError"&&(d=r("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_INVALID_STATE_ERROR);var _=o("oz-player/utils/OzErrorUtils").createOzError({type:o("oz-player/utils/OzErrorUtils").isOzError(c)?c.getType():m==="QuotaExceededError"?"OZ_SOURCE_BUFFER_QUOTA_EXCEEDED":m==="OZ_SOURCE_BUFFER_CHANGE_TYPE"?"OZ_SOURCE_BUFFER_CHANGE_TYPE":"OZ_SOURCE_BUFFER",description:"SBM#"+e.$1+" appendBuffer("+n+") failed: "+String(p),extra:o("oz-player/utils/OzErrorUtils").isOzError(c)?c.getExtra():{originalError:c,code:d}});e.$4=null,l.reject(_)}var f=l.getPromise();return a&&o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(f,a,"append",function(e){var n;e.setLength(t.byteLength);var r=(n=i==null?void 0:i.appendTarget)!=null?n:null;e.setAppendTarget(r)}),f};return this.$3.getIsUpdating()?this.$22(a).then(l).catch(function(e){throw e}):(this.$14+=t.byteLength,l())},a.$19=function(){var e=this;if(this.$7)return r("oz-player/shims/OzMaybeNativePromise").reject(this.$24("Another unit of queued data is being appended."));var t=this.$8.shift();if(!t)return this.$7=!1,r("oz-player/shims/OzMaybeNativePromise").resolve();var n=t.appendTarget,a=t.clearSourceBufferRange,i=t.data,l=t.deferred,s=t.loggerProvider,u=t.mimeCodecs;this.$7=!0;var c,d=function(){return i instanceof o("oz-player/shims/OzStreams").OzReadableStream?e.$25(i,u,s,n):e.$23(i,u,s,{appendTarget:n})};a?(c=this.$3.getIsUpdating()?this.$22(s):r("oz-player/shims/OzMaybeNativePromise").resolve(),c=c.then(function(){return e.clearRangeWithWait([{fromTime:a[0],toTime:a[1]}])}).then(d)):c=d();var m=o("oz-player/media_source/SourceBufferManagerUtils").startMeasuringAppendedBuffer(this.$11,this.$3,this.$9);return c.catch(function(e){l.reject(e)}).then(function(){var t=m(),n=t.endTime,r=t.startTime;l.resolve({startTime_UNSAFE:r,endTime_UNSAFE:n,appendedSec:n-r}),e.$7=!1,e.$19().catch(function(e){})})},a.$25=function(t,n,a,i){var e=this,l=[],s=0,u=t.getReader(),c=function(){var t=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise"));return e.$6=t,u.read().then(function(n){t.resolve(n),e.$6=null}).catch(function(n){t.reject(n),e.$6=null}),t.getPromise().then(function(t){if(t.done){var o=r("oz-player/utils/ozConcatUint8Arrays")(l),u=o.buffer;return l.length=0,s=0,u.byteLength>0?e.$23(u,n,a,{appendTarget:i}):r("oz-player/shims/OzMaybeNativePromise").resolve()}var d=t.value,m=d;if(i>0){var p=d instanceof Uint8Array?d:new Uint8Array(d);if(l.push(p),s+=p.byteLength,s>=i){var _=r("oz-player/utils/ozConcatUint8Arrays")(l),f=_.buffer;l.length=0,s=0,m=f}}return m&&m.byteLength>=i?e.$23(m,n,a,{appendTarget:i}).then(function(){return c()}):c()},function(t){if(e.$11.getBool("enable_alternative_audio_tracks"))try{e.$15()==="open"&&(e.$10.hasError()||e.$3.abort())}catch(e){var a=e}else try{e.$3.abort()}catch(e){var i=e}if(typeof t=="object"&&o("oz-player/utils/OzErrorUtils").isOzError(t))return r("oz-player/shims/OzMaybeNativePromise").reject(t);if(typeof t=="object"&&t!=null&&typeof t.name=="string"&&t.name==="TypeError"&&typeof t.message=="string"&&t.message.includes("network error")){var l=o("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(t,{description:"SBM#"+e.$1+" appendReadableStream("+n+") failed: Stream read is interrupted (previously TypeError network error)}",extra:{originalError:t},type:"OZ_NETWORK"});return r("oz-player/shims/OzMaybeNativePromise").reject(l)}var s=o("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(t,{description:"SBM#"+e.$1+" appendReadableStream("+n+") failed: Unexpected error while reading from stream: "+String(t),extra:{originalError:t},type:"OZ_NETWORK"});return r("oz-player/shims/OzMaybeNativePromise").reject(s)})};return c()},a.$24=function(t){var e=this.$2;return e!=null&&e.getOperationLogger("source_buffer_invariant").setError(t).setResult("failed").log(),o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:"SBM invariant: "+t})},a.destroy=function(){var e=this,t=this.$2;t&&t.cloneContext().getOperationLogger("source_buffer_destroy").log();var n=this.$4;n&&(this.$13?n.getPromise().catch(function(){e.$4=null,e.$5.release(),e.$5=new(r("oz-player/shims/OzSubscriptionsHandler"))}):(n.reject(o("oz-player/utils/OzErrorUtils").createOzCancelledError("SBM destroyed")),this.$4=null,this.$5.release(),this.$5=new(r("oz-player/shims/OzSubscriptionsHandler")))),this.$9.destroy()},a.getDebug=function(){return{SourceBuffer:this.$3}},t})();l.default=s}),98);
__d("oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e=r("JSResourceForInteraction")("OzVTTSourceBufferImpl").__setRef("oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW");function s(){return e.load()}l.default=s}),98);
__d("oz-player/shims/www/getOzVTTSourceBufferImplWWW",["oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW")}),98);
__d("oz-player/shims/getOzVTTSourceBufferImpl",["oz-player/shims/www/getOzVTTSourceBufferImplWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/getOzVTTSourceBufferImplWWW")}),98);
__d("oz-player/shims/www/ozClearTimeoutWWW",["clearTimeout"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("clearTimeout")}),98);
__d("oz-player/shims/ozClearTimeout",["oz-player/shims/www/ozClearTimeoutWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/ozClearTimeoutWWW")}),98);
__d("oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW",["setTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("setTimeoutAcrossTransitions")}),98);
__d("oz-player/shims/ozSetTimeoutAcrossTransitions",["oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW")}),98);
__d("oz-player/utils/ozGetErrorNameFromMediaErrorCode",[],(function(t,n,r,o,a,i){"use strict";function e(e){switch(e){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:}return"MEDIA_ERR_UNKNOWN"}i.default=e}),66);
__d("oz-player/media_source/MediaSourceManager",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/media_source/OzMSESourceBufferImpl","oz-player/media_source/OzMediaErrorProvider","oz-player/media_source/SourceBufferManager","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/getOzVTTSourceBufferImpl","oz-player/shims/ozClearTimeout","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozThrottle","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil","oz-player/utils/ozGetErrorNameFromMediaErrorCode"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=this,n=e.videoNode,a=e.config,i=e.perfLoggerProvider,l=i===void 0?new(o("oz-player/loggings/OzMultiDestinationPerfLogger")).OzMultiDestinationPerfLoggerProvider([]):i,s=e.isChangeTypeSupported,u=e.useManagedMediaSource,c=e.handleVttCaptionsUpdated,d=e.onClearVideoNodeError,m=e.onRetryVideoElementError;this.$3=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$4=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$6=[],this.$7=new Map,this.$8=[],this.$10=!1,this.$12=!1,this.$13=!1,this.$14=!1,this.$15=!1,this.$18=null,this.$19=null,this.$20=new(r("oz-player/utils/OzErrorEmitter")),this.$22="undetected",this.$23=!1,this.$24=!1,this.$31=function(){if(t.$34()||(t.$10=!1),!!t.$35()){var e=t.$8.shift();e&&(e(t.$2),t.$10=!0)}},this.$5=l,this.$11=a,this.$1=n,this.$21=c,this.$16=d,this.$17=m,this.$23=s,this.$24=u,this.$9=new(r("oz-player/media_source/OzMediaErrorProvider"))(this.$1),this.$3.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"error",function(){var e;t.$5.getOperationLogger("media_element_error").setError((e=t.$9.getMediaErrorName())!=null?e:void 0).setCode(t.$9.getErrorCode()).setResult("failed").setUserInfo({av1HardwareSupport:t.$22}).log(),t.$8=[],t.$6=[],t.$4.release(),t.$4=new(r("oz-player/shims/OzSubscriptionsHandler")),t.$15=t.$15||t.$14||t.$13;var n=t.$1.error,a=(n==null?void 0:n.code)||0,i=!n&&t.$1.poster!=null&&t.$1.poster!=="",l=o("oz-player/utils/OzErrorUtils").createOzError({type:i?"OZ_POSSIBLE_POSTER_LOAD_FAILURE":r("oz-player/utils/ozGetErrorNameFromMediaErrorCode")(a),description:(n==null?void 0:n.message)!=null?n.message:"",extra:{originalError:n,code:String(a)}});if(t.$19!=null){t.$5.getOperationLogger("media_element_error").setError(n).setCode(a).setReason("mitigation_failed").setResult("failed").setUserInfo({av1HardwareSupport:t.$22}).log(),t.$20.emitError(l);return}t.$19=t.$1.currentTime,t.$18==null&&(t.$18=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){t.$18=null,t.$11.getBool("retry_video_element_error")&&(t.$17!=null&&t.$17(l),t.$25())},0))}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"play",function(){t.$14=!0}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"playing",function(){t.$14=!1,t.$15=!1,t.$19=null,t.$13=!0}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"pause",function(){t.$14=!1,t.$13=!1,t.$15=!!t.$1.error}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"ended",function(){t.$14=!1,t.$13=!1})),this.$2=this.$26(),this.$5.getOperationLogger("media_source_new").log(),this.$3.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){t.$5.getOperationLogger("media_source_open").log()}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceended",function(){t.$5.getOperationLogger("media_source_ended").log()}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceclose",function(){t.$5.getOperationLogger("media_source_close").log()})),this.$27(this.$2)}var t=e.prototype;return t.$26=function(){return this.$24?new ManagedMediaSource:new MediaSource},t.$27=function(t){var e=this.$1,n=e.src;n!==""&&URL.revokeObjectURL(n),t?(this.$24&&(e.disableRemotePlayback=!0),e.src=URL.createObjectURL(t)):(e.removeAttribute("src"),e.removeAttribute("srcObject"))},t.$25=function(){var e=this;this.$7.forEach(function(e){e.cancelOperationAndCleanQueue()}),this.$2=this.$26(),this.$27(this.$2),this.$7.forEach(function(e,t){e.setSourceBuffer(null)});var t=this.$28().then(function(){var t=[];return e.$7.forEach(function(n,r){var o=e.$29(r).then(function(t){n.setSourceBuffer(t),e.$30(t,r)});t.push(o)}),r("oz-player/shims/OzMaybeNativePromise").all(t)});t.then(function(){if(e.$16&&e.$16(),e.$19!=null&&(e.$1.currentTime=e.$19),e.$15){var t=e.$1.play();return t==null?void 0:t.catch(function(){})}}).catch(function(t){e.$20.emitError(t)})},t.$28=function(){var e=this;if(this.$11.getBool("msm_refactor_wait_for_sourceopen")){if(this.$2.readyState==="open")return r("oz-player/shims/OzMaybeNativePromise").resolve();var t=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),n=r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){n.remove(),t.resolve(),e.$31()});return this.$3.addSubscriptions(n),t.getPromise()}else{if(this.$2.readyState==="open")return r("oz-player/shims/OzMaybeNativePromise").resolve();var o=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise"));return this.$3.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){o.resolve(),e.$31()})),o.getPromise()}},t.$29=function(t){var e=this;if(this.$11.getBool("msm_refactor_wait_for_sourceopen"))return r("oz-player/shims/OzMaybeNativePromise").resolve().then(function(){return e.$32(t)}).catch(function(e){var n=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+t+'"): '+String(e),extra:{originalError:e,code:r("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}});throw n});try{return this.$32(t)}catch(e){var n=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+t+'"): '+(e.message||String(e)),extra:{originalError:e,code:r("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}});throw n}},t.$32=function(t){var e=this;{var n;return t.includes("vtt")?n=this.$33(t):n=this.$28().then(function(){return new(r("oz-player/media_source/OzMSESourceBufferImpl"))(e.$2.addSourceBuffer(t),t,e.$11,e.$23)}),n.then(function(n){return e.$6.push(n),n.registerOnUpdateListener(function(){e.$5.cloneContext().getOperationLogger("source_buffer_update_start").setType(o("oz-player/utils/OzMimeUtil").getMimeType(t)).setMediaSourceSourceBuffer(o("oz-player/utils/OzMimeUtil").getMimeType(t),n).setType(o("oz-player/utils/OzMimeUtil").getMimeType(t)).log()}),e.$5.getOperationLogger("add_source_buffer").setMediaSourceSourceBuffer(o("oz-player/utils/OzMimeUtil").getMimeType(t),n).log(),n})}},t.$30=function(t,n){var e=this;this.$4.addSubscriptions(t.registerOnUpdateEndListener(function(){e.$31()}))},t.$33=function(t){var e=this;return r("oz-player/shims/getOzVTTSourceBufferImpl")().then(function(n){if(e.$21!=null){var a=new n({onCaptionsChanged:e.$21,config:e.$11}),i=r("oz-player/shims/ozThrottle")(function(){a.setCurrentVideoTime(e.$1.currentTime)},200);return e.$3.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$1,"timeupdate",function(){i()}),{remove:function(){i=function(){}}}),a}else throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+t+'"): No handleVttCaptionsUpdated callback provided',extra:{code:r("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}})})},t.createSourceBufferManager=function(t,n,a,i){var e=this;return(this.$11.getBool("msm_refactor_wait_for_sourceopen")?this.$29(n).then(function(e){return[void 0,e]}):r("oz-player/shims/OzMaybeNativePromise").all([this.$28(),this.$29(n)])).then(function(a){var i=a[0],l=a[1],s=new(r("oz-player/media_source/SourceBufferManager"))(t,l,e.$11,e.$9,function(){return e.$2.readyState},e.$5.cloneContext().setType(o("oz-player/utils/OzMimeUtil").getMimeType(n)));return e.$30(l,n),e.$7.set(n,s),s}).catch(function(n){var a=o("oz-player/utils/OzErrorUtils").isOzError(n)?n.getExtra():void 0,i=a==null?void 0:a.code,l=o("oz-player/utils/OzErrorUtils").isOzError(n)?""+n.getType()+(i!=null?"#"+i:"")+": "+n.getDescription():String(n),s=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:"Failed to create SBM#"+t+": "+l+", support AAC-LC="+(e.$2.constructor.isTypeSupported("audio/mp4; codecs=mp4a.40.2")?"true":"false")+", readyState="+e.$2.readyState,extra:babelHelpers.extends({},a,{originalError:n,code:r("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CREATE_ERROR.toString()})});throw s})},t.getReadyState=function(){return this.$2.readyState},t.getMediaSource=function(){return this.$2},t.notifyEndOfStream=function(t,n){var e=this,o=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise"));return this.$3.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceended",function(){o.resolve()})),this.$8.push(function(r){if(r.readyState==="open"){var o=e.$5.getOperationLogger("end_of_stream");o.setInitiator(t).setReason(n),o.log(),r.endOfStream()}}),this.$31(),o.getPromise()},t.updateDuration=function(t,n){var e=this,a=this.$2.duration;Number.isFinite(a)&&(!n||a>=t)||(this.$8.push(function(n){n.duration!==a&&!(isNaN(n.duration)&&isNaN(a))&&r("oz-player/shims/ozReportUnexpectedError")(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:"mediaSource duration discrepancy: "+n.duration+" != "+a}),"MediaSourceManager updateDuration","warn");var i=e.$11.getBool("msm_refactor_wait_for_sourceopen")?n.duration!==1/0&&t<n.duration:t<n.duration;if(i){e.$5.getOperationLogger("media_source_update_duration").setMediaSourcePreviousDuration(n.duration).setMediaSourceNewDuration(t).setResult("failed").log();return}e.$5.getOperationLogger("media_source_update_duration").setMediaSourcePreviousDuration(n.duration).setMediaSourceNewDuration(t).log(),n.duration=t}),this.$31())},t.detach=function(){this.$18&&(r("oz-player/shims/ozClearTimeout")(this.$18),this.$18=null),this.$5.getOperationLogger("source_buffer_detach").unsetMediaSourceSourceBuffers(),this.$27(null);for(var e=0;e<this.$2.sourceBuffers.length;e++){var t=this.$2.sourceBuffers[e];this.$2.removeSourceBuffer(t)}this.$3.release(),this.$3.engage(),this.$4.release(),this.$4.engage(),this.$8=[],this.$10=!1,this.$12=!0},t.$35=function(){return!this.$34()&&this.$2.readyState==="open"&&!this.$10&&!this.$12},t.$34=function(){return this.$6.some(function(e){return e.getIsUpdating()})},t.onError=function(t){return this.$20.onError(t)},e})();l.default=e}),98);
__d("oz-player/media_source/OzMediaSeekableRangeManager",["oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){var n=this;this.$5=function(e){e===void 0&&(e=!0);var t=n.$2;if(t){var r=t.getTimeRanges();if(r.length){var o=r[r.length-1];n.$1.updateDuration(o.endTime,e)}}},this.$1=e,this.$3=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$4=t}var t=e.prototype;return t.setTimeRangeProvider=function(t){this.$3.release(),this.$3.engage(),this.$3.addSubscriptions(t.addUpdateListener(this.$5)),this.$2=t},t.listenToMediaStreamInitAppended=function(t){var e=this;return t.addListener("initAppended",function(){e.$5(!1)})},t.destroy=function(){this.$3.release()},e})();l.default=e}),98);
__d("oz-player/networks/OzCreateErrorStream",["oz-player/shims/OzStreams"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return new(o("oz-player/shims/OzStreams")).OzReadableStream({pull:function(n){n.error(e)}})}l.default=e}),98);
__d("oz-player/shims/OzFetchAPI",[],(function(t,n,r,o,a,i){"use strict";var e=function(n,r){return t.fetch(n,r)},l=function(n,r){return new t.Response(n,r)};i.fetch=e,i.Response=l}),66);
__d("oz-player/networks/FetchWithTimeout",["oz-player/shims/OzFetchAPI","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){"use strict";function e(e,n,a,i){var l=null,s;if("AbortController"in t&&a!=null&&a!=0){var u=new AbortController;l=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){return u.abort()},a),s=babelHelpers.extends({},n,{signal:u.signal})}else s=babelHelpers.extends({},n);return i!=null&&(s=babelHelpers.extends({},s,{referrer:i})),o("oz-player/shims/OzFetchAPI").fetch(e,s).then(function(e){return r("oz-player/shims/ozClearTimeout")(l),e})}l.default=e}),98);
__d("oz-player/networks/OzHTTPHeaders",["oz-player/shims/ozvariant"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=new Map}var t=e.prototype;return t.append=function(t,n){var e=t.toLowerCase(),r=this.$1.get(e);r!=null?this.$1.set(e,r+", "+n):this.$1.set(e,n)},t.get=function(t){var e=t.toLowerCase(),n=this.$1.get(e);return n!=null?n:null},t.entries=function(){return this.$1.entries()},t.has=function(t){return this.get(t)!==null},e})(),s=t.Headers,u=s&&s.prototype,c=s&&u&&typeof u.append=="function"&&typeof u.entries=="function"&&typeof u.get=="function"&&typeof u.has=="function"?s:e;function d(e){if(e==null)return null;if(typeof e=="object"&&typeof e.append=="function"&&typeof e.get=="function"&&typeof e.has=="function"){if(typeof e.entries=="function")return e;if(typeof e.forEach=="function"){var t=new c;return e.forEach(function(e,n){t.append(n,e)}),t}}return r("oz-player/shims/ozvariant")(!1,"Malformed Headers object: %s %s",typeof e,String(e)),null}l.OzHTTPHeaders=c,l.maybeConvertHeadersToOzHTTPHeaders=d}),98);
__d("oz-player/utils/arrayBuffer2OzReadableStream",["oz-player/shims/OzStreams"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return new(o("oz-player/shims/OzStreams")).OzReadableStream({start:function(n){var t=new Uint8Array(e);n.enqueue(t),n.close()}})}l.default=e}),98);
__d("oz-player/utils/maybeConvertReadableStreamToOzReadableStream",["asyncToGeneratorRuntime","oz-player/shims/OzStreams"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(!o("oz-player/shims/OzStreams").OzReadableStreamIsPolyfilled)return e;var t=e.getReader();return new(o("oz-player/shims/OzStreams")).OzReadableStream({start:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){for(;;){var n=yield t.read();if(n.done)break;e.enqueue(n.value)}e.close()});function r(t){return e.apply(this,arguments)}return r})()})}l.default=e}),98);
__d("oz-player/utils/processFetchResponse",["oz-player/networks/OzHTTPHeaders","oz-player/shims/OzMaybeNativePromise","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/maybeConvertReadableStreamToOzReadableStream"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.body,n=e.headers,a=e.ok,i=e.status;return t!=null?r("oz-player/shims/OzMaybeNativePromise").resolve({ok:a,status:i,headers:o("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(n),body:r("oz-player/utils/maybeConvertReadableStreamToOzReadableStream")(t),arrayBuffer:function(){return e.arrayBuffer()}}):e.arrayBuffer().then(function(e){return{ok:a,status:i,headers:o("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(n),body:r("oz-player/utils/arrayBuffer2OzReadableStream")(e),arrayBuffer:function(){return r("oz-player/shims/OzMaybeNativePromise").resolve(e)}}})}l.default=e}),98);
__d("oz-player/networks/OzFetchRequestImplementation",["oz-player/networks/FetchWithTimeout","oz-player/utils/processFetchResponse"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,o,a,i,l,s){var u=n?n.networkTimeoutMs:null,c=r("oz-player/networks/FetchWithTimeout")(e,t,u);return c.then(function(e){var t=e.headers,n=e.ok,a=e.status;return o!=null&&!n&&typeof e.text=="function"?e.text().then(function(r){return{ok:n,status:a,headers:t,body:r,arrayBuffer:function(){return e.arrayBuffer()}}}):r("oz-player/utils/processFetchResponse")(e)})}var s=e,u=s;l.default=u}),98);
__d("oz-player/networks/withRetries",["Promise","asyncToGeneratorRuntime","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,o,a){return new(e||(e=n("Promise")))(function(e,i){function l(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){try{e(yield t())}catch(e){if(n>0){var s=typeof a=="function"?a(o-n):a;r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){l(n-1)},s)}else i(e)}}),s.apply(this,arguments)}l(o)})}l.default=s}),98);
__d("oz-player/networks/OzFetchWithCache",["oz-player/networks/OzFetchRequestImplementation","oz-player/networks/withRetries","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzErrorUtils","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/processFetchResponse"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.config,n=e.dataAppendedCallback,a=e.dataAppendedErrorCallback,i=e.http,l=e.mediaStreamType,s=e.onPerfEntryAvailable,u=e.options,c=e.overrideOzRequestImplementation,d=e.prefetchCache,m=e.url,p=c!=null?function(){return c.apply(void 0,arguments)}:r("oz-player/networks/OzFetchRequestImplementation"),_=d?d.getCacheValue(m):null,f=_,g=!1,h;if(f)g=!0,h=f.then(function(e){if(e.initiator==="FETCH"){var t=e.response,n=t.headers,a=t.ok,i=t.status;return!a&&typeof e.response.text=="function"?e.response.text().then(function(t){return{ok:!1,status:i,headers:n,body:t,arrayBuffer:function(){return e.response.arrayBuffer()}}}):r("oz-player/utils/processFetchResponse")(e.response)}else if(e.initiator==="XHR_REQUEST"){var l=r("oz-player/utils/arrayBuffer2OzReadableStream")(e.response);return{body:l,status:200,headers:null,ok:!0,arrayBuffer:function(){return r("oz-player/shims/OzMaybeNativePromise").resolve(e.response)}}}else throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_UNEXPECTED_CACHE_INITIATOR",description:"Unable to handle request initiator: "+e.initiator})}).catch(function(e){return p(m,i,null,null,l,s,n,a)});else{var y,C=(y=u==null?void 0:u.retryAttempts_SIDX_USE_ONLY)!=null?y:0;if(C>0){var b,v=(b=u==null?void 0:u.retryTimeoutMs_SIDX_USE_ONLY)!=null?b:100;h=r("oz-player/networks/withRetries")(function(){return p(m,i,u,t,l,s,n,a)},C,v)}else h=p(m,i,u,t,l,s,n,a)}return{promise:h,retrievedFromCache:g}}l.default=e}),98);
__d("oz-player/utils/OzVideoUrlUtils",[],(function(t,n,r,o,a,i){"use strict";var e=-2147483648,l=~e,s=e+1;function u(e){var t=e|0;return Math.max(s,Math.min(t,l))}function c(e){var t=Number.parseInt(e,16);return Number.isFinite(t)?new Date(u(t)*1e3):null}function d(){return u(Date.now()/1e3)}var m={OE:"oe",OE2:"oe2",ODM:"odm",USS:"uss"};function p(e){var t=e instanceof URL?e.searchParams:new URL(e).searchParams,n=t.get(m.OE),r=n==null?void 0:c(n);return{expirationDate:r}}function _(e){var t=e instanceof URL?e.searchParams:new URL(e).searchParams;return t.get(m.OE2)!==null||t.get(m.ODM)!==null||t.get(m.USS)!==null}function f(e){var t=p(e),n=t.expirationDate;return n!=null&&n<=new Date(d()*1e3)}i.DEFAULT_UNIXTIME=e,i.MAX_INT=l,i.parseCdnUrlParams=p,i.isShortenedExpiryTimestampCdnUrl=_,i.isCdnUrlExpired=f}),66);
__d("oz-player/networks/OzNetworkRequestStream",["Promise","oz-player/networks/OzCreateErrorStream","oz-player/networks/OzFetchWithCache","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorUtils","oz-player/utils/OzResourceTimingUtils","oz-player/utils/OzVideoUrlUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){this.$8=!1,this.$10="auto";var t=e.baseUri,n=e.baseUriDecisionTime,r=e.config,o=e.dataAppendedCallback,a=e.dataAppendedErrorCallback,i=e.debugName,l=e.dynamicVideoLibrary,s=e.mediaStreamType,u=e.networkRequestFetchPriority,c=e.networkRequestStreamHandlers,d=e.networkRequestStreamRetryHandler,m=e.networkRequestUrlRefreshHandler,p=e.options,_=e.overrideOzRequestImplementation,f=e.prefetchCache,g=e.requestParamCreator;this.$1=i,this.$2=t,this.$3=p,this.$4=g,this.$11=c!=null?c:[],this.$10=u,this.$12=d,this.$13=m,this.$9=_,this.$14=f,this.$15=r,this.$16=l,this.$17=n,this.$18=s,this.$19=o,this.$20=a}var a=t.prototype;return a.$21=function(t){var e=this,n=this.$4.createRequestParam(this.$2,t,this.$10),o=n.http,a=n.uri,i=a.toString();this.$5=i;var l=r("oz-player/networks/OzFetchWithCache")({config:this.$15,url:i,http:o,overrideOzRequestImplementation:this.$9,options:this.$3,prefetchCache:this.$14,mediaStreamType:this.$18,onPerfEntryAvailable:function(n){e.$22(n)},dataAppendedCallback:this.$19,dataAppendedErrorCallback:this.$20}),s=l.promise,u=l.retrievedFromCache;return this.$8=u,{requestPromise:s,requestUrl:i}},a.startStream=function(t){var e=this;return this.$23().then(function(){if(e.$15.getBool("video_cdn_url_refresh")&&!o("oz-player/utils/OzVideoUrlUtils").isShortenedExpiryTimestampCdnUrl(e.$2.toString())&&o("oz-player/utils/OzVideoUrlUtils").isCdnUrlExpired(e.$2.toString()))return r("oz-player/networks/OzCreateErrorStream")(o("oz-player/utils/OzErrorUtils").createOzNetworkError({description:"OzNetworkRequestStream("+e.$1+") CDN URL expired.",responseStatus:0,responseHeaders:null,requestUrl:e.$2.toString()}));var n=e.$21(t),a=n.requestPromise,i=n.requestUrl,l=i,s=Date.now();return a.then(function(n){var a;return(a=e.$16)==null||a.updateWithResponse(i,s,e.$17,n),e.$7=n,e.$12!=null&&n.ok===!1?e.$12(n,function(){var n=e.$21(t),r=n.requestPromise,o=n.requestUrl;return l=o,r},l).catch(function(e){throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR",description:String(e),extra:{originalError:e,code:r("oz-player/utils/OzCustomErrorCode").NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR,url:l}})}):n}).then(function(t){for(var n=[],a=0;a<e.$11.length;a++)try{var i=e.$11[a].onResponse(t,l);i&&n.push(i)}catch(e){var s=e;return r("oz-player/networks/OzCreateErrorStream")(s)}var u=t.body,c=t.headers,d=t.ok,m=t.status;if(!d)return r("oz-player/networks/OzCreateErrorStream")(o("oz-player/utils/OzErrorUtils").createOzNetworkError({description:"OzNetworkRequestStream("+e.$1+") HTTP status not OK",responseStatus:m,responseHeaders:c,requestUrl:l,responseBody:typeof u=="string"?u:void 0}));typeof u!="string"&&typeof u.getReader=="function"||r("oz-player/shims/ozvariant")(0,3287);for(var p=u,_=0;_<n.length;_++)p=p.pipeThrough(n[_]);return p},function(t){for(var n=[],a=0;a<e.$11.length;a++)try{var i=e.$11[a].onError(t,l);i&&n.push(i)}catch(e){var s=e;return r("oz-player/networks/OzCreateErrorStream")(s)}if(t instanceof TypeError){for(var u=r("oz-player/networks/OzCreateErrorStream")(o("oz-player/utils/OzErrorUtils").createOzNetworkError({description:"OzNetworkRequestStream("+e.$1+") TypeError: "+t.message,responseStatus:0,responseHeaders:null,requestUrl:l})),c=0;c<n.length;c++)u=u.pipeThrough(n[c]);return u}throw t}).catch(function(e){if(o("oz-player/utils/OzErrorUtils").isOzError(e)&&e.getType()==="OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR")throw e;if(e.name==="AbortError"){var t=e.message;return r("oz-player/networks/OzCreateErrorStream")({type:e.name,status:e.code,url:l,message:t})}return r("oz-player/networks/OzCreateErrorStream")({type:"stream_processing",status:0,url:l,message:"Stream processing error. "+e})})})},a.$22=function(t){this.$6=t},a.getLastPerformanceEntry=function(){return this.$6!=null?this.$6:this.$5==null?null:o("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(this.$5)},a.getLastRequestUrl=function(){return this.$5},a.getLastResponse=function(){return this.$7},a.retrievedFromCache=function(){return this.$8},a.$23=function(){var t=this;return this.$15.getBool("video_cdn_url_refresh")&&!o("oz-player/utils/OzVideoUrlUtils").isShortenedExpiryTimestampCdnUrl(this.$2.toString())&&o("oz-player/utils/OzVideoUrlUtils").isCdnUrlExpired(this.$2.toString())&&this.$13?this.$13(this.$2.toString()).then(function(e){e.refreshedUrl!=null&&e.reason==="OK"&&(t.$2=new(r("oz-player/shims/OzURI"))(e.refreshedUrl))}):(e||(e=n("Promise"))).resolve()},t})();l.default=s}),98);
__d("oz-player/manifests/OzByteRange",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e.startByte===t.startByte}function l(e,t){return t.endByte===null?!1:e.startByte===t.endByte+1}function s(e,t){return e.startByte<t.startByte?!1:t.endByte==null||t.endByte>=e.startByte}function u(e,t){var n=e,r=t;if(r.startByte<n.startByte){var o=n;n=r,r=o}if(n.endByte==null)return{startByte:n.startByte,endByte:null};if(r.startByte>n.endByte+1)return null;var a=r.endByte==null||r.endByte>n.endByte?r.endByte:n.endByte;return{startByte:n.startByte,endByte:a}}function c(e,t){return t.endByte==null?null:e.startByte>t.endByte?{startByte:e.startByte,endByte:e.endByte}:e.endByte!=null&&e.endByte<=t.endByte?null:{startByte:t.endByte+1,endByte:e.endByte}}function d(e){return e.endByte==null?null:e.endByte-e.startByte+1}i.startsAtSame=e,i.startsImmediateAfter=l,i.startsDuring=s,i.union=u,i.disjoinAfter=c,i.getLength=d}),66);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.default=e}),66);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/networks/OzProducerInterruptedError","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){e===void 0&&(e={}),this.$2=[],this.$3=!1,this.$5=0;var t=e,n=t.disableArrayShift;this.$1=!!n}var t=e.prototype;return t.produce=function(t){this.$6(t)},t.signalProducerInterruption=function(){this.$6(new(r("oz-player/networks/OzProducerInterruptedError"))("producer interrupted"))},t.consume=function(t){var e=this;if(this.$3)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DEFERRED_BUFFER",description:"A buffer can only be consumed by one client at a time"});this.$3=!0;var n=r("oz-player/shims/OzMaybeNativePromise").resolve();return this.isEmpty()&&(this.$4=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),n=this.$4.getPromise()),n.then(function(){if(e.$1){if(e.$2[e.$5]===void 0)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DEFERRED_BUFFER",description:"buffer has no value at position "+e.$5})}else if(e.$2.length===0)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DEFERRED_BUFFER",description:"buffer length must not be 0"});e.$4=null,e.$3=!1;var n=e.$1?e.$7(t):e.$8(t);if(n instanceof Uint8Array)return n;throw n})},t.$6=function(t){this.$2.push(t),this.$4&&this.$4.resolve()},t.$7=function(t){var e=this.$2[this.$5];if(e===void 0)return new Uint8Array([]);var n=e;if(!(n instanceof Uint8Array))return this.$2[this.$5]=void 0,this.$5++,n;if(t!==void 0&&n.length>t){var r=n.slice(t);n=n.slice(0,t),this.$2[this.$5]=r}else this.$2[this.$5]=void 0,this.$5++;return n},t.$8=function(t){if(this.$2.length===0)return new Uint8Array([]);var e=this.$2[0];if(!(e instanceof Uint8Array))return this.$2.shift(),e;if(t!==void 0&&e.length>t){var n=e.slice(t);e=e.slice(0,t),this.$2[0]=n}else this.$2.shift();return e},t.isEmpty=function(){return this.$1?this.$2[this.$5]===void 0:this.$2.length===0},e})();l.default=e}),98);
__d("oz-player/utils/ozPipeErrorTo",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){try{e==null||e.error(t)}catch(e){}}i.default=e}),66);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/networks/OzDeferredBuffer","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzErrorUtils","oz-player/utils/ozPipeErrorTo"],(function(t,n,r,o,a,i,l){"use strict";function e(){return o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM",description:"Upstream has an inconsistent range"})}var s=(function(){function e(){this.$1=0}var t=e.prototype;return t.setBytesToSkip=function(t){this.$1=t},t.setBytesSkipped=function(t){this.$1-=t},t.getBytesToSkip=function(){return this.$1},t.hasMoreBytesToSkip=function(){return this.$1>0},e})(),u=(function(){function t(n,o,a,i,l){var u=this;this.$5=!1,this.$7=0,this.$8=0,this.$13=!1,this.$14=new s,this.$15=!1,this.$16=!1,this.$17=!1,this.startStream=function(){u.$13=!0;var e={startByte:u.$1.startByte,endByte:u.$1.endByte};u.$15?u.$8&&(u.$3.produce("skip_buffered_bytes"),u.$8=0):e.startByte+=u.$8;var n=u.$4;return u.$2.startStream(e).then(function(e){return e.pipeTo(u.$16?n:u.$4).then(function(){u.$12&&u.$12.resolve("stream_done")}).catch(function(e){u.$12&&!u.$12.isSettled()&&(u.$16&&e===t.STREAM_PAUSED?u.$12.resolve("stream_paused"):u.$12.reject(e))}),u.$12=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),{statusPromise:u.$12.getPromise()}})},this.$18=n,this.$19=o,this.$1=a,this.$2=i;var c=l||{},d=c.disableDeferredBufferArrayShift,m=c.enablePausableStreamResumeFromStartDangerously,p=c.fixPausePreReadableStream,_=c.fixStreamingUndefinedEndByte,f=c.throwErrorWhenAborted;this.$11=!!_,this.$15=!!m,this.$16=!!p,this.$17=!!f,this.$3=new(r("oz-player/networks/OzDeferredBuffer"))({disableArrayShift:!!d}),this.$6=new this.$18({start:function(t){u.$10=t},pull:function(n){if((u.$11&&u.$1.endByte===null&&u.$5||u.$7===u.$20())&&u.$3.isEmpty())return n.close(),r("oz-player/shims/OzMaybeNativePromise").resolve();var t=function(){var o=u.$14.hasMoreBytesToSkip()?u.$14.getBytesToSkip():void 0;return u.$3.consume(o).then(function(o){if(u.$14.hasMoreBytesToSkip())return u.$14.setBytesSkipped(o.length),t();u.$7+=o.length;var a=u.$20();a!==null&&u.$7>(a||0)&&r("oz-player/utils/ozPipeErrorTo")(u.$10,e()),n.enqueue(o)}).catch(function(e){if(e==="skip_buffered_bytes")return u.$14.setBytesToSkip(u.$7),t();throw e})};return t()},cancel:function(t){u.$12&&u.$12.resolve("stream_cancelled"),r("oz-player/utils/ozPipeErrorTo")(u.$9,t)}}),this.$4=this.$21()}var n=t.prototype;return n.$20=function(){var e=this.$1,t=e.endByte,n=e.startByte;return t!=null?t-n+1:null},n.$21=function(){var t=this;return new this.$19({start:function(n){t.$9=n},write:function(n){t.$3.produce(n),t.$8+=n.length},close:function(){t.$5=!0;var n=t.$1,o=n.endByte,a=n.startByte;t.$11&&o===null&&t.$3.produce(new Uint8Array([])),o!==null&&t.$8!==(o||0)-a+1&&r("oz-player/utils/ozPipeErrorTo")(t.$10,e())},abort:function(n){t.$12&&(t.$17?t.$12.reject(n):t.$12.resolve("stream_aborted")),r("oz-player/utils/ozPipeErrorTo")(t.$10,n)}})},n.getStream=function(){return this.$6},n.pauseStream=function(){r("oz-player/utils/ozPipeErrorTo")(this.$9,t.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$4=this.$21()},n.getByteRange=function(){return this.$1},n.getBytesStreamed=function(){return this.$7},n.tryConcatByteRange=function(t){return this.$13||!o("oz-player/manifests/OzByteRange").startsImmediateAfter(t,this.$1)?!1:(this.$1={startByte:this.$1.startByte,endByte:t.endByte},!0)},t})();u.STREAM_PAUSED="streamPaused",l.default=u}),98);
__d("oz-player/networks/RequestParamCreator",["oz-player/shims/OzURI"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n){var e=this;this.createRequestParam=function(t,n,o){var a=new(r("oz-player/shims/OzURI"))(t.toString());if(n){var i=n.endByte,l=n.startByte;l===0&&i==null||(a.addQueryData({bytestart:n.startByte}),i!=null&&a.addQueryData({byteend:i}))}if(e.$2){var s=e.$2(a);s&&Object.keys(s).forEach(function(e){var t=s[e];a.addQueryData(e,t)})}var u=e.$1&&e.$1(a)?"include":"same-origin";return{uri:a,http:{credentials:u,priority:o}}},this.$1=t,this.$2=n};l.default=e}),98);
__d("oz-player/networks/getOzSegmentStreamableRange",[],(function(t,n,r,o,a,i){"use strict";function e(e){if(!e.length)return null;var t=e[0].getURI().toString(),n=e[0].getByteRange();if(!n)return null;for(var r=n,o=1;o<e.length;o++){var a=e[o];if(a.getURI().toString()!==t)return null;var i=a.getByteRange();if(!r||!i||r.endByte===null||i.startByte!==r.endByte+1)return null;r=i}return{startByte:n.startByte,endByte:r.endByte}}i.default=e}),66);
__d("oz-player/utils/OzNetworkRequestLoggingUtils",["oz-player/shims/OzNetworkDiagnostics","oz-player/utils/OzResourceTimingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return t?parseInt(t.get("content-length"),10):null},s=function(t){return t?t.get("x-fb-fna-hit"):null},u=function(t){return t?t.get("x-fb-edge-hit"):null},c=function(t){return t?t.get("x-fb-origin-hit"):null},d=function(t){return t?parseInt(t.get("x-fb-dynamic-latest-segment-id"),10):null},m=function(t,n){var e=o("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(n);e&&t.setTimeToFirstByte(Math.round(e.responseStart-e.startTime)).setTimeToLastByte(Math.round(e.responseEnd-e.startTime)).setTimeToRequestStart(Math.round(e.requestStart-e.startTime))},p=function(n,o,a,i,l,p){a.length&&n.setSegmentCount(a.length),o!=null&&o!==""&&m(n,String(o)),n.setResource(o!=null&&o!==""?o:null).setInitiator("fetch").setTimeToRequestSent(Math.round(Math.floor(i))).setLiveheadSeqNumHeader(d(p==null?void 0:p.headers)).setContentLengthHeader(e(p==null?void 0:p.headers)).setEdgeHitHeader(u(p==null?void 0:p.headers)).setOriginHitHeader(c(p==null?void 0:p.headers)).setFNAHitHeader(s(p==null?void 0:p.headers)).setResponseTimeMsHeader(r("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(p==null?void 0:p.headers)).setUserInfo({segmentPTSHeader:String(r("oz-player/shims/OzNetworkDiagnostics").getDvlSegmentPTS(p==null?void 0:p.headers))}).setCode(p==null?void 0:p.status).setLength(l)},_=function(n,o,a,i,l,s,p){o!=null&&o!==""&&m(n,String(o)),n.setResource(o!=null&&o!==""?o:null).setLiveheadSeqNumHeader(d(i==null?void 0:i.headers)).setContentLengthHeader(e(i==null?void 0:i.headers)).setEdgeHitHeader(u(i==null?void 0:i.headers)).setOriginHitHeader(c(i==null?void 0:i.headers)).setResponseTimeMsHeader(r("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(i==null?void 0:i.headers)).setCode(i==null?void 0:i.status).setLength(a).setClientTimeBegin(l).setClientTimeDuration(s-l).setClientTimeEnd(s).setUserInfo(p!=null&&p>0?{chunkSize:String(p)}:null)};l.setPerformanceLoggingAttributes=m,l.setFetchStreamLoggingAttributes=p,l.setBandwidthSampledLoggingAttributes=_}),98);
__d("oz-player/networks/OzNetworkManager",["oz-player/loggings/OzLoggingUtils","oz-player/networks/OzNetworkRequestStream","oz-player/networks/OzPausableRangeStream","oz-player/networks/RequestParamCreator","oz-player/networks/getOzSegmentStreamableRange","oz-player/shims/OzStreams","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$10=null,this.$15="auto";var t=e.bandwidthEstimator,n=e.config,o=e.configureCustomRequestParametersForSegment,a=e.dynamicVideoLibrary,i=e.getCustomRequestParametersForURI,l=e.getOverrideOzRequestImplementation,s=e.getShouldIncludeCredentials,u=e.networkRequestFetchPriority,c=u===void 0?"auto":u,d=e.networkRequestStreamHandlers,m=e.networkRequestStreamRetryHandler,p=e.networkRequestUrlRefreshHandler,_=e.onResourceTimingBufferFull,f=e.prefetchCache,g=e.setCustomFetchStreamLoggingAttributes;this.$2=n,this.$8=s,this.$9=i,this.$1=new(r("oz-player/networks/RequestParamCreator"))(this.$8,this.$9),this.$3=f,this.$4=d,this.$5=m,this.$6=p,this.$7=l,this.$10=g,this.$11=a,this.$12=o,this.$13=_,this.$14=t,this.$15=c}var t=e.prototype;return t.destroy=function(){},t.request=function(t){var e=t.dataAppendedCallback,n=t.dataAppendedErrorCallback,o=t.debugName,a=t.loggerProvider,i=t.mediaStreamType,l=t.pipeThroughRangeStreamProviders,s=t.requestOptions,u=t.segments;u.length>0||r("oz-player/shims/ozvariant")(0,212);var c=r("oz-player/networks/getOzSegmentStreamableRange")(u)||{startByte:0,endByte:null},d=this.$7?this.$7():null,m=this.$16(u[0]),p=new(r("oz-player/networks/OzNetworkRequestStream"))({debugName:o,config:this.$2,baseUri:m,baseUriDecisionTime:null,options:s,requestParamCreator:this.$1,networkRequestFetchPriority:this.$15,networkRequestStreamHandlers:this.$4,networkRequestUrlRefreshHandler:this.$6,overrideOzRequestImplementation:d,prefetchCache:this.$3,networkRequestStreamRetryHandler:this.$5,mediaStreamType:i,dataAppendedCallback:e,dataAppendedErrorCallback:n});return this.$17(c,p,l,a,u)},t.createPausableStream=function(t){var e=t.dataAppendedCallback,n=t.dataAppendedErrorCallback,o=t.debugName,a=t.loggerProvider,i=t.mediaStreamType,l=t.pipeThroughRangeStreamProviders,s=t.segments;s.length>0||r("oz-player/shims/ozvariant")(0,212);var u=r("oz-player/networks/getOzSegmentStreamableRange")(s)||{startByte:0,endByte:null},c=null,d=this.$2.getNumber("network_seg_timeout_ms");d>0&&(c={networkTimeoutMs:d});var m=this.$7?this.$7():null,p=new(r("oz-player/networks/OzNetworkRequestStream"))({debugName:o,config:this.$2,baseUri:this.$16(s[0]),baseUriDecisionTime:s[0].getOptions().getSegmentNumDecisionTime(),options:c,requestParamCreator:this.$1,networkRequestFetchPriority:this.$15,networkRequestStreamHandlers:this.$4,networkRequestUrlRefreshHandler:this.$6,overrideOzRequestImplementation:m,prefetchCache:this.$3,networkRequestStreamRetryHandler:this.$5,dynamicVideoLibrary:this.$11,mediaStreamType:i,dataAppendedCallback:e,dataAppendedErrorCallback:n});return{pausableStream:this.$18(u,p,l||null,a),loggingPayloads:{getRequestUrl:function(){return p.getLastRequestUrl()||null},segments:s,getResponse:function(){return p.getLastResponse()}}}},t.requestRawUrl=function(t){var e=t.debugName,n=t.loggerProvider,o=t.options,a=t.url,i=this.$7?this.$7():null,l=new(r("oz-player/networks/OzNetworkRequestStream"))({debugName:e,config:this.$2,baseUri:new(r("oz-player/shims/OzURI"))(a),baseUriDecisionTime:null,options:o,networkRequestFetchPriority:this.$15,requestParamCreator:this.$1,networkRequestStreamHandlers:this.$4,networkRequestUrlRefreshHandler:this.$6,overrideOzRequestImplementation:i,prefetchCache:this.$3,networkRequestStreamRetryHandler:this.$5,dynamicVideoLibrary:this.$11,mediaStreamType:null,dataAppendedCallback:null,dataAppendedErrorCallback:null}),s={startByte:0,endByte:null};return this.$17(s,l,[],n)},t.$18=function(t,n,a,i){var e=n;if(a!=null)for(var l=0;l<a.length;l++){var s=a[l];e=s(this.$2,e,i,this.$13)}return new(r("oz-player/networks/OzPausableRangeStream"))(o("oz-player/shims/OzStreams").OzReadableStream,o("oz-player/shims/OzStreams").OzWritableStream,t,e,{fixStreamingUndefinedEndByte:!0,enablePausableStreamResumeFromStartDangerously:!0,fixPausePreReadableStream:!0,throwErrorWhenAborted:!0})},t.$17=function(t,n,r,a,i){var e=this;i===void 0&&(i=[]);var l=this.$18(t,n,r,a),s=l.startStream(),u=this.$19(s);if(a){var c=function(r){o("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(r,n.getLastRequestUrl(),i,0,l.getBytesStreamed(),n.getLastResponse());var t=e.$10;t&&t(r,n.getLastRequestUrl(),n.getLastResponse())};o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(u,a,"fetch_stream",c,c)}return{getStream:function(){return l.getStream()},cancel:function(){return l.pauseStream()},getStatusChangePromise:function(){return u}}},t.$19=function(t){return t.then(function(e){var t=e.statusPromise;return t.then(function(e){return"done"})})},t.$16=function(t){var e=this.$12,n=new(r("oz-player/shims/OzURI"))(t.getURI().toString());if(e){var o=e(t);o&&Object.keys(o).forEach(function(e){var t=o[e];n.addQueryData(e,t)})}return n},t.getBandwidthEstimator=function(){return this.$14},e.getStreamableSegmentsRange=function(t){return t.length?r("oz-player/networks/getOzSegmentStreamableRange")(t)?t.slice(0):[t[0]]:[]},e})();l.default=e}),98);
__d("oz-player/manifests/Mpd",["oz-player/shims/OzEventEmitter","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o,a,i,l,s){var u;return u=e.call(this)||this,u.$Mpd$p_9=!1,u.$Mpd$p_1=t,u.$Mpd$p_5=i,u.$Mpd$p_2=n,u.$Mpd$p_3=r,u.$Mpd$p_4=o,u.$Mpd$p_6=a,u.$Mpd$p_7=l,u.$Mpd$p_8=s,u}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.markRefreshed=function(){this.$Mpd$p_10=Date.now()},n.getRefreshDate=function(){return this.$Mpd$p_10},n.updateLocation=function(t){this.$Mpd$p_6=t,this.$Mpd$p_9=!0,this.emit("locationUpdated")},n.getLocation=function(){return this.$Mpd$p_6},n.getMinimumUpdatePeriod=function(){return this.$Mpd$p_5},n.getVideoRepresentations=function(){return this.$Mpd$p_2},n.getVideoRepresentationsByVariant=function(t){return t.lang===null?this.$Mpd$p_2.filter(function(e){return e.getLang()===t.lang&&e.getRole()===t.role}):this.$Mpd$p_2.filter(function(e){return e.getLang()===t.lang&&e.getRole()===t.role})},n.getAudioRepresentationsByVariant=function(t){return t.lang===null?this.$Mpd$p_3.filter(function(e){return e.getLang()===t.lang&&e.getRole()===t.role}):this.$Mpd$p_3.filter(function(e){return e.getLang()===t.lang&&e.getRole()===t.role})},n.getAudioRepresentations=function(){return this.$Mpd$p_3},n.getApplicationRepresentations=function(){return this.$Mpd$p_4},n.getCustomField=function(t){var e=this.$Mpd$p_7.get(t);if(!e)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_MPD_PARSER",description:"Custom parser not specified for field "+t});try{return e(this.$Mpd$p_1)}catch(e){return null}},n.isStaticMpd=function(){return this.$Mpd$p_8},n.updateWith=function(t){this.$Mpd$p_9&&(this.$Mpd$p_9=!1,this.$Mpd$p_2.splice(0,this.$Mpd$p_2.length),this.$Mpd$p_3.splice(0,this.$Mpd$p_3.length),this.$Mpd$p_4.splice(0,this.$Mpd$p_4.length)),this.$Mpd$p_1=t.$Mpd$p_1,this.$Mpd$p_11(this.$Mpd$p_2,t.getVideoRepresentations()),this.$Mpd$p_11(this.$Mpd$p_3,t.getAudioRepresentations()),this.$Mpd$p_11(this.$Mpd$p_4,t.getApplicationRepresentations()),this.$Mpd$p_8=t.isStaticMpd(),this.$Mpd$p_5=t.getMinimumUpdatePeriod(),this.emit("updated")},n.blockTimeRange=function(t){this.$Mpd$p_2.forEach(function(e){return e.blockTimeRange(t)}),this.$Mpd$p_3.forEach(function(e){return e.blockTimeRange(t)}),this.$Mpd$p_4.forEach(function(e){return e.blockTimeRange(t)})},n.unblockTimeRange=function(){this.blockTimeRange({startTime:0,endTime:0})},n.$Mpd$p_11=function(t,n){for(var e=0;e<n.length;e++){for(var r=n[e],o=!1,a=0;a<t.length;a++){var i=t[a];if(r.getID()===i.getID()){i.updateWith(r),o=!0;break}}o||t.push(r)}},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/manifests/OzApplicationRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(r("oz-player/manifests/OzRepresentationBase"));l.default=e}),98);
__d("oz-player/parsers/OzSegmentTemplateParser",["oz-player/manifests/OzSegmentOptions","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.$3=new(r("oz-player/manifests/OzSegmentOptions")),this.$2=e,this.$1=t}var t=e.prototype;return t.getData=function(){return this.$1},t.getTimeRange=function(){return{startTime:0,endTime:0}},t.getByteRange=function(){return null},t.getURI=function(){return this.$2},t.getSequenceNumber=function(){return null},t.getOptions=function(){return this.$3},e})(),s=(function(){function t(e,t,n,o,a){this.$2=n,this.$1=t,this.$3=e,o?this.$4=o:this.$4=new(r("oz-player/parsers/OzDefaultSegmentTimelineParser")),this.$5=a}var n=t.prototype;return n.parseInitializationSegment=function(){var t=o("oz-player/utils/OzUrlHelper").joinUrlPaths(this.$2.baseUrl,this.$1.$.initialization);return new e(new(r("oz-player/shims/OzURI"))(t),this.$5)},n.parseSegmentsContainer=function(){return this.$4.parseSegmentsContainer(this.$3,this.$2,this.$1)},t})();l.default=s}),98);
__d("oz-player/manifests/OzZeroTimeRangeSegment",["oz-player/manifests/OzSegmentOptions"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){this.$4=new(r("oz-player/manifests/OzSegmentOptions")),this.$1=e,this.$2=t,this.$3=n}var t=e.prototype;return t.getData=function(){return null},t.getURI=function(){return this.$1},t.getTimeRange=function(){return{startTime:0,endTime:0}},t.getByteRange=function(){return{startByte:this.$2,endByte:this.$3}},t.getSequenceNumber=function(){return null},t.getOptions=function(){return this.$4},e})();l.default=e}),98);
__d("oz-player/networks/OzNetworkRequestStreamBandwidthReporter",["oz-player/networks/OzTransformStream","oz-player/shims/OzNetworkDiagnostics","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var n=this;this.$8=Date.now(),this.$9=Date.now(),this.$10=0,this.$11=0,this.$12=function(){},this.$13=function(){},this.$14=function(){},this.$16=new(r("oz-player/networks/OzTransformStream")),this.$19=!1,this.$20=!1,this.$21=null,this.$22=function(e){n.$25(),e.length!=null&&(n.$11+=e.length),n.$26(),!n.$18&&n.$27()},this.$23=function(){if(!(n.$21!=null&&n.$21>0)){var e=Date.now()-n.$8,r=n.$1.getLastPerformanceEntry();r&&n.$13(r.responseStart-r.requestStart,r.responseEnd-r.requestStart,n.$11),!r&&t.__isresourcetimingbufferfull&&n.$15&&n.$15(),n.$3>0&&e>0&&n.$10===0&&n.$11>=n.$3&&n.$28(n.$11,e)}};var o=e.byteCountPerSample,a=e.ignoreOnStreamWriteSamples,i=e.loggerProvider,l=e.maximumSampleBandwidth,s=e.minimumBytesToSampleOnClose,u=e.minimumSampleDuration,c=e.onResourceTimingBufferFull,d=e.responseTimeHandicapMs,m=e.stream,p=e.useResponseTimeMs;this.$1=m,this.$17=i,this.$2=o,this.$3=s,this.$4=u,this.$5=l,this.$6=p,this.$7=d,this.$18=a,this.$16.addListener("writableWrite",this.$22),this.$16.addListener("writableClose",this.$23),this.$15=c}var n=e.prototype;return n.getTransformStream=function(){return this.$16},n.onBandwidthSample=function(t){this.$12=t},n.onNavigationTimingSample=function(t){this.$13=t},n.onEstimateFromHeaders=function(t){this.$14=t},n.$24=function(t,n,r){var e=n-r,a=this.$17?this.$17.getOperationLogger("bandwidth_sampled"):null;if(a){var i=Date.now(),l=i-e;o("oz-player/utils/OzNetworkRequestLoggingUtils").setBandwidthSampledLoggingAttributes(a,this.$1.getLastRequestUrl(),t,this.$1.getLastResponse(),l,i,this.$21),a.log()}this.$12(t,e)},n.$29=function(t,n,r){if(n-r<=0)return!0;var e=t*8/(n/1e3);return n<this.$4&&e>this.$5},n.$28=function(t,n){var e=this.$1.getLastResponse(),o=this.$6&&r("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(e==null?void 0:e.headers)||0;this.$29(t,n,o)||this.$24(t,n,Math.max(o-this.$7,0))},n.$25=function(){var e,t=(e=this.$1.getLastResponse())==null?void 0:e.headers;if(!(this.$20||t==null)){this.$20=!0;var n=r("oz-player/shims/OzNetworkDiagnostics").getBandwidthMeanEstimate(t);n!=null&&this.$14(n)}},n.$26=function(){if(!this.$19){if(this.$21==null){var e=this.$1.getLastResponse();this.$21=r("oz-player/shims/OzNetworkDiagnostics").getUsableResponseSizeForBandwidthEstimation(e==null?void 0:e.headers)||0}this.$21!=null&&this.$21>0&&this.$11>=this.$21&&(this.$19=!0,this.$28(this.$11,Date.now()-this.$9))}},n.$27=function(){var e=Date.now(),t=e-this.$8;this.$2>0&&this.$11>=this.$10+this.$2&&!this.$29(this.$11,t,0)&&(this.$24(this.$11-this.$10,t,0),this.$8=e,this.$10=this.$11)},e})();l.default=e}),98);
__d("oz-player/networks/bandwidth/pipeStreamThroughBandwidthEstimator",["oz-player/networks/OzNetworkRequestStreamBandwidthReporter"],(function(t,n,r,o,a,i,l){"use strict";var e=2e5;function s(t,n,o,a,i){return{startStream:function(s){var l=new(r("oz-player/networks/OzNetworkRequestStreamBandwidthReporter"))({stream:n,loggerProvider:o,byteCountPerSample:t.getNumber("byte_count_per_sample",e),minimumBytesToSampleOnClose:t.getNumber("minimum_bytes_to_sample_on_close",25e3),minimumSampleDuration:t.getNumber("minimum_bandwidth_sample_duration",10),maximumSampleBandwidth:t.getNumber("maximum_bandwidth_sample_bandwidth",1e8),useResponseTimeMs:t.getBool("bandwidth_use_response_time_adjustment",!1),responseTimeHandicapMs:t.getNumber("bandwidth_response_time_handicap",0),ignoreOnStreamWriteSamples:t.getBool("bandwidth_ignore_on_stream_write_samples",!1),onResourceTimingBufferFull:i});return l.onBandwidthSample(function(e,t){a.addBandwidthSample(e,t)}),l.onNavigationTimingSample(function(e,n,r){var o=t.getNumber("time_to_first_byte_ignore_above_threshold_ms",0);(o===0||e<=o)&&a.addNavigationTimingSample(e,n,r)}),l.onEstimateFromHeaders(function(e){a.setBandwidthEstimateFromHeaders({meanEstimate:e})}),n.startStream(s).then(function(e){return n.retrievedFromCache()?e:e.pipeThrough(l.getTransformStream())})}}}l.pipeStreamThroughBandwidthEstimator=s}),98);
__d("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter",["oz-player/networks/OzNetworkRequestStream","oz-player/networks/bandwidth/pipeStreamThroughBandwidthEstimator"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return function(n,a,i,l){var s=e==="video";return a instanceof r("oz-player/networks/OzNetworkRequestStream")&&s?o("oz-player/networks/bandwidth/pipeStreamThroughBandwidthEstimator").pipeStreamThroughBandwidthEstimator(n.getLegacyConfig(),a,i,t,l):a}}l.default=e}),98);
__d("oz-player/manifests/OzDataSegment",["oz-player/manifests/OzSegmentOptions"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,o,a){this.$6=new(r("oz-player/manifests/OzSegmentOptions")),this.$1=e,this.$2=t,this.$3=n,this.$4=o,this.$5=a}var t=e.prototype;return t.getData=function(){return null},t.getURI=function(){return this.$1},t.getTimeRange=function(){return{startTime:this.$2,endTime:this.$3}},t.getByteRange=function(){return{startByte:this.$4,endByte:this.$5}},t.getSequenceNumber=function(){return null},t.getOptions=function(){return this.$6},e})();l.default=e}),98);
__d("oz-player/shims/www/OzDataViewReaderWWW",["DataViewReader"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("DataViewReader")}),98);
__d("oz-player/shims/OzDataViewReader",["oz-player/shims/www/OzDataViewReaderWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/OzDataViewReaderWWW")}),98);
/**
 * License: https://www.facebook.com/legal/license/k5cmJzUOK4Y/
 */
__d("oz-player/parsers/OzMp4SidxParser",["oz-player/manifests/OzDataSegment","oz-player/manifests/OzSegmentOptions","oz-player/shims/OzDataViewReader","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=1936286840;function s(t,n,a,i){var l=new(r("oz-player/shims/OzDataViewReader"))(new DataView(i.buffer)),s=l.readUint32(),u=l.readUint32();if(u!==e)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SIDX_PARSER",description:'Invalid box type, expected "sidx".'});s==1&&(s=l.readUint64());var c=l.readUint8();l.skip(3),l.skip(4);var d=l.readUint32();if(!d)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SIDX_PARSER",description:"Invalid timescale."});var m,p;c==0?(m=l.readUint32(),p=l.readUint32()):(m=l.readUint64(),p=l.readUint64()),l.skip(2);for(var _=l.readUint16(),f=m,g=a+s+p,h=0,y=t.getBool("sidx_parser_memory_optimization"),C=[],b=function(){var e=l.readUint32(),t=(e&2147483648)>>>31,a=e&2147483647,i=l.readUint32();if(e=l.readUint32(),t==1)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SIDX_PARSER",description:"Heirarchical SIDXs are not supported."});var s=f/d,u=(f+i)/d;v===0&&(h=s);var c=g,m=c+a-1,p=new(r("oz-player/manifests/OzSegmentOptions"));C.push(y?new(r("oz-player/manifests/OzDataSegment"))(n,s-h,u-h,c,m):{getData:function(){return null},getURI:function(){return n},getTimeRange:function(){return{startTime:s-h,endTime:u-h}},getByteRange:function(){return{startByte:c,endByte:m}},getSequenceNumber:function(){return null},getOptions:function(){return p}}),f+=i,g+=a},v=0;v<_;v++)b();return C}l.parse=s}),98);
__d("oz-player/parsers/OzSidxSegmentsContainer",["oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.getSegmentByTime=function(t){for(var e=this.$1(),n=0;n<e.length;n++){var r=e[n],o=r.getTimeRange();if(o.startTime<=t&&o.endTime>t)return r}return null},t.getSegmentAfter=function(t){var e=this.$1(),n=e.findIndex(function(e){return e.getTimeRange().startTime===t.getTimeRange().startTime&&e.getTimeRange().endTime===t.getTimeRange().endTime});return n>=0&&n+1<e.length?e[n+1]:null},t.getPredictedSegmentAfter=function(t){return null},t.canPredict=function(){return!1},t.canApproximateId=function(){return!1},t.isEndingSegment=function(t){var e=this.$1();if(!e||!e.length)return!1;var n=e[e.length-1].getTimeRange(),r=t.getTimeRange();return n.startTime===r.startTime&&n.endTime===r.endTime},t.getSegment=function(t){return this.$1()[t]||null},t.updateWith=function(t){throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: updatedWith"})},t.addUpdateListener=function(t){return this.$2.addListener("segment_updated",t)},t.getTimeRanges=function(){var e=this.$1();if(e.length===0)return[];var t=e[0],n=e[e.length-1];return[{startTime:t.getTimeRange().startTime,endTime:n.getTimeRange().endTime}]},t.blockTimeRange=function(){},t.getEndingSegment=function(){var e=this.$1();return e.length>0?e[e.length-1]:null},t.getMaxGopSec=function(){return null},e})();l.default=e}),98);
/**
 * License: https://www.facebook.com/legal/license/k5cmJzUOK4Y/
 */
__d("oz-player/parsers/OzWebmSidxParser",["oz-player/manifests/OzDataSegment","oz-player/shims/OzDataViewReader","oz-player/shims/ozvariant"],(function(t,n,r,o,a,i,l){"use strict";var e=440786851,s=408125543,u=357149030,c=2807729,d=17545,m=475249515,p=187,_=179,f=183,g=241,h=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])];function y(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!1;return!0}var C=(function(){function e(e,t){this.id=e,this.$1=t}var t=e.prototype;return t.getOffset=function(){return this.$1.byteOffset},t.createParser=function(){return new b(this.$1)},t.getUint=function(){if(this.$1.byteLength>8)throw new RangeError("EbmlElement: Unsigned integer has too many bytes.");if(this.$1.byteLength==8&&this.$1.getUint8(0)&224)throw new RangeError("EbmlParser: Unsigned integer must be at most 53 bits.");for(var e=0,t=0;t<this.$1.byteLength;t++){var n=this.$1.getUint8(t);e=256*e+n}return e},t.getFloat=function(){if(this.$1.byteLength==4)return this.$1.getFloat32(0);if(this.$1.byteLength==8)return this.$1.getFloat64(0);throw new RangeError("EbmlElement: floating point numbers must be 4 or 8 bytes.")},e})(),b=(function(){function e(e){this.$1=e,this.$2=new(r("oz-player/shims/OzDataViewReader"))(this.$1)}var t=e.prototype;return t.hasMoreData=function(){return this.$2.hasMoreData()},t.parseElement=function(){var t=this.$3(),n=this.$4(),r;e.$5(n)?r=this.$1.byteLength-this.$2.getCursor():r=e.$6(n);var o=this.$2.getCursor()+r<=this.$1.byteLength?r:this.$1.byteLength-this.$2.getCursor(),a=new DataView(this.$1.buffer,this.$1.byteOffset+this.$2.getCursor(),o);return this.$2.skip(o),new C(t,a)},t.$3=function(){var e=this.$4();if(e.length>7)throw new RangeError("EbmlParser: EBML ID must be at most 7 bytes.");for(var t=0,n=0;n<e.length;n++)t=256*t+e[n];return t},t.$4=function(){var e=this.$2.readUint8(),t;for(t=1;t<=8;t++){var n=1<<8-t;if(e&n)break}if(t>8)throw new RangeError("EbmlParser: Variable sized integer must fit within 8 bytes.");var r=new Uint8Array(t);r[0]=e;for(var o=1;o<t;o++)r[o]=this.$2.readUint8();return r},e.$6=function(t){if(t.length===8&&t[1]&224)throw new RangeError("EbmlParser: Variable sized integer value must be at most 53 bits.");for(var e=1<<8-t.length,n=t[0]&e-1,r=1;r<t.length;r++)n=256*n+t[r];return n},e.$5=function(t){for(var e=0;e<h.length;e++)if(y(t,h[e]))return!0;return!1},e})();function v(e){for(var t=e.createParser(),n=1e6,r=null;t.hasMoreData();){var o=t.parseElement();o.id==c?n=o.getUint():o.id==d&&(r=o.getFloat())}if(r==null)return null;var a=n/1e9,i=r*a;return{timecodeScale:a,duration:i}}function S(e,t,n,o,a,i){for(var l=[],s=t.createParser(),u=-1,c=-1;s.hasMoreData();){var d=s.parseElement();if(d.id==p){var m=R(d);if(m){var _=o*m.unscaledTime,f=n+m.relativeOffset;u>=0&&(c>=0||r("oz-player/shims/ozvariant")(0,4010),l.push(new(r("oz-player/manifests/OzDataSegment"))(i,u,_,c,f-1))),u=_,c=f}}}if(u>=0){c>=0||r("oz-player/shims/ozvariant")(0,4010);var g=a;l.push(new(r("oz-player/manifests/OzDataSegment"))(i,u,g,c,null))}return l}function R(e){var t=e.createParser(),n=t.parseElement();if(n.id!=_)return null;var r=n.getUint(),o=t.parseElement();if(o.id!=f)return null;for(var a=o.createParser(),i=0;a.hasMoreData();){var l=a.parseElement();if(l.id==g){i=l.getUint();break}}return{unscaledTime:r,relativeOffset:i}}function L(e){for(var t=e.createParser(),n=null;t.hasMoreData();){var r=t.parseElement();if(r.id==u){n=r;break}}return n?v(n):null}function E(t){var n=new b(t),r=n.parseElement();if(r.id!=e)return null;var o=n.parseElement();if(o.id!=s)return null;var a=o.getOffset(),i=L(o);return i?{segmentOffset:a,timecodeScale:i.timecodeScale,duration:i.duration}:null}function k(e,t,n,r){var o=new DataView(r.buffer),a=new DataView(n.buffer),i=E(o);if(!i)return[];var l=new b(a),s=l.parseElement();return s.id!=m?[]:S(e,s,i.segmentOffset,i.timecodeScale,i.duration,t)}l.parse=k}),98);
__d("oz-player/parsers/OzSidxSegmentsParser",["oz-player/loggings/OzLoggingUtils","oz-player/manifests/OzSegmentOptions","oz-player/manifests/OzZeroTimeRangeSegment","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/parsers/OzMp4SidxParser","oz-player/parsers/OzSidxSegmentsContainer","oz-player/parsers/OzWebmSidxParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzURI","oz-player/utils/OzErrorEmitter","oz-player/utils/OzReadableStreamUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.split("-");return{startByte:Number.parseInt(t[0],10),endByte:Number.parseInt(t[1],10)}}var s=(function(){function t(e,t,n,o,a,i,l){this.$6=new(r("oz-player/utils/OzErrorEmitter")),this.$7=[],this.$9=new(r("oz-player/shims/OzEventEmitter")),this.$1=t,this.$2=new(r("oz-player/shims/OzURI"))(n),this.$3=o,this.$5=a,this.$4=i,this.$8=l.cloneContext().setType(a==="video"||a==="audio"?a+";sidx":"sidx"),this.$10=e}var n=t.prototype;return n.onError=function(t){return this.$6.onError(t)},n.parseInitializationSegment=function(){var t=this,n=this.$1.Initialization[0].$.range,o=e(n),a=new(r("oz-player/manifests/OzSegmentOptions"));return this.$10.getBool("sidx_parser_memory_optimization")?new(r("oz-player/manifests/OzZeroTimeRangeSegment"))(this.$2,o.startByte,o.endByte):{getData:function(){return null},getURI:function(){return t.$2},getTimeRange:function(){return{startTime:0,endTime:0}},getByteRange:function(){return o},getSequenceNumber:function(){return null},getOptions:function(){return a}}},n.parseSegmentsContainer=function(){var e=this,t=this.$11();return o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(t,this.$8,"process_sidx"),t.catch(function(t){e.$6.emitError(t)}),new(r("oz-player/parsers/OzSidxSegmentsContainer"))(function(){return e.$7},this.$9)},n.$12=function(t,n,a){var e=new(r("oz-player/manifests/OzZeroTimeRangeSegment"))(t,n.startByte,n.endByte),i=this.$5+";sidx",l=this.$4.request({debugName:"OzSidxSegmentsParser/sidx/"+this.$5,segments:[e],pipeThroughRangeStreamProviders:[r("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(i,this.$4.getBandwidthEstimator())],loggerProvider:this.$8,requestOptions:{networkTimeoutMs:null,retryAttempts_SIDX_USE_ONLY:this.$10.getNumber("sidx_segment_retry_attempts"),retryTimeoutMs_SIDX_USE_ONLY:this.$10.getNumber("sidx_segment_retry_interval_ms")},mediaStreamType:a}),s=l.getStream().getReader();return o("oz-player/utils/OzReadableStreamUtils").pumpAllData(s)},n.$11=function(){var t=this,n=this.$1.$.indexRange,a=e(n),i=[this.$12(this.$2,a,null)],l;if(this.$3==="webm"){var s=e(this.$1.Initialization[0].$.range);i.push(this.$12(this.$2,s,null)),l=r("oz-player/shims/OzMaybeNativePromise").all(i).then(function(e){var n=e[0],r=e[1];t.$7=o("oz-player/parsers/OzWebmSidxParser").parse(t.$10,t.$2,n,r)})}else l=i[0].then(function(e){t.$7=o("oz-player/parsers/OzMp4SidxParser").parse(t.$10,t.$2,a.startByte,e)});return l.then(function(){t.$9.emit("segment_updated")})},t})();l.default=s}),98);
__d("oz-player/parsers/OzVideoContainerType",[],(function(t,n,r,o,a,i){"use strict";function e(e){return(e.split("/")[1]||"").trim()}i.parse=e}),66);
__d("oz-player/parsers/OzRepresentationParserBase",["oz-player/manifests/OzRepresentationBase","oz-player/parsers/OzSegmentTemplateParser","oz-player/parsers/OzSidxSegmentsParser","oz-player/parsers/OzVideoContainerType","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,o,a,i,l,s,u,c,d,m,p,_,f){this.$9=new(r("oz-player/utils/OzErrorEmitter")),this.$1=t,this.$2=n,this.$10=a,this.$11=i,this.$13=o,this.$14=e,this.$15=l,this.$3=s,this.$4=u,this.$5=c,this.$6=d!=null?d:null,this.$7=m!=null?m:null,this.$8=p!=null?p:null,this.$16=_,this.$17=f;try{this.$11=this.$11.cloneContext().setRepresentationID(this.parseID())}catch(e){}}var t=e.prototype;return t.$18=function(){var e=this,t=this.$12;if(t)return t;if(this.$1.SegmentBase){var n=this.$1.SegmentBase[0],a=this.$1.BaseURL[0]._;if(typeof a!="string")throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Missing representation BaseURL",extra:{code:"OZ_RP-9"}});t=new(r("oz-player/parsers/OzSidxSegmentsParser"))(this.$14,n,a,o("oz-player/parsers/OzVideoContainerType").parse(this.$1.$.mimeType),o("oz-player/utils/OzMimeUtil").getMimeType(this.$1.$.mimeType),this.$10,this.$11),t.onError(function(t){var n;if(!((n=e.$17)!=null&&n.handleError(e.parseID(),t)))return e.$9.emitError(t)})}else if(this.$1.SegmentTemplate)t=this.$19(this.$1.SegmentTemplate[0],{isShared:!1});else if(this.$3)t=this.$19(this.$3[0],{isShared:!0});else throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Unrecognized representation type",extra:{code:"OZ_RP-7"}});return this.$12=t,t},t.$19=function(t,n){var e,a=t;n.isShared&&(a=babelHelpers.extends({},a,{$:babelHelpers.extends({},a.$,{initialization:a.$.initialization.replace("$RepresentationID$",this.$1.$.id),media:a.$.media.replace("$RepresentationID$",this.$1.$.id)})}));var i=this.$13.mpdUrl,l=this.$1.BaseURL&&this.$1.BaseURL[0]?this.$1.BaseURL[0]._:null,s=l!=null?l:i;if(s==null)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Missing mpd url for template manifest",extra:{code:"OZ_RP-6"}});var u=this.$13.customSegmentTimelineParser,c=(e=this.$13.customRepresentationParsers)==null?void 0:e.initializationBinary,d=c?c(this.$1):null;return new(r("oz-player/parsers/OzSegmentTemplateParser"))(this.$14,a,{baseUrl:s,mpdUrl:i,isStaticMpd:this.$15.manifestType==="static",isTemplatedMpd:this.$15.manifestIsTemplated},u,d)},t.onError=function(t){return this.$9.onError(t)},t.parseInitSegment=function(){return this.$18().parseInitializationSegment()},t.parseBandwidth=function(){return Number(this.$1.$.bandwidth)},t.parseMimeType=function(){var e,t;return(e=(t=this.$1.$.mimeType)!=null?t:this.$4)!=null?e:""},t.parseCodecs=function(){var e,t;return(e=(t=this.$1.$.codecs)!=null?t:this.$5)!=null?e:""},t.parseVariantKey=function(){return this.$6},t.parseLang=function(){return this.$7},t.parseRole=function(){return this.$8},t.parseSegmentsContainer=function(){return this.$18().parseSegmentsContainer()},t.parseID=function(){return""+this.$1.$.id},t.parseCustomFieldFirstSegment=function(){var e=this.$13.customRepresentationParsers?this.$13.customRepresentationParsers.firstSegmentParser:null;return e?e(this.$1):null},t.parse=function(){return new(r("oz-player/manifests/OzRepresentationBase"))(this.$1,this.$2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),this.$13.customRepresentationParsers)},e})();l.default=e}),98);
__d("oz-player/parsers/OzApplicationRepresentationParser",["oz-player/manifests/OzApplicationRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o,a,i,l,s,u,c,d,m,p,_){var f;return f=e.call(this,t,n,r,o,a,i,l,s,u,c,d,m,p,_)||this,f.$OzApplicationRepresentationParser$p_1=n,f.$OzApplicationRepresentationParser$p_3=o,f}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.parse=function(){var e=this.$OzApplicationRepresentationParser$p_3.customRepresentationParsers;return new(r("oz-player/manifests/OzApplicationRepresentation"))(this.$OzApplicationRepresentationParser$p_1,this.$OzApplicationRepresentationParser$p_2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),e)},t})(r("oz-player/parsers/OzRepresentationParserBase"));l.default=e}),98);
__d("oz-player/manifests/OzAudioRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o,a,i,l,s,u,c,d,m,p){var _;return _=e.call(this,t,n,r,o,a,i,l,s,u,c,d,m,p)||this,_.$OzAudioRepresentation$p_1=r,_.$OzAudioRepresentation$p_2=d,_.$OzAudioRepresentation$p_3={id:r,displayLabel:_.getDisplayLabel(),mimeCodecs:_.getMimeCodecs(),variantKey:i,lang:l,role:s},_}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getBitrateKbps=function(){var e=1024;return(this.$OzAudioRepresentation$p_2/e).toFixed(1)+"Kbps"},n.getDisplayLabel=function(){var t=e.prototype.getLang.call(this),n=e.prototype.getRole.call(this),r=t==null?"Default":t;return n==null?r:r+" - "+n},n.getAudioTrack=function(){return this.$OzAudioRepresentation$p_3},t})(r("oz-player/manifests/OzRepresentationBase"));l.default=e}),98);
__d("oz-player/parsers/OzAudioRepresentationParser",["oz-player/manifests/OzAudioRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o,a,i,l,s,u,c,d,m,p,_){var f;return f=e.call(this,t,n,r,o,a,i,l,s,u,c,d,m,p,_)||this,f.$OzAudioRepresentationParser$p_1=n,f.$OzAudioRepresentationParser$p_3=o,f}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.parse=function(){var e=this.$OzAudioRepresentationParser$p_3.customRepresentationParsers;return new(r("oz-player/manifests/OzAudioRepresentation"))(this.$OzAudioRepresentationParser$p_1,this.$OzAudioRepresentationParser$p_2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),e)},t})(r("oz-player/parsers/OzRepresentationParserBase"));l.default=e}),98);
__d("oz-player/parsers/OzVideoRepresentationParser",["oz-player/manifests/OzVideoRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o,a,i,l,s,u,c,d,m,p,_,f){var g;return g=e.call(this,t,n,r,o,a,i,l,s,u,c,d,m,p,_,f)||this,g.$OzVideoRepresentationParser$p_1=n,g.$OzVideoRepresentationParser$p_2=r,g.$OzVideoRepresentationParser$p_3=o,g}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.parse=function(){var e=Number.parseInt(this.$OzVideoRepresentationParser$p_1.$.height,10),t=Number.parseInt(this.$OzVideoRepresentationParser$p_1.$.width,10),n=this.$OzVideoRepresentationParser$p_3.customRepresentationParsers;return new(r("oz-player/manifests/OzVideoRepresentation"))(this.$OzVideoRepresentationParser$p_1,this.$OzVideoRepresentationParser$p_2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),n,t,e)},t})(r("oz-player/parsers/OzRepresentationParserBase"));l.default=e}),98);
__d("oz-player/utils/OzIbrUtils",["oz-player/networks/OzBandwidthEstimator"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n,o){var e=r("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(n.getLegacyConfig()),a=t.slice(0);a.sort(function(e,t){return e.getBandwidth()-t.getBandwidth()});for(var i=n.getNumber("live_audio_ibr_bandwidth_percentage"),l=e*i,s=a.length-1;s>=0;s--)if(a[s].getBandwidth()<=l)return o.getOperationLogger("audio_ibr_success").setRepresentationID(a[s].getID()).setReason(e.toString()).log(),a[s];return o.getOperationLogger("audio_ibr_no_op").setReason(e.toString()).log(),null};l.getInitialAudioRepresentation=e}),98);
__d("oz-player/parsers/OzMpdParser",["oz-player/manifests/Mpd","oz-player/parsers/OzApplicationRepresentationParser","oz-player/parsers/OzAudioRepresentationParser","oz-player/parsers/OzVideoRepresentationParser","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzIbrUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.blockedRepresentationsManager,n=e.config,o=e.drmManager,a=e.enableAlternativeAudioTracks,i=e.initialRepresentationIDs,l=e.networkManager,s=e.ozParserContext,u=e.perfLoggerProvider,c=e.useManagedMediaSource;this.$2=new(r("oz-player/utils/OzErrorEmitter")),this.$5=n,this.$1=l,this.$3=u,this.$4=s,this.$6=o,this.$7=i!=null?i:[],this.$8=t!=null?t:null,this.$9=a,this.$10=c!=null?c:!1,this.$11=!0}var t=e.prototype;return t.onError=function(t){return this.$2.onError(t)},t.parse=function(t){var e=this,n=[],a=t,i=this.$4.createXmlParser().parse(a),l=i.MPD&&i.MPD.length>0?i.MPD[0]:null;if(!l){var s=2e3;throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_MPD_PARSER",description:"parsed manifest XML missing MPD node; truncated xml ("+Math.min(s,a.length)+"/"+a.length+"): "+a.substring(0,s)})}var u=l.Period&&l.Period.length>0?l.Period[0]:null;if(!u){var c=2e3;throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_MPD_PARSER",description:"parsed manifest XML missing Period node; truncated xml ("+Math.min(c,a.length)+"/"+a.length+"): "+a.substring(0,c)})}var d=u.AdaptationSet||[],m=this.$12(l);this.$11=m==="static";var p=this.$13(l),_=this.$14(this.$15(d,"video"),{manifestType:m,manifestIsTemplated:p},n),f;this.$9?f=this.$16(this.$15(d,"audio"),{manifestType:m,manifestIsTemplated:p},n).sort(function(e,t){return e.getBandwidth()-t.getBandwidth()}):f=this.$17(this.$18(d,"audio"),r("oz-player/parsers/OzAudioRepresentationParser"),{manifestType:m,manifestIsTemplated:p},n).sort(function(e,t){return e.getBandwidth()-t.getBandwidth()});var g=[];if(this.$5.getBool("vtt_caption_representation")){var h=this.$15(d,"application");g=this.$17(h[0],r("oz-player/parsers/OzApplicationRepresentationParser"),{manifestType:m,manifestIsTemplated:p},n)}var y=this.$4.mpdUrl,C=new(r("oz-player/manifests/Mpd"))(l,_,f,g,y,this.$19(l),this.$4.customParsers||new Map,this.$11);if(this.$6){var b=this.$6;b.startEME(_,f)}return n.forEach(function(t){t.onError(e.$2.emitError)}),C},t.$19=function(t){var e=t.$.minimumUpdatePeriod||"",n=/\d+/g.exec(e);if(n&&n.length){var r=n[0];return r?Number.parseInt(r,10):null}return null},t.$12=function(t){return t.$.type||"static"},t.$13=function(t){var e,n=(e=this.$4.customParsers)==null?void 0:e.get("isLiveTemplated");if(!n)return!1;var r=n(t);return typeof r=="boolean"&&r},t.$18=function(t,n){return t.find(this.$20(n))},t.$15=function(t,n){return t.filter(this.$20(n))},t.$20=function(t){return function(e){if(e.$.mimeType!=null)return e.$.mimeType.indexOf(t)!==-1;var n=e.Representation;return n&&n.length>0&&n[0].$.mimeType.indexOf(t)!==-1}},t.$17=function(t,n,r,o){var e=this;if(!t)return[];var a=t.Role,i=a!=null?a:[],l=i[0],s=l?l.$.value:null,u=t.$.lang,c=u==="und"?null:u,d=t.$.FBVariantKey,m=d==="und"?null:d!=null?d:null;return t.Representation.map(function(a){var i,l=new n(e.$5,a,(i=a.ContentProtection)!=null?i:t.ContentProtection,e.$4,e.$1,e.$3,r,t.SegmentTemplate,t.$.mimeType,t.$.codecs,m,c,s,e.$7,e.$8),u=l.parse();return o.push(l),u})},t.$21=function(t){return this.$10?ManagedMediaSource.isTypeSupported(t):MediaSource.isTypeSupported(t)},t.$14=function(t,n,o){var e=this,a=[],i=new Set;return t.filter(Boolean).forEach(function(t,l,s){var u=l===s.length-1;for(var c of t.Representation){var d,m;if(!((d=c.$.FBAbrPolicyTags)!=null&&d.includes("avoid_on_abr")&&!u)){var p=t.Role,_=p!=null?p:[],f=_[0],g=f?f.$.value:null,h=t.$.lang,y=h==="und"?null:h,C=t.$.FBVariantKey,b=C==="und"?null:C!=null?C:null,v=new(r("oz-player/parsers/OzVideoRepresentationParser"))(e.$5,c,(m=c.ContentProtection)!=null?m:t.ContentProtection,e.$4,e.$1,e.$3,n,t.SegmentTemplate,t.$.mimeType,t.$.codecs,b,y,g,e.$7,e.$8),S=v.parse();if(o.push(v),!e.$21(S.getMimeCodecs())){i.add(S.getMimeCodecs());continue}a.push(S)}}}),a.filter(Boolean)},t.$16=function(t,n,a){var e=this,i=[],l=new Set,s=t.filter(Boolean).map(function(t){var o=t.Role,i=o!=null?o:[],s=i[0],u=s?s.$.value:null,c=t.$.lang,d=c==="und"?null:c,m=t.$.FBVariantKey,p=m==="und"?null:m!=null?m:null,_=[];for(var f of t.Representation){var g,h=new(r("oz-player/parsers/OzAudioRepresentationParser"))(e.$5,f,(g=f.ContentProtection)!=null?g:t.ContentProtection,e.$4,e.$1,e.$3,n,t.SegmentTemplate,t.$.mimeType,t.$.codecs,p,d,u,e.$7),y=h.parse();if(a.push(h),!e.$21(y.getMimeCodecs())){l.add(y.getMimeCodecs());continue}_.push(y)}return _});return s.forEach(function(t){if(t.length>1){var n=o("oz-player/utils/OzIbrUtils").getInitialAudioRepresentation(t,e.$5,e.$3);i.push(n!=null?n:t[0])}else i.push.apply(i,t)}),i.filter(Boolean)},e})();l.default=e}),98);
__d("oz-player/utils/OzMpdUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=null;return e.forEach(function(e){if(e){var n,r,o=e.endTime;o<((n=(r=t)==null?void 0:r.endTime)!=null?n:1/0)&&(t=e)}}),t}function l(t,n){var r=[];if(r.push.apply(r,t.getVideoRepresentations().concat(t.getAudioRepresentations())),r.length){var o=r.map(function(e){var t=e.getEndingSegment();return t?t.getTimeRange():null});return e(o)}return null}function s(e){var t=[];if(t.push.apply(t,e.getVideoRepresentations().concat(e.getAudioRepresentations())),t.length){var n=t[0].getEndingSegment();if(n)return n.getSequenceNumber()}return null}i.getLeastEndTimeTimeRange=e,i.getMpdLastTimeRange=l,i.getMpdLastSequenceNumber=s}),66);
__d("oz-player/utils/OzStreamInterruptChecker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzMpdUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var r;return r=e.call(this)||this,r.$OzStreamInterruptChecker$p_4=0,r.$OzStreamInterruptChecker$p_5=null,r.$OzStreamInterruptChecker$p_6=!1,r.$OzStreamInterruptChecker$p_2=t,r.$OzStreamInterruptChecker$p_3=n,r.$OzStreamInterruptChecker$p_1=r.$OzStreamInterruptChecker$p_3.getNumber("live_numerical_error_epsilon"),r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.notifyMpdUpdated=function(){var e=o("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(this.$OzStreamInterruptChecker$p_2,this.$OzStreamInterruptChecker$p_3),t=e?e.endTime:null,n=!1;t!==null&&(n=t===this.$OzStreamInterruptChecker$p_5),n?this.$OzStreamInterruptChecker$p_4++:(this.$OzStreamInterruptChecker$p_4=0,this.$OzStreamInterruptChecker$p_6&&this.$OzStreamInterruptChecker$p_5!==null&&this.$OzStreamInterruptChecker$p_5!==void 0&&e!==null&&e!==void 0&&this.emit("streamResumedAt",e.startTime),this.$OzStreamInterruptChecker$p_6=!1);var r=this.$OzStreamInterruptChecker$p_3.getNumber("stream_interrupt_check_mpd_stale_count_threshold");!this.$OzStreamInterruptChecker$p_6&&r>0&&this.$OzStreamInterruptChecker$p_4>=r&&t!==null&&t!==void 0&&(this.emit("streamInterruptAt",t),this.$OzStreamInterruptChecker$p_6=!0),this.$OzStreamInterruptChecker$p_5=t},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/parsers/OzMpdUpdater",["oz-player/parsers/OzMpdParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/OzURI","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMpdUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/OzStreamInterruptChecker"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,a,i,l,s,u,c,d){var m;m=e.call(this)||this,m.$OzMpdUpdater$p_8=new(r("oz-player/utils/OzErrorEmitter")),m.$OzMpdUpdater$p_10=new(r("oz-player/shims/OzSubscriptionsHandler")),m.$OzMpdUpdater$p_11=!1,m.$OzMpdUpdater$p_16=0,m.$OzMpdUpdater$p_18=0,m.$OzMpdUpdater$p_19=null,m.$OzMpdUpdater$p_21=!0,m.$OzMpdUpdater$p_22=0,m.$OzMpdUpdater$p_26=function(){var e,t,n=m.$OzMpdUpdater$p_2.getLocation();if(m.$OzMpdUpdater$p_21=!1,!(n==null||n==="")){var a=new(r("oz-player/shims/OzURI"))(n),i=String((e=(t=a.getQueryData().ms)!=null?t:a.getQueryData().msdev)!=null?e:a.getQueryData().mstest);if(!m.$OzMpdUpdater$p_12.isPlaying()){m.setupUpdateLoop();return}var l=m.$OzMpdUpdater$p_5.getOperationLogger("update_manifest").start();m.$OzMpdUpdater$p_28(n).then(function(e){var t,a,s,u,c,d,p,_;if(m.$OzMpdUpdater$p_18=0,m.$OzMpdUpdater$p_29(),m.$OzMpdUpdater$p_7=0,!m.$OzMpdUpdater$p_21){var f=babelHelpers.extends({},m.$OzMpdUpdater$p_13,{mpdUrl:n}),g=new(r("oz-player/parsers/OzMpdParser"))({config:m.$OzMpdUpdater$p_6,ozParserContext:f,networkManager:m.$OzMpdUpdater$p_1,perfLoggerProvider:m.$OzMpdUpdater$p_5,drmManager:m.$OzMpdUpdater$p_14,initialRepresentationIDs:[],blockedRepresentationsManager:null,enableAlternativeAudioTracks:!1,useManagedMediaSource:m.$OzMpdUpdater$p_23});g.onError(function(e){m.$OzMpdUpdater$p_8.emitError(e),l.setError(e).log()});var h=g.parse(e),y=m.$OzMpdUpdater$p_2.isStaticMpd();m.$OzMpdUpdater$p_2.updateWith(h),m.$OzMpdUpdater$p_2.markRefreshed(),h.isStaticMpd()&&!y&&m.emit("streamTransitionToStatic");var C=o("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(m.$OzMpdUpdater$p_2,m.$OzMpdUpdater$p_6),b=C&&C.endTime!=0?C.endTime:null,v=String((t=(a=m.$OzMpdUpdater$p_2)==null?void 0:a.getCustomField("currentServerTimeMs"))!=null?t:""),S=String((s=(u=m.$OzMpdUpdater$p_2)==null?void 0:u.getCustomField("lastVideoFrameTs"))!=null?s:""),R={currentServerTimeMs:v,ingestLastVideoFrameTs:S,nowMs:String(Date.now())},L=new Set(((c=(d=m.$OzMpdUpdater$p_2)==null?void 0:d.getVideoRepresentations())!=null?c:[]).map(function(e){return e.getCodecs()})).size>1,E=new Set(((p=(_=m.$OzMpdUpdater$p_2)==null?void 0:_.getAudioRepresentations())!=null?p:[]).map(function(e){return e.getCodecs()})).size>1;l.setLiveheadPosition(b).setLiveheadSeqNumMpd(o("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber(m.$OzMpdUpdater$p_2)).setManifestType(m.$OzMpdUpdater$p_2.isStaticMpd()?"static":"dynamic").setIsMixedCodecManifest(L||E).setIsTemplatedManifest(!!m.$OzMpdUpdater$p_2.getCustomField("isLiveTemplated")).setPlaybackFbmsParam(i).setUserInfo(R).log(),m.$OzMpdUpdater$p_9.notifyMpdUpdated(),m.setupUpdateLoop()}}).catch(function(e){m.$OzMpdUpdater$p_29(),l.setError(e).log();var t=null;if(o("oz-player/utils/OzErrorUtils").isOzError(e))t=e;else{var r,a=null,i="Caught an unknown error when fetching the manifest.";if(e!=null)if(m.$OzMpdUpdater$p_6.getBool("normalize_mpd_fetch_errors")){var s=o("oz-player/utils/OzErrorUtils").getNormalizedErrorAndCode(e),u=s[0],c=s[1];t=u}else r=e,a=r.code!=null?String(r.code):null,i=r.name+"; "+r.message+"; "+r.description+";";if(t==null){var d={originalError:r,url:n};a!==null&&(d.code=a),t=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NETWORK",description:i,extra:d})}}m.$OzMpdUpdater$p_27(t,n)})}};var p=n.getMinimumUpdatePeriod();return m.$OzMpdUpdater$p_7=0,m.$OzMpdUpdater$p_1=a,m.$OzMpdUpdater$p_2=n,m.$OzMpdUpdater$p_12=i,m.$OzMpdUpdater$p_3=p,m.$OzMpdUpdater$p_5=l.cloneContext().setType("manifest"),m.$OzMpdUpdater$p_6=t,m.$OzMpdUpdater$p_13=s,m.$OzMpdUpdater$p_14=u,m.$OzMpdUpdater$p_15=c,m.$OzMpdUpdater$p_23=d,m.$OzMpdUpdater$p_2.addListener("locationUpdated",function(){m.$OzMpdUpdater$p_24(),m.setupUpdateLoop()}),m.$OzMpdUpdater$p_9=new(r("oz-player/utils/OzStreamInterruptChecker"))(m.$OzMpdUpdater$p_2,m.$OzMpdUpdater$p_6),m.$OzMpdUpdater$p_10.addSubscriptions(m.$OzMpdUpdater$p_9.addListener("streamResumedAt",function(e){m.emit("streamResumedAt",e)}),m.$OzMpdUpdater$p_9.addListener("streamInterruptAt",function(e){m.emit("streamInterruptAt",e)})),m}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.$OzMpdUpdater$p_24=function(){r("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater$p_4),this.$OzMpdUpdater$p_4=null,this.$OzMpdUpdater$p_25(),this.$OzMpdUpdater$p_21=!0},n.setupUpdateLoop=function(){var e,t=!this.$OzMpdUpdater$p_11;t&&(t=!this.$OzMpdUpdater$p_2.isStaticMpd(),this.$OzMpdUpdater$p_3=this.$OzMpdUpdater$p_2.getMinimumUpdatePeriod());var n=this.$OzMpdUpdater$p_17==null&&this.$OzMpdUpdater$p_6.getNumber("manifest_initial_update_delay_ms")>0?this.$OzMpdUpdater$p_6.getNumber("manifest_initial_update_delay_ms"):this.$OzMpdUpdater$p_6.getNumber("manifest_update_frequency_ms")||((e=this.$OzMpdUpdater$p_3)!=null?e:0)*1e3;t&&n&&this.$OzMpdUpdater$p_2.getLocation()&&(this.$OzMpdUpdater$p_4=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(this.$OzMpdUpdater$p_26,n))},n.onError=function(t){return this.$OzMpdUpdater$p_8.onError(t)},n.$OzMpdUpdater$p_27=function(t,n){var e=this,r=!0,o=this.$OzMpdUpdater$p_18-1,a=t.getExtra().code;this.$OzMpdUpdater$p_19!==a?(this.$OzMpdUpdater$p_19=a,this.$OzMpdUpdater$p_16=1):this.$OzMpdUpdater$p_16++;var i=function(){r=!1},l={endStream:function(){i(),e.$OzMpdUpdater$p_11=!0,e.emit("streamGone")},consecutiveFailuresForErrorCode:this.$OzMpdUpdater$p_16,error:t,isInitialRequest:!1,retry:function(r){e.emit("manifestFetchErrorRetry",t),i(),e.setupUpdateLoop()},retryAttemptCount:o};this.emit("manifestFetchError",l),r&&this.$OzMpdUpdater$p_8.emitError(t)},n.$OzMpdUpdater$p_30=function(t,n){var e=new(r("oz-player/shims/OzURI"))(t);return e.addQueryData("_nc_expid",n),e.toString()},n.$OzMpdUpdater$p_31=function(t){if(!this.$OzMpdUpdater$p_15)return t;var e=new(r("oz-player/shims/OzURI"))(t);return e.addQueryData("_nc_tsid","mpd-"+this.$OzMpdUpdater$p_22++),e.toString()},n.$OzMpdUpdater$p_28=function(t){this.$OzMpdUpdater$p_25(),this.$OzMpdUpdater$p_18++;var e=this.$OzMpdUpdater$p_6.getString("cdn_experiment_id"),n=e.length===0?t:this.$OzMpdUpdater$p_30(t,e);n=this.$OzMpdUpdater$p_31(n);var r=this.$OzMpdUpdater$p_1.requestRawUrl({debugName:"OzMpdUpdater/requestMpd/mpd",url:n,options:{networkTimeoutMs:this.$OzMpdUpdater$p_6.getNumber("mpd_updater_network_request_timeout_ms")},loggerProvider:this.$OzMpdUpdater$p_5});this.$OzMpdUpdater$p_17=Date.now(),this.$OzMpdUpdater$p_20=r;var a=r.getStream().getReader();return o("oz-player/utils/OzReadableStreamUtils").pumpString(a)},n.$OzMpdUpdater$p_25=function(){this.$OzMpdUpdater$p_20&&(this.$OzMpdUpdater$p_20.cancel(),this.$OzMpdUpdater$p_18=0),this.$OzMpdUpdater$p_29()},n.$OzMpdUpdater$p_29=function(){this.$OzMpdUpdater$p_20=null},n.destroy=function(){this.$OzMpdUpdater$p_4&&r("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater$p_4),this.$OzMpdUpdater$p_10.release()},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/shims/OzXmlParserTrustedTypesHTMLPolicy",["oz-player/shims/www/OzXmlParserTrustedTypesHTMLPolicyWWW"],(function(t,n,r,o,a,i,l){"use strict";l.createTrustedHTMLForDOMParser=o("oz-player/shims/www/OzXmlParserTrustedTypesHTMLPolicyWWW").createTrustedHTMLForDOMParser}),98);
__d("oz-player/parsers/OzXmlParserImplDOMParser",["oz-player/shims/OzXmlParserTrustedTypesHTMLPolicy","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){function e(){return{$:{}}}function s(t){for(var n=e(),r=t.attributes,o=0;o<r.length;++o){var a=r[o];n.$[a.name]=a.value}for(var i=t.childNodes,l=0;l<i.length;++l){var u=i[l];if(u instanceof Element){var c=u.nodeName;Object.prototype.hasOwnProperty.call(n,c)||(n[c]=[]),n[c].push(s(u))}else{var d=u.nodeValue.trim();d&&(n._=d)}}return n}var u=(function(){function t(){this.$1=new DOMParser}var n=t.prototype;return n.parse=function(n){try{var t=e(),r=o("oz-player/shims/OzXmlParserTrustedTypesHTMLPolicy").createTrustedHTMLForDOMParser(n),a=this.$1.parseFromString(r,"application/xml"),i=a.querySelector("parsererror");if(i){var l=i.querySelector("h3"),u=l?l.nextElementSibling:null,c=u?u.innerHTML:i.innerHTML,d=2e3;throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_XML_PARSER",description:"DOMParser parsererror: "+String(c).trim()+"; truncated xml ("+Math.min(d,n.length)+"/"+n.length+"): "+n.substring(0,d),extra:{}})}var m=a.documentElement;return m!=null&&(t[m.nodeName]=[s(m)]),t}catch(e){if(o("oz-player/utils/OzErrorUtils").isOzError(e))throw e;var p=2e3;throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_XML_PARSER",description:"XML parse exception: "+String(e)+"; truncated xml ("+Math.min(p,n.length)+"/"+n.length+"): "+n.substring(0,p),extra:{originalError:e}})}},t})();l.default=u}),98);
__d("oz-player/playback_controls/OzClearSourceBufferOnSeekManager",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,o){o===void 0&&(o=null),this.$3=new(r("oz-player/utils/OzErrorEmitter")),this.$4=new Map,this.$5=!1,this.$6=!1,this.$7=!1,this.$8=null,this.$9=[],this.$10=null,this.$11=null,this.$1=e,this.$2=t,this.$4=n,this.$11=o}var t=e.prototype;return t.$12=function(t){var e;return this.$5=!0,(e=this.$8)!=null?e:t.call(this.$1)},t.$13=function(t,n){this.$6=!0,this.$9.push({t:n}),this.$8=n,this.$9.length===1&&this.$14(t)},t.$15=function(t){return this.$7=!0,this.$8!=null?!0:t.call(this.$1)},t.$16=function(t,n){var e=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),o=[];this.$4.forEach(function(e,r){var a=e.clearSourceBufferRange(t,n);o.push(a)});var a=r("oz-player/shims/OzMaybeNativePromise").all(o);return a.then(function(){e.resolve()}).catch(function(t){e.reject(t)}),e.getPromise()},t.$14=function(t){var e=this,n=this.$9.length>0?this.$9[0]:null,a=this.$2.getNumber("clear_buffer_on_seek_epsilon_s");if(n){for(var i=n.t,l=this.$1.buffered,s=l.length,u=l.length<=0,c=-1,d=!1,m=0;c<0&&m<s;++m)c=i-a>=l.start(m)&&i+a<l.end(m)?m:c,d=i<l.start(m)-a;var p=c>-1,_=this.$2.getNumber("clear_buffer_on_seek_nudge_s");if(p&&c>=0&&c<s&&_>0&&(i=Math.min(i,l.end(c)-_),i=Math.max(i,l.start(c)+_)),u||p||!d)this.$11&&this.$11.getOperationLogger("seek_to_next_time").setLength(Math.round(i*1e3)).setInitiator("no_clear").log(),t.call(this.$1,i),this.$9.shift(),this.$14(t);else{var f=null;this.$11&&(f=this.$11.getOperationLogger("clear_buffer_before_seek").setLength(Math.round(i*1e3)).setUserInfo({bufferRangesLength:String(s),nudgeSec:String(_)}).start());var g=this.$16(Math.max(i-a,0),l.end(s-1)+a);g.then(function(){f&&f.log(),e.$11&&e.$11.getOperationLogger("seek_to_next_time").setLength(Math.round(i*1e3)).setInitiator("after_clear").log(),t.call(e.$1,i),e.$9.shift(),e.$14(t)}).catch(function(t){f&&f.setError(t).log(),e.$3.emitError(o("oz-player/utils/OzErrorUtils").isOzError(t)?t:o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:t?t.name+": "+t.message:"Unknown error while clearing the buffer.",extra:{code:r("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED,originalError:t}}))})}}else this.$8=null},t.maybeOverwriteVideoCurrentTimeProperty=function(){var e=this,t=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(this.$1,"currentTime");t=t!=null?t:Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");var n=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(this.$1,"seeking");n=n!=null?n:Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"seeking");var r=t&&typeof t.get=="function"?t.get:null,o=t&&typeof t.set=="function"?t.set:null,a=n&&typeof n.get=="function"?n.get:null;if(r&&o&&a&&Object.defineProperty){try{Object.defineProperty(this.$1,"currentTime",{get:function(){return e.$12(r)},set:function(n){e.$13(o,n)},configurable:!0,enumerable:!0}),Object.defineProperty(this.$1,"seeking",{get:function(){return e.$15(a)},configurable:!0,enumerable:!0});var i=this.$1.currentTime;this.$1.currentTime=i,this.$1.seeking}catch(e){}this.$17(function(){e.getCurrentTimePropertyOverwriteSuccess()&&Object.defineProperty(e.$1,"currentTime",{get:r,set:o,configurable:!0,enumerable:!0}),e.getSeekingPropertyOverwriteSuccess()&&Object.defineProperty(e.$1,"seeking",{get:a,configurable:!0,enumerable:!0})})}},t.getCurrentTimePropertyOverwriteSuccess=function(){return this.$5&&this.$6},t.getSeekingPropertyOverwriteSuccess=function(){return this.$7},t.$17=function(t){this.$10=t},t.onError=function(t){return this.$3.onError(t)},t.destroy=function(){try{this.$10&&this.$10()}catch(e){}},e})();l.default=e}),98);
__d("oz-player/playback_controls/OzSteadyStateManager",["oz-player/shims/ozvariant"],(function(t,n,r,o,a,i,l){"use strict";function e(e){throw new TypeError('"'+e+'" is read-only')}var s=(function(){function e(e,t){this.$1=[],this.$2=e,this.$3=t}var t=e.prototype;return t.addSample=function(t){var e,n,r=Math.floor(Date.now()/(1e3*this.$3)),o=r%this.$2;((e=this.$1[o])==null?void 0:e.bucketNumber)!=r&&(this.$1[o]={bucketNumber:0,val:null}),this.$1[o]={bucketNumber:r,val:Math.min(t,(n=this.$1[o].val)!=null?n:t)}},t.min=function(){var e=this,t,n=Date.now(),o=this.$1.filter(function(t){return t!=null&&t.val!=null&&n-e.$2*1e3*e.$3<t.bucketNumber*1e3*e.$3});if(o.length<this.$2)return null;var a=o.reduce(function(e,t){if(e==null)return t;var n=t.val;n!=null||r("oz-player/shims/ozvariant")(0,56011);var o=e.val;return o!=null||r("oz-player/shims/ozvariant")(0,56011),n<o?t:e},null);return(t=a)==null?void 0:t.val},t.reset=function(){this.$1=[]},e})();l.default=s}),98);
__d("oz-player/playback_controls/OzLiveLatencyManager",["oz-player/playback_controls/OzSteadyStateManager","oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzSourceBufferUtil"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=this;this.$8=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$9=null,this.$10=!1,this.$11=null,this.$12=null,this.$13=null,this.$14=!0;var n=e.bufferingDetector,o=e.config,a=e.getUserSelectedPlaybackRate,i=e.loggerProvider,l=e.mpd,s=e.playbackState,u=e.video;if(this.$1=o,this.$2=l,this.$3=s,this.$15=a,o.getNumber("steadystate_minbuffer_buckets")>0&&(this.$7=new(r("oz-player/playback_controls/OzSteadyStateManager"))(this.$1.getNumber("steadystate_minbuffer_buckets"),this.$1.getNumber("steadystate_minbuffer_buckets_sec"))),n!=null&&(this.$8.addSubscriptions(n.addListener("enterBuffering",function(e){var n;if(e==="in_play"){var r;t.$9=0,(r=t.$7)==null||r.reset()}t.$10=!1,(n=t.$6)==null||n.log(),t.$6=null})),this.$8.addSubscriptions(n.addListener("leaveBuffering",function(){t.$9===0&&(t.$9=Date.now()),t.$10=!1}))),this.$4=u,this.$5=i,this.$16()){var c;this.$8.addSubscriptions((c=r("oz-player/shims/OzDOMEventListener")).listenDOMEvent(this.$4,"timeupdate",r("oz-player/shims/ozThrottle")(function(){t.$17(),t.$18()},this.$1.getNumber("playhead_manager_timeupdate_throttle_ms"))),c.listenDOMEvent(this.$4,"waiting",function(){t.$17()}),c.listenDOMEvent(this.$4,"durationchange",function(){t.$17()}),c.listenDOMEvent(this.$4,"seeking",function(){var e;t.$13=Date.now(),t.$11=null,(e=t.$7)==null||e.reset()}),c.listenDOMEvent(this.$4,"playing",function(){t.$13=Date.now(),t.$11=null}),c.listenDOMEvent(u,"pause",function(){var e;return(e=t.$7)==null?void 0:e.reset()}))}}var t=e.prototype;return t.enabled=function(){var e=this.$1.getNumber("catchup_timeout_after_buffering_sec");return e===0||this.$9==null||this.$9!==0&&this.$9+e*1e3<=Date.now()},t.isBehindPreferredLiveHeadLatencyWithTolerance=function(){return this.$3.getCurrentTime()<this.getInitialPlayHeadPosition()-this.getPreferredLiveHeadLatencyToleranceSec()},t.$19=function(){return this.$3.getCurrentTime()<this.getInitialPlayHeadPosition()},t.$20=function(){var e,t=(e=this.$7)==null?void 0:e.min();return!this.$21()&&t!=null&&t>this.$1.getNumber("steadystate_minbuffer_sec")},t.getInitialPlayHeadPosition=function(){return this.getLiveHeadTimeSec()-this.getPreferredLiveHeadLatencySec()},t.getLiveHeadTimeSec=function(){var e,t=this.$22();return(t==null||(e=t.getEndingSegment())==null?void 0:e.getTimeRange().endTime)||0},t.$21=function(){return this.$9!=null&&this.$1.getBool("latencymanager_stalled_edgelatency_sec_on")},t.getPreferredLiveHeadLatencySec=function(){var e=this.$21()?this.$1.getNumber("latencymanager_stalled_edgelatency_sec"):this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec"),t=this.$23(e);return this.$5.getOperationLogger("latency_manager").setPreferredEdgeLatency(t*1e3),t},t.getPreferredLiveHeadLatencyToleranceSec=function(){return this.$1.getNumber("pdash_download_cursor_catchup_tolerance_sec")},t.shouldEnableManifestTimeRangeCatchup=function(){return!this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")},t.shouldEnableCursorBasedCatchup=function(){var e=this.$2.getVideoRepresentations()[0],t=e&&e.canPredict();return t&&this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")>0},t.setEnableCatchup=function(t){var e=this.$14;!this.$14&&t===!0&&(this.$9=null),this.$14=t,this.$1.getBool("fix_live_rewind_user_selected_playback_speed")&&t!==e&&this.$18()},t.$24=function(t,n,r){var e=this.$1.getNumber("playback_speed_min_sharpness_factor"),o=t*2/(1+Math.pow(Math.E,-(r-n)*e));return 1-t+o},t.$16=function(){return!this.$1.getBool("playback_speed_latency_adjustment_disabled")&&(this.$1.getNumber("playback_speed_latency_adjustment_rate")>0||this.$1.getNumber("playback_speed_latency_slowdown_adjustment_rate")>0||this.$1.getNumber("playback_speed_latency_speedup_adjustment_rate")>0)},t.$17=function(){var e,t=o("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(o("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$4.buffered),this.$3.getCurrentTime(),this.$1).bufferAheadSec;(e=this.$7)==null||e.addSample(t)},t.$18=function(){var e=o("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(o("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$4.buffered),this.$3.getCurrentTime(),this.$1),t=e.bufferAheadSec,n=e.bufferedOffset;this.$25(t,n)},t.$25=function(t,n){var e=this.$1.getNumber("playback_speed_enabled_delay_sec"),r=this.$1.getNumber("playback_speed_min_buffer_sec");t>r&&(this.$10=!0);var o=this.$1.getNumber("playback_speed_min_duration_sec"),a=this.$1.getNumber("playback_speed_restore_min_duration_sec"),i=this.$1.getNumber("playback_speed_latency_adjustment_rate"),l=this.$1.getNumber("playback_speed_latency_slowdown_adjustment_rate"),s=this.$1.getNumber("playback_speed_latency_speedup_adjustment_rate");if(this.$4.playbackRate===0){var u;(u=this.$6)==null||u.log(),this.$6=null}else if(this.$14&&this.$10&&t<r&&(i>0||l>0)&&n===0&&(e===0||this.$13!=null&&this.$13+e*1e3<Date.now())){var c=l>0?1-l:this.$24(i,r,t);this.$6==null&&(this.$6=this.$5.getOperationLogger("latency_manager").start().setInitiator("speed_adjustment").setReason("slow").setUserInfo({newPlaybackRate:String(c),oldPlaybackRate:String(this.$4.playbackRate)})),this.$26(c)}else if(this.$14&&this.$10&&(this.$19()||this.$20())&&s>0&&n===0&&(this.$12==null||this.$12+a*1e3<Date.now())&&(e===0||this.$13!=null&&this.$13+e*1e3<Date.now())){var d=1+s;this.$6==null&&(this.$6=this.$5.getOperationLogger("latency_manager").start().setInitiator("speed_adjustment").setReason("fast").setUserInfo({newPlaybackRate:String(d),oldPlaybackRate:String(this.$4.playbackRate)})),this.$26(d)}else if(this.$14===!1||this.$11==null||this.$11+o*1e3<Date.now()){var m,p=this.$4.playbackRate;this.$1.getBool("fix_live_rewind_user_selected_playback_speed")?this.$4.playbackRate=this.$14===!1?this.$15():1:this.$4.playbackRate=1,(m=this.$6)==null||m.log(),this.$6=null,p!==this.$4.playbackRate&&(this.$12=Date.now())}},t.$26=function(t){try{this.$4.playbackRate=t,this.$11=Date.now()}catch(t){var e;(e=this.$6)==null||e.setError(t).setResult("failed").log(),this.$6=null}},t.$22=function(){var e=this.$2.getVideoRepresentations().concat(this.$2.getAudioRepresentations());return e.length===0?null:e.reduce(function(e,t){var n,r;return(((n=e.getEndingSegment())==null?void 0:n.getTimeRange().endTime)||0)>(((r=t.getEndingSegment())==null?void 0:r.getTimeRange().endTime)||0)?e:t})},t.$23=function(t){var e,n;if(t<=0)return t;var r=this.$22(),o=r==null||(e=r.getEndingSegment())==null?void 0:e.getTimeRange();if(!o)return t;var a=r==null||(n=r.getSegmentByTime((o==null?void 0:o.endTime)-t))==null?void 0:n.getTimeRange();return a?(o==null?void 0:o.endTime)-(a==null?void 0:a.startTime):t},t.destroy=function(){this.$8.release()},e})();l.default=e}),98);
__d("oz-player/playback_controls/OzPlaybackTimeRangeManager",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzBufferingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=this;this.$4=null,this.$5=0,this.$6=0,this.$7=!0,this.$8=0,this.$9=0,this.$10=!1,this.$12=0,this.$13=0,this.$15=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$17=function(){t.$10!=t.$14.isPlaying()&&(t.$14.isPlaying()&&(t.$11=Date.now()),t.$10=t.$14.isPlaying())};var n=e.config,o=e.liveheadFallBehindBlockMargin,a=e.liveheadFallBehindBlockThreshold,i=e.mpd,l=e.perfLoggerProvider,s=e.playbackState,u=e.video;this.$1=n,this.$2=u,this.$3=i,this.$8=a,this.$9=o,this.$14=s,this.$16=l,this.$1.getNumber("catchup_timeout_after_play_sec")!==0&&this.$15.addSubscriptions(this.$14.addEventListener("play",this.$17),this.$14.addEventListener("pause",this.$17))}var t=e.prototype;return t.setTimelineBlockingEnabled=function(t){this.$7=t,this.$7||this.$3.unblockTimeRange()},t.setTimeRangeProvider=function(t){var e=this;this.$4!=null&&this.$4.remove(),this.$4=t.addUpdateListener(function(){var n=t.getTimeRanges(),r=0;if(n.length!==0){var o=n[n.length-1];r=o.endTime}e.$18(r)})},t.$18=function(t){var e;if(this.$7&&this.$5!==t&&(this.$5=t,!(this.$2.currentTime<=this.$6))){var n=this.$1.getBool("catchup_use_timeline_range_end_time_as_end")?t:this.$2.duration,r=this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold")!==0?this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold"):this.$8,a=this.$1.getNumber("overwrite_live_time_range_block_margin")!==0?this.$1.getNumber("overwrite_live_time_range_block_margin"):this.$9;this.$17(),this.$1.getBool("reset_catchup_timeout_after_play_sec_on_overwrite")&&(this.$13!=a||this.$12!=r)&&(this.$13=a,this.$12=r,this.$11=Date.now());var i=this.$1.getNumber("catchup_timeout_after_play_sec")===0||Date.now()-((e=this.$11)!=null?e:0)<this.$1.getNumber("catchup_timeout_after_play_sec")*1e3;if(i&&this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")===0&&a!==0&&r!==0&&n-this.$2.currentTime>r){for(var l=[],s=0;s<this.$2.buffered.length;s++)l.push({startTime:this.$2.buffered.start(s),endTime:this.$2.buffered.end(s)});var u=o("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(this.$2.currentTime,l);this.$6=this.$2.currentTime+Math.min(u,a);var c={startTime:this.$6,endTime:n-a};this.$16.getOperationLogger("latency_manager").setInitiator("time_range_manager").setReason("blocked_range").setLength(c.endTime-c.startTime).setUserInfo({blockedRangeStart:String(c.startTime),blockedRangeEnd:String(c.endTime)}).log(),this.$3.blockTimeRange(c)}}},t.destroy=function(){this.$4!=null&&(this.$4.remove(),this.$4=null),this.$15.release()},e})();l.default=e}),98);
__d("oz-player/strategies/LiveheadSeekaheadStrategy",[],(function(t,n,r,o,a,i){"use strict";var e=.05;function l(t,n){var r=Math.max.apply(Math,n.map(function(e){return e.startTime}));return r-t>0?r-t+e:0}i.computeSeekAhead=l}),66);
__d("oz-player/utils/OzTimelineGapUtil",["oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(t,n,r,o,a,i,l){"use strict";var e=1.5;function s(e,t,n,r){var a=t.map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}});return o("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(n,e,a,r)===-1}function u(t,n,r,a,i){i===void 0&&(i=e);var l=n.map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}}),s=o("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(r,t,l,a);if(s!==-1){var u=n[s];return o("oz-player/utils/OzNumericalHelper").lessThanOrEqual(t,u.endTime)&&u.endTime-t<i}return!1}l.isInGap=s,l.isNearGap=u}),98);
__d("oz-player/playback_controls/OzPlayheadManager",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/shims/ozvariant","oz-player/strategies/LiveheadSeekaheadStrategy","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzSourceBufferUtil","oz-player/utils/OzTimelineGapUtil"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$1=e.perfLoggerProvider,this.$2=e.video,this.$4=e.config}var t=e.prototype;return t.markState=function(t,n){var e=o("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$2.buffered),r=this.$3;if(r==null){this.$3=e;return}var a=o("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(e,n.getCurrentTime(),this.$4),i=o("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(r,n.getCurrentTime(),this.$4);i.bufferedOffset!==-1&&a.bufferedOffset===-1&&this.$1.getOperationLogger("playhead_adjustment").setError("buffer_deleted").setResult("failed").setUserInfo({vidSeeking:String(this.$2.seeking),vidErrCode:this.$2.error?String(this.$2.error.code):null}).setInitiator(t).log(),this.$3=e},e})(),s=(function(){function e(e){this.$5=!1,this.$6={},this.$1=e.perfLoggerProvider,this.$2=e.video}var t=e.prototype;return t.markState=function(t,n){var e=this;if(this.$2.paused){this.$3=null,this.$4=null,this.$5=!1,this.$6={};return}(this.$3==null||this.$2.currentTime>this.$3)&&(this.$4=Date.now(),this.$3=this.$2.currentTime,this.$5=!1,this.$6={}),this.$6[t]=this.$6[t]==null?1:this.$6[t]+1;var r=this.$4;if(!this.$5&&!this.$2.paused&&r!=null&&r+1e4<Date.now()){this.$5=!0;var o={};Object.keys(this.$6).forEach(function(t){o[t]=String(e.$6[t])}),this.$1.getOperationLogger("playhead_adjustment").setError("not_advancing").setResult("failed").setLength(Date.now()-r).setUserInfo(babelHelpers.extends({},o,n,{lastCurrentTime:String(this.$3),lastCurrentTimeChanged:String(r-Date.now()),vidSeeking:String(this.$2.seeking),vidErrCode:this.$2.error?String(this.$2.error.code):null})).setInitiator(t).log()}},e})(),u=(function(t){function n(n){var a;a=t.call(this)||this,a.$OzPlayheadManager$p_2=new(r("oz-player/shims/OzSubscriptionsHandler")),a.$OzPlayheadManager$p_3=new(r("oz-player/shims/OzSubscriptionsHandler")),a.$OzPlayheadManager$p_4=new Set,a.$OzPlayheadManager$p_10=new Set,a.$OzPlayheadManager$p_12=function(e){a.$OzPlayheadManager$p_1.currentTime=e},a.$OzPlayheadManager$p_14=!1,a.$OzPlayheadManager$p_15=!1,a.$OzPlayheadManager$p_16=!0,a.$OzPlayheadManager$p_17=!1,a.$OzPlayheadManager$p_23=function(e,t){if(t===void 0&&(t=null),!(a.$OzPlayheadManager$p_20!=null&&!a.$OzPlayheadManager$p_20.shouldEnableManifestTimeRangeCatchup())){var n=a.$OzPlayheadManager$p_9;if(n&&n.isEnabled(a.$OzPlayheadManager$p_1,a.$OzPlayheadManager$p_8)){var r=n.computeNewPlayheadPosition(a.$OzPlayheadManager$p_1,a.$OzPlayheadManager$p_8);if(typeof r=="number"){a.$OzPlayheadManager$p_27(r,"live_catch_up_strategy",e,t);return}}var i=a.$OzPlayheadManager$p_6.getNumber("auto_seek_playhead_slack");if(i!==0){var l=a.$OzPlayheadManager$p_5;if(l){var s=a.$OzPlayheadManager$p_7.getCurrentTime(),u=l.getTimeRanges().map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}}),c=o("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(s,u);if((o("oz-player/utils/OzTimelineGapUtil").isNearGap(s,l.getTimeRanges(),a.$OzPlayheadManager$p_6)||o("oz-player/utils/OzTimelineGapUtil").isInGap(s,l.getTimeRanges(),a.$OzPlayheadManager$p_6))&&c!==-1){var d=u[c];a.$OzPlayheadManager$p_27(d.rangeStart+i,"jump_over_timeline_gap",e,t)}}}}};var i=n.canSupportSkipVideobufferGaps,l=n.config,u=n.dynamicVideoLibrary,c=n.initialPlaybackPosition,d=n.liveLatencyManager,m=n.mpd,p=n.perfLoggerProvider,_=n.playbackState,f=n.playheadCatchup,g=n.seekHandler,h=n.video;return a.$OzPlayheadManager$p_1=h,a.$OzPlayheadManager$p_6=l,a.$OzPlayheadManager$p_7=_,a.$OzPlayheadManager$p_8=m,a.$OzPlayheadManager$p_9=f,a.$OzPlayheadManager$p_11=p,g&&(a.$OzPlayheadManager$p_12=g),a.$OzPlayheadManager$p_17=i,a.$OzPlayheadManager$p_20=d,a.$OzPlayheadManager$p_13=c,a.$OzPlayheadManager$p_21=u,a.$OzPlayheadManager$p_18=new s({video:h,perfLoggerProvider:p}),a.$OzPlayheadManager$p_19=new e({video:h,perfLoggerProvider:p,config:l}),a.$OzPlayheadManager$p_2.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$OzPlayheadManager$p_1,"durationchange",function(){a.setPlaybackPositionOnFirstDurationChange("durationchange",a.$OzPlayheadManager$p_1.duration),a.$OzPlayheadManager$p_23("durationchange"),a.$OzPlayheadManager$p_24("durationchange")}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$OzPlayheadManager$p_1,"pause",function(){a.$OzPlayheadManager$p_23("pause")}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$OzPlayheadManager$p_1,"play",function(){a.$OzPlayheadManager$p_23("play")}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$OzPlayheadManager$p_1,"playing",function(){a.$OzPlayheadManager$p_23("playing")}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$OzPlayheadManager$p_1,"waiting",function(){a.$OzPlayheadManager$p_24("waiting")}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$OzPlayheadManager$p_1,"timeupdate",r("oz-player/shims/ozThrottle")(function(){a.$OzPlayheadManager$p_23("timeupdate"),a.$OzPlayheadManager$p_6.getBool("playhead_manager_buffered_timerange_update_on_timeupdate")&&a.$OzPlayheadManager$p_24("timeupdate")},a.$OzPlayheadManager$p_6.getNumber("playhead_manager_timeupdate_throttle_ms"))),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$OzPlayheadManager$p_1,"seeking",function(){a.$OzPlayheadManager$p_22=Date.now()})),a}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.$OzPlayheadManager$p_25=function(){return this.$OzPlayheadManager$p_1.playbackRate===0},a.observeSourceBufferState=function(t,n){var e=this;!this.$OzPlayheadManager$p_4.has(t)||r("oz-player/shims/ozvariant")(0,4179),this.$OzPlayheadManager$p_4.add(t),this.$OzPlayheadManager$p_2.addSubscriptions(t.addEventListener("buffer_updated",function(){e.$OzPlayheadManager$p_26(t,n),e.$OzPlayheadManager$p_6.getBool("skip_videobuffer_gaps_on_buffer_updated")&&e.$OzPlayheadManager$p_17&&e.$OzPlayheadManager$p_24("buffer_updated")}))},a.$OzPlayheadManager$p_26=function(t,n){var e=[];this.$OzPlayheadManager$p_4.forEach(function(t){var n=t.getBufferedRanges();n.length&&e.push(n[0])}),e.length>0&&this.$OzPlayheadManager$p_10.add(t);var r=this.$OzPlayheadManager$p_1.currentTime,a=o("oz-player/strategies/LiveheadSeekaheadStrategy").computeSeekAhead(r,e),i=this.$OzPlayheadManager$p_6.getNumber("timeline_offset_threshold");a>0&&(i===0||a<i)&&this.$OzPlayheadManager$p_27(this.$OzPlayheadManager$p_1.currentTime+a,"first_available_buffer","source_buffer",n)},a.setTimeRangeProvider=function(t){var e=this;this.$OzPlayheadManager$p_3.release(),this.$OzPlayheadManager$p_3.engage(),this.$OzPlayheadManager$p_3.addSubscriptions(t.addUpdateListener(function(){e.$OzPlayheadManager$p_23("time_range_updated")})),this.$OzPlayheadManager$p_5=t,this.$OzPlayheadManager$p_23("time_range_set")},a.resetCurrentTime=function(){this.$OzPlayheadManager$p_15=!1,this.setPlaybackPositionOnFirstDurationChange("reset",this.$OzPlayheadManager$p_1.duration)},a.setPlaybackPositionOnFirstDurationChange=function(t,n){if(this.$OzPlayheadManager$p_13!==0&&!this.$OzPlayheadManager$p_15&&!isNaN(n)&&n!==1/0){var e=this.$OzPlayheadManager$p_13>0?this.$OzPlayheadManager$p_13:n+this.$OzPlayheadManager$p_13;if(this.$OzPlayheadManager$p_20!=null){var r;e=(r=this.$OzPlayheadManager$p_20)==null?void 0:r.getInitialPlayHeadPosition()}if(this.$OzPlayheadManager$p_15=!0,this.$OzPlayheadManager$p_6.getBool("playhead_manager_clamp_initial_playback_position")){var o,a=(o=this.$OzPlayheadManager$p_5)==null?void 0:o.getTimeRanges();a!=null&&a.length>0&&a[0].startTime>e&&(e=a[0].startTime)}this.$OzPlayheadManager$p_27(e,"initial_playback_position",t),this.emit("initialPlaybackPositionSet",e)}},a.$OzPlayheadManager$p_24=function(t){var e,n,r=this;if(this.$OzPlayheadManager$p_6.getBool("skip_videobuffer_gaps")&&this.$OzPlayheadManager$p_17){var a=this.$OzPlayheadManager$p_6.getNumber("playhead_manager_buffered_auto_seek_playhead_slack");if(a!==0){for(var i=this.$OzPlayheadManager$p_7.getCurrentTime(),l=[],s=0;s<this.$OzPlayheadManager$p_1.buffered.length;s++)l.push({startTime:this.$OzPlayheadManager$p_1.buffered.start(s),endTime:this.$OzPlayheadManager$p_1.buffered.end(s)});var u=l.map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}});this.$OzPlayheadManager$p_19&&this.$OzPlayheadManager$p_19.markState(t,this.$OzPlayheadManager$p_7);var c=o("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(i,u),d=o("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$OzPlayheadManager$p_6,i,u),m=this.$OzPlayheadManager$p_16?0:this.$OzPlayheadManager$p_6.getNumber("skip_videobuffer_gaps_max_gap_size_sec"),p=this.$OzPlayheadManager$p_6.getNumber("playhead_manager_buffered_is_near_gap_threshold"),_=this.$OzPlayheadManager$p_6.getNumber("playhead_manager_buffered_numerical_error"),f=(e=this.$OzPlayheadManager$p_21)==null?void 0:e.getLastSegmentStartPTS(),g=f!=null?f/1e3:null,h=(n=this.$OzPlayheadManager$p_21)==null?void 0:n.getLast200RequestedUrlDecisionMinTime(),y=g!=null?o("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$OzPlayheadManager$p_6,g,u):-1,C=y>=0?u[y]:null,b=function(n){var e=r.$OzPlayheadManager$p_22==null||h==null||r.$OzPlayheadManager$p_22<h;return!e&&n!=null&&r.$OzPlayheadManager$p_11.getOperationLogger("playhead_adjustment").setError("ignore_before_seek_main_"+n).setResult("failed").setInitiator(t).setUserInfo({last200RequestedUrlDecisionMinTime:String(h),lastSeekTime:String(r.$OzPlayheadManager$p_22)}).log(),e};if(g!=null&&this.$OzPlayheadManager$p_25()&&this.$OzPlayheadManager$p_16==!1&&b("buf")){if(g<i&&C!=null&&C.rangeStart<=g&&C.rangeEnd!=null&&C.rangeEnd>g){this.$OzPlayheadManager$p_27(g,"reverse_jump_over_buffer_gap",t,null,{lastSegmentStartPTS:String(f),last200RequestedUrlDecisionMinTime:String(h),lastSeekTime:String(this.$OzPlayheadManager$p_22)});return}if(C!=null&&y!=d){this.$OzPlayheadManager$p_27(C.rangeStart,"jump_over_buffer_gap_last_dl_range",t,null,{lastSegmentStartPTS:String(f),last200RequestedUrlDecisionMinTime:String(h),lastSeekTime:String(this.$OzPlayheadManager$p_22)});return}}if((o("oz-player/utils/OzTimelineGapUtil").isNearGap(i,l,this.$OzPlayheadManager$p_6,_,p)||o("oz-player/utils/OzTimelineGapUtil").isInGap(i,l,this.$OzPlayheadManager$p_6,_))&&c!==-1&&(m===0||u[c].rangeStart-i<m)&&(this.$OzPlayheadManager$p_16==!0||b("main"))){var v=u[c];this.$OzPlayheadManager$p_6.getBool("enable_alternative_audio_tracks")&&this.$OzPlayheadManager$p_8.isStaticMpd()&&v.rangeStart!==0&&v.rangeEnd===this.$OzPlayheadManager$p_7.getDuration()?this.$OzPlayheadManager$p_27(0,"do_not_jump_over_buffer_gap",t,null,{lastSegmentStartPTS:String(f),last200RequestedUrlDecisionMinTime:String(h),lastSeekTime:String(this.$OzPlayheadManager$p_22)}):this.$OzPlayheadManager$p_27(v.rangeStart+a,"jump_over_buffer_gap",t,null,{lastSegmentStartPTS:String(f),last200RequestedUrlDecisionMinTime:String(h),lastSeekTime:String(this.$OzPlayheadManager$p_22)});return}this.$OzPlayheadManager$p_18&&this.$OzPlayheadManager$p_18.markState(t,{nextBufferedRangeIndex:String(c),limitMaxGapSize:String(m),rangeStart:c!==-1?String(u[c].rangeStart):null,isNearGapThreshold:String(p),numericalError:String(_)})}}},a.setEnableLiveheadCatchup=function(t){this.$OzPlayheadManager$p_16=t},a.destroy=function(){this.$OzPlayheadManager$p_2.release(),this.$OzPlayheadManager$p_3.release(),this.$OzPlayheadManager$p_4.clear()},a.$OzPlayheadManager$p_27=function(t,n,r,o,a){var e=t-this.$OzPlayheadManager$p_1.currentTime,i=this.$OzPlayheadManager$p_6.getNumber("seek_ahead_epsilon");i>0&&Math.abs(e)<=i||(this.$OzPlayheadManager$p_11.getOperationLogger("playhead_adjustment").setLength(Math.round(t*1e3)).setReason(n).setInitiator(r).setType(o).setUserInfo(babelHelpers.extends({},a,{seekAdjustment:String(Math.round(e*1e3))})).log(),this.$OzPlayheadManager$p_12(t),n==="initial_playback_position"&&(this.$OzPlayheadManager$p_14=!0))},n})(r("oz-player/shims/OzEventEmitter"));l.default=u}),98);
__d("oz-player/shims/www/OzUuidWWW",["uuidv4"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("uuidv4")}),98);
__d("oz-player/shims/OzUuid",["oz-player/shims/www/OzUuidWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/OzUuidWWW")}),98);
__d("oz-player/states/OzObservedPlaybackState",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){var a=this;n===void 0&&(n=new(o("oz-player/loggings/OzMultiDestinationPerfLogger")).OzMultiDestinationPerfLoggerProvider([])),this.$2=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$4=function(){a.$3.getOperationLogger("pause").setState("paused").log()},this.$5=function(){a.$3.getOperationLogger("playing").setState("playing").log()},this.$1=t,this.$3=n,this.$2.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"pause",this.$4),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"playing",this.$5))}var t=e.prototype;return t.isPlaying=function(){return!this.$1.paused},t.getCurrentTime=function(){return this.$1.currentTime},t.getCurrentTimeUpdateTime=function(){return Date.now()},t.getDuration=function(){return this.$1.duration},t.addEventListener=function(t,n){return r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,t,n)},t.destroy=function(){this.$2.release()},e})();l.default=e}),98);
__d("oz-player/utils/OzPositionToViewportUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=t.filter(function(e){var t=e.position;if(t==null)return!1;var r=t.y-window.scrollY;return r>=0||(t.height+r)/t.height>n}).sort(function(e,t){return e.position==null||t.position==null?0:e.position.y-t.position.y});return r.findIndex(function(t){return t.video===e})}function l(e){return e.isIntersecting!=null?e.isIntersecting:e.intersectionRatio>0||e.intersectionRect&&(e.intersectionRect.height>0||e.intersectionRect.width>0)}i.determinePositionIndexOfVideoFromViewportVertically=e,i.intersectionObserverEntryIsIntersecting=l}),66);
__d("oz-player/states/OzPositionToViewportTracker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzPositionToViewportUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=null,s=.5,u=(function(t){function n(e){var n;return n=t.call(this)||this,n.$OzPositionToViewportTracker$p_1=[],n.$OzPositionToViewportTracker$p_5=function(e){e.forEach(function(e){var t=n.$OzPositionToViewportTracker$p_1.find(function(t){return e.target===t.video});t!=null&&(o("oz-player/utils/OzPositionToViewportUtils").intersectionObserverEntryIsIntersecting(e)?t.position=n.$OzPositionToViewportTracker$p_7(e):n.$OzPositionToViewportTracker$p_1.map(function(t){e.target===t.video&&(t.position=null)})),n.$OzPositionToViewportTracker$p_1.forEach(function(e){e.positionIndexToViewportVertically=n.$OzPositionToViewportTracker$p_6(e.video)})}),n.emit("state_changed")},n.$OzPositionToViewportTracker$p_2=e,n}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.$OzPositionToViewportTracker$p_4=function(){this.$OzPositionToViewportTracker$p_3==null&&(this.$OzPositionToViewportTracker$p_3=new IntersectionObserver(this.$OzPositionToViewportTracker$p_5,{rootMargin:this.$OzPositionToViewportTracker$p_2.getNumber("pixels_above_viewport_to_observe")+"px 0px "+this.$OzPositionToViewportTracker$p_2.getNumber("pixels_below_viewport_to_observe")+"px 0px",threshold:0}))},r.registerVideo=function(t){this.$OzPositionToViewportTracker$p_1.push({video:t,position:null,positionIndexToViewportVertically:-1}),this.$OzPositionToViewportTracker$p_4(),this.$OzPositionToViewportTracker$p_3!=null&&this.$OzPositionToViewportTracker$p_3.observe(t)},r.getPositionIndexOfVideoFromViewportVertically=function(t){var e=this.$OzPositionToViewportTracker$p_1.find(function(e){return e.video===t});return e!=null?e.positionIndexToViewportVertically:-1},r.$OzPositionToViewportTracker$p_6=function(t){return o("oz-player/utils/OzPositionToViewportUtils").determinePositionIndexOfVideoFromViewportVertically(t,this.$OzPositionToViewportTracker$p_1,s)},r.$OzPositionToViewportTracker$p_7=function(t){var e=t.boundingClientRect;return{x:e.x+window.scrollX,y:e.y+window.scrollY,width:e.width,height:e.height}},n.getInstance=function(r){return e==null&&(e=new n(r)),e},r.unregisterVideo=function(t){var e=this,n=[];this.$OzPositionToViewportTracker$p_1.forEach(function(r){r.video===t&&e.$OzPositionToViewportTracker$p_3!=null?e.$OzPositionToViewportTracker$p_3.unobserve(t):n.push(r)}),this.$OzPositionToViewportTracker$p_1=n,this.$OzPositionToViewportTracker$p_1.length===0&&this.$OzPositionToViewportTracker$p_3!=null&&(this.$OzPositionToViewportTracker$p_3.disconnect(),this.$OzPositionToViewportTracker$p_3=null)},n})(r("oz-player/shims/OzEventEmitter"));l.default=u}),98);
__d("oz-player/states/OzPositionToViewport",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzPositionToViewportTracker"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var o;return o=e.call(this)||this,o.$OzPositionToViewport$p_1=new(r("oz-player/shims/OzSubscriptionsHandler")),o.$OzPositionToViewport$p_3=t,o.$OzPositionToViewport$p_2=r("oz-player/states/OzPositionToViewportTracker").getInstance(n),o.$OzPositionToViewport$p_2.registerVideo(t),o.$OzPositionToViewport$p_1.addSubscriptions(o.$OzPositionToViewport$p_2.addListener("state_changed",function(){o.emit("state_changed")})),o}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getPositionIndexOfVideoFromViewportVertically=function(){return this.$OzPositionToViewport$p_3!=null?this.$OzPositionToViewport$p_2.getPositionIndexOfVideoFromViewportVertically(this.$OzPositionToViewport$p_3):-1},n.destroy=function(){this.$OzPositionToViewport$p_3!=null&&this.$OzPositionToViewport$p_2.unregisterVideo(this.$OzPositionToViewport$p_3),this.$OzPositionToViewport$p_3=null},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/strategies/OzPlaybackConfidenceUtils",[],(function(t,n,r,o,a,i){"use strict";var e=.8;function l(t,n,r,o,a,i){var l=Math.min(1,r/o),s=1+(1-l)*a,u=t.getBandwidth()*s;return u>n?e*(n/u):1-(1-e)*u/n}i.getPlaybackConfidence=l}),66);
__d("oz-player/strategies/OzAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzPlaybackConfidenceUtils","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,r,o,a,i,l,s){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$10=null,this.$1=e,this.$5=t,this.$6=this.$15(t,n),this.$7=r,this.$8=o,this.$11=a,this.$12=i,this.$13=l,this.$14=s,this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_initialized").setResult("success").setUserInfo({newRepresentationIds:n.map(function(e){return e.getID()}).join(","),newCodecs:n.map(function(e){return e.getCodecs()}).join("|"),newDisplayLabels:n.map(function(e){return e.getDisplayLabel()}).join(",")}).setRepresentationID(t.getID()).setType("video").setInitiator("OzAbrManager").log()}var t=e.prototype;return t.setSourceBuffer=function(t){this.$9=t},t.$15=function(t,n){var e=this.$1.getNumber("abr_restrict_from_index"),r=this.$1.getNumber("abr_restrict_to_index");if(r===0&&e===0)return n;var o=n.findIndex(function(e){return t.getID()===e.getID()});return o===-1?n:n.filter(function(t,n){return n-o>=e&&n-o<=r})},t.$16=function(t){var e=o("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(t,this.$12(),this.$11,{resolutionConstraintFactor:this.$1.getNumber("resolution_constraint_factor")});return e=o("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$7,this.$12(),e),e},t.getBestRepresentation=function(t){var e,n,a,i=(e=t==null?void 0:t.length)!=null?e:null,l=(n=(a=this.$9)==null?void 0:a.getSourceBufferState().getBufferedRanges())!=null?n:null,s=this.$8.getCurrentTime(),u=o("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(s,l),c=o("oz-player/utils/OzAbrUtils").getReasonToPreventEvaluation(this.$1,this.$4,u,r("oz-player/networks/OzBandwidthEstimator").getSampleCount(),this.$2,this.$3);if(c!=null)return this.$10=c,this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_best_representation_selected").setResult("failed").setReason(this.$10).setType("video").setInitiator("OzAbrManager").log(),this.$5;var d=Date.now();this.$2=d;var m=r("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1.getLegacyConfig()),p=this.$16(this.$6),_=this.$17(p,m,u,i),f=p[0];if(_=_||f,this.$18(u,_))return this.$10="high_buffer",this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_best_representation_selected").setResult("failed").setUserInfo({filteredRepresentationIds:p.map(function(e){return e.getID()}).join(",")}).setPreviousRepresentationID(this.$5.getID()).setReason(this.$10).setType("video").setInitiator("OzAbrManager").log(),this.$5;var g=this.$5;return g!==_&&(this.$4=!0,this.$3=d,this.$5=_),this.$10="bandwidth",this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_best_representation_selected").setResult("success").setUserInfo({filteredRepresentationIds:p.map(function(e){return e.getID()}).join(",")}).setRepresentationID(_.getID()).setPreviousRepresentationID(g==null?void 0:g.getID()).setReason(this.$10).setType("video").setInitiator("OzAbrManager").log(),_},t.$17=function(t,n,r,a){a===void 0&&(a=null);for(var e=null,i=0;i<t.length;i++){var l=o("oz-player/strategies/OzPlaybackConfidenceUtils").getPlaybackConfidence(t[i],n,r,this.$1.getNumber("low_buffer_bandwidth_target_threshold"),this.$1.getNumber("low_buffer_bandwidth_target_increase_factor"),a);l>this.$1.getNumber("abr_confidence_threshold")&&(!e||e.getBandwidth()<t[i].getBandwidth())&&(e=t[i])}return e},t.$18=function(t,n){var e=this.$1.getNumber("abr_prevent_down_switch_buffer_threshold");return e>0&&t>=e&&this.$5.getBandwidth()>n.getBandwidth()},t.getLastEvaluationReason=function(){return this.$10},t.updateRepresentations=function(t){var e=this,n=this.$6;this.$6=t;var r=this.$6.find(function(t){return t.getDisplayLabel()===e.$5.getDisplayLabel()}),o=this.$5;this.$5=r!=null?r:this.$6[0],this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_representations_updated").setResult("success").setUserInfo({previousRepresentationIds:n.map(function(e){return e.getID()}).join(","),newRepresentationIds:t.map(function(e){return e.getID()}).join(","),newCodecs:t.map(function(e){return e.getCodecs()}).join("|"),newDisplayLabels:t.map(function(e){return e.getDisplayLabel()}).join(",")}).setRepresentationID(this.$5.getID()).setPreviousRepresentationID(o==null?void 0:o.getID()).setReason(this.$10).setType("video").setInitiator("OzAbrManager").log()},e})();l.default=e}),98);
__d("oz-player/strategies/getSegmentsCount",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r){for(var o=0,a=e.getTimeRange().startTime,i=e,l=i.getTimeRange().startTime;i!==null&&l<n+a;){var s=l;if(o++,i=t.getSegmentAfter(i),i)l=i.getTimeRange().startTime;else break;if(l<=s)return r}return Math.max(o,1)}i.default=e}),66);
__d("oz-player/strategies/OzStaticStreamSegmentsStrategy",["oz-player/strategies/getSegmentsCount"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.isActive=function(){return!0},t.getSegmentsCount=function(t,n,o){var e=this.$1.getNumber("seconds_to_stream"),a=this.$1.getNumber("segments_to_stream");return e>0&&(a=r("oz-player/strategies/getSegmentsCount")(n,o,e,a)),a},e})();l.default=e}),98);
__d("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/getSegmentsCount"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t,this.$3=new(r("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(e)}var t=e.prototype;return t.isActive=function(t){return!0},t.getSegmentsCount=function(t,n,o){var e=r("oz-player/networks/OzBandwidthEstimator").getBandwidth(this.$1.getLegacyConfig()),a=r("oz-player/networks/OzBandwidthEstimator").getStandardDeviationOfBandwidth(),i=this.$1.getNumber("bandwidth_boundary_standard_deviation_factor"),l=this.$2.some(function(t){var n=t.getBandwidth();return Math.abs(n-e)<a*i}),s=l?this.$4(t,n,o):this.$3.getSegmentsCount(t,n,o),u=this.$5(n,e);return Math.min(s,u)},t.$4=function(t,n,o){var e=this.$1.getNumber("seconds_to_stream_near_bandwidth_boundary"),a=this.$1.getNumber("segments_to_stream_near_bandwidth_boundary");return e>0&&(a=r("oz-player/strategies/getSegmentsCount")(n,o,e,a)),a},t.$5=function(t,n){var e=1/0,r=t.getByteRange();if(r){var o=r.endByte;if(o!=null){var a=this.$1.getNumber("per_stream_duration_target"),i=o-r.startByte;a>1e-5&&i!==0&&(e=Math.ceil(a*n/(i*8)))}}return e},e})();l.default=e}),98);
__d("oz-player/strategies/OzBlockedRepresentationsManager",["oz-player/shims/OzEventEmitter","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.$2=new Map,this.$3=new Set,this.$4=new Set,this.$5=new(r("oz-player/shims/OzEventEmitter")),this.$6=t===!0,this.$7(e),this.$8(e)}var t=e.prototype;return t.isBlocked=function(t){return this.$3.has(t)},t.handleError=function(t,n){if(this.$1!=null&&this.$3.size===this.$1-1)return!1;if(o("oz-player/utils/OzErrorUtils").isOzError(n)&&n.getType()==="OZ_NETWORK"){var e=Number(n.getExtra().code);if(!isNaN(e)&&this.$2.has(e))return this.$3.has(t)||this.$9(t,e),!0}return!1},t.$9=function(t,n){var e,o=this;this.$3.add(t),(e=this.$5)==null||e.emit("representation_blocked",t);var a=this.$2.get(n)||0;if(a>0){var i=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){o.$3.delete(t),o.$4.delete(i)},a);this.$4.add(i)}},t.applyRestriction=function(t){var e=this;return t.filter(function(t){return!e.$3.has(t.getID())})},t.onRepresentationBlocked=function(t){return this.$5?this.$5.addListener("representation_blocked",t):{remove:function(){}}},t.setAvailableRepresentationsCount=function(t){this.$1=t},t.destroy=function(){var e;(e=this.$5)==null||e.removeAllListeners(),this.$5=null;for(var t of this.$4)r("oz-player/shims/ozClearTimeout")(t);this.$4.clear()},t.$7=function(t){var e=this;try{var n=JSON.parse(t.getString("block_representation_status_codes_json"));if(Array.isArray(n)&&(n.forEach(function(t){var n=parseInt(t,10);isNaN(n)||e.$2.set(n,-1)}),this.$6))for(var r=500;r<=599;r++)this.$2.set(r,-1)}catch(e){}},t.$8=function(t){var e=this;try{var n=JSON.parse(t.getString("block_representation_status_codes_temporarily_json"));Object.entries(n).forEach(function(t){var n=t[0],r=t[1],o=parseInt(n,10),a=parseInt(r,10);!isNaN(o)&&!isNaN(a)&&e.$2.set(o,a)})}catch(e){}},e})();l.default=e}),98);
__d("oz-player/strategies/OzBufferAheadPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=6,s=1e3,u=(function(t){function n(e,n){var o;return o=t.call(this)||this,o.$OzBufferAheadPriorityStrategy$p_3=new(r("oz-player/shims/OzSubscriptionsHandler")),o.$OzBufferAheadPriorityStrategy$p_5=function(){o.emit("state_changed")},o.$OzBufferAheadPriorityStrategy$p_4=e,o.$OzBufferAheadPriorityStrategy$p_1=n,o.$OzBufferAheadPriorityStrategy$p_3.addSubscriptions(o.$OzBufferAheadPriorityStrategy$p_1.addEventListener("progress",r("oz-player/shims/ozThrottle")(o.$OzBufferAheadPriorityStrategy$p_5,s)),o.$OzBufferAheadPriorityStrategy$p_1.addEventListener("timeupdate",r("oz-player/shims/ozThrottle")(o.$OzBufferAheadPriorityStrategy$p_5,s))),o}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.getName=function(){return"buffer_ahead"},a.setSourceBufferState=function(t){this.$OzBufferAheadPriorityStrategy$p_2||(this.$OzBufferAheadPriorityStrategy$p_2=t,this.$OzBufferAheadPriorityStrategy$p_3.addSubscriptions(t.addEventListener("buffer_updated",r("oz-player/shims/ozThrottle")(this.$OzBufferAheadPriorityStrategy$p_5,s))))},a.isActive=function(){return!0},a.getPriority=function(){var t=this.$OzBufferAheadPriorityStrategy$p_2;if(!t)return 1;var n=this.$OzBufferAheadPriorityStrategy$p_1.getCurrentTime(),r=t.getBufferedRanges(),a=o("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(n,r);return a>=e?0:1},a.destroy=function(){this.$OzBufferAheadPriorityStrategy$p_3.release()},n})(r("oz-player/shims/OzEventEmitter"));l.default=u}),98);
__d("oz-player/strategies/OzBufferAheadTargetStrategy",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.isActive=function(){return!0},t.getBufferTarget=function(){return this.$1.getNumber("buffer_ahead_target")},e})();i.default=e}),66);
__d("oz-player/strategies/OzBufferEndLimitStrategy",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.isActive=function(){return!0},t.getBufferTarget=function(){var e=this.$3();return this.$2>=e?this.$2-e:0},t.$3=function(){return this.$1.buffered.length===0?0:this.$1.buffered.end(0)},e})();i.default=e}),66);
__d("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.isActive=function(t){return!t.isPlaying()},t.getSegmentsCount=function(t,n,r){for(var e=t.getCurrentTime(),o=this.$1.computeBufferTarget(),a=1,i=n,l=n.getTimeRange().startTime;i!==null&&l<o+e&&(i=r.getSegmentAfter(i),!!i);)l=i.getTimeRange().startTime,a++;return a},e})();i.default=e}),66);
__d("oz-player/strategies/OzBufferTargetCalculator",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=0,this.$2=e,this.$3=t}var t=e.prototype;return t.computeBufferTarget=function(){var e=this.$1;for(var t of this.$2)if(t.isActive()){e=t.getBufferTarget();break}for(var n of this.$3)e=n.adjustBufferTargetInSeconds(e);return this.$1=e,e},t.handleEvent=function(t){for(var e of this.$3)e.handleEvent(t)},e})();i.default=e}),66);
__d("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){var t=e.config,n=e.minimumBufferTargetSec;this.$2=1,this.$1=t,this.$3=n}var t=e.prototype;return t.adjustBufferTargetInSeconds=function(t){var e;return Math.max((e=this.$3)!=null?e:this.$1.getNumber("buffer_target_constraint_minimum_sec"),t*this.$2)},t.handleEvent=function(t){var e=this.$2;switch(t){case"append_succeeded":e=Math.max(0,Math.min(1,e+this.$1.getNumber("buffer_target_constraint_append_succeeded_reward")));break;case"append_quota_exceeded":e=Math.max(0,Math.min(1,e-this.$1.getNumber("buffer_target_constraint_quota_exceeded_penalty")));break;default:}this.$2=e},e})();i.default=e}),66);
__d("oz-player/strategies/OzPausedStreamSegmentsCountStrategy",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.isActive=function(){return!this.$1.isPlaying()},t.getSegmentsCount=function(t,n,r){return this.$2.getNumber("paused_stream_segments_count")},e})();i.default=e}),66);
__d("oz-player/strategies/OzPlayheadAtInterruptionDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e=1,s=(function(t){function n(e,n){var o;o=t.call(this)||this,o.$OzPlayheadAtInterruptionDetector$p_2=null,o.$OzPlayheadAtInterruptionDetector$p_3=new(r("oz-player/shims/OzSubscriptionsHandler")),o.$OzPlayheadAtInterruptionDetector$p_4=null,o.$OzPlayheadAtInterruptionDetector$p_1=e;var a=n?n.addListener("enterBuffering",function(){o.$OzPlayheadAtInterruptionDetector$p_5()}):r("oz-player/shims/OzDOMEventListener").listenDOMEvent(o.$OzPlayheadAtInterruptionDetector$p_1,"waiting",function(){o.$OzPlayheadAtInterruptionDetector$p_5()});return o.$OzPlayheadAtInterruptionDetector$p_3.addSubscriptions(a),o.$OzPlayheadAtInterruptionDetector$p_4=n,o}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.notifyStreamInterrupted=function(t){this.$OzPlayheadAtInterruptionDetector$p_2=t,this.$OzPlayheadAtInterruptionDetector$p_5()},o.notifyStreamResumed=function(){this.$OzPlayheadAtInterruptionDetector$p_2=null},o.$OzPlayheadAtInterruptionDetector$p_5=function(){if(this.$OzPlayheadAtInterruptionDetector$p_2!=null){var t=this.$OzPlayheadAtInterruptionDetector$p_2||0;Math.abs(this.$OzPlayheadAtInterruptionDetector$p_1.currentTime-t)<e&&this.emit("playheadAtInterruption",t)}},o.destroy=function(){this.$OzPlayheadAtInterruptionDetector$p_3.release(),this.$OzPlayheadAtInterruptionDetector$p_4=null},n})(r("oz-player/shims/OzEventEmitter"));l.default=s}),98);
__d("oz-player/strategies/OzPlayingStatePriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this)||this,n.$OzPlayingStatePriorityStrategy$p_1=new(r("oz-player/shims/OzSubscriptionsHandler")),n.$OzPlayingStatePriorityStrategy$p_3=function(){n.emit("state_changed")},n.$OzPlayingStatePriorityStrategy$p_2=t,n.$OzPlayingStatePriorityStrategy$p_1.addSubscriptions(n.$OzPlayingStatePriorityStrategy$p_2.addEventListener("playing",n.$OzPlayingStatePriorityStrategy$p_3),n.$OzPlayingStatePriorityStrategy$p_2.addEventListener("play",n.$OzPlayingStatePriorityStrategy$p_3),n.$OzPlayingStatePriorityStrategy$p_2.addEventListener("pause",n.$OzPlayingStatePriorityStrategy$p_3)),n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.isActive=function(){return!0},n.getName=function(){return"playing_state"},n.setSourceBufferState=function(t){},n.getPriority=function(){return this.$OzPlayingStatePriorityStrategy$p_2.isPlaying()?1:0},n.destroy=function(){this.$OzPlayingStatePriorityStrategy$p_1.release()},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/strategies/OzPositionToViewportPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var o;return o=e.call(this)||this,o.$OzPositionToViewportPriorityStrategy$p_3=new(r("oz-player/shims/OzSubscriptionsHandler")),o.$OzPositionToViewportPriorityStrategy$p_4=function(){o.emit("state_changed")},o.$OzPositionToViewportPriorityStrategy$p_2=t,o.$OzPositionToViewportPriorityStrategy$p_1=n,o.$OzPositionToViewportPriorityStrategy$p_3.addSubscriptions(t.addListener("state_changed",o.$OzPositionToViewportPriorityStrategy$p_4)),o}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.isActive=function(){return!0},n.getName=function(){return"position_to_viewport"},n.setSourceBufferState=function(t){},n.getPriority=function(){var e=this.$OzPositionToViewportPriorityStrategy$p_1.getNumber("prioritize_by_viewport_static_penalty"),t=this.$OzPositionToViewportPriorityStrategy$p_2.getPositionIndexOfVideoFromViewportVertically();return e>0?t===-1?e*-1:0:t===-1?-1/0:-1*t},n.destroy=function(){this.$OzPositionToViewportPriorityStrategy$p_3.release()},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/strategies/OzPriorityCalculator",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n,o;return o=e.call(this)||this,o.$OzPriorityCalculator$p_2=new(r("oz-player/shims/OzSubscriptionsHandler")),o.$OzPriorityCalculator$p_1=t,(n=o.$OzPriorityCalculator$p_2).addSubscriptions.apply(n,o.$OzPriorityCalculator$p_1.map(function(e){return e.addListener("state_changed",function(){o.emit("state_changed",o.compute(),e.getName())})})),o}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.setSourceBufferState=function(t){this.$OzPriorityCalculator$p_1.forEach(function(e){return e.setSourceBufferState(t)}),this.emit("state_changed",this.compute(),"source_buffer")},n.compute=function(){var e=this.$OzPriorityCalculator$p_1.reduce(function(e,t){var n=t.isActive()?t.getPriority():0;return e+n},0);return Math.max(e,0)},n.destroy=function(){this.$OzPriorityCalculator$p_2.release()},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/strategies/OzSingleCodecRestriction",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.applyRestriction=function(t){if(t.length<=0)return t.slice();var e=new Set(t.map(function(e){return l(e)})),n="av01",r=e.has(n)?n:e.values().next().value;return r==null?t.slice():t.filter(function(e){return l(e)===r})},e})();function l(e){return e.getMimeCodecs().replace(/\..*$/,"")}i.default=e}),66);
__d("oz-player/strategies/OzStaleManifestBufferTargetStrategy",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=t,this.$2=e}var t=e.prototype;return t.isActive=function(){return this.$2.getRefreshDate()==null&&this.$1.getNumber("stale_mpd_buffer_ahead_target")>0},t.getBufferTarget=function(){return this.$1.getNumber("stale_mpd_buffer_ahead_target")},e})();i.default=e}),66);
__d("oz-player/strategies/OzStartupBufferTargetStrategy",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$3=t}var t=e.prototype;return t.isActive=function(){var e=this.$1.isPlaying();return e&&(this.$2=!0),!this.$2},t.getBufferTarget=function(){return this.$3.getNumber("pre_start_buffer_ahead_target")},e})();i.default=e}),66);
__d("oz-player/strategies/OzStreamSegmentsCountCalculator",[],(function(t,n,r,o,a,i){"use strict";var e=1,l=(function(){function t(e){this.$1=e}var n=t.prototype;return n.computeMin=function(n,r,o){var t=Number.MAX_VALUE;for(var a of this.$1)a.isActive(n)&&(t=Math.min(t,a.getSegmentsCount(n,r,o)));return t===Number.MAX_VALUE?e:Math.max(t,e)},t})();i.default=l}),66);
__d("oz-player/strategies/OzSupportedMimeCodecsRestriction",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.applyRestriction=function(t){var e=this;return t.filter(function(t){var n=e.$1?ManagedMediaSource.isTypeSupported(t.getMimeCodecs()):MediaSource.isTypeSupported(t.getMimeCodecs());return!!n})},e})();i.default=e}),66);
__d("oz-player/streams/OzEndOfStreamWatcher",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var r;return r=e.call(this)||this,r.$OzEndOfStreamWatcher$p_1=new Map,r.$OzEndOfStreamWatcher$p_4=!1,r.$OzEndOfStreamWatcher$p_2=t,r.$OzEndOfStreamWatcher$p_3=n,r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.registerMediaStream=function(t){!this.$OzEndOfStreamWatcher$p_1.has(t)||r("oz-player/shims/ozvariant")(0,5191),this.$OzEndOfStreamWatcher$p_1.set(t,!1)},n.notifyRepresentationSwitched=function(t){this.$OzEndOfStreamWatcher$p_1.has(t)||r("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher$p_1.get(t)===!0&&this.$OzEndOfStreamWatcher$p_1.set(t,!1),this.$OzEndOfStreamWatcher$p_5("end_of_stream_watcher","representation_switched")},n.notifyMediaStreamEnded=function(t,n){this.$OzEndOfStreamWatcher$p_1.has(t)||r("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher$p_1.set(t,!0),this.$OzEndOfStreamWatcher$p_5("end_of_stream_watcher","media_stream_ended:"+n)},n.$OzEndOfStreamWatcher$p_5=function(t,n){var e=this;if(this.$OzEndOfStreamWatcher$p_3.getBool("do_not_end_stream")){!this.$OzEndOfStreamWatcher$p_4&&this.$OzEndOfStreamWatcher$p_6()&&(this.$OzEndOfStreamWatcher$p_4=!0,this.emit("streamEnd"));return}var r=this.$OzEndOfStreamWatcher$p_2.getReadyState();r==="open"&&this.$OzEndOfStreamWatcher$p_6()&&this.$OzEndOfStreamWatcher$p_2.notifyEndOfStream(t,n).then(function(){e.emit("streamEnd")}).catch(function(){e.emit("streamEnd")})},n.$OzEndOfStreamWatcher$p_6=function(){if(this.$OzEndOfStreamWatcher$p_1.size===0)return!1;for(var e of this.$OzEndOfStreamWatcher$p_1.values())if(!e)return!1;return!0},n.destroy=function(){this.$OzEndOfStreamWatcher$p_1.clear()},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/streams/OzHandleUserRepresentationSwitch",["oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozReportUnexpectedError","oz-player/utils/OzErrorEmitter"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,o,a,i){var l=this;this.$2=new(r("oz-player/utils/OzErrorEmitter")),this.$5=null,this.$6=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$1=e,this.$3=t,this.$4=n,this.$7=o,this.$8=i,a.then(function(e){l.$5=e},function(){}).catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,"OzHandleUserRepresentationSwitch SBM promise then - create")}),this.$6.addSubscriptions(o.addListener("switchRepresentation",function(e,t){l.$9(e,t)}))}var t=e.prototype;return t.destroy=function(){this.$6.release(),this.$6.engage()},t.onError=function(t){return this.$2.onError(t)},t.$9=function(t,n){if(t==="user"){var e=this.$5;if(e!=null){for(var o=this.$7.getRepresentationIDAtTime(this.$3.getCurrentTime()),a,i=0;i<this.$4.length;i++)this.$4[i].getID()===o&&(a=this.$4[i]);if(a&&n&&(this.$8||a.getBandwidth()<n.getBandwidth())){var l=a.getSegmentByTime(this.$3.getCurrentTime());l&&e.clearRangeWithWait([{fromTime:this.$3.getCurrentTime(),toTime:this.$3.getDuration()}]).catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,"OzHandleUserRepresentationSwitch clearRangeWithWait catch")})}}}},e})();l.default=e}),98);
__d("oz-player/manifests/IOzSegment",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return((e==null?void 0:e.getSequenceNumber())||0)===((t==null?void 0:t.getSequenceNumber())||0)}function l(e,t){return((e==null?void 0:e.getSequenceNumber())||0)>=((t==null?void 0:t.getSequenceNumber())||0)}i.isSequenceNumberEqual=e,i.isSequenceNumberGreaterOrEqual=l}),66);
__d("oz-player/networks/OzReadableStreamDataReader",["oz-player/networks/OzTransformStream","oz-player/utils/ozConcatUint8Arrays"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var r;if(n===void 0&&(n=null),r=e.call(this)||this,r.$OzReadableStreamDataReader$p_1=[],r.$OzReadableStreamDataReader$p_3=1/0,r.$OzReadableStreamDataReader$p_4=0,r.$OzReadableStreamDataReader$p_2=t,n!=null){var o=n.getNumber("stream_reader_max_buffer_len");r.$OzReadableStreamDataReader$p_3=o>0?o:1/0}return r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.onDataWritten=function(t){if(this.$OzReadableStreamDataReader$p_4+t.byteLength>=this.$OzReadableStreamDataReader$p_3){var e=r("oz-player/utils/ozConcatUint8Arrays")(this.$OzReadableStreamDataReader$p_1),n=e.buffer;this.$OzReadableStreamDataReader$p_2(n),this.$OzReadableStreamDataReader$p_1.length=0,this.$OzReadableStreamDataReader$p_4=0}this.$OzReadableStreamDataReader$p_1.push(t),this.$OzReadableStreamDataReader$p_4+=t.byteLength},n.onClose=function(){var e=this.$OzReadableStreamDataReader$p_1,t=r("oz-player/utils/ozConcatUint8Arrays")(e),n=t.buffer;e.length=0,this.$OzReadableStreamDataReader$p_4=0,this.$OzReadableStreamDataReader$p_2(n)},t})(r("oz-player/networks/OzTransformStream"));l.default=e}),98);
__d("oz-player/networks/OzStreamingTask",["oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/utils/OzErrorUtils","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){this.$3=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),this.$5=!1,this.$9=null,this.$1=this.$2=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),this.$6=r("oz-player/shims/OzPerformance").now(),this.$7=t,this.$8=e,this.$9=n}var t=e.prototype;return t.run=function(){var e=this.$3.getPromise(),t=this.$7;if(t){var n=r("oz-player/shims/OzPerformance").now()-this.$6;o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(e,t,"streaming_task",function(){},function(e){e.setTimeToRequestSent(Math.floor(n))})}return this.$2.resolve(),e},t.getPromise=function(){return this.$3.getPromise()},t.cancel=function(){this.$3.getPromise().catch(function(){}),this.$3.reject(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAMING_TASK",description:"task cancelled",extra:{code:"OZ_ST-1"}})),this.$5=!0},t.finish=function(){this.$3.resolve()},t.isCancelled=function(){return this.$5},t.addStreamDeferred=function(t,n){var e=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),o=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise"));this.$10({createStreamResult:t,changeStatusDeferred:e,createStreamDeferred:o,loggerProviderWithStreamContext:n});var a=function(){return o.getPromise()};return{genStream:a,cancel:function(){if(t){var e=t.pausableStream;return e.pauseStream()}},getStatusChangePromise:function(){return e.getPromise()}}},t.$10=function(t){var e=this,n=t.changeStatusDeferred,a=t.createStreamDeferred,i=t.createStreamResult,l=t.loggerProviderWithStreamContext,s=t.loggingPayloads,u=this.$1.getPromise(),c=r("oz-player/shims/OzPerformance").now(),d=this.$1=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise"));d.getPromise().catch(function(){}),u.then(function(){if(i){var t=i.pausableStream;i.loggingPayloads&&(s=i.loggingPayloads),a.resolve(t.getStream()),e.$4=t;var n=r("oz-player/shims/OzPerformance").now(),u=e.$11(t.startStream());if(l){var d=function(a){var r=s;if(r){o("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(a,r.getRequestUrl(),r.segments,n-c,t.getBytesStreamed(),r.getResponse());var i=e.$9;i&&i(a,r.getRequestUrl(),r.getResponse())}};o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(u,l,"fetch_stream",d,d)}return u}return null}).then(function(t){e.$4=null,d.resolve(),n.resolve(t||"cancelled")}).catch(function(t){e.$4=null,e.$3.reject(t),d.reject(t),n.reject(t)})},t.$11=function(t){return t.then(function(e){var t=e.statusPromise;return t.then(function(e){return e==="stream_done"?"done":"error"})})},e})();l.default=e}),98);
__d("oz-player/scheduling/OzRoundRobinPriorityTaskQueue",["oz-player/shims/ozReportUnexpectedError"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){t===void 0&&(t=-1),this.$3=function(){},this.$4=[],this.$5=new Map,this.$1=e,this.$2=t}var t=e.prototype;return t.getHighestPriority=function(){return Math.max.apply(Math,this.$4.map(function(e){return e.queue.length?e.priority:-1/0}))},t.enqueue=function(t,n){var e=this,o=n;o=this.$6(o);var a=this.$5.get(t);if(a!==o){this.$5.has(t)&&this.remove(t);var i=this.$7(o),l=this.$4[i];l&&l.priority===o||(l={priority:o,queue:[]},this.$4.splice(i,0,l)),this.$5.set(t,o),l.queue.push(t),t.getPromise().then(function(){e.remove(t)},function(){e.remove(t)}).catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,"OzRoundRobinPriorityTaskQueue remove after task run")}),this.$3(t,o>=this.$1?"immediate":"normal")}},t.updatePriority=function(t,n){this.$5.has(t)&&this.enqueue(t,n)},t.dequeue=function(){for(var e=0;e<this.$4.length;e++){var t=this.$4[e];if(t.queue.length){var n=t.queue.shift();return this.$5.delete(n),n}}return null},t.remove=function(t){var e=this.$5.get(t);if(e!==void 0){var n=this.$7(e),r=this.$4[n];if(r&&r.queue){var o=r.queue.findIndex(function(e){return e===t});o>-1&&r.queue.splice(o,1)}this.$5.delete(t)}},t.setOnTaskUpdated=function(t){this.$3=t},t.clearOnTaskUpdated=function(){this.setOnTaskUpdated(function(){})},t.getLength=function(){return this.$5.size},t.test_isEmpty=function(){return this.$5.size===0&&this.$4.every(function(e){return e.queue.length===0})},t.$7=function(t){var e=t;e=this.$6(e);var n;for(n=0;n<this.$4.length;n++)if(e>=this.$4[n].priority)return n;return n},t.$6=function(t){var e=t;return this.$2>=0&&(e=Number.parseFloat(e.toFixed(this.$2))),e},e})();l.default=e}),98);
__d("oz-player/scheduling/OzSequentialTaskScheduler",["oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.$3=0,this.$1=e;var n=t||{},r=n.taskTimeout;this.$4=r||0}var t=e.prototype;return t.start=function(){var e=this;this.$1.setOnTaskUpdated(function(t,n){return e.$5(t,n)});var t=this.$1.dequeue();t&&this.$6(t,"immediate")},t.destroy=function(){this.$2&&this.$2.cancel(),this.$1.clearOnTaskUpdated()},t.$5=function(t,n){var e=this.$6(t,n);e&&this.$1.remove(t)},t.$6=function(t,n){var e=this;if(this.$2&&n!=="immediate")return!1;this.$2&&this.$2.cancel();var o=t.run().catch(function(e){});return this.$4>0&&(o=r("oz-player/shims/OzMaybeNativePromise").race([o,new(r("oz-player/shims/OzMaybeNativePromise"))(function(t,n){r("oz-player/shims/ozSetTimeoutAcrossTransitions")(t,e.$4)})])),this.$3++,this.$2=t,o=o.then(function(){if(e.$3--,e.$2===t&&(e.$2=null),e.$3===0){var n=e.$1.dequeue();n&&e.$6(n,"immediate")}}),o.catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,"OzSequentialTaskScheduler task complete")}),!0},e})();l.default=e}),98);
__d("oz-player/networks/OzStreamingTaskQueueProvider",["oz-player/scheduling/OzRoundRobinPriorityTaskQueue","oz-player/scheduling/OzSequentialTaskScheduler"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map,s=new Map,u=2,c=2,d=6e4;function m(t){var n=e.get(t);if(!n){n=new(r("oz-player/scheduling/OzRoundRobinPriorityTaskQueue"))(u,c);var o=new(r("oz-player/scheduling/OzSequentialTaskScheduler"))(n,{taskTimeout:d});e.set(t,n),s.set(t,o),o.start()}return n}l.OZ_QUEUE_MAX_PRIORITY=u,l.getQueue=m}),98);
__d("oz-player/networks/OzStreamingTaskStateManager",["Promise","oz-player/networks/OzStreamingTask","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){var t=this;this.$3=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$4=0,this.$9=!1,this.$10=null;var n=e.bandwidthEstimator,a=e.config,i=e.loggerProvider,l=e.mimeType,s=e.priorityCalculator,u=e.setCustomFetchStreamLoggingAttributes;this.$5=l,this.$1=s,this.$6=o("oz-player/networks/OzStreamingTaskQueueProvider").getQueue(this.$5),this.$7=i,this.$8=a,this.$11=n!=null?n:null,this.$10=u,this.$3.addSubscriptions(this.$1.addListener("state_changed",function(e,n){t.$12(e,n),t.$2&&t.$6.updatePriority(t.$2,t.$4)}))}var a=t.prototype;return a.$13=function(){var e=[];return e.push(r("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$5,this.$11)),e},a.startStreamDeferred=function(t){var e=t.dataAppendedCallback,n=t.dataAppendedErrorCallback,r=t.debugName,o=t.mediaStreamType,a=t.networkManager,i=t.segments,l=t.segmentsLoggerProvider,s=this.$14(l),u=this.$13(),c;i.length>0?c=a.createPausableStream({debugName:r,segments:i,pipeThroughRangeStreamProviders:u,loggerProvider:l,mediaStreamType:o,dataAppendedCallback:e,dataAppendedErrorCallback:n}):c=null,this.$9=!0;var d=s.addStreamDeferred(c,l);return{genStream:d.genStream,cancel:d.cancel,getStatusChangePromise:this.$15(d.getStatusChangePromise)}},a.$14=function(t){var e=this.$2;return this.$12(this.$1.compute(),"start_stream"),!e||e.isCancelled()?(e=this.$2=new(r("oz-player/networks/OzStreamingTask"))(this.$8,t,this.$10),this.$6.enqueue(e,this.$4)):this.$6.updatePriority(e,this.$4),e},a.$15=function(r){var t=this;return function(){return r().then(function(e){return t.$16(),e}).catch(function(r){return t.$16(),(e||(e=n("Promise"))).reject(r)})}},a.finishTaskIfNoOngoingStream=function(){this.$9||this.$17()},a.destroy=function(){this.$3.release();var e=this.$2;this.$2=null,e&&this.$6.remove(e)},a.$16=function(){this.$9=!1,this.$12(this.$1.compute(),"end_stream"),this.$4<o("oz-player/networks/OzStreamingTaskQueueProvider").OZ_QUEUE_MAX_PRIORITY&&this.$17()},a.$17=function(){this.$2&&(this.$2.finish(),this.$2=null)},a.$12=function(t,n){t!==this.$4&&(this.$4=t,this.$7&&this.$7.getOperationLogger("priority_changed").setPriorityFloat(this.$4).setInitiator(n).log())},t})();l.default=s}),98);
__d("oz-player/strategies/OzStreamLengthStrategy",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r,o){var a=t,i=o,l=e.getNumber("segments_to_stream_under_playhead_threshold"),s=e.getNumber("low_segment_stream_playhead_threshold");l>0&&r.getCurrentTime()<s&&(a=l);var u=[];u.push(i);for(var c=1;c<a;c++){var d=n.getSegmentAfter(i);if(!d)break;i=d,u.push(i)}return u}i.getStreamingSegments=e}),66);
__d("oz-player/streams/OzMediaStreamLoopDriver",["oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){var n=this;this.$2=null,this.$3=!1,this.$6=function(){var e;if(n.$7(),!n.$3){(e=n.$5)==null||e.start();var t=n.$1.execute(),o=n.$1.getLoopInterval();o&&(n.$2=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){n.$6()},o)),t&&t.then(n.$6).catch(function(e){n.$7();var t=n.$1.handleError(e);if(t)n.$2=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(n.$6,t);else{var o,a;(o=n.$5)==null||o.setError(e),(a=n.$5)==null||a.log(),n.$5=null,n.$3=!0}})}},this.$1=e,this.$4=t}var t=e.prototype;return t.start=function(){if(this.$3)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"restart is not implemented"});this.$5=this.$4.getOperationLogger("media_stream").start(),this.$6()},t.stop=function(){var e;this.$7(),this.$3=!0,(e=this.$5)==null||e.log(),this.$5=null},t.$7=function(){this.$2&&(r("oz-player/shims/ozClearTimeout")(this.$2),this.$2=null)},e})();l.default=e}),98);
__d("oz-player/utils/OzRangeUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=t.filter(function(t){return t.startTime<=e&&t.endTime>=e});return n!=null&&n.length>0?n[0]:null}i.getRangeForTime=e}),66);
__d("oz-player/streams/OzSegmentLocator",["oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzRangeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.getEndingSegment();return t!=null&&t.getSequenceNumber()!=null?t.getSequenceNumber():0}var s=function(t,n){var e=t.getCurrentTime();return n?o("oz-player/utils/OzRangeUtils").getRangeForTime(e,n.getBufferedRanges()):null},u=function(t,n,r){var e=s(t,n),o=r?r.getTimeRange().endTime:0,a=t.getCurrentTime()||0;return o?a=o:e&&(a=e.endTime),a},c=function(t,n,r,a,i,l,s,c){var e=t.getPredictedSegmentAfter(l);if(e&&n.isPlaying())return e;var d=u(n,a,l),m=i.getTimeRanges(),p=o("oz-player/utils/OzNumericalRangeUtil").findDiffCoveredByRanges(n.getCurrentTime(),d,m.map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}}));if(p>r)return null;var _=t.getSegment(0);return _&&_.getTimeRange().startTime>d&&(d=_.getTimeRange().startTime),t.getSegmentByTime(d)};l.getEndingSequenceNumber=e,l.getTimeToQuery=u,l.getSegment=c}),98);
__d("oz-player/streams/OzSegmentUtils",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.reduce(function(e,t){var n,r;return((n=t==null?void 0:t.getSequenceNumber())!=null?n:0)>((r=e==null?void 0:e.getSequenceNumber())!=null?r:0)?t:e})}function s(e,t){var n=new(r("oz-player/manifests/OzSegmentOptions"));return e.getPredictedSegmentAfter({getData:function(){return null},getByteRange:function(){return null},getSequenceNumber:function(){return t-1},getTimeRange:function(){return{endTime:0,startTime:0}},getURI:function(){return new(r("oz-player/shims/OzURI"))("")},getOptions:function(){return n}})}function u(e){return e.getOptions().setSegmentNumDecisionTime(Date.now()),e}l.getMaxSegment=e,l.getSegmentForSequenceNumber=s,l.markSegmentCreateTime=u}),98);
__d("oz-player/utils/OzTaggedTimeRanges",[],(function(t,n,r,o,a,i){var e=(function(){function e(e){this.$1=[],this.$2=0,this.$3=0,this.$4=e||function(e,t){return e===t}}var t=e.prototype;return t.add=function(t,n,r){if(!(n<t)&&n!==t){if(this.$1.length===0){this.$1.push({startTime:t,endTime:n,tag:r});return}for(var e=0,o=0,a=0;a<this.$1.length;a++){if(t===this.$1[a].startTime&&n===this.$1[a].endTime){e=a,o=a+1;break}if(t>=this.$1[a].startTime&&(e=a+1),n<=this.$1[a].endTime&&(o=a),n<this.$1[a].startTime)break}this.$1.splice(e,o-e,{startTime:t,endTime:n,tag:r}),this.$5(e)}},t.$5=function(t){var e=t,n=this.$1[e],r=null;e!==0&&(r=this.$1[e-1]),r!==null&&(this.$4(r.tag,n.tag)?r.endTime>=n.startTime&&(this.$1.splice(e-1,2,{startTime:r.startTime,endTime:Math.max(n.endTime,r.endTime),tag:n.tag}),e--):(r.endTime>n.startTime&&r.startTime===n.startTime?(this.$1.splice(e-1,1),e--):r.endTime>n.startTime&&this.$1.splice(e-1,1,{startTime:r.startTime,endTime:n.startTime,tag:r.tag}),r.endTime>n.endTime&&this.$1.splice(e+1,0,{startTime:n.endTime,endTime:r.endTime,tag:r.tag})));var o=null;e!==this.$1.length-1&&(o=this.$1[e+1]),o&&(this.$4(o.tag,n.tag)?o.startTime<=n.endTime&&this.$1.splice(e,2,{startTime:n.startTime,endTime:Math.max(o.endTime,n.endTime),tag:n.tag}):o.startTime<=n.endTime&&(o.endTime<n.endTime?(this.$1.splice(e,1,{startTime:n.startTime,endTime:o.startTime,tag:n.tag}),this.$1.push({startTime:o.endTime,endTime:n.endTime,tag:n.tag})):this.$1.splice(e+1,1,{startTime:n.endTime,endTime:o.endTime,tag:o.tag})))},t.get=function(t){for(var e=t>=this.$3?this.$2:0,n=null,r=e;r<this.$1.length;r++)if(this.$1[r].startTime<=t&&t<this.$1[r].endTime){n=r;break}return this.$2=n===null?0:n,this.$3=t,n===null?null:this.$1[n].tag},t.getLength=function(){return this.$1.length},e})();i.default=e}),66);
__d("oz-player/streams/OzMediaStream",["oz-player/manifests/IOzSegment","oz-player/networks/OzNetworkManager","oz-player/networks/OzReadableStreamDataReader","oz-player/networks/OzStreamingTaskStateManager","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzDeferred","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzNetworkDiagnostics","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozClearTimeout","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozvariant","oz-player/strategies/OzStreamLengthStrategy","oz-player/streams/OzMediaStreamLoopDriver","oz-player/streams/OzSegmentLocator","oz-player/streams/OzSegmentUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil","oz-player/utils/OzTaggedTimeRanges"],(function(t,n,r,o,a,i,l){"use strict";var e=1e3,s=.2,u={AUDIO:1,CAPTION:3,VIDEO:0},c=(function(t){function n(e){var n,a;a=t.call(this)||this,a.$OzMediaStream$p_2=0,a.$OzMediaStream$p_3=0,a.$OzMediaStream$p_4=null,a.$OzMediaStream$p_13=null,a.$OzMediaStream$p_15=!1,a.$OzMediaStream$p_16=null,a.$OzMediaStream$p_17=new(r("oz-player/shims/OzSubscriptionsHandler")),a.$OzMediaStream$p_19=[],a.$OzMediaStream$p_22=0,a.$OzMediaStream$p_29=!0,a.$OzMediaStream$p_31=!1,a.$OzMediaStream$p_32=null,a.$OzMediaStream$p_33=new(r("oz-player/utils/OzErrorEmitter")),a.$OzMediaStream$p_35=!0,a.$OzMediaStream$p_38=0,a.$OzMediaStream$p_39=null,a.$OzMediaStream$p_40=null;var i=e.abrManager,l=e.blockedRepresentationsManager,s=e.bufferTargetCalculator,u=e.config,c=e.dynamicVideoLibrary,d=e.endOfStreamWatcher,m=e.loggerProvider,p=e.mediaStreamType,_=e.mpd,f=e.networkManager,g=e.playbackState,h=e.priorityCalculator,y=e.representation,C=e.segmentLocator,b=e.setCustomFetchStreamLoggingAttributes,v=e.shouldAppendOncePerStream,S=e.sourceBufferManagerPromise,R=e.streamSegmentsCountCalculator,L=e.warningEmitter;return a.$OzMediaStream$p_1=u,a.$OzMediaStream$p_5=S,a.$OzMediaStream$p_5.then(function(e){a.$OzMediaStream$p_6=e,a.$OzMediaStream$p_16&&a.$OzMediaStream$p_16.setSourceBuffer(e),a.$OzMediaStream$p_27.setSourceBufferState(e.getSourceBufferState()),a.$OzMediaStream$p_47()},function(){}).catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,"OzMediaStream SBM promise then - create")}),a.$OzMediaStream$p_12=f,a.$OzMediaStream$p_7=g,a.$OzMediaStream$p_14=d,(n=a.$OzMediaStream$p_14)==null||n.registerMediaStream(a),a.$OzMediaStream$p_26=s,a.$OzMediaStream$p_27=h,a.$OzMediaStream$p_28=R,a.$OzMediaStream$p_16=i,a.$OzMediaStream$p_18=m.cloneContext(),a.$OzMediaStream$p_36=C,a.$OzMediaStream$p_25=new(r("oz-player/utils/OzTaggedTimeRanges"))(function(e,t){return e.id===t.id}),a.$OzMediaStream$p_39=b,a.$OzMediaStream$p_40=l,a.$OzMediaStream$p_42=c,a.$OzMediaStream$p_43=v,a.$OzMediaStream$p_44=p,a.$OzMediaStream$p_45=L,a.$OzMediaStream$p_46=_,a.$OzMediaStream$p_17.addSubscriptions(a.$OzMediaStream$p_7.addEventListener("seeking",function(){var e,t=g.getCurrentTime(),n=null;a.$OzMediaStream$p_1.getBool("ignore_reset_after_seek_if_bufferahead")&&a.$OzMediaStream$p_8.canPredict()&&(a.$OzMediaStream$p_6&&o("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(t,a.$OzMediaStream$p_6.getSourceBufferState().getBufferedRanges())>0)?n="no_reset_anchor":(n="reset_anchor",a.$OzMediaStream$p_41=Date.now(),a.$OzMediaStream$p_9!=null&&(a.$OzMediaStream$p_48(),a.$OzMediaStream$p_31=!1,a.$OzMediaStream$p_24&&a.$OzMediaStream$p_24.resolve())),a.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_element_event").setInitiator("seeking").setLength(t*1e3).setReason(n).setUserInfo({streamAnchorSegmentNumber:String((e=a.$OzMediaStream$p_9)==null?void 0:e.getSequenceNumber())}).log()})),a.$OzMediaStream$p_40!=null&&a.$OzMediaStream$p_17.addSubscriptions(a.$OzMediaStream$p_40.onRepresentationBlocked(function(e){return a.$OzMediaStream$p_49(e)})),a.$OzMediaStream$p_21=o("oz-player/utils/OzMimeUtil").getMimeType(y.getMimeCodecs()),a.$OzMediaStream$p_30=new(r("oz-player/networks/OzStreamingTaskStateManager"))({mimeType:a.$OzMediaStream$p_21,priorityCalculator:a.$OzMediaStream$p_27,loggerProvider:a.$OzMediaStream$p_18,setCustomFetchStreamLoggingAttributes:a.$OzMediaStream$p_39,config:a.$OzMediaStream$p_1,bandwidthEstimator:a.$OzMediaStream$p_12.getBandwidthEstimator()}),a.$OzMediaStream$p_23=new(r("oz-player/streams/OzMediaStreamLoopDriver"))(a,a.$OzMediaStream$p_18),a.$OzMediaStream$p_50(y),a}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.start=function(){this.$OzMediaStream$p_23.start()},a.getCurrentRepresentation=function(){return this.$OzMediaStream$p_8},a.switchRepresentation=function(t,n){n===void 0&&(n=null),this.$OzMediaStream$p_50(t,"user",n)},a.onError=function(t){return this.$OzMediaStream$p_33.onError(t)},a.updateRunTimeConfigs=function(t){var e=t.resetStreamAnchor,n=t.streamDataHandler;n!==void 0&&(this.$OzMediaStream$p_34=n),e===!0&&this.$OzMediaStream$p_8.canApproximateId()&&(this.$OzMediaStream$p_48(),this.$OzMediaStream$p_10=null)},a.$OzMediaStream$p_50=function(t,n,a){var e,i=this;if(n===void 0&&(n="internal"),a===void 0&&(a=null),t==null){if(this.$OzMediaStream$p_1.getBool("no_rep_to_switch_fallback_progressive")){var l=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NO_AVAILABLE_REP_TO_SWITCH",description:"No available representation to switch to because all are blocked"});this.$OzMediaStream$p_33.emitError(l)}return}n==="user"&&this.$OzMediaStream$p_48(),(e=this.$OzMediaStream$p_20)==null||e.remove(),this.$OzMediaStream$p_20=null;var s=this.$OzMediaStream$p_18.cloneContext().setType(this.$OzMediaStream$p_21+";init"),u=s.cloneContext().setRepresentationID(t.getID()),c=t.getInitSegment(),d=c.getData(),m=s.getOperationLogger("stream_switch").setPreviousRepresentationID(this.$OzMediaStream$p_8?this.$OzMediaStream$p_8.getID():null).setInitiator(n).setRepresentationID(t.getID()).setReason(n==="internal"?this.$OzMediaStream$p_16&&this.$OzMediaStream$p_16.getLastEvaluationReason():n).start();this.$OzMediaStream$p_8=t;var p=function(){var e;m.log(),i.$OzMediaStream$p_26.handleEvent("append_succeeded"),i.emit("initAppended"),(e=i.$OzMediaStream$p_14)==null||e.notifyRepresentationSwitched(i)},_=function(n){var e;if(m.setError(n).log(),i.$OzMediaStream$p_51(n),(e=i.$OzMediaStream$p_40)==null||e.handleError(t.getID(),n),t.getID()!==i.$OzMediaStream$p_8.getID()){var r;(r=i.$OzMediaStream$p_24)==null||r.resolve()}};if(d==null){var f=this.$OzMediaStream$p_12.request({debugName:"OzMediaStream/init/"+this.$OzMediaStream$p_44,segments:[c],pipeThroughRangeStreamProviders:[r("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream$p_21,this.$OzMediaStream$p_12.getBandwidthEstimator())],loggerProvider:u,requestOptions:null,mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:p,dataAppendedErrorCallback:_});d=f.getStream()}if(this.emit("switchRepresentation",n,t),this.$OzMediaStream$p_52({data:d,mimeCodecs:t.getMimeCodecs(),clearSourceBufferRange:a,dataAppendedCallback:p,dataAppendedErrorCallback:_,loggerProvider:u.cloneContext(),appendTarget:0}),a){var g=t.getSegmentByTime(a[0]);if(g){var h=this.$OzMediaStream$p_12.request({debugName:"OzMediaStream/startingSegment/"+this.$OzMediaStream$p_44,segments:[g],pipeThroughRangeStreamProviders:[r("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream$p_21,this.$OzMediaStream$p_12.getBandwidthEstimator())],loggerProvider:u,requestOptions:null,mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:p,dataAppendedErrorCallback:_}),y=h.getStream();this.$OzMediaStream$p_52({data:y,mimeCodecs:t.getMimeCodecs(),clearSourceBufferRange:null,dataAppendedCallback:p,dataAppendedErrorCallback:_,loggerProvider:u.cloneContext(),appendTarget:1})}}},a.getLoopInterval=function(){return this.$OzMediaStream$p_22},a.execute=function(){var e=this.$OzMediaStream$p_53();if(e){var t=this.$OzMediaStream$p_24=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise"));return e.then(function(){return t.resolve()}).catch(function(e){return t.reject(e)}),t.getPromise()}return null},a.$OzMediaStream$p_54=function(t){if(this.$OzMediaStream$p_16&&this.$OzMediaStream$p_29&&this.$OzMediaStream$p_15){var e=this.$OzMediaStream$p_16.getBestRepresentation(t);if(this.$OzMediaStream$p_8!==e)return e}return null},a.$OzMediaStream$p_55=function(t){var e=this.$OzMediaStream$p_6?this.$OzMediaStream$p_6.getSourceBufferState():null,n=this.$OzMediaStream$p_26.computeBufferTarget();if(n<=0)return null;var r=null;if(t&&(r=this.$OzMediaStream$p_8.getCustomFieldFirstSegment()),!r&&this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_36!=null){var a=this.$OzMediaStream$p_35&&this.$OzMediaStream$p_7.isPlaying();return this.$OzMediaStream$p_36.getSegment(this.$OzMediaStream$p_8,this.$OzMediaStream$p_7,n,e,this.$OzMediaStream$p_9,this.$OzMediaStream$p_10,this.$OzMediaStream$p_1,a,this.$OzMediaStream$p_21)}else if(r||(r=o("oz-player/streams/OzSegmentLocator").getSegment(this.$OzMediaStream$p_8,this.$OzMediaStream$p_7,n,e,this.$OzMediaStream$p_8,this.$OzMediaStream$p_9,this.$OzMediaStream$p_1,this.$OzMediaStream$p_32)),this.$OzMediaStream$p_8.canPredict()){var i=this.$OzMediaStream$p_10&&this.$OzMediaStream$p_10.getSequenceNumber()||0,l=r&&r.getSequenceNumber()||0;if(r&&this.$OzMediaStream$p_10&&i>=l){var s=o("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(this.$OzMediaStream$p_8);return(s||0)>=i?this.$OzMediaStream$p_10:null}}if(!r&&!this.$OzMediaStream$p_56()){var u=this.$OzMediaStream$p_8.getEndingSegment();if(u&&this.$OzMediaStream$p_8.isEndingSegment(u)){var c=u.getTimeRange().endTime,d=o("oz-player/streams/OzSegmentLocator").getTimeToQuery(this.$OzMediaStream$p_7,e,this.$OzMediaStream$p_9);d>=c&&!this.$OzMediaStream$p_56()&&(r=u)}}return r},a.$OzMediaStream$p_57=function(){return!this.$OzMediaStream$p_15},a.$OzMediaStream$p_58=function(t,n){var e,a,i=(e=n.fetchSingleSegment)!=null?e:!1,l=(a=n.preventRepresentationSwitch)!=null?a:!1,s=[];if(i)s=[t];else{var u=this.$OzMediaStream$p_28.computeMin(this.$OzMediaStream$p_7,t,this.$OzMediaStream$p_8);if(s=o("oz-player/strategies/OzStreamLengthStrategy").getStreamingSegments(this.$OzMediaStream$p_1,u,this.$OzMediaStream$p_8,this.$OzMediaStream$p_7,t),s=r("oz-player/networks/OzNetworkManager").getStreamableSegmentsRange(s),!l){var c=this.$OzMediaStream$p_54(s);if(c){this.$OzMediaStream$p_50(c);var d=this.$OzMediaStream$p_55(!1);return d?this.$OzMediaStream$p_58(d,{fetchSingleSegment:!1,preventRepresentationSwitch:!0}):[]}}}return s},a.$OzMediaStream$p_59=function(){var e=this,t=function(n){n==null||n.remove(),e.$OzMediaStream$p_20===n&&(e.$OzMediaStream$p_20=null)};t(this.$OzMediaStream$p_20);var n=null;return new(r("oz-player/shims/OzMaybeNativePromise"))(function(r,o){n=e.getCurrentRepresentation().addUpdateListener(function(){t(n),r()}),e.$OzMediaStream$p_20=n}).catch(function(e){throw t(n),e})},a.$OzMediaStream$p_53=function(){var t=this,n=this.$OzMediaStream$p_6?this.$OzMediaStream$p_6.getSourceBufferState():null;if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_10&&this.$OzMediaStream$p_8.isEndingSegment(this.$OzMediaStream$p_10)){this.endStream("pdash_ending_segment_had_error"),this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("end1").setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return}if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_9&&this.$OzMediaStream$p_8.isEndingSegment(this.$OzMediaStream$p_9)){this.endStream("pdash_anchor_segment_is_ending_segment"),this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("end2").setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return}var a=this.$OzMediaStream$p_57(),i=this.$OzMediaStream$p_55(a);if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_11!=null&&o("oz-player/manifests/IOzSegment").isSequenceNumberGreaterOrEqual(i,this.$OzMediaStream$p_11)){this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("segment_end").setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return}if(o("oz-player/manifests/IOzSegment").isSequenceNumberEqual(i,this.$OzMediaStream$p_37)?this.$OzMediaStream$p_38++:this.$OzMediaStream$p_38=0,this.$OzMediaStream$p_37=i,this.$OzMediaStream$p_7.isPlaying()&&this.$OzMediaStream$p_38>0&&this.$OzMediaStream$p_18.cloneContext().getOperationLogger("get_segment_to_stream_same_segment").setReason((i==null?void 0:i.getSequenceNumber())!=null?String(i==null?void 0:i.getSequenceNumber()):null).setLength(this.$OzMediaStream$p_38).setRepresentationID(this.$OzMediaStream$p_8.getID()).setSegmentStartTime(i==null?void 0:i.getTimeRange().startTime).setSegmentEndTime(i==null?void 0:i.getTimeRange().endTime).log(),this.$OzMediaStream$p_31){var l,s;return this.$OzMediaStream$p_22=e,this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("ongoing_stream").setReason(((l=this.$OzMediaStream$p_9)==null?void 0:l.getSequenceNumber())!=null?String((s=this.$OzMediaStream$p_9)==null?void 0:s.getSequenceNumber()):null).setRepresentationID(this.$OzMediaStream$p_8.getID()).log(),null}if(!i||this.$OzMediaStream$p_31){if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_1.getBool("ms_promise_for_null")){var u=this.$OzMediaStream$p_1.getNumber("ms_promise_for_null_ms");return new(r("oz-player/shims/OzMaybeNativePromise"))(function(e,n){var o=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){r("oz-player/shims/ozClearTimeout")(o),e()},u||(t.$OzMediaStream$p_8.getMaxGopSec()||1)*1e3)})}return this.$OzMediaStream$p_22=e,this.$OzMediaStream$p_31||this.$OzMediaStream$p_30.finishTaskIfNoOngoingStream(),this.$OzMediaStream$p_59()}this.$OzMediaStream$p_22=0;var c=this.$OzMediaStream$p_58(i,{fetchSingleSegment:a});if(c.length===0){var d,m;return this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("no_stream_segments").setReason(((d=this.$OzMediaStream$p_9)==null?void 0:d.getSequenceNumber())!=null?String((m=this.$OzMediaStream$p_9)==null?void 0:m.getSequenceNumber()):null).setRepresentationID(this.$OzMediaStream$p_8.getID()).log(),this.$OzMediaStream$p_59()}this.$OzMediaStream$p_15=!0;var p=c[c.length-1]||null,_=this.$OzMediaStream$p_8,f=function(){return _.isEndingSegment(p)};c.length!==0||r("oz-player/shims/ozvariant")(0,23148);var g=c[0],h=g.getTimeRange().startTime,y=p.getTimeRange().endTime,C={startTime:h,endTime:y,tag:{id:this.$OzMediaStream$p_8.getID()}},b=function(n){k.setAppendedBufferMs(Math.round(n.appendedSec*1e3)),k.log(),t.$OzMediaStream$p_26.handleEvent("append_succeeded"),c.forEach(function(e){t.emit("SegmentAppended",t.$OzMediaStream$p_60(e,C))}),f()&&t.endStream("appended_ending_segment"),t.$OzMediaStream$p_61(C,n)},v=function(n){k.setError(n).log();var e=L||R;e&&e.cancel(),t.$OzMediaStream$p_51(n)},S=this.$OzMediaStream$p_18.cloneContext();S.setRepresentationID(this.$OzMediaStream$p_8.getID()),S.setSegmentStartTime(h).setSegmentEndTime(y);var R,L;a?(R=this.$OzMediaStream$p_12.request({debugName:"OzMediaStream/streamableSegments/"+this.$OzMediaStream$p_44+"/prefetch",segments:c,pipeThroughRangeStreamProviders:[r("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream$p_21,this.$OzMediaStream$p_12.getBandwidthEstimator())],loggerProvider:S.cloneContext(),requestOptions:null,mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:b,dataAppendedErrorCallback:v}),this.$OzMediaStream$p_13=R):(L=this.$OzMediaStream$p_30.startStreamDeferred({debugName:"OzMediaStream/streamableSegments/"+this.$OzMediaStream$p_44,segments:c,networkManager:this.$OzMediaStream$p_12,sourceBufferState:n,playbackState:this.$OzMediaStream$p_7,segmentsLoggerProvider:S.cloneContext(),mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:b,dataAppendedErrorCallback:v}),this.$OzMediaStream$p_13=R),this.$OzMediaStream$p_31=!0;var E=this.$OzMediaStream$p_62(g,p,c.length),k=S.getOperationLogger("queued_append");k.start().setReason(this.$OzMediaStream$p_16&&this.$OzMediaStream$p_16.getLastEvaluationReason());var I=function(n,r){t.$OzMediaStream$p_52({data:n,mimeCodecs:r,clearSourceBufferRange:null,dataAppendedCallback:b,dataAppendedErrorCallback:v,loggerProvider:S.cloneContext(),appendTarget:E})},T;L||R||r("oz-player/shims/ozvariant")(0,23147);var D=this.$OzMediaStream$p_8.getMimeCodecs();L?(L.genStream().then(function(e){return I(e,D)}).catch(function(e){return t.$OzMediaStream$p_33.emitError(e)}),T=L.getStatusChangePromise()):R&&(I(R.getStream(),D),T=R.getStatusChangePromise()),T||r("oz-player/shims/ozvariant")(0,51928);var x=T.then(function(e){return t.$OzMediaStream$p_63(e,p),t.$OzMediaStream$p_64()}).then(function(){t.$OzMediaStream$p_2=0});return x.catch(function(e){var n,r=t.$OzMediaStream$p_9;return t.$OzMediaStream$p_65(p),(n=t.$OzMediaStream$p_40)==null||n.handleError(_.getID(),e),t.$OzMediaStream$p_66(e,p,r)})},a.handleError=function(t){var e=this.$OzMediaStream$p_18.getOperationLogger("media_stream_loop_error");return e.setError(t).setResult("failed").log(),this.$OzMediaStream$p_1.getNumber("loop_body_handle_error_interval_ms")},a.$OzMediaStream$p_66=function(t,n,a){var e=this;this.$OzMediaStream$p_31=!1;var i=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),l=o("oz-player/utils/OzErrorUtils").getNormalizedErrorAndCode(t),s=l[0],u=l[1],c=o("oz-player/utils/OzErrorUtils").getOzErrorWithMIMEType(s,this.$OzMediaStream$p_21),d=function(l){if(e.$OzMediaStream$p_2++,e.$OzMediaStream$p_18.getOperationLogger("media_stream").setInitiator("fetch_stream_"+(l.behavior!=null?l.behavior:"default")).setLength(l.timeoutMs).setReason(""+c.getDescription()).setError(c).setCode(u.length>0?Number.parseInt(u,10):null).setType(e.$OzMediaStream$p_21).log(),l.behavior==="retry_failed_request")e.$OzMediaStream$p_9=a;else if(l.behavior==="recover_failed_request"&&o("oz-player/utils/OzErrorUtils").isOzError(t)){var n,s=(n=t.getExtra())==null?void 0:n.headers,d=r("oz-player/shims/OzNetworkDiagnostics").getNextValidSegmentId(s);d!=null&&(e.$OzMediaStream$p_9=o("oz-player/streams/OzSegmentUtils").getSegmentForSequenceNumber(e.$OzMediaStream$p_8,d-1))}r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){return e.emit("streamErrorRetry",c),i.resolve()},l.timeoutMs)};this.$OzMediaStream$p_4!==u?(this.$OzMediaStream$p_4=u,this.$OzMediaStream$p_3=1):this.$OzMediaStream$p_3++;var m=!0,p=function(){m=!1},_={consecutiveFailuresForErrorCode:this.$OzMediaStream$p_3,endStream:function(){p(),e.$OzMediaStream$p_10=n,e.$OzMediaStream$p_11=n,e.endStream("streamError_event_object"),i.resolve()},error:c,isInitialRequest:!1,retry:function(t){var e;p(),d({timeoutMs:(e=t==null?void 0:t.waitMs)!=null?e:0,behavior:t==null?void 0:t.behavior})},retryAttemptCount:this.$OzMediaStream$p_2};return this.emit("streamError",_),m&&(this.$OzMediaStream$p_33.emitError(c),this.$OzMediaStream$p_2=0,i.resolve()),i.getPromise()},a.$OzMediaStream$p_65=function(t){this.$OzMediaStream$p_48(),this.$OzMediaStream$p_10=t,this.$OzMediaStream$p_30.finishTaskIfNoOngoingStream();var e=this.$OzMediaStream$p_6;e&&e.cancelOperationAndCleanQueue(this.$OzMediaStream$p_18)},a.$OzMediaStream$p_63=function(t,n){t==="done"&&(this.$OzMediaStream$p_9=n)},a.$OzMediaStream$p_64=function(){this.$OzMediaStream$p_31=!1},a.$OzMediaStream$p_52=function(t){this.$OzMediaStream$p_19.push(t),this.$OzMediaStream$p_6&&this.$OzMediaStream$p_47()},a.$OzMediaStream$p_61=function(t,n){t!=null&&(this.$OzMediaStream$p_8.canPredict()&&n.startTime_UNSAFE&&n.endTime_UNSAFE?this.$OzMediaStream$p_25.add(n.startTime_UNSAFE,n.endTime_UNSAFE,t.tag):this.$OzMediaStream$p_25.add(t.startTime,t.endTime,t.tag))},a.$OzMediaStream$p_47=function(){var e=this;this.$OzMediaStream$p_19.forEach(function(t){var n=t.appendTarget,o=t.clearSourceBufferRange,a=t.data,i=t.dataAppendedCallback,l=t.dataAppendedErrorCallback,s=t.loggerProvider,u=t.mimeCodecs,c=a instanceof Uint8Array||e.$OzMediaStream$p_34==null?a:a.pipeThrough(new(r("oz-player/networks/OzReadableStreamDataReader"))(e.$OzMediaStream$p_34.bind(e,e.$OzMediaStream$p_8),e.$OzMediaStream$p_1));e.$OzMediaStream$p_6&&e.$OzMediaStream$p_6.queueData(c,u,o,s,n).then(function(e){e&&i(e)}).catch(function(e){l(e)})}),this.$OzMediaStream$p_19=[]},a.$OzMediaStream$p_67=function(){var e=this.$OzMediaStream$p_6;if(!e)return r("oz-player/shims/OzMaybeNativePromise").resolve();var t=this.$OzMediaStream$p_7.getCurrentTime(),n=[{fromTime:0,toTime:t}],o=this.$OzMediaStream$p_1.getNumber("clear_buffer_around_playhead_boundary_ms");if(o>0){var a=o/1e3,i=e.getSourceBufferState(),l=i.getBufferedRanges(),s=l.length>=1?l[l.length-1].endTime:t;n=[{fromTime:0,toTime:Math.max(0,t-a)}],t+a<s&&n.push({fromTime:t+a,toTime:s})}return e.clearRangeWithWait(n)},a.$OzMediaStream$p_68=function(t){return!1},a.$OzMediaStream$p_51=function(t){var e=this;if(o("oz-player/utils/OzErrorUtils").isOzError(t)&&t.getType()==="OZ_SOURCE_BUFFER_QUOTA_EXCEEDED"){this.emit("streamErrorRetry",o("oz-player/utils/OzErrorUtils").getOzErrorWithMIMEType(t,this.$OzMediaStream$p_21)),this.$OzMediaStream$p_26.handleEvent("append_quota_exceeded");var n=this.$OzMediaStream$p_67();n.then(function(){e.restartLoopBody()}).catch(function(t){var n=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR",description:"Stream append quota exceeded: "+String(t),extra:{originalError:t,code:r("oz-player/utils/OzCustomErrorCode").STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR}});e.$OzMediaStream$p_33.emitError(n)})}else{if(o("oz-player/utils/OzErrorUtils").isOzError(t)&&t.getType()==="OZ_CANCELLED")return;if(o("oz-player/utils/OzErrorUtils").isOzError(t)&&t.getType()==="OZ_SOURCE_BUFFER_CHANGE_TYPE")this.$OzMediaStream$p_33.emitError(t);else if(o("oz-player/utils/OzErrorUtils").isOzError(t)&&t.getType()==="OZ_SOURCE_BUFFER_CHANGE_TYPE_UNAVAILABLE")this.$OzMediaStream$p_33.emitError(t);else if(o("oz-player/utils/OzErrorUtils").isOzError(t)&&t.getType()==="OZ_WEBVTT_CAPTION_PARSE_ERROR"){var a;r("oz-player/shims/ozReportUnexpectedError")(t,"OzMediaStream append error callback: OZ_WEBVTT_CAPTION_PARSE_ERROR branch","warn"),(a=this.$OzMediaStream$p_45)==null||a.emitError(t)}else r("oz-player/shims/ozReportUnexpectedError")(t,"OzMediaStream append error callback","warn"),this.$OzMediaStream$p_68(t)&&this.$OzMediaStream$p_33.emitError(t)}},a.$OzMediaStream$p_62=function(t,n,r){var e=0;if(this.$OzMediaStream$p_43)return 1/0;var o=this.$OzMediaStream$p_1.getNumber("appends_per_segment");if(o>0){var a=t.getByteRange(),i=n.getByteRange();a&&i&&i.endByte!=null&&(e=Math.ceil((i.endByte-a.startByte+1)/(r*o)))}return e===0&&(e=this.$OzMediaStream$p_1.getNumber("append_byte_target_without_range")),e},a.getIsAdaptationEnabled=function(){return this.$OzMediaStream$p_29},a.enableAdaptation=function(){this.$OzMediaStream$p_29=!0},a.disableAdaptation=function(){this.$OzMediaStream$p_29=!1},a.destroy=function(){this.$OzMediaStream$p_23.stop(),this.$OzMediaStream$p_5.then(function(e){e.destroy()},function(){}).catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,"OzMediaStream SBM promise then - destroy")}),this.$OzMediaStream$p_30.destroy(),this.$OzMediaStream$p_17.release(),this.$OzMediaStream$p_17.engage(),this.removeAllListeners(),this.$OzMediaStream$p_20&&(this.$OzMediaStream$p_20.remove(),this.$OzMediaStream$p_20=null)},a.getRepresentationIDAtTime=function(t){var e=this.$OzMediaStream$p_25.get(t);if(!e){var n=this.$OzMediaStream$p_8.getTimeRanges(),r=n[n.length-1],o=.001;r&&t>=r.endTime&&t<=this.$OzMediaStream$p_7.getDuration()+o&&(e=this.$OzMediaStream$p_25.get(r.endTime-o))}return e?e.id:null},a.endStream=function(t){var e;(e=this.$OzMediaStream$p_14)==null||e.notifyMediaStreamEnded(this,t),this.$OzMediaStream$p_69()},a.endStreamIfBufferedToEndTime=function(){var e=this.$OzMediaStream$p_8.getTimeRanges();if(e.length>0){var t=e[e.length-1].endTime;if(this.$OzMediaStream$p_6){var n=this.$OzMediaStream$p_6.getSourceBufferState().getBufferedRanges();n.length>0&&Math.abs(n[n.length-1].endTime-t)<s&&this.endStream("buffered_to_end_time")}}},a.$OzMediaStream$p_60=function(t,n){var e,r;return{type:this.$OzMediaStream$p_21.indexOf("audio")===0?u.AUDIO:this.$OzMediaStream$p_21.indexOf("video")===0?u.VIDEO:u.CAPTION,segment:t,sourceBuffer:(e=(r=this.$OzMediaStream$p_6)==null||(r=r.getDebug())==null?void 0:r.SourceBuffer)!=null?e:null,timeRange:n}},a.$OzMediaStream$p_48=function(){this.$OzMediaStream$p_9=null},a.restartLoopBody=function(){this.$OzMediaStream$p_48(),this.$OzMediaStream$p_31=!1,this.$OzMediaStream$p_13&&this.$OzMediaStream$p_13.cancel(),this.$OzMediaStream$p_22!==0&&this.$OzMediaStream$p_24&&this.$OzMediaStream$p_24.resolve()},a.$OzMediaStream$p_69=function(){if(this.$OzMediaStream$p_6){var e=this.$OzMediaStream$p_6.getSourceBufferState().getBufferedRanges();e.length>0&&(this.$OzMediaStream$p_32=e[e.length-1].endTime)}},a.$OzMediaStream$p_56=function(){return this.$OzMediaStream$p_32!==null},a.$OzMediaStream$p_49=function(t){this.$OzMediaStream$p_8.getID()===t&&this.$OzMediaStream$p_16!=null&&this.$OzMediaStream$p_50(this.$OzMediaStream$p_16.getBestRepresentation())},a.setEnableLiveheadCatchup=function(t){this.$OzMediaStream$p_35=t},a.clearSourceBufferRange=function(t,n){var e=this.$OzMediaStream$p_6;return e?e.clearRangeWithWait([{fromTime:t,toTime:n}]):r("oz-player/shims/OzMaybeNativePromise").resolve()},a.getDebug=function(){return{SourceBufferManager:this.$OzMediaStream$p_6,MediaStreamAbrManager:this.$OzMediaStream$p_16}},n})(r("oz-player/shims/OzEventEmitter"));l.default=c}),98);
__d("oz-player/streams/OzPredictedSegmentLocator",["oz-player/streams/OzSegmentLocator","oz-player/streams/OzSegmentUtils","oz-player/utils/OzSourceBufferUtil"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=0;for(var r in e){var o;r!==t&&(n=Math.max(n,(o=e[r].lastSkippedToSegmentNumber)!=null?o:0))}return n}function s(e,t){var n=null;for(var r in e)r!==t&&e[r].inBufferAheadTimeSince!=null&&(n=n!=null?Math.min(n,e[r].inBufferAheadTimeSince):e[r].inBufferAheadTimeSince);return n}var u=(function(){function t(e){this.$5={};var t=e.dynamicVideoLibrary,n=e.liveLatencyManager,r=e.loggerProvider,o=e.videoNode;this.$1=o,this.$2=n,this.$3=r,this.$4=t}var n=t.prototype;return n.getSegment=function(t,n,r,o,a,i,l,s,u){var e,c;this.$5[u]==null&&(this.$5[u]={lastSkippedToSegmentNumber:null,inBufferAheadTimeSince:null}),(e=this.$2)==null||e.setEnableCatchup(s);var d=this.$6(t,n,r,o,a,i,l,s,u);(c=d.segment)==null||c.getOptions().setSegmentNumDecisionTime(Date.now()),d.segment===null&&this.$3.getOperationLogger("segment_locator").setInitiator(d.initiator).setReason(d.reason).setType(u).setUserInfo(d.userInfo).log();var m=this.$4;if(d.segment&&m!=null){var p=d.segment.getOptions();p.setIsDVLEnabled(m.shouldRequestDynamicInfo(u))}return d.segment},n.$6=function(n,r,a,i,l,u,c,d,m){var t,p,_,f,g,h=r.getCurrentTime(),y=this.$2==null?!1:this.$2.shouldEnableCursorBasedCatchup(),C=i!=null?o("oz-player/utils/OzSourceBufferUtil").getTotalBufferAheadOfPosition(i.getBufferedRanges(),r.getCurrentTime(),c):{bufferAheadSec:0,bufferedOffset:0},b=C.bufferAheadSec,v=C.bufferedOffset,S=null,R=null,L=this.$2?this.$2.enabled():!0,E=n.getPredictedSegmentAfter(l),k=o("oz-player/streams/OzSegmentUtils").getSegmentForSequenceNumber(n,c.getNumber("pdash_download_cursor_between_catchups_seg")>0?e(this.$5):e(this.$5,m)),I=!0,T=null;if(y&&d&&((t=E)==null?void 0:t.getSequenceNumber())!=null&&((p=(_=E)==null?void 0:_.getSequenceNumber())!=null?p:0)<=((f=k==null?void 0:k.getSequenceNumber())!=null?f:0)){var D,x,$;E=k,S="paired_catchup",this.$3.getOperationLogger("segment_locator").setInitiator(S).setUserInfo({bufferAheadSec:String(b),bufferedOffset:String(v)}).setLength(((D=k==null?void 0:k.getSequenceNumber())!=null?D:0)-((x=($=E)==null?void 0:$.getSequenceNumber())!=null?x:0)).setType(m).log(),I=!1,T=S}else if(y&&d&&L&&E!=null&&(g=this.$2)!=null&&g.isBehindPreferredLiveHeadLatencyWithTolerance()){var P,N;if(this.$2&&b>this.$2.getPreferredLiveHeadLatencySec()&&v==0)return{segment:null,initiator:"catchup_pause",userInfo:{bufferAheadSec:String(b),bufferedOffset:String(v)}};var M=n.getEndingSegment(),w=o("oz-player/streams/OzSegmentUtils").getMaxSegment([M,E]),A=c.getNumber("pdash_download_cursor_between_catchups_seg")===0||((P=k==null?void 0:k.getSequenceNumber())!=null?P:0)+c.getNumber("pdash_download_cursor_between_catchups_seg")<((N=M==null?void 0:M.getSequenceNumber())!=null?N:0);if(A){var F,O,B;if(((F=w==null?void 0:w.getSequenceNumber())!=null?F:0)>((O=(B=E)==null?void 0:B.getSequenceNumber())!=null?O:0)){var W,q,U,V;this.$5[m].lastSkippedToSegmentNumber=(W=w==null?void 0:w.getSequenceNumber())!=null?W:0,this.$3.getOperationLogger("segment_locator").setInitiator("catchup").setUserInfo({bufferAheadSec:String(b),bufferedOffset:String(v)}).setLength(((q=w==null?void 0:w.getSequenceNumber())!=null?q:0)-((U=(V=E)==null?void 0:V.getSequenceNumber())!=null?U:0)).setType(m).log()}E=w,S="catchup",I=!1,T=S}}else if(l==null){var H,G;E=n.getSegmentByTime(h),S="1st_run";var z=n.getTimeRanges();R={approx:String(n.canApproximateId()),ranges:String(z.length),mpdStartTime:z.length>0?String(z[z.length-1].startTime):null,mpdEndTime:z.length>0?String(z[z.length-1].endTime):null},this.$5[m].lastSkippedToSegmentNumber=(H=(G=E)==null?void 0:G.getSequenceNumber())!=null?H:0}if(I&&(I=L,T="stream_state"),I&&b>a)return this.$5[m].inBufferAheadTimeSince==null&&(this.$5[m].inBufferAheadTimeSince=Date.now()),{segment:null,initiator:"buffer_ahead_rule",userInfo:{bufferAheadSec:String(b),bufferedOffset:String(v),lastMaxSegNum:String(e(this.$5,m)),segment:E?String(E.getSequenceNumber()):null,computedBufferAheadTarget:String(a)}};!I&&b>a&&this.$3.getOperationLogger("segment_locator").setUserInfo({bufferAheadSec:String(b),bufferedOffset:String(v),computedBufferAheadTarget:String(a)}).setReason("disabled_buffer_ahead_rule:"+(T||"")).setType(m).log();var j=u&&u.getSequenceNumber()||0,K=E&&E.getSequenceNumber()||0;if(E&&u&&j>=K){var Q=o("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(n);return(Q||0)>=j?{segment:u}:{segment:null,initiator:"mpd_refresh",userInfo:{leSegNum:String(j)}}}var X=i?o("oz-player/utils/OzSourceBufferUtil").getTotalInBufferedRanges(i.getBufferedRanges()):0,Y=i?o("oz-player/utils/OzSourceBufferUtil").getTotalBufferAheadOfPosition(i.getBufferedRanges(),r.getCurrentTime(),c).bufferAheadSec:0,J=s(this.$5,m),Z=Date.now();if(c.getNumber("download_cursor_total_buffer_max_sec")!=0&&c.getNumber("download_cursor_total_buffer_max_sec")<Y||c.getNumber("download_cursor_buffer_ahead_time_max_sec")!=0&&J!=null&&c.getNumber("download_cursor_buffer_ahead_time_max_sec")<(Z-J)/1e3){var ee,te;this.$5[m].lastSkippedToSegmentNumber=(ee=(te=E)==null?void 0:te.getSequenceNumber())!=null?ee:0,this.$3.getOperationLogger("segment_locator").setUserInfo({bufferAheadSec:String(b),bufferedOffset:String(v),totalBufferedSec:String(X),computedBufferAheadTarget:String(a),inBufferAheadElapsedTime:String((Z-(J!=null?J:0))/1e3)}).setReason("force_paired_catchup").setType(m).log()}return this.$5[m].inBufferAheadTimeSince=null,{segment:E,initiator:S||void 0,userInfo:R||void 0}},t})();l.OzPredictedSegmentLocator=u}),98);
__d("oz-player/utils/getRepresentationInCache",["oz-player/networks/RequestParamCreator"],(function(t,n,r,o,a,i,l){"use strict";var e=new(r("oz-player/networks/RequestParamCreator"));function s(t,n){return n===void 0&&(n=null),t.find(function(t){var r=t.getInitSegment(),o=r&&r.getByteRange();return r&&o&&n?n.hasCacheValue(e.createRequestParam(r.getURI(),o,"auto").uri.toString()):!1})||null}l.default=s}),98);
__d("oz-player/Player",["Promise","oz-player/configs/OzPlayerConfig","oz-player/drm/OzDrmManager","oz-player/loggings/OzDevConsolePerfLogger","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/loggings/OzOperationLoggerObserver","oz-player/manifests/OzDynamicVideoLibrary","oz-player/manifests/OzVideoRepresentation","oz-player/media_source/MediaSourceManager","oz-player/media_source/OzMediaSeekableRangeManager","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzClientClock","oz-player/networks/OzNetworkManager","oz-player/parsers/OzMpdParser","oz-player/parsers/OzMpdUpdater","oz-player/parsers/OzXmlParserImplDOMParser","oz-player/playback_controls/OzClearSourceBufferOnSeekManager","oz-player/playback_controls/OzLiveLatencyManager","oz-player/playback_controls/OzPlaybackTimeRangeManager","oz-player/playback_controls/OzPlayheadManager","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/OzUuid","oz-player/shims/ozClearTimeout","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozvariant","oz-player/states/OzObservedPlaybackState","oz-player/states/OzPositionToViewport","oz-player/strategies/OzAbrManager","oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy","oz-player/strategies/OzBlockedRepresentationsManager","oz-player/strategies/OzBufferAheadPriorityStrategy","oz-player/strategies/OzBufferAheadTargetStrategy","oz-player/strategies/OzBufferEndLimitStrategy","oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy","oz-player/strategies/OzBufferTargetCalculator","oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint","oz-player/strategies/OzBufferingDetector","oz-player/strategies/OzPausedStreamSegmentsCountStrategy","oz-player/strategies/OzPlayheadAtInterruptionDetector","oz-player/strategies/OzPlayingStatePriorityStrategy","oz-player/strategies/OzPositionToViewportPriorityStrategy","oz-player/strategies/OzPriorityCalculator","oz-player/strategies/OzSingleCodecRestriction","oz-player/strategies/OzStaleManifestBufferTargetStrategy","oz-player/strategies/OzStartupBufferTargetStrategy","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/OzStreamSegmentsCountCalculator","oz-player/strategies/OzSupportedMimeCodecsRestriction","oz-player/streams/OzEndOfStreamWatcher","oz-player/streams/OzHandleUserRepresentationSwitch","oz-player/streams/OzMediaStream","oz-player/streams/OzPredictedSegmentLocator","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzIbrUtils","oz-player/utils/OzMimeUtil","oz-player/utils/OzMpdUtils","oz-player/utils/OzPlaybackRestrictionsUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/getRepresentationInCache"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return e||r("oz-player/shims/ozvariant")(0,21876),e}var u="av01",c="vp09",d="avc1",m=(function(t){function a(e){var n;n=t.call(this)||this,n.$Player$p_5=new Map,n.$Player$p_6=new Map,n.$Player$p_9=void 0,n.$Player$p_10=new(r("oz-player/shims/OzSubscriptionsHandler")),n.$Player$p_11=new(r("oz-player/utils/OzErrorEmitter")),n.$Player$p_12=new(r("oz-player/utils/OzErrorEmitter")),n.$Player$p_19=void 0,n.$Player$p_25=[],n.$Player$p_26=void 0,n.$Player$p_27=void 0,n.$Player$p_32=null,n.$Player$p_33=null,n.$Player$p_43=null,n.$Player$p_51=!1,n.$Player$p_54=0,n.$Player$p_55=null,n.$Player$p_56=null,n.$Player$p_57=0,n.$Player$p_58=null,n.$Player$p_59=null,n.$Player$p_60=!1,n.$Player$p_63=null,n.$Player$p_64=null,n.$Player$p_70=!1,n.$Player$p_71=!1,n.$Player$p_76=!1,n.$Player$p_77=null,n.$Player$p_78=!1,n.$Player$p_89=function(){var e=new(r("oz-player/parsers/OzXmlParserImplDOMParser"));return e},n.$Player$p_91=function(){n.$Player$p_5.forEach(function(e){return e.endStreamIfBufferedToEndTime()})},n.$Player$p_92=function(){n.$Player$p_5.forEach(function(e){return e.endStream("streamGone")})};var a=e.audioOnly,i=a===void 0?!1:a,l=e.bufferingDetector,s=e.videoNode,u=e.config,c=e.configMap,d=e.rawMpdXml,m=e.mpdUrl,p=m===void 0?null:m,_=e.loggerConfig,f=_===void 0?{perfLoggerProviders:[],observedOperationLoggers:[],isOzDevConsoleEnabled:!1}:_,g=e.bandwidthEstimatorOverride,h=g===void 0?null:g,y=e.customVTTBufferTargetStrategies,C=y===void 0?null:y,b=e.shouldBlockStatusCode5xx,v=b===void 0?!1:b,S=e.prefetchCache,R=S===void 0?null:S,L=e.getOverrideOzRequestImplementation,E=L===void 0?null:L,k=e.getUserSelectedPlaybackRate,I=e.networkRequestStreamHandlers,T=e.networkRequestStreamRetryHandler,D=e.networkRequestUrlRefreshHandler,x=e.getShouldIncludeCredentials,$=x===void 0?null:x,P=e.getCustomRequestParametersForURI,N=P===void 0?null:P,M=e.initialRepresentationIDs,w=M===void 0?[]:M,A=e.debugCreateInitiator,F=A===void 0?null:A,O=e.customParsers,B=O===void 0?new Map:O,W=e.videoPlaybackRestrictions,q=W===void 0?[]:W,U=e.customSegmentTimelineParser,V=U===void 0?null:U,H=e.customRepresentationParsers,G=H===void 0?{}:H,z=e.networkRequestFetchPriority,j=z===void 0?"auto":z,K=e.videoAbrManagerFactory,Q=K===void 0?null:K,X=e.seekHandler,Y=X===void 0?null:X,J=e.initialPlaybackPositionForDynamicMpd,Z=J===void 0?-20:J,ee=e.liveheadFallBehindBlockThreshold,te=ee===void 0?30:ee,ne=e.liveheadFallBehindBlockMargin,re=ne===void 0?5.9:ne,oe=e.startTimeStamp,ae=oe===void 0?0:oe,ie=e.drmProviders,le=ie===void 0?[]:ie,se=e.getVideoDimensions,ue=se===void 0?null:se,ce=e.setCustomFetchStreamLoggingAttributes,de=ce===void 0?null:ce,me=e.bufferEndLimit,pe=me===void 0?null:me,_e=e.configureCustomRequestParametersForSegment,fe=_e===void 0?null:_e,ge=e.isClientTriggeredTraceEnabled,he=ge===void 0?!1:ge,ye=e.enableImmediateQualityDownSwitch,Ce=ye===void 0?!1:ye,be=e.userPreferenceLang,ve=be===void 0?null:be,Se=e.initiateLivePlaybackFromStart,Re=Se===void 0?!1:Se;n.$Player$p_1=C,n.$Player$p_49=F;var Le=f.observedOperationLoggers,Ee=f.perfLoggerProviders,ke=f.isOzDevConsoleEnabled;if(n.$Player$p_17=ke||!1,n.$Player$p_16=new(o("oz-player/loggings/OzMultiDestinationPerfLogger")).OzMultiDestinationPerfLoggerProvider(n.$Player$p_79().concat(Ee)),n.$Player$p_2=i,n.$Player$p_4=u!=null?u:new(r("oz-player/configs/OzPlayerConfig"))(c!=null?c:{}),n.$Player$p_78=n.$Player$p_4.getBool("enable_managed_media_source")&&!!window.ManagedMediaSource,n.$Player$p_75=n.$Player$p_78?"changeType"in window.ManagedSourceBuffer.prototype:"changeType"in window.SourceBuffer.prototype,n.$Player$p_12.onError(function(){}),n.$Player$p_22=new(r("oz-player/loggings/OzOperationLoggerObserver")),n.$Player$p_22.observe(Le,n.$Player$p_16),n.$Player$p_16.getOperationLogger("player_initialization").setInitiator("player-"+r("oz-player/shims/OzUuid")()).log(),n.$Player$p_53=E,n.$Player$p_28=B,n.$Player$p_67=new(r("oz-player/strategies/OzBlockedRepresentationsManager"))(n.$Player$p_4,v),n.$Player$p_10.addSubscriptions(n.$Player$p_67.onRepresentationBlocked(function(e){n.emit("representationBlocked",e)})),n.$Player$p_31=[n.$Player$p_67,new(r("oz-player/strategies/OzSupportedMimeCodecsRestriction"))(n.$Player$p_78)].concat(q),n.$Player$p_75||n.$Player$p_31.push(new(r("oz-player/strategies/OzSingleCodecRestriction"))),n.$Player$p_29=G,n.$Player$p_30=V,n.$Player$p_35=Q,n.$Player$p_36=Y,n.$Player$p_37=ae,n.$Player$p_38=Re?ae:Z,n.$Player$p_41=k!=null?k:function(){return 1},n.$Player$p_39=te,n.$Player$p_42=re,n.$Player$p_66=pe,n.$Player$p_69=he,n.$Player$p_71=Ce,n.$Player$p_47=le,n.$Player$p_63=de,n.$Player$p_3=s,n.$Player$p_7=new(r("oz-player/media_source/MediaSourceManager"))({videoNode:n.$Player$p_3,config:n.$Player$p_4,perfLoggerProvider:n.$Player$p_16,isChangeTypeSupported:n.$Player$p_75,useManagedMediaSource:n.$Player$p_78,handleVttCaptionsUpdated:function(t){var e,r=(e=n.$Player$p_5.get("caption"))==null||(e=e.getCurrentRepresentation())==null?void 0:e.getLang();n.emit("vttCaptionsUpdated",t,r)},onClearVideoNodeError:function(){n.$Player$p_80()},onRetryVideoElementError:function(t){n.emit("videoNodeErrorRetry",t)}}),n.$Player$p_7.onError(function(e){n.$Player$p_11.emitError(e)}),n.$Player$p_4.getBool("clear_on_seek")){var Ie=new(r("oz-player/playback_controls/OzClearSourceBufferOnSeekManager"))(n.$Player$p_3,n.$Player$p_4,n.$Player$p_5,n.$Player$p_16);Ie.maybeOverwriteVideoCurrentTimeProperty(),n.$Player$p_10.addSubscriptions(Ie.onError(n.$Player$p_11.emitError)),n.$Player$p_64=Ie}n.$Player$p_24=R;var Te=n.$Player$p_24&&n.$Player$p_24.getCachedRepresentations();return n.$Player$p_25=Te||w,n.$Player$p_65=new(r("oz-player/manifests/OzDynamicVideoLibrary"))({config:n.$Player$p_4}),n.$Player$p_44=I,n.$Player$p_45=$,n.$Player$p_46=N,n.$Player$p_68=fe,n.$Player$p_77=h!=null?h:r("oz-player/networks/OzBandwidthEstimator"),n.$Player$p_13=new(r("oz-player/networks/OzNetworkManager"))({config:n.$Player$p_4,prefetchCache:n.$Player$p_24,networkRequestStreamHandlers:n.$Player$p_44,getOverrideOzRequestImplementation:n.$Player$p_53,getShouldIncludeCredentials:n.$Player$p_45,getCustomRequestParametersForURI:n.$Player$p_46,networkRequestFetchPriority:j,networkRequestStreamRetryHandler:T,networkRequestUrlRefreshHandler:D,setCustomFetchStreamLoggingAttributes:n.$Player$p_63,dynamicVideoLibrary:n.$Player$p_65,configureCustomRequestParametersForSegment:n.$Player$p_68,onResourceTimingBufferFull:function(){n.$Player$p_81()},bandwidthEstimator:n.$Player$p_77}),n.$Player$p_18=p,n.$Player$p_8=d,n.$Player$p_14=new(r("oz-player/states/OzObservedPlaybackState"))(n.$Player$p_4,n.$Player$p_3,n.$Player$p_16),n.$Player$p_52=ue,n.$Player$p_15=new(r("oz-player/streams/OzEndOfStreamWatcher"))(n.$Player$p_7,n.$Player$p_4),n.$Player$p_10.addSubscriptions(n.$Player$p_15.addListener("streamEnd",function(){n.$Player$p_51=!0,n.emit("streamEnd")})),n.$Player$p_50=l!=null?l:n.$Player$p_82(),n.$Player$p_4.getNumber("pixels_below_viewport_to_observe")>0&&(n.$Player$p_61=new(r("oz-player/states/OzPositionToViewport"))(n.$Player$p_3,n.$Player$p_4)),n.$Player$p_72=ve,n.$Player$p_73=null,n.$Player$p_74={lang:null,role:null},n}babelHelpers.inheritsLoose(a,t);var i=a.prototype;return i.$Player$p_81=function(){this.$Player$p_70||(r("oz-player/shims/ozReportUnexpectedError")(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_JAVASCRIPT_NATIVE",description:"ResourceTiming buffer is full"}),"ResourceTiming buffer is full","warn"),this.$Player$p_70=!0)},i.$Player$p_83=function(t){var e=this;this.$Player$p_84();var n=o("oz-player/loggings/OzLoggingUtils").executeOperationAndLog(this.$Player$p_16.cloneContext().setInitiator(this.$Player$p_49),"parse_manifest",function(n){var r,a,i=e.$Player$p_85(t),l=String((r=i.getCustomField("currentServerTimeMs"))!=null?r:""),s=String((a=i.getCustomField("lastVideoFrameTs"))!=null?a:""),u={currentServerTimeMs:l,ingestLastVideoFrameTs:s,nowMs:String(Date.now())},c=o("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(i,e.$Player$p_4),d=c&&c.endTime!=0?c.endTime:null;return n.setLiveheadPosition(d).setLiveheadSeqNumMpd(o("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber(i)).setManifestType(i.isStaticMpd()?"static":"dynamic").setIsMixedCodecManifest(e.$Player$p_76).setIsTemplatedManifest(!!i.getCustomField("isLiveTemplated")).setUserInfo(u),i});this.$Player$p_86(n)},i.$Player$p_86=function(t){var e=this,n,a;if(this.$Player$p_9=s(t),this.$Player$p_4.getBool("player_emit_mpdparsed_early")&&this.emit("mpdParsed",t),this.$Player$p_26=this.$Player$p_87(),this.$Player$p_27=this.$Player$p_88(),this.$Player$p_67.setAvailableRepresentationsCount(t.getVideoRepresentations().length),this.$Player$p_18!=null){var i=new(r("oz-player/parsers/OzMpdUpdater"))(this.$Player$p_4,t,this.$Player$p_13,this.$Player$p_14,this.$Player$p_16,{mpdUrl:null,createXmlParser:this.$Player$p_89,customParsers:this.$Player$p_28,customRepresentationParsers:this.$Player$p_29,customSegmentTimelineParser:this.$Player$p_30},this.$Player$p_48,this.$Player$p_69,this.$Player$p_78);this.$Player$p_90(i),this.$Player$p_10.addSubscriptions(i.onError(this.$Player$p_11.emitError),i.addListener("manifestFetchError",function(t){return e.emit("manifestFetchError",t)}),i.addListener("manifestFetchErrorRetry",function(t){return e.emit("manifestFetchErrorRetry",t)}),i.addListener("streamTransitionToStatic",this.$Player$p_91),i.addListener("streamGone",this.$Player$p_92)),i.setupUpdateLoop(),this.$Player$p_21=i}this.$Player$p_4.getBool("use_live_latency_manager")?t.isStaticMpd()?this.$Player$p_37=this.$Player$p_37:(this.$Player$p_40=new(r("oz-player/playback_controls/OzLiveLatencyManager"))({config:this.$Player$p_4,mpd:t,playbackState:this.$Player$p_14,bufferingDetector:this.$Player$p_50,video:this.$Player$p_3,loggerProvider:this.$Player$p_16,getUserSelectedPlaybackRate:this.$Player$p_41}),this.$Player$p_37=this.$Player$p_40.getPreferredLiveHeadLatencySec()*-1):this.$Player$p_37=t.isStaticMpd()?this.$Player$p_37:this.$Player$p_93(t),this.$Player$p_19=new(r("oz-player/playback_controls/OzPlayheadManager"))({video:this.$Player$p_3,mpd:t,dynamicVideoLibrary:this.$Player$p_65,playheadCatchup:this.$Player$p_34,playbackState:this.$Player$p_14,config:this.$Player$p_4,perfLoggerProvider:this.$Player$p_16,seekHandler:this.$Player$p_36,initialPlaybackPosition:this.$Player$p_37,canSupportSkipVideobufferGaps:(n=(a=this.$Player$p_64)==null?void 0:a.getCurrentTimePropertyOverwriteSuccess())!=null?n:!1,liveLatencyManager:this.$Player$p_40}),this.$Player$p_20=new(r("oz-player/playback_controls/OzPlaybackTimeRangeManager"))({config:this.$Player$p_4,video:this.$Player$p_3,mpd:t,liveheadFallBehindBlockThreshold:this.$Player$p_39,liveheadFallBehindBlockMargin:this.$Player$p_42,playbackState:this.$Player$p_14,perfLoggerProvider:this.$Player$p_16}),this.$Player$p_94().catch(function(t){var n=o("oz-player/utils/OzErrorUtils").isOzError(t)?t:null;e.$Player$p_11.emitError(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Failed to setup streams: "+String(t),extra:babelHelpers.extends({},n==null?void 0:n.getExtra(),{originalError:t,code:r("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()})}))}),this.emit("mpdReady",t)},i.load=function(t){var e=this;this.$Player$p_18=t;try{var n=this.$Player$p_8;n!=null?this.$Player$p_83(n):t!=null?this.$Player$p_95(t).then(function(t){if(e.$Player$p_60){e.$Player$p_60=!1,e.load(e.$Player$p_18);return}e.$Player$p_8=t,e.$Player$p_54=0,e.$Player$p_83(t)}).catch(function(n){if(e.$Player$p_60){e.$Player$p_60=!1,e.load(e.$Player$p_18);return}var r=o("oz-player/utils/OzErrorUtils").isOzError(n)?n:null,a=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Failed to setup player with fetched MPD: "+String(n),extra:babelHelpers.extends({},r==null?void 0:r.getExtra(),{originalError:n,url:t})});e.$Player$p_96(a,t)}):this.$Player$p_11.emitError(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Cannot start Oz without a raw mpd xml or mpd url"}))}catch(e){var r=o("oz-player/utils/OzErrorUtils").isOzError(e)?e:null;this.$Player$p_11.emitError(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Failed to setup player: "+String(e),extra:babelHelpers.extends({},r==null?void 0:r.getExtra(),{originalError:e})}))}},i.$Player$p_93=function(t){var e,n,r=(e=t.getVideoRepresentations()[0].getMaxGopSec())!=null?e:0,o=(n=t.getVideoRepresentations()[0].getEndingSegment())==null?void 0:n.getTimeRange(),a=o!=null?o.endTime-o.startTime:0;return a>0&&(r=a),Math.min(this.$Player$p_38+this.$Player$p_4.getNumber("dynamic_mpd_initial_playback_position_offset_modifier"),-1*r*this.$Player$p_4.getNumber("pdash_download_cursor_catchup_threshold_gop_multiplier"))},i.$Player$p_95=function(t){this.$Player$p_54++;var e=this.$Player$p_13.requestRawUrl({debugName:"OzPlayer/fetchMpdXml/mpd",url:t,options:null,loggerProvider:this.$Player$p_16}),n=e.getStream().getReader();return o("oz-player/utils/OzReadableStreamUtils").pumpString(n)},i.$Player$p_97=function(){this.$Player$p_55!=null&&(r("oz-player/shims/ozClearTimeout")(this.$Player$p_55),this.$Player$p_55=null)},i.$Player$p_96=function(t,n){var e=this,o=!0,a=this.$Player$p_54-1,i=t.getExtra().code;this.$Player$p_56!==i?(this.$Player$p_56=i,this.$Player$p_57=1):this.$Player$p_57++;var l=function(){o=!1},s={endStream:function(){l(),e.$Player$p_51=!0,e.emit("streamGoneBeforeStart")},consecutiveFailuresForErrorCode:this.$Player$p_57,error:t,isInitialRequest:!0,retry:function(o){l(),e.$Player$p_97(),e.$Player$p_55=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){e.$Player$p_97(),e.load(n)},(o==null?void 0:o.waitMs)!=null?o==null?void 0:o.waitMs:1e3)},retryAttemptCount:a};this.$Player$p_4.getNumber("initial_manifest_request_retry_count")>0&&this.emit("manifestFetchError",s),o&&this.$Player$p_11.emitError(t)},i.updatePlayerRunTimeConfig=function(t){var e=t.applicationStreamDataHandler,n=t.audioStreamDataHandler,r=t.manifestUrl,o=t.resetStreamAnchor,a=t.videoStreamDataHandler;if(a!==void 0){var i=this.$Player$p_5.get("video");i&&i.updateRunTimeConfigs({streamDataHandler:a})}if(o!==void 0){var l,s=this.$Player$p_5.get("video");s&&s.updateRunTimeConfigs({resetStreamAnchor:o});var u=this.$Player$p_5.get("audio");u&&u.updateRunTimeConfigs({resetStreamAnchor:o}),(l=this.$Player$p_19)==null||l.resetCurrentTime()}if(n!==void 0){var c=this.$Player$p_5.get("audio");c&&c.updateRunTimeConfigs({streamDataHandler:n})}if(e!==void 0){var d=this.$Player$p_5.get("caption");d&&d.updateRunTimeConfigs({streamDataHandler:e,resetStreamAnchor:o})}r!=null&&r!==""&&this.$Player$p_98(r)},i.$Player$p_99=function(t,n){var e=this,r=t.getMimeCodecs(),a=this.$Player$p_7.createSourceBufferManager(n+"/"+t.getMimeType()+"/"+t.getCodecs(),r,n,t.getInitSegment().getData());this.$Player$p_100(a,n,t);var i=a.then(function(t){return e.$Player$p_50&&n!=="caption"&&e.$Player$p_50.setSourceBufferState(n,t.getSourceBufferState()),t});return o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(i,this.$Player$p_16,"source_attach",function(e){e.setType(n)}),i.then(function(t){if(n!=="caption"){var r;(r=e.$Player$p_19)==null||r.observeSourceBufferState(t.getSourceBufferState(),n)}})},i.isDrm=function(){var e=this.$Player$p_48;if(e!=null){var t=e.hasContentProtections();return t!=null?t:!1}return!1},i.$Player$p_84=function(){var e=this.$Player$p_47;if(e.length>0){var t=this.$Player$p_48=new(o("oz-player/drm/OzDrmManager")).OzDrmManager(this.$Player$p_16,this.$Player$p_3,{maxStartEMEAttempts:this.$Player$p_4.getNumber("max_start_eme_attempts"),throwNoLicenseError:!0});e.forEach(function(e){t.addProvider(e)}),this.$Player$p_10.addSubscriptions(t.onError(this.$Player$p_11.emitError))}},i.$Player$p_101=function(t){var e=this,n=s(this.$Player$p_9),o=[this.$Player$p_4,t,this.$Player$p_102(),this.$Player$p_31,this.$Player$p_14,window.devicePixelRatio||1,function(){return e.$Player$p_103()},n.isStaticMpd()?"static":"dynamic",this.$Player$p_16],a=this.$Player$p_35&&this.$Player$p_35.apply(this,o);return a!=null?a:babelHelpers.construct(r("oz-player/strategies/OzAbrManager"),o)},i.$Player$p_104=function(t){return t==="caption"},i.$Player$p_100=function(t,n,a){var e=this,i=s(this.$Player$p_9),l=this.$Player$p_6.get(n),u=new(r("oz-player/streams/OzMediaStream"))({config:this.$Player$p_4,sourceBufferManagerPromise:t,networkManager:this.$Player$p_13,playbackState:this.$Player$p_14,endOfStreamWatcher:n!=="caption"?this.$Player$p_15:null,bufferTargetCalculator:this.$Player$p_105(n),priorityCalculator:this.$Player$p_106(),streamSegmentsCountCalculator:this.$Player$p_107(n),abrManager:l,representation:a,loggerProvider:this.$Player$p_16.cloneContext().setType(n),segmentLocator:this.$Player$p_62,setCustomFetchStreamLoggingAttributes:this.$Player$p_63,blockedRepresentationsManager:this.$Player$p_67,dynamicVideoLibrary:this.$Player$p_65,shouldAppendOncePerStream:this.$Player$p_104(n),mediaStreamType:n,warningEmitter:this.$Player$p_12,mpd:i});this.$Player$p_37===0?u.start():(s(this.$Player$p_9),this.$Player$p_19&&this.$Player$p_10.addSubscriptions(this.$Player$p_19.addListener("initialPlaybackPositionSet",function(){u.start()}))),this.$Player$p_10.addSubscriptions(u.onError(this.$Player$p_11.emitError)),this.$Player$p_23&&this.$Player$p_10.addSubscriptions(this.$Player$p_23.listenToMediaStreamInitAppended(u)),n==="video"&&(this.$Player$p_33=new(r("oz-player/streams/OzHandleUserRepresentationSwitch"))(this.$Player$p_4,this.$Player$p_14,o("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),this.$Player$p_102()),u,t,this.$Player$p_71),this.$Player$p_10.addSubscriptions(this.$Player$p_33.onError(this.$Player$p_11.emitError))),this.$Player$p_5.set(n,u),this.$Player$p_10.addSubscriptions(u.addListener("switchRepresentation",function(){var t,r,o,a=u.getCurrentRepresentation();(t=e.$Player$p_23)==null||t.setTimeRangeProvider(a),(r=e.$Player$p_19)==null||r.setTimeRangeProvider(a),(o=e.$Player$p_20)==null||o.setTimeRangeProvider(a),n==="video"&&e.emit("switchVideoRepresentation")}),u.addListener("SegmentAppended",function(t){e.$Player$p_108("SegmentAppended",t)}),u.addListener("streamError",function(t){e.emit("streamError",t)}),u.addListener("streamErrorRetry",function(t){e.emit("streamErrorRetry",t)}))},i.$Player$p_109=function(){return this.$Player$p_66!=null?[new(r("oz-player/strategies/OzBufferEndLimitStrategy"))(this.$Player$p_3,this.$Player$p_66)]:[new(r("oz-player/strategies/OzStaleManifestBufferTargetStrategy"))(s(this.$Player$p_9),this.$Player$p_4),new(r("oz-player/strategies/OzStartupBufferTargetStrategy"))(this.$Player$p_14,this.$Player$p_4),new(r("oz-player/strategies/OzBufferAheadTargetStrategy"))(this.$Player$p_4)]},i.$Player$p_110=function(){return this.$Player$p_66==null?[new(r("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint"))({config:this.$Player$p_4,minimumBufferTargetSec:this.$Player$p_4.getNumber("buffer_target_constraint_minimum_sec")})]:[]},i.$Player$p_111=function(){return this.$Player$p_66==null?[new(r("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint"))({config:this.$Player$p_4,minimumBufferTargetSec:0})]:[]},i.$Player$p_87=function(){return new(r("oz-player/strategies/OzBufferTargetCalculator"))(this.$Player$p_109(),this.$Player$p_110())},i.$Player$p_88=function(){return this.$Player$p_1!=null?new(r("oz-player/strategies/OzBufferTargetCalculator"))([].concat(this.$Player$p_1,this.$Player$p_109()),this.$Player$p_111()):this.$Player$p_87()},i.$Player$p_105=function(t){var e=t==="caption"?this.$Player$p_27:this.$Player$p_26;return e||r("oz-player/shims/ozvariant")(0,76764,t),e},i.$Player$p_90=function(t){var e=this;if(this.$Player$p_4.getNumber("stream_interrupt_check_mpd_stale_count_threshold")>0){var n=this.$Player$p_50,o=new(r("oz-player/strategies/OzPlayheadAtInterruptionDetector"))(this.$Player$p_3,n);this.$Player$p_10.addSubscriptions(o.addListener("playheadAtInterruption",function(t){e.$Player$p_16.getOperationLogger("stream_interrupted").log(),e.emit("streamInterruptAt",t)}),t.addListener("streamInterruptAt",function(t){var n;(n=e.$Player$p_50)==null||n.notifyStreamInterrupted(),o.notifyStreamInterrupted(t)}),t.addListener("streamResumedAt",function(t){var n;e.$Player$p_16.getOperationLogger("stream_resumed").log(),(n=e.$Player$p_50)==null||n.notifyStreamResumed(),o.notifyStreamResumed(),e.emit("streamResumedAt",t)})),this.$Player$p_32=o}},i.$Player$p_106=function(){var e=[new(r("oz-player/strategies/OzPlayingStatePriorityStrategy"))(this.$Player$p_14),new(r("oz-player/strategies/OzBufferAheadPriorityStrategy"))(this.$Player$p_4,this.$Player$p_14)].concat(this.$Player$p_4.getNumber("pixels_below_viewport_to_observe")>0&&this.$Player$p_61!=null?new(r("oz-player/strategies/OzPositionToViewportPriorityStrategy"))(this.$Player$p_61,this.$Player$p_4):[]);return new(r("oz-player/strategies/OzPriorityCalculator"))(e)},i.$Player$p_107=function(t){var e=[new(r("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(this.$Player$p_4),new(r("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy"))(this.$Player$p_105(t),this.$Player$p_4)];return this.$Player$p_4.getNumber("paused_stream_segments_count")!==0&&e.push(new(r("oz-player/strategies/OzPausedStreamSegmentsCountStrategy"))(this.$Player$p_14,this.$Player$p_4)),t==="video"&&e.push(new(r("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy"))(this.$Player$p_4,this.$Player$p_102())),new(r("oz-player/strategies/OzStreamSegmentsCountCalculator"))(e)},i.onError=function(t){return this.$Player$p_11.onError(t)},i.onWarning=function(t){return this.$Player$p_12.onError(t)},i.getSelectedVideoQuality=function(){var e=this.$Player$p_9;if(!e||this.$Player$p_2)return null;var t=this.$Player$p_5.get("video"),n=t&&t.getCurrentRepresentation();if(n instanceof r("oz-player/manifests/OzVideoRepresentation"))return n.getDisplayLabel();var o=this.$Player$p_102(),a=o[0];return a?a.getDisplayLabel():null},i.getTargetAudioTrack=function(){var e=this.$Player$p_9;if(!e)return null;var t=this.$Player$p_5.get("audio"),n=t&&t.getCurrentRepresentation();if(n){var r;return{id:n.getID(),displayLabel:n.getDisplayLabel(),lang:(r=n.getLang())!=null?r:null,role:n.getRole(),mimeCodecs:n.getMimeCodecs(),variantKey:n.getVariantKey()}}var o=this.$Player$p_112(),a=o[0];return a?a.getAudioTrack():null},i.getCurrentPlayingVideoVariant=function(){return this.$Player$p_73},i.getTargetVideoVariant=function(){return this.$Player$p_74},i.switchToVideoQuality=function(t){var e=this.$Player$p_102().find(function(e){return e.getDisplayLabel()===t});if(e){var n=this.$Player$p_5.get("video");n&&(n.switchRepresentation(e),n.disableAdaptation())}},i.switchToVideoVariant=function(t){var e,n,a,i;if(this.$Player$p_74=t===null?{lang:null,role:null}:t,this.$Player$p_74.lang===((e=(n=this.$Player$p_73)==null?void 0:n.lang)!=null?e:null)&&this.$Player$p_74.role===((a=(i=this.$Player$p_73)==null?void 0:i.role)!=null?a:null)){var l,s,u,c;r("oz-player/shims/ozReportUnexpectedError")(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchToVideoVariant switch to the same lang: "+((l=this.$Player$p_74.lang)!=null?l:"default lang")+", same role: "+((s=this.$Player$p_74.role)!=null?s:"default role")}),"switchToVideoVariant switch to the same lang: "+((u=this.$Player$p_74.lang)!=null?u:"default lang")+", same role: "+((c=this.$Player$p_74.role)!=null?c:"default role"),"warn");return}else if(this.$Player$p_9){if(!this.$Player$p_113(this.$Player$p_74.lang)){var d,m,p,_;r("oz-player/shims/ozReportUnexpectedError")(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchToVideoVariant lang not exist in mpd: "+((d=this.$Player$p_74.lang)!=null?d:"default lang")+", same role: "+((m=this.$Player$p_74.role)!=null?m:"default role")}),"switchToVideoVariant lang not exist in mpd: "+((p=this.$Player$p_74.lang)!=null?p:"default lang")+", same role: "+((_=this.$Player$p_74.role)!=null?_:"default role"),"warn");return}}else{r("oz-player/shims/ozReportUnexpectedError")(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchToVideoVariant mpd is void"}),"switchToVideoVariant mpd is void","warn");return}this.$Player$p_114(),this.$Player$p_4.getBool("enable_lip_sync_abr_select_quality")&&this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&this.$Player$p_75&&this.$Player$p_115(),this.$Player$p_73=this.$Player$p_74},i.$Player$p_114=function(){var e=this.$Player$p_112()[0];if(e){var t=this.$Player$p_5.get("audio");t&&(t.switchRepresentation(e,[0,this.$Player$p_14.getDuration()]),t.disableAdaptation())}},i.$Player$p_115=function(){var e=this.$Player$p_5.get("video");if(e){var t=e.getCurrentRepresentation();if(!(t.getLang()===this.$Player$p_74.lang&&t.getRole()===this.$Player$p_74.role)){var n=this.$Player$p_102();if(n.length===0){r("oz-player/shims/ozReportUnexpectedError")(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchVideoByTargetVariant no representations with target variant: "+JSON.stringify(this.$Player$p_74)}),"switchVideoByTargetVariant no representations with target variant: "+JSON.stringify(this.$Player$p_74),"warn");return}var a,i=this.$Player$p_6.get("video");if(i?(i.updateRepresentations(n),a=i.getBestRepresentation()):a=n[0],!a){r("oz-player/shims/ozReportUnexpectedError")(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchVideoByTargetVariant unable to update representations given target variant: "+JSON.stringify(this.$Player$p_74)}),"switchVideoByTargetVariant unable to update representations given target variant: "+JSON.stringify(this.$Player$p_74));return}e.switchRepresentation(a,[0,this.$Player$p_14.getDuration()])}}},i.getIsVideoQualityAdaptationEnabled=function(){var e=this.$Player$p_5.get("video");return e?e.getIsAdaptationEnabled():!1},i.enableVideoQualityAdaptation=function(){var e=this.$Player$p_5.get("video");e&&e.enableAdaptation()},i.getVideoQualities=function(){var e=this,t=this.$Player$p_9;if(!t)return[];var n=this.$Player$p_102().filter(function(t){var n;return!((n=e.$Player$p_67)!=null&&n.isBlocked(t.getID()))}),r=n.some(function(e){return o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(e.getCodecs())===u}),a=n.some(function(e){return o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(e.getCodecs())===c}),i=r?n.filter(function(e){return o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(e.getCodecs())===u}):a?n.filter(function(e){return o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(e.getCodecs())===c}):n.filter(function(e){return o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(e.getCodecs())===d});return i.sort(function(e,t){return e.getBandwidth()-t.getBandwidth()}).map(function(e){return e.getDisplayLabel()})},i.getVideoTracks=function(){var e=this,t=this.$Player$p_9;return t?this.$Player$p_102().filter(function(t){var n;return!((n=e.$Player$p_67)!=null&&n.isBlocked(t.getID()))}).map(function(e){return{mimeCodecs:e.getMimeCodecs(),codec:e.getCodecs(),codecFamily:o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(e.getMimeCodecs()),displayLabel:e.getDisplayLabel(),qualityLabel:e.getDisplayLabel(),height:e.getHeight(),id:e.getID(),qualityScoreCurveString:e.getQualityScoreCurveString("csvqm"),width:e.getWidth(),lang:e.getLang(),role:e.getRole(),variantKey:e.getVariantKey()}}):[]},i.getAudioTracks=function(){var e=this,t=this.$Player$p_9;return t?t.getAudioRepresentations().filter(function(t){var n;return!((n=e.$Player$p_67)!=null&&n.isBlocked(t.getID()))}).map(function(e){return e.getAudioTrack()}):[]},i.setEnableLiveheadCatchup=function(t){var e;if(this.$Player$p_20){var n;t?this.$Player$p_16.getOperationLogger("live_catchup_enabled").setIsLatencyCachupEnabled(!0).log():this.$Player$p_16.getOperationLogger("live_catchup_disabled").setIsLatencyCachupEnabled(!1).log(),(n=this.$Player$p_20)==null||n.setTimelineBlockingEnabled(t)}this.$Player$p_5.forEach(function(e){e.setEnableLiveheadCatchup(t)}),(e=this.$Player$p_19)==null||e.setEnableLiveheadCatchup(t)},i.$Player$p_94=function(){var t=this;if(this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&this.$Player$p_113(this.$Player$p_72)){var r;this.$Player$p_74=babelHelpers.extends({},this.$Player$p_74,{lang:(r=this.$Player$p_72)!=null?r:null,role:this.$Player$p_72!=null?"dub":null})}var a=this.$Player$p_102()[0];this.$Player$p_62=a&&a.canPredict()&&this.$Player$p_4.getBool("pdash_use_pdash_segmentlocator")||a&&a.canApproximateId()?new(o("oz-player/streams/OzPredictedSegmentLocator")).OzPredictedSegmentLocator({videoNode:this.$Player$p_3,liveLatencyManager:this.$Player$p_40,loggerProvider:this.$Player$p_16,dynamicVideoLibrary:this.$Player$p_65}):null;var i=this.$Player$p_2?[this.$Player$p_116({liveConfigsFromAudioStream:!0}),this.$Player$p_117()]:[this.$Player$p_118(),this.$Player$p_116({liveConfigsFromAudioStream:!1}),this.$Player$p_117()],l=[];return(e||(e=n("Promise"))).all(i).then(function(){var e=t.$Player$p_5.get("video"),n=t.$Player$p_5.get("audio"),r=t.$Player$p_5.get("caption");e&&l.push(e.getCurrentRepresentation()),n&&l.push(n.getCurrentRepresentation()),r&&l.push(r.getCurrentRepresentation()),l.forEach(function(e){t.$Player$p_10.addSubscriptions(e.addUpdateListener(function(){t.$Player$p_108("SegmentIndexesUpdated",l)}))}),t.$Player$p_108("InitialSegmentIndexes",l),t.$Player$p_3&&t.$Player$p_3.style&&(t.$Player$p_3.style.display=t.$Player$p_2?"none":"block"),t.$Player$p_73=t.$Player$p_74,t.emit("initialized")})},i.$Player$p_119=function(t){if(!t.getTimeRanges().length){this.$Player$p_16.getOperationLogger("playhead_adjustment").setInitiator("setup_initial_duration").setResult("failed").log();return}var e=t.getTimeRanges()[t.getTimeRanges().length-1].endTime;this.$Player$p_7.updateDuration(e,!0)},i.$Player$p_120=function(t){var e,n,o;this.$Player$p_23=new(r("oz-player/media_source/OzMediaSeekableRangeManager"))(this.$Player$p_7,this.$Player$p_4),this.$Player$p_119(t),(e=this.$Player$p_23)==null||e.setTimeRangeProvider(t),(n=this.$Player$p_19)==null||n.setTimeRangeProvider(t),(o=this.$Player$p_20)==null||o.setTimeRangeProvider(t)},i.$Player$p_118=function(){var e=this.$Player$p_102();if(!e.length)return r("oz-player/shims/OzMaybeNativePromise").reject(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"No video representations in the manifest",extra:{code:r("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()}}));var t=o("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),e);if(!t.length){var n=e.map(function(e){return e.getDisplayLabel()+"@"+e.getWidth()+"x"+e.getHeight()+"("+e.getMimeCodecs()+")"});return r("oz-player/shims/OzMaybeNativePromise").reject(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Restricted all video representations: "+n.join(", "),extra:{code:r("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()}}))}this.$Player$p_120(t[0]);var a=this.$Player$p_121(t);a&&this.$Player$p_4.getBool("enable_abr_logging")&&this.$Player$p_16.getOperationLogger("video_stream_setup_initial_representation_from_prefetch").setResult("success").setReason("player_initialized").setRepresentationID(a.getID()).setPreviousRepresentationID(null).setUserInfo({initialRepresentationIDs:JSON.stringify(this.$Player$p_25)}).setType("video").setInitiator("Player").log();var i=this.$Player$p_101(a||t[0]);return this.$Player$p_6.set("video",i),a||(a=i.getBestRepresentation()),this.$Player$p_99(a||t[0],"video")},i.$Player$p_102=function(){var e=this.$Player$p_9;if(!e)return[];var t=e.getVideoRepresentations();if(this.$Player$p_4.getBool("enable_lip_sync_abr_select_quality")&&this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&this.$Player$p_75){var n=e.getVideoRepresentationsByVariant(this.$Player$p_74);t=n.length>0?n:e.getVideoRepresentationsByVariant({lang:null,role:null})}var r=o("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),t);return t.filter(function(e){return r.includes(e)})},i.$Player$p_112=function(){var e=this.$Player$p_9;return e?this.$Player$p_4.getBool("enable_alternative_audio_tracks")?e.getAudioRepresentationsByVariant(this.$Player$p_74):e.getAudioRepresentations():[]},i.$Player$p_113=function(t){var e=this.$Player$p_9;if(!e)return!1;var n=e.getAudioRepresentations();if(t==null)return!0;if(this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&e.isStaticMpd()){var r=-1;return r=n.findIndex(function(e){return e.getLang()===t}),r>-1}return!1},i.$Player$p_116=function(t){var e=this,n=t.liveConfigsFromAudioStream,o=n===void 0?!1:n,a=s(this.$Player$p_9),i=a.getAudioRepresentations();o&&this.$Player$p_120(i[0]);var l=-1;if(this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&i.length>1&&a.isStaticMpd()&&this.$Player$p_72!=null&&(l=i.findIndex(function(t){return t.getLang()===e.$Player$p_72})),i.length){var u=l>-1?l:i.findIndex(function(e){return e.getLang()==null&&e.getRole()==null}),c=u>-1?u:0;return this.$Player$p_99(l>=0&&l<i.length?i[l]:this.$Player$p_122(i)||i[c],"audio")}return r("oz-player/shims/OzMaybeNativePromise").resolve()},i.$Player$p_117=function(){var e=s(this.$Player$p_9),t=e.getApplicationRepresentations();return t.length?this.$Player$p_99(t[0],"caption"):r("oz-player/shims/OzMaybeNativePromise").resolve()},i.getMpd=function(){return this.$Player$p_9},i.destroy=function(o){var t,a,i=this,l=this.$Player$p_16.getOperationLogger("unload").setInitiator(o).start();(t=this.$Player$p_64)==null||t.destroy(),this.$Player$p_97(),this.$Player$p_5.forEach(function(e){e.destroy()}),this.$Player$p_33&&(this.$Player$p_33.destroy(),this.$Player$p_33=null),this.$Player$p_5=new Map,this.$Player$p_10.release(),this.$Player$p_10.engage(),this.$Player$p_14.destroy(),this.$Player$p_19&&this.$Player$p_19.destroy(),this.$Player$p_40&&(this.$Player$p_40.destroy(),this.$Player$p_40=null),this.$Player$p_20&&(this.$Player$p_20.destroy(),this.$Player$p_20=null),this.$Player$p_48&&this.$Player$p_48.destroy(),this.$Player$p_61&&this.$Player$p_61.destroy(),this.$Player$p_13&&this.$Player$p_13.destroy(),this.$Player$p_52&&(this.$Player$p_52=null),this.$Player$p_7&&this.$Player$p_7.detach(),this.$Player$p_3.pause(),this.$Player$p_4.getBool("enable_revoke_object_url_on_destroy")&&URL.revokeObjectURL(this.$Player$p_3.src),this.$Player$p_3.setAttribute("src",""),this.$Player$p_3.removeAttribute("src"),this.$Player$p_3.removeAttribute("srcObject");var s=(e||(e=n("Promise"))).resolve();return typeof this.$Player$p_3.setMediaKeys=="function"&&(s=this.$Player$p_3.setMediaKeys(null)),this.$Player$p_21&&this.$Player$p_21.destroy(),this.$Player$p_32&&this.$Player$p_32.destroy(),this.$Player$p_22.destroy(),(a=this.$Player$p_23)==null||a.destroy(),this.$Player$p_50&&this.$Player$p_50.destroy(),this.$Player$p_67&&this.$Player$p_67.destroy(),l.log(),this.emit("destroyed"),s.catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,"Player.destroy","warn")}).then(function(){i.$Player$p_3.load()})},i.$Player$p_121=function(t){var e=this,n=t.find(function(t){return e.$Player$p_25.indexOf(t.getID())!==-1});return n||(n=r("oz-player/utils/getRepresentationInCache")(t,this.$Player$p_24)),n||null},i.$Player$p_122=function(t){var e=this,n,a=t.find(function(t){return e.$Player$p_25.indexOf(t.getID())!==-1});return a||(a=r("oz-player/utils/getRepresentationInCache")(t,this.$Player$p_24)),!a&&!((n=this.$Player$p_9)!=null&&n.isStaticMpd())&&t.length>1&&(a=o("oz-player/utils/OzIbrUtils").getInitialAudioRepresentation(t,this.$Player$p_4,this.$Player$p_16)),a||null},i.$Player$p_123=function(t){return null},i.$Player$p_85=function(t){var e=new(r("oz-player/parsers/OzMpdParser"))({config:this.$Player$p_4,ozParserContext:{mpdUrl:this.$Player$p_18,createXmlParser:this.$Player$p_89,customParsers:this.$Player$p_28,customRepresentationParsers:this.$Player$p_29,customSegmentTimelineParser:this.$Player$p_30},networkManager:this.$Player$p_13,perfLoggerProvider:this.$Player$p_16,drmManager:this.$Player$p_48,initialRepresentationIDs:this.$Player$p_25,blockedRepresentationsManager:this.$Player$p_67,enableAlternativeAudioTracks:this.$Player$p_4.getBool("enable_alternative_audio_tracks"),useManagedMediaSource:this.$Player$p_78}),n=e.parse(t);this.$Player$p_10.addSubscriptions(e.onError(this.$Player$p_11.emitError));var a=o("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),n.getVideoRepresentations());if(a.length>1){var i=o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(a[0].getMimeCodecs());this.$Player$p_76=!a.reduce(function(e,t){return e&&o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(t.getMimeCodecs())===i},!0)}return n},i.$Player$p_79=function(){var e=[];return this.$Player$p_17&&e.push(new(o("oz-player/loggings/OzDevConsolePerfLogger")).OzDevConsolePerfLoggerProvider),e},i.$Player$p_124=function(t,n){var e=this.$Player$p_5.get(n);return e?e.getRepresentationIDAtTime(t):null},i.getAudioRepresentationIDAtTime=function(t){return this.$Player$p_124(t,"audio")},i.getVideoRepresentationIDAtTime=function(t){return this.$Player$p_124(t,"video")},i.getCurrentVideoRepresentation=function(){return this.$Player$p_125("video")},i.getCurrentAudioRepresentation=function(){return this.$Player$p_125("audio")},i.getCurrentPlayingAudioTrackID=function(){var e=this.getCurrentAudioRepresentation();return e==null?void 0:e.getID()},i.$Player$p_125=function(t){var e,n=this.$Player$p_124(this.$Player$p_14.getCurrentTime(),t),r=this.$Player$p_9;if(!r)return null;var o=[];return t==="audio"?o=this.$Player$p_112():t==="video"&&(o=this.$Player$p_102()),(e=o.find(function(e){return e.getID()===n}))!=null?e:null},i.getSelectedVideoRepresentation=function(){var e=this.$Player$p_5.get("video");return e!=null?e.getCurrentRepresentation():null},i.getSelectedAudioRepresentation=function(){var e=this.$Player$p_5.get("audio");return e!=null?e.getCurrentRepresentation():null},i.getDebug=function(){var e=this,t=this.$Player$p_5.get("video"),n=this.$Player$p_5.get("audio"),r=this.$Player$p_5.get("caption"),o,a,i,l,u,c,d;if(t){var m,p;if(o=(m=t.getDebug())==null?void 0:m.MediaStreamAbrManager,a=(p=t.getDebug())==null?void 0:p.SourceBufferManager,a){var _;i=(_=a.getDebug())==null?void 0:_.SourceBuffer}}if(n){var f;if(l=(f=n.getDebug())==null?void 0:f.SourceBufferManager,l){var g;u=(g=l.getDebug())==null?void 0:g.SourceBuffer}}if(r){var h;if(c=(h=r.getDebug())==null?void 0:h.SourceBufferManager,c){var y;d=(y=c.getDebug())==null?void 0:y.SourceBuffer}}return{getManifest:function(){return s(e.$Player$p_9)},DashManifestParsed:this.$Player$p_9,VideoSourceStream:t,VideoAbrManager:o,VideoBufferManager:a,VideoSourceBuffer:i,AudioSourceStream:n,AudioBufferManager:l,AudioSourceBuffer:u,CaptionSourceStream:r,CaptionBufferManager:c,CaptionSourceBuffer:d}},i.injectExternalDebugEvent=function(t,n){this.$Player$p_108(t,n)},i.$Player$p_108=function(t,n){this.emit("debug/dashPlayerEvent",{detail:{type:t,event:n}})},i.$Player$p_82=function(){var e=this,t=new(r("oz-player/strategies/OzBufferingDetector"))(this.$Player$p_3,this.$Player$p_4.getLegacyConfig(),function(){return e.$Player$p_51?e.$Player$p_3.duration:1/0});return t.attachPerfLoggerProvider(this.$Player$p_16),this.$Player$p_10.addSubscriptions(t.addListener("enterBuffering",function(t){e.emit("enterBuffering",t)}),t.addListener("leaveBuffering",function(t){e.emit("leaveBuffering",t)})),t},i.$Player$p_103=function(){var e=this.$Player$p_52?this.$Player$p_52():{width:this.$Player$p_3.offsetWidth,height:this.$Player$p_3.offsetHeight};return e},i.getMpdUrl=function(){return this.$Player$p_18},i.$Player$p_98=function(t){var e=this;this.$Player$p_18=t;var n=this.$Player$p_9;if(n){n.updateLocation(t),this.$Player$p_43&&(this.$Player$p_10.releaseOne(this.$Player$p_43),this.$Player$p_43=null);var r=function(){e.$Player$p_43&&(e.$Player$p_10.releaseOne(e.$Player$p_43),e.$Player$p_43=null),e.$Player$p_5.forEach(function(t,r){var o=t.getCurrentRepresentation(),a=o.getDisplayLabel(),i=(r==="video"?e.$Player$p_102():n.getAudioRepresentations()).slice();if(r==="video"){var l=e.$Player$p_6.get(r);l&&l.updateRepresentations(e.$Player$p_102())}var s=i[0];i.forEach(function(e){var t=e.getDisplayLabel();t===a&&(s=e)}),t.switchRepresentation(s),t.restartLoopBody()})};this.$Player$p_43=n.addListener("updated",r),this.$Player$p_10.addSubscriptions(this.$Player$p_43)}else{this.$Player$p_60=!0;return}},i.getPerfLoggerProvider=function(){return this.$Player$p_16},i.getApproximateFBLSToPlayerDisplayLatency=function(){var e,t,n,r,o=Number((e=(t=this.$Player$p_9)==null?void 0:t.getCustomField("lastVideoFrameTs"))!=null?e:void 0),a=Number((n=(r=this.$Player$p_9)==null?void 0:r.getCustomField("currentServerTimeMs"))!=null?n:void 0),i=this.$Player$p_126(o,a),l=this.$Player$p_127(o,a);return{latencyFromClockSync:l,latencyFromMpdUpdate:i}},i.$Player$p_126=function(t,n){if(!this.$Player$p_14.getCurrentTime()||isNaN(t)||isNaN(n))return null;var e=0;this.$Player$p_58===t?e=(r("oz-player/shims/OzPerformance").now()-Number(this.$Player$p_59))/1e3:(this.$Player$p_59=r("oz-player/shims/OzPerformance").now(),this.$Player$p_58=t);var o=t/1e3+e-this.$Player$p_14.getCurrentTime();return o},i.$Player$p_127=function(t,n){var e;if(!this.$Player$p_14.getCurrentTime()||isNaN(t)||isNaN(n)||r("oz-player/networks/OzClientClock").getClientClockOffsetMs()==null||!r("oz-player/networks/OzClientClock").getClientClockOffsetMs())return null;var o=this.$Player$p_14.getCurrentTimeUpdateTime()+((e=r("oz-player/networks/OzClientClock").getClientClockOffsetMs())!=null?e:0),a=n,i=this.$Player$p_14.getCurrentTime()*1e3,l=t,s=(o-a-(i-l))/1e3;return s},i.$Player$p_80=function(){this.$Player$p_5.forEach(function(e){e.restartLoopBody();var t=e.getCurrentRepresentation();e.switchRepresentation(t)})},a})(r("oz-player/shims/OzEventEmitter"));l.default=m}),98);
__d("oz-player",["oz-player/Player"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/Player")}),98);/*FB_PKG_DELIM*/
__d("ErrorCodes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({LOGIN__TWO_FACTOR_SMS_CODE_REQUIRED:1348190,TWO_FACTOR_LOGIN__INVALIDCODE:3951006}),l=e;i.default=l}),66);
__d("FxAuthenticationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5227"),s=o("FalcoLoggerInternal").create("fx_authentication",e),u=s;l.default=u}),98);
__d("FXAuthenticationLogger",["FxAuthenticationFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.event,n=e.target_account_id,o=n===void 0?null:n,a=e.target_account_type,i=a===void 0?null:a,l={fx_auth_event:t,target_account_id:o,target_account_type:i};r("FxAuthenticationFalcoEvent").log(function(){return l})}l.logEvent=e}),98);
__d("IGDSRadioButtonGroup.react",["fbt","IGDSBox.react","IGDSRadioButtonGroupContext","IGDSTextVariants.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useMemo,d={radioButtonListBorder:{borderTopColor:"x5ur3kl",borderInlineEndColor:"x6usi7g",borderBottomColor:"x1bs97v6",borderInlineStartColor:"x18dxpii",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xt8cgyo",borderInlineEndWidth:"x128c8uf",borderBottomWidth:"x1co6499",borderInlineStartWidth:"xc5fred",paddingTop:"xexx8yu",paddingInlineEnd:"xv54qhq",paddingBottom:"x18d9i69",paddingInlineStart:"xf7dkkf",$$css:!0}},m=s._(/*BTDS*/"radio group");function p(e){var t,n=o("react-compiler-runtime").c(44),a=e.captions,i=e.children,l=e.direction,s=e.label,c=e.name,p=e.onChange,f=e.selectedValue,g=e.showBorder,h=l===void 0?"vertical":l,y=g===void 0?!1:g,C=y!=null?y:!1,b;n[0]!==p||n[1]!==f||n[2]!==C?(b={selectedValue:f,setSelectedValue:p,showGroupBorder:C},n[0]=p,n[1]=f,n[2]=C,n[3]=b):b=n[3];var v=b,S;if(n[4]!==c){var R;S=(R=c==null?void 0:c.toString())!=null?R:"",n[4]=c,n[5]=S}else S=n[5];var L;if(n[6]!==s){var E;L=(E=s==null?void 0:s.toString())!=null?E:"",n[6]=s,n[7]=L}else L=n[7];var k="IGDSRadioButtonGroup"+S+L,I;if(n[8]!==i||n[9]!==h){var T;n[11]!==h?(T=function(t,n){return u.createElement("div",babelHelpers.extends({},{0:{className:"x3aesyq"},1:{className:"xsag5q8 xz9dl7a"}}[(h==="vertical")<<0],{key:"IGDSRadioButtonGroup_child_"+n}),t)},n[11]=h,n[12]=T):T=n[12],I=u.Children.toArray(i).map(T),n[8]=i,n[9]=h,n[10]=I}else I=n[10];var D=I,x=y&&d.radioButtonListBorder,$;n[13]!==h||n[14]!==y?($={0:{},2:{className:"x1a8lsjc x889kno"},1:{className:"x78zum5 x1q0g3np xieb3on x1sy10c2"},3:{className:"x1a8lsjc x889kno x78zum5 x1q0g3np xieb3on x1sy10c2"}}[(h==="vertical"&&y===!0)<<1|(h==="horizontal")<<0],n[13]=h,n[14]=y,n[15]=$):$=n[15];var P;n[16]!==D||n[17]!==$?(P=u.jsx("div",babelHelpers.extends({},$,{children:D})),n[16]=D,n[17]=$,n[18]=P):P=n[18];var N;n[19]!==P||n[20]!==x?(N=u.jsx(r("IGDSBox.react"),{xstyle:x,children:P}),n[19]=P,n[20]=x,n[21]=N):N=n[21];var M=N,w;n[22]===Symbol.for("react.memo_cache_sentinel")?(w={className:"x7a106z x78zum5"},n[22]=w):w=n[22];var A;n[23]!==s?(A=u.jsx("div",babelHelpers.extends({},w,{children:u.jsx(o("IGDSTextVariants.react").IGDSTextLabel,{zeroMargin:!0,children:s})})),n[23]=s,n[24]=A):A=n[24];var F=A,O=a?3:5,B;n[25]!==a?(B=a==null?void 0:a.map(_),n[25]=a,n[26]=B):B=n[26];var W;n[27]!==O||n[28]!==B?(W=u.jsx(r("IGDSBox.react"),{marginBottom:O,children:B}),n[27]=O,n[28]=B,n[29]=W):W=n[29];var q=W,U=(t=s!=null?s:c)!=null?t:m,V;n[30]===Symbol.for("react.memo_cache_sentinel")?(V={className:"x1ejq31n x18oe1m7 x1sy0etr xstzfhl x7r5mf7 x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl"},n[30]=V):V=n[30];var H;n[31]!==q||n[32]!==s||n[33]!==F?(H=s!=null&&u.jsxs(u.Fragment,{children:[F,q]}),n[31]=q,n[32]=s,n[33]=F,n[34]=H):H=n[34];var G;n[35]!==k||n[36]!==c||n[37]!==M||n[38]!==U||n[39]!==H?(G=u.jsxs("div",babelHelpers.extends({"aria-label":U},V,{id:k,name:c,role:"radiogroup",children:[H,M]})),n[35]=k,n[36]=c,n[37]=M,n[38]=U,n[39]=H,n[40]=G):G=n[40];var z;return n[41]!==v||n[42]!==G?(z=u.jsx(r("IGDSRadioButtonGroupContext").Provider,{value:v,children:G}),n[41]=v,n[42]=G,n[43]=z):z=n[43],z}function _(e,t){return u.jsx(r("IGDSBox.react"),{marginTop:2,children:u.jsx(o("IGDSTextVariants.react").IGDSTextFootnote,{color:"secondaryText",zeroMargin:!0,children:e})},t)}_.displayName=_.name+" [from "+i.id+"]";var f=p;l.default=f}),226);
__d("IGWebCallWindowControllerLoader",["FBLogger","JSResourceForInteraction","Promise","asyncToGeneratorRuntime","getErrorSafe","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("RTWebCallWindowOpener").__setRef("IGWebCallWindowControllerLoader"),u=r("requireDeferred")("ZenonCallWindowController").__setRef("IGWebCallWindowControllerLoader"),c=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),d=(function(){function t(e,t){this.$1=null,this.$2=e,this.$3=t}var o=t.prototype;return o.init=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var t=yield(e||(e=n("Promise"))).all([u.load(),s.load()]),o=t[0],a=t[1];this.$1=new o(this.$2,{callWindowInitializerResource:this.$3,callWindowOpener:new a,uriBuilderResource:r("JSResourceForInteraction")("IGCallUriBuilder").__setRef("IGWebCallWindowControllerLoader")})}catch(e){r("FBLogger")("rtc_www").catching(r("getErrorSafe")(e)).warn("Failed to initialize call window controller")}});function o(){return t.apply(this,arguments)}return o})(),o.initCall=function(t){if(this.$1)return this.$1.initCall(t);throw new c},t})();d.ResourceNotReadyError=c,l.default=d}),98);
__d("ZenonCallInviteModelLoader",["BaseEventEmitter","Promise","asyncToGeneratorRuntime","emptyFunction","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("ZenonCallInviteModel").__setRef("ZenonCallInviteModelLoader"),u=r("requireDeferred")("delegateZenonCallInviteModel").__setRef("ZenonCallInviteModelLoader"),c=(function(t){function o(e){var n;return n=t.call(this)||this,n.$ZenonCallInviteModelLoader$p_1=null,n.getCurrentInvite=function(){return null},n.startListening=function(e){this.$ZenonCallInviteModelLoader$p_1=e},n.stopListening=function(){this.$ZenonCallInviteModelLoader$p_1=null},n.dismiss=r("emptyFunction"),n.accept=r("emptyFunction"),n.decline=r("emptyFunction"),n.$ZenonCallInviteModelLoader$p_2=e,n}babelHelpers.inheritsLoose(o,t);var a=o.prototype;return a.init=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield(e||(e=n("Promise"))).all([s.load(),u.load()]),r=t[0],o=t[1],a=new r(this.$ZenonCallInviteModelLoader$p_2);o(this,a),this.$ZenonCallInviteModelLoader$p_1!==null&&a.startListening(this.$ZenonCallInviteModelLoader$p_1)});function r(){return t.apply(this,arguments)}return r})(),o})(r("BaseEventEmitter"));l.default=c}),98);
__d("ZenonIncomingRingSDK",["BaseEventEmitter","RTWebIncomingRingConfiguration","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("ZenonParentCallsManager").__setRef("ZenonIncomingRingSDK"),s=[1,2,15,16],u=(function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,e.$ZenonIncomingRingSDK$p_1=[],e.$ZenonIncomingRingSDK$p_2=[],babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.init=function(n){var t=this;this.$ZenonIncomingRingSDK$p_3=n,e.onReady(function(e){t.callsManager==null&&(t.callsManager=new e(n));var r=t.callsManager;for(r.addListener("unsupportedRing",function(e){return t.emit("unsupportedRing",e)}),r.addListener("incomingRing",function(e){var n;e.actorID!=null&&!((n=t.$ZenonIncomingRingSDK$p_3)!=null&&n.enableIncomingActorCalls)||t.emit("incomingRing",e)}),r.addListener("ringCancel",function(e){return t.emit("ringCancel",e)}),r.initListeners(t.$ZenonIncomingRingSDK$p_1);t.$ZenonIncomingRingSDK$p_2.length>0;){var o=t.$ZenonIncomingRingSDK$p_2.shift();o!=null&&r.startOutgoingCallIntent(o.nonce,o.callParams)}})},r.initListeners=function(t){var e=this.callsManager;if(e!=null)e.initListeners(t);else{var n;(n=this.$ZenonIncomingRingSDK$p_1).push.apply(n,t)}},r.removeListeners=function(t){var e=this;if(this.callsManager!=null)this.callsManager.removeListeners(t);else{var n=function(n){e.$ZenonIncomingRingSDK$p_1=e.$ZenonIncomingRingSDK$p_1.filter(function(e){return e!==n})};for(var r of t)n(r)}},r.isCallSupported=function(t){switch(t.type){case"thread":if(this.$ZenonIncomingRingSDK$p_3&&s.includes(t.threadType)){var e;return(e=o("RTWebIncomingRingConfiguration").isSupportedClient())!=null?e:!1}break;default:return!1}return!1},r.startCallIntent=function(t,n){this.callsManager?this.callsManager.startOutgoingCallIntent(t,n):this.$ZenonIncomingRingSDK$p_2.push({callParams:n,nonce:t})},n})(r("BaseEventEmitter"));l.default=u}),98);
__d("IGWebPreCallContextSingleton",["FBLogger","IGWebCallWindowControllerLoader","JSResource","ZenonCallInviteModelLoader","ZenonIncomingRingSDK","cr:27495","getErrorSafe","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=!1,s;function u(e){if(!r("gkx")("25307"))return null;if(s!=null)return s;try{var t=new(r("ZenonIncomingRingSDK"));return s={callInviteModel:new(r("ZenonCallInviteModelLoader"))(t),callWindowController:new(r("IGWebCallWindowControllerLoader"))(e,r("JSResource")("IGWebCallWindowInitializer").__setRef("IGWebPreCallContextSingleton")),incomingRingSDK:t},s}catch(e){return r("FBLogger")("rtc_www").catching(r("getErrorSafe")(e)).mustfix("Pre-call context initialization failed! This breaks all calling!"),null}}function c(t){return r("gkx")("25307")?(e||(e=!0,r("promiseDone")(s.callInviteModel.init()),r("promiseDone")(s.callWindowController.init()),s.incomingRingSDK.init({enableIncomingActorCalls:!1,relayEnvironment:t}),r("promiseDone")(n("cr:27495").load(),function(e){s.incomingRingSDK.initListeners([new e])})),s):null}l.create=u,l.init=c}),98);
__d("IGWebPreCallProvider.react",["CometRelay","IGWebPreCallContext","IGWebPreCallContextSingleton","react","react-compiler-runtime","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(9),n=e.children,a=o("CometRelay").useRelayEnvironment(),i;t[0]!==a?(i=function(){return o("IGWebPreCallContextSingleton").create({relayEnvironment:a})},t[0]=a,t[1]=i):i=t[1];var l=r("useStable")(i),c,d;t[2]!==l||t[3]!==a?(c=function(){l&&(o("IGWebPreCallContextSingleton").init(a),l.callInviteModel.startListening({callsBlocked:!1}))},d=[l,a],t[2]=l,t[3]=a,t[4]=c,t[5]=d):(c=t[4],d=t[5]),u(c,d);var m;return t[6]!==n||t[7]!==l?(m=s.jsx(r("IGWebPreCallContext").Provider,{value:l,children:n}),t[6]=n,t[7]=l,t[8]=m):m=t[8],m}l.default=c}),98);
__d("IgtsDefaultsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4193"),s=o("FalcoLoggerInternal").create("igts_defaults",e),u=s;l.default=u}),98);
__d("InstagramGdprConsentFlowActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4180"),s=o("FalcoLoggerInternal").create("instagram_gdpr_consent_flow_actions",e),u=s;l.default=u}),98);
__d("InstagramGdprConsentFlowEntryFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4187"),s=o("FalcoLoggerInternal").create("instagram_gdpr_consent_flow_entry",e),u=s;l.default=u}),98);
__d("InstagramGdprConsentFlowFinishedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4188"),s=o("FalcoLoggerInternal").create("instagram_gdpr_consent_flow_finished",e),u=s;l.default=u}),98);
__d("InstagramGdprConsentFlowViewFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4189"),s=o("FalcoLoggerInternal").create("instagram_gdpr_consent_flow_view",e),u=s;l.default=u}),98);
__d("InstagramGenericSettingStrings",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Settings saved."),u=s._(/*BTDS*/"There was a problem while saving your settings."),c=s._(/*BTDS*/"Something went wrong. Please try again later.");l.GENERIC_SETTINGS_SAVED=e,l.GENERIC_SETTINGS_ERROR=u,l.GENERIC_ERROR=c}),226);
__d("InstagramSignupQPL",["QPLUserFlow"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$2=!1,this.$1=e}var t=e.prototype;return t.$3=function(t,n){r("QPLUserFlow").addPoint(this.$1,t,n)},t.isActive=function(){return this.$2},t.start=function(t){t===void 0&&(t={}),this.$2=!0,r("QPLUserFlow").start(this.$1,babelHelpers.extends({cancelExisting:!0},t))},t.endSuccess=function(){this.$2&&(r("QPLUserFlow").endSuccess(this.$1),this.$2=!1)},t.endFailure=function(t,n){this.$2&&(r("QPLUserFlow").endFailure(this.$1,t,{error:n}),this.$2=!1)},t.endCancel=function(t,n){this.$2&&(r("QPLUserFlow").endCancel(this.$1,{annotations:{string:{cancel_type:n}},cancelReason:t}),this.$2=!1)},t.endCancelSeamlessLogin=function(){this.endCancel(4,"valid_credentials_seamless_login")},t.endCancelSmsFallback=function(){this.endCancel(4,"sms_fallback")},t.endFailureFormValidationError=function(){this.endFailure("form_validation_error")},t.addPointSignupAttempt=function(){this.$3("signup_attempt")},e})();l.default=e}),98);
__d("InstagramWebRegistrationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5678"),s=o("FalcoLoggerInternal").create("instagram_web_registration",e),u=s;l.default=u}),98);
__d("PolarisAPIFXCALAuthLogin",["PolarisEncryptionHelper","PolarisInstapi","asyncToGeneratorRuntime","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){var i={requestUUID:r("uuidv4")()},l=babelHelpers.extends({},yield o("PolarisEncryptionHelper").getEncryptedParam("password",t,i),{etoken:a,username:e});return o("PolarisInstapi").apiPost("/api/v1/web/fxcal/auth/login/ajax/",{body:l}).then(function(e){return e.data})}),s.apply(this,arguments)}l.fxcalAuthLogin=e}),98);
__d("PolarisAPIFetchParentalConsent",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(){return o("PolarisInstapi").apiGet("/api/v1/web/consent/fetch_parental_consent_reg/").then(function(e){return e.data})}l.fetchParentalConsent=e}),98);
__d("PolarisAPIFetchUnconsentedConsents",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(){return o("PolarisInstapi").apiGet("/api/v1/web/consent/get/roadblocking/").then(function(e){return e.data})}l.fetchUnconsentedConsents=e}),98);
__d("PolarisAPIFxcalAuthTwoFactorLogin",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r,a,i,l){var s={app_id:i,etoken:l,identifier:e,trust_signal:t,two_fac_code:r,username:n,verification_method:a};return o("PolarisInstapi").apiPost("/api/v1/web/fxcal/auth/two_fac_login/ajax/",{body:s}).then(function(e){return e.data})}l.fxcalAuthTwoFactorLogin=e}),98);
__d("PolarisAPIGetUsernameSuggestions",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n={email:e,name:t};return o("PolarisInstapi").apiPost("/api/v1/web/accounts/username_suggestions/",{body:n}).then(function(e){return e.data})}l.getUsernameSuggestions=e}),98);
__d("PolarisAPILoginTwoFactor",["PolarisInstapi","vulture"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i,l,s){s===void 0&&(s=!1),r("vulture")("kwZl9KGCfBhPPy40rSuVgtC4-NM=");var u={identifier:e,isPrivacyPortalReq:s,queryParams:l,trust_signal:t,username:n,verification_method:i,verificationCode:a};return o("PolarisInstapi").apiPost("/api/v1/web/accounts/login/ajax/two_factor/",{body:u}).then(function(e){return e.data})}l.loginTwoFactor=e}),98);
__d("PolarisAPIRequestSignupSMSCode",["PolarisAPIConstants","PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r={captcha_token:n,client_id:e,phone_number:t};return o("PolarisInstapi").apiPost("/api/v1/web/accounts/send_signup_sms_code_ajax/",{body:r},{options:{timeout:o("PolarisAPIConstants").SIGNUP_TIMEOUT}}).then(function(e){return e.data})}l.requestSignupSMSCode=e}),98);
__d("PolarisAPISendAccountRecoveryEmail",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("PolarisInstapi").apiPost("/api/v1/web/accounts/send_account_recovery_email_ajax/",{body:{query:e}}).then(function(e){return e.data})}l.sendAccountRecoveryEmail=e}),98);
__d("PolarisAPISendParentalConsentEmail",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n={current_screen_key:t,guardian_email:e};return o("PolarisInstapi").apiPost("/api/v1/web/consent/send_parental_consent_email/",{body:n}).then(function(e){return e.data})}l.sendParentalConsentEmail=e}),98);
__d("PolarisAPISendTwoFactorLoginSms",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n={identifier:t,username:e};return o("PolarisInstapi").apiPost("/api/v1/web/accounts/send_two_factor_login_sms/",{body:n}).then(function(e){return e.data})}l.sendTwoFactorLoginSms=e}),98);
__d("PolarisAPISendTwoFactorLoginWhatsappMutation_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="10060380564020189"}),null);
__d("PolarisAPISendTwoFactorLoginWhatsappMutation.graphql",["PolarisAPISendTwoFactorLoginWhatsappMutation_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"request_data",variableName:"input"}],concreteType:"XDTSendTwoFactorLoginResponse",kind:"LinkedField",name:"xdt_send_two_factor_login_whatsapp",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTTwoFactorLoginInfo",kind:"LinkedField",name:"two_factor_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"obfuscated_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_messenger_code_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_new_login_screen",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sms_not_allowed_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sms_two_factor_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totp_two_factor_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"two_factor_identifier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"whatsapp_two_factor_on",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"two_factor_required",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"PolarisAPISendTwoFactorLoginWhatsappMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"PolarisAPISendTwoFactorLoginWhatsappMutation",selections:t},params:{id:n("PolarisAPISendTwoFactorLoginWhatsappMutation_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_send_two_factor_login_whatsapp"]},name:"PolarisAPISendTwoFactorLoginWhatsappMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("PolarisAPISendTwoFactorLoginWhatsapp",["CometRelay","PolarisAPISendTwoFactorLoginWhatsappMutation.graphql","PolarisRelayEnvironment","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e!==void 0?e:e=n("PolarisAPISendTwoFactorLoginWhatsappMutation.graphql");function c(e,t){return new(s||(s=n("Promise")))(function(n,a){o("CometRelay").commitMutation(r("PolarisRelayEnvironment"),{mutation:u,onCompleted:function(t,r){if(r&&r.length){a(r);return}n(t)},onError:function(t){a([t])},variables:{input:{identifier:t,username:e}}})})}l.sendTwoFactorLoginWhatsapp=c}),98);
__d("PolarisAPISetPrivateAccount",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){var a={is_private:e};return t===!0&&(a.bypass_rate_limit_dialog="1"),n===!0&&(a.privacy_nux_action=!0),r===!0&&(a.using_confirmation_dialog=!0),o("PolarisInstapi").apiPost("/api/v1/web/accounts/set_private/",{body:a}).then(function(e){return babelHelpers.extends({},e.data,{status:e.status})})}l.setPrivateAccount=e}),98);
__d("PolarisAPISignup",["invariant","PolarisAPIConstants","PolarisEncryptionHelper","PolarisInstapi","PolarisPasswordEncryptionLogger","WebSession","asyncToGeneratorRuntime","uuidv4"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e,t,n){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=e.email,i=e.password,l=e.phoneNumber,u=e.username;(a!=null||l!=null||u!=null)&&i!=null||s(0,51789);var c={requestUUID:r("uuidv4")()},d=babelHelpers.extends({},yield o("PolarisEncryptionHelper").getEncryptedParam("password",i,c),{captcha:e.captcha,day:e.day,email:a,failed_birthday_year_count:e.failedBirthdayYearCount,first_name:e.fullName,month:e.month,phone_number:typeof e.phoneNumber=="string"?e.phoneNumber:null,subno_key:e.subnoKey,username:e.username,year:e.year});typeof e.smsCode=="string"&&(d.sms_code=e.smsCode),typeof e.clientId=="string"&&(d.client_id=e.clientId),typeof e.seamlessLoginEnabled=="string"&&(d.seamless_login_enabled=e.seamlessLoginEnabled),typeof e.gdpr_s=="string"&&(d.gdpr_s=e.gdpr_s),typeof e.tosVersion=="string"&&(d.tos_version=e.tosVersion),typeof e.phoneId=="string"&&(d.phone_id=e.phoneId),typeof e.optIntoOneTap=="boolean"&&(d.opt_into_one_tap=e.optIntoOneTap),typeof e.fbToken=="string"&&(d.big_blue_token=e.fbToken),typeof e.emailSignupCode=="string"&&(d.force_sign_up_code=e.emailSignupCode),typeof e.failedBirthdayYearCount=="string"&&(d.failed_birthday_year_count=e.failedBirthdayYearCount),t?d.use_new_suggested_user_name="true":d.extra_session_id=o("WebSession").getId();var m=t?"/api/v1/web/accounts/web_create_ajax/attempt/":"/api/v1/web/accounts/web_create_ajax/";return o("PolarisPasswordEncryptionLogger").logEncryptedPayloadSend(m,d,c),o("PolarisInstapi").apiPost(m,{body:d},{before:n,options:{timeout:o("PolarisAPIConstants").SIGNUP_TIMEOUT}}).then(function(e){return e.data})}),u.apply(this,arguments)}function c(t){return e(t,!1)}function d(t,n){return e(t,!0,n)}l.signup=c,l.signupDryRun=d}),98);
__d("PolarisAPISkipParentalConsent",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t={action:"skip",current_screen_key:e};return o("PolarisInstapi").apiPost("/api/v1/web/consent/update/",{body:t}).then(function(e){return e.data})}l.skipParentalConsent=e}),98);
__d("PolarisAPIUpdateConsentDob",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("PolarisInstapi").apiPost("/api/v1/web/consent/update_dob/",{body:babelHelpers.extends({},e,{current_screen_key:t})}).then(function(e){return e.data})}l.updateConsentDob=e}),98);
__d("PolarisAPIUpdateConsentState",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("PolarisInstapi").apiPost("/api/v1/web/consent/update/",{body:{current_screen_key:t,updates:JSON.stringify(e)}}).then(function(e){return e.data})}l.updateConsentState=e}),98);
__d("PolarisAPIUpdateNewUserConsent",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=e.dob,r=e.gdpr_s,a=e.updates,i=babelHelpers.extends({current_screen_key:t},n,{gdpr_s:r});return a&&(i.updates=JSON.stringify(a)),o("PolarisInstapi").apiPost("/api/v1/web/consent/new_user_flow/",{body:i}).then(function(e){return e.data})}l.updateNewUserConsent=e}),98);
__d("PolarisAPIValidateSignupSMSCode",["PolarisAPIConstants","PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return o("PolarisInstapi").apiPost("/api/v1/web/accounts/validate_signup_sms_code_ajax/",{body:{client_id:e,phone_number:t,sms_code:n}},{options:{timeout:o("PolarisAPIConstants").SIGNUP_TIMEOUT}}).then(function(e){return e.data})}l.validateSignupSMSCode=e}),98);
__d("PolarisAPIVerifyAge",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("PolarisInstapi").apiPost("/api/v1/web/consent/check_age_eligibility/",{body:e}).then(function(e){return e.data})}l.verifyAge=e}),98);
__d("PolarisRegistrationLogger",["IGNavChain","InstagramWebRegistrationFalcoEvent","PolarisFBConnectStatus","PolarisLogger","PolarisPigeonLogger","PolarisUA","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=o("PolarisLogger").getExtra(e),a=o("PolarisUA").isMobile()?"mobile":"desktop",i=o("PolarisFBConnectStatus").getFBConnectStatusMapping(e.fbconnect_status),l=o("PolarisPigeonLogger").getState(),s={account_creation_error_type:e.account_creation_error_type,confirmation_code:e.confirmation_code,confirmation_error_type:e.confirmation_error_type,contactpoint:e.contactpoint,contactpoint_type:e.contactpoint_type,error_message:e.error_message,event_name:e.event_name,fbconnect_status:i,frontend_env:n.frontend_env,ig_userid:n.ig_userid,input_error_type:e.input_error_type,module:e.containermodule,nav_chain:(t=r("IGNavChain").getInstance())==null?void 0:t.getNavChainForSend(),pigeon_session_id:l.session.sessionID,platform:a,referral_source:e.referral_source,rollout_hash:n.rollout_hash,step:e.step,username:e.username};e.event_name==="account_creation_success"&&r("gkx")("6383")?r("InstagramWebRegistrationFalcoEvent").logCritical(function(){return s}):r("InstagramWebRegistrationFalcoEvent").log(function(){return s})}function s(t){e(babelHelpers.extends({},t,{containermodule:"multiStepSignupPage",referral_source:t.referral_source}))}l.logRegistrationEvent=e,l.logMultiStepRegistrationEvent=s}),98);
__d("PolarisAgeCollectionHelpers",["fbt","PolarisAuthStrings","PolarisConsentConstants","PolarisDateHelpers","PolarisWebStorage"],(function(t,n,r,o,a,i,l,s){"use strict";var e=36e5,u=12*e,c="ig_gdpr_signup",d="ig_failed_birthday_year_count",m="https://help.instagram.com/155833707900388",p="https://help.instagram.com/2387676754836493",_=s._(/*BTDS*/"Birthday"),f=s._(/*BTDS*/"Birthdays"),g=s._(/*BTDS*/"Birthdays on Instagram"),h=s._(/*BTDS*/"Providing your date of birth improves the features and ads that you see and helps us keep the Instagram community safe. You can find your date of birth in your personal information account settings."),y=s._(/*BTDS*/"Learn more"),C=s._(/*BTDS*/"Birthday cupcake"),b=s._(/*BTDS*/"We couldn't create an account for you");function v(e){return o("PolarisDateHelpers").getAge(e)>=o("PolarisConsentConstants").MIN_SIGNUP_ATTEMPT_AGE?"":o("PolarisAuthStrings").YOU_NEED_TO_PROVIDE_BIRTHDAY_TEXT}function S(e){return o("PolarisDateHelpers").getAge(e)<o("PolarisConsentConstants").MIN_SIGNUP_ATTEMPT_AGE}function R(e){return o("PolarisDateHelpers").getAge(e)>=o("PolarisConsentConstants").MIN_ADULT_AGE}function L(e){return o("PolarisDateHelpers").getAge(e)<o("PolarisConsentConstants").MIN_INSTAGRAM_AGE}function E(e){return o("PolarisDateHelpers").getAge(e)<o("PolarisConsentConstants").MIN_SIGNUP_ATTEMPT_AGE}function k(e,t){return o("PolarisDateHelpers").dateTypeToDate(e)>o("PolarisDateHelpers").dateTypeToDate(t)}function I(){var e=r("PolarisWebStorage").getLocalStorage();if(e){var t=e.getItem(c);if(t!=null){var n=JSON.parse(t),o=0,a=null;return n.count!=null&&(o=Number(n.count)),n.timestamp!=null&&(a=Number(n.timestamp)),{count:o,timestamp:a}}}}function T(){var e=I();return e!=null?e.count:0}function D(){var e=I();return e!=null?e.timestamp:null}function x(e){e===void 0&&(e=Date.now());var t=T(),n=t+1,o=JSON.stringify({count:n,timestamp:e}),a=r("PolarisWebStorage").getLocalStorage();a&&r("PolarisWebStorage").setItemGuarded(a,c,o)}function $(e){e===void 0&&(e=Date.now());var t=D();if(t!=null&&e-t>u){var n=r("PolarisWebStorage").getLocalStorage();n&&n.removeItem(c)}}function P(e){var t=o("PolarisDateHelpers").dateStringToDateType(e);return t.year}function N(e){return e>=o("PolarisDateHelpers").MIN_YEAR&&e<=o("PolarisDateHelpers").MAX_YEAR}function M(e){var t=P(e),n=r("PolarisWebStorage").getLocalStorage();if(n&&N(t)){var o,a=JSON.parse(w()),i=(o=a[t])!=null?o:"0";a[t]=(parseInt(i,10)+1).toString(),r("PolarisWebStorage").setItemGuarded(n,d,JSON.stringify(a))}}function w(){var e=r("PolarisWebStorage").getLocalStorage();if(e){var t;return(t=e.getItem(d))!=null?t:"{}"}return"{}"}function A(){return T()>=o("PolarisConsentConstants").MAX_UNDER_AGE_SIGNUP_ATTEMPTS}function F(){return!1}l.AGE_SIGNUP_ATTEMPT_COOLDOWN=u,l.DATA_POLICY_LINK=m,l.BIRTHDAY_WHY_LINK=p,l.BIRTHDAY=_,l.BIRTHDAYS_HEADER=f,l.BIRTHDAYS_ON_IG_TITLE=g,l.BIRTHDAYS_ON_IG_BODY=h,l.LEARN_MORE=y,l.BIRTHDAY_ICON_ALT_TEXT=C,l.WE_COULDNT_CREATE_AN_ACC=b,l.getDOBInvalidInputMessage=v,l.isDOBInputAttemptDisabled=S,l.isUserOfAge=R,l.isUserUnderMinimumAge=L,l.isUserUnderAgeCheckpoint=E,l.isStatedAgeLowerThanTenure=k,l.getNumInvalidAgeAttempts=T,l.getLastAgeAttemptTimestamp=D,l.incrementNumInvalidAgeAttempts=x,l.maybeCooldownAgeAttempt=$,l.getYearFromBirthdayString=P,l.isValidYear=N,l.saveAgeWrongAttemptSignal=M,l.getFailedBirthdayYearCount=w,l.isAgeBlockedFromSignup=A,l.shouldShowAccountPrivacyScreen=F}),226);
__d("PolarisConsentLogger",["InstagramGdprConsentFlowActionsFalcoEvent","InstagramGdprConsentFlowEntryFalcoEvent","InstagramGdprConsentFlowFinishedFalcoEvent","InstagramGdprConsentFlowViewFalcoEvent","PolarisLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){r("InstagramGdprConsentFlowEntryFalcoEvent").log(function(){return o("PolarisLogger").getExtra(e)})}function s(e){r("InstagramGdprConsentFlowActionsFalcoEvent").log(function(){return o("PolarisLogger").getExtra(e)})}function u(e){r("InstagramGdprConsentFlowViewFalcoEvent").log(function(){return o("PolarisLogger").getExtra(e)})}function c(e){r("InstagramGdprConsentFlowFinishedFalcoEvent").log(function(){return o("PolarisLogger").getExtra(e)})}function d(e){}function m(e){}l.logConsentFlowEntry=e,l.logConsentAction=s,l.logConsentView=u,l.logConsentFlowFinished=c,l.logConsentEmailSuccess=d,l.logConsentEmailFailure=m}),98);
__d("PolarisEmailValidator",[],(function(t,n,r,o,a,i){"use strict";var e=/^(([^<>()\[\]\\.,;:\s@\"]+(\.[^<>()\[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function l(t){return e.test(t.toLowerCase())}i.default=l}),66);
__d("PolarisConsentActions",["invariant","FBLogger","PolarisAPIFetchParentalConsent","PolarisAPIFetchUnconsentedConsents","PolarisAPISendParentalConsentEmail","PolarisAPISkipParentalConsent","PolarisAPIUpdateConsentDob","PolarisAPIUpdateConsentState","PolarisAPIUpdateNewUserConsent","PolarisAgeCollectionHelpers","PolarisConsentLogger","PolarisConsentStrings.react","PolarisConsentTypes","PolarisEmailValidator","PolarisGenericStrings","PolarisIsLoggedIn","PolarisNavigationUtils","PolarisRoutes","PolarisSignupActionSignup","Promise","browserHistory_DO_NOT_USE","nullthrows"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(e,t,n){if(n===void 0&&(n=o("PolarisConsentStrings.react").CONSENTS_FINISHED_TEXT),e.screen_key&&e.screen_key===o("PolarisConsentTypes").ConsentScreenKeys.FINISHED){if(o("PolarisConsentLogger").logConsentFlowFinished(v(babelHelpers.extends({},t,{isNewUserFlow:!1}))),t.entrypointType===o("PolarisConsentTypes").ConsentEntrypoints.BLOCK){var r=o("browserHistory_DO_NOT_USE").getQuery(o("browserHistory_DO_NOT_USE").browserHistory);r.next?r.next.startsWith("instagram://")?o("browserHistory_DO_NOT_USE").redirect(r.next):o("PolarisNavigationUtils").redirectToNextParam():o("browserHistory_DO_NOT_USE").browserHistory.push("/")}return{toast:{text:n}}}return{}}function c(){return function(e,t){e({type:"LOAD_TERMS_UNBLOCK_PAGE"}),o("PolarisConsentLogger").logConsentView(babelHelpers.extends({},v(babelHelpers.extends({},t().consent,{isNewUserFlow:!1})),{stage:"gdpr_block_screen"}))}}function d(e){return function(t,n){e===o("PolarisConsentTypes").ConsentEntrypoints.BLOCK&&o("PolarisConsentLogger").logConsentAction(babelHelpers.extends({},v(babelHelpers.extends({},n().consent,{isNewUserFlow:!1})),{action:"next",stage:"gdpr_block_screen"})),t({entrypointType:e,type:"FETCH_CONSENTS_REQUESTED"}),o("PolarisConsentLogger").logConsentFlowEntry(v(babelHelpers.extends({},n().consent,{isNewUserFlow:!1})));var a=e===o("PolarisConsentTypes").ConsentEntrypoints.REG?o("PolarisAPIFetchParentalConsent").fetchParentalConsent:o("PolarisAPIFetchUnconsentedConsents").fetchUnconsentedConsents;return a().then(function(e){t({consents:e.contents,primaryButtonText:e.primary_button_text,screenKey:e.screen_key,tosVersion:e.tos_version,type:"FETCH_CONSENTS_SUCCESS"})}).catch(function(o){r("FBLogger")("ig_web","consent_fetch_failed").catching(o).warn("failed to fetch consents %s for entrypoint %s",JSON.stringify(n().consent),e),t({type:"FETCH_CONSENTS_FAILED"})})}}function m(t){return function(r,a){if(t.screen_key===o("PolarisConsentTypes").ConsentScreenKeys.FINISHED||t.screen_key===o("PolarisConsentTypes").ConsentScreenKeys.PARENTAL_CONSENT){var i=a().signup.signupCredentials;i||s(0,50425),o("PolarisConsentLogger").logConsentFlowFinished(v(babelHelpers.extends({},a().consent,{isNewUserFlow:!0}))),r(y());var l={};return t.screen_key===o("PolarisConsentTypes").ConsentScreenKeys.PARENTAL_CONSENT&&(l.forceRedirectUrl=""+o("PolarisRoutes").TERMS_START_PATH+o("PolarisConsentTypes").ConsentEntrypoints.REG),r(o("PolarisSignupActionSignup").signup(babelHelpers.extends({},i,{emailOrPhone:i.emailOrPhone!=null&&i.emailOrPhone!==""?i.emailOrPhone:i.phoneNumber!=null&&i.phoneNumber!==""?i.phoneNumber:i.email,gdpr_s:t.gdpr_s}),"gdpr",l))}else t.screen_key===o("PolarisConsentTypes").ConsentScreenKeys.UNDER_13&&o("PolarisAgeCollectionHelpers").incrementNumInvalidAgeAttempts();return(e||(e=n("Promise"))).resolve()}}function p(){return function(e){e({entrypointType:o("PolarisConsentTypes").ConsentEntrypoints.REG,type:"FETCH_CONSENTS_REQUESTED"}),e({consents:{},primaryButtonText:o("PolarisGenericStrings").OK_TEXT,screenKey:o("PolarisConsentTypes").ConsentScreenKeys.UNDER_13,type:"FETCH_CONSENTS_SUCCESS"})}}function _(e){return function(t,n){var r=!o("PolarisIsLoggedIn").isLoggedIn(),a=n().consent,i=a.gdpr_s,l=a.screenKey;return l||s(0,50424),t({type:"UPDATE_CONSENT_REQUESTED"}),r?o("PolarisAPIUpdateNewUserConsent").updateNewUserConsent({gdpr_s:i,updates:e},l).then(function(e){t(m(e)),t({consents:e.contents,gdpr_s:e.gdpr_s,primaryButtonText:e.primary_button_text,screenKey:e.screen_key,tosVersion:e.tos_version,type:"UPDATE_CONSENT_SUCCESS"})}).catch(function(){t({type:"UPDATE_CONSENT_FAILED"})}):o("PolarisAPIUpdateConsentState").updateConsentState(e,l).then(function(e){t(babelHelpers.extends({consents:e.contents,primaryButtonText:e.primary_button_text,screenKey:e.screen_key,tosVersion:e.tos_version,type:"UPDATE_CONSENT_SUCCESS"},u(e,n().consent)))}).catch(function(){t({type:"UPDATE_CONSENT_FAILED"})})}}function f(e){return function(t,n){var r=!o("PolarisIsLoggedIn").isLoggedIn(),a=n().consent,i=a.gdpr_s,l=a.screenKey;return l||s(0,50424),t({type:"UPDATE_CONSENT_DOB_REQUESTED"}),r?o("PolarisAPIUpdateNewUserConsent").updateNewUserConsent({dob:e,gdpr_s:i},l).then(function(e){t(m(e)),t({consents:e.contents,gdpr_s:e.gdpr_s,primaryButtonText:e.primary_button_text,screenKey:e.screen_key,tosVersion:e.tos_version,type:"UPDATE_CONSENT_DOB_SUCCESS"})}).catch(function(e){t({errorMessage:e.message,type:"UPDATE_CONSENT_DOB_FAILED"})}):o("PolarisAPIUpdateConsentDob").updateConsentDob(e,l).then(function(e){t(babelHelpers.extends({consents:e.contents,primaryButtonText:e.primary_button_text,screenKey:e.screen_key,tosVersion:e.tos_version,type:"UPDATE_CONSENT_DOB_SUCCESS"},u(e,n().consent)))}).catch(function(e){t({errorMessage:e.message,type:"UPDATE_CONSENT_DOB_FAILED"})})}}function g(t){return function(a,i){var l=i().consent,c=l.screenKey,d=l.sessionId;return c||s(0,50424),a({type:"SEND_PARENTAL_CONSENT_EMAIL_REQUESTED"}),r("PolarisEmailValidator")(t)?o("PolarisAPISendParentalConsentEmail").sendParentalConsentEmail(t,c).then(function(e){o("PolarisConsentLogger").logConsentEmailSuccess({module:"instagram_terms_flow",session_id:d}),a(babelHelpers.extends({consents:e.contents,primaryButtonText:e.primary_button_text,screenKey:e.screen_key,tosVersion:e.tos_version,type:"SEND_PARENTAL_CONSENT_EMAIL_SUCCESS"},u(e,i().consent,o("PolarisConsentStrings.react").EMAIL_SENT_CONSENTS_FINISHED_TEXT)))}).catch(function(e){a({errorMessage:e.message,type:"SEND_PARENTAL_CONSENT_EMAIL_FAILED"}),o("PolarisConsentLogger").logConsentEmailFailure({module:"instagram_terms_flow",reason:e.message,session_id:d})}):(o("PolarisConsentLogger").logConsentEmailFailure({module:"instagram_terms_flow",reason:o("PolarisConsentStrings.react").INVALID_EMAIL_TEXT,session_id:d}),a({errorMessage:o("PolarisConsentStrings.react").INVALID_EMAIL_TEXT,type:"SEND_PARENTAL_CONSENT_EMAIL_FAILED"}),(e||(e=n("Promise"))).resolve())}}function h(){return function(e,t){var n=t().consent.screenKey;return n||s(0,50424),e({type:"SKIP_PARENTAL_CONSENT_REQUESTED"}),o("PolarisAPISkipParentalConsent").skipParentalConsent(n).then(function(n){e(babelHelpers.extends({consents:n.contents,primaryButtonText:n.primary_button_text,screenKey:n.screen_key,tosVersion:n.tos_version,type:"SKIP_PARENTAL_CONSENT_SUCCESS"},u(n,t().consent)))}).catch(function(t){e({errorMessage:t.message,type:"SKIP_PARENTAL_CONSENT_FAILED"})})}}function y(){return{type:"CLOSE_CONSENT_MODAL"}}function C(e){return{email:e,type:"PARENTAL_EMAIL_FIELD_CHANGE"}}function b(e){return{dob:e,type:"DOB_FIELD_CHANGE"}}function v(e){return{entry_point:r("nullthrows")(e.entrypointType),module:"instagram_terms_flow",session_id:r("nullthrows")(e.sessionId),user_state:e.isNewUserFlow?"new":"existing"}}l.loadTermsUnblockPage=c,l.loadConsents=d,l.checkNewUserStatus=m,l.handleAgeSignupBlocked=p,l.updateConsent=_,l.updateConsentDob=f,l.sendParentalConsentEmail=g,l.skipParentalConsent=h,l.closeConsentModal=y,l.parentEmailFieldChange=C,l.dobFieldChange=b,l.getDataForLogger=v}),98);
__d("PolarisAuthLimitedRegistrationHelpers",["PolarisConfig","YouthRegulationConfig"],(function(t,n,r,o,a,i,l){"use strict";var e=function(){var e=r("YouthRegulationConfig").config;return!!(e!=null&&e!=null&&e.should_block_registration)},s=function(){return o("PolarisConfig").getCountryCode()==="KR"};l.hasRestrictedRegistration=e,l.shouldShowSouthKoreaTOS=s}),98);
__d("PolarisSignupAPI",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("PolarisInstapi").apiPost("/api/v1/accounts/check_confirmation_code/",{body:e}).then(function(e){return e.data})}function s(e){return o("PolarisInstapi").apiPost("/api/v1/accounts/send_verify_email/",{body:e}).then(function(e){return e.data})}l.checkEmailConfirmationCode=e,l.sendVerifyEmail=s}),98);
__d("PolarisSignupActionConstants",[],(function(t,n,r,o,a,i){"use strict";var e=3;i.VALID_CREDENTIALS_RESPONSE_CODE=e}),66);
__d("PolarisSignupDryRunExitError",["Promise"],(function(t,n,r,o,a,i){"use strict";var e;function l(){var t=new Error;return t._dryRunEarlyExit=!0,(e||(e=n("Promise"))).reject(t)}i.dryRunExitError=l}),66);
__d("PolarisSignupGetAPISignupFields",["PolarisAgeCollectionHelpers","PolarisDateHelpers"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=e.birthday!=null?o("PolarisDateHelpers").dateStringToDateType(e.birthday):{};return babelHelpers.extends({},t,{day:n.day!=null?String(n.day):void 0,failedBirthdayYearCount:o("PolarisAgeCollectionHelpers").getFailedBirthdayYearCount(),fullName:e.fullName,month:n.month!=null?String(n.month):void 0,optIntoOneTap:e.optIntoOneTap,password:e.password,username:e.username,year:n.year!=null?String(n.year):void 0})}l.getAPISignupFields=e}),98);
__d("PolarisLoginActionLogin",["FBLogger","PolarisLoginActionBaseLogin","PolarisOneTapLogin","PolarisRedirectHelper","PolarisTrustedDevicesUtils","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i,l,s,u,c){i===void 0&&(i=!1),l===void 0&&(l=null),s===void 0&&(s=!1),u===void 0&&(u=!1),c===void 0&&(c=null);var d=n.isFromReg===!0?"from_reg_password":"password",m=JSON.stringify(o("PolarisTrustedDevicesUtils").getTrustedDevicesNonces());return function(p,_){var f=p(o("PolarisLoginActionBaseLogin").baseLogin(e,t,d,n,a,i,l,m,s,u));return f.then(function(t){var n=t.isAuthenticated,i=t.response,l=_(),s=l.auth,u=s.dyiJobID,d=s.next;if(n){var m=i==null?void 0:i.loginNonce;a===!0&&m!=null&&m!==""&&o("PolarisOneTapLogin").addLoginNonce(r("nullthrows")(i==null?void 0:i.userId),r("nullthrows")(i==null?void 0:i.loginNonce),e,r("nullthrows")(i==null?void 0:i.profilePictureUrl));var p=d;c!=null&&(p=d+"&destination_url="+c);var f=!!(i!=null&&i.oneTapPrompt);o("PolarisRedirectHelper").redirectAfterLogin(p,!!(i!=null&&i.reactivated),f,(i==null?void 0:i.nonce)||"",u,(i==null?void 0:i.shouldShowProfileSelector)||!1)}}).catch(function(e){return r("FBLogger")("ig_web").catching(e).mustfix("unexpected")})}}l.login=e}),98);
__d("PolarisSignupSeamlessLogin",["PolarisLoginActionLogin","PolarisRegistrationLogger","nullthrows","polarisLogAction"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i,l){var s=r("nullthrows")(e.username),u=t.password;r("polarisLogAction")("signupWithValidCredentialsLoginAttempt",n),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:a,containermodule:i,event_name:"reg_existing_login",username:s}),l(o("PolarisLoginActionLogin").login(s,u||"",{isFromReg:!0,source:i}))}l.seamlessLogin=e}),98);
__d("polarisSignupSelectors",["mapObject"],(function(t,n,r,o,a,i,l){"use strict";var e,s=6;function u(e,t){var n;return!!(!(t==null||(n=t.fields)==null||(n=n[e])==null)&&n.validated)}function c(t){return t&&typeof t=="object"?(e||(e=r("mapObject")))(t,function(){return!0}):{}}function d(e,t,n){n===void 0&&(n={isOnlyError:!1});var r=!!e[t];return n.isOnlyError?Object.keys(e).length===1&&r:r}function m(e,t){var n;return t==null||(n=t.fields)==null||(n=n[e])==null?void 0:n.error}function p(e,t){var n;return t==null||(n=t.fields)==null||(n=n[e])==null?void 0:n.value}function _(e){return e?p("username",e):null}function f(e,t,n){n===void 0&&(n=!0);var r=e.needEmailOrPhone,o=e.needPassword,a=t.emailOrPhone,i=t.password,l=t.username,u=r===!0&&(a==null||a===""),c=l==null||l==="",d=o===!0&&(i==null||i.length<s);return u||n&&c||d}l.isAccepted=u,l.getAllErrorsFromSignupResponse=c,l.getErrorFromSignupResponse=d,l.getErrorFromSignupResult=m,l.getValueFromSignupResult=p,l.getUsernameFromSignupResult=_,l.getSubmitDisabled=f}),98);
__d("PolarisSignupActions",["invariant","PolarisAPIGetUsernameSuggestions","PolarisAPIRequestSignupSMSCode","PolarisAPISignup","PolarisAPIValidateSignupSMSCode","PolarisAPIVerifyAge","PolarisAgeCollectionHelpers","PolarisAuthLimitedRegistrationHelpers","PolarisAuthStrings","PolarisConsentActions","PolarisDateHelpers","PolarisInstajax","PolarisMachineID","PolarisRegistrationLogger","PolarisSignupAPI","PolarisSignupActionConstants","PolarisSignupActionSignup","PolarisSignupDryRunExitError","PolarisSignupGetAPISignupFields","PolarisSignupSeamlessLogin","PolarisSignupTypes","PolarisToastActions","PolarisUA","Promise","asyncToGeneratorRuntime","isStringNullOrEmpty","nullthrows","polarisGetAppPlatform","polarisIsPhoneNumber","polarisLogAction","polarisNormalizeSignupResponse","polarisSignupSelectors","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(e){var t=e.eventName,n=e.formContents,r=e.referralSource,a=e.source,i=n.emailOrPhone,l=i!=null?y(i):void 0;o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:n.emailOrPhone,contactpoint_type:l,containermodule:a,event_name:t,full_name:n.fullName,referral_source:r,username:n.username})}function c(e,t,n){return function(r,a){var i,l,u=a().auth,c=u.signup&&u.signup.signupCredentials,d=(i=n!=null?n:c==null?void 0:c.username)!=null?i:"",m=(l=u.multiSignup)==null?void 0:l.referralSource;c||s(0,51693),o("PolarisRegistrationLogger").logRegistrationEvent({confirmation_code:e,contactpoint:c.phoneNumber,contactpoint_type:"phone",containermodule:t,event_name:"confirmation_code_submit",full_name:c.fullName,referral_source:m,username:d});var p=babelHelpers.extends({},c,{emailOrPhone:c.phoneNumber,smsCode:e,username:d});o("PolarisUA").isMobile(),r(o("PolarisSignupActionSignup").signup(p,t))}}function d(e,t,n){return function(r){o("PolarisAPIGetUsernameSuggestions").getUsernameSuggestions(e||"",t||"").then(function(n){var o=n.suggestions;r({forEmail:e,forFullName:t,suggestions:o,type:"USERNAME_SUGGESTIONS_FETCHED"})}).catch(function(){o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:n,event_name:"username_suggestions_fetch_failed"}),r({type:"USERNAME_SUGGESTIONS_FETCH_FAILED"})})}}function m(e,t){return function(n,r){n({focusedField:t,formContents:e,type:"SIGNUP_FORM_FOCUS_CHANGED"})}}var p,_=["username","password","emailOrPhone","fullName"];function f(t){var a=o("PolarisMachineID").getMID()||"";return function(i,l){var u=l().auth.signup;u||s(0,51714);var c=u.requestInFlight,d=u.signupResult,m=d?d.fields.emailOrPhone&&d.fields.emailOrPhone.value!==t.emailOrPhone:t.emailOrPhone!==void 0,f=d?d.fields.fullName&&d.fields.fullName.value!==t.fullName:t.fullName!==void 0,g=d==null?t.username!==void 0:d.fields.username&&d.fields.username.value!==t.username,h=!Object.keys(t).some(function(e){return t[e]}),y=_,C=d?y.some(function(e){return(d.fields[e]||{}).value!==t[e]}):!h;if(C&&!c){p&&(p.abort(),p=null),t.emailOrPhone!=null||s(0,51697);var b=r("polarisIsPhoneNumber")(t.emailOrPhone),v=o("PolarisSignupGetAPISignupFields").getAPISignupFields(t,{email:b?void 0:t.emailOrPhone,phoneNumber:b?t.emailOrPhone:void 0});return b&&(v.clientId=a),o("PolarisAPISignup").signupDryRun(v,function(e){p=e}).then(function(e){p=null,o("PolarisRegistrationLogger").logRegistrationEvent({event_name:"signup_dryrun_success"}),i({formContents:t,isInlineDryRun:!0,result:o("polarisNormalizeSignupResponse").normalizeSignupResponse(e,t,!0),type:"SIGNUP_DRY_RUN_RESULT_RECEIVED",usernameSuggestions:(m!=null&&m||f||g?e.username_suggestions:u==null?void 0:u.usernameSuggestions)||[]})},function(e){var t,n=e instanceof o("PolarisInstajax").AjaxError?(t=e.responseObject)==null?void 0:t.message:void 0;o("PolarisRegistrationLogger").logRegistrationEvent({error_message:n,event_name:"signup_dryrun_failed"})})}return(e||(e=n("Promise"))).resolve()}}function g(t){return function(r){return o("PolarisAPIVerifyAge").verifyAge(o("PolarisDateHelpers").dateStringToDateType(t)).then(function(o){return o.eligible_to_register?(r({birthday:t,type:"SIGNUP_AGE_VERIFICATION_SUCCEEDED"}),(e||(e=n("Promise"))).resolve()):(e||(e=n("Promise"))).reject(new Error("failed to verify age"))}).catch(function(t){return(e||(e=n("Promise"))).reject(t)})}}function h(t,r,a){return function(i,l){return t!=null||s(0,67032),o("PolarisAgeCollectionHelpers").maybeCooldownAgeAttempt(),o("PolarisAgeCollectionHelpers").isAgeBlockedFromSignup()?(i(o("PolarisConsentActions").handleAgeSignupBlocked()),i(E()),i(a),(e||(e=n("Promise"))).resolve()):(e||(e=n("Promise"))).resolve(i(g(t))).then(function(e){i(r)}).catch(function(){o("PolarisAgeCollectionHelpers").incrementNumInvalidAgeAttempts(),o("PolarisAgeCollectionHelpers").saveAgeWrongAttemptSignal(t),o("PolarisAgeCollectionHelpers").isAgeBlockedFromSignup()&&i(o("PolarisConsentActions").handleAgeSignupBlocked()),i(E()),i(a)})}}function y(e){var t=r("polarisIsPhoneNumber")(e);return t?"phone":"email"}function C(t,a){var i=o("PolarisMachineID").getMID()||"";return function(l){var s=t.emailOrPhone;if(s==null)return r("polarisLogAction")("validationAttempt",{platform:o("polarisGetAppPlatform").getAppPlatform()}),o("PolarisSignupDryRunExitError").dryRunExitError();var c=r("polarisIsPhoneNumber")(s),d=y(s),m={platform:o("polarisGetAppPlatform").getAppPlatform(),type:d};r("polarisLogAction")("validationAttempt",m),u({eventName:"form_submit",formContents:t,source:a});var _=o("PolarisSignupGetAPISignupFields").getAPISignupFields(t,{clientId:i,email:c?void 0:t.emailOrPhone,fullName:t.fullName,phoneNumber:c?t.emailOrPhone:void 0,seamlessLoginEnabled:"1"});return p&&(p.abort(),p=null),n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var i=yield o("PolarisAPISignup").signupDryRun(_);if(i.code===o("PolarisSignupActionConstants").VALID_CREDENTIALS_RESPONSE_CODE)return o("PolarisSignupSeamlessLogin").seamlessLogin(i,t,m,d,a,l),o("PolarisSignupDryRunExitError").dryRunExitError();var s=o("polarisSignupSelectors").getAllErrorsFromSignupResponse(i.errors),u=!1;if(c?u=o("polarisSignupSelectors").getErrorFromSignupResponse(s,"sms_code",{isOnlyError:!0}):u=Object.keys(s).length===0,!u&&o("PolarisUA").isMobile()&&o("polarisSignupSelectors").getErrorFromSignupResponse(s,"username",{isOnlyError:!0}))return(e||(e=n("Promise"))).resolve();if(l({formContents:t,fromPhoneSignup:c,result:o("polarisNormalizeSignupResponse").normalizeSignupResponse(i,t,!0),type:"SIGNUP_DRY_RUN_RESULT_RECEIVED",usernameSuggestions:i.username_suggestions||[]}),!u){r("polarisLogAction")("validationFailure",babelHelpers.extends({fields:s},m));var p=o("polarisNormalizeSignupResponse").normalizeSignupResponse(i,t);for(var f in p.fields)if(Object.prototype.hasOwnProperty.call(p.fields,f)&&!(c&&f==="sms_code")){var g=p.fields[f];g.error&&o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:t.emailOrPhone,contactpoint_type:d,containermodule:a,event_name:"form_input_error",full_name:t.fullName,input_error_type:g.errorCode,username:t.username})}return l({result:p,type:"SIGNUP_FAILED",usernameSuggestions:i.username_suggestions}),o("PolarisSignupDryRunExitError").dryRunExitError()}return c||r("polarisLogAction")("validationSuccess",m),(e||(e=n("Promise"))).resolve()}catch(e){var h,y=e instanceof o("PolarisInstajax").AjaxError?(h=e.responseObject)==null?void 0:h.message:void 0;return o("PolarisRegistrationLogger").logRegistrationEvent({error_message:y,event_name:"base_form_validation_failed"}),o("PolarisSignupDryRunExitError").dryRunExitError()}})()}}function b(t,a){var i=o("PolarisMachineID").getMID()||"",l={platform:o("polarisGetAppPlatform").getAppPlatform(),type:"phone"},c=t.emailOrPhone;return c!=null||s(0,51691),function(s,d){return n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var m,p=(m=d().auth.multiSignup)==null?void 0:m.referralSource,_=yield o("PolarisAPIRequestSignupSMSCode").requestSignupSMSCode(i,c,t.captcha);if(_.require_captcha===!0)return s({emailOrPhone:t.emailOrPhone||"",type:"REQUEST_CAPTCHA"}),u({eventName:"captcha_required",formContents:t,referralSource:p,source:a}),(e||(e=n("Promise"))).resolve();if(_.sms_sent===!0)return s({clientId:i,formContents:t,type:"PHONE_SIGNUP_CODE_SENT"}),r("polarisLogAction")("validationSuccess",l),u({eventName:"confirmation_code_sent",formContents:t,referralSource:p,source:a}),(e||(e=n("Promise"))).resolve();var f=_.errors||{},g=Object.keys(f).map(function(e){return f[e][0]})[0]||o("PolarisAuthStrings").ERROR_SIGNUP_UNKNOWN;return s({formContents:t,message:g,type:"PHONE_SIGNUP_CODE_REQUEST_FAILED"}),r("polarisLogAction")("validationFailure",l),o("PolarisRegistrationLogger").logRegistrationEvent({confirmation_error_type:"conf_code_not_sent",contactpoint:t.emailOrPhone,contactpoint_type:"phone",containermodule:a,error_message:JSON.stringify(f),event_name:"confirmation_error",full_name:t.fullName,referral_source:p,username:t.username}),(e||(e=n("Promise"))).reject(new Error("phone signup code validation failure"))}catch(i){var h=i instanceof o("PolarisInstajax").AjaxError?i.responseObject:null,y=(h==null?void 0:h.message)!=null?h==null?void 0:h.message:o("PolarisAuthStrings").ERROR_SIGNUP_UNKNOWN;return s({formContents:t,message:y||o("PolarisAuthStrings").ERROR_SIGNUP_UNKNOWN,type:"PHONE_SIGNUP_CODE_REQUEST_FAILED"}),r("polarisLogAction")("validationFailure",l),o("PolarisRegistrationLogger").logRegistrationEvent({confirmation_error_type:"conf_code_not_sent",contactpoint:t.emailOrPhone,contactpoint_type:"phone",containermodule:a,error_message:JSON.stringify(h),event_name:"confirmation_error",full_name:t.fullName,username:t.username}),(e||(e=n("Promise"))).reject(new Error("phone signup validation failure"))}})()}}function v(t,r){var a=o("PolarisMachineID").getMID()||"",i=t.emailOrPhone;return i!=null||s(0,51691),function(o){return(e||(e=n("Promise"))).resolve(o(C(t,r))).then(function(e){o({clientId:a,formContents:t,type:"PHONE_SIGNUP_CODE_REQUESTED"}),o(b(t,r))}).catch(function(e){e&&"_dryRunEarlyExit"in e})}}function S(e,t){var a=e.emailOrPhone!=null&&r("polarisIsPhoneNumber")(e.emailOrPhone);return(function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n,r){if(a){var i=o("PolarisMachineID").getMID()||"",l=e.emailOrPhone;l!=null||s(0,51691),n({clientId:i,formContents:e,type:"PHONE_SIGNUP_CODE_REQUESTED"}),n(b(e,t))}else{var u,c=e.emailOrPhone;c!=null||s(0,51698),yield n(M(c,e.captcha)),((u=r().signup.emailConfirmationCodeRequest)==null?void 0:u.require_captcha)!==!0&&n({type:"SIGNUP_EMAIL_CONFIRMATION_STEP_REQUESTED"})}});return function(e,t){return r.apply(this,arguments)}})()}function R(){return function(e){e({type:"SIGNUP_FORM_GO_BACK"})}}function L(){return{type:"SIGNUP_BIRTHDAY_PROCESSING"}}function E(){return{type:"SIGNUP_BIRTHDAY_FAILED"}}function k(e,t,n,r){var a=e.birthday;a!=null||s(0,67031),u({eventName:"birthday_form_next_clicked",formContents:e,referralSource:r,source:t});var i=function(a){u({eventName:"age_verification_succeeded",formContents:e,referralSource:r,source:t}),n(S(e,t))},l=function(a){u({eventName:"age_verification_failed",formContents:e,referralSource:r,source:t}),o("PolarisAgeCollectionHelpers").isAgeBlockedFromSignup()||a({errorMessage:o("PolarisAgeCollectionHelpers").WE_COULDNT_CREATE_AN_ACC,type:"SIGNUP_ERROR"})};return n(h(a,i,l))}function I(t,a,i){return i===void 0&&(i={}),function(l,d){var m,p,_=o("PolarisMachineID").getMID(),f=r("polarisIsPhoneNumber")((m=t==null?void 0:t.emailOrPhone)!=null?m:""),g=d();g.auth.signup!=null||s(0,756);var h=g.auth.signup.step,y=(p=g.auth.multiSignup)==null?void 0:p.referralSource;switch(h){case o("PolarisSignupTypes").STEP.captcha:return u({eventName:"captcha_next_clicked",formContents:t,referralSource:y,source:a}),l(S(t,a));case o("PolarisSignupTypes").STEP.birthday:return k(t,a,l,y);case o("PolarisSignupTypes").STEP.emailConfirmation:return l(A(t,a,i));case o("PolarisSignupTypes").STEP.phoneConfirmation:{var b=g.signup.gdprRequired,v=t.twofac;return!r("isStringNullOrEmpty")(v)||s(0,51694),b||o("PolarisUA").isMobile()||o("PolarisAuthLimitedRegistrationHelpers").shouldShowSouthKoreaTOS()?l(x(v,a)):l(c(v,a))}case o("PolarisSignupTypes").STEP.acceptTerms:return l(T(f,g,t,a,i,_));case o("PolarisSignupTypes").STEP.accountPrivacy:return r("vulture")("NJrwr5YAtXa4DsWRQAqrC2zlvWk="),o("PolarisAuthLimitedRegistrationHelpers").shouldShowSouthKoreaTOS()?l({type:"SIGNUP_ACCEPT_TERMS_REQUESTED"}):l(T(f,g,t,a,i,_));case o("PolarisSignupTypes").STEP.base:default:{if(t.birthday!=null){var R=babelHelpers.extends({},t,{birthday:void 0});return(e||(e=n("Promise"))).resolve(l(C(R,a))).then(function(){return k(t,a,l,y)}).catch(function(e){e&&"_dryRunEarlyExit"in e})}return(e||(e=n("Promise"))).resolve(l(C(t,a))).then(function(){return l({type:"SIGNUP_BIRTHDAY_REQUESTED"})}).catch(function(e){e&&"_dryRunEarlyExit"in e})}}}}function T(e,t,n,r,o,a){return function(i){i(D(e,t,n,r,o,a))}}function D(e,t,n,a,i,l){return function(u,c){var d={};if(e){var m,p=r("nullthrows")((m=t.auth.signup)==null?void 0:m.signupCredentials),_=t.signup.gdprRequired,f=p.smsCode;!r("isStringNullOrEmpty")(f)||s(0,51690),_&&(d.smsCode=f,d.emailOrPhone=p.phoneNumber)}else{var g,h,y=(g=(h=c().signup)==null?void 0:h.emailSignupCode)!=null?g:{},C=y.signupCode;C!=null||s(0,51695),d.emailSignupCode=C}return u(o("PolarisSignupActionSignup").signup(babelHelpers.extends({},n,d,{clientId:l}),a,i))}}function x(e,t){var n=o("PolarisMachineID").getMID()||"";return function(a,i){var l=i();l.auth.signup||s(0,756);var u=r("nullthrows")(l.auth.signup.signupCredentials),c=r("nullthrows")(u.phoneNumber);return a({type:"PHONE_SIGNUP_CODE_VERIFICATION_REQUESTED"}),o("PolarisAPIValidateSignupSMSCode").validateSignupSMSCode(n,c,e).then(function(n){if(n.verified)if(a({smsCode:e,type:"PHONE_SIGNUP_CODE_VERIFICATION_SUCCEEDED"}),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:c,contactpoint_type:"phone",event_name:"twofac_confirmation_code_success"}),o("PolarisAuthLimitedRegistrationHelpers").shouldShowSouthKoreaTOS())a({type:"SIGNUP_ACCEPT_TERMS_REQUESTED"});else{var i=l.signup.gdprRequired;i&&a(o("PolarisSignupActionSignup").signup(babelHelpers.extends({},u,{emailOrPhone:u.phoneNumber,smsCode:e}),t))}else{var r;a({message:n==null||(r=n.errors)==null||(r=r.nonce)==null?void 0:r[0],type:"PHONE_SIGNUP_CODE_VERIFICATION_FAILED"}),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:c,contactpoint_type:"phone",event_name:"form_input_error",input_error_type:n.error_type})}},function(e){a({message:e.message,type:"PHONE_SIGNUP_CODE_VERIFICATION_FAILED"}),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"phone",error_message:e.message,event_name:"form_input_error",input_error_type:"sms_verification_unknown_error"})})}}function $(e){var t=o("PolarisMachineID").getMID()||"",n={platform:o("polarisGetAppPlatform").getAppPlatform(),type:"phone"};return function(a,i){var l=i();l.auth.signup||s(0,756);var u=l.auth.signup.signupCredentials;u||s(0,51696);var c=u.phoneNumber;c!=null||s(0,51699);var d=e!=null?e:c;return d!==c&&(n.newNum="1"),a({clientId:t,phoneNumber:d,type:"PHONE_SIGNUP_CODE_REREQUESTED"}),r("polarisLogAction")("signupSmsResendAttempt",n),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:d,contactpoint_type:"phone",event_name:"request_new_code_click",full_name:u.fullName,username:u.username}),o("PolarisAPIRequestSignupSMSCode").requestSignupSMSCode(t,d).then(function(e){if(e.require_captcha===!0)a({emailOrPhone:d,type:"REQUEST_CAPTCHA"}),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:d,contactpoint_type:"phone",event_name:"captcha_required",full_name:u.fullName,username:u.username});else if(e.sms_sent===!0)a({clientId:t,phoneNumber:d,type:"PHONE_SIGNUP_CODE_RESENT"}),r("polarisLogAction")("signupSmsResendSuccess",n),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:d,contactpoint_type:"phone",event_name:"confirmation_code_sent",full_name:u.fullName,username:u.username});else{var i=e.errors||{},l=Object.keys(i).map(function(e){return i[e][0]})[0]||o("PolarisAuthStrings").ERROR_SIGNUP_UNKNOWN;a({message:l,type:"PHONE_SIGNUP_CODE_REREQUEST_FAILED"}),r("polarisLogAction")("signupSmsResendFailure",n),o("PolarisRegistrationLogger").logRegistrationEvent({confirmation_error_type:"conf_code_not_sent",contactpoint:d,contactpoint_type:"phone",error_message:JSON.stringify(i),event_name:"confirmation_error",full_name:u.fullName,username:u.username})}},function(e){var t=e instanceof o("PolarisInstajax").AjaxError?e.responseObject:null,i=(t==null?void 0:t.message)!=null?t==null?void 0:t.message:o("PolarisAuthStrings").ERROR_SIGNUP_UNKNOWN;a({message:i,type:"PHONE_SIGNUP_CODE_REREQUEST_FAILED"}),r("polarisLogAction")("signupSmsResendFailure",n),o("PolarisRegistrationLogger").logRegistrationEvent({confirmation_error_type:"conf_code_not_sent",contactpoint:d,contactpoint_type:"phone",error_message:JSON.stringify(t),event_name:"confirmation_error",full_name:u.fullName,username:u.username})})}}function P(t){return function(r,a){if(t==="changePhoneNumber"){var i=a();i.auth.signup||s(0,756);var l=i.auth.signup.signupCredentials;l||s(0,51696),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:l.phoneNumber,contactpoint_type:"phone",event_name:"change_phone_number_click",full_name:l.fullName,username:l.username})}return r({newStep:t,type:"PHONE_SIGNUP_STEP_SWITCHED"}),(e||(e=n("Promise"))).resolve()}}function N(e,t,n,r){return n===void 0&&(n=null),r===void 0&&(r=!1),function(a){return a({type:"SIGNUP_CONFIRMATION_EMAIL_REQUESTED"}),o("PolarisSignupAPI").sendVerifyEmail({captcha_token:n,device_id:e,email:t}).then(function(e){if(e.require_captcha===!0){o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"email",event_name:"captcha_required"}),a({emailOrPhone:t,type:"REQUEST_CAPTCHA"}),a({type:"SIGNUP_CONFIRMATION_EMAIL_RECAPTCHA"});return}return a({type:"SIGNUP_CONFIRMATION_EMAIL_SUCCEEDED"}),o("PolarisAuthStrings").emailConfirmationCodeSentToast(t)},function(e){var t,n=(t=e.responseObject)!=null?t:{},r=n.error_type,i=n.message;return a({error:{message:i,type:r},type:"SIGNUP_CONFIRMATION_EMAIL_FAILED"}),o("PolarisAuthStrings").ERROR_SENDING_EMAIL_CONFIRMATION_CODE_UNKNOWN}).then(function(e){r&&a(o("PolarisToastActions").showToast({text:e}))})}}function M(e,t,r,a){return t===void 0&&(t=null),r===void 0&&(r=!1),a===void 0&&(a=o("PolarisRegistrationLogger").logRegistrationEvent),(function(){var i=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n,i){var l,s=(l=i().auth.multiSignup)==null?void 0:l.referralSource;a({contactpoint:e,contactpoint_type:"email",event_name:"email_confirmation_send_attempt",referral_source:s}),yield n(N(o("PolarisMachineID").getMID(),e,t,r));var u=i().signup.emailConfirmationCodeRequest;if((u==null?void 0:u.require_captcha)!==!0){var c=u==null?void 0:u.error;if(c==null)a({contactpoint:e,contactpoint_type:"email",event_name:"email_confirmation_send_success",referral_source:s});else{var d;a({contactpoint:e,contactpoint_type:"email",error_message:(d=c.type)!=null?d:"",event_name:"email_confirmation_send_error",referral_source:s})}}});return function(e,t){return i.apply(this,arguments)}})()}function w(e,t,r){return(function(){var a=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n,a){var i=a(),l=i.signup.emailSignupCode;if(!((l==null?void 0:l.confirmationCode)===e&&(l==null?void 0:l.email)===r&&(l==null?void 0:l.signupCode)!=null))try{var s=yield o("PolarisSignupAPI").checkEmailConfirmationCode({code:e,device_id:t,email:r});n(F({confirmationCode:e,email:r,error:null,signupCode:s.signup_code}))}catch(t){var u=t instanceof o("PolarisInstajax").AjaxError?t.responseObject:null,c=u==null?void 0:u.error_type,d=u==null?void 0:u.message;n(F({confirmationCode:e,email:r,error:{message:d!=null?d:"",type:c!=null?c:""},signupCode:null}))}});return function(e,t){return a.apply(this,arguments)}})()}function A(e,t,r){return(function(){var a=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n,a){var i,l;e.emailOrPhone!=null||s(0,51680),e.emailConfirmationCode!=null||s(0,51682);var u=e.birthday;u!=null||s(0,56388);var c=e.emailOrPhone,d=e.emailConfirmationCode,m=o("PolarisMachineID").getMID(),p=(i=a().auth.multiSignup)==null?void 0:i.referralSource;n({type:"EMAIL_SIGNUP_CODE_REQUESTED"}),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:c,event_name:"email_confirmation_code_attempt",referral_source:p}),yield n(w(d,m,c));var _=(l=a().signup)==null?void 0:l.emailSignupCode;if((_==null?void 0:_.signupCode)!=null){var f=_.signupCode;o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:c,event_name:"email_confirmation_code_success",referral_source:p}),o("PolarisAuthLimitedRegistrationHelpers").shouldShowSouthKoreaTOS()?n({type:"SIGNUP_ACCEPT_TERMS_REQUESTED"}):yield n(o("PolarisSignupActionSignup").signup(babelHelpers.extends({},e,{clientId:m,emailSignupCode:f}),t,r))}else if((_==null?void 0:_.error)!=null){var g=_.error,h=g.message,y=g.type;o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:c,contactpoint_type:"email",error_message:h,event_name:"form_input_error",input_error_type:y,referral_source:p});var C=y==="invalid_nonce"?h:o("PolarisAuthStrings").ERROR_CONFIRMING_EMAIL_CONFIRMATION_CODE_UNKNOWN;n({errorMessage:C,type:"EMAIL_SIGNUP_CODE_FAILED"})}});return function(e,t){return a.apply(this,arguments)}})()}function F(e){return{signupCode:e,type:"SIGNUP_SET_EMAIL_SIGNUP_CODE"}}function O(){return{type:"SHOW_REGULATORY_CONSENT_MODAL"}}function B(){return{type:"REGULATORY_CONSENT_MODAL_DISMISSED"}}function W(){return{type:"SIGNUP_ADS_FREE_SUBSCRIPTION_EXISTS"}}l.signupWithPhoneCode=c,l.fetchUsernameSuggestions=d,l.changeSignupFormFocus=m,l.performDryRun=f,l.validateSignupAgeAndContinue=h,l.validateBaseSignupFormAndMaybeLogin=C,l.validateFormAndRequestSMSCode=v,l.requestContactpointConfirmationCode=S,l.returnToBaseSignupForm=R,l.processBirthday=L,l.failBirthday=E,l.validateFormAndContinue=I,l.verifySMSCode=x,l.rerequestSMSCode=$,l.switchPhoneSignupStep=P,l.requestConfirmationEmail=N,l.requestConfirmationEmailWithLogging=M,l.verifyEmailConfirmationCode=w,l.submitEmailConfirmationForm=A,l.setEmailSignupCode=F,l.setShowRegulatoryConsentModal=O,l.setDismissRegulatoryConsentModal=B,l.setSignupAdsFreeSubscriptionExists=W}),98);
__d("PolarisSignupQPL",["InstagramSignupQPL","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=new(r("InstagramSignupQPL"))(r("qpl")._(316872749,"2561"));l.default=e}),98);
__d("trackFBRegistrationConversion",["ExecutionEnvironment","PolarisFBPixel"],(function(t,n,r,o,a,i,l){"use strict";var e,s={complete_registration:"CompleteRegistration"};function u(){(e||(e=r("ExecutionEnvironment"))).canUseDOM&&o("PolarisFBPixel").trackEvent(s.complete_registration)}l.default=u}),98);
__d("PolarisSignupActionSignup",["invariant","PolarisAPILogin","PolarisAPISignup","PolarisAuthStrings","PolarisConsentTypes","PolarisInstajax","PolarisOneTapLogin","PolarisQueryParams","PolarisRedirectHelper","PolarisRegistrationLogger","PolarisSignupActionConstants","PolarisSignupActions","PolarisSignupGetAPISignupFields","PolarisSignupQPL","PolarisSignupSeamlessLogin","PolarisUA","Promise","asyncToGeneratorRuntime","gkx","mapObject","nullthrows","performance","polarisGetAppPlatform","polarisIsPhoneNumber","polarisLogAction","polarisNormalizeSignupResponse","polarisSignupSelectors","qex","trackFBRegistrationConversion"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=6e4,m=function(t){return new(c||(c=n("Promise")))(function(e){return window.setTimeout(e,t)})};function p(t,a,i){i===void 0&&(i={});var l={platform:o("polarisGetAppPlatform").getAppPlatform(),source:a};t.emailOrPhone!=null||s(0,51697);var c=r("polarisIsPhoneNumber")(t.emailOrPhone);l.type=c?"phone":"email","captcha"in t&&(l.captcha="yes");var p=t.emailOrPhone!=null?c?"phone":"email":null,_=o("PolarisSignupGetAPISignupFields").getAPISignupFields(t,{captcha:t.captcha,email:c?void 0:t.emailOrPhone,phoneNumber:c?t.emailOrPhone:void 0,seamlessLoginEnabled:"1"});return t.smsCode&&(_.smsCode=t.smsCode),t.clientId&&(_.clientId=t.clientId),t.gdpr_s&&(_.gdpr_s=t.gdpr_s),t.phoneId!=null&&(_.phoneId=t.phoneId),t.fbToken!=null&&(_.fbToken=t.fbToken),function(s,f){var g,h,y=(e||(e=r("performance"))).now(),C=f(),b=C.auth,v=C.signup;r("PolarisSignupQPL").isActive()||r("PolarisSignupQPL").start(),r("PolarisSignupQPL").addPointSignupAttempt(),_.tosVersion=v.tosVersion||o("PolarisConsentTypes").TosVersion.DEFAULT,((g=v.emailSignupCode)==null?void 0:g.signupCode)!=null&&(_.emailSignupCode=v.emailSignupCode.signupCode);var S=(h=f().auth.multiSignup)==null?void 0:h.referralSource,R=b.multiSignup?o("PolarisRegistrationLogger").logMultiStepRegistrationEvent:o("PolarisRegistrationLogger").logRegistrationEvent;r("polarisLogAction")("signupAttempt",l),c||o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:t.emailOrPhone,contactpoint_type:p,containermodule:a,event_name:"form_submit",full_name:t.fullName,referral_source:S,username:t.username}),s({type:"SIGNUP_ATTEMPTED"}),R({contactpoint:t.emailOrPhone,contactpoint_type:p,containermodule:a,event_name:"signup_attempted",full_name:t.fullName,referral_source:S,username:t.username});var L=f().auth.next,E=function(n){if(n.account_created===!0){if(r("PolarisSignupQPL").endSuccess(),s({type:"SIGNUP_SUCCEEDED"}),n.user_id!=null&&(l.ig_userid=n.user_id),r("polarisLogAction")("signupSuccess",l),R({contactpoint:t.emailOrPhone,contactpoint_type:p,containermodule:a,event_name:"account_creation_success",full_name:t.fullName,ig_userid:n.user_id,referral_source:S,username:t.username}),n.login_nonce!=null){var e;o("PolarisOneTapLogin").addLoginNonce((e=r("nullthrows"))(n.user_id),String(e(n.login_nonce)),e(n.username),e(n.profile_picture_url))}var u=n.show_privacy_page;i.forceRedirectUrl!=null?o("PolarisRedirectHelper").redirectAfterSignup(i.forceRedirectUrl,!1,u):L?o("PolarisRedirectHelper").redirectAfterSignup(L,!1,u):o("PolarisRedirectHelper").redirectAfterSignup("/",!1,u),r("trackFBRegistrationConversion")();return}if(R({contactpoint:t.emailOrPhone,contactpoint_type:p,containermodule:a,error_message:JSON.stringify(n.errors),event_name:"account_creation_rejection",full_name:t.fullName,ig_userid:n.user_id,referral_source:S,username:t.username}),n.code===o("PolarisSignupActionConstants").VALID_CREDENTIALS_RESPONSE_CODE){r("PolarisSignupQPL").endCancelSeamlessLogin(),o("PolarisSignupSeamlessLogin").seamlessLogin(n,t,l,p,a,s);return}var d=o("polarisNormalizeSignupResponse").normalizeSignupResponse(n,t);if(n.errors&&"phone_autoconfirm"in n.errors){o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:t.emailOrPhone,contactpoint_type:p,containermodule:a,event_name:"account_creation_sms_fallback",full_name:t.fullName,referral_source:S,username:t.username}),s(o("PolarisSignupActions").validateFormAndRequestSMSCode(t,a)),r("PolarisSignupQPL").endCancelSmsFallback();return}var m=o("polarisSignupSelectors").getAllErrorsFromSignupResponse(n.errors);r("polarisLogAction")("signupFailure",babelHelpers.extends({fields:m},l)),r("PolarisSignupQPL").endFailureFormValidationError();for(var _ in d.fields)if(Object.prototype.hasOwnProperty.call(d.fields,_)){var f=d.fields[_];f.error&&R({contactpoint:t.emailOrPhone,contactpoint_type:p,containermodule:a,event_name:"form_input_error",full_name:t.fullName,input_error_type:f.errorCode,referral_source:S,username:t.username})}var g="form_validation_error";d.otherError!=null&&c&&(R({confirmation_error_type:d.otherErrorCode,contactpoint:t.emailOrPhone,contactpoint_type:p,containermodule:a,event_name:"confirmation_error",full_name:t.fullName,referral_source:S,username:t.username}),g="confirmation_error"+(d.otherErrorCode!=null?"_"+d.otherErrorCode:"")),R({account_creation_error_type:g,contactpoint:t.emailOrPhone,contactpoint_type:p,containermodule:a,event_name:"account_creation_error",full_name:t.fullName,referral_source:S,username:t.username}),b.multiSignup?s({result:d,type:"MULTI_SIGNUP_FAILED"}):s({result:d,type:"SIGNUP_FAILED",usernameSuggestions:n.username_suggestions})},k=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){for(var a=(e||(e=r("performance"))).now();a-y<d;){try{var i=yield o("PolarisAPILogin").login(t,n,o("PolarisOneTapLogin").queryParamStringWithOneTapInfo(o("PolarisQueryParams").parseQueryParams()));if(i.authenticated)return r("PolarisSignupQPL").endSuccess(),s({type:"SIGNUP_SUCCEEDED"}),(i==null?void 0:i.userId)!=null&&(l.ig_userid=i.userId),r("polarisLogAction")("signupSuccess",l),o("PolarisRedirectHelper").redirectAfterSignup("/",!1,!1),!0;yield m(5e3)}catch(e){yield m(5e3)}a=(e||(e=r("performance"))).now()}return!1});return function(n,r){return t.apply(this,arguments)}})(),I=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){r("polarisLogAction")("signupFailure",l);var n,i="error_unknown";if(e instanceof o("PolarisInstajax").AjaxError){var c,d;if(n=(c=e.responseText)!=null?c:void 0,((d=e.responseObject)==null?void 0:d.error_type)!=null){var m;i=(m=e.responseObject)==null?void 0:m.error_type}else e.statusCode===429&&(i="rate_limit_error");(e.statusCode===572||e.statusCode===0)&&(i="signup_killed_timeout")}var _=t.password,f=t.username;if(f!=null&&_!=null&&i==="signup_killed_timeout"){var g=r("qex")._("957")===!0,h=o("PolarisUA").isMobile()&&!g;if(!h){var y=yield k(f,_);if(y)return}}r("PolarisSignupQPL").endFailure(n!=null?n:"account_creation_error"),R({account_creation_error_type:i,contactpoint:t.emailOrPhone,contactpoint_type:p,containermodule:a,error_message:n!=null?n:void 0,event_name:"account_creation_error",full_name:t.fullName,referral_source:S,username:t.username});var C={fields:(u||(u=r("mapObject")))(t,function(e,t){return{value:e}}),otherError:o("PolarisAuthStrings").ERROR_SIGNUP_UNKNOWN,wasDryRun:!1};b.multiSignup?s({result:C,type:"MULTI_SIGNUP_FAILED"}):s({formContents:t,result:C,type:"SIGNUP_FAILED",usernameSuggestions:null})});return function(n){return e.apply(this,arguments)}})();return o("PolarisAPISignup").signup(_).then(E,I)}}function _(e,t,n){if(!r("gkx")("2717"))return function(){n()};e.emailOrPhone!=null||s(0,51697);var a=r("polarisIsPhoneNumber")(e.emailOrPhone),i=o("PolarisSignupGetAPISignupFields").getAPISignupFields(e,{captcha:e.captcha,email:a?void 0:e.emailOrPhone,phoneNumber:a?e.emailOrPhone:void 0,seamlessLoginEnabled:"1"});return function(r,l){return o("PolarisAPISignup").signupDryRun(i).then(function(i){var s,u=o("polarisNormalizeSignupResponse").normalizeSignupResponse(i,e,!0),c=l(),d=c.auth,m=d.multiSignup?o("PolarisRegistrationLogger").logMultiStepRegistrationEvent:o("PolarisRegistrationLogger").logRegistrationEvent,p=e.emailOrPhone!=null?a?"phone":"email":null;if(u.fields.fullName.error!=null||((s=u.fields.password)==null?void 0:s.error)!=null){var _,f,g=(_=l().auth.multiSignup)==null?void 0:_.referralSource;if(u.fields.fullName.errorCode!=null&&m({contactpoint:e.emailOrPhone,contactpoint_type:p,containermodule:t,event_name:"form_input_error",full_name:u.fields.fullName.value||"",input_error_type:u.fields.fullName.errorCode,referral_source:g,username:e.username}),((f=u.fields.password)==null?void 0:f.errorCode)!=null){var h;m({contactpoint:e.emailOrPhone,contactpoint_type:p,containermodule:t,event_name:"form_input_error",full_name:u.fields.fullName.value||"",input_error_type:(h=u.fields.password)==null?void 0:h.errorCode,referral_source:g,username:e.username})}r({result:u,type:"MULTI_SIGNUP_NAME_PASSWORD_VERIFICATION_FAILED"})}else n()}).catch(function(){n()})}}l.signup=p,l.signupDryRunNamePassword=_}),98);
__d("PolarisSignupFormFields.react",["IGDSBox.react","IGDSDialogFooter.react","IGDSText.react","IGDSTextVariants.react","PolarisAuthConstants","PolarisAuthStrings","PolarisGenericStrings","PolarisIGCoreButton.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(38),n=e.children,a=e.handleGoBack,i=e.handleNext,l=e.header,u=e.icon,c=e.isNextActionDisabled,d=e.maxWidth,m=e.requestInFlight,p=e.shouldShowRedesignedSignup,_=e.signupNonSpecificError,f=e.style,g=e.subHeader,h=d===void 0?350:d,y=p===void 0?!1:p,C=y?0:2,b;t[0]!==l||t[1]!==y?(b=y?s.jsx(r("IGDSText.react"),{color:"primaryText",size:"title",textAlign:"center",weight:"bold",zeroMargin:!1,children:l}):s.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{textAlign:"center",children:l}),t[0]=l,t[1]=y,t[2]=b):b=t[2];var v;t[3]!==C||t[4]!==b?(v=s.jsx(r("IGDSBox.react"),{marginBottom:C,marginTop:4,position:"relative",children:b}),t[3]=C,t[4]=b,t[5]=v):v=t[5];var S;t[6]!==g?(S=s.jsx(r("IGDSBox.react"),{marginBottom:2,marginTop:4,position:"relative",children:s.jsx(o("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",children:g})}),t[6]=g,t[7]=S):S=t[7];var R;t[8]!==i||t[9]!==c||t[10]!==m||t[11]!==y||t[12]!==f?(R=f==="default"&&s.jsx(r("IGDSBox.react"),{marginTop:2,paddingX:2,paddingY:y===!0?2:4,position:"relative",width:"100%",children:s.jsx(r("PolarisIGCoreButton.react"),{disabled:c,fullWidth:!0,loading:m,onClick:i,children:o("PolarisGenericStrings").NEXT})}),t[8]=i,t[9]=c,t[10]=m,t[11]=y,t[12]=f,t[13]=R):R=t[13];var L;t[14]!==_?(L=_!=null&&s.jsx(r("IGDSBox.react"),{marginBottom:2,position:"relative",children:s.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 xkmlbd1 x78zum5 xdt5ytf x2lah0s xln7xf2 xvs91rp xd4r4e8 xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x2b8uid x11njtxf",children:s.jsx("p",{"aria-atomic":"true",id:o("PolarisAuthConstants").SLIM_SIGNUP_FORM_ALERT_ID,role:"alert",children:_})})}),t[14]=_,t[15]=L):L=t[15];var E;t[16]!==a||t[17]!==y||t[18]!==f?(E=f==="default"&&s.jsx(r("IGDSBox.react"),{marginBottom:2,position:"relative",width:"100%",children:y?s.jsx(r("IGDSBox.react"),{paddingX:2,position:"relative",width:"100%",children:s.jsx(r("PolarisIGCoreButton.react"),{borderless:!1,color:"ig-secondary-button",fullWidth:!0,onClick:a,children:o("PolarisGenericStrings").BACK_TEXT})}):s.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:a,children:o("PolarisGenericStrings").GO_BACK})}),t[16]=a,t[17]=y,t[18]=f,t[19]=E):E=t[19];var k;t[20]!==n||t[21]!==u||t[22]!==h||t[23]!==v||t[24]!==S||t[25]!==R||t[26]!==L||t[27]!==E?(k=s.jsxs(r("IGDSBox.react"),{alignItems:"center",maxWidth:h,paddingX:7,paddingY:2,position:"relative",children:[u,v,S,n,R,L,E]}),t[20]=n,t[21]=u,t[22]=h,t[23]=v,t[24]=S,t[25]=R,t[26]=L,t[27]=E,t[28]=k):k=t[28];var I;t[29]!==a||t[30]!==i||t[31]!==c||t[32]!==m||t[33]!==f?(I=f==="modal"&&s.jsx(r("IGDSBox.react"),{marginTop:5,position:"relative",width:"100%",children:s.jsx(r("IGDSDialogFooter.react"),{endAdornment:s.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,disabled:c,loading:m,onClick:i,children:o("PolarisAuthStrings").CONTINUE}),startAdornment:s.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:a,children:o("PolarisGenericStrings").BACK_TEXT})})}),t[29]=a,t[30]=i,t[31]=c,t[32]=m,t[33]=f,t[34]=I):I=t[34];var T;return t[35]!==k||t[36]!==I?(T=s.jsxs(s.Fragment,{children:[k,I]}),t[35]=k,t[36]=I,t[37]=T):T=t[37],T}l.default=u}),98);
__d("PolarisSignupTypesHelpers",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t={fullName:"",username:""};return(e==null?void 0:e.fields)!=null&&Object.keys(e.fields).forEach(function(n){var r;if(((r=e.fields[n])==null?void 0:r.value)!=null)switch(n){case"optIntoOneTap":t[n]=!!e.fields[n].value;break;default:t[n]=e.fields[n].value}}),t}i.convertSignupResultToSignupFields=e}),66);
__d("usePolarisEmailOrPhoneContactpointType",["PolarisReactRedux.react","polarisIsPhoneNumber"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e,t=o("PolarisReactRedux.react").useSelector(s),n=t==null||(e=t.fields.emailOrPhone)==null?void 0:e.value;if(n==null)return null;var a=r("polarisIsPhoneNumber")(n);return a?"phone":"email"}function s(e){var t;return(t=e.auth.signup)==null?void 0:t.signupResult}l.default=e}),98);
__d("PolarisAcceptTermsOfUseForm.react",["PolarisAcceptTermsOfUseBody.react","PolarisAuthStrings","PolarisReactRedux.react","PolarisRegistrationLogger","PolarisSignupActions","PolarisSignupFormFields.react","PolarisSignupTypesHelpers","react","react-compiler-runtime","usePolarisEmailOrPhoneContactpointType"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(18),n=e.onSignup,a=e.requestInFlight,i=e.signupNonSpecificError,l=e.style,u=l===void 0?"default":l,m=o("PolarisReactRedux.react").useDispatch(),_=o("PolarisReactRedux.react").useSelector(p),f=r("usePolarisEmailOrPhoneContactpointType")(),g;t[0]!==f||t[1]!==m?(g=function(){m(o("PolarisSignupActions").returnToBaseSignupForm()),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:f,event_name:"back_button_clicked",step:"acceptTerms"})},t[0]=f,t[1]=m,t[2]=g):g=t[2];var h=g,y;t[3]!==f||t[4]!==n||t[5]!==_?(y=function(){n(o("PolarisSignupTypesHelpers").convertSignupResultToSignupFields(_)),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:f,event_name:"accept_terms_form_next_clicked"})},t[3]=f,t[4]=n,t[5]=_,t[6]=y):y=t[6];var C=y,b,v;t[7]!==f?(b=function(){o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:f,event_name:"form_load",step:"acceptTerms"})},v=[f],t[7]=f,t[8]=b,t[9]=v):(b=t[8],v=t[9]),c(b,v);var S=d(!0),R=S[0],L=S[1],E;t[10]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(r("PolarisAcceptTermsOfUseBody.react"),{onAcceptAllTermsChange:function(t){L(!t)}}),t[10]=E):E=t[10];var k;return t[11]!==h||t[12]!==C||t[13]!==R||t[14]!==a||t[15]!==i||t[16]!==u?(k=s.jsx(r("PolarisSignupFormFields.react"),{handleGoBack:h,handleNext:C,header:o("PolarisAuthStrings").AGREE_TO_TERMS,isNextActionDisabled:R,requestInFlight:a,signupNonSpecificError:i,style:u,subHeader:o("PolarisAuthStrings").PERSONAL_INFO_SECURE,children:E}),t[11]=h,t[12]=C,t[13]=R,t[14]=a,t[15]=i,t[16]=u,t[17]=k):k=t[17],k}function p(e){var t;return(t=e.auth.signup)==null?void 0:t.signupResult}l.default=m}),98);
__d("PolarisAccountPrivacyHelpers",[],(function(t,n,r,o,a,i){"use strict";var e={PRIVATE:"private",PUBLIC:"public"},l={NUX_FORM_IMPRESSION:"web_pbd_nux_form_impression",NUX_FORM_NEXT_BUTTON_CLICK:"web_pbd_nux_form_next_button_click",NUX_FORM_SELECT_OPTION:"web_pbd_nux_form_select_option",NUX_FORM_SET_PRIVATE_FAILURE:"web_pbd_nux_form_set_private_failure",NUX_FORM_SET_PRIVATE_SUCCESS:"web_pbd_nux_form_set_private_success",NUX_PAGE_IMPRESSION:"web_pbd_nux_page_impression"};i.PrivacyOptionsEnum=e,i.PBDNuxEventsEnum=l}),66);
__d("PolarisAccountPrivacyBody.react",["IGDSBox.react","IGDSRadioButton.react","IGDSTextVariants.react","PolarisAccountPrivacyHelpers","PolarisAuthStrings","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.selectedBodyOption,a=e.setSelectedBodyOption,i;if(t[0]===Symbol.for("react.memo_cache_sentinel")){var l;i=[{desc:(l=o("PolarisAuthStrings")).PRIVATE_ACCOUNT_DESCRIPTION,label:l.PRIVATE_ACCOUNT,value:o("PolarisAccountPrivacyHelpers").PrivacyOptionsEnum.PRIVATE},{desc:l.PUBLIC_ACCOUNT_DESCRIPTION,label:l.PUBLIC_ACCOUNT,value:o("PolarisAccountPrivacyHelpers").PrivacyOptionsEnum.PUBLIC}],t[0]=i}else i=t[0];var u=i,c;return t[1]!==n||t[2]!==a?(c=s.jsx(r("IGDSBox.react"),{marginTop:2,position:"relative",children:u.map(function(e){return s.jsx(r("IGDSBox.react"),{marginBottom:4,marginTop:3,children:s.jsx(r("IGDSRadioButton.react"),{isChecked:e.value===n,label:s.jsxs(s.Fragment,{children:[s.jsx(r("IGDSBox.react"),{children:s.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{textAlign:"start",children:e.label})}),s.jsx(r("IGDSBox.react"),{marginTop:1,position:"relative",children:s.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"start",children:e.desc})})]}),onChange:function(){return a(e.value)},value:e.value})},e.value)})}),t[1]=n,t[2]=a,t[3]=c):c=t[3],c}l.default=u}),98);
__d("PolarisSettingsActionSetPrivateAccount",["FBLogger","InstagramGenericSettingStrings","PolarisAPISetPrivateAccount","PolarisGenericStrings","PolarisSentryFeedbackActions"],(function(t,n,r,o,a,i,l){"use strict";function e(t){var n=t.handleFailure,a=t.handleSuccess,i=t.isNuxAction,l=t.isUsingConfirmationDialog,s=t.privateAccount,u=t.publicToPrivateRateLimitOverride,c=t.setErrorMessage,d=t.setLoading;return function(t){return d!=null&&d(!0),c!=null&&c(null),t({privateAccount:s,type:"PRIVATE_ACCOUNT_UPDATE_REQUESTED"}),o("PolarisAPISetPrivateAccount").setPrivateAccount(s,u,i,l).then(function(r){if(s&&r.status==="ok"&&r.has_private_public_switch_restriction){var i=r.privacy_rate_limit_dialog_message;t({message:i,title:r.privacy_rate_limit_dialog_title,type:"ACCOUNT_PRIVACY_PUBLIC_TO_PRIVATE_SWITCH_RATE_LIMITED"}),d!=null&&d(!1),c!=null&&c(i),n!=null&&n();return}if(!s&&r.status==="ok"&&r.has_private_public_switch_restriction){var l=r.privacy_rate_limit_dialog_message;t({message:l,title:r.privacy_rate_limit_dialog_title,type:"ACCOUNT_PRIVACY_PRIVATE_TO_PUBLIC_SWITCH_RATE_LIMITED"}),d!=null&&d(!1),c!=null&&c(l),n!=null&&n();return}r.status==="ok"?(t({privateAccount:s,toast:{text:o("InstagramGenericSettingStrings").GENERIC_SETTINGS_SAVED},type:"PRIVATE_ACCOUNT_UPDATE_SUCCEEDED"}),a!=null&&a()):(t({privateAccount:!s,toast:{actionHandler:function(){return t(e({privateAccount:s}))},actionText:o("PolarisGenericStrings").RETRY_TEXT,text:o("InstagramGenericSettingStrings").GENERIC_SETTINGS_ERROR},type:"PRIVATE_ACCOUNT_UPDATE_FAILED"}),d!=null&&d(!1),c!=null&&c(o("PolarisGenericStrings").GENERIC_ERROR_MESSAGE),n!=null&&n())},function(a){var i,l;d!=null&&d(!1);var u=((i=a.responseObject)==null?void 0:i.spam)||!1;if(u){var m,p,_,f,g,h,y,C=(m=a.responseObject)==null?void 0:m.feedback_title,b=(p=a.responseObject)==null?void 0:p.feedback_message,v=(_=a.responseObject)==null?void 0:_.feedback_url,S=(f=a.responseObject)==null?void 0:f.feedback_action,R=(g=a.responseObject)==null?void 0:g.feedback_appeal_label,L=(h=a.responseObject)==null?void 0:h.restriction_enrollment_data,E=(y=a.responseObject)==null?void 0:y.enforcement_transparency_instance_identifier;t(o("PolarisSentryFeedbackActions").showSentryFeedback({action:S,enforcement_transparency_instance_identifier:E,feedback_appeal_label:R,message:b,restriction_enrollment_data:L,sourceOfAction:"set_private_account",title:C,url:v})),c!=null&&c(b),n!=null&&n()}var k=(l=a.responseObject)==null?void 0:l.message;t({privateAccount:!s,toast:u?void 0:{actionHandler:function(){return t(e({privateAccount:s}))},actionText:o("PolarisGenericStrings").RETRY_TEXT,text:k||o("InstagramGenericSettingStrings").GENERIC_SETTINGS_ERROR},type:"PRIVATE_ACCOUNT_UPDATE_FAILED"}),c!=null&&c(k||o("PolarisGenericStrings").GENERIC_ERROR_MESSAGE),n!=null&&n(),r("FBLogger")("ig_web").catching(a)})}}l.setPrivateAccount=e}),98);
__d("PolarisAccountPrivacyForm.react",["IGDSBox.react","IGDSLockOutline96Icon.react","IGDSTextVariants.react","IgtsDefaultsFalcoEvent","InstagramODS","PolarisAccountPrivacyBody.react","PolarisAccountPrivacyHelpers","PolarisAuthStrings","PolarisConfig","PolarisGenericOnboardingUnit.react","PolarisReactRedux.react","PolarisSettingsActionSetPrivateAccount","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(32),n=e.buttonLabel,a=e.defaultedToPrivate,i=e.handleNext,l=e.subtitle,u=a||r("gkx")("6489")||r("gkx")("25363"),m=d(u?o("PolarisAccountPrivacyHelpers").PrivacyOptionsEnum.PRIVATE:null),p=m[0],_=m[1],f;t[0]===Symbol.for("react.memo_cache_sentinel")?(f=o("PolarisConfig").getViewerId(),t[0]=f):f=t[0];var g=f,h=o("PolarisReactRedux.react").useDispatch(),y=d(!1),C=y[0],b=y[1],v=d(null),S=v[0],R=v[1],L,E;t[1]!==u?(L=function(){r("InstagramODS").incr("web.pbd.impression"),r("IgtsDefaultsFalcoEvent").log(function(){return{client_userid:g,event_type:o("PolarisAccountPrivacyHelpers").PBDNuxEventsEnum.NUX_FORM_IMPRESSION,is_set_to_private:u}})},E=[u,g],t[1]=u,t[2]=L,t[3]=E):(L=t[2],E=t[3]),c(L,E);var k;t[4]!==i||t[5]!==p?(k=function(){r("InstagramODS").incr("web.pbd.set_private_success"),r("IgtsDefaultsFalcoEvent").log(function(){return{client_userid:g,event_type:o("PolarisAccountPrivacyHelpers").PBDNuxEventsEnum.NUX_FORM_SET_PRIVATE_SUCCESS,target_control_type:p}}),i()},t[4]=i,t[5]=p,t[6]=k):k=t[6];var I=k,T;t[7]!==p?(T=function(){r("InstagramODS").incr("web.pbd.set_private_failure"),r("IgtsDefaultsFalcoEvent").log(function(){return{client_userid:g,event_type:o("PolarisAccountPrivacyHelpers").PBDNuxEventsEnum.NUX_FORM_SET_PRIVATE_FAILURE,target_control_type:p}})},t[7]=p,t[8]=T):T=t[8];var D=T,x;t[9]!==h||t[10]!==D||t[11]!==I||t[12]!==p?(x=function(){r("InstagramODS").incr("web.pbd.next_button_click"),r("IgtsDefaultsFalcoEvent").log(function(){return{client_userid:g,event_type:o("PolarisAccountPrivacyHelpers").PBDNuxEventsEnum.NUX_FORM_NEXT_BUTTON_CLICK,target_control_type:p}}),h(o("PolarisSettingsActionSetPrivateAccount").setPrivateAccount({handleFailure:D,handleSuccess:I,isNuxAction:!0,privateAccount:p===o("PolarisAccountPrivacyHelpers").PrivacyOptionsEnum.PRIVATE,publicToPrivateRateLimitOverride:!0,setErrorMessage:R,setLoading:b}))},t[9]=h,t[10]=D,t[11]=I,t[12]=p,t[13]=x):x=t[13];var $=x,P;t[14]===Symbol.for("react.memo_cache_sentinel")?(P=function(t){r("InstagramODS").incr("web.pbd.option_select"),r("IgtsDefaultsFalcoEvent").log(function(){return{client_userid:g,event_type:o("PolarisAccountPrivacyHelpers").PBDNuxEventsEnum.NUX_FORM_SELECT_OPTION,target_control_type:t}}),_(t)},t[14]=P):P=t[14];var N=P,M;t[15]!==l?(M=s.jsx(r("IGDSBox.react"),{marginBottom:4,position:"relative",children:s.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"center",children:l})}),t[15]=l,t[16]=M):M=t[16];var w;t[17]!==p?(w=s.jsx(r("PolarisAccountPrivacyBody.react"),{selectedBodyOption:p,setSelectedBodyOption:N}),t[17]=p,t[18]=w):w=t[18];var A;t[19]!==M||t[20]!==w?(A=s.jsxs(s.Fragment,{children:[M,w]}),t[19]=M,t[20]=w,t[21]=A):A=t[21];var F=p==null,O;t[22]!==S?(O=S!=null?s.jsx(r("IGDSBox.react"),{paddingX:1,paddingY:4,position:"relative",children:s.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"errorOrDestructive",textAlign:"center",children:S})}):null,t[22]=S,t[23]=O):O=t[23];var B;t[24]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(r("IGDSLockOutline96Icon.react"),{alt:o("PolarisAuthStrings").ACCOUNT_PRIVACY_HEADER_TEXT,size:64}),t[24]=B):B=t[24];var W;return t[25]!==n||t[26]!==$||t[27]!==C||t[28]!==A||t[29]!==F||t[30]!==O?(W=s.jsx(r("PolarisGenericOnboardingUnit.react"),{bodyText:A,buttonDisabled:F,buttonText:n,footer:O,headerText:o("PolarisAuthStrings").ACCOUNT_PRIVACY_HEADER_TEXT,icon:B,isProcessing:C,onButtonClick:$}),t[25]=n,t[26]=$,t[27]=C,t[28]=A,t[29]=F,t[30]=O,t[31]=W):W=t[31],W}l.default=m}),98);
__d("polarisActivityUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=["comments","likes","relationships","usertags"];for(var n of t)if(n in e&&e[n]>0)return!0;return!1}i.hasUnreadCountsV2=e}),66);
__d("PolarisActivityStorySelectors",["polarisActivityUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.activityStories}function s(t){return e(t).error}function u(t){return e(t).loading}function c(t){return e(t).newStories}function d(t){return e(t).oldStories}function m(t){return e(t).followRequests}function p(t){return e(t).relationships}function _(t){return Object.keys(e(t).followRequests).length>0}function f(t){return e(t).suggestedUsers}function g(t){return e(t).partition}function h(t){return e(t).countsRequested}function y(t){return e(t).counts}function C(t){return o("polarisActivityUtils").hasUnreadCountsV2(e(t).counts)}function b(t){return e(t).showBanner}l.feedError=s,l.feedIsLoading=u,l.newStories=c,l.oldStories=d,l.followRequests=m,l.relationships=p,l.showFollowRequests=_,l.suggestedUsers=f,l.partition=g,l.countsIsLoading=h,l.unreadCounts=y,l.hasUnread=C,l.showBanner=b}),98);
__d("PolarisAppsellUnit.react",["fbt","IGDSTextVariants.react","PolarisAppInstallLink.react","PolarisConfigConstants","gkx","polarisGetAppPlatform","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(2);r("vulture")("OX32zooyM7q2_GoqrzauVIBAj6g=");var t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s._(/*BTDS*/"Get the app."),e[0]=t):t=e[0];var n=t,a;return e[1]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx("div",{className:"x1anpbxc x3aesyq xyorhqc xqsn43r",children:u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",children:n})}),e[1]=a):a=e[1],a}function d(e){var t=o("react-compiler-runtime").c(21),n=e.appInstallCampaign,a=e.ctaTypeV2,i=e.hideText,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=o("polarisGetAppPlatform").isWindowsNT()&&r("gkx")("25364"),t[0]=l):l=t[0];var s=l,d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x78zum5 xdt5ytf"},t[1]=d):d=t[1];var m;t[2]!==i?(m=i!==!0&&u.jsx(c,{}),t[2]=i,t[3]=m):m=t[3];var p;t[4]===Symbol.for("react.memo_cache_sentinel")?(p={className:"x78zum5 x1b7blni xl56j7k x1anpbxc x14z9mp xyorhqc x1lziwak"},t[4]=p):p=t[4];var _;t[5]!==n||t[6]!==a?(_=!o("polarisGetAppPlatform").isAndroid()&&!s&&u.jsx(r("PolarisAppInstallLink.react"),{campaign:n,ctaTypeV2:a,"data-testid":void 0,platform:o("PolarisConfigConstants").appPlatformTypes.IOS}),t[5]=n,t[6]=a,t[7]=_):_=t[7];var f;t[8]!==n||t[9]!==a?(f=!o("polarisGetAppPlatform").isIOS()&&u.jsx(r("PolarisAppInstallLink.react"),{campaign:n,ctaTypeV2:a,"data-testid":void 0,platform:o("PolarisConfigConstants").appPlatformTypes.ANDROID}),t[8]=n,t[9]=a,t[10]=f):f=t[10];var g;t[11]!==n||t[12]!==a?(g=s&&u.jsx(r("PolarisAppInstallLink.react"),{campaign:n,ctaTypeV2:a,"data-testid":void 0,platform:o("PolarisConfigConstants").appPlatformTypes.WINDOWSNT10}),t[11]=n,t[12]=a,t[13]=g):g=t[13];var h;t[14]!==_||t[15]!==f||t[16]!==g?(h=u.jsxs("div",babelHelpers.extends({},p,{children:[_,f,g]})),t[14]=_,t[15]=f,t[16]=g,t[17]=h):h=t[17];var y;return t[18]!==m||t[19]!==h?(y=u.jsxs("div",babelHelpers.extends({},d,{children:[m,h]})),t[18]=m,t[19]=h,t[20]=y):y=t[20],y}l.default=d}),226);
__d("PolarisTooManyAccountsDialog.react",["fbt","PolarisConfirmDialog.react","PolarisGenericStrings","PolarisOneTapLogin","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(8),n=e.onClose,a=e.onConfirm,i=d,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=i(),t[0]=l):l=t[0];var c;t[1]!==a?(c=a!=null?s._(/*BTDS*/"Edit accounts"):void 0,t[1]=a,t[2]=c):c=t[2];var m=a!=null?a:void 0,p;t[3]===Symbol.for("react.memo_cache_sentinel")?(p=s._(/*BTDS*/"Can't add account"),t[3]=p):p=t[3];var _;return t[4]!==n||t[5]!==c||t[6]!==m?(_=u.jsx(r("PolarisConfirmDialog.react"),{body:l,cancelLabel:o("PolarisGenericStrings").OK_TEXT,confirmLabel:c,onClose:n,onConfirm:m,title:p}),t[4]=n,t[5]=c,t[6]=m,t[7]=_):_=t[7],_}function d(){return o("PolarisOneTapLogin").TOO_MANY_ACCOUNTS_TEXT}l.default=c}),226);
__d("XPolarisLoginControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/accounts/login/",Object.freeze({force_authentication:!1,enable_fb_login:!1,is_from_rle:!1,is_profile_curation:!1,mtn:!1,flo:!1}),new Set(["force_authentication","enable_fb_login","is_from_rle","is_profile_curation","mtn"])),s=e;l.default=s}),98);
__d("usePolarisOneTapLoginEditModeStateQuery.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"XDTViewer",kind:"LinkedField",name:"xdt_viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"PolarisOneTapLogin",kind:"LinkedField",name:"one_tap_login",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"edit_mode",storageKey:null}],storageKey:null}]}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisOneTapLoginEditModeStateQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"usePolarisOneTapLoginEditModeStateQuery",selections:e},params:{cacheID:"fded0f553435868ea14676d1156763b5",id:null,metadata:{is_distillery:!0,root_field_name:["xdt_viewer"]},name:"usePolarisOneTapLoginEditModeStateQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("usePolarisOneTapLoginEditModeState",["CometRelay","PolarisLoginLogger","react","react-compiler-runtime","usePolarisOneTapLoginEditModeStateQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t,r,a=o("react-compiler-runtime").c(7),i=o("CometRelay").useRelayEnvironment(),l,s;a[0]===Symbol.for("react.memo_cache_sentinel")?(l=e!==void 0?e:e=n("usePolarisOneTapLoginEditModeStateQuery.graphql"),s={},a[0]=l,a[1]=s):(l=a[0],s=a[1]);var u=o("CometRelay").useClientQuery(l,s),c;a[2]!==i?(c=function(t){o("CometRelay").commitLocalUpdate(i,function(e){e.getRoot().getOrCreateLinkedRecord("xdt_viewer","XDTViewer").getOrCreateLinkedRecord("one_tap_login","PolarisOneTapLogin").setValue(t,"edit_mode")}),o("PolarisLoginLogger").logLoginEvent({event_name:t?"one_tap_login_done_editing_click":"one_tap_login_manage_accounts_click",login_type:"device_based_login"})},a[2]=i,a[3]=c):c=a[3];var d=c,m=(t=u==null||(r=u.xdt_viewer)==null||(r=r.one_tap_login)==null?void 0:r.edit_mode)!=null?t:!1,p;return a[4]!==m||a[5]!==d?(p=[m,d],a[4]=m,a[5]=d,a[6]=p):p=a[6],p}l.default=c}),98);
__d("PolarisAuthTypeSwitcher.react",["fbt","IGDSBox.react","IGDSButton.react","IGDSTextVariants.react","PolarisAuthActionConstants","PolarisAuthActions","PolarisAuthConstants","PolarisAuthLimitedRegistrationHelpers","PolarisAuthStrings","PolarisFastLink.react","PolarisLinkBuilder","PolarisLoggedOutCtaClickLogger","PolarisLoggedOutUpsellExposureV2","PolarisLoginLogger","PolarisMultiSignupTypes","PolarisOneTapLogin","PolarisOneTapLoginStorage","PolarisReactRedux.react","PolarisRoutes","PolarisSignupActions","PolarisTooManyAccountsDialog.react","PolarisUA","XPolarisLoginControllerRouteBuilder","XPolarisMultiStepSignupControllerRouteBuilder","react","react-compiler-runtime","usePolarisOneTapLoginEditModeState","usePolarisPageID"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useState,p=o("PolarisAuthLimitedRegistrationHelpers").hasRestrictedRegistration();function _(e){var t=o("react-compiler-runtime").c(17),n=e.className,a=e.fromLoggedOutDialog,i=e.onClick,l=a===void 0?!1:a,c=o("PolarisReactRedux.react").useDispatch(),d=r("usePolarisPageID")(),m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=u.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"primaryButton",children:s._(/*BTDS*/"Sign up")}),t[0]=m):m=t[0];var _=m,f;t[1]!==c||t[2]!==l||t[3]!==i||t[4]!==d?(f=function(){return o("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("signup",l?"auth_form_dialog":"auth_form",d),o("PolarisLoginLogger").logLoginEvent({event_flow:"login_manual",event_name:"sign_up_button_clicked"}),p&&c(o("PolarisSignupActions").setShowRegulatoryConsentModal()),i},t[1]=c,t[2]=l,t[3]=i,t[4]=d,t[5]=f):f=t[5];var g=f,h;t[6]!==d?(h=function(){if(o("PolarisUA").isMobile()&&!p)return r("XPolarisMultiStepSignupControllerRouteBuilder").buildUri({step_name:o("PolarisMultiSignupTypes").getFirstStep()}).toString();if(!o("PolarisUA").isMobile()&&!p||d!=="unifiedHome")return o("PolarisRoutes").EMAIL_SIGNUP_PATH},t[6]=d,t[7]=h):h=t[7];var y=h,C;t[8]===Symbol.for("react.memo_cache_sentinel")?(C=s._(/*BTDS*/"Don't have an account?"),t[8]=C):C=t[8];var b;t[9]!==y?(b=y(),t[9]=y,t[10]=b):b=t[10];var v;t[11]!==g||t[12]!==b?(v=u.jsx(r("PolarisFastLink.react"),{"data-testid":void 0,href:b,onClick:g,prefetchQueriesOnMount_I_KNOW_WHAT_IM_DOING:r("PolarisLoggedOutUpsellExposureV2").xplatform.enable_faster_nav_for_cta,preloadCodeOnMount:r("PolarisLoggedOutUpsellExposureV2").xplatform.enable_faster_nav_for_cta,children:_}),t[11]=g,t[12]=b,t[13]=v):v=t[13];var S;return t[14]!==n||t[15]!==v?(S=u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"auto",children:u.jsxs("p",{className:n,children:[C," ",v]})}),t[14]=n,t[15]=v,t[16]=S):S=t[16],S}function f(e){var t=o("react-compiler-runtime").c(11),n=e.className,a=e.fromLoggedOutDialog,i=e.onClick,l=a===void 0?!1:a,c=r("usePolarisPageID")(),d;t[0]!==l||t[1]!==i||t[2]!==c?(d=function(){return o("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("login",l?"auth_form_dialog":"auth_form",c),i},t[0]=l,t[1]=i,t[2]=c,t[3]=d):d=t[3];var m=d,p;t[4]===Symbol.for("react.memo_cache_sentinel")?(p=u.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"primaryButton",children:s._(/*BTDS*/"Log in")}),t[4]=p):p=t[4];var _=p,f;if(t[5]!==m){var g;t[7]===Symbol.for("react.memo_cache_sentinel")?(g=o("PolarisLinkBuilder").buildLoginLink("",{source:"auth_switcher"}),t[7]=g):g=t[7],f=s._(/*BTDS*/"Have an account? {link that reads Log in}",[s._param("link that reads Log in",u.jsx(r("PolarisFastLink.react"),{"data-testid":void 0,href:g,onClick:m,children:_}))]),t[5]=m,t[6]=f}else f=t[6];var h;return t[8]!==n||t[9]!==f?(h=u.jsx("p",{className:n,children:f}),t[8]=n,t[9]=f,t[10]=h):h=t[10],h}function g(e){var t=o("react-compiler-runtime").c(34),n=e.onSwitchAuthType,a=e.pageType,i=o("PolarisReactRedux.react").useDispatch(),l=r("usePolarisPageID")(),c=r("usePolarisOneTapLoginEditModeState")(),d=c[0],_=c[1],f=m(!1),g=f[0],h=f[1],y;t[0]!==n?(y=function(){o("PolarisOneTapLogin").hasMaxOneTapNonces()?(h(!0),o("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_login_switch_account_too_many_accounts",login_type:"device_based_login"})):(n(o("PolarisAuthActionConstants").AUTH.login),o("PolarisLoginLogger").logLoginEvent({event_flow:"aymh",event_name:"one_tap_login_switch_account_click",login_type:"device_based_login"}))},t[0]=n,t[1]=y):y=t[1];var C=y,b;t[2]!==d||t[3]!==_?(b=function(){_(!d)},t[2]=d,t[3]=_,t[4]=b):b=t[4];var v=b,S;t[5]!==l?(S=function(){if(!(p&&l==="unifiedHome"))return o("PolarisUA").isMobile()?r("XPolarisMultiStepSignupControllerRouteBuilder").buildUri({step_name:o("PolarisMultiSignupTypes").getFirstStep()}).toString():o("PolarisRoutes").EMAIL_SIGNUP_PATH},t[5]=l,t[6]=S):S=t[6];var R=S,L;if(t[7]!==i||t[8]!==R||t[9]!==C||t[10]!==n||t[11]!==a){var E;t[13]!==a?(E=o("PolarisOneTapLogin").hasMaxOneTapNonces()?void 0:a===o("PolarisAuthConstants").AuthPageType.Signup?r("XPolarisLoginControllerRouteBuilder").buildURL({}):void 0,t[13]=a,t[14]=E):E=t[14];var k;t[15]===Symbol.for("react.memo_cache_sentinel")?(k=s._(/*BTDS*/"Switch accounts"),t[15]=k):k=t[15];var I;t[16]!==C||t[17]!==E?(I=u.jsx(r("IGDSButton.react"),{display:"block",href:E,label:k,onClick:C,variant:"primary_link"}),t[16]=C,t[17]=E,t[18]=I):I=t[18];var T;t[19]!==R?(T=R(),t[19]=R,t[20]=T):T=t[20];var D;t[21]===Symbol.for("react.memo_cache_sentinel")?(D=s._(/*BTDS*/"Sign up"),t[21]=D):D=t[21];var x;t[22]!==i||t[23]!==n?(x=function(){if(p){i(o("PolarisSignupActions").setShowRegulatoryConsentModal());return}n(o("PolarisAuthActionConstants").AUTH.signup),o("PolarisLoginLogger").logLoginEvent({event_flow:"aymh",event_name:"one_tap_login_signup_click",login_type:"device_based_login"})},t[22]=i,t[23]=n,t[24]=x):x=t[24];var $;t[25]!==x||t[26]!==T?($=u.jsx(r("IGDSButton.react"),{display:"block",href:T,label:D,onClick:x,variant:"primary_link"}),t[25]=x,t[26]=T,t[27]=$):$=t[27],L=u.jsx("div",{children:s._(/*BTDS*/"{link that reads Switch Accounts} or {link that reads sign up}",[s._param("link that reads Switch Accounts",I),s._param("link that reads sign up",$)])}),t[7]=i,t[8]=R,t[9]=C,t[10]=n,t[11]=a,t[12]=L}else L=t[12];var P;t[28]!==v||t[29]!==g?(P=g&&u.jsx(r("PolarisTooManyAccountsDialog.react"),{onClose:function(){return h(!1)},onConfirm:function(){v(),h(!1)}}),t[28]=v,t[29]=g,t[30]=P):P=t[30];var N;return t[31]!==L||t[32]!==P?(N=u.jsxs(u.Fragment,{children:[L,P]}),t[31]=L,t[32]=P,t[33]=N):N=t[33],N}function h(e){var t=o("react-compiler-runtime").c(41),n=e.authType,a=e.className,i=e.fromLoggedOutDialog,l=e.loggedInFBUser,s=e.onNavigate,c=e.onSwitchAuthType,d=e.pageType,m=e.primary,p=i===void 0?!1:i;if(n===o("PolarisAuthActionConstants").AUTH.fbLogin||n===o("PolarisAuthActionConstants").AUTH.fbAccountPicker||n===o("PolarisAuthActionConstants").AUTH.oneTapLogin){var h,y;if(t[0]!==n||t[1]!==a){var C,b=o("PolarisOneTapLoginStorage").getLoginNonces();if(n===o("PolarisAuthActionConstants").AUTH.oneTapLogin&&Object.values(b).length===1){var v=Object.keys(b)[0];C=b[v].username}h=a,y=C!=null&&u.jsx(r("IGDSBox.react"),{alignItems:"center",marginBottom:1,position:"relative",children:o("PolarisAuthStrings").notUsernameText(C)}),t[0]=n,t[1]=a,t[2]=h,t[3]=y}else h=t[2],y=t[3];var S;t[4]!==c||t[5]!==d||t[6]!==m?(S=u.jsx(g,{onSwitchAuthType:c,pageType:d,primary:m}),t[4]=c,t[5]=d,t[6]=m,t[7]=S):S=t[7];var R;return t[8]!==h||t[9]!==y||t[10]!==S?(R=u.jsxs("div",{className:h,children:[y,S]}),t[8]=h,t[9]=y,t[10]=S,t[11]=R):R=t[11],R}else if(n===o("PolarisAuthActionConstants").AUTH.fbConnectV2&&l!=null&&l.profile_name!=null){var L;t[12]!==l.profile_name?(L=o("PolarisAuthStrings").notUsernameText(l.profile_name.split(" ")[0]),t[12]=l.profile_name,t[13]=L):L=t[13];var E;t[14]!==L?(E=u.jsx(r("IGDSBox.react"),{alignItems:"center",marginBottom:1,position:"relative",children:L}),t[14]=L,t[15]=E):E=t[15];var k;t[16]!==c||t[17]!==d||t[18]!==m?(k=u.jsx(g,{onSwitchAuthType:c,pageType:d,primary:m}),t[16]=c,t[17]=d,t[18]=m,t[19]=k):k=t[19];var I;return t[20]!==a||t[21]!==E||t[22]!==k?(I=u.jsxs("div",{className:a,children:[E,k]}),t[20]=a,t[21]=E,t[22]=k,t[23]=I):I=t[23],I}else if(n===o("PolarisAuthActionConstants").AUTH.login||n===o("PolarisAuthActionConstants").AUTH.none){var T;t[24]!==s?(T=function(){return s==null?void 0:s("signup")},t[24]=s,t[25]=T):T=t[25];var D;return t[26]!==a||t[27]!==p||t[28]!==T?(D=u.jsx(_,{className:a,fromLoggedOutDialog:p,onClick:T}),t[26]=a,t[27]=p,t[28]=T,t[29]=D):D=t[29],D}else if(n===o("PolarisAuthActionConstants").AUTH.signup){var x;t[30]!==s?(x=function(){return s==null?void 0:s("login")},t[30]=s,t[31]=x):x=t[31];var $;return t[32]!==a||t[33]!==p||t[34]!==x?($=u.jsx(f,{className:a,fromLoggedOutDialog:p,onClick:x}),t[32]=a,t[33]=p,t[34]=x,t[35]=$):$=t[35],$}else if(o("PolarisUA").isMobile()){var P;t[36]!==s?(P=function(){return s==null?void 0:s("signup")},t[36]=s,t[37]=P):P=t[37];var N;return t[38]!==a||t[39]!==P?(N=u.jsx(_,{className:a,onClick:P}),t[38]=a,t[39]=P,t[40]=N):N=t[40],N}return null}function y(e){var t=e.auth.authType;return{authType:t}}function C(e){return{onSwitchAuthType:function(n){e(o("PolarisAuthActions").switchAuthType(n))}}}var b=o("PolarisReactRedux.react").connect(y,C)(h);l.default=b}),226);
__d("PolarisBarcelonaAppSVGIcon.react",["react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u="Threads";function c(e){var t=o("react-compiler-runtime").c(5),n=e.fill,a=e.size,i=n===void 0?"var(--barcelona-logo)":n,l=a===void 0?34:a;r("vulture")("7bQEAu-DlqjkZDNXRF9VX2XxyTI=");var c;t[0]!==i?(c=s.jsx("path",{d:"M141.537 88.9883C140.71 88.5919 139.87 88.2104 139.019 87.8451C137.537 60.5382 122.616 44.905 97.5619 44.745C97.4484 44.7443 97.3355 44.7443 97.222 44.7443C82.2364 44.7443 69.7731 51.1409 62.102 62.7807L75.881 72.2328C81.6116 63.5383 90.6052 61.6848 97.2286 61.6848C97.3051 61.6848 97.3819 61.6848 97.4576 61.6855C105.707 61.7381 111.932 64.1366 115.961 68.814C118.893 72.2193 120.854 76.925 121.825 82.8638C114.511 81.6207 106.601 81.2385 98.145 81.7233C74.3247 83.0954 59.0111 96.9879 60.0396 116.292C60.5615 126.084 65.4397 134.508 73.775 140.011C80.8224 144.663 89.899 146.938 99.3323 146.423C111.79 145.74 121.563 140.987 128.381 132.296C133.559 125.696 136.834 117.143 138.28 106.366C144.217 109.949 148.617 114.664 151.047 120.332C155.179 129.967 155.42 145.8 142.501 158.708C131.182 170.016 117.576 174.908 97.0135 175.059C74.2042 174.89 56.9538 167.575 45.7381 153.317C35.2355 139.966 29.8077 120.682 29.6052 96C29.8077 71.3178 35.2355 52.0336 45.7381 38.6827C56.9538 24.4249 74.2039 17.11 97.0132 16.9405C119.988 17.1113 137.539 24.4614 149.184 38.788C154.894 45.8136 159.199 54.6488 162.037 64.9503L178.184 60.6422C174.744 47.9622 169.331 37.0357 161.965 27.974C147.036 9.60668 125.202 0.195148 97.0695 0H96.9569C68.8816 0.19447 47.2921 9.6418 32.7883 28.0793C19.8819 44.4864 13.2244 67.3157 13.0007 95.9325L13 96L13.0007 96.0675C13.2244 124.684 19.8819 147.514 32.7883 163.921C47.2921 182.358 68.8816 191.806 96.9569 192H97.0695C122.03 191.827 139.624 185.292 154.118 170.811C173.081 151.866 172.51 128.119 166.26 113.541C161.776 103.087 153.227 94.5962 141.537 88.9883ZM98.4405 129.507C88.0005 130.095 77.1544 125.409 76.6196 115.372C76.2232 107.93 81.9158 99.626 99.0812 98.6368C101.047 98.5234 102.976 98.468 104.871 98.468C111.106 98.468 116.939 99.0737 122.242 100.233C120.264 124.935 108.662 128.946 98.4405 129.507Z",fill:i}),t[0]=i,t[1]=c):c=t[1];var d;return t[2]!==l||t[3]!==c?(d=s.jsx("svg",{"aria-label":u,height:l,role:"img",viewBox:"0 0 192 192",width:l,xmlns:"http://www.w3.org/2000/svg",children:c}),t[2]=l,t[3]=c,t[4]=d):d=t[4],d}l.default=c}),98);
__d("PolarisTextInput.react",["cx","getTextDirection","joinClasses","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["className","type","value"],u,c=u||(u=o("react")),d=(function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,e.$1=c.createRef(),babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.blur=function(){this.$1.current!=null&&this.$1.current.blur()},o.focus=function(){this.$1.current!=null&&this.$1.current.focus()},o.select=function(){this.$1.current!=null&&this.$1.current.select()},o.render=function(){var t,n=this.props,o=n.className,a=n.type,i=n.value,l=babelHelpers.objectWithoutPropertiesLoose(n,e),s=r("joinClasses")(o,"_ac4d","_ap35"),u=a==="text"?r("getTextDirection")((t=i==null?void 0:i.toString())!=null?t:""):void 0;return c.jsx("input",babelHelpers.extends({},l,{className:s,dir:u,ref:this.$1,type:a,value:i}))},n})(c.Component);d.defaultProps={type:"text"},l.default=d}),98);
__d("PolarisLabeledTextInput.react",["cx","PolarisTextInput.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["isInputFocused","isRedesignedSignupFieldInput","onInput","placeholder","slimTextInputCol"],u,c=u||(u=o("react")),d=(function(t){function n(e){var n;return n=t.call(this)||this,n.$4=function(e){var t=e.currentTarget;n.$3(t.value),n.props.onInput&&n.props.onInput(e)},n.state={hasContent:!!e.value},n}babelHelpers.inheritsLoose(n,t),n.getDerivedStateFromProps=function(t,r){return n.$2(t.value||"",r)},n.$2=function(t,n){return t.length>0&&!n.hasContent?{hasContent:!0}:t.length===0?{hasContent:!1}:null};var o=n.prototype;return o.$3=function(t){var e=n.$2(t,this.state);e!==null&&this.setState(e)},o.$5=function(){return this.props.id!=null?this.props.id:void 0},o.blur=function(){this.$1&&this.$1.blur()},o.focus=function(){this.$1&&this.$1.focus()},o.select=function(){this.$1&&this.$1.select()},o.render=function(){var t=this,n=this.props,o=n.isInputFocused,a=n.isRedesignedSignupFieldInput,i=n.onInput,l=n.placeholder,s=n.slimTextInputCol,u=babelHelpers.objectWithoutPropertiesLoose(n,e);return c.jsxs("label",{className:"_aa48"+(this.state.hasContent||o?" _aa49":"")+(a?" _aues":""),htmlFor:this.$5(),children:[c.jsx("span",{className:"_aa4a",children:l}),c.jsx(r("PolarisTextInput.react"),babelHelpers.extends({},u,{className:"_aa4b"+(s?" _add6":"")+(a?" _auet":""),id:this.$5(),onInput:this.$4,ref:function(n){return t.$1=n}}))]})},n})(c.Component);l.default=d}),98);
__d("PolarisSlimTextInput.react",["fbt","IGDSBox.react","PolarisIGCoreButton.react","PolarisLabeledTextInput.react","react","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["accepted","canRefresh","className","disabled","errorMessage","hasError","isPasswordHidden","isRedesignedSignupFieldInput","omitErrorMarginBottom","onFocus","onPasswordToggle","onRefresh","showPasswordToggleLink"],u,c,d=c||(c=o("react")),m={disabled:{backgroundColor:"x19g9edo",color:"x1roi4f4",$$css:!0},inputError:{borderTopColor:"xplnoro",borderInlineEndColor:"x1mrmp0p",borderBottomColor:"x11j5czd",borderInlineStartColor:"x1d24mgy",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0},inputFocused:{borderTopColor:"x11f1dot",borderInlineEndColor:"x1lpj336",borderBottomColor:"x1ii8w9m",borderInlineStartColor:"x1c5q3k4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0},redesigned:{backgroundColor:"x7r02ix",borderTopColor:"x1yvgwvq",borderInlineEndColor:"xjd31um",borderBottomColor:"x1ixjvfu",borderInlineStartColor:"xwt6s21",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},redesignedFocused:{borderTopColor:"x19gtwsn",borderInlineEndColor:"xhpglom",borderBottomColor:"x1xp9za0",borderInlineStartColor:"x1fqc88y",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xnz67gz",borderTopColor:"x19gtwsn",borderInlineEndColor:"xhpglom",borderBottomColor:"x1xp9za0",borderInlineStartColor:"x1fqc88y",borderStartStartRadius:"x1fqc64z",borderStartEndRadius:"xs83zq4",borderEndEndRadius:"xt6ovg4",borderEndStartRadius:"x1ru8ea5",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",boxSizing:"x9f619",color:"x5n08af",display:"x78zum5",flexDirection:"x1q0g3np",fontSize:"xvs91rp",position:"x1n2onr6",width:"xh8yej3",$$css:!0}},p=(function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,e.state={inputFocused:!1},e.$2=function(t){e.props.onFocus&&e.props.onFocus(t),e.setState({inputFocused:!0})},e.$3=function(){e.setState({inputFocused:!1})},babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.$4=function(){var e=this.props,t=e.accepted,n=e.canRefresh,r=e.hasError,o=e.showPasswordToggleLink,a=[];return t===!0?a.push(d.jsx("span",{className:"xo3uz88 x1twbzvy xiy17q3 x17rw0jw x17z2i9w xnsbi7g x1quspbi xermsev x972fbf x10w94by x1qhh985 x14e42zd xjb2p0i xk390pu xdj266r x14z9mp xat24cr x13fj5qh xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},"accepted")):r===!0&&a.push(d.jsx("span",{className:"xo3uz88 x1nxxyus xiy17q3 x17rw0jw x17z2i9w xnsbi7g x1mb7f8p xermsev x972fbf x10w94by x1qhh985 x14e42zd xjb2p0i xk390pu xdj266r x14z9mp xat24cr x13fj5qh xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},"error")),o===!0&&a.push(this.$5()),n===!0&&a.push(this.$6()),a},o.$6=function(){return d.jsx(r("IGDSBox.react"),{marginStart:2,position:"relative",children:d.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:this.props.onRefresh,children:d.jsx("span",{className:"xo3uz88 xcdibw7 xiy17q3 x17rw0jw x1kl0l3y xnsbi7g x1hu2l8e xermsev x1lliihq x6ikm8r x10wlt62 xevxmoj xuxw1ft",children:s._(/*BTDS*/"Refresh Suggestion")})})},"refresh")},o.$5=function(){var e=this.props.isPasswordHidden;return d.jsx(r("IGDSBox.react"),{marginStart:2,position:"relative",children:d.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,color:"ig-secondary-button",onClick:this.props.onPasswordToggle,children:e===!0?s._(/*BTDS*/"Show"):s._(/*BTDS*/"Hide")})},"toggle-password")},o.$7=function(){var e,t;return(e=(t=this.props).onError)==null||e.call(t),d.jsx("div",babelHelpers.extends({},{0:{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 xxk16z8 x78zum5 xdt5ytf x2lah0s x1fhwpqd x1gslohp x14z9mp xat24cr x13fj5qh xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf"},1:{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 xxk16z8 x78zum5 xdt5ytf x2lah0s x1fhwpqd x1gslohp x14z9mp x13fj5qh xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf x1e56ztr"}}[(this.props.omitErrorMarginBottom!==!0)<<0],{children:this.props.errorMessage}))},o.render=function(){var t=this,n=this.props,o=n.accepted,a=n.canRefresh,i=n.className,l=n.disabled,s=n.errorMessage,c=n.hasError,p=n.isPasswordHidden,_=n.isRedesignedSignupFieldInput,f=n.omitErrorMarginBottom,g=n.onFocus,h=n.onPasswordToggle,y=n.onRefresh,C=n.showPasswordToggleLink,b=babelHelpers.objectWithoutPropertiesLoose(n,e),v=this.state.inputFocused,S=c===!0&&s!=null&&s!=="",R=this.$4(),L=(u||(u=r("stylex")))(m.root,_===!0&&m.redesigned,v&&_!==!0&&m.inputFocused,v&&_===!0&&m.redesignedFocused,S&&m.inputError,!!l&&m.disabled);return d.jsxs("div",{className:i,children:[d.jsxs("div",{className:L,children:[d.jsx(r("PolarisLabeledTextInput.react"),babelHelpers.extends({},b,{disabled:l,isInputFocused:v&&!!this.props.isInputFocused,isRedesignedSignupFieldInput:_,onBlur:this.$3,onFocus:this.$2,ref:function(n){return t.$1=n},slimTextInputCol:!0})),d.jsx("div",{className:"x6s0dn4 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdl72j9 x1q0g3np x1c4vz4f x2lah0s xk390pu x5yr21d xdj266r x14z9mp xat24cr x1lziwak xexx8yu x18d9i69 x1c1uobl xf159sx x1n2onr6 xxymvpz",children:R})]}),S&&this.$7()]})},o.focus=function(){this.$1&&this.$1.focus()},n})(d.Component);l.default=p}),226);
__d("PolarisConsentModal.react",["cx","invariant","FBLogger","IGCoreDialog.react","IGCoreModal.react","IGDSBox.react","IGDSButton.react","IGDSCircleCheckPanoOutlineIcon.react","IGDSLockOutline96Icon.react","IGDSRadioButton.react","IGDSRadioButtonGroup.react","IGDSSpinner.react","PolarisAgeCollectionHelpers","PolarisAuthStrings","PolarisConfirmDialog.react","PolarisConsentActions","PolarisConsentConstants","PolarisConsentLogger","PolarisConsentStrings.react","PolarisConsentTypes","PolarisDOBFieldSelect.react","PolarisDateHelpers","PolarisExternalLink.react","PolarisExternalRoutes","PolarisGenericStrings","PolarisIGCoreModalHeader.react","PolarisIsLoggedIn","PolarisNavigationUtils","PolarisReactRedux.react","PolarisSlimTextInput.react","PolarisUA","emptyFunction","isStringNullOrEmpty","joinClasses","nullthrows","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e=["optional_paragraphs","paragraphs"],c=["screenKey"],d,m=d||(d=o("react"));function p(e){return{entry_point:r("nullthrows")(e.entrypointType),module:"instagram_terms_flow",session_id:r("nullthrows")(e.sessionId),user_state:e.isNewUserFlow?"new":"existing"}}function _(e){var t=o("react-compiler-runtime").c(5),n=e.style,r=e.text;switch(n){case"bulletpoint":{var a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x1roi4f4 x1fhwpqd xtaz4m5 xdj266r x11t971q x1e56ztr xyqm7xq xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},t[0]=a):a=t[0];var i;return t[1]!==r?(i=m.jsx("ul",babelHelpers.extends({},a,{children:m.jsx("li",{children:r})})),t[1]=r,t[2]=i):i=t[2],i}case"paragraph":default:{var l;return t[3]!==r?(l=m.jsx("span",{className:"_aa6o",children:r}),t[3]=r,t[4]=l):l=t[4],l}}}function f(e){var t=o("react-compiler-runtime").c(4),n=e.buttonText,a=e.disabled,i=e.onClick,l=!!a,s;return t[0]!==n||t[1]!==i||t[2]!==l?(s=m.jsx(r("IGDSBox.react"),{margin:3,position:"relative",children:m.jsx(r("IGDSButton.react"),{fullWidth:!0,isDisabled:l,label:n,onClick:i,size:"large"})}),t[0]=n,t[1]=i,t[2]=l,t[3]=s):s=t[3],s}function g(e){var t=o("react-compiler-runtime").c(15),n=e.bodyWrapperClass,a=e.consent_key,i=e.headline,l=e.paragraphs,s;t[0]!==i?(s=m.jsx("header",{className:"_aa6p",children:i}),t[0]=i,t[1]=s):s=t[1];var u;t[2]!==n?(u=r("joinClasses")("_aa6q",n),t[2]=n,t[3]=u):u=t[3];var c;if(t[4]!==a||t[5]!==l){var d;t[7]!==a?(d=function(t,n){return m.createElement(_,babelHelpers.extends({},t,{key:a+".paragraph."+n}))},t[7]=a,t[8]=d):d=t[8],c=l.map(d),t[4]=a,t[5]=l,t[6]=c}else c=t[6];var p;t[9]!==u||t[10]!==c?(p=m.jsx("div",{className:u,children:c}),t[9]=u,t[10]=c,t[11]=p):p=t[11];var f;return t[12]!==s||t[13]!==p?(f=m.jsxs(m.Fragment,{children:[s,p]}),t[12]=s,t[13]=p,t[14]=f):f=t[14],f}function h(e){var t=o("react-compiler-runtime").c(8),n=e.handleOpenHelpCenter,r=e.handleOtherOptionsExit,a;t[0]!==n?(a=m.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{onClick:n,children:o("PolarisConsentStrings.react").OPEN_HELP_CENTER_TITLE}),t[0]=n,t[1]=a):a=t[1];var i;t[2]!==r?(i=m.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{onClick:r,children:o("PolarisGenericStrings").CANCEL_TEXT}),t[2]=r,t[3]=i):i=t[3];var l;return t[4]!==r||t[5]!==a||t[6]!==i?(l=m.jsxs(o("IGCoreDialog.react").IGCoreDialog,{onModalClose:r,children:[a,i]}),t[4]=r,t[5]=a,t[6]=i,t[7]=l):l=t[7],l}var y="ageBucketSection",C=[o("PolarisConsentTypes").ConsentScreenKeys.TOS,o("PolarisConsentTypes").ConsentScreenKeys.TOS_AND_TWO_AGE_BUTTON,o("PolarisConsentTypes").ConsentScreenKeys.TOS_AND_THREE_AGE_BUTTON],b=[o("PolarisConsentTypes").ConsentScreenKeys.TOS_AND_THREE_AGE_BUTTON,o("PolarisConsentTypes").ConsentScreenKeys.AGE_CONSENT_THREE_BUTTON],v=(function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a))||this,e.state={ageBucket:null,parentalConsentEntered:!1,showAgeUnderageConfirm:!1,showCloseConfirm:!1,showDobUnderageConfirm:!1,showOtherOptionsMenu:!1},e.onClose=function(){e.$2("dismiss"),e.setState({showAgeUnderageConfirm:!1,showCloseConfirm:!1,showDobUnderageConfirm:!1,showOtherOptionsMenu:!1}),e.props.onCloseModal(),o("PolarisUA").isMobile()&&document.body!=null&&(document.body.style.overflow="auto")},e.$3=function(){e.props.screenKey===o("PolarisConsentTypes").ConsentScreenKeys.FINISHED||e.props.screenKey===o("PolarisConsentTypes").ConsentScreenKeys.ALREADY_FINISHED||e.props.screenKey===o("PolarisConsentTypes").ConsentScreenKeys.PARENTAL_CONSENT?e.onClose():e.setState({showCloseConfirm:!0})},e.$4=function(){e.setState({showCloseConfirm:!1})},e.$5=function(t){e.props.onDobFieldChange(t)},e.$6=function(t){var n=t.target;n instanceof HTMLInputElement&&e.props.onEmailFieldChange(n.value)},e.$7=function(t){e.setState({ageBucket:t})},e.$8=function(){e.setState({showOtherOptionsMenu:!0})},e.$9=function(){e.setState({showOtherOptionsMenu:!1})},e.$10=function(){o("PolarisNavigationUtils").openURLWithFullPageReload(o("PolarisConsentConstants").OTHER_OPTIONS_LINK,{openInNewTab:!0}),e.$2("link_click",{click_point:o("PolarisConsentConstants").OTHER_OPTIONS_LINK}),e.setState({showOtherOptionsMenu:!1})},e.$11=function(){e.$2("next"),e.setState({parentalConsentEntered:!0})},e.$12=function(t){t.preventDefault(),e.state.ageBucket===o("PolarisConsentTypes").ConsentAgeBuckets.UNDER_13&&b.includes(e.props.screenKey)&&!e.props.isNewUserFlow?(e.$2("next",{age_selection:r("nullthrows")(e.state.ageBucket)}),e.setState({showAgeUnderageConfirm:!0})):e.$13()},e.$13=function(){var t={};C.includes(e.props.screenKey)&&(t[o("PolarisConsentTypes").ConsentKeys.TOS_CONSENT_KEY]=o("PolarisConsentTypes").ConsentStates.CONSENTED),e.props.screenKey!==o("PolarisConsentTypes").ConsentScreenKeys.TOS&&(t[o("PolarisConsentTypes").ConsentKeys.AGE_CONSENT_KEY]=e.state.ageBucket===o("PolarisConsentTypes").ConsentAgeBuckets.ABOVE_18?o("PolarisConsentTypes").ConsentStates.CONSENTED:e.state.ageBucket===o("PolarisConsentTypes").ConsentAgeBuckets.UNDER_13?o("PolarisConsentTypes").ConsentStates.BLOCKING:o("PolarisConsentTypes").ConsentStates.WITHDRAWN),e.props.onUpdateConsent(t),e.$2("next",{age_selection:e.state.ageBucket}),e.setState({showAgeUnderageConfirm:!1})},e.$14=function(){e.$2("cancel",{age_selection:r("nullthrows")(e.state.ageBucket)}),e.setState({showAgeUnderageConfirm:!1})},e.$15=function(){var t;e.$2("next"),e.props.onUpdateConsent((t={},t[o("PolarisConsentTypes").ConsentKeys.EXISTING_USER_CONSENT_KEY]=o("PolarisConsentTypes").ConsentStates.CONSENTED,t))},e.$16=function(t){t.preventDefault();var n=new Date,a=new Date(n.getFullYear()-o("PolarisConsentConstants").MIN_INSTAGRAM_AGE,n.getMonth(),n.getDate()),i=o("PolarisDateHelpers").dateTypeToDate(r("nullthrows")(e.props.dob.value)),l=o("PolarisDateHelpers").dateTypeToIsoStringForLogging(r("nullthrows")(e.props.dob.value));i>=a&&e.props.screenKey===o("PolarisConsentTypes").ConsentScreenKeys.DOB&&!e.props.isNewUserFlow?(e.$2("next",{age_selection:l}),e.setState({showDobUnderageConfirm:!0})):e.$17()},e.$17=function(t){t&&t.preventDefault(),e.props.dob.value||u(0,63795);var n=o("PolarisDateHelpers").dateTypeToIsoStringForLogging(e.props.dob.value);e.setState({showDobUnderageConfirm:!1}),e.$2("next",{age_selection:n}),e.props.onUpdateDob(r("nullthrows")(e.props.dob.value))},e.$18=function(){e.props.dob.value||u(0,63795);var t=o("PolarisDateHelpers").dateTypeToIsoStringForLogging(e.props.dob.value);e.$2("cancel",{age_selection:t}),e.setState({showDobUnderageConfirm:!1})},e.$19=function(){e.$2("next"),e.props.email.value!=null||u(0,63796),e.props.onSendParentalConsentEmail(e.props.email.value)},e.$20=function(){e.$2("link_click",{click_point:o("PolarisExternalRoutes").NEW_LEGAL_TERMS_PATH})},e.$21=function(){e.$2("link_click",{click_point:o("PolarisExternalRoutes").INSTAGRAM_PRIVACY_POLICY_PATH})},e.$22=function(){var t,n=(t=e.props.redirectUrl)!=null?t:"/";e.onClose(),o("PolarisNavigationUtils").openURLWithFullPageReload(n)},e.$31=function(){e.$2("skip"),e.props.onSkipParentalConsent()},babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.componentDidUpdate=function(t,n){(this.props.screenKey&&t.screenKey!==this.props.screenKey||this.state.parentalConsentEntered!==n.parentalConsentEntered)&&o("PolarisConsentLogger").logConsentView(babelHelpers.extends({},p(this.props),{stage:this.$1()}))},a.$1=function(){return this.state.showDobUnderageConfirm?"dob_dialog":this.state.showAgeUnderageConfirm?"age_dialog":this.state.showCloseConfirm?"dismiss_dialog":this.props.screenKey===o("PolarisConsentTypes").ConsentScreenKeys.PARENTAL_CONSENT?this.state.parentalConsentEntered?"parental_contact":"parental_approval":this.props.screenKey===o("PolarisConsentTypes").ConsentScreenKeys.UNDER_13?"underage":this.props.screenKey===o("PolarisConsentTypes").ConsentScreenKeys.ALREADY_FINISHED?o("PolarisConsentTypes").ConsentScreenKeys.FINISHED:r("nullthrows")(this.props.screenKey)},a.$2=function(t,n){var e=this.$1(),r={};(n==null?void 0:n.age_selection)!=null&&(r.age_selection=n.age_selection),(n==null?void 0:n.click_point)!=null&&(r.click_point=n.click_point),o("PolarisConsentLogger").logConsentAction(babelHelpers.extends({},p(this.props),{action:t,stage:e},r))},a.$23=function(){var t=r("nullthrows")(this.props.consents[o("PolarisConsentTypes").ConsentKeys.TOS_CONSENT_KEY]),n=t.optional_paragraphs,a=t.paragraphs,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=[].concat(a);return this.state.ageBucket&&this.state.ageBucket!==o("PolarisConsentTypes").ConsentAgeBuckets.ABOVE_18&&n&&n.length>0&&l.splice(1,0,n[0]),m.jsxs("div",{children:[m.jsx(g,babelHelpers.extends({paragraphs:l},i)),this.props.tosVersion===o("PolarisConsentTypes").TosVersion.EU?m.jsx("div",{className:"_aa6r",children:m.jsx(r("PolarisExternalLink.react"),{href:o("PolarisExternalRoutes").NEW_LEGAL_TERMS_PATH,onClick:this.$20,children:o("PolarisConsentStrings.react").TERMS_LINK_TEXT})}):m.jsx("div",{className:"_aa6s",children:m.jsx(o("PolarisConsentStrings.react").RowTermsPrivacyPolicyLinkTextFixed,{linkClassName:"_aa6t"})})]})},a.$24=function(){return m.jsxs("div",{id:y,children:[m.jsx(g,babelHelpers.extends({},this.props.consents[o("PolarisConsentTypes").ConsentKeys.AGE_CONSENT_KEY])),m.jsxs(r("IGDSRadioButtonGroup.react"),{name:"ageRadio",onChange:this.$7,selectedValue:this.state.ageBucket,children:[m.jsx(r("IGDSRadioButton.react"),{label:o("PolarisConsentStrings.react").DOB_ABOVE_18_RADIO_OPTION,value:o("PolarisConsentTypes").ConsentAgeBuckets.ABOVE_18}),m.jsx(r("IGDSRadioButton.react"),{label:o("PolarisConsentStrings.react").DOB_UNDER_18_RADIO_OPTION,value:o("PolarisConsentTypes").ConsentAgeBuckets.UNDER_18})]})]})},a.$25=function(){var e;return m.jsxs("div",{id:y,children:[m.jsx(g,babelHelpers.extends({},this.props.consents[(e=o("PolarisConsentTypes")).ConsentKeys.AGE_CONSENT_KEY])),m.jsxs(r("IGDSRadioButtonGroup.react"),{name:"ageRadio",onChange:this.$7,selectedValue:this.state.ageBucket,children:[m.jsx(r("IGDSRadioButton.react"),{label:o("PolarisConsentStrings.react").DOB_ABOVE_18_RADIO_OPTION,value:e.ConsentAgeBuckets.ABOVE_18}),m.jsx(r("IGDSRadioButton.react"),{label:o("PolarisConsentStrings.react").DOB_13_18_RADIO_OPTION,value:e.ConsentAgeBuckets.TEEN_13_18}),m.jsx(r("IGDSRadioButton.react"),{label:o("PolarisConsentStrings.react").DOB_UNDER_13_RADIO_OPTION,value:e.ConsentAgeBuckets.UNDER_13})]})]})},a.$26=function(){return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xw2csxc x1odjw0f x1p5oq8j xv54qhq xwxc41k xf7dkkf x1n2onr6 x11njtxf",children:[m.jsx(g,babelHelpers.extends({},this.props.consents[o("PolarisConsentTypes").ConsentKeys.EXISTING_USER_CONSENT_KEY],{bodyWrapperClass:"_aa6v"})),m.jsx("div",{className:"_aa6r",children:m.jsx(r("PolarisExternalLink.react"),{href:o("PolarisExternalRoutes").INSTAGRAM_PRIVACY_POLICY_PATH,onClick:this.$21,children:o("PolarisConsentStrings.react").PRIVACY_POLICY_LINK_TEXT})})]}),m.jsx("div",{className:"_aa6w",children:m.jsx(f,{buttonText:this.props.primaryButtonText,disabled:this.props.isUpdating,onClick:this.$15})})]})},a.$27=function(){var e=this.props.screenKey===o("PolarisConsentTypes").ConsentScreenKeys.TOS_AND_TWO_AGE_BUTTON,t=this.props.screenKey===o("PolarisConsentTypes").ConsentScreenKeys.TOS_AND_THREE_AGE_BUTTON,n=!(e||t)||!!this.state.ageBucket,r=o("PolarisConsentStrings.react").OtherOptionsFooter,a=o("PolarisConsentStrings.react").SelectYourAgeFooter;return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xw2csxc x1odjw0f x1p5oq8j xv54qhq xwxc41k xf7dkkf x1n2onr6 x11njtxf",children:[e&&this.$24(),t&&this.$25(),(e||t)&&m.jsx("hr",{className:"_aa6x"}),this.$23()]}),m.jsxs("div",{className:"_aa6w",children:[m.jsx(f,{buttonText:this.props.primaryButtonText,disabled:this.props.isUpdating||!n,onClick:this.$12}),m.jsx("span",{className:"_aa6y",children:n?m.jsx(r,{linkClassName:"_aa6z",otherOptionsClick:this.$8}):m.jsx(a,{ageAnchorLink:"#"+y,linkClassName:"_aa6z",otherOptionsClick:this.$8})})]})]})},a.$28=function(){var e=this.props.screenKey===o("PolarisConsentTypes").ConsentScreenKeys.AGE_CONSENT_TWO_BUTTON,t=this.props.screenKey===o("PolarisConsentTypes").ConsentScreenKeys.AGE_CONSENT_THREE_BUTTON;return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xw2csxc x1odjw0f x1p5oq8j xv54qhq xwxc41k xf7dkkf x1n2onr6 x11njtxf",children:[e&&this.$24(),t&&this.$25()]}),m.jsx("div",{className:"_aa6w",children:m.jsx(f,{buttonText:this.props.primaryButtonText,disabled:this.props.isUpdating||!this.state.ageBucket,onClick:this.$12})})]})},a.$29=function(){var e=this.props.dob.dirty?"":this.props.dob.errorMessage;return this.props.dob||u(0,63795),m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xw2csxc x1odjw0f x1p5oq8j xv54qhq xwxc41k xf7dkkf x1n2onr6 x11njtxf",children:[m.jsx(g,babelHelpers.extends({},this.props.consents[o("PolarisConsentTypes").ConsentKeys.DOB_CONSENT_KEY])),m.jsx("div",{className:"x78zum5 xdt5ytf",children:m.jsx(r("PolarisDOBFieldSelect.react"),{className:"x6s0dn4 x78zum5 xqui205 x1ys307a x1hq5gj4 xyqm7xq",date:r("nullthrows")(this.props.dob.value),errorMessage:e,onDateChange:this.$5})})]}),m.jsx("div",{className:"_aa6w",children:m.jsx(f,{buttonText:this.props.primaryButtonText,disabled:this.props.isUpdating,onClick:this.$16})})]})},a.$30=function(){var e=this.props,t=e.isBlockedFromCreatingAccount,n=e.isNewUserFlow,a=e.screenKey;switch(!0){case(t||a===o("PolarisConsentTypes").ConsentScreenKeys.UNDER_13):return o("PolarisConsentStrings.react").NEW_USER_UNDER_13_TITLE;case n:return r("vulture")("ETM0w4Ob5VqxElT7MwPQ4hOLMZw="),o("PolarisConsentStrings.react").NEW_USER_DOB_HEADER;case a===o("PolarisConsentTypes").ConsentScreenKeys.PARENTAL_CONSENT:return o("PolarisConsentStrings.react").PARENTAL_CONSENT_MODAL_HEADER;default:return o("PolarisConsentStrings.react").MODAL_HEADER}},a.$32=function(){if(!this.state.parentalConsentEntered)return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xw2csxc x1odjw0f x1p5oq8j xv54qhq xwxc41k xf7dkkf x1n2onr6 x11njtxf",children:m.jsx(g,babelHelpers.extends({},r("nullthrows")(this.props.consents[o("PolarisConsentTypes").ConsentKeys.PARENTAL_CONSENT_INTRO_KEY])))}),m.jsxs("div",{className:"_aa6w",children:[m.jsx(f,{buttonText:o("PolarisConsentStrings.react").GET_APPROVAL_BUTTON_SHORT_TEXT,disabled:!1,onClick:this.$11}),m.jsx(f,{buttonText:o("PolarisConsentStrings.react").SKIP_PARENTAL_CONSENT_BUTTON_TEXT,disabled:!1,onClick:this.$31})]})]});var e=this.props.email.dirty?"":this.props.email.errorMessage;return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xw2csxc x1odjw0f x1p5oq8j xv54qhq xwxc41k xf7dkkf x1n2onr6 x11njtxf",children:[m.jsx(g,babelHelpers.extends({},r("nullthrows")(this.props.consents[o("PolarisConsentTypes").ConsentKeys.PARENTAL_CONSENT_EMAIL_KEY]))),m.jsx(r("PolarisSlimTextInput.react"),{"aria-describedby":o("PolarisAuthStrings").EMAIL,"aria-label":o("PolarisAuthStrings").EMAIL,"aria-required":"true",autoCapitalize:"off",autoCorrect:"off",errorMessage:e,hasError:!!e,name:"email",onChange:this.$6,placeholder:o("PolarisAuthStrings").EMAIL,showInlineError:!0,value:this.props.email.value})]}),m.jsx("div",{className:"_aa6w",children:m.jsx(f,{buttonText:o("PolarisConsentStrings.react").PARENTAL_CONSENT_SEND_BUTTON_TEXT,disabled:this.props.isUpdating||r("isStringNullOrEmpty")(this.props.email.value)||!!e,onClick:this.$19})})]})},a.$33=function(){return m.jsxs(m.Fragment,{children:[m.jsx(r("IGDSBox.react"),{alignItems:"center",marginBottom:10,marginTop:10,position:"relative",children:m.jsx(r("IGDSLockOutline96Icon.react"),{alt:o("PolarisConsentStrings.react").BLOCK_UNDER_13_TITLE,size:96})}),m.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 x1r8uery xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x2b8uid x11njtxf",children:m.jsx(_,{style:"paragraph",text:o("PolarisConsentStrings.react").NEW_USER_UNDER_13_BODY})}),m.jsx("div",{className:"_aa6w",children:m.jsx(f,{buttonText:o("PolarisConsentStrings.react").NEW_USER_UNDER_13_CONFIRMATION,disabled:!1,onClick:this.onClose})})]})},a.$34=function(){return m.jsxs(m.Fragment,{children:[m.jsx(r("IGDSBox.react"),{alignItems:"center",marginBottom:10,marginTop:10,children:m.jsx(r("IGDSCircleCheckPanoOutlineIcon.react"),{alt:"",size:62})}),m.jsxs("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xw2csxc x1odjw0f x1p5oq8j xv54qhq xwxc41k xf7dkkf x1n2onr6 x11njtxf",children:[m.jsx("header",{className:"_aa6p",children:o("PolarisConsentStrings.react").NOTIFICATION_DONE_HEADLINE}),m.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 x1r8uery xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x2b8uid x11njtxf",children:m.jsx("div",{className:"_aa6s",children:m.jsx(o("PolarisConsentStrings.react").NotificationDoneBodyWithLinks,{linkClassName:"_aa6t"})})}),m.jsx(r("IGDSBox.react"),{marginTop:4,position:"relative",children:m.jsx("div",{className:"_aa6w",children:m.jsx(f,{buttonText:o("PolarisConsentStrings.react").CONSENT_FINISHED_SCREEN_BUTTON_TEXT,disabled:!1,onClick:this.$22})})})]})]})},a.renderConsents=function(){if(this.props.isBlockedFromCreatingAccount)return this.$33();switch(this.props.screenKey){case o("PolarisConsentTypes").ConsentScreenKeys.QP_INTRO:return this.$26();case o("PolarisConsentTypes").ConsentScreenKeys.TOS:case o("PolarisConsentTypes").ConsentScreenKeys.TOS_AND_TWO_AGE_BUTTON:case o("PolarisConsentTypes").ConsentScreenKeys.TOS_AND_THREE_AGE_BUTTON:return this.$27();case o("PolarisConsentTypes").ConsentScreenKeys.AGE_CONSENT_TWO_BUTTON:case o("PolarisConsentTypes").ConsentScreenKeys.AGE_CONSENT_THREE_BUTTON:return r("vulture")("UMNkQbZg8055po620OoPANRSsPw="),this.$28();case o("PolarisConsentTypes").ConsentScreenKeys.DOB:return this.$29();case o("PolarisConsentTypes").ConsentScreenKeys.PARENTAL_CONSENT:return this.$32();case o("PolarisConsentTypes").ConsentScreenKeys.UNDER_13:return this.$33();case o("PolarisConsentTypes").ConsentScreenKeys.FINISHED:case o("PolarisConsentTypes").ConsentScreenKeys.ALREADY_FINISHED:return this.$34();default:return r("FBLogger")("ig_web").mustfix("Should not show ConsentModal with unexpected key "+String(this.props.screenKey)),m.jsx("div",{children:o("PolarisConsentStrings.react").CONSENTS_FINISHED_TEXT})}},a.render=function(){if(!this.props.isModalOpen)return null;var e=this.state.showCloseConfirm,t=this.props.screenKey===o("PolarisConsentTypes").ConsentScreenKeys.DOB&&this.state.showDobUnderageConfirm,n=b.includes(this.props.screenKey)&&this.state.showAgeUnderageConfirm,a=C.includes(this.props.screenKey)&&this.state.showOtherOptionsMenu,i=t||a?"_aa71":"_aa72",l=this.props.hideExitButton!==!0||this.props.isLoading;o("PolarisUA").isMobile()&&document.body!=null&&(document.body.style.overflow="hidden");var s=this.$30();return m.jsxs(m.Fragment,{children:[m.jsxs(r("IGCoreModal.react"),{"aria-label":s,size:o("PolarisUA").isMobile()?"large":"default",children:[m.jsx(r("PolarisIGCoreModalHeader.react"),{onClose:l?this.$3:void 0,children:s}),this.props.isLoading?m.jsx(r("IGDSBox.react"),{padding:5,position:"relative",children:m.jsx(r("IGDSSpinner.react"),{position:"absolute",size:"medium"})}):this.renderConsents()]}),e&&m.jsx(r("PolarisConfirmDialog.react"),{body:this.props.isNewUserFlow?o("PolarisConsentStrings.react").CLOSE_CONFIRM_BODY_NEW_USER:o("PolarisConsentStrings.react").CLOSE_CONFIRM_BODY,cancelLabel:o("PolarisConsentStrings.react").CLOSE_CONFIRM_LEAVE,className:i,confirmLabel:this.props.isNewUserFlow?o("PolarisConsentStrings.react").CLOSE_CONFIRM_GO_BACK:o("PolarisConsentStrings.react").CLOSE_CONFIRM_KEEP_REVIEWING,onClose:this.onClose,onConfirm:this.$4,onModalClose:r("emptyFunction"),title:o("PolarisConsentStrings.react").CLOSE_CONFIRM_TITLE}),t&&m.jsx(r("PolarisConfirmDialog.react"),{body:o("PolarisConsentStrings.react").dobConfirmAgeText(o("PolarisDateHelpers").getAgeWithOneDayLeeway(r("nullthrows")(this.props.dob.value))),cancelLabel:o("PolarisConsentStrings.react").DOB_CANCEL_AGE_BUTTON_TEXT,className:i,confirmLabel:o("PolarisConsentStrings.react").DOB_CONFIRM_AGE_BUTTON_TEXT,onClose:this.$18,onConfirm:this.$17,title:o("PolarisConsentStrings.react").DOB_CONFIRM_AGE}),n&&m.jsx(r("PolarisConfirmDialog.react"),{body:o("PolarisConsentStrings.react").UNDER_13_CONFIRM_TEXT,cancelLabel:o("PolarisConsentStrings.react").DOB_CANCEL_BUTTON_TEXT,className:i,confirmLabel:o("PolarisConsentStrings.react").DOB_CONFIRM_BUTTON_TEXT,onClose:this.$14,onConfirm:this.$13,title:o("PolarisConsentStrings.react").UNDER_13_CONFIRM_HEADER}),a&&m.jsx(h,{handleOpenHelpCenter:this.$10,handleOtherOptionsExit:this.$9})]})},n})(m.Component);function S(e){var t,n,r=!o("PolarisIsLoggedIn").isLoggedIn(),a=r&&o("PolarisAgeCollectionHelpers").isAgeBlockedFromSignup(),i=e==null||(t=e.consent)==null?void 0:t.dob,l=e==null||(n=e.consent)==null||(n=n.dob)==null?void 0:n.value,s=e.consent,u=s.screenKey,d=babelHelpers.objectWithoutPropertiesLoose(s,c);return babelHelpers.extends({},d,{dob:babelHelpers.extends({},i,{value:l===null?o("PolarisConsentConstants").getInitialDate(o("PolarisConsentConstants").DEFAULT_DATE_YEAR_OFFSET):l}),isBlockedFromCreatingAccount:a,isNewUserFlow:r,screenKey:u})}function R(e){return{onCloseModal:function(){e(o("PolarisConsentActions").closeConsentModal())},onDobFieldChange:function(n){e(o("PolarisConsentActions").dobFieldChange(n))},onEmailFieldChange:function(n){e(o("PolarisConsentActions").parentEmailFieldChange(n))},onSendParentalConsentEmail:function(n){e(o("PolarisConsentActions").sendParentalConsentEmail(n))},onSkipParentalConsent:function(){e(o("PolarisConsentActions").skipParentalConsent())},onUpdateConsent:function(n){e(o("PolarisConsentActions").updateConsent(n))},onUpdateDob:function(n){e(o("PolarisConsentActions").updateConsentDob(n))}}}var L=o("PolarisReactRedux.react").connect(S,R)(v);l.default=L}),98);
__d("usePolarisLoggedInFBUserForHomepage",["PolarisLoggedInFBUserContext","PolarisLoggedOutUpsellExposureV2","PolarisUA","react","usePolarisPageID"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e,t=s(r("PolarisLoggedInFBUserContext")),n=r("usePolarisPageID")();if(o("PolarisUA").isDesktop()){if(n!=="unifiedHome")return null}else return null;return r("PolarisLoggedOutUpsellExposureV2").desktop.enable_fb_connect_v2!==!0?null:(e=t==null?void 0:t.user)!=null?e:null}l.default=u}),98);
__d("PolarisFBConnectV2LoginForm.react",["IGDSBox.react","IGDSButton.react","IGDSText.react","PolarisAuthStrings","PolarisFBConnectHelpers","PolarisLoggedOutCtaClickLogger","PolarisLoggedOutLandingDialogStrings.react","PolarisNavigationReferrerUrlSession","PolarisUserAvatar.react","react","react-compiler-runtime","useCometRouterState","useCurrentRoute","usePolarisLoggedInFBUserForHomepage","usePolarisPageID"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={primaryButton:{borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",height:"x5kalc8",paddingTop:"xz9dl7a",paddingInlineEnd:"x1xnnf8n",paddingBottom:"xsag5q8",paddingInlineStart:"x106a9eq",$$css:!0},root:{maxWidth:"x1tpxq4b",width:"xh8yej3",$$css:!0}},c=96;function d(){var e=o("react-compiler-runtime").c(15),t=r("usePolarisLoggedInFBUserForHomepage")(),n=r("usePolarisPageID")(),a=r("useCurrentRoute")(),i=r("useCometRouterState")();if(t==null||t.profile_name==null)return null;var l;e[0]!==t.profile_name||e[1]!==t.profile_pic_url?(l=s.jsx(r("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:t.profile_pic_url,size:c,username:t.profile_name}),e[0]=t.profile_name,e[1]=t.profile_pic_url,e[2]=l):l=e[2];var d=l,m;e[3]!==t.profile_name?(m=o("PolarisLoggedOutLandingDialogStrings.react").continueWithYourFacebookAccount(t.profile_name),e[3]=t.profile_name,e[4]=m):m=e[4];var p;e[5]!==m?(p=s.jsx(r("IGDSText.react"),{color:"primaryText",size:"headline3",textAlign:"center",weight:"bold",zeroMargin:!1,children:m}),e[5]=m,e[6]=p):p=e[6];var _=p,f;e[7]!==n||e[8]!==(a==null?void 0:a.url)||e[9]!==i?(f=s.jsx(r("IGDSButton.react"),{display:"block",label:o("PolarisAuthStrings").FB_CONTINUE_BUTTON_TEXT,onClick:function(t){var e;t&&t.preventDefault(),o("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("fb_connect","auth_form",n,{isDismissible:!0},"auth_form_fb_connect_v2"),o("PolarisNavigationReferrerUrlSession").setCurrentUrlInformation(i,n),o("PolarisFBConnectHelpers").redirectToFBOAuth((e=a==null?void 0:a.url)!=null?e:"",n)},variant:"primary",xstyle:u.primaryButton}),e[7]=n,e[8]=a==null?void 0:a.url,e[9]=i,e[10]=f):f=e[10];var g=f,h;return e[11]!==d||e[12]!==g||e[13]!==_?(h=s.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"column",justifyContent:"center",paddingX:8,paddingY:2,rowGap:4,xstyle:u.root,children:[d,_,g]}),e[11]=d,e[12]=g,e[13]=_,e[14]=h):h=e[14],h}l.default=d}),98);
__d("PolarisFacebookAccountPicker.react",["fbt","IGDSBox.react","IGDSButton.react","IGDSText.react","IGDSTextVariants.react","PolarisAuthStrings","PolarisAuthTypeSwitcher.react","PolarisIGCoreConstants","PolarisIGCorePressable.react","PolarisLoginLogger","PolarisReactRedux.react","PolarisUA","PolarisUserAvatar.react","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(7),n=e.fbConnectedIgProfiles,a=e.onRequestFBLogin,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x1qjc9v5 x1xp8e9x x5kv4kf xh05dso x13lttk3 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xyri2b x18d9i69 x1c1uobl xz9dl7a x1n2onr6 x11njtxf"},t[0]=i):i=t[0];var l;t[1]!==n||t[2]!==a?(l=u.jsx(r("IGDSBox.react"),{padding:4,position:"relative",children:u.jsx("div",babelHelpers.extends({},i,{children:u.jsx(d,{fbConnectedIgProfiles:n,onRequestFBLogin:a})}))}),t[1]=n,t[2]=a,t[3]=l):l=t[3];var s;t[4]===Symbol.for("react.memo_cache_sentinel")?(s=o("PolarisUA").isMobile()&&u.jsx(r("IGDSBox.react"),{alignItems:"center",position:"relative",children:u.jsx(r("PolarisAuthTypeSwitcher.react"),{primary:!0})}),t[4]=s):s=t[4];var c;return t[5]!==l?(c=u.jsxs("div",{children:[l,s]}),t[5]=l,t[6]=c):c=t[6],c}function d(e){var t=o("react-compiler-runtime").c(15),n=e.fbConnectedIgProfiles,a=e.onRequestFBLogin,i=o("PolarisReactRedux.react").useSelector(p),l=o("PolarisReactRedux.react").useSelector(m);if(!a||!n)return null;var s;t[0]!==i||t[1]!==l?(s=function(t){return i&&t!==l},t[0]=i,t[1]=l,t[2]=s):s=t[2];var c=s,d;t[3]!==i||t[4]!==l?(d=function(t){return i&&t===l},t[3]=i,t[4]=l,t[5]=d):d=t[5];var _=d,f;if(t[6]!==n||t[7]!==c||t[8]!==_||t[9]!==a){var g;t[11]!==c||t[12]!==_||t[13]!==a?(g=function(t){var e=t.username,n=c(e),i=_(e),l=function(){return a(e)};return u.jsxs(r("PolarisIGCorePressable.react"),{className:"x6s0dn4 x5n08af x1ypdohk x78zum5 x1q0g3np xwhw2v2 xsag5q8",onPress:n?r("emptyFunction"):l,role:"button",tabIndex:0,children:[u.jsx(r("IGDSBox.react"),{marginEnd:3,position:"relative",children:u.jsx(r("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:t.profilePictureUrl,size:r("PolarisIGCoreConstants").AVATAR_SIZES.small,username:e})}),u.jsx(r("IGDSBox.react"),{display:"block",flex:"grow",position:"relative",children:u.jsx(r("IGDSText.react"),{weight:"semibold",zeroMargin:!1,children:e})}),u.jsx(r("IGDSBox.react"),{position:"relative",children:u.jsx(r("IGDSButton.react"),{display:"block",isDisabled:n,isLoading:i,label:o("PolarisAuthStrings").LOG_IN_BUTTON_TEXT,onClick:l})})]},e)},t[11]=c,t[12]=_,t[13]=a,t[14]=g):g=t[14],f=n.map(g),t[6]=n,t[7]=c,t[8]=_,t[9]=a,t[10]=f}else f=t[10];return f}function m(e){return e.auth.login.igUsername}function p(e){return e.auth.login.requestInFlight}function _(e){var t=o("react-compiler-runtime").c(5),n=e.fbConnectedIgProfiles,a=e.onRequestFBLogin;o("PolarisLoginLogger").logLoginEvent({event_name:"account_picker_multi_linked_user_form_load"});var i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"You can log in to these accounts because they're in your Accounts Centre."),t[0]=i):i=t[0];var l=i,d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=u.jsx(r("IGDSBox.react"),{marginBottom:4,marginTop:2,paddingX:3,position:"relative",children:u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"center",children:l})}),t[1]=d):d=t[1];var m;return t[2]!==n||t[3]!==a?(m=u.jsxs(r("IGDSBox.react"),{position:"relative",width:"350px",children:[d,u.jsx(c,{fbConnectedIgProfiles:n,onRequestFBLogin:a})]}),t[2]=n,t[3]=a,t[4]=m):m=t[4],m}l.default=_}),226);
__d("PolarisFacebookLoginForm.react",["fbt","IGDSBox.react","IGDSButton.react","PolarisAuthActionConstants","PolarisAuthConstants","PolarisAuthStrings","PolarisIGCoreButton.react","PolarisIGCoreText","PolarisLoggedOutCtaImpressionLogger","PolarisLoginActionConstants","PolarisLoginLogger","XPolarisEmailSignupControllerRouteBuilder","polarisLogAction","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$1=function(e,n){e.preventDefault(),t.props.onSwitchAccountsClick(n)},babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.componentDidMount=function(){r("polarisLogAction")("facebookLoginFormDisplayed"),o("PolarisLoginLogger").logLoginEvent({event_name:"fb_login_form_load",fbconnect_status:this.props.fbConnectStatus,login_type:"fbconnect"}),o("PolarisLoggedOutCtaImpressionLogger").logLoggedOutCtaImpressionEvent("auth_form",this.props.pageID)},n.$2=function(){var e,t;return this.props.errorMessage!=null&&this.props.errorMessage!==""&&(e=this.props.errorMessage,t="xkmlbd1 x1qoy3rc xdj266r xyu1916 xat24cr xbt2mb3 xexx8yu xf159sx xx6bls6 xe2zdcy xxymvpz"),e==null||e===""||e===o("PolarisLoginActionConstants").FB_SSO_DISABLED?null:u.jsx("div",{className:t,children:u.jsx("p",{"aria-atomic":"true",id:"errorAlert",role:"alert",children:e},"message")})},n.$3=function(){var e=this,t=this.props.accountInfo.profilePictureUrl,n=this.props.accountInfo.username,o=this.props.requestInFlight;return u.jsx(r("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",children:u.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:function(r){return e.props.onRequestLogin(n,r)},children:u.jsx("img",babelHelpers.extends({alt:s._(/*BTDS*/"{username}'s profile picture",[s._param("username",n)])},{0:{className:"x1ekkm8c x1143rjc xum4auv xj21bgg x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x1m2trrv xxy3q5o x119j0k9 x1ynp9ky x1lliihq xln7xf2 xk390pu xpyat2d x1anpbxc x11t971q xyorhqc xvc5jky xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf x1exxlbk"},1:{className:"x1ekkm8c x1143rjc xum4auv xj21bgg x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x1m2trrv xxy3q5o x119j0k9 x1ynp9ky x1lliihq xln7xf2 xk390pu xpyat2d x1anpbxc x11t971q xyorhqc xvc5jky xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf x1exxlbk xz5rk10"}}[!!o<<0],{src:t}))})})},n.render=function(){var e=this,t=this.props.accountInfo,n=s._(/*BTDS*/"Continue as {username}",[s._param("username",t.username)]);return u.jsxs("div",{className:"x78zum5 xdt5ytf",children:[this.$2(),this.$3(),u.jsx(r("IGDSBox.react"),{marginBottom:4,marginEnd:"auto",marginStart:"auto",marginTop:4,maxWidth:"100%",minWidth:120,position:"relative",width:"intrinsic",children:u.jsx(r("PolarisIGCoreButton.react"),{loading:this.props.requestInFlight,onClick:function(r){return e.props.onRequestLogin(t.username,r)},children:u.jsx(r("IGDSBox.react"),{paddingX:4,position:"relative",children:u.jsx(r("PolarisIGCoreText").BodyEmphasized,{color:"web-always-white",display:"truncated",zeroMargin:!0,children:n})})})}),u.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xln7xf2 xk390pu xcxhlts x14z9mp x1fqp7bg x1lziwak xexx8yu xp48ta0 x18d9i69 xtssl2i x1n2onr6 x2b8uid x11njtxf",children:u.jsxs("span",{className:"x972fbf x10w94by x1qhh985 x14e42zd x5n08af xt0psk2 xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf",children:[o("PolarisAuthStrings").notUsernameText(t.username)," ",this.props.pageType===o("PolarisAuthConstants").AuthPageType.Signup?u.jsx(r("IGDSButton.react"),{display:"block",href:r("XPolarisEmailSignupControllerRouteBuilder").buildURL({}),label:s._(/*BTDS*/"Sign up"),onClick:function(n){return e.$1(n,o("PolarisAuthActionConstants").AUTH.signup)},variant:"primary_link"}):u.jsx(r("IGDSButton.react"),{display:"block",label:s._(/*BTDS*/"Switch accounts"),onClick:function(n){return e.$1(n,o("PolarisAuthActionConstants").AUTH.login)},variant:"primary_link"})]})})]})},t})(u.Component);l.default=c}),226);
__d("PolarisLandingFormButtonGroup.react",["IGDSBox.react","IGDSText.react","PolarisAuthStrings","PolarisIGCoreButton.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={brandForwardPrimaryButtonContainer:{paddingTop:"xexx8yu",paddingInlineEnd:"x64bnmy",paddingBottom:"x18d9i69",paddingInlineStart:"x13jy36j",width:"xh8yej3",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(6),n=e.button,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={__className:"x5yr21d"},t[0]=a):a=t[0];var i;t[1]!==n.label?(i=s.jsx(r("IGDSText.react"),{color:"primaryButton",weight:"semibold",zeroMargin:!1,children:n.label}),t[1]=n.label,t[2]=i):i=t[2];var l;return t[3]!==n.onClick||t[4]!==i?(l=s.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,dangerouslySetClassName:a,"data-testid":void 0,onClick:n.onClick,children:i}),t[3]=n.onClick,t[4]=i,t[5]=l):l=t[5],l}function d(e){var t=o("react-compiler-runtime").c(11),n=e.buttonEnd,a=e.buttonStart,i;t[0]!==a?(i=a&&s.jsx(c,{button:a}),t[0]=a,t[1]=i):i=t[1];var l;t[2]!==n||t[3]!==a?(l=a&&n&&s.jsx(r("IGDSBox.react"),{display:"inlineBlock",marginEnd:1,marginStart:1,position:"relative",children:s.jsx(r("IGDSText.react"),{color:"secondaryText",zeroMargin:!1,children:o("PolarisAuthStrings").OR})}),t[2]=n,t[3]=a,t[4]=l):l=t[4];var u;t[5]!==n?(u=n&&s.jsx(c,{button:n}),t[5]=n,t[6]=u):u=t[6];var d;return t[7]!==i||t[8]!==l||t[9]!==u?(d=s.jsxs(r("IGDSBox.react"),{alignSelf:"center",display:"inlineBlock",marginTop:5,position:"relative",children:[i,l,u]}),t[7]=i,t[8]=l,t[9]=u,t[10]=d):d=t[10],d}function m(e){var t=o("react-compiler-runtime").c(6),n=e.fullWidth,a=e.primaryButton,i=n===void 0?!1:n,l;t[0]!==a.label?(l=s.jsx(r("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",justifyContent:"center",position:"relative",children:a.label}),t[0]=a.label,t[1]=l):l=t[1];var u;return t[2]!==i||t[3]!==a.onClick||t[4]!==l?(u=s.jsx(r("PolarisIGCoreButton.react"),{fullWidth:i,large:!0,onClick:a.onClick,children:l}),t[2]=i,t[3]=a.onClick,t[4]=l,t[5]=u):u=t[5],u}function p(e){var t=o("react-compiler-runtime").c(12),n=e.isBrandForwardStyle,a=e.primaryButton,i=e.secondaryButtonEnd,l=e.secondaryButtonStart,c=n===void 0?!1:n,p=c&&u.brandForwardPrimaryButtonContainer,_;t[0]!==c||t[1]!==a?(_=c?s.jsx("div",{className:"x1wmp3kr x15b4ht x11g16fi xkyum4 x6ikm8r x10wlt62",children:s.jsx(m,{fullWidth:!0,primaryButton:a})}):s.jsx(m,{primaryButton:a}),t[0]=c,t[1]=a,t[2]=_):_=t[2];var f;t[3]!==p||t[4]!==_?(f=s.jsx(r("IGDSBox.react"),{marginEnd:10,marginStart:10,marginTop:4,position:"relative",xstyle:p,children:_}),t[3]=p,t[4]=_,t[5]=f):f=t[5];var g;t[6]!==i||t[7]!==l?(g=s.jsx(d,{buttonEnd:i,buttonStart:l}),t[6]=i,t[7]=l,t[8]=g):g=t[8];var h;return t[9]!==f||t[10]!==g?(h=s.jsxs(s.Fragment,{children:[f,g]}),t[9]=f,t[10]=g,t[11]=h):h=t[11],h}l.default=p}),98);
__d("PolarisLoggedOutCarouselCard.react",["CometImage.react","IGDSBox.react","PolarisHSnapScroll.react","PolarisStepIndicator.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState,c={image:{display:"x1lliihq",height:"x5yr21d",width:"x14atkfc",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(20),n=e.images,a=e.texts,i=u(0),l=i[0],d=i[1],p;t[0]!==l||t[1]!==n.length?(p=function(t){var e=t.startPct,r=Math.round(e),o=Math.max(0,Math.min(r,n.length-1));o!==l&&d(o)},t[0]=l,t[1]=n.length,t[2]=p):p=t[2];var _=p,f;if(t[3]!==n||t[4]!==a){var g;t[6]!==a?(g=function(t,n){return s.jsxs("div",{className:"x6s0dn4 x78zum5 xdt5ytf xl56j7k x1g81zrj xn9wirt",children:[s.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf x1vd4hg5 xl56j7k x6ikm8r x10wlt62 x14atkfc",children:s.jsx(r("CometImage.react"),{src:t,xstyle:c.image})}),s.jsx("div",{className:"x1qz8m4s xnh215r xddofbv x1j61x8r xo1l8bm xkds0cx x1ls015a xat24cr xotxm5o x11fxgd9 x2b8uid",children:a[n]||""})]},n)},t[6]=a,t[7]=g):g=t[7],f=n.map(g),t[3]=n,t[4]=a,t[5]=f}else f=t[5];var h=f,y;t[8]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x16nrsnc xdj266r xpwdb9g xat24cr xefazk8 x1n2onr6 xh8yej3"},t[8]=y):y=t[8];var C;t[9]===Symbol.for("react.memo_cache_sentinel")?(C={next:!0,previous:!0},t[9]=C):C=t[9];var b;t[10]!==h||t[11]!==_||t[12]!==n.length?(b=s.jsx(r("PolarisHSnapScroll.react"),{animationDuration:150,enableMouseSwipe:!0,gutterWidth:0,itemCount:n.length,itemWidth:window.innerWidth,onInteract:m,onVisibilityChange:_,pagerDisabled:C,swipeSize:1,children:h}),t[10]=h,t[11]=_,t[12]=n.length,t[13]=b):b=t[13];var v;t[14]!==l||t[15]!==n.length?(v=n.length>1&&s.jsx(r("PolarisStepIndicator.react"),{className:"x6s0dn4 xxzp1fc x1f889gz xrr41r3 xl56j7k x10l6tqk",numSteps:n.length,selectedStep:l,style:"lightContrast"}),t[14]=l,t[15]=n.length,t[16]=v):v=t[16];var S;return t[17]!==b||t[18]!==v?(S=s.jsx(r("IGDSBox.react"),{alignItems:"center",display:"flex",justifyContent:"center",position:"relative",children:s.jsxs("div",babelHelpers.extends({},y,{children:[b,v]}))}),t[17]=b,t[18]=v,t[19]=S):S=t[19],S}function m(){}l.default=d}),98);
__d("XPolarisStarterPackDirectoryControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/list/directory/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("usePolarisLOXMobileHomepageDesign",["react-compiler-runtime","usePolarisRouteConfig"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(4),t=r("usePolarisRouteConfig")(),n=t.homepageDesignVariant,a=n==="mweb_branding",i=n!==void 0&&n!=="default",l=n==="mweb_starter_pack",s;return e[0]!==a||e[1]!==i||e[2]!==l?(s={isBrandingDesign:a,isLOXMobileHomepageDesign:i,isStarterPackDesign:l},e[0]=a,e[1]=i,e[2]=l,e[3]=s):s=e[3],s}l.default=e}),98);
__d("PolarisLoggedOutMobileHomeBrandingContent.react",["fbt","ix","IGCoreImage.react","IGDSBox.react","IGDSButton.react","IGDSIgLogoFilledIcon.react","IGDSListCell.react","IGDSText.react","PolarisLandingFormUtils","PolarisLoggedOutCarouselCard.react","PolarisLoggedOutCtaClickLogger","PolarisNavigationUtils","XPolarisStarterPackDirectoryControllerRouteBuilder","react","react-compiler-runtime","usePolarisLOXMobileHomepageDesign","usePolarisPageID","usePolarisRouteConfig"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d={joinButton:{paddingInlineEnd:"x64bnmy",paddingInlineStart:"x13jy36j",$$css:!0},starterPackHeader:{backgroundColor:"xvbhtw8",borderBottomColor:"x1bs97v6",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",marginTop:"xxhku1v",paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",zIndex:"x1vjfegm",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(16),n=e.onLogoClick,a;if(t[0]===Symbol.for("react.memo_cache_sentinel")){var i;a=[{images:[u("914477"),u("914478"),u("914479")],texts:[(i=o("PolarisLandingFormUtils")).WATCH_SEND_SHORT_VIDEOS,i.SEE_FRIENDS_CREATORS_UPDATES,i.FIND_SHARE_INTERESTS]},{images:[u("914480"),u("914481"),u("914482")],texts:[i.COMMUNITY_Q_AND_A,i.MATCH_MUSIC_TO_MOMENTS,i.SAVE_CORE_MEMORIES]},{images:[u("914483"),u("914484"),u("914485")],texts:[i.SHARE_WITH_CLOSE_FRIENDS,i.SPARK_DM_CONVERSATIONS,i.DROP_QUICK_NOTES]}],t[0]=a}else a=t[0];var l=a,m=r("usePolarisLOXMobileHomepageDesign")(),_=m.isLOXMobileHomepageDesign,f=r("usePolarisLOXMobileHomepageDesign")(),g=f.isStarterPackDesign,h=r("usePolarisRouteConfig")(),y=h.showBrandingPageWithNav,C=y===!0,b=r("usePolarisPageID")(),v;t[1]!==g||t[2]!==b?(v=g&&c.jsx(r("IGDSBox.react"),{direction:"row",justifyContent:"center",marginBottom:5,position:"sticky",top:!0,xstyle:d.starterPackHeader,children:c.jsx(r("IGDSListCell.react"),{addOnEnd:c.jsx(r("IGDSButton.react"),{display:"block",label:s._(/*BTDS*/"Join"),onClick:function(){o("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("open_starter_pack_directory","full_page",b,{isDismissible:!1}),o("PolarisNavigationUtils").openURL(r("XPolarisStarterPackDirectoryControllerRouteBuilder").buildURL({}))},variant:"primary",xstyle:d.joinButton}),content:c.jsx(r("IGDSText.react"),{size:"body",weight:"semibold",zeroMargin:!1,children:"Customize a feed based on your interests when you join."})})}),t[1]=g,t[2]=b,t[3]=v):v=t[3];var S;t[4]!==C||t[5]!==_||t[6]!==n?(S=C||_?c.jsx(r("IGDSBox.react"),{alignItems:"baseline",marginBottom:5,marginTop:2,paddingX:2,children:c.jsx(r("IGDSButton.react"),{icon:c.jsx(r("IGDSIgLogoFilledIcon.react"),{alt:s._(/*BTDS*/"Instagram"),color:"ig-primary-text",size:47}),onClick:n,variant:"tertiary"})}):c.jsx(r("IGDSBox.react"),{alignItems:"baseline",marginBottom:3,paddingX:6,children:c.jsx(r("IGDSIgLogoFilledIcon.react"),{alt:s._(/*BTDS*/"Instagram"),color:"ig-primary-text",size:47})}),t[4]=C,t[5]=_,t[6]=n,t[7]=S):S=t[7];var R;t[8]===Symbol.for("react.memo_cache_sentinel")?(R=s._(/*BTDS*/"Landing image"),t[8]=R):R=t[8];var L;t[9]===Symbol.for("react.memo_cache_sentinel")?(L=c.jsxs(r("IGDSBox.react"),{alignItems:"center",marginBottom:13,marginTop:10,paddingX:6,children:[c.jsx(r("IGCoreImage.react"),{alt:R,"data-testid":void 0,src:{light:u("914486")}}),c.jsx("div",{className:"x1qz8m4s xnh215r x1j61x8r x2b8uid xcg35fi xo1l8bm xmx5zq6 x9d7mpn x14vqqas",children:o("PolarisLandingFormUtils").SHARE_EVERYDAY_MOMENTS_FBT})]}),t[9]=L):L=t[9];var E;t[10]!==v||t[11]!==S?(E=c.jsxs(c.Fragment,{children:[v,S,L]}),t[10]=v,t[11]=S,t[12]=E):E=t[12];var k=E,I;t[13]===Symbol.for("react.memo_cache_sentinel")?(I=l.map(p),t[13]=I):I=t[13];var T=I,D;return t[14]!==k?(D=c.jsxs(c.Fragment,{children:[k,T]}),t[14]=k,t[15]=D):D=t[15],D}function p(e,t){return c.jsx("div",{className:"x1byr4rc xyri2b x1egpv2n x1c1uobl",children:c.jsx(r("PolarisLoggedOutCarouselCard.react"),{images:e.images,texts:e.texts},t)},t)}p.displayName=p.name+" [from "+i.id+"]",l.default=m}),226);
__d("PolarisLandingForm.react",["IGDSBox.react","InstagramODS","PolarisAuthActionConstants","PolarisAuthActions","PolarisAuthLimitedRegistrationHelpers","PolarisAuthStrings","PolarisFooter.react","PolarisIGCoreText","PolarisIgLiteCarbonUpsellsUtils","PolarisLandingFormButtonGroup.react","PolarisLandingFormUtils","PolarisLoggedOutCtaClickLogger","PolarisLoggedOutMobileHomeBrandingContent.react","PolarisLoggedOutUpsellUtils","PolarisReactRedux.react","PolarisRoutePropUtils","PolarisSignupActions","PolarisUA","XPolarisLoginControllerRouteBuilder","gkx","react","react-compiler-runtime","useCometRouterDispatcher","usePolarisLOXMobileHomepageDesign","usePolarisOpenApp","usePolarisPageID","usePolarisRouteConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useContext;function m(e,t,n){return{primary:{label:n.buttonText,onClick:n.onClickFn},secondary:{end:{label:o("PolarisAuthStrings").SIGN_UP_BUTTON_TEXT_LOWER_CASE,onClick:t},start:{label:o("PolarisAuthStrings").LOG_IN_BUTTON_TEXT,onClick:e}}}}function p(e){var t=o("react-compiler-runtime").c(28),n=e.ref,a=o("PolarisReactRedux.react").useDispatch(),i=r("usePolarisPageID")(),l=r("useCometRouterDispatcher")(),u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=o("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible(),t[0]=u):u=t[0];var c=u,p=r("usePolarisLOXMobileHomepageDesign")(),_=p.isLOXMobileHomepageDesign,f=r("usePolarisRouteConfig")(),g=f.showBrandingPageWithNav,h=_||g===!0,y=d(o("PolarisRoutePropUtils").PolarisRoutePropContext),C;t[1]!==y.routePropQE?(C=y.routePropQE.getNumber("landing_page_value_prop_variant",0),t[1]=y.routePropQE,t[2]=C):C=t[2];var b=Number(C),v;t[3]!==a||t[4]!==i?(v=function(){o("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("signup","full_page",i),o("PolarisAuthLimitedRegistrationHelpers").hasRestrictedRegistration()?a(o("PolarisSignupActions").setShowRegulatoryConsentModal()):a(o("PolarisAuthActions").switchAuthType(o("PolarisAuthActionConstants").AUTH.signup))},t[3]=a,t[4]=i,t[5]=v):v=t[5];var S=v,R;t[6]!==l||t[7]!==a||t[8]!==i?(R=function(){o("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("login","full_page",i),r("gkx")("18606")===!0?l==null||l.go(r("XPolarisLoginControllerRouteBuilder").buildUri({mtn:!0}).toString(),{}):a(o("PolarisAuthActions").switchAuthType(o("PolarisAuthActionConstants").AUTH.login))},t[6]=l,t[7]=a,t[8]=i,t[9]=R):R=t[9];var L=R,E=r("usePolarisOpenApp")(),k;t[10]!==E||t[11]!==i?(k=function(){o("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("app_open","full_page",i),o("PolarisUA").isDesktop()&&r("InstagramODS").incr("web.desktop.app_open_click.PolarisLandingForm"),E(c?{utmCampaignDefault:"rootLandingPage",utmMedium:"installLink"}:void 0)},t[10]=E,t[11]=i,t[12]=k):k=t[12];var I=k,T=o("PolarisLoggedOutUpsellUtils").useGetUpsellTextAndAction(I,c),D;t[13]!==L||t[14]!==S||t[15]!==T?(D=m(L,S,T),t[13]=L,t[14]=S,t[15]=T,t[16]=D):D=t[16];var x=D,$;t[17]!==x.primary||t[18]!==x.secondary.end||t[19]!==x.secondary.start||t[20]!==h||t[21]!==I||t[22]!==b||t[23]!==g?($=h?s.jsxs(s.Fragment,{children:[s.jsx(r("PolarisLoggedOutMobileHomeBrandingContent.react"),{onLogoClick:I}),s.jsx(r("IGDSBox.react"),{marginTop:17,children:s.jsx(r("PolarisFooter.react"),{includeLanguageAndCopyright:!0,variant:"centered"})}),s.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 xm0mo6v xxux13n x1ey2m1c x78zum5 xdt5ytf xtijo5x x1o0tod xl84xjf xixxii4 xh8yej3 x1vjfegm"},1:{className:"x6s0dn4 xm0mo6v xxux13n x78zum5 xdt5ytf xtijo5x x1o0tod xl84xjf xixxii4 xh8yej3 x1vjfegm xvivwo0"}}[(g===!0)<<0],{children:s.jsx(r("PolarisLandingFormButtonGroup.react"),{isBrandForwardStyle:h,primaryButton:x.primary,secondaryButtonEnd:x.secondary.end,secondaryButtonStart:x.secondary.start})}))]}):s.jsxs(s.Fragment,{children:[s.jsx(r("IGDSBox.react"),{marginBottom:4,paddingX:7,position:"relative",children:s.jsx(r("PolarisIGCoreText"),{Element:"h1",size:"headline2",textAlign:"center",weight:"normal",children:o("PolarisLandingFormUtils").getLoginValuePropText(b)})}),s.jsx(r("PolarisLandingFormButtonGroup.react"),{primaryButton:x.primary,secondaryButtonEnd:x.secondary.end,secondaryButtonStart:x.secondary.start})]}),t[17]=x.primary,t[18]=x.secondary.end,t[19]=x.secondary.start,t[20]=h,t[21]=I,t[22]=b,t[23]=g,t[24]=$):$=t[24];var P;return t[25]!==n||t[26]!==$?(P=s.jsx(r("IGDSBox.react"),{containerRef:n,flex:"grow",marginTop:5,position:"relative",width:"100%",children:$}),t[25]=n,t[26]=$,t[27]=P):P=t[27],P}l.default=p}),98);
__d("PolarisLoggedOutContentWallDialogAuthCTAs.react",["IGDSText.react","PolarisAppInstallStrings","PolarisConsentStrings.react","PolarisLoggedOutLoginButton.react","PolarisLoggedOutSignupButton.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={button:{height:"xn3w4p2",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(5),t,n,a,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={className:"xkh2ocl x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x3pnbk8"},n=s.jsx(r("PolarisLoggedOutSignupButton.react"),{ctaTypeV2:"auth_form_dialog",isDismissible:!0,label:o("PolarisAppInstallStrings").SIGNUP_UP_FOR_INSTAGRAM_APP,loginSource:"logged_out_megaphone_signup",variant:"primary",xstyle:u.button}),a=s.jsx(r("PolarisLoggedOutLoginButton.react"),{ctaTypeV2:"auth_form_dialog",loginSource:"logged_out_megaphone_signup",variant:"secondary",xstyle:u.button}),i={className:"xz9dl7a xsag5q8"},e[0]=t,e[1]=n,e[2]=a,e[3]=i):(t=e[0],n=e[1],a=e[2],i=e[3]);var l;return e[4]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsxs("div",babelHelpers.extends({},t,{children:[n,a,s.jsx("div",babelHelpers.extends({},i,{children:s.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",zeroMargin:!1,children:o("PolarisConsentStrings.react").instagramTermsOfUseAndPrivacyPolicyText("secondaryText")})}))]})),e[4]=l):l=e[4],l}l.default=c}),98);
__d("PolarisLoginActionClearStopDeletionNonce",[],(function(t,n,r,o,a,i){"use strict";function e(){return function(e,t){e({deletionDate:null,deletionNonce:null,type:"ACCOUNT_DELETED"})}}i.clearStopDeletionNonce=e}),66);
__d("PolarisLoginActionOneTapLoginRemove",["PolarisAuthStrings","PolarisLoginLogger","PolarisOneTapLogin","PolarisToastActions"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(t,n){o("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_account_remove_click",ig_userid:e,login_type:"device_based_login"});try{o("PolarisOneTapLogin").removeLoginNonce(e)}catch(e){o("PolarisLoginLogger").logLoginEvent({event_flow:"aymh",event_name:"one_tap_account_remove_failed",login_type:"device_based_login"}),t(o("PolarisToastActions").showToast({persistOnNavigate:!0,text:o("PolarisAuthStrings").LOGIN_FAILED_TEXT}))}window.location.reload()}}l.oneTapLoginRemove=e}),98);
__d("PolarisOneTapLoginForm.react",["fbt","CometPressable.react","IGDSBox.react","IGDSButton.react","IGDSDivider.react","IGDSXPanoFilledIcon.react","PolarisAuthStrings","PolarisAuthTypeSwitcher.react","PolarisConfirmDialog.react","PolarisGenericStrings","PolarisIGCoreSVGIconButton.react","PolarisLoginActionOneTapLogin","PolarisLoginActionOneTapLoginRemove","PolarisLoginLogger","PolarisReactRedux.react","PolarisUA","PolarisUserAvatar.react","emptyFunction","react","react-compiler-runtime","usePolarisOneTapLoginEditModeState","useSingleSimpleImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useState,p=s._(/*BTDS*/"Manage accounts"),_={account:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",fontWeight:"xwhw2v2",$$css:!0},multiContainer:{paddingBottom:"xx6bls6",paddingTop:"x7sb2j6",$$css:!0},root:{fontSize:"xvs91rp",fontWeight:"xz5fbns",maxWidth:"x1dc814f",width:"xh8yej3",$$css:!0}};function f(e){var t=o("react-compiler-runtime").c(12),n=e.handleRemoveOneTapLoginDialogClose,a=e.handleRemoveOneTapLoginDialogConfirm,i=e.userId,l=e.username,c;t[0]!==l?(c=s._(/*BTDS*/"You'll need to enter your username and password next time you log in as {username}",[s._param("username",l)]),t[0]=l,t[1]=c):c=t[1];var d,m;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Cancel"),m=s._(/*BTDS*/"Remove"),t[2]=d,t[3]=m):(d=t[2],m=t[3]);var p;t[4]!==a||t[5]!==i?(p=function(){return a(i)},t[4]=a,t[5]=i,t[6]=p):p=t[6];var _;t[7]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"Remove account?"),t[7]=_):_=t[7];var f;return t[8]!==n||t[9]!==c||t[10]!==p?(f=u.jsx(r("PolarisConfirmDialog.react"),{body:c,cancelLabel:d,confirmLabel:m,onClose:n,onConfirm:p,title:_}),t[8]=n,t[9]=c,t[10]=p,t[11]=f):f=t[11],f}function g(e){var t=o("react-compiler-runtime").c(33),n=e.fbConnectedUser,a=e.isLoginButtonDisabled,i=e.isLoginButtonLoading,l=e.onRequestFBLogin;if(!n||!l)return null;var s=n.fbUserID,c=n.profilePictureUrl,d=n.username,m=String(s),p;t[0]!==m||t[1]!==a?(p=a(m),t[0]=m,t[1]=a,t[2]=p):p=t[2];var f=p,g;t[3]!==m||t[4]!==i?(g=i(m),t[3]=m,t[4]=i,t[5]=g):g=t[5];var y=g,C;t[6]!==f||t[7]!==l||t[8]!==d?(C=f?r("emptyFunction"):function(){l(d)},t[6]=f,t[7]=l,t[8]=d,t[9]=C):C=t[9];var b;t[10]===Symbol.for("react.memo_cache_sentinel")?(b="x1w6pcvv x1kr3336 x1e5933n x8itksh x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 xbmvrgn",t[10]=b):b=t[10];var v;t[11]!==l||t[12]!==d?(v=function(){return l(d)},t[11]=l,t[12]=d,t[13]=v):v=t[13];var S;t[14]!==c||t[15]!==v||t[16]!==d?(S=u.jsx(r("PolarisUserAvatar.react"),{className:b,isLink:!1,onClick:v,profilePictureUrl:c,size:h,username:d}),t[14]=c,t[15]=v,t[16]=d,t[17]=S):S=t[17];var R;t[18]===Symbol.for("react.memo_cache_sentinel")?(R={className:"x1qjc9v5 xdt5ytf x1iyjqo2 xs83m0k x6ikm8r x10wlt62 xlyipyv xuxw1ft"},t[18]=R):R=t[18];var L;t[19]!==d?(L=u.jsx("div",babelHelpers.extends({},R,{children:d})),t[19]=d,t[20]=L):L=t[20];var E;t[21]!==l||t[22]!==d?(E=function(){l(d)},t[21]=l,t[22]=d,t[23]=E):E=t[23];var k;t[24]!==f||t[25]!==y||t[26]!==E?(k=u.jsx(r("IGDSBox.react"),{justifyContent:"end",children:u.jsx(r("IGDSButton.react"),{display:"block",isDisabled:f,isLoading:y,label:o("PolarisAuthStrings").LOG_IN_BUTTON_TEXT,onClick:E})}),t[24]=f,t[25]=y,t[26]=E,t[27]=k):k=t[27];var I;return t[28]!==k||t[29]!==C||t[30]!==S||t[31]!==L?(I=u.jsxs(r("CometPressable.react"),{onPress:C,role:"button",xstyle:_.account,children:[S,L,k]}),t[28]=k,t[29]=C,t[30]=S,t[31]=L,t[32]=I):I=t[32],I}var h=38,y=86;function C(e){var t=o("react-compiler-runtime").c(14),n=e.handleLoginClick,a=e.isSingleAccount,i=e.loginNonces,l=e.userId,s=i[l],c=s.nonce,d=s.profilePicUrl,m=s.username,p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p={className:"x78zum5 xl56j7k"},t[0]=p):p=t[0];var _;t[1]!==a?(_={0:"x1w6pcvv x1kr3336 x1e5933n x8itksh x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 xbmvrgn",1:"x1w6pcvv x1kr3336 x1e5933n x8itksh x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x1xmf6yo x11t971q x1yztbdb xvc5jky"}[!!a<<0],t[1]=a,t[2]=_):_=t[2];var f;t[3]!==n||t[4]!==a||t[5]!==c||t[6]!==l?(f=a?function(){return n(l,c)}:void 0,t[3]=n,t[4]=a,t[5]=c,t[6]=l,t[7]=f):f=t[7];var g=a?y:h,C;return t[8]!==d||t[9]!==_||t[10]!==f||t[11]!==g||t[12]!==m?(C=u.jsx("div",babelHelpers.extends({},p,{children:u.jsx(r("PolarisUserAvatar.react"),{className:_,isLink:!1,onClick:f,profilePictureUrl:d,size:g,username:m})})),t[8]=d,t[9]=_,t[10]=f,t[11]=g,t[12]=m,t[13]=C):C=t[13],C}function b(e){var t=o("react-compiler-runtime").c(39),n=e.editMode,a=e.handleLoginClick,i=e.handleRemoveAccountClick,l=e.isLoginButtonDisabled,s=e.isLoginButtonLoading,c=e.loginNonces,d=e.userId,m=c[d].nonce,p=c[d].username,f;t[0]!==l||t[1]!==d?(f=l(d),t[0]=l,t[1]=d,t[2]=f):f=t[2];var g=f,h;t[3]!==s||t[4]!==d?(h=s(d),t[3]=s,t[4]=d,t[5]=h):h=t[5];var y=h,b;t[6]!==n||t[7]!==a||t[8]!==g||t[9]!==m||t[10]!==d?(b=n||g?r("emptyFunction"):function(){return a(d,m)},t[6]=n,t[7]=a,t[8]=g,t[9]=m,t[10]=d,t[11]=b):b=t[11];var v=b,S=g||y,R;t[12]!==i||t[13]!==d||t[14]!==p?(R=function(){return i(d,p)},t[12]=i,t[13]=d,t[14]=p,t[15]=R):R=t[15];var L;t[16]===Symbol.for("react.memo_cache_sentinel")?(L=u.jsx(r("IGDSXPanoFilledIcon.react"),{alt:o("PolarisGenericStrings").CLOSE_TEXT,size:12}),t[16]=L):L=t[16];var E;t[17]!==S||t[18]!==R?(E=u.jsx(r("PolarisIGCoreSVGIconButton.react"),{disabled:S,onClick:R,padding:0,children:L}),t[17]=S,t[18]=R,t[19]=E):E=t[19];var k=E,I;t[20]!==a||t[21]!==c||t[22]!==d?(I=u.jsx(C,{handleLoginClick:a,isSingleAccount:!1,loginNonces:c,userId:d}),t[20]=a,t[21]=c,t[22]=d,t[23]=I):I=t[23];var T;t[24]===Symbol.for("react.memo_cache_sentinel")?(T={className:"x1qjc9v5 xdt5ytf x1iyjqo2 xs83m0k x6ikm8r x10wlt62 xlyipyv xuxw1ft"},t[24]=T):T=t[24];var D;t[25]!==p?(D=u.jsx("div",babelHelpers.extends({},T,{children:p})),t[25]=p,t[26]=D):D=t[26];var x;t[27]!==n||t[28]!==v||t[29]!==g||t[30]!==y||t[31]!==k?(x=u.jsx(r("IGDSBox.react"),{justifyContent:"end",children:n?k:u.jsx(r("IGDSButton.react"),{display:"block",isDisabled:g,isLoading:y,label:o("PolarisAuthStrings").LOG_IN_BUTTON_TEXT,onClick:v})}),t[27]=n,t[28]=v,t[29]=g,t[30]=y,t[31]=k,t[32]=x):x=t[32];var $;return t[33]!==v||t[34]!==D||t[35]!==x||t[36]!==I||t[37]!==d?($=u.jsx(r("IGDSBox.react"),{alignItems:"center",columnGap:2,direction:"row",flex:"grow",paddingY:2,children:u.jsxs(r("CometPressable.react"),{onPress:v,role:"button",xstyle:_.account,children:[I,D,x]},d)}),t[33]=v,t[34]=D,t[35]=x,t[36]=I,t[37]=d,t[38]=$):$=t[38],$}function v(){var e=o("react-compiler-runtime").c(2),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=u.jsx(r("IGDSBox.react"),{paddingX:9,paddingY:2,position:"relative",width:"100%",children:u.jsx(r("IGDSDivider.react"),{})}),e[0]=t):t=e[0];var n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=u.jsxs(u.Fragment,{children:[t,u.jsx(r("IGDSBox.react"),{alignItems:"center",marginBottom:4,marginTop:4,position:"relative",children:u.jsx(r("PolarisAuthTypeSwitcher.react"),{primary:!0})})]}),e[1]=n):n=e[1],n}function S(e){var t=o("react-compiler-runtime").c(3),n=e.onRemoveClick,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Remove account"),t[0]=a):a=t[0];var i;return t[1]!==n?(i=u.jsx(r("IGDSButton.react"),{display:"block",label:a,onClick:n,variant:"primary_link"}),t[1]=n,t[2]=i):i=t[2],i}function R(e){var t=o("react-compiler-runtime").c(29),n=e.handleLoginClick,a=e.handleRemoveAccountClick,i=e.isLoginButtonLoading,l=e.loginNonces,c=e.showSingleAccountProfilePicture,d;t[0]!==l?(d=Object.keys(l),t[0]=l,t[1]=d):d=t[1];var m=d[0],p=l[m],_=p.nonce,f=p.username,g;t[2]!==f?(g=s._(/*BTDS*/"Continue as {username}",[s._param("username",f)]),t[2]=f,t[3]=g):g=t[3];var h=g,y;t[4]!==n||t[5]!==l||t[6]!==c||t[7]!==m?(y=c&&u.jsx(C,{handleLoginClick:n,isSingleAccount:!0,loginNonces:l,userId:m}),t[4]=n,t[5]=l,t[6]=c,t[7]=m,t[8]=y):y=t[8];var b;t[9]!==i||t[10]!==m?(b=i(m),t[9]=i,t[10]=m,t[11]=b):b=t[11];var R;t[12]!==n||t[13]!==_||t[14]!==m?(R=function(){return n(m,_)},t[12]=n,t[13]=_,t[14]=m,t[15]=R):R=t[15];var L;t[16]!==h||t[17]!==b||t[18]!==R?(L=u.jsx(r("IGDSBox.react"),{marginBottom:5,marginEnd:"auto",marginStart:"auto",marginTop:4,minWidth:120,position:"relative",width:"intrinsic",children:u.jsx(r("IGDSButton.react"),{isLoading:b,label:h,onClick:R,size:"small",variant:"primary"})}),t[16]=h,t[17]=b,t[18]=R,t[19]=L):L=t[19];var E;t[20]!==a||t[21]!==m||t[22]!==f?(E=u.jsx(r("IGDSBox.react"),{alignItems:"center",marginBottom:5,position:"relative",children:u.jsx(S,{onRemoveClick:function(){return a(m,f)}})}),t[20]=a,t[21]=m,t[22]=f,t[23]=E):E=t[23];var k;t[24]===Symbol.for("react.memo_cache_sentinel")?(k=o("PolarisUA").isMobile()&&u.jsx(v,{}),t[24]=k):k=t[24];var I;return t[25]!==y||t[26]!==L||t[27]!==E?(I=u.jsxs(r("IGDSBox.react"),{direction:"column",flex:"grow",children:[y,L,E,k]}),t[25]=y,t[26]=L,t[27]=E,t[28]=I):I=t[28],I}function L(e){var t=o("react-compiler-runtime").c(27),n=e.editMode,a=e.fbConnectedUser,i=e.handleLoginClick,l=e.handleManageAccountsClick,c=e.handleRemoveAccountClick,d=e.isLoginButtonDisabled,m=e.isLoginButtonLoading,f=e.loginNonces,h=e.onRequestFBLogin,y;t[0]!==n?(y=n?s._(/*BTDS*/"Finished editing"):p,t[0]=n,t[1]=y):y=t[1];var C=y,v;t[2]!==f?(v=Object.keys(f),t[2]=f,t[3]=v):v=t[3];var S;t[4]!==n||t[5]!==i||t[6]!==c||t[7]!==d||t[8]!==m||t[9]!==f||t[10]!==v?(S=v.map(function(e){return u.jsx(b,{editMode:n,handleLoginClick:i,handleRemoveAccountClick:c,isLoginButtonDisabled:d,isLoginButtonLoading:m,loginNonces:f,userId:e},"account_"+e)}),t[4]=n,t[5]=i,t[6]=c,t[7]=d,t[8]=m,t[9]=f,t[10]=v,t[11]=S):S=t[11];var R=S,L;t[12]!==a||t[13]!==d||t[14]!==m||t[15]!==h?(L=u.jsx(g,{fbConnectedUser:a,isLoginButtonDisabled:d,isLoginButtonLoading:m,onRequestFBLogin:h}),t[12]=a,t[13]=d,t[14]=m,t[15]=h,t[16]=L):L=t[16];var E;t[17]!==R||t[18]!==L?(E=u.jsxs(r("IGDSBox.react"),{alignItems:"stretch",direction:"column",paddingX:4,xstyle:_.multiContainer,children:[R,L]}),t[17]=R,t[18]=L,t[19]=E):E=t[19];var k;t[20]!==l||t[21]!==C?(k=u.jsx(r("IGDSBox.react"),{marginBottom:6,position:"relative",children:u.jsx(r("IGDSBox.react"),{marginTop:4,position:"relative",children:u.jsx(r("IGDSButton.react"),{display:"block",label:C,onClick:l,variant:"primary_link"})})}),t[20]=l,t[21]=C,t[22]=k):k=t[22];var I;t[23]===Symbol.for("react.memo_cache_sentinel")?(I=o("PolarisUA").isMobile()&&u.jsx(r("IGDSBox.react"),{alignItems:"center",position:"relative",children:u.jsx(r("PolarisAuthTypeSwitcher.react"),{primary:!0})}),t[23]=I):I=t[23];var T;return t[24]!==E||t[25]!==k?(T=u.jsxs(r("IGDSBox.react"),{direction:"column",flex:"grow",children:[E,k,I]}),t[24]=E,t[25]=k,t[26]=T):T=t[26],T}function E(e){var t=e.fbConnectedUser,n=e.loginNonces,a=e.onLoginClick,i=e.onRemoveClick,l=e.onRequestFBLogin,s=e.requestInFlight,c=e.requestUserId,p=e.showSingleAccountProfilePicture,g=p===void 0?!0:p,h=m({id:"",username:""}),y=h[0],C=h[1],b=m(!1),v=b[0],S=b[1],E=r("usePolarisOneTapLoginEditModeState")(),k=E[0],I=E[1];r("useSingleSimpleImpression")(function(){Object.keys(n).length===1?o("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_login_single_user_form_load",login_type:"device_based_login"}):o("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_login_multi_user_form_load",login_type:"device_based_login"}),o("PolarisLoginLogger").logLoginEvent({event_category:"aymh_home_page_init",event_flow:"aymh",event_name:"aymh_step_view_loaded",event_step:"home_page",extra_client_data:{total_count:Object.keys(n).length.toString()}})});var T=d(function(e,t){a(e,t,function(){return T(e,t)}),o("PolarisLoginLogger").logLoginEvent({event_flow:"aymh",event_name:"one_tap_login_login_click",extra_client_data:{credential_type:"nonce"},login_type:"device_based_login"})},[a]),D=d(function(e,t){C({id:e,username:t}),S(!0),o("PolarisLoginLogger").logLoginEvent({event_flow:"aymh",event_name:"one_tap_login_remove_account_prompt_show",login_type:"device_based_login"})},[]),x=d(function(e){i(e)},[i]),$=d(function(){C({id:"",username:""}),S(!1),o("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_login_remove_account_prompt_hide",login_type:"device_based_login"})},[]),P=d(function(){I(!k)},[k,I]),N=function(t){return s&&t!==c},M=function(t){return s&&t===c},w=Object.keys(n).length===1&&!t;return u.jsxs(r("IGDSBox.react"),{alignItems:"stretch",direction:"column",xstyle:_.root,children:[w?u.jsx(R,{handleLoginClick:T,handleRemoveAccountClick:D,isLoginButtonLoading:M,loginNonces:n,showSingleAccountProfilePicture:g}):u.jsx(L,{editMode:k,fbConnectedUser:t,handleLoginClick:T,handleManageAccountsClick:P,handleRemoveAccountClick:D,isLoginButtonDisabled:N,isLoginButtonLoading:M,loginNonces:n,onRequestFBLogin:l}),v&&y.id&&y.username&&u.jsx(f,{handleRemoveOneTapLoginDialogClose:$,handleRemoveOneTapLoginDialogConfirm:x,userId:y.id,username:y.username})]})}E.displayName=E.name+" [from "+i.id+"]";function k(e){var t,n,r=e.auth;return{requestInFlight:(r==null||(t=r.login)==null?void 0:t.requestInFlight)===!0,requestUserId:r==null||(n=r.login)==null?void 0:n.userId}}function I(e){return{onLoginClick:function(n,r,a){e(o("PolarisLoginActionOneTapLogin").oneTapLogin({loginNonce:r,retry:a,userId:n}))},onRemoveClick:function(n){e(o("PolarisLoginActionOneTapLoginRemove").oneTapLoginRemove(n))}}}var T=o("PolarisReactRedux.react").connect(k,I)(E);l.default=T}),226);
__d("PolarisBirthdaySignupForm.react",["ix","IGCoreImage.react","IGDSBox.react","IGDSTextVariants.react","PolarisAgeCollectionHelpers","PolarisAuthStrings","PolarisBirthdayFormInput.react","PolarisBirthdaysAdditionalInfoModal.react","PolarisDateHelpers","PolarisDateStrings","PolarisExternalLink.react","PolarisIGCoreButton.react","PolarisReactRedux.react","PolarisRegistrationLogger","PolarisSignupActions","PolarisSignupFormFields.react","PolarisSignupTypesHelpers","gkx","react","react-compiler-runtime","usePolarisEmailOrPhoneContactpointType"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useState;function p(e){var t=o("react-compiler-runtime").c(52),n=e.onBirthdayEntered,a=e.onSignup,i=e.pageIdentifier,l=e.requestInFlight,c=e.shouldShowBirthdayTransparency,p=e.shouldShowRedesignedSignup,f=e.signupNonSpecificError,g=e.style,h=c===void 0?!1:c,y=p===void 0?!1:p,C=g===void 0?"default":g,b=o("PolarisReactRedux.react").useDispatch(),v=m(!1),S=v[0],R=v[1],L=o("PolarisReactRedux.react").useSelector(_),E;if(t[0]!==L){var k;E=(L==null||(k=L.fields.birthday)==null?void 0:k.value)!=null?o("PolarisDateHelpers").dateToDateType(new Date(L.fields.birthday.value)):o("PolarisDateHelpers").getOneYearAgoDateType(),t[0]=L,t[1]=E}else E=t[1];var I=m(E),T=I[0],D=I[1],x=r("usePolarisEmailOrPhoneContactpointType")(),$;t[2]!==x||t[3]!==b?($=function(){b(o("PolarisSignupActions").returnToBaseSignupForm()),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:x,event_name:"back_button_clicked",step:"birthday"})},t[2]=x,t[3]=b,t[4]=$):$=t[4];var P=$,N;t[5]!==T?(N=o("PolarisAgeCollectionHelpers").isDOBInputAttemptDisabled(T),t[5]=T,t[6]=N):N=t[6];var M=N,w;t[7]!==T||t[8]!==n||t[9]!==a||t[10]!==L?(w=function(){var e=o("PolarisSignupTypesHelpers").convertSignupResultToSignupFields(L);e.birthday=o("PolarisDateHelpers").dateTypeToString(T),r("gkx")("14029")===!0&&n(),a(e)},t[7]=T,t[8]=n,t[9]=a,t[10]=L,t[11]=w):w=t[11];var A=w,F;t[12]!==i?(F=function(t){o("PolarisRegistrationLogger").logRegistrationEvent({containermodule:i,event_name:"birthday_interaction"}),D(t)},t[12]=i,t[13]=F):F=t[13];var O=F,B,W;t[14]!==x?(W=function(){o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:x,event_name:"form_load",step:"birthday"})},B=[x],t[14]=x,t[15]=B,t[16]=W):(B=t[15],W=t[16]),d(W,B);var q;t[17]!==y?(q=y?null:u.jsx(r("IGCoreImage.react"),{alt:o("PolarisAgeCollectionHelpers").BIRTHDAY_ICON_ALT_TEXT,src:{dark:s("877412"),light:s("877413")}}),t[17]=y,t[18]=q):q=t[18];var U=y?5:2,V;t[19]===Symbol.for("react.memo_cache_sentinel")?(V=u.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:function(){return R(!0)},children:u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"primaryButton",children:o("PolarisAuthStrings").BIRTHDAY_WHY_LINK_TEXT})}),t[19]=V):V=t[19];var H;t[20]!==U?(H=u.jsx(r("IGDSBox.react"),{marginBottom:U,position:"relative",children:V}),t[20]=U,t[21]=H):H=t[21];var G;t[22]!==T?(G=o("PolarisDateHelpers").dateTypeToString(T),t[22]=T,t[23]=G):G=t[23];var z;t[24]!==O||t[25]!==y||t[26]!==G?(z=u.jsx(r("IGDSBox.react"),{marginBottom:2,marginTop:2,position:"relative",children:u.jsx(r("PolarisBirthdayFormInput.react"),{birthday:G,onBirthdayChange:O,shouldShowRedesignedSignup:y})}),t[24]=O,t[25]=y,t[26]=G,t[27]=z):z=t[27];var j;t[28]===Symbol.for("react.memo_cache_sentinel")?(j=u.jsx(r("IGDSBox.react"),{marginBottom:2,marginTop:2,position:"relative",children:u.jsx(o("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",textAlign:"center",children:o("PolarisDateStrings").getBirthdayDisclaimerText()})}),t[28]=j):j=t[28];var K;t[29]!==h?(K=h&&u.jsx(r("IGDSBox.react"),{marginBottom:2,marginTop:2,position:"relative",children:u.jsxs(o("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",textAlign:"center",children:[o("PolarisDateStrings").getBirthdayTransparencyText(),u.jsx(r("PolarisExternalLink.react"),{href:o("PolarisDateStrings").PRIVACY_POLICY_LINK,rel:"noopener noreferrer",target:"_blank",children:u.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,children:u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"primaryButton",children:o("PolarisDateStrings").getPrivacyPolicyText()})})})]})}),t[29]=h,t[30]=K):K=t[30];var Q;t[31]!==K?(Q=u.jsxs(r("IGDSBox.react"),{position:"relative",width:"100%",children:[j,K]}),t[31]=K,t[32]=Q):Q=t[32];var X;t[33]!==H||t[34]!==z||t[35]!==Q?(X=u.jsxs(u.Fragment,{children:[H,z,Q]}),t[33]=H,t[34]=z,t[35]=Q,t[36]=X):X=t[36];var Y;t[37]!==P||t[38]!==A||t[39]!==M||t[40]!==l||t[41]!==y||t[42]!==f||t[43]!==C||t[44]!==q||t[45]!==X?(Y=u.jsx(r("PolarisSignupFormFields.react"),{handleGoBack:P,handleNext:A,header:o("PolarisAuthStrings").BIRTHDAY_HEADER_TEXT,icon:q,isNextActionDisabled:M,maxWidth:400,requestInFlight:l,shouldShowRedesignedSignup:y,signupNonSpecificError:f,style:C,subHeader:o("PolarisAuthStrings").BIRTHDAY_SUBHEADER_TEXT,children:X}),t[37]=P,t[38]=A,t[39]=M,t[40]=l,t[41]=y,t[42]=f,t[43]=C,t[44]=q,t[45]=X,t[46]=Y):Y=t[46];var J;t[47]!==S?(J=S&&u.jsx(r("PolarisBirthdaysAdditionalInfoModal.react"),{onClose:function(){return R(!1)}}),t[47]=S,t[48]=J):J=t[48];var Z;return t[49]!==Y||t[50]!==J?(Z=u.jsxs(u.Fragment,{children:[Y,J]}),t[49]=Y,t[50]=J,t[51]=Z):Z=t[51],Z}function _(e){var t;return(t=e.auth.signup)==null?void 0:t.signupResult}l.default=p}),98);
__d("PolarisCaptchaSignupForm.react",["IGDSBox.react","IGDSTextVariants.react","PolarisAuthStrings","PolarisReactRedux.react","PolarisRecaptcha","PolarisRegistrationLogger","PolarisSignupActions","PolarisSignupFormFields.react","PolarisSignupTypesHelpers","react","react-compiler-runtime","usePolarisEmailOrPhoneContactpointType"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(24),n=e.onSignup,a=e.requestInFlight,i=e.signupNonSpecificError,l=e.style,u=l===void 0?"default":l,m=o("PolarisReactRedux.react").useDispatch(),f=d(_),g=f[0],h=f[1],y=o("PolarisReactRedux.react").useSelector(p),C=r("usePolarisEmailOrPhoneContactpointType")(),b,v;t[0]!==C?(b=function(){o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:C,event_name:"form_load",step:"captcha"})},v=[C],t[0]=C,t[1]=b,t[2]=v):(b=t[1],v=t[2]),c(b,v);var S;t[3]!==C||t[4]!==m?(S=function(){m(o("PolarisSignupActions").returnToBaseSignupForm()),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:C,event_name:"back_button_clicked",step:"captcha"})},t[3]=C,t[4]=m,t[5]=S):S=t[5];var R=S,L=g==="",E;t[6]!==g||t[7]!==n||t[8]!==y?(E=function(){var e=o("PolarisSignupTypesHelpers").convertSignupResultToSignupFields(y);e.captcha=g,n(e)},t[6]=g,t[7]=n,t[8]=y,t[9]=E):E=t[9];var k=E,I;t[10]!==C?(I=function(t){o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:C,event_name:"captcha_solved"}),h(t)},t[10]=C,t[11]=I):I=t[11];var T=I,D;t[12]!==T?(D=s.jsx(r("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",children:s.jsx(r("PolarisRecaptcha"),{onChange:T})}),t[12]=T,t[13]=D):D=t[13];var x;t[14]!==i?(x=i!=null&&s.jsx(r("IGDSBox.react"),{marginTop:4,position:"relative",children:s.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"errorOrDestructive",textAlign:"center",children:i})}),t[14]=i,t[15]=x):x=t[15];var $;return t[16]!==R||t[17]!==k||t[18]!==L||t[19]!==a||t[20]!==u||t[21]!==D||t[22]!==x?($=s.jsxs(r("PolarisSignupFormFields.react"),{handleGoBack:R,handleNext:k,header:o("PolarisAuthStrings").SIGN_UP_BUTTON_TEXT,isNextActionDisabled:L,requestInFlight:a,style:u,subHeader:o("PolarisAuthStrings").SIGN_UP_PHONE_LINK_TEXT,children:[D,x]}),t[16]=R,t[17]=k,t[18]=L,t[19]=a,t[20]=u,t[21]=D,t[22]=x,t[23]=$):$=t[23],$}function p(e){var t;return(t=e.auth.signup)==null?void 0:t.signupResult}function _(){return""}l.default=m}),98);
__d("PolarisEmailConfirmationForm.react",["fbt","ix","IGCoreImage.react","IGDSBox.react","IGDSButton.react","IGDSDialogFooter.react","IGDSText.react","IGDSTextVariants.react","PolarisAuthStrings","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisIGCoreTextInput.react","PolarisLabeledTextInput.react","PolarisReactRedux.react","PolarisRegistrationLogger","PolarisSignupActions","qex","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e,m=d.useCallback,p=d.useEffect,_=d.useState,f=6,g=s._(/*BTDS*/"Email address confirmation"),h=350;function y(e){var t,n,a=o("react-compiler-runtime").c(75),i=e.onSubmit,l=e.pageIdentifier,s=e.requestInFlight,d=e.shouldShowRedesignedSignup,m=e.signupNonSpecificError,y=e.style,b=d===void 0?!1:d,v=y===void 0?"default":y,S=o("PolarisReactRedux.react").useDispatch(),R=o("PolarisReactRedux.react").useSelector(C),L=(t=R==null||(n=R.fields.emailOrPhone)==null?void 0:n.value)!=null?t:"",E=_(""),k=E[0],I=E[1],T=_(!1),D=T[0],x=T[1],$=_(!1),P=$[0],N=$[1],M=k.length<f||s,w=m;if(w==null&&(R==null?void 0:R.fields)!=null){var A=R.fields,F=Object.keys(A).some(function(e){var t;return((t=A[e])==null?void 0:t.error)!=null});F&&(w=o("PolarisAuthStrings").ERROR_SIGNUP_UNKNOWN)}var O;a[0]===Symbol.for("react.memo_cache_sentinel")?(O=function(t){I(t.target.value)},a[0]=O):O=a[0];var B=O,W;a[1]!==S?(W=function(){S(o("PolarisSignupActions").returnToBaseSignupForm()),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"email",event_name:"back_button_clicked",step:"emailConfirmation"})},a[1]=S,a[2]=W):W=a[2];var q=W,U;a[3]!==S||a[4]!==L?(U=function(){S(o("PolarisSignupActions").requestConfirmationEmailWithLogging(L,null,!0))},a[3]=S,a[4]=L,a[5]=U):U=a[5];var V=U,H;a[6]!==k||a[7]!==M||a[8]!==i||a[9]!==R?(H=function(){if(!M&&R!=null){var e=Object.keys(R.fields).reduce(function(e,t){var n,r=(n=R.fields[t])==null?void 0:n.value;return r!=null&&t!=="optIntoOneTap"&&(e[t]=r),e},{});e.emailConfirmationCode=k,i(e)}},a[6]=k,a[7]=M,a[8]=i,a[9]=R,a[10]=H):H=a[10];var G=H,z,j;a[11]!==l?(z=function(){o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"email",containermodule:l,event_name:"form_load",step:"emailConfirmation"})},j=[l],a[11]=l,a[12]=z,a[13]=j):(z=a[12],j=a[13]),p(z,j);var K;a[14]!==k.length||a[15]!==G||a[16]!==D?(K=function(){D||k.length===f&&r("qex")._("2155")===!0&&(x(!0),G())},a[14]=k.length,a[15]=G,a[16]=D,a[17]=K):K=a[17];var Q;a[18]!==k||a[19]!==G||a[20]!==D?(Q=[k,G,D],a[18]=k,a[19]=G,a[20]=D,a[21]=Q):Q=a[21],p(K,Q);var X;a[22]!==b?(X=b!==!0&&c.jsx(r("IGCoreImage.react"),{alt:g,src:{dark:u("148908"),light:u("835354")}}),a[22]=b,a[23]=X):X=a[23];var Y;a[24]!==b?(Y=c.jsx(r("IGDSBox.react"),{marginBottom:2,marginTop:4,position:"relative",children:b===!0?c.jsx(r("IGDSText.react"),{color:"primaryText",size:"title",textAlign:"center",weight:"bold",zeroMargin:!1,children:o("PolarisAuthStrings").JUST_ONE_MORE_STEP_HEADER}):c.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{textAlign:"center",children:o("PolarisAuthStrings").EMAIL_CONFIRMATION_CODE_HEADER})}),a[24]=b,a[25]=Y):Y=a[25];var J=b?2:4,Z;a[26]!==L?(Z=o("PolarisAuthStrings").emailConfirmationCodeSubheader(L),a[26]=L,a[27]=Z):Z=a[27];var ee;a[28]!==V?(ee=c.jsx(r("IGDSButton.react"),{display:"block",label:o("PolarisAuthStrings").EMAIL_CONFIRMATION_RESEND_CODE,onClick:V,variant:"primary_link"}),a[28]=V,a[29]=ee):ee=a[29];var te;a[30]!==Z||a[31]!==ee?(te=c.jsxs(o("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",children:[Z," ",ee]}),a[30]=Z,a[31]=ee,a[32]=te):te=a[32];var ne;a[33]!==J||a[34]!==te?(ne=c.jsx(r("IGDSBox.react"),{display:"inlineBlock",marginBottom:4,marginTop:J,position:"relative",children:te}),a[33]=J,a[34]=te,a[35]=ne):ne=a[35];var re;a[36]!==X||a[37]!==Y||a[38]!==ne?(re=c.jsxs(r("IGDSBox.react"),{alignItems:"center",maxWidth:h,paddingX:7,paddingY:2,position:"relative",children:[X,Y,ne]}),a[36]=X,a[37]=Y,a[38]=ne,a[39]=re):re=a[39];var oe;a[40]!==G?(oe=function(t){t.preventDefault(),G()},a[40]=G,a[41]=oe):oe=a[41];var ae;a[42]===Symbol.for("react.memo_cache_sentinel")?(ae=c.jsx("input",{className:"x1s85apg",type:"submit"}),a[42]=ae):ae=a[42];var ie=b?7:10,le;a[43]!==k||a[44]!==P||a[45]!==l||a[46]!==b?(le=c.jsx(r("IGDSBox.react"),{position:"relative",width:"100%",children:b===!0?c.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x7r02ix x1yvgwvq xjd31um x1ixjvfu xwt6s21 x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x5n08af x78zum5 x1q0g3np xvs91rp x1n2onr6 xh8yej3"},1:{className:"x6s0dn4 x7r02ix x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x5n08af x78zum5 x1q0g3np xvs91rp x1n2onr6 xh8yej3 x19gtwsn xhpglom x1xp9za0 x1fqc88y"}}[!!P<<0],{children:c.jsx(r("PolarisLabeledTextInput.react"),{"aria-label":o("PolarisAuthStrings").EMAIL_CONFIRMATION_CODE,autoComplete:"off",isRedesignedSignupFieldInput:!0,maxLength:8,name:"email_confirmation_code",onBlur:function(){return N(!1)},onChange:B,onFocus:function(){N(!0),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"email",containermodule:l,event_name:"confirmation_interaction"})},placeholder:o("PolarisAuthStrings").EMAIL_CONFIRMATION_CODE,slimTextInputCol:!0,type:"text",value:k})})):c.jsx(r("PolarisIGCoreTextInput.react"),{"aria-label":o("PolarisAuthStrings").EMAIL_CONFIRMATION_CODE,autoComplete:"off",backgroundColor:"ig-secondary-background",maxLength:8,name:"email_confirmation_code",onChange:B,onFocus:function(){o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"email",containermodule:l,event_name:"confirmation_interaction"})},placeholder:o("PolarisAuthStrings").EMAIL_CONFIRMATION_CODE,value:k})}),a[43]=k,a[44]=P,a[45]=l,a[46]=b,a[47]=le):le=a[47];var se;a[48]!==M||a[49]!==q||a[50]!==G||a[51]!==s||a[52]!==b||a[53]!==v?(se=v==="default"&&c.jsxs(c.Fragment,{children:[c.jsx(r("IGDSBox.react"),{marginTop:4,position:"relative",width:"100%",children:c.jsx(r("IGDSButton.react"),{fullWidth:!0,isDisabled:M,isLoading:s,label:b===!0?o("PolarisGenericStrings").FINISH:o("PolarisGenericStrings").NEXT,onClick:G})}),b===!0?c.jsx(r("IGDSBox.react"),{marginTop:2,position:"relative",width:"100%",children:c.jsx(r("PolarisIGCoreButton.react"),{borderless:!1,color:"ig-secondary-button",fullWidth:!0,onClick:q,children:o("PolarisGenericStrings").BACK_TEXT})}):c.jsx(r("IGDSBox.react"),{marginTop:4,position:"relative",children:c.jsx(r("IGDSButton.react"),{display:"block",isDisabled:s,label:o("PolarisGenericStrings").GO_BACK,onClick:q,variant:"primary_link"})})]}),a[48]=M,a[49]=q,a[50]=G,a[51]=s,a[52]=b,a[53]=v,a[54]=se):se=a[54];var ue;a[55]!==w?(ue=w!=null&&c.jsx(r("IGDSBox.react"),{marginTop:4,position:"relative",children:c.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"errorOrDestructive",textAlign:"center",children:w})}),a[55]=w,a[56]=ue):ue=a[56];var ce;a[57]!==ie||a[58]!==le||a[59]!==se||a[60]!==ue?(ce=c.jsxs(r("IGDSBox.react"),{alignItems:"center",margin:"auto",marginBottom:2,marginTop:2,maxWidth:h,paddingX:ie,position:"relative",children:[le,se,ue]}),a[57]=ie,a[58]=le,a[59]=se,a[60]=ue,a[61]=ce):ce=a[61];var de;a[62]!==M||a[63]!==q||a[64]!==G||a[65]!==s||a[66]!==v?(de=v==="modal"&&c.jsx(r("IGDSBox.react"),{marginTop:5,position:"relative",width:"100%",children:c.jsx(r("IGDSDialogFooter.react"),{endAdornment:c.jsx(r("IGDSButton.react"),{display:"block",isDisabled:M,isLoading:s,label:o("PolarisAuthStrings").CONTINUE,onClick:G,variant:"primary_link"}),startAdornment:c.jsx(r("IGDSButton.react"),{display:"block",label:o("PolarisGenericStrings").BACK_TEXT,onClick:q,variant:"primary_link"})})}),a[62]=M,a[63]=q,a[64]=G,a[65]=s,a[66]=v,a[67]=de):de=a[67];var me;a[68]!==oe||a[69]!==ce||a[70]!==de?(me=c.jsx(r("IGDSBox.react"),{position:"relative",width:"100%",children:c.jsxs("form",{method:"POST",noValidate:!1,onSubmit:oe,children:[ae,ce,de]})}),a[68]=oe,a[69]=ce,a[70]=de,a[71]=me):me=a[71];var pe;return a[72]!==re||a[73]!==me?(pe=c.jsxs(c.Fragment,{children:[re,me]}),a[72]=re,a[73]=me,a[74]=pe):pe=a[74],pe}function C(e){var t;return(t=e.auth.signup)==null?void 0:t.signupResult}l.default=y}),226);
__d("PolarisPhoneSignupChangeNumberForm.react",["fbt","IGDSBox.react","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisSlimTextInput.react","isStringNullOrEmpty","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useRef,p=c.useState,_="phoneSignupConfirmErrorAlert",f=s._(/*BTDS*/"New phone number");function g(e){var t=o("react-compiler-runtime").c(35),n=e.errorMessage,a=e.initialPhoneNumber,i=e.onGoBackClick,l=e.onSubmit,c=e.requestInFlight,g=m(null),h=p(""),y=h[0],C=h[1],b,v;t[0]===Symbol.for("react.memo_cache_sentinel")?(b=function(){var e;(e=g.current)==null||e.focus()},v=[],t[0]=b,t[1]=v):(b=t[0],v=t[1]),d(b,v);var S;t[2]!==y||t[3]!==l?(S=function(t){t.preventDefault(),l(y)},t[2]=y,t[3]=l,t[4]=S):S=t[4];var R=S,L;t[5]===Symbol.for("react.memo_cache_sentinel")?(L=function(t){C(t.target.value)},t[5]=L):L=t[5];var E=L,k,I,T,D,x,$;t[6]===Symbol.for("react.memo_cache_sentinel")?(I={className:"x889kno xyri2b x1a8lsjc x1c1uobl"},T=u.jsx("h2",{className:"x972fbf x10w94by x1qhh985 x14e42zd x1lliihq xln7xf2 x1jchvi3 x1s688f xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x2b8uid x11njtxf",children:s._(/*BTDS*/"Change phone number")}),D={className:"x972fbf x10w94by x1qhh985 x14e42zd x1lliihq xln7xf2 x1f6kntn x1fcty0u xd4r4e8 xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x2b8uid x11njtxf"},x=u.jsx("span",{className:"x972fbf x10w94by x1qhh985 x14e42zd x5n08af xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf",children:s._(/*BTDS*/"Current phone number:")}),$=u.jsx("br",{}),k={className:"x972fbf x10w94by x1qhh985 x14e42zd x1roi4f4 xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},t[6]=k,t[7]=I,t[8]=T,t[9]=D,t[10]=x,t[11]=$):(k=t[6],I=t[7],T=t[8],D=t[9],x=t[10],$=t[11]);var P;t[12]!==a?(P=u.jsxs("p",babelHelpers.extends({},D,{children:[x,$,u.jsx("span",babelHelpers.extends({},k,{children:a}))]})),t[12]=a,t[13]=P):P=t[13];var N;t[14]===Symbol.for("react.memo_cache_sentinel")?(N={className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 xdt5ytf xln7xf2 xk390pu xdj266r x14z9mp x1lziwak x1yztbdb xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},t[14]=N):N=t[14];var M;t[15]===Symbol.for("react.memo_cache_sentinel")?(M="xdj266r x11gldyt x1iymm2a x11hdunq",t[15]=M):M=t[15];var w;t[16]!==y?(w=u.jsx(r("PolarisSlimTextInput.react"),{"aria-label":f,"aria-required":"true",autoCapitalize:"off",autoCorrect:"off",className:M,name:"newPhoneNumber",onChange:E,placeholder:f,ref:g,type:"tel",value:y}),t[16]=y,t[17]=w):w=t[17];var A;t[18]===Symbol.for("react.memo_cache_sentinel")?(A=s._(/*BTDS*/"Change"),t[18]=A):A=t[18];var F;t[19]!==R||t[20]!==c?(F=u.jsx(r("IGDSBox.react"),{marginBottom:4,marginEnd:10,marginStart:10,position:"relative",children:u.jsx(r("PolarisIGCoreButton.react"),{loading:c,onClick:R,children:A})}),t[19]=R,t[20]=c,t[21]=F):F=t[21];var O;t[22]!==R||t[23]!==w||t[24]!==F?(O=u.jsxs("form",babelHelpers.extends({},N,{method:"POST",onSubmit:R,children:[w,F]})),t[22]=R,t[23]=w,t[24]=F,t[25]=O):O=t[25];var B;t[26]!==n?(B=!r("isStringNullOrEmpty")(n)&&u.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 xkmlbd1 x78zum5 xdt5ytf x2lah0s xln7xf2 x1f6kntn xd4r4e8 xdj266r x11gldyt xyorhqc x11hdunq xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x2b8uid x11njtxf",children:u.jsx("p",{"aria-atomic":"true",id:_,role:"alert",children:n})}),t[26]=n,t[27]=B):B=t[27];var W;t[28]!==i?(W=u.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:i,children:o("PolarisGenericStrings").GO_BACK}),t[28]=i,t[29]=W):W=t[29];var q;return t[30]!==P||t[31]!==O||t[32]!==B||t[33]!==W?(q=u.jsxs("div",babelHelpers.extends({},I,{children:[T,P,O,B,W]})),t[30]=P,t[31]=O,t[32]=B,t[33]=W,t[34]=q):q=t[34],q}l.default=g}),226);
__d("PolarisPhoneSignupConfirmForm.react",["fbt","IGDSBox.react","IGDSButton.react","IGDSText.react","IGDSTextVariants.react","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisLabeledTextInput.react","PolarisMultiSignupConstants","PolarisReactRedux.react","PolarisRegistrationLogger","PolarisSlimTextInput.react","qex","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useEffect,p=c.useRef,_=c.useState,f="phoneSignupConfirmErrorAlert",g="confirmationCodeDescription",h=s._(/*BTDS*/"Just one more step");function y(e){return s._(/*BTDS*/"Enter the 6-digit code we sent to: {phone number}",[s._param("phone number",e)])}function C(e){return s._(/*BTDS*/"Enter the 6-digit code that we sent to {phone number}.",[s._param("phone number",e)])}var b=s._(/*BTDS*/"Resend code"),v=s._(/*BTDS*/"Change number"),S=s._(/*BTDS*/"Confirmation code"),R="######",L=s._(/*BTDS*/"Confirm");function E(e,t){return u.jsx("div",{className:t,children:u.jsx("p",{"aria-atomic":"true",id:f,role:"alert",children:e})})}E.displayName=E.name+" [from "+i.id+"]";function k(e){var t=o("react-compiler-runtime").c(70),n=e.errorMessage,a=e.onChangeNumberClick,i=e.onResendClick,l=e.onSubmit,c=e.pageIdentifier,d=e.phoneNumber,f=e.requestInFlight,E=e.shouldShowRedesignedSignup,k=e.successMessage,x=E===void 0?!1:E,$=_(""),P=$[0],N=$[1],M=_(!1),w=M[0],A=M[1],F=p(null),O=_(!1),B=O[0],W=O[1],q,U;t[0]===Symbol.for("react.memo_cache_sentinel")?(q=function(){(F==null?void 0:F.current)!=null&&F.current.focus()},U=[],t[0]=q,t[1]=U):(q=t[0],U=t[1]),m(q,U);var V=D,H=T,G=o("PolarisReactRedux.react").useSelector(I),z;t[2]!==P||t[3]!==l||t[4]!==G?(z=function(){o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"phone",event_name:"twofac_form_next_clicked"});var e=P.replace(/\s+/g,"");if((G==null?void 0:G.fields)!=null){var t=Object.keys(G.fields).reduce(function(e,t){var n,r=(n=G.fields[t])==null?void 0:n.value;return r!=null&&t!=="optIntoOneTap"&&(e[t]=r),e},{});t.twofac=e,l(t)}},t[2]=P,t[3]=l,t[4]=G,t[5]=z):z=t[5];var j=z,K;t[6]===Symbol.for("react.memo_cache_sentinel")?(K=function(t){var e=t.target.value;e.match(/^[0-9 ]*$/)&&N(e)},t[6]=K):K=t[6];var Q=K,X;t[7]!==P.length||t[8]!==j||t[9]!==w?(X=function(){w||P.length===o("PolarisMultiSignupConstants").TWO_FAC_CODE_MIN_LENGTH&&r("qex")._("2156")===!0&&(A(!0),j())},t[7]=P.length,t[8]=j,t[9]=w,t[10]=X):X=t[10];var Y;t[11]!==P||t[12]!==j||t[13]!==w?(Y=[P,j,w],t[11]=P,t[12]=j,t[13]=w,t[14]=Y):Y=t[14],m(X,Y);var J;t[15]===Symbol.for("react.memo_cache_sentinel")?(J={className:"x889kno xyri2b x1a8lsjc x1c1uobl"},t[15]=J):J=t[15];var Z;t[16]!==x?(Z=u.jsx(r("IGDSBox.react"),{marginBottom:2,marginTop:2,position:"relative",children:x?u.jsx(r("IGDSText.react"),{color:"primaryText",size:"title",textAlign:"center",weight:"bold",zeroMargin:!1,children:h}):u.jsx(r("IGDSText.react"),{size:"label",textAlign:"center",weight:"semibold",zeroMargin:!1,children:h})}),t[16]=x,t[17]=Z):Z=t[17];var ee=x?1:4,te=x?2:4,ne;t[18]!==d||t[19]!==x?(ne=x?C(d):y(d),t[18]=d,t[19]=x,t[20]=ne):ne=t[20];var re;t[21]!==ne?(re=u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",children:ne}),t[21]=ne,t[22]=re):re=t[22];var oe;t[23]!==ee||t[24]!==te||t[25]!==re?(oe=u.jsx(r("IGDSBox.react"),{marginBottom:ee,marginTop:te,position:"relative",children:re}),t[23]=ee,t[24]=te,t[25]=re,t[26]=oe):oe=t[26];var ae;t[27]!==i||t[28]!==x?(ae=x===!0&&u.jsx(r("IGDSBox.react"),{display:"inlineBlock",marginBottom:5,position:"relative",children:u.jsx(r("IGDSButton.react"),{display:"block",label:b,onClick:function(t){i(t)},variant:"primary_link"})}),t[27]=i,t[28]=x,t[29]=ae):ae=t[29];var ie;t[30]!==oe||t[31]!==ae||t[32]!==Z?(ie=u.jsxs(r("IGDSBox.react"),{alignItems:"center",id:g,paddingX:7,position:"relative",children:[Z,oe,ae]}),t[30]=oe,t[31]=ae,t[32]=Z,t[33]=ie):ie=t[33];var le;t[34]===Symbol.for("react.memo_cache_sentinel")?(le={className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 xdt5ytf xln7xf2 xk390pu xdj266r x14z9mp x1lziwak x1yztbdb xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},t[34]=le):le=t[34];var se;t[35]!==j?(se=function(t){t.preventDefault(),j()},t[35]=j,t[36]=se):se=t[36];var ue;t[37]!==P||t[38]!==B||t[39]!==c||t[40]!==x?(ue=x===!0?u.jsx(r("IGDSBox.react"),{marginBottom:4,paddingX:7,children:u.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x7r02ix x1yvgwvq xjd31um x1ixjvfu xwt6s21 x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x5n08af x78zum5 x1q0g3np xvs91rp x1n2onr6 xh8yej3"},1:{className:"x6s0dn4 x7r02ix x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x5n08af x78zum5 x1q0g3np xvs91rp x1n2onr6 xh8yej3 x19gtwsn xhpglom x1xp9za0 x1fqc88y"}}[!!B<<0],{children:u.jsx(r("PolarisLabeledTextInput.react"),{"aria-label":S,autoComplete:"off",isRedesignedSignupFieldInput:!0,maxLength:8,name:"phone_confirmation_code",onBlur:function(){return W(!1)},onChange:Q,onFocus:function(){W(!0),o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"phone",containermodule:c,event_name:"confirmation_interaction"})},placeholder:S,slimTextInputCol:!0,type:"text",value:P})}))}):u.jsx(r("PolarisSlimTextInput.react"),{"aria-describedby":g,"aria-label":R,"aria-required":"true",autoCapitalize:"off",autoCorrect:"off",className:"xdj266r x11gldyt x1iymm2a x11hdunq",maxLength:6,name:"confirmationCode",onChange:Q,onFocus:function(){o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"phone",containermodule:c,event_name:"confirmation_interaction"})},placeholder:R,ref:F,type:"tel",value:P}),t[37]=P,t[38]=B,t[39]=c,t[40]=x,t[41]=ue):ue=t[41];var ce;t[42]!==P.length||t[43]!==n||t[44]!==j||t[45]!==a||t[46]!==f||t[47]!==x||t[48]!==k?(ce=x===!0?u.jsxs(u.Fragment,{children:[u.jsx(r("IGDSBox.react"),{paddingX:4,position:"relative",width:"100%",children:u.jsx(r("IGDSButton.react"),{fullWidth:!0,isDisabled:P.length<o("PolarisMultiSignupConstants").TWO_FAC_CODE_MIN_LENGTH||f,isLoading:f,label:o("PolarisGenericStrings").FINISH,onClick:j})}),u.jsx(r("IGDSBox.react"),{marginTop:2,paddingX:4,position:"relative",width:"100%",children:u.jsx(r("PolarisIGCoreButton.react"),{borderless:!1,color:"ig-secondary-button",fullWidth:!0,onClick:a,children:v})}),n!=null&&n!==""&&u.jsx(r("IGDSBox.react"),{marginTop:4,position:"relative",children:u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"errorOrDestructive",textAlign:"center",children:n})}),k!=null&&k!==""&&u.jsx(r("IGDSBox.react"),{marginTop:4,position:"relative",children:u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",children:k})})]}):u.jsx(r("IGDSBox.react"),{marginBottom:4,marginEnd:10,marginStart:10,position:"relative",children:u.jsx(r("PolarisIGCoreButton.react"),{loading:f,onClick:j,children:L})}),t[42]=P.length,t[43]=n,t[44]=j,t[45]=a,t[46]=f,t[47]=x,t[48]=k,t[49]=ce):ce=t[49];var de;t[50]!==se||t[51]!==ue||t[52]!==ce?(de=u.jsxs("form",babelHelpers.extends({},le,{method:"POST",onSubmit:se,children:[ue,ce]})),t[50]=se,t[51]=ue,t[52]=ce,t[53]=de):de=t[53];var me;t[54]!==n||t[55]!==x?(me=!x&&n!=null&&n!==""&&V(n),t[54]=n,t[55]=x,t[56]=me):me=t[56];var pe;t[57]!==x||t[58]!==k?(pe=!x&&k!=null&&k!==""&&H(k),t[57]=x,t[58]=k,t[59]=pe):pe=t[59];var _e;t[60]!==a||t[61]!==i||t[62]!==x?(_e=!x&&u.jsxs("div",{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 xdj266r x11gldyt x1yztbdb x11hdunq x2b8uid",children:[u.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:a,children:s._(/*BTDS*/"Change number")})," | ",u.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:i,children:s._(/*BTDS*/"Request new code")})]}),t[60]=a,t[61]=i,t[62]=x,t[63]=_e):_e=t[63];var fe;return t[64]!==ie||t[65]!==de||t[66]!==me||t[67]!==pe||t[68]!==_e?(fe=u.jsxs("div",babelHelpers.extends({},J,{children:[ie,de,me,pe,_e]})),t[64]=ie,t[65]=de,t[66]=me,t[67]=pe,t[68]=_e,t[69]=fe):fe=t[69],fe}function I(e){var t;return(t=e.auth.signup)==null?void 0:t.signupResult}function T(e){return E(e,"x1f6kntn xd4r4e8 xdj266r x11gldyt xyorhqc x11hdunq x2b8uid x5n08af")}function D(e){return E(e,"x1f6kntn xd4r4e8 xdj266r x11gldyt xyorhqc x11hdunq x2b8uid xkmlbd1")}l.default=k}),226);
__d("PolarisPhoneSignupForm.react",["fbt","invariant","FBLogger","IGDSBox.react","PolarisAssetManagerGlyphMapping","PolarisIGCoreIcon.react","PolarisPhoneSignupChangeNumberForm.react","PolarisPhoneSignupConfirmForm.react","PolarisReactRedux.react","PolarisRegistrationLogger","PolarisSignupActions","isStringNullOrEmpty","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e.useEffect,m=s._(/*BTDS*/"Phone number confirmation");function p(e){var t=o("react-compiler-runtime").c(37),n=e.onSubmit,a=e.pageIdentifier,i=e.requestInFlight,l=e.shouldShowRedesignedSignup,p=l===void 0?!1:l,y=o("PolarisReactRedux.react").useSelector(h),C=o("PolarisReactRedux.react").useSelector(g),b=o("PolarisReactRedux.react").useSelector(f),v=o("PolarisReactRedux.react").useSelector(_),S=o("PolarisReactRedux.react").useDispatch(),R;t[0]!==S?(R=function(){return S(o("PolarisSignupActions").switchPhoneSignupStep("changePhoneNumber"))},t[0]=S,t[1]=R):R=t[1];var L=R,E;t[2]!==S?(E=function(){return S(o("PolarisSignupActions").switchPhoneSignupStep("enterCode"))},t[2]=S,t[3]=E):E=t[3];var k=E,I;t[4]!==S?(I=function(t){return S(o("PolarisSignupActions").rerequestSMSCode(t))},t[4]=S,t[5]=I):I=t[5];var T=I,D;t[6]!==S?(D=function(){return S(o("PolarisSignupActions").rerequestSMSCode())},t[6]=S,t[7]=D):D=t[7];var x=D;!r("isStringNullOrEmpty")(C)||u(0,51615);var $,P;t[8]!==a?($=function(){o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"phone",containermodule:a,event_name:"form_load",step:"twofac"})},P=[a],t[8]=a,t[9]=$,t[10]=P):($=t[9],P=t[10]),d($,P);var N;if(b==="enterCode"){var M;t[11]!==v?(M=v&&c.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x5n08af x78zum5 xdt5ytf x2lah0s xln7xf2 x1f6kntn xd4r4e8 x1anpbxc x3aesyq xyorhqc xqsn43r xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x2b8uid x11njtxf",children:s._(/*BTDS*/"Your code was sent again.")}),t[11]=v,t[12]=M):M=t[12];var w;t[13]!==L||t[14]!==x||t[15]!==n||t[16]!==a||t[17]!==C||t[18]!==i||t[19]!==p||t[20]!==y?(w=c.jsx(r("PolarisPhoneSignupConfirmForm.react"),{errorMessage:y,onChangeNumberClick:L,onResendClick:x,onSubmit:n,pageIdentifier:a,phoneNumber:C,requestInFlight:i,shouldShowRedesignedSignup:p,successMessage:null}),t[13]=L,t[14]=x,t[15]=n,t[16]=a,t[17]=C,t[18]=i,t[19]=p,t[20]=y,t[21]=w):w=t[21];var A;t[22]!==M||t[23]!==w?(A=c.jsxs("div",{children:[M,w]}),t[22]=M,t[23]=w,t[24]=A):A=t[24],N=A}else if(b==="changePhoneNumber"){var F;t[25]!==T||t[26]!==k||t[27]!==C||t[28]!==i||t[29]!==y?(F=c.jsx(r("PolarisPhoneSignupChangeNumberForm.react"),{errorMessage:y,initialPhoneNumber:C,onGoBackClick:k,onSubmit:T,requestInFlight:i}),t[25]=T,t[26]=k,t[27]=C,t[28]=i,t[29]=y,t[30]=F):F=t[30],N=F}else return r("FBLogger")("ig_web").mustfix("Unexpected phone signup step"),null;var O;t[31]!==b||t[32]!==p?(O=(!p||b==="changePhoneNumber")&&c.jsx(r("PolarisIGCoreIcon.react"),{alt:m,icon:o("PolarisAssetManagerGlyphMapping").ICONS.PHONE_CONFIRM}),t[31]=b,t[32]=p,t[33]=O):O=t[33];var B;return t[34]!==N||t[35]!==O?(B=c.jsxs(r("IGDSBox.react"),{alignItems:"center",position:"relative",children:[O,N]}),t[34]=N,t[35]=O,t[36]=B):B=t[36],B}function _(e){var t;return((t=e.auth.signup)==null?void 0:t.resentResetCode)||!1}function f(e){var t;return(t=e.auth.signup)==null?void 0:t.phoneSignupConfirmStep}function g(e){var t;return(t=e.auth.signup)==null||(t=t.signupCredentials)==null?void 0:t.phoneNumber}function h(e){var t;return(t=e.auth.signup)==null?void 0:t.signupNonSpecificError}l.default=p}),226);
__d("PolarisEmailDomainHelpers",["PolarisConfig","memoize"],(function(t,n,r,o,a,i,l){"use strict";var e={"aol.com":{initialSuggestion:!1},"bk.ru":{countryCodeFilter:"RU",initialSuggestion:!1},"gmail.com":{initialSuggestion:!0},"gmx.de":{countryCodeFilter:"DE",initialSuggestion:!1},"hotmail.com":{initialSuggestion:!0},"icloud.com":{initialSuggestion:!1},"inbox.ru":{countryCodeFilter:"RU",initialSuggestion:!1},"list.ru":{countryCodeFilter:"RU",initialSuggestion:!1},"live.com":{initialSuggestion:!1},"mail.ru":{countryCodeFilter:"RU",initialSuggestion:!1},"msn.com":{initialSuggestion:!1},"naver.com":{initialSuggestion:!1},"onet.pl":{countryCodeFilter:"PL",initialSuggestion:!1},"outlook.com":{initialSuggestion:!0},"qq.com":{initialSuggestion:!1},"rambler.ru":{countryCodeFilter:"RU",initialSuggestion:!1},"web.de":{countryCodeFilter:"DE",initialSuggestion:!1},"yahoo.co.jp":{countryCodeFilter:"JP",initialSuggestion:!1},"yahoo.com":{initialSuggestion:!0},"yandex.com":{initialSuggestion:!1},"yandex.ru":{countryCodeFilter:"RU",initialSuggestion:!1}},s=r("memoize")(function(){return Object.keys(e).filter(function(t){var n=e[t];return"countryCodeFilter"in n?n.countryCodeFilter===o("PolarisConfig").getCountryCode():!0})}),u=r("memoize")(function(){return s().reduce(function(t,n){var r=e[n];return r.initialSuggestion?[].concat(t,[n]):t},[])}),c={"gail.com":"gmail.com","gamel.com":"gmail.com","gamil.com":"gmail.com","gamli.com":"gmail.com","gemil.com":"gmail.com","gma.com":"gmail.com","gmail.co":"gmail.com","gmaile.com":"gmail.com","gmali.com":"gmail.com","gmall.com":"gmail.com","gmel.com":"gmail.com","gmeli.com":"gmail.com","gmile.com":"gmail.com"};function d(e){var t=e.split("@"),n=t[0],r=t[1];return r&&Object.prototype.hasOwnProperty.call(c,r)?n+"@"+c[r]:null}l.getPopularDomainList=s,l.getInitialSuggestedPopularDomains=u,l.getSuggestedEmail=d}),98);
__d("PolarisMultiSignupEmailSuggestionDialog.react",["fbt","IGCoreDialog.react","PolarisRegistrationLogger","memoizeStringOnly","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=(function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,t.handleSuggestionClick=function(e){e===t.props.emailSuggestion?o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:e,contactpoint_type:"email",event_name:"typo_fix_accept"}):o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:e,contactpoint_type:"email",event_name:"typo_fix_skip"}),t.props.onSelection(e)},t.$1=r("memoizeStringOnly")(function(e){return t.handleSuggestionClick.bind(babelHelpers.assertThisInitialized(t),e)}),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getEmailDomain=function(t){return t.split("@")[1]},n.render=function(){var e=this.props,t=e.emailSuggestion,n=e.originalEmail;return u.jsxs(o("IGCoreDialog.react").IGCoreDialog,{body:s._(/*BTDS*/"It looks like you've misspelt your email address. Did you mean to use {filled email domain}?",[s._param("filled email domain",u.jsx("span",{className:"x972fbf x10w94by x1qhh985 x14e42zd xln7xf2 xk390pu xl7tqy7 xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf",children:"@"+this.getEmailDomain(n)}))]),onModalClose:this.props.onClose,title:s._(/*BTDS*/"Typo?"),children:[u.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$1(t),children:s._(/*BTDS*/"Use {email suggestion} instead",[s._param("email suggestion","@"+this.getEmailDomain(t))])}),u.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.$1(n),children:s._(/*BTDS*/"Keep as is")})]})},t})(u.Component);l.default=c}),226);
__d("PolarisSlimSignupUsernameSuggestions.react",["IGDSBox.react","IGDSButton.react","PolarisRegistrationLogger","gkx","isEmail","polarisIsPhoneNumber","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState,m=38,p=134;function _(e){return e==null||e===""?null:r("isEmail")(e)?"email":r("polarisIsPhoneNumber")(e)?"phone":null}function f(e){var t=o("react-compiler-runtime").c(28),n=e.emailOrPhone,a=e.onUsernameUpdate,i=e.pageIdentifier,l=e.shouldShowUsername,u=e.username,f=e.usernameSuggestions,h=l===void 0?!0:l,y;t[0]!==f?(y=f.filter(g),t[0]=f,t[1]=y):y=t[1];var C=y,b=d(C),v=b[0],S=b[1],R=d(!1),L=R[0],E=R[1],k,I;t[2]!==C||t[3]!==i?(k=function(){C.length>0&&o("PolarisRegistrationLogger").logRegistrationEvent({containermodule:i,event_name:"username_suggestion_fetch_success"}),S(C)},I=[C,i],t[2]=C,t[3]=i,t[4]=k,t[5]=I):(k=t[4],I=t[5]),c(k,I);var T;t[6]!==C[0]||t[7]!==C.length||t[8]!==L||t[9]!==a||t[10]!==h||t[11]!==u?(T=function(){if(!L){if(u!=null&&u!=="")E(!0);else if(C.length>0){var e,t=!h||((e=r("gkx")("3317"))!=null?e:!1);t&&a(C[0]),E(!0)}}},t[6]=C[0],t[7]=C.length,t[8]=L,t[9]=a,t[10]=h,t[11]=u,t[12]=T):T=t[12];var D;if(t[13]!==C||t[14]!==L||t[15]!==a||t[16]!==h||t[17]!==u?(D=[u,C,L,a,h],t[13]=C,t[14]=L,t[15]=a,t[16]=h,t[17]=u,t[18]=D):D=t[18],c(T,D),C.length===0||!h)return null;var x;if(t[19]!==n||t[20]!==a||t[21]!==v){var $;t[23]!==n||t[24]!==a?($=function(t){return s.jsx("div",{className:"x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x6ikm8r x10wlt62 x1n2onr6",style:{height:m,width:p},children:s.jsx(r("IGDSBox.react"),{marginBottom:2,marginEnd:1,position:"relative",children:s.jsx(r("IGDSButton.react"),{label:t,onClick:function(){o("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:_(n),event_name:"click_username_suggestions"}),a(t)},variant:"secondary"})})},t)},t[23]=n,t[24]=a,t[25]=$):$=t[25],x=v.slice(0,2).map($),t[19]=n,t[20]=a,t[21]=v,t[22]=x}else x=t[22];var P;return t[26]!==x?(P=s.jsx(r("IGDSBox.react"),{direction:"row",height:m,marginEnd:10,marginStart:10,position:"relative",children:x}),t[26]=x,t[27]=P):P=t[27],P}function g(e){return e.length<14}l.default=f}),98);
__d("PolarisTermsPrivacyPolicyBlurb.react",["fbt","IGDSTextVariants.react","PolarisConsentTypes","PolarisExternalRoutes","PolarisFastLink.react","PolarisReactRedux.react","PolarisRoutes","URI","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t,n){return new(e||(e=r("URI")))(t).addQueryData({entry_point:n}).toString()}var m="ig_polaris_email_signup_eu_terms",p="ig_polaris_email_signup_eu_privacy_policy",_="ig_polaris_email_signup_eu_cookies_policy",f="ig_polaris_email_signup_row_terms",g="ig_polaris_email_signup_row_privacy_policy",h="ig_polaris_email_signup_row_cookies_policy";function y(){return r("gkx")("25366")===!0}function C(e){var t=o("react-compiler-runtime").c(3),n=e.className,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=c.jsx(o("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",children:s._(/*BTDS*/"By signing up, you agree to our {=Terms} & {=Privacy Policy}.",[s._param("=Terms",c.jsx(r("PolarisFastLink.react"),{href:"/legal/terms/",target:"_blank",children:s._(/*BTDS*/"Terms")})),s._param("=Privacy Policy",c.jsx(r("PolarisFastLink.react"),{href:"/legal/privacy/",target:"_blank",children:s._(/*BTDS*/"Privacy Policy")}))])}),t[0]=a):a=t[0];var i;return t[1]!==n?(i=c.jsx("p",{className:n,children:a}),t[1]=n,t[2]=i):i=t[2],i}function b(e){return e===void 0&&(e=!0),c.jsxs(c.Fragment,{children:[c.jsx(o("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",children:s._(/*BTDS*/"People who use our service may have uploaded your contact information to Instagram. {Contact uploading for non-users privacy policy}",[s._param("Contact uploading for non-users privacy policy",c.jsx(r("PolarisFastLink.react"),{href:o("PolarisExternalRoutes").FACEBOOK_CONTACT_UPLOADING_AND_NON_USERS,target:"_blank",children:s._(/*BTDS*/"Learn more")}))])}),e&&c.jsxs(c.Fragment,{children:[c.jsx("br",{}),c.jsx("br",{})]})]})}function v(e){var t=o("react-compiler-runtime").c(7),n=e.className,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=c.jsxs(o("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",children:[b(),s._(/*BTDS*/"By signing up, you agree to our {=Terms}. Learn how we collect, use and share your data in our {Privacy Policy} and how we use cookies and similar technology in our {Cookies Policy}.",[s._param("=Terms",c.jsx(r("PolarisFastLink.react"),{href:d(o("PolarisExternalRoutes").NEW_LEGAL_TERMS_PATH,m),target:"_blank",children:s._(/*BTDS*/"Terms")})),s._param("Privacy Policy",c.jsx(r("PolarisFastLink.react"),{href:d(o("PolarisExternalRoutes").NEW_PRIVACY_POLICY_PATH,p),target:"_blank",children:s._(/*BTDS*/"Privacy Policy")})),s._param("Cookies Policy",c.jsx(r("PolarisFastLink.react"),{href:d(o("PolarisRoutes").NEW_COOKIE_POLICY_PATH,_),target:"_blank",children:s._(/*BTDS*/"Cookies Policy")}))])]}),t[0]=a):a=t[0];var i,l;t[1]!==n?(i=c.jsx("p",{className:n,children:a}),l=y()&&c.jsx("p",{className:n,children:c.jsx(o("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",children:s._(/*BTDS*/"We {=fund our services} by using your personal data to show ads.",[s._param("=fund our services",c.jsx(r("PolarisFastLink.react"),{href:d(o("PolarisExternalRoutes").NEW_LEGAL_TERMS_PATH,m),target:"_blank",children:s._(/*BTDS*/"fund our services")}))])})}),t[1]=n,t[2]=i,t[3]=l):(i=t[2],l=t[3]);var u;return t[4]!==i||t[5]!==l?(u=c.jsxs(c.Fragment,{children:[i,l]}),t[4]=i,t[5]=l,t[6]=u):u=t[6],u}function S(e){var t=o("react-compiler-runtime").c(3),n=e.className,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=c.jsxs(o("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",children:[b(),s._(/*BTDS*/"By signing up, you agree to our {=Terms}, {Privacy Policy} and {Cookies Policy}.",[s._param("=Terms",c.jsx(r("PolarisFastLink.react"),{href:d(o("PolarisExternalRoutes").NEW_LEGAL_TERMS_PATH,f),target:"_blank",children:s._(/*BTDS*/"Terms")})),s._param("Privacy Policy",c.jsx(r("PolarisFastLink.react"),{href:d(o("PolarisExternalRoutes").NEW_PRIVACY_POLICY_PATH,g),target:"_blank",children:s._(/*BTDS*/"Privacy Policy")})),s._param("Cookies Policy",c.jsx(r("PolarisFastLink.react"),{href:d(o("PolarisRoutes").NEW_COOKIE_POLICY_PATH,h),target:"_blank",children:s._(/*BTDS*/"Cookies Policy")}))])]}),t[0]=a):a=t[0];var i;return t[1]!==n?(i=c.jsx("p",{className:n,children:a}),t[1]=n,t[2]=i):i=t[2],i}function R(e){var t=o("react-compiler-runtime").c(3),n=e.className,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=b(!1),t[0]=r):r=t[0];var a;return t[1]!==n?(a=c.jsx("p",{className:n,children:r}),t[1]=n,t[2]=a):a=t[2],a}function L(e){var t=o("react-compiler-runtime").c(8),n=e.className,r=e.cpeOnly,a=e.tosVersion,i=r===void 0?!1:r;if(i){var l;return t[0]!==n?(l=c.jsx(R,{className:n}),t[0]=n,t[1]=l):l=t[1],l}switch(a){case o("PolarisConsentTypes").TosVersion.EU:{var s;return t[2]!==n?(s=c.jsx(v,{className:n}),t[2]=n,t[3]=s):s=t[3],s}case o("PolarisConsentTypes").TosVersion.ROW:{var u;return t[4]!==n?(u=c.jsx(S,{className:n}),t[4]=n,t[5]=u):u=t[5],u}case o("PolarisConsentTypes").TosVersion.DEFAULT:default:{var d;return t[6]!==n?(d=c.jsx(C,{className:n}),t[6]=n,t[7]=d):d=t[7],d}}}function E(e){return{tosVersion:e.signup.tosVersion}}var k=o("PolarisReactRedux.react").connect(E)(L);l.default=k}),226);
__d("PolarisSlimSignupForm.react",["cx","fbt","IGDSBox.react","IGDSSpinner.react","IGDSText.react","IGDSTextVariants.react","PolarisAgeCollectionHelpers","PolarisAuthConstants","PolarisAuthLimitedRegistrationHelpers","PolarisAuthStrings","PolarisBirthdaysAdditionalInfoModal.react","PolarisDOBFieldSelect.react","PolarisDateHelpers","PolarisDateStrings","PolarisEmailDomainHelpers","PolarisFastLink.react","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisLinkBuilder","PolarisLoggedOutCtaClickLogger","PolarisLoggedOutUpsellStrings","PolarisMultiSignupEmailSuggestionDialog.react","PolarisOrBar.react","PolarisRegistrationLogger","PolarisRelayEnvironment","PolarisSlimSignupUsernameSuggestions.react","PolarisSlimTextInput.react","PolarisTermsPrivacyPolicyBlurb.react","PolarisUA","PolarisWebStorage","fetchPolarisLoggedOutExperiment","gkx","joinClasses","nullthrows","polarisIsPhoneNumber","polarisSignupSelectors","promiseDone","react","whitelistObjectKeys"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=["username","password","emailOrPhone","fullName","optIntoOneTap"],m=(function(e){function t(t){var n,a,i,l,s,u,c;c=e.call(this,t)||this,c.$5=function(){c.setState({emailSuggestion:null})},c.$6=function(e){c.setState({emailOrPhone:e,emailSuggestion:null},function(){c.$7()})},c.$8=function(){var e,t=c.props.usernameSuggestions.indexOf((e=c.state.username)!=null?e:"");c.setState({username:c.props.usernameSuggestions[++t]||c.props.usernameSuggestions[0]}),o("PolarisRegistrationLogger").logRegistrationEvent({containermodule:c.props.pageIdentifier,event_name:"suggested_username_refreshed"})},c.$9=function(e){var t,n=e.target,r=n.name,o=n.value;c.setState((t={},t[r]=o,t))},c.$10=function(){var e=c.state.isPasswordHidden;c.setState({isPasswordHidden:!e}),e?o("PolarisRegistrationLogger").logRegistrationEvent({containermodule:c.props.pageIdentifier,event_name:"show_password_clicked"}):o("PolarisRegistrationLogger").logRegistrationEvent({containermodule:c.props.pageIdentifier,event_name:"hide_password_clicked"})},c.$11=function(e){e.relatedTarget instanceof HTMLElement&&c.$1&&c.$1.contains(e.relatedTarget)||c.$4(c.state,null)},c.$12=function(e,t){var n=e.target.name;c.$4(c.state,n),t&&o("PolarisRegistrationLogger").logRegistrationEvent({containermodule:c.props.pageIdentifier,event_name:t})},c.$14=function(e){var t;e.preventDefault();var n=c.state.emailOrPhone;if(o("PolarisRegistrationLogger").logRegistrationEvent({containermodule:c.props.pageIdentifier,event_name:"base_form_next_clicked"}),n!=null&&!r("polarisIsPhoneNumber")(n)){var a=o("PolarisEmailDomainHelpers").getSuggestedEmail(n);if(a!=null){c.setState({emailSuggestion:a});return}}var i=(t=c.props.signupResult)==null||(t=t.fields)==null||(t=t.username)==null?void 0:t.error;if(i!==void 0||c.state.username==null||c.state.username===""){c.setState({shouldShowUsername:!0});return}c.$7()},c.$15=function(e){e.keyCode===13&&c.$14(e)},c.$22=function(e){c.setState({username:e})},c.$23=function(){var e=c.props.pageIdentifier;o("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("login","auth_form",e)},c.$25=function(e){c.setState({birthday:e}),o("PolarisRegistrationLogger").logRegistrationEvent({containermodule:c.props.pageIdentifier,event_name:"birthday_interaction"})},c.$26=function(){c.setState({showBirthdayAdditionalInfo:!0})},c.$27=function(){c.setState({showBirthdayAdditionalInfo:!1})};var d={birthday:((n=t.signupResult)==null||(n=n.fields)==null||(n=n.birthday)==null?void 0:n.value)!=null?o("PolarisDateHelpers").dateToDateType(new Date(t.signupResult.fields.birthday.value)):o("PolarisDateHelpers").getOneYearAgoDateType(),emailOrPhone:((a=t.signupResult)==null||(a=a.fields)==null||(a=a.emailOrPhone)==null?void 0:a.value)||"",emailSuggestion:null,fullName:(i=(l=(s=t.signupResult)==null||(s=s.fields)==null||(s=s.fullName)==null?void 0:s.value)!=null?l:t.initialFullName)!=null?i:"",isPasswordHidden:!0,optIntoOneTap:!1,shouldShowUsername:t.shouldAutoPickUsername!==!0,showBirthdayAdditionalInfo:!1,username:((u=t.signupResult)==null||(u=u.fields)==null||(u=u.username)==null?void 0:u.value)||""};if(c.props.needEmailOrPhone){var m,p,_;d.emailOrPhone=(m=(p=(_=t.signupResult)==null||(_=_.fields)==null||(_=_.emailOrPhone)==null?void 0:_.value)!=null?p:c.props.prefillPhoneNumber)!=null?m:""}return c.props.needPassword&&(d.password=""),c.state=d,c.$2={},c.$3=!1,c}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.pageIdentifier==="fbSignupPage"?"fb_signup_form_load":"form_load";o("PolarisRegistrationLogger").logRegistrationEvent({containermodule:this.props.pageIdentifier,event_name:e,fb_userid:this.props.fbUserID,fbconnect_status:this.props.fbConnectedStatus})},n.componentDidUpdate=function(t,n){var e,r=this.props;((e=this.state.username)!=null?e:"").length===0&&this.props.usernameSuggestions.length===0&&r.usernameSuggestions.length>=1&&this.setState({username:r.usernameSuggestions[0]});var o=this.state;t.usernameSuggestions.length===0&&r.usernameSuggestions.length>=1&&n.username!==o.username&&this.$4(o,"username")},n.focusUsername=function(){r("nullthrows")(this.$2.username).focus()},n.$4=function(t,n){var e=this.props.onSignupFocusChange;if(e){var o=r("whitelistObjectKeys")(t,d);e(o,n)}},n.$13=function(){var e,t,n,a,i;if(this.props.requestInFlight||this.props.shouldShowBirthdayStepInBaseForm===!0&&o("PolarisAgeCollectionHelpers").isDOBInputAttemptDisabled(this.state.birthday))return!0;var l=(e=this.props.signupResult)==null?void 0:e.fields,s=l==null||(t=l.emailOrPhone)==null?void 0:t.error,u=l==null||(n=l.username)==null?void 0:n.error,c=l==null||(a=l.password)==null?void 0:a.error,d=l==null||(i=l.fullName)==null?void 0:i.error;if(s!==void 0||this.state.shouldShowUsername&&u!==void 0||c!==void 0||d!==void 0){r("promiseDone")(r("fetchPolarisLoggedOutExperiment")(r("PolarisRelayEnvironment"),{name:"ig_web_desktop_signup_disable_next_button_on_error"}));var m=r("gkx")("16475")===!0;return m}var p=this.props,_=p.needEmailOrPhone,f=p.needPassword,g=this.state,h=g.emailOrPhone,y=g.password,C=g.username;return o("polarisSignupSelectors").getSubmitDisabled({needEmailOrPhone:_,needPassword:f},{emailOrPhone:h,password:y,username:C},this.state.shouldShowUsername)},n.$7=function(){var e,t=r("whitelistObjectKeys")(this.state,d);this.props.shouldShowBirthdayStepInBaseForm===!0&&(t.birthday=o("PolarisDateHelpers").dateTypeToString(this.state.birthday),this.props.onBirthdayEntered&&this.props.onBirthdayEntered()),(e=r("PolarisWebStorage").getSessionStorage())==null||e.setItem("nux_username",String(!this.state.shouldShowUsername)),this.$3=!0,this.props.onSubmit(t)},n.$16=function(t){var e;return!!(this.props.signupResult&&(e=this.props.signupResult.fields[t])!=null&&e.validated)},n.$17=function(t){var e,n=(e=this.props.signupResult)==null?void 0:e.fields;if(t==="emailOrPhone"){var r;return(n==null||(r=n.emailOrPhone)==null?void 0:r.value)!==this.state.emailOrPhone}else if(t==="username"){var o;return(n==null||(o=n.username)==null?void 0:o.value)!==this.state.username}else if(t==="password"){var a;return(n==null||(a=n.password)==null?void 0:a.value)!==this.state.password}return!1},n.$18=function(t){var e=this.props,n=e.focusedFields,r=e.signupResult,o=r==null?void 0:r.wasDryRun,a=!o;if(n){var i=n.current===t,l=n.previous.indexOf(t)>-1,s=!i&&l,u=this.$17(t)===!1;a=(s||i)&&u}if(a){var c;return r==null||(c=r.fields)==null||(c=c[t])==null?void 0:c.error}return null},n.$19=function(t){return c.jsx("div",{className:"_aaht",children:c.jsx("p",{"aria-atomic":"true",id:o("PolarisAuthConstants").SLIM_SIGNUP_FORM_ALERT_ID,role:"alert",children:t})})},n.$20=function(){return o("PolarisUA").isMobile()?o("PolarisAuthStrings").FB_CONTINUE_BUTTON_TEXT:o("PolarisAuthStrings").FB_LOGIN_BUTTON_TEXT},n.$21=function(t){var e=this.props.hideHeader;if(e)return null;var n=t===!0?o("PolarisLoggedOutUpsellStrings").DEFAULT_TITLE_SIGN_UP:o("PolarisAuthStrings").SIGN_UP_VALUE_PROP_WITHOUT_GRADIENT;return o("PolarisUA").isMobile()?c.jsx("div",{className:"_aahx",children:c.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"center",zeroMargin:!0,children:n})}):c.jsx("div",{className:"_aahw",children:t===!0?c.jsx(r("IGDSBox.react"),{marginBottom:2,marginTop:1,children:c.jsx(r("IGDSText.react"),{color:"primaryText",size:"headline2",textAlign:"center",weight:"semibold",children:n})}):c.jsx(o("IGDSTextVariants.react").IGDSTextSection,{color:"secondaryText",textAlign:"center",zeroMargin:!0,children:n})})},n.$24=function(){return this.props.shouldShowRedesignedSignup!==!0?null:c.jsx(r("PolarisFastLink.react"),{href:o("PolarisLinkBuilder").buildLoginLink("",{source:"auth_switcher"}),onClick:this.$23,children:c.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"primaryButton",textAlign:"center",children:u._(/*BTDS*/"Log in with existing account")})})},n.$28=function(){return this.props.shouldShowBirthdayStepInBaseForm!==!0?null:c.jsxs(c.Fragment,{children:[c.jsx(r("IGDSBox.react"),{marginBottom:2,marginStart:11,marginTop:3,position:"relative",children:c.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"primaryText",textAlign:"start",children:o("PolarisAuthStrings").BIRTHDAY_TEXT})}),c.jsx(r("IGDSBox.react"),{marginBottom:2,marginStart:11,marginTop:2,position:"relative",children:c.jsx(r("PolarisDOBFieldSelect.react"),{align:"start",date:this.state.birthday,onDateChange:this.$25,shouldShowRedesignedSignup:!0})}),c.jsx(r("IGDSBox.react"),{position:"relative",children:c.jsx(r("IGDSBox.react"),{marginBottom:2,marginStart:2,paddingX:7,position:"relative",children:c.jsxs(o("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",textAlign:"center",children:[o("PolarisDateStrings").BIRTHDAY_DISCLAIMER_TEXT,c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:this.$26,children:c.jsx(o("IGDSTextVariants.react").IGDSTextBody2,{color:"primaryButton",children:o("PolarisGenericStrings").LEARN_MORE})})]})})})]})},n.render=function(){var e,t,n=this,a=this.props,i=a.canUsePhone,l=a.shouldShowRedesignedSignup,s=a.signupNonSpecificError,d=a.signupResult,m=this.state.shouldShowUsername,p=!!(this.props.usernameSuggestions.length&&(!this.props.needEmailOrPhone||this.state.emailOrPhone)),_=d==null?void 0:d.otherError;s!=null&&(_=s);var f=_!=null&&(d==null?void 0:d.wasDryRun)===!0,g=this.$18("emailOrPhone"),h=this.$18("fullName"),y=this.$18("username"),C=this.$18("password"),b=l===!0?"_aueq":o("PolarisUA").isMobile()?"_aahv":"_aahy",v=(d==null||(e=d.fields.username)==null?void 0:e.errorCode)==null||(d==null||(t=d.fields.username)==null?void 0:t.errorCode)==="username_is_taken";return c.jsxs("div",{className:r("joinClasses")(this.props.className,"_aahz"),"data-testid":void 0,children:[this.state.emailSuggestion!=null?c.jsx(r("PolarisMultiSignupEmailSuggestionDialog.react"),{emailSuggestion:this.state.emailSuggestion,onClose:this.$5,onSelection:this.$6,originalEmail:r("nullthrows")(this.state.emailOrPhone)}):null,c.jsxs("form",{className:r("joinClasses")("_aah-",l===!0?"_auep":null),method:"post",onBlur:this.$11,onSubmit:this.$14,ref:function(t){return n.$1=t},children:[this.$21(l===!0),!this.props.hideFBOption&&c.jsxs(c.Fragment,{children:[c.jsx(r("IGDSBox.react"),{marginBottom:2,marginEnd:10,marginStart:10,marginTop:2,position:"relative",children:c.jsxs(r("PolarisIGCoreButton.react"),{onClick:this.props.onSignupWithFBClick,showLegacyPrimaryColor:l===!0,children:[c.jsx("span",{className:(l!==!0?"_9zlu":"")+" _aah_"}),this.$20()]})}),c.jsx("div",{className:(l!==!0?"_aai0":"")+(l===!0?" _aueu":""),children:c.jsx(r("PolarisOrBar.react"),{shouldShowRedesignedSignup:l===!0})})]}),this.props.needEmailOrPhone&&c.jsx(r("PolarisSlimTextInput.react"),{accepted:this.$16("emailOrPhone"),"aria-describedby":g!=null&&!f?o("PolarisAuthConstants").SLIM_SIGNUP_FORM_ALERT_ID:void 0,"aria-label":i?o("PolarisAuthStrings").EMAIL_OR_PHONE:o("PolarisAuthStrings").EMAIL,"aria-required":"true",autoCapitalize:"off",autoComplete:"tel",autoCorrect:"off",className:b,errorMessage:g,hasError:!!g,isInputFocused:!0,isRedesignedSignupFieldInput:l,name:"emailOrPhone",onChange:this.$9,onFocus:function(t){return n.$12(t,"contactpoint_interaction")},onKeyDown:this.$15,placeholder:i?o("PolarisAuthStrings").EMAIL_OR_PHONE:o("PolarisAuthStrings").EMAIL,ref:function(t){return n.$2.emailOrPhone=t},value:this.state.emailOrPhone}),this.props.needPassword&&c.jsx(r("PolarisSlimTextInput.react"),{accepted:this.$16("password"),"aria-describedby":C!=null&&!f?o("PolarisAuthConstants").SLIM_SIGNUP_FORM_ALERT_ID:void 0,"aria-label":o("PolarisAuthStrings").PASSWORD,"aria-required":"true",autoCapitalize:"off",autoComplete:"new-password",autoCorrect:"off",className:b,errorMessage:C,hasError:!!C,isInputFocused:!0,isPasswordHidden:this.state.isPasswordHidden,isRedesignedSignupFieldInput:l,name:"password",onChange:this.$9,onFocus:function(t){return n.$12(t,"password_interaction")},onKeyDown:this.$15,onPasswordToggle:this.$10,placeholder:o("PolarisAuthStrings").PASSWORD,ref:function(t){return n.$2.password=t},showPasswordToggleLink:!!this.state.password,type:this.state.isPasswordHidden?"password":"text",value:this.state.password}),this.props.shouldEnableShortFirstStep===!0?null:c.jsx(r("PolarisSlimTextInput.react"),{accepted:this.$16("fullName"),"aria-describedby":h!=null&&!f?o("PolarisAuthConstants").SLIM_SIGNUP_FORM_ALERT_ID:void 0,"aria-label":o("PolarisAuthStrings").FULL_NAME,"aria-required":"false",autoCapitalize:"sentences",autoCorrect:"off",className:b,errorMessage:h,hasError:!!h,isInputFocused:!0,isRedesignedSignupFieldInput:l,name:"fullName",onChange:this.$9,onFocus:function(t){return n.$12(t,"name_interaction_full_name")},onKeyDown:this.$15,placeholder:o("PolarisAuthStrings").FULL_NAME,ref:function(t){return n.$2.fullName=t},value:this.state.fullName}),m&&c.jsx(r("PolarisSlimTextInput.react"),{accepted:this.$16("username"),"aria-describedby":y!=null&&!f?o("PolarisAuthConstants").SLIM_SIGNUP_FORM_ALERT_ID:void 0,"aria-label":o("PolarisAuthStrings").USERNAME,"aria-required":"true",autoCapitalize:"off",autoCorrect:"off",canRefresh:p,className:b,errorMessage:y,hasError:!!y,isInputFocused:!0,isRedesignedSignupFieldInput:l,maxLength:30,name:"username",omitErrorMarginBottom:v,onChange:this.$9,onFocus:function(t){return n.$12(t,"username_interaction")},onKeyDown:this.$15,onRefresh:this.$8,placeholder:o("PolarisAuthStrings").USERNAME,ref:function(t){return n.$2.username=t},value:this.state.username}),v&&c.jsx(r("IGDSBox.react"),{alignContent:"center",marginStart:1,children:c.jsx(r("PolarisSlimSignupUsernameSuggestions.react"),{emailOrPhone:this.state.emailOrPhone,onUsernameUpdate:this.$22,pageIdentifier:this.props.pageIdentifier,shouldShowUsername:m,username:this.state.username,usernameSuggestions:this.props.usernameSuggestions})}),this.$28(),o("PolarisUA").isDesktop()&&c.jsx(r("PolarisTermsPrivacyPolicyBlurb.react"),{className:"_aai1",cpeOnly:o("PolarisAuthLimitedRegistrationHelpers").shouldShowSouthKoreaTOS()}),c.jsxs("div",{children:[c.jsx(r("IGDSBox.react"),{marginBottom:l===!0?3:2,marginEnd:10,marginStart:10,marginTop:2,position:"relative",children:c.jsx(r("PolarisIGCoreButton.react"),{disabled:this.$13(),onClick:this.$14,type:"submit",children:!this.props.gdprRequired&&o("PolarisUA").isDesktop()?u._(/*BTDS*/"Sign Up"):u._(/*BTDS*/"Next")})}),this.props.requestInFlight?c.jsx(r("IGDSSpinner.react"),{position:"absolute"}):null]}),this.$24(),_!=null&&!f&&this.$19(_)]}),this.state.showBirthdayAdditionalInfo&&c.jsx(r("PolarisBirthdaysAdditionalInfoModal.react"),{onClose:this.$27})]})},t})(c.Component);m.defaultProps={hideFBOption:!1,hideHeader:!1,needPassword:!0},l.default=m}),226);
__d("polarisIsEligibleForFacebookLogin",["PolarisConfig","PolarisQueryParams"],(function(t,n,r,o,a,i,l){"use strict";var e={CN:!0,CU:!0,IR:!0,KP:!0},s=/^((preprod|business|www)\.)?([a-z0-9-]+\.){0,}instagram\.com$/;function u(t){return!!e[t]}function c(e){return s.test(e)}function d(){return c(window.location.hostname)&&!u(o("PolarisConfig").getCountryCode()||"")&&(!o("PolarisQueryParams").hasForceAuthenticationParam()||o("PolarisQueryParams").hasEnableFBLoginParam())}l.default=d}),98);
__d("PolarisSignupForm.react",["invariant","CometRouteURL","IGCoreDialog.react","PolarisAcceptTermsOfUseForm.react","PolarisAccountPrivacyForm.react","PolarisAgeCollectionHelpers","PolarisAuthStrings","PolarisBirthdaySignupForm.react","PolarisCaptchaSignupForm.react","PolarisEmailConfirmationForm.react","PolarisFBConnectHelpers","PolarisFBConnectStatus","PolarisGenericStrings","PolarisLoggedOutCtaClickLogger","PolarisPhoneSignupForm.react","PolarisReactRedux.react","PolarisRegistrationLogger","PolarisRoutes","PolarisSignupActions","PolarisSignupTypes","PolarisSlimSignupForm.react","PolarisUA","polarisIsEligibleForFacebookLogin","react","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.$1=function(){o("PolarisRegistrationLogger").logRegistrationEvent({containermodule:n.props.pageIdentifier,event_name:"fbconnect_click",fb_userid:n.props.fbUserID,fbconnect_status:n.props.fbConnectedStatus});var e=o("PolarisRoutes").FXCAL_DISCLOSURE_PATH;o("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("fb_connect","auth_form",n.props.pageIdentifier),o("PolarisFBConnectHelpers").redirectToFBOAuth(e,"signupPage")},n.state={showFacebookLogin:r("polarisIsEligibleForFacebookLogin")()},n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=o("CometRouteURL").getWindowURLParams()||{},t=e.hide_fb_signup;t&&this.setState({showFacebookLogin:!1})},n.$2=function(){return o("PolarisUA").isDesktop()&&!1},n.render=function(){switch(this.props.step){case o("PolarisSignupTypes").STEP.emailConfirmation:return u.jsx(r("PolarisEmailConfirmationForm.react"),{onSubmit:this.props.onSignup,pageIdentifier:this.props.pageIdentifier,requestInFlight:this.props.requestInFlight,shouldShowRedesignedSignup:this.props.shouldShowRedesignedSignup,signupNonSpecificError:this.props.signupNonSpecificError,style:this.props.style});case o("PolarisSignupTypes").STEP.phoneConfirmation:return u.jsx(r("PolarisPhoneSignupForm.react"),{onSubmit:this.props.onSignup,pageIdentifier:this.props.pageIdentifier,requestInFlight:this.props.requestInFlight,shouldShowRedesignedSignup:this.props.shouldShowRedesignedSignup,signupResult:this.props.signupResult,usernameSuggestions:this.props.usernameSuggestions});case o("PolarisSignupTypes").STEP.birthday:return u.jsxs(u.Fragment,{children:[u.jsx(r("PolarisBirthdaySignupForm.react"),{onBirthdayEntered:this.props.onBirthdayEntered,onSignup:this.props.onSignup,pageIdentifier:this.props.pageIdentifier,requestInFlight:this.props.requestInFlight,shouldShowBirthdayTransparency:this.props.shouldShowBirthdayTransparency,shouldShowRedesignedSignup:this.props.shouldShowRedesignedSignup,signupNonSpecificError:this.props.signupNonSpecificError,style:this.props.style}),this.props.signupAgeSpecificError!=null&&u.jsx(o("IGCoreDialog.react").IGCoreDialog,{onModalClose:this.props.onClearAgeError,title:o("PolarisAgeCollectionHelpers").WE_COULDNT_CREATE_AN_ACC,children:u.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.props.onClearAgeError,children:o("PolarisGenericStrings").OK_TEXT})})]});case o("PolarisSignupTypes").STEP.accountPrivacy:return r("vulture")("CSF1e4Q94Qx1U5d393aPFU3T8yY="),u.jsx(r("PolarisAccountPrivacyForm.react"),{buttonLabel:o("PolarisGenericStrings").NEXT,defaultedToPrivate:!1,handleNext:function(){},subtitle:o("PolarisAuthStrings").ACCOUNT_PRIVACY_SUBHEADER_TEXT});case o("PolarisSignupTypes").STEP.acceptTerms:return u.jsx(r("PolarisAcceptTermsOfUseForm.react"),{onSignup:this.props.onSignup,requestInFlight:this.props.requestInFlight,signupNonSpecificError:this.props.signupNonSpecificError,style:this.props.style});case o("PolarisSignupTypes").STEP.captcha:return u.jsx(r("PolarisCaptchaSignupForm.react"),{onSignup:this.props.onSignup,requestInFlight:this.props.requestInFlight,signupNonSpecificError:this.props.signupNonSpecificError,style:this.props.style});case o("PolarisSignupTypes").STEP.base:default:{var e=this.$2()||!this.state.showFacebookLogin;return u.jsxs(u.Fragment,{children:[u.jsx(r("PolarisSlimSignupForm.react"),{canUsePhone:!0,errorNonce:this.props.errorNonce,fbConnectedStatus:this.props.fbConnectedStatus,fbUserID:this.props.fbUserID,focusedFields:this.props.focusedFields,gdprRequired:this.props.gdprRequired,hideFBOption:e,hideHeader:this.props.hideHeader,needEmailOrPhone:!0,onBirthdayEntered:this.props.onBirthdayEntered,onSignupFocusChange:this.props.onSignupFocusChange,onSignupWithFBClick:this.$1,onSubmit:this.props.onSignup,pageIdentifier:this.props.pageIdentifier,requestInFlight:this.props.requestInFlight,shouldAutoPickUsername:this.props.shouldAutoPickUsername,shouldEnableShortFirstStep:this.props.shouldEnableShortFirstStep,shouldShowBirthdayStepInBaseForm:this.props.shouldShowBirthdayStepInBaseForm,shouldShowRedesignedSignup:this.props.shouldShowRedesignedSignup,signupNonSpecificError:this.props.signupNonSpecificError,signupResult:this.props.signupResult,usernameSuggestions:this.props.usernameSuggestions}),this.props.signupAgeSpecificError!=null&&this.props.shouldShowBirthdayStepInBaseForm===!0&&u.jsx(o("IGCoreDialog.react").IGCoreDialog,{onModalClose:this.props.onClearAgeError,title:o("PolarisAgeCollectionHelpers").WE_COULDNT_CREATE_AN_ACC,children:u.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.props.onClearAgeError,children:o("PolarisGenericStrings").OK_TEXT})})]})}}},t})(u.Component);function d(e,t){var n,r=e.auth,a=r.login&&r.login.submissionCount||r.signup&&r.signup.submissionCount||0,i=r.signup&&r.signup.requestInFlight||t.requestInFlight;return{errorNonce:a,fbConnectedStatus:e.fb.status,fbEligible:e.fb.status!==o("PolarisFBConnectStatus").STATUS.ineligible,fbUserID:e==null||(n=e.fb)==null||(n=n.authResponse)==null?void 0:n.userID,focusedFields:r.signup&&r.signup.signupFocusedField,gdprRequired:e.signup.gdprRequired,requestInFlight:i,signupAgeSpecificError:r.signup&&r.signup.signupAgeSpecificError,signupNonSpecificError:r.signup&&r.signup.signupNonSpecificError,signupResult:r.signup&&r.signup.signupResult,step:r.signup&&r.signup.step||o("PolarisSignupTypes").STEP.base,usernameSuggestions:r.signup&&r.signup.usernameSuggestions||[]}}function m(e,t){return{onBirthdayEntered:function(){e(o("PolarisSignupActions").processBirthday())},onClearAgeError:function(){e({errorMessage:void 0,type:"SIGNUP_ERROR"})},onSignup:function(r){r.emailOrPhone!=null||s(0,51567),e(o("PolarisSignupActions").validateFormAndContinue(r,t.pageIdentifier))},onSignupFocusChange:function(n,r){e(o("PolarisSignupActions").changeSignupFormFocus(n,r)),e(o("PolarisSignupActions").performDryRun(n))}}}var p=o("PolarisReactRedux.react").connect(d,m)(c);l.default=p}),98);
__d("PolarisAuthTestIDs",[],(function(t,n,r,o,a,i){"use strict";var e="login-error-message",l="login-info-message",s="login-success-message",u="auth-message-modal";i.DESKTOP_AUTH_ERROR_MESSAGE=e,i.DESKTOP_AUTH_INFO_MESSAGE=l,i.DESKTOP_AUTH_SUCCESS_MESSAGE=s,i.MOBILE_AUTH_MESSAGE_MODAL=u}),66);
__d("PolarisStopDeletionDialog.react",["IGCoreDialog.react","PolarisLoginLogger","PolarisStopDeletionDialogStrings","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(26),n=e.isFeta,r=e.onClose,a=e.onStopDeletion,i=e.stopDeletionDate,l=e.stopDeletionNonce,c=e.username,m=n===void 0?!1:n,p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=[],t[0]=p):p=t[0],u(d,p);var _;t[1]!==m||t[2]!==i||t[3]!==c?(_=o("PolarisStopDeletionDialogStrings").getDeletionBodyText(c,i,m),t[1]=m,t[2]=i,t[3]=c,t[4]=_):_=t[4];var f;t[5]!==m||t[6]!==c?(f=o("PolarisStopDeletionDialogStrings").getDeletionTitleText(c,m),t[5]=m,t[6]=c,t[7]=f):f=t[7];var g;t[8]!==a||t[9]!==l?(g=function(){return a(l)},t[8]=a,t[9]=l,t[10]=g):g=t[10];var h;t[11]!==m?(h=o("PolarisStopDeletionDialogStrings").getDeletionKeepAccountText(m),t[11]=m,t[12]=h):h=t[12];var y;t[13]!==g||t[14]!==h?(y=s.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:g,children:h}),t[13]=g,t[14]=h,t[15]=y):y=t[15];var C;t[16]!==m?(C=o("PolarisStopDeletionDialogStrings").getDeletionBackToLoginText(m),t[16]=m,t[17]=C):C=t[17];var b;t[18]!==r||t[19]!==C?(b=s.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{onClick:r,children:C}),t[18]=r,t[19]=C,t[20]=b):b=t[20];var v;return t[21]!==_||t[22]!==f||t[23]!==y||t[24]!==b?(v=s.jsxs(o("IGCoreDialog.react").IGCoreDialog,{body:_,title:f,children:[y,b]}),t[21]=_,t[22]=f,t[23]=y,t[24]=b,t[25]=v):v=t[25],v}function d(){o("PolarisLoginLogger").logLoginEvent({event_category:"stop_account_deletion_init",event_flow:"login_manual",event_name:"stop_account_deletion_dialog_shown",event_step:"stop_account_deletion"})}l.default=c}),98);
__d("usePolarisSendAccountRecoveryEmailForBoost",["PolarisAPISendAccountRecoveryEmail","PolarisAuthStrings","PolarisInstajax","PolarisLoginLogger","PolarisReactRedux.react","nullthrows","react-compiler-runtime","useIGDSToaster"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e instanceof o("PolarisInstajax").AjaxError&&e.message?e.message:o("PolarisAuthStrings").SEND_ACCOUNT_RECOVERY_LINK_FAILED_TEXT}function s(){var t=o("react-compiler-runtime").c(6),n=r("useIGDSToaster")(),a=n.add,i=o("PolarisReactRedux.react").useDispatch(),l=o("PolarisReactRedux.react").useSelector(u),s;t[0]!==a?(s=function(t){a({message:t,target:"bottom"},{duration:1e4})},t[0]=a,t[1]=s):s=t[1];var c=s,d;t[2]!==c||t[3]!==i||t[4]!==l?(d=function(){i({type:"ACCOUNT_RECOVERY_MODAL_DISMISSED"});var t=l.accountRecovery,n=t==null?void 0:t.targetUsername,a=n!=null?n:t==null?void 0:t.query,s={event_flow:"account_recovery",login_identifier:a!=null?a:void 0};o("PolarisLoginLogger").logLoginEvent(babelHelpers.extends({event_name:"boost_account_recovery_send_email_submit"},s)),o("PolarisAPISendAccountRecoveryEmail").sendAccountRecoveryEmail(r("nullthrows")(a)).then(function(e){c(e.toast_message),o("PolarisLoginLogger").logLoginEvent(babelHelpers.extends({event_name:"boost_account_recovery_send_email_success"},s))}).catch(function(t){c(e(t)),o("PolarisLoginLogger").logLoginEvent(babelHelpers.extends({event_name:"boost_account_recovery_send_email_error",extra_client_data:{error_message:t.message}},s))})},t[2]=c,t[3]=i,t[4]=l,t[5]=d):d=t[5];var m=d;return m}function u(e){return e.auth}l.default=s}),98);
__d("PolarisSlimLoginForm.react",["fbt","CometImage.react","IGDSBox.react","IGDSButton.react","IGDSCheckbox.react","IGDSIconButton.react","IGDSInfoPanoFilledIcon.react","IGDSText.react","IGDSTextVariants.react","InstagramQueryParamsHelper","PolarisAccountSwitcherActions","PolarisAuthStrings","PolarisAuthTestIDs","PolarisAuthTypeSwitcher.react","PolarisConsentQEHelpers","PolarisConsentStrings.react","PolarisFacebookLoginButtonRevamped","PolarisFastLink.react","PolarisIGCoreButton.react","PolarisIsLoggedIn","PolarisLoggedOutCtaClickLogger","PolarisLoginLogger","PolarisLoginQPL","PolarisOneTapLogin","PolarisOrBar.react","PolarisQueryParams","PolarisReactRedux.react","PolarisRoutes","PolarisSlimTextInput.react","PolarisStopDeletionDialog.react","PolarisThirdPartyAuthHelpers","PolarisTooManyAccountsDialog.react","PolarisUA","gkx","justknobx","qex","react","react-compiler-runtime","usePolarisPageID","usePolarisSendAccountRecoveryEmailForBoost"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useMemo,p=c.useRef,_=c.useState,f="slfErrorAlert",g=6,h={profilePicture:{maxWidth:"x193iq5w",$$css:!0}};function y(e){var t=o("react-compiler-runtime").c(12),n=e.checkboxId,a=e.checkboxOnChange,i=e.checkboxState,l=e.checkboxText,s=e.disabled,c=o("PolarisReactRedux.react").useSelector(C),d=o("PolarisUA").isMobile()&&c&&o("PolarisIsLoggedIn").isLoggedIn()?4:10,m=s?"secondaryText":"primaryText",p;t[0]!==l||t[1]!==m?(p=u.jsx(o("IGDSTextVariants.react").IGDSTextBody2,{color:m,children:l}),t[0]=l,t[1]=m,t[2]=p):p=t[2];var _;t[3]!==a||t[4]!==i||t[5]!==s||t[6]!==p?(_=u.jsx(r("IGDSCheckbox.react"),{checkboxShape:"square",isChecked:i,isDisabled:s,name:"LoginCheckbox",onChange:a,size:16,zeroPadding:!0,children:p}),t[3]=a,t[4]=i,t[5]=s,t[6]=p,t[7]=_):_=t[7];var f;return t[8]!==n||t[9]!==d||t[10]!==_?(f=u.jsx(r("IGDSBox.react"),{id:n,marginBottom:3,marginEnd:2,marginStart:d,marginTop:3,position:"relative",children:_}),t[8]=n,t[9]=d,t[10]=_,t[11]=f):f=t[11],f}function C(e){return e.navigation.isAccountSwitcherOpen}function b(e){var t=o("react-compiler-runtime").c(23),n=e.fromLoggedOutDialog,a=e.hideForgotPassword,i=e.isThreadsRequest,l=e.newAuthDesign,c=e.onClick,d=n===void 0?!1:n,m=i===void 0?!1:i,p=l===void 0?!1:l,_=o("PolarisReactRedux.react").useDispatch(),f;t[0]!==_?(f=function(){return _(o("PolarisAccountSwitcherActions").closeAccountSwitcher())},t[0]=_,t[1]=f):f=t[1];var g=f,h=o("PolarisReactRedux.react").useSelector(v),y=m?"center":"end";if(a===!0)return null;var C;t[2]!==p?(C=p?s._(/*BTDS*/"Forgotten?"):s._(/*BTDS*/"Forgotten your password?"),t[2]=p,t[3]=C):C=t[3];var b=C,S=o("PolarisRoutes").PASSWORD_RESET_PATH;if(o("PolarisQueryParams").isFromLoginForAPI()){var R;t[4]===Symbol.for("react.memo_cache_sentinel")?(R=o("InstagramQueryParamsHelper").appendQueryParams(o("PolarisRoutes").PASSWORD_RESET_PATH,{source:"api-login"}),t[4]=R):R=t[4],S=R}else if(o("PolarisQueryParams").isFromFxcal()){var L;t[5]===Symbol.for("react.memo_cache_sentinel")?(L=o("InstagramQueryParamsHelper").appendQueryParams(o("PolarisRoutes").PASSWORD_RESET_PATH,{source:"fxcal"}),t[5]=L):L=t[5],S=L}var E;t[6]!==b||t[7]!==m||t[8]!==p?(E=m?u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"center",children:b}):p?u.jsx(o("IGDSTextVariants.react").IGDSTextFootnote,{color:"link",maxLines:1,textAlign:"center",children:b}):o("PolarisUA").isMobile()?u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"primaryButton",textAlign:"center",children:b}):u.jsx(r("IGDSText.react"),{color:"link",zeroMargin:!0,children:b}),t[6]=b,t[7]=m,t[8]=p,t[9]=E):E=t[9];var k=E,I;t[10]!==d||t[11]!==h||t[12]!==c||t[13]!==g?(I=function(t){c==null||c(),o("PolarisLoginLogger").logLoginEvent({event_flow:"login_manual",event_name:"forgot_password_click"}),o("PolarisLoginLogger").logLoginEvent({event_category:"search",event_flow:"account_recovery_start",event_name:"account_recovery_start",event_step:"search",extra_client_data:d?{event_source:"login_logged_out_dialog_forgot"}:null}),h&&g()},t[10]=d,t[11]=h,t[12]=c,t[13]=g,t[14]=I):I=t[14];var T=I,D;return t[15]!==b||t[16]!==T||t[17]!==h||t[18]!==m||t[19]!==y||t[20]!==p||t[21]!==k?(D=o("PolarisUA").isMobile()&&!(h&&o("PolarisIsLoggedIn").isLoggedIn())||m?u.jsx(r("IGDSBox.react"),{direction:"row",justifyContent:y,marginBottom:p?0:2,marginEnd:p?0:10,marginStart:10,paddingY:3,position:"relative",children:u.jsx(r("PolarisFastLink.react"),{href:S,onClick:T,children:k},"reset")}):u.jsx(r("IGDSBox.react"),{alignContent:"center",alignSelf:"center",display:"flex",marginTop:3,children:u.jsx(r("IGDSButton.react"),{href:S,label:b,onClick:T,variant:o("PolarisUA").isMobile()&&h?"primary_link":"secondary_link"},"reset")}),t[15]=b,t[16]=T,t[17]=h,t[18]=m,t[19]=y,t[20]=p,t[21]=k,t[22]=D):D=t[22],D}function v(e){return e.navigation.isAccountSwitcherOpen}function S(e){var t=o("react-compiler-runtime").c(20),n=e.fromLoggedOutDialog,a=e.hideForgotPassword,i=e.isThreadsRequest,l=e.onForgotPasswordClick,s=e.onNavigate,c=n===void 0?!1:n,d=i===void 0?!1:i,m=o("PolarisReactRedux.react").useSelector(R);if(d)return null;if(o("PolarisUA").isMobile()&&!(m&&o("PolarisIsLoggedIn").isLoggedIn())){if(o("PolarisQueryParams").isFromFxcal()||o("PolarisQueryParams").hasDisableSignupParam())return null;var p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=o("PolarisConsentQEHelpers").shouldShowIPFingerPrintingDisclosure(),t[0]=p):p=t[0];var _=p,f;t[1]!==s?(f=u.jsx(r("PolarisAuthTypeSwitcher.react"),{onNavigate:s}),t[1]=s,t[2]=f):f=t[2];var g;t[3]===Symbol.for("react.memo_cache_sentinel")?(g=_&&u.jsx(r("IGDSBox.react"),{paddingY:9,width:"80%",children:u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"center",children:o("PolarisConsentStrings.react").INSTAGRAM_TERMS_OF_USE_AND_PRIVACY_POLICY_TEXT})}),t[3]=g):g=t[3];var h;return t[4]!==f?(h=u.jsxs(r("IGDSBox.react"),{alignItems:"center",marginTop:4,position:"relative",children:[f,g]}),t[4]=f,t[5]=h):h=t[5],h}if(o("PolarisUA").isDesktop()&&!(m&&o("PolarisIsLoggedIn").isLoggedIn())&&o("PolarisQueryParams").hasEnableSignupWeb()){var y;t[6]!==c||t[7]!==a||t[8]!==l?(y=u.jsx(b,{fromLoggedOutDialog:c,hideForgotPassword:a,onClick:l}),t[6]=c,t[7]=a,t[8]=l,t[9]=y):y=t[9];var C;t[10]!==c||t[11]!==s?(C=u.jsx(r("IGDSBox.react"),{alignItems:"center",marginTop:4,position:"relative",children:u.jsx(r("PolarisAuthTypeSwitcher.react"),{fromLoggedOutDialog:c,onNavigate:s})}),t[10]=c,t[11]=s,t[12]=C):C=t[12];var v;return t[13]!==y||t[14]!==C?(v=u.jsxs(u.Fragment,{children:[y,C]}),t[13]=y,t[14]=C,t[15]=v):v=t[15],v}var S;return t[16]!==c||t[17]!==a||t[18]!==l?(S=u.jsx(b,{fromLoggedOutDialog:c,hideForgotPassword:a,onClick:l}),t[16]=c,t[17]=a,t[18]=l,t[19]=S):S=t[19],S}function R(e){return e.navigation.isAccountSwitcherOpen}function L(e){var t=o("react-compiler-runtime").c(6),n=e.className,a=e.message,i=e.testid,l;t[0]!==n||t[1]!==a?(l=u.jsx("div",{className:n,children:a}),t[0]=n,t[1]=a,t[2]=l):l=t[2];var s;return t[3]!==l||t[4]!==i?(s=u.jsx(r("IGDSText.react"),{testid:void 0,children:l}),t[3]=l,t[4]=i,t[5]=s):s=t[5],s}function E(e){var t,n=o("react-compiler-runtime").c(18),a=e.errorMessage,i;n[0]===Symbol.for("react.memo_cache_sentinel")?(i="xkmlbd1 xvs91rp xd4r4e8 x1anpbxc x11gldyt xyorhqc x11hdunq x2b8uid",n[0]=i):i=n[0];var l;n[1]!==a?(l=u.jsx(L,{className:i,message:a,testid:void 0}),n[1]=a,n[2]=l):l=n[2];var s=l,c=r("usePolarisSendAccountRecoveryEmailForBoost")(),m=_(!1),p=m[0],f=m[1],g=a===o("PolarisAuthStrings").ERROR_LOGIN_PASSWORD_BOOST_ACCOUNT_RECOVERY||a===o("PolarisAuthStrings").ERROR_LOGIN_USERNAME_BOOST_ACCOUNT_RECOVERY,h=o("PolarisReactRedux.react").useSelector(k),y=h==null||(t=h.accountRecovery)==null||(t=t.options)==null?void 0:t.is_boost_user_eligible_for_account_recovery,C;n[3]!==p||n[4]!==c?(C=function(){p||(f(!0),c(),o("PolarisLoginLogger").logLoginEvent({event_flow:"account_recovery",event_name:"boost_account_recovery_error_message_click"}))},n[3]=p,n[4]=c,n[5]=C):C=n[5];var b=C,v;n[6]!==g?(v=function(){g&&o("PolarisLoginLogger").logLoginEvent({event_flow:"account_recovery",event_name:"boost_account_recovery_error_message_view"})},n[6]=g,n[7]=v):v=n[7];var S;if(n[8]!==a||n[9]!==g?(S=[g,a],n[8]=a,n[9]=g,n[10]=S):S=n[10],d(v,S),g&&y===!0){var R;n[11]===Symbol.for("react.memo_cache_sentinel")?(R=u.jsx(r("IGDSText.react"),{color:"link",maxLines:1,textAlign:"center",zeroMargin:!0,children:o("PolarisAuthStrings").ERROR_LOGIN_BOOST_ACCOUNT_RECOVERY_EMAIL_LINK}),n[11]=R):R=n[11];var E;n[12]!==p||n[13]!==b?(E=u.jsx(r("IGDSBox.react"),{margin:"auto",children:u.jsx(r("PolarisFastLink.react"),{disabled:p,onClick:b,children:R})}),n[12]=p,n[13]=b,n[14]=E):E=n[14];var I;return n[15]!==s||n[16]!==E?(I=u.jsxs(r("IGDSBox.react"),{children:[s,E]}),n[15]=s,n[16]=E,n[17]=I):I=n[17],I}return s}function k(e){return e.auth}function I(e){var t,n=o("react-compiler-runtime").c(142),a=e.dialogSource,i=e.errorMessage,l=e.fbConnectStatus,c=e.forceLoginIgId,m=e.forceLoginProfilePicUrl,C=e.forceLoginUsername,v=e.fromLoggedOutDialog,R=e.hideFBLogin,k=e.hideForgotPassword,I=e.infoMessage,M=e.isFBLoggedIn,w=e.isIGSSODisabled,A=e.isThreadsRequest,F=e.nextUrl,O=e.onClearStopDeletionNonce,B=e.onLoginWithFBClick,W=e.onStopAccountDeletion,q=e.onSubmit,U=e.requestInFlight,V=e.stopDeletionDate,H=e.stopDeletionNonce,G=e.style,z=e.successMessage,j=e.usernameHint,K=v===void 0?!1:v,Q=A===void 0?!1:A,X=_((t=C!=null?C:j)!=null?t:""),Y=X[0],J=X[1],Z=_(""),ee=Z[0],te=Z[1],ne=_(!1),re=ne[0],oe=ne[1],ae;n[0]===Symbol.for("react.memo_cache_sentinel")?(ae=o("PolarisOneTapLogin").hasMaxOneTapNonces(),n[0]=ae):ae=n[0];var ie=ae,le=r("usePolarisPageID")(),se=o("PolarisReactRedux.react").useSelector(N),ue;n[1]!==M||n[2]!==w||n[3]!==F||n[4]!==B||n[5]!==le?(ue=function(){o("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("fb_connect","auth_form",le),o("PolarisThirdPartyAuthHelpers").handleLoginOrFacebookAuth(F!=null?F:void 0,B,M,w)},n[1]=M,n[2]=w,n[3]=F,n[4]=B,n[5]=le,n[6]=ue):ue=n[6];var ce=ue,de;n[7]!==K||n[8]!==q||n[9]!==re||n[10]!==ee||n[11]!==Y?(de=function(t){o("PolarisLoginLogger").logLoginEvent({event_category:K?"logged_out_dialog_interaction":null,event_flow:"login_manual",event_name:"login_button_clicked",event_step:K?"logged_out_dialog":null}),t.preventDefault(),re===!0?o("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_login_optin"}):o("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_login_optout"}),r("PolarisLoginQPL").addPointLoginButtonClick(),q(Y,ee,re)},n[7]=K,n[8]=q,n[9]=re,n[10]=ee,n[11]=Y,n[12]=de):de=n[12];var me=de,pe,_e;n[13]===Symbol.for("react.memo_cache_sentinel")?(pe=function(){var e=r("qex")._("871")===!0;oe(e)},_e=[],n[13]=pe,n[14]=_e):(pe=n[13],_e=n[14]),d(pe,_e);var fe;e:{if(o("PolarisQueryParams").isFromFxcal()||o("PolarisIsLoggedIn").isLoggedIn()||Q||o("PolarisQueryParams").isFromBizappIGBoostMsite()||o("PolarisQueryParams").isFromIGBoostSteering()){fe=!1;break e}fe=!R&&r("gkx")("5230")===!1}var ge=fe,he=_(!1),ye=he[0],Ce=he[1],be=_(!0),ve=be[0],Se=be[1],Re=p(null),Le=o("PolarisAuthStrings").PHONE_USERNAME_OR_EMAIL,Ee;e:{if(o("PolarisUA").isMobile()){var ke;n[15]!==se?(ke=se&&o("PolarisIsLoggedIn").isLoggedIn()?"xdj266r x1ys307a xzueoph xyqm7xq":"xdj266r x11gldyt xzueoph x11hdunq",n[15]=se,n[16]=ke):ke=n[16],Ee=ke;break e}var Ie;n[17]===Symbol.for("react.memo_cache_sentinel")?(Ie="xdj266r x11gldyt xzueoph x11hdunq",n[17]=Ie):Ie=n[17],Ee=Ie}var Te=Ee,De,xe;n[18]!==a||n[19]!==l||n[20]!==K?(De=function(){o("PolarisLoginLogger").logLoginEvent({event_name:"login_form_load",fbconnect_status:l}),K?o("PolarisLoginLogger").logLoginEvent({event_category:"logged_out_dialog_init",event_flow:"login_manual",event_name:"login_step_view_loaded",event_step:"logged_out_dialog",extra_client_data:{dialog_source:a!=null?a:""}}):o("PolarisLoginLogger").logLoginEvent({event_flow:"login_manual",event_name:"login_step_view_loaded"}),o("PolarisQueryParams").hasForceAuthenticationParam()&&Re.current!=null&&Re.current.focus()},xe=[a,l,K],n[18]=a,n[19]=l,n[20]=K,n[21]=De,n[22]=xe):(De=n[21],xe=n[22]),d(De,xe);var $e=_(!1),Pe=$e[0],Ne=$e[1],Me;n[23]===Symbol.for("react.memo_cache_sentinel")?(Me=r("justknobx")._("912"),n[23]=Me):Me=n[23];var we=Me,Ae,Fe;n[24]===Symbol.for("react.memo_cache_sentinel")?(Ae=function(){var e=function(){if(we){var e,t=!!((e=document.querySelector("input[name=username]"))!=null&&e.matches("*:-webkit-autofill"));Ne(t)}};e(),window.setTimeout(e,200)},Fe=[we],n[24]=Ae,n[25]=Fe):(Ae=n[24],Fe=n[25]),d(Ae,Fe);var Oe;n[26]!==ve?(Oe=function(t){Se(!ve),t.preventDefault()},n[26]=ve,n[27]=Oe):Oe=n[27];var Be=Oe,We;n[28]!==re?(We=function(){ie?Ce(!0):oe(!re)},n[28]=re,n[29]=We):We=n[29];var qe=We,Ue=P,Ve=$,He;n[30]!==Pe?(He=function(){Pe&&Ne(!1)},n[30]=Pe,n[31]=He):He=n[31];var Ge=He,ze=x,je;n[32]!==se?(je=o("PolarisUA").isMobile()&&se&&o("PolarisIsLoggedIn").isLoggedIn(),n[32]=se,n[33]=je):je=n[33];var Ke=je,Qe;n[34]!==se?(Qe=o("PolarisUA").isMobile()&&!(se&&o("PolarisIsLoggedIn").isLoggedIn()),n[34]=se,n[35]=Qe):Qe=n[35];var Xe=Qe,Ye=!Y&&!ee&&!Pe&&we,Je=!Y||!ee||ee.length<g||Ye,Ze;n[36]!==se?(Ze=se&&o("PolarisIsLoggedIn").isLoggedIn(),n[36]=se,n[37]=Ze):Ze=n[37];var et=Ze,tt=et,nt,rt=i==null||i===""?void 0:f,ot;n[38]!==rt||n[39]!==c||n[40]!==m||n[41]!==C||n[42]!==Ge||n[43]!==Te||n[44]!==Y?(ot=u.jsx(u.Fragment,{children:c!=null&&C!=null&&m!=null?u.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np xdj266r x11gldyt x1fqp7bg x11hdunq",children:[u.jsx("div",{className:"x1ekkm8c x1143rjc xum4auv xj21bgg x972fbf x10w94by x1qhh985 x14e42zd xj87blo xln7xf2 xk390pu xc9qbxq xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf x14qfxbe",children:u.jsx(r("CometImage.react"),{alt:s._(/*BTDS*/"{username}'s profile picture",[s._param("username",C)]),src:m,xstyle:h.profilePicture})}),u.jsx("div",{className:"xj87blo x13fj5qh",children:u.jsx(r("IGDSText.react"),{size:"label",textAlign:"start",weight:"normal",children:C})})]}):u.jsx(r("PolarisSlimTextInput.react"),{"aria-describedby":rt,"aria-label":Le,"aria-required":"true",autoCapitalize:"off",autoCorrect:"off",className:Te,"data-testid":void 0,isInputFocused:ze(),maxLength:75,name:"username",onChange:function(t){var e=t.target,n=e.value;J(n),Ge()},onFocus:D,placeholder:Le,ref:Re,value:Y})}),n[38]=rt,n[39]=c,n[40]=m,n[41]=C,n[42]=Ge,n[43]=Te,n[44]=Y,n[45]=ot):ot=n[45];var at=ot,it=o("PolarisAuthStrings").PASSWORD,lt=o("PolarisAuthStrings").ONE_TAP_CHECKBOX_TEXT,st;n[46]!==c||n[47]!==Ge||n[48]!==ee.length?(st=function(t){var e=t.target,n=e.value;ee.length===0&&n.length>=6&&o("PolarisLoginLogger").logLoginEvent({event_name:"login_form_autofill",ig_userid:c!=null?c:void 0}),te(n),Ge()},n[46]=c,n[47]=Ge,n[48]=ee.length,n[49]=st):st=n[49];var ut=!!ee,ct=ve?"password":"text",dt;n[50]!==rt||n[51]!==Be||n[52]!==Te||n[53]!==ve||n[54]!==ee||n[55]!==st||n[56]!==ut||n[57]!==ct?(dt=u.jsx(r("PolarisSlimTextInput.react"),{"aria-describedby":rt,"aria-label":it,"aria-required":"true",autoCapitalize:"off",autoCorrect:"off",className:Te,"data-testid":void 0,isInputFocused:ze(),isPasswordHidden:ve,name:"password",onChange:st,onFocus:T,onPasswordToggle:Be,placeholder:it,showPasswordToggleLink:ut,type:ct,value:ee}),n[50]=rt,n[51]=Be,n[52]=Te,n[53]=ve,n[54]=ee,n[55]=st,n[56]=ut,n[57]=ct,n[58]=dt):dt=n[58];var mt;n[59]!==qe||n[60]!==re||n[61]!==tt||n[62]!==ye?(mt=tt&&u.jsxs(u.Fragment,{children:[u.jsxs(r("IGDSBox.react"),{direction:"row",position:"relative",children:[u.jsx(y,{checkboxId:"optIntoOneTap",checkboxOnChange:qe,checkboxState:re,checkboxText:lt,disabled:ie}),ie&&u.jsx(r("IGDSIconButton.react"),{onClick:qe,padding:0,children:u.jsx(r("IGDSInfoPanoFilledIcon.react"),{alt:lt,color:"ig-secondary-text",size:16})})]}),ye&&u.jsx(r("PolarisTooManyAccountsDialog.react"),{onClose:function(){Ce(!1)}})]}),n[59]=qe,n[60]=re,n[61]=tt,n[62]=ye,n[63]=mt):mt=n[63];var pt;n[64]!==k||n[65]!==Xe||n[66]!==Q?(pt=Xe&&!Q&&u.jsx(b,{hideForgotPassword:k,onClick:Ue}),n[64]=k,n[65]=Xe,n[66]=Q,n[67]=pt):pt=n[67];var _t;n[68]!==dt||n[69]!==mt||n[70]!==pt?(_t=u.jsxs(u.Fragment,{children:[dt,mt,pt]}),n[68]=dt,n[69]=mt,n[70]=pt,n[71]=_t):_t=n[71];var ft=_t,gt=Ke?4:10,ht=Ke?4:10,yt=Ke?3:2,Ct=Q?"barcelona-primary-button":"ig-primary-button",bt;n[72]===Symbol.for("react.memo_cache_sentinel")?(bt=u.jsx(r("IGDSBox.react"),{position:"relative",children:s._(/*BTDS*/"Log in")}),n[72]=bt):bt=n[72];var vt;n[73]!==me||n[74]!==Je||n[75]!==U||n[76]!==Ct?(vt=u.jsx(r("PolarisIGCoreButton.react"),{color:Ct,"data-testid":void 0,disabled:Je,loading:U,onClick:me,type:"submit",children:bt}),n[73]=me,n[74]=Je,n[75]=U,n[76]=Ct,n[77]=vt):vt=n[77];var St;n[78]!==gt||n[79]!==ht||n[80]!==yt||n[81]!==vt?(St=u.jsx(r("IGDSBox.react"),{marginBottom:2,marginEnd:gt,marginStart:ht,marginTop:yt,position:"relative",children:vt}),n[78]=gt,n[79]=ht,n[80]=yt,n[81]=vt,n[82]=St):St=n[82];var Rt;n[83]!==k||n[84]!==Q?(Rt=Q&&u.jsx(b,{hideForgotPassword:k,isThreadsRequest:Q,onClick:Ue}),n[83]=k,n[84]=Q,n[85]=Rt):Rt=n[85];var Lt;n[86]!==St||n[87]!==Rt?(Lt=u.jsxs(u.Fragment,{children:[St,Rt]}),n[86]=St,n[87]=Rt,n[88]=Lt):Lt=n[88];var Et=Lt,kt;n[89]!==at||n[90]!==ft||n[91]!==Et?(kt=u.jsxs(u.Fragment,{children:[at,ft,Et]}),n[89]=at,n[90]=ft,n[91]=Et,n[92]=kt):kt=n[92];var It=kt,Tt;n[93]===Symbol.for("react.memo_cache_sentinel")?(Tt=u.jsx("div",{className:"x1hmvnq2 x11gldyt x91k8ka x11hdunq",children:u.jsx(r("PolarisOrBar.react"),{})}),n[93]=Tt):Tt=n[93];var Dt=Tt;if(!ge)nt=It;else if(o("PolarisUA").isMobile()||se){var xt;n[94]!==se||n[95]!==ce?(xt=u.jsx(r("PolarisFacebookLoginButtonRevamped"),{isAccountSwitcherOpen:se,onClick:ce}),n[94]=se,n[95]=ce,n[96]=xt):xt=n[96];var $t;n[97]!==It||n[98]!==xt?($t=u.jsxs(u.Fragment,{children:[xt,Dt,It]}),n[97]=It,n[98]=xt,n[99]=$t):$t=n[99],nt=$t}else{var Pt;n[100]!==se||n[101]!==ce?(Pt=u.jsx(r("PolarisFacebookLoginButtonRevamped"),{isAccountSwitcherOpen:se,onClick:ce}),n[100]=se,n[101]=ce,n[102]=Pt):Pt=n[102];var Nt;n[103]!==It||n[104]!==Pt?(Nt=u.jsxs(u.Fragment,{children:[It,Dt,Pt]}),n[103]=It,n[104]=Pt,n[105]=Nt):Nt=n[105],nt=Nt}var Mt;n[106]!==I?(Mt=I!=null&&I!==""&&u.jsx(L,{className:"x1roi4f4 xvs91rp xd4r4e8 x1anpbxc x11gldyt x4n8cb0 x11hdunq x2b8uid",message:I,testid:void 0}),n[106]=I,n[107]=Mt):Mt=n[107];var wt;n[108]!==z?(wt=z!=null&&z!==""&&u.jsx(L,{className:"x5n08af xvs91rp xd4r4e8 x1anpbxc x11gldyt x4n8cb0 x11hdunq x2b8uid",message:z,testid:void 0}),n[108]=z,n[109]=wt):wt=n[109];var At;n[110]===Symbol.for("react.memo_cache_sentinel")?(At={className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 xdt5ytf xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},n[110]=At):At=n[110];var Ft=Ke?3:6,Ot;n[111]!==nt||n[112]!==Ft?(Ot=u.jsx(r("IGDSBox.react"),{marginTop:Ft,position:"relative",children:nt}),n[111]=nt,n[112]=Ft,n[113]=Ot):Ot=n[113];var Bt;n[114]!==i?(Bt=i!=null&&i!==""&&u.jsx(E,{errorMessage:i}),n[114]=i,n[115]=Bt):Bt=n[115];var Wt;n[116]!==K||n[117]!==k||n[118]!==Q?(Wt=u.jsx(S,{fromLoggedOutDialog:K,hideForgotPassword:k,isThreadsRequest:Q,onForgotPasswordClick:Ue,onNavigate:Ve}),n[116]=K,n[117]=k,n[118]=Q,n[119]=Wt):Wt=n[119];var qt;n[120]!==O||n[121]!==W||n[122]!==re||n[123]!==ee||n[124]!==V||n[125]!==H||n[126]!==Y?(qt=H!=null&&V!=null&&u.jsx(r("PolarisStopDeletionDialog.react"),{onClose:O,onStopDeletion:function(t){return W(Y,ee,re,t)},stopDeletionDate:V,stopDeletionNonce:H,username:Y}),n[120]=O,n[121]=W,n[122]=re,n[123]=ee,n[124]=V,n[125]=H,n[126]=Y,n[127]=qt):qt=n[127];var Ut;n[128]!==Ke||n[129]!==G?(Ut=G==="modal"&&!Ke&&u.jsx(r("IGDSBox.react"),{marginBottom:6,position:"relative"}),n[128]=Ke,n[129]=G,n[130]=Ut):Ut=n[130];var Vt;n[131]!==me||n[132]!==Ot||n[133]!==Bt||n[134]!==Wt||n[135]!==qt||n[136]!==Ut?(Vt=u.jsxs("form",babelHelpers.extends({},At,{"data-testid":void 0,id:"loginForm",method:"post",onSubmit:me,children:[Ot,Bt,Wt,qt,Ut]})),n[131]=me,n[132]=Ot,n[133]=Bt,n[134]=Wt,n[135]=qt,n[136]=Ut,n[137]=Vt):Vt=n[137];var Ht;return n[138]!==Mt||n[139]!==wt||n[140]!==Vt?(Ht=u.jsxs("div",{children:[Mt,wt,Vt]}),n[138]=Mt,n[139]=wt,n[140]=Vt,n[141]=Ht):Ht=n[141],Ht}function T(){return r("PolarisLoginQPL").addPointPasswordFocus()}function D(){return r("PolarisLoginQPL").addPointUsernameFocus()}function x(){return!o("PolarisIsLoggedIn").isLoggedIn()&&!o("PolarisUA").isMobile()}function $(e){e==="signup"&&r("PolarisLoginQPL").endCancelNavigateToSignup()}function P(){r("PolarisLoginQPL").endCancelNavigateToForgotPassword()}function N(e){return e.navigation.isAccountSwitcherOpen}l.default=I}),226);
__d("PolarisStrategicWebTraffic",["ExecutionEnvironment","PolarisConfig","PolarisDismissEntry","PolarisQueryParams","PolarisUA","memoize"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("memoize")(function(){return(e||(e=r("ExecutionEnvironment"))).canUseDOM&&o("PolarisDismissEntry").isDismissed(o("PolarisDismissEntry").PROMOTED_TRAFFIC_TYPE)?!0:(e||(e=r("ExecutionEnvironment"))).canUseDOM&&o("PolarisUA").isMobile()&&o("PolarisQueryParams").parseQueryParams().utm_source&&o("PolarisQueryParams").parseQueryParams().utm_source.includes("_sd")?(o("PolarisDismissEntry").setDismissEntry(o("PolarisDismissEntry").PROMOTED_TRAFFIC_TYPE),!0):!1}),u=r("memoize")(function(){return o("PolarisConfig").isProgressiveWebApp()||s()});l.isStrategicTraffic=u}),98);
__d("PolarisFXAuthActions",["FXAuthenticationLogger","PolarisAPIExtractTwoFactorChallengeIfPresent","PolarisAPIFXCALAuthLogin","PolarisAuthStrings","PolarisNavigationUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){return function(a,i){return a({appId:n,etoken:r,type:"FX_AUTH_LOGIN_ATTEMPTED"}),o("PolarisAPIFXCALAuthLogin").fxcalAuthLogin(e.replace(/\s+$/,""),t,n,r).then(function(e){e.authenticated?c(String(e.username),String(e.profile_pic_url),String(e.blob),String(e.token))(a,i):a({errorDescription:o("PolarisAuthStrings").ERROR_LOGIN_PASSWORD,type:"FX_AUTH_LOGIN_FAILED"})},function(e){var t=o("PolarisAPIExtractTwoFactorChallengeIfPresent").extractTwoFactorChallengeIfPresent(e);if(t){a(babelHelpers.extends({fromFB:!1,fromFxAuth:!0,timeReceived:Date.now(),type:"TWO_FACTOR_CHALLENGE_RECEIVED"},t)),a({type:"FX_AUTH_TWO_FACTOR_REQUIRED"});return}a({errorDescription:o("PolarisAuthStrings").ERROR_LOGIN_UNKNOWN,type:"FX_AUTH_LOGIN_FAILED"})}).catch()}}function s(){return function(e){e({type:"FX_AUTH_LOGOUT"}),o("FXAuthenticationLogger").logEvent({event:"web_auth_force_logout",target_account_type:1})}}function u(e,t,n){return function(r){if(!(e==null||t==null||n==null)){var a=new URL(e);a.searchParams.append("blob",t),a.searchParams.append("token",n),r({redirectUrl:a.toString(),type:"FX_AUTH_CONFIRMED"}),o("FXAuthenticationLogger").logEvent({event:"web_auth_confirmed_redirect",target_account_type:1});var i=a.toString();o("PolarisNavigationUtils").openURLWithFullPageReload(i),i.startsWith("accountscenter://")&&window.close()}}}function c(e,t,n,r){return function(a){a({blob:n,profilePicUrl:t,token:r,type:"FX_AUTH_LOGIN_SUCCEEDED",username:e}),o("FXAuthenticationLogger").logEvent({event:"web_auth_confirm_page_view",target_account_type:1})}}l.fxAuthLoginAction=e,l.fxAuthLogoutAction=s,l.fxAuthConfirmedAction=u,l.fxAuthSucceededAction=c}),98);
__d("polarisUpdateTwoFactorLoginNoncesFromResponse",["PolarisOneTapLogin","PolarisTrustedDevicesUtils","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.loginNonce,n=e.trustedDeviceNonce,a=e.userId;a!=null&&(r("isStringNullOrEmpty")(n)||o("PolarisTrustedDevicesUtils").addTrustedDevicesNonce(a,n),r("isStringNullOrEmpty")(t)||o("PolarisOneTapLogin").updateLoginNonce(a,t))}l.default=e}),98);
__d("PolarisTwoFactorActions",["invariant","CAAWebLoginLoggingUtils","ErrorCodes","PolarisAPIFxcalAuthTwoFactorLogin","PolarisAPILoginTwoFactor","PolarisAPISendTwoFactorLoginSms","PolarisAPISendTwoFactorLoginWhatsapp","PolarisAuthStrings","PolarisFXAuthActions","PolarisInstajax","PolarisLoginQPL","PolarisOneTapLogin","PolarisQueryParams","PolarisRedirectHelper","polarisGetAppPlatform","polarisLogAction","polarisUpdateTwoFactorLoginNoncesFromResponse"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){if(e==null)return null;switch(e){case"invalid_verficaition_code":return r("ErrorCodes").TWO_FACTOR_LOGIN__INVALIDCODE;case"sms_code_validation_code_missing":return r("ErrorCodes").LOGIN__TWO_FACTOR_SMS_CODE_REQUIRED;default:return null}}function u(t,n,a,i,l){return l===void 0&&(l=!1),function(u,c){var d=c(),m=d.auth,p=m.dyiJobID,_=m.next,f=m.showOneTap,g=d.auth.twoFactor;g||s(0,51503);var h=g.fromFB,y=g.fromFxAuth,C=g.identifier,b=g.username,v=d.fxAuth,S=v.appId,R=v.etoken;u({type:"TWO_FACTOR_VERIFY_ATTEMPTED"});var L={fb:h,platform:o("polarisGetAppPlatform").getAppPlatform(),source:t},E=y?{}:o("PolarisQueryParams").parseQueryParams(),k=y?o("PolarisAPIFxcalAuthTwoFactorLogin").fxcalAuthTwoFactorLogin(C,n,b,a,i,S!=null?S:"0",R!=null?R:""):o("PolarisAPILoginTwoFactor").loginTwoFactor(C,n,b,a,i,o("PolarisOneTapLogin").queryParamStringWithOneTapInfo(E),l);r("PolarisLoginQPL").isActive()&&r("PolarisLoginQPL").addPointTwoFactorFormSubmit(i),r("polarisLogAction")("twoFacLoginAttempt",L),k.then(function(e){if(e.authenticated)if(u({type:"TWO_FACTOR_VERIFY_SUCCEEDED"}),r("polarisLogAction")("loginSuccess",babelHelpers.extends({},L,{twoFac:!0})),o("CAAWebLoginLoggingUtils").logLoginResult("two_fac_redirect","two_fac",1,!0,null,null,!1,e.cryptedUid),r("PolarisLoginQPL").isActive()&&r("PolarisLoginQPL").endSuccess(),r("polarisUpdateTwoFactorLoginNoncesFromResponse")(e),y&&e.blob!==null)u(o("PolarisFXAuthActions").fxAuthSucceededAction(b,String(e.profile_pic_url),String(e.blob),String(e.token)));else{var t,n=(t=E.dyi_job_id)!=null?t:"";o("PolarisRedirectHelper").redirectAfterLogin(_,!!e.reactivated,f&&!!e.oneTapPrompt,e.nonce!=null&&e.nonce!==""?e.nonce:"",p||n)}else{var a=o("PolarisAuthStrings").ERROR_LOGIN_UNKNOWN;u({message:a,type:"TWO_FACTOR_VERIFY_FAILED"}),r("polarisLogAction")("loginFailure",babelHelpers.extends({},L,{twoFac:!0})),r("PolarisLoginQPL").isActive()&&r("PolarisLoginQPL").addPointUserError("two_factor_failed")}},function(t){var n,a=t instanceof o("PolarisInstajax").AjaxError&&((n=t.responseObject)==null?void 0:n.message)||o("PolarisAuthStrings").ERROR_LOGIN_UNKNOWN,i=t instanceof o("PolarisInstajax").AjaxError?t.errorType:null;u({message:a,type:"TWO_FACTOR_VERIFY_FAILED"}),r("polarisLogAction")("loginFailure",babelHelpers.extends({},L,{twoFac:!0})),o("CAAWebLoginLoggingUtils").logLoginResult("two_fac_redirect","two_fac",1,!1,e(i),String(a),void 0,null,void 0,void 0,i),r("PolarisLoginQPL").isActive()&&r("PolarisLoginQPL").addPointUserError("two_factor_failed")})}}function c(){return{type:"TWO_FACTOR_CODE_REQUESTED"}}function d(e){return{message:e,type:"TWO_FACTOR_CODE_REQUEST_FAILED"}}function m(e,t){return{identifier:e,timeSent:Date.now(),type:"TWO_FACTOR_CODE_SENT",verificationMethod:t}}function p(){return f("SMS")}function _(){return f("WHATSAPP")}function f(e){return function(t,n){t(c());var a=n().auth.twoFactor;a||s(0,51504);var i=a.identifier,l=a.username;return r("PolarisLoginQPL").isActive()&&r("PolarisLoginQPL").addPointTwoFactorRequestNewSMSCode(),e==="SMS"?o("PolarisAPISendTwoFactorLoginSms").sendTwoFactorLoginSms(l,i).then(function(e){t(m(e.two_factor_info.two_factor_identifier,"SMS"))},function(e){var n,a=e instanceof o("PolarisInstajax").AjaxError&&((n=e.responseObject)==null?void 0:n.message)||o("PolarisAuthStrings").TWOFAC_CODE_RESEND_FAILED_TEXT;t(d(a)),r("polarisLogAction")("newCodeSentFailure",{platform:o("polarisGetAppPlatform").getAppPlatform()}),r("PolarisLoginQPL").isActive()&&r("PolarisLoginQPL").markError("request_new_sms_code_failed",e)}):o("PolarisAPISendTwoFactorLoginWhatsapp").sendTwoFactorLoginWhatsapp(l,i).then(function(e){t(m(e.xdt_send_two_factor_login_whatsapp.two_factor_info.two_factor_identifier,"WHATSAPP"))},function(e){var n,a=e instanceof o("PolarisInstajax").AjaxError&&((n=e.responseObject)==null?void 0:n.message)||o("PolarisAuthStrings").TWOFAC_CODE_RESEND_FAILED_TEXT;t(d(a)),r("polarisLogAction")("newCodeSentFailure",{platform:o("polarisGetAppPlatform").getAppPlatform()}),r("PolarisLoginQPL").isActive()&&r("PolarisLoginQPL").markError("request_new_whatsapp_code_failed",e)})}}function g(e){return{eligibleForMultipleTotp:!1,fromFB:!1,fromFxAuth:!1,identifier:e.identifier||"",isInSowaExperience:e.isInSowaExperience,lastFourDigits:e.lastFourDigits||"",maskedPhoneNumber:e.maskedPhoneNumber||"",showTrustedDevice:!1,smsTwoFactorOn:e.smsTwoFactorOn||!1,timeReceived:Date.now(),totpTwoFactorOn:e.totpTwoFactorOn||!1,type:"TWO_FACTOR_CHALLENGE_RECEIVED",username:e.username||""}}l.submitVerificationCode=u,l.requestSMSCode=p,l.requestWhatsappCode=_,l.loadTwoFactorAuthenticationData=g}),98);
__d("PolarisTwoFactorForm.react",["fbt","invariant","IGDSBox.react","IGDSCheckbox.react","IGDSDialogFooter.react","IGDSText.react","PolarisAuthStrings","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisIGCoreText","PolarisIsLoggedIn","PolarisLoginQPL","PolarisNavigationUtils","PolarisReactRedux.react","PolarisSlimTextInput.react","PolarisTwoFactorActions","PolarisUA","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d="twoFactorErrorAlert",m=s._(/*BTDS*/"backup codes"),p=s._(/*BTDS*/"text message"),_=s._(/*BTDS*/"authentication app"),f=s._(/*BTDS*/"resend it"),g=s._(/*BTDS*/"Send code via SMS instead"),h=s._(/*BTDS*/"Send code via WhatsApp instead"),y=s._(/*BTDS*/"Trust this device"),C=s._(/*BTDS*/"We won't ask for a code next time"),b=s._(/*BTDS*/"Security code"),v=s._(/*BTDS*/"Confirm"),S=s._(/*BTDS*/"Enter login code"),R=s._(/*BTDS*/"Enter the 6-digit code generated by your authentication app."),L=s._(/*BTDS*/"Enter a 6-digit login code generated by an authentication app."),E=s._(/*BTDS*/"Enter one of the eight-digit codes provided when you set up two-factor authentication.");function k(e){var t=o("react-compiler-runtime").c(9),n=e.onClickAuthAppCode,a=e.onClickBackupCode,i=e.verificationMethod,l=o("PolarisReactRedux.react").useSelector(I),u;t[0]!==l?(u={0:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 xdj266r x11gldyt xod5an3 x11hdunq x2b8uid"},1:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 x2b8uid xdj266r x1ys307a xod5an3 xyqm7xq"}}[!!(o("PolarisUA").isMobile()&&l&&o("PolarisIsLoggedIn").isLoggedIn())<<0],t[0]=l,t[1]=u):u=t[1];var d;t[2]!==n||t[3]!==a||t[4]!==i?(d=i==="TOTP"?s._(/*BTDS*/"If you're unable to receive a login code from an authentication app, you can use one of your {=backup codes}.",[s._param("=backup codes",c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:a,children:c.jsx(r("PolarisIGCoreText").Body,{color:"ig-primary-action",children:m})}))]):s._(/*BTDS*/"If you're unable to use one of your backup codes, you can get one from your {=auth app codes}",[s._param("=auth app codes",c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:n,children:_}))]),t[2]=n,t[3]=a,t[4]=i,t[5]=d):d=t[5];var p;return t[6]!==u||t[7]!==d?(p=c.jsx("div",babelHelpers.extends({},u,{children:d})),t[6]=u,t[7]=d,t[8]=p):p=t[8],p}function I(e){return e.navigation.isAccountSwitcherOpen}function T(e){var t=o("react-compiler-runtime").c(9),n=e.onClickBackupCode,a=e.onClickSmsCode,i=e.verificationMethod,l=o("PolarisReactRedux.react").useSelector(D),u;t[0]!==l?(u={0:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 xdj266r x11gldyt xod5an3 x11hdunq x2b8uid"},1:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 x2b8uid xdj266r x1ys307a xod5an3 xyqm7xq"}}[!!(o("PolarisUA").isMobile()&&l&&o("PolarisIsLoggedIn").isLoggedIn())<<0],t[0]=l,t[1]=u):u=t[1];var d;t[2]!==n||t[3]!==a||t[4]!==i?(d=i==="SMS"||i==="WHATSAPP"?s._(/*BTDS*/"If you're unable to receive a security code, use one of your {=backup codes}.",[s._param("=backup codes",c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:n,children:c.jsx(r("PolarisIGCoreText").Body,{color:"ig-primary-action",children:m})}))]):s._(/*BTDS*/"If you're unable to use a security code from your backup codes, you can get one by {=resend it}",[s._param("=resend it",c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:a,children:p}))]),t[2]=n,t[3]=a,t[4]=i,t[5]=d):d=t[5];var _;return t[6]!==u||t[7]!==d?(_=c.jsx("div",babelHelpers.extends({},u,{children:d})),t[6]=u,t[7]=d,t[8]=_):_=t[8],_}function D(e){return e.navigation.isAccountSwitcherOpen}function x(e){var t=o("react-compiler-runtime").c(10),n=e.onClickAuthAppCode,a=e.onClickBackupCode,i=e.onClickSmsCode,l=e.verificationMethod,u=o("PolarisReactRedux.react").useSelector($),d;t[0]!==u?(d={0:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 xdj266r x11gldyt xod5an3 x11hdunq x2b8uid"},1:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 x2b8uid xdj266r x1ys307a xod5an3 xyqm7xq"}}[!!(o("PolarisUA").isMobile()&&u&&o("PolarisIsLoggedIn").isLoggedIn())<<0],t[0]=u,t[1]=d):d=t[1];var f;t[2]!==n||t[3]!==a||t[4]!==i||t[5]!==l?(f=l==="TOTP"?s._(/*BTDS*/"If you're unable to use a login code from an authentication app, you can get one via {=sms code} or use one of your {=backup codes}.",[s._param("=sms code",c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:i,children:p})),s._param("=backup codes",c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:a,children:c.jsx(r("PolarisIGCoreText").Body,{color:"ig-primary-action",children:m})}))]):l==="SMS"?s._(/*BTDS*/"If you're unable to receive a security code by text message, you can get one from your {=auth app codes} or use one of your {=backup codes}.",[s._param("=auth app codes",c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:n,children:_})),s._param("=backup codes",c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:a,children:c.jsx(r("PolarisIGCoreText").Body,{color:"ig-primary-action",children:m})}))]):s._(/*BTDS*/"If you're unable to use a security code from your backup codes, you can get one by {=resend it} or use one from your {=auth app codes}",[s._param("=resend it",c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:i,children:p})),s._param("=auth app codes",c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:n,children:_}))]),t[2]=n,t[3]=a,t[4]=i,t[5]=l,t[6]=f):f=t[6];var g;return t[7]!==d||t[8]!==f?(g=c.jsx("div",babelHelpers.extends({},d,{children:f})),t[7]=d,t[8]=f,t[9]=g):g=t[9],g}function $(e){return e.navigation.isAccountSwitcherOpen}function P(e){var t=o("react-compiler-runtime").c(8),n=e.onNewCodeClicked,a=o("PolarisReactRedux.react").useSelector(N),i;t[0]!==a?(i={0:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 xdj266r x11gldyt xod5an3 x11hdunq x2b8uid"},1:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 x2b8uid xdj266r x1ys307a xod5an3 xyqm7xq"}}[!!(o("PolarisUA").isMobile()&&a&&o("PolarisIsLoggedIn").isLoggedIn())<<0],t[0]=a,t[1]=i):i=t[1];var l;if(t[2]!==n){var u;t[4]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(r("PolarisIGCoreText").Body,{color:"ig-primary-action",children:f}),t[4]=u):u=t[4],l=s._(/*BTDS*/"Haven't received a security code? We can {=resend it}.",[s._param("=resend it",c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:n,children:u}))]),t[2]=n,t[3]=l}else l=t[3];var d;return t[5]!==i||t[6]!==l?(d=c.jsx("div",babelHelpers.extends({},i,{children:l})),t[5]=i,t[6]=l,t[7]=d):d=t[7],d}function N(e){return e.navigation.isAccountSwitcherOpen}function M(e){var t=o("react-compiler-runtime").c(13),n=e.onNewCodeClicked,a=e.onOtherMethodCodeClicked,i=e.verificationMethod,l=o("PolarisReactRedux.react").useSelector(w),u;t[0]!==l?(u={0:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 xdj266r x11gldyt xod5an3 x11hdunq x2b8uid"},1:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 x2b8uid xdj266r x1ys307a xod5an3 xyqm7xq"}}[!!(o("PolarisUA").isMobile()&&l&&o("PolarisIsLoggedIn").isLoggedIn())<<0],t[0]=l,t[1]=u):u=t[1];var d;t[2]!==n||t[3]!==a||t[4]!==i?(d=i==="SMS"&&s._(/*BTDS*/"Didn't get a security code? We can {=resend it}. {=send WhatsApp instead}",[s._param("=resend it",c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:n,children:c.jsx(r("PolarisIGCoreText").Body,{color:"ig-primary-action",children:f})})),s._param("=send WhatsApp instead",c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:a,children:c.jsx(r("PolarisIGCoreText").Body,{color:"ig-primary-action",children:h})}))]),t[2]=n,t[3]=a,t[4]=i,t[5]=d):d=t[5];var m;t[6]!==a||t[7]!==i?(m=i==="WHATSAPP"&&s._(/*BTDS*/"Didn't get a security code? {=send sms instead}",[s._param("=send sms instead",c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:a,children:c.jsx(r("PolarisIGCoreText").Body,{color:"ig-primary-action",children:g})}))]),t[6]=a,t[7]=i,t[8]=m):m=t[8];var p;return t[9]!==u||t[10]!==d||t[11]!==m?(p=c.jsxs("div",babelHelpers.extends({},u,{children:[d,m]})),t[9]=u,t[10]=d,t[11]=m,t[12]=p):p=t[12],p}function w(e){return e.navigation.isAccountSwitcherOpen}var A="verificationCodeDescription";function F(e){switch(e){case"SMS":return 1;case"BACKUP_CODE":return 2;case"TOTP":return 3;case"WHATSAPP":return 6;default:return r("vulture")("yhGvsyGQ7jRu4D6I_6RGJXqrpD8="),0}}var O=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.$3=function(){r("PolarisLoginQPL").isActive()&&r("PolarisLoginQPL").addPointTwoFactorCodeFocus()},n.$4=function(e){r("PolarisLoginQPL").isActive()&&r("PolarisLoginQPL").addPointTwoFactorSubmitButtonClick(),n.$5(e)},n.$5=function(e){e.preventDefault();var t=n.state,r=t.currentVerificationMethod,o=t.trustSignal,a=t.verificationCode,i=a.replace(/\s+/g,""),l=F(r).toString();n.props.onSubmit(o,i,l)},n.$6=function(e){var t=e.target.value;t.match(/^[0-9 ]*$/)&&n.setState({verificationCode:t})},n.state={currentVerificationMethod:t.totpTwoFactorOn?"TOTP":t.isInSowaExperience?"WHATSAPP":"SMS",trustSignal:t.showTrustedDevice,verificationCode:""},n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.componentDidMount=function(){this.$1&&this.$1.focus(),this.$2()},n.componentDidUpdate=function(){this.$2()},n.$2=function(){this.props.hasTwoFactorState||o("PolarisNavigationUtils").openURL("/")},n.$7=function(t){return this.$8(t,"x1f6kntn xd4r4e8 xdj266r x11gldyt xyorhqc x11hdunq x2b8uid x1atzwio")},n.$9=function(t){return this.$8(t,"x1f6kntn xd4r4e8 xdj266r x11gldyt xyorhqc x11hdunq x2b8uid x5n08af")},n.$8=function(t,n){return c.jsx("div",{className:n,children:c.jsx("p",{"aria-atomic":"true",id:d,role:"alert",size:"footnote",children:t})})},n.getSubTextIndex=function(){var e=this.state.currentVerificationMethod,t=this.props,n=t.eligibleForMultipleTotp,r=t.isInSowaExperience;switch(e){case"TOTP":return n===!0?0:1;case"BACKUP_CODE":return 2;case"WHATSAPP":return 3;case"SMS":return r?4:5}},n.render=function(){var e=this,t=this.props,n=t.errorMessage,a=t.isAccountSwitcherOpen,i=t.showTrustedDevice,l=t.smsTwoFactorOn,d=t.successMessage,m=t.totpTwoFactorOn,p=this.state.currentVerificationMethod;l||m||u(0,51594);var _=s._(/*BTDS*/"Enter the code that we sent via WhatsApp to your mobile number: {maskedPhoneNumber}.",[s._param("maskedPhoneNumber",this.props.maskedPhoneNumber)]),f=s._(/*BTDS*/"Enter the code that we sent via SMS to your mobile number: {maskedPhoneNumber}.",[s._param("maskedPhoneNumber",this.props.maskedPhoneNumber)]),g=s._(/*BTDS*/"Enter the code that we sent to your number ending in {lastFourDigits}.",[s._param("lastFourDigits",this.props.lastFourDigits)]),h=[L,R,E,_,f,g];return c.jsxs("div",babelHelpers.extends({},{0:{className:"x889kno xyri2b x1a8lsjc x1c1uobl"},1:{className:"x889kno xyri2b x18d9i69 x1c1uobl"}}[(this.props.style==="modal")<<0],{children:[c.jsx("div",babelHelpers.extends({},{0:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 xdj266r x11gldyt xod5an3 x11hdunq x2b8uid"},1:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 x2b8uid xdj266r x1ys307a xod5an3 xyqm7xq"}}[!!(o("PolarisUA").isMobile()&&a&&o("PolarisIsLoggedIn").isLoggedIn())<<0],{id:A,children:h[this.getSubTextIndex()]})),c.jsxs("form",{className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 xdt5ytf xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf",method:"POST",onSubmit:this.$5,children:[c.jsx(r("PolarisSlimTextInput.react"),{"aria-describedby":A,"aria-label":b,"aria-required":"true",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",className:{0:"xdj266r x11gldyt xzueoph x11hdunq",1:"x14vqqas x1ys307a x1hq5gj4 xyqm7xq"}[!!(o("PolarisUA").isMobile()&&a&&o("PolarisIsLoggedIn").isLoggedIn())<<0],"data-testid":void 0,maxLength:8,name:"verificationCode",onChange:this.$6,onFocus:this.$3,placeholder:b,ref:function(n){return e.$1=n},type:"tel",value:this.state.verificationCode}),this.props.style==="default"&&c.jsx(r("IGDSBox.react"),{marginBottom:4,marginEnd:10,marginStart:10,marginTop:1,position:"relative",children:c.jsx(r("PolarisIGCoreButton.react"),{loading:this.props.requestInFlight,onClick:this.$4,children:v})}),n!=null&&n!==""&&this.$7(n),d!=null&&d!==""&&this.$9(d),i?c.jsx(r("IGDSBox.react"),{marginBottom:6,marginEnd:10,marginStart:10,marginTop:2,position:"relative",children:c.jsx(r("IGDSCheckbox.react"),{isChecked:this.state.trustSignal,onChange:function(){var t=e.state.trustSignal;e.setState({trustSignal:!t})},size:16,children:c.jsxs(r("IGDSBox.react"),{direction:"column",display:"flex",position:"relative",children:[c.jsx(r("IGDSText.react"),{size:"footnote",weight:"semibold",children:y}),c.jsx(r("IGDSBox.react"),{marginTop:2,position:"relative",children:c.jsx(r("IGDSText.react"),{size:"footnote",children:C})})]})})}):null,m&&l&&c.jsx(x,{onClickAuthAppCode:function(){e.setState({currentVerificationMethod:"TOTP"})},onClickBackupCode:function(){e.setState({currentVerificationMethod:"BACKUP_CODE"})},onClickSmsCode:function(n){e.props.onNewCodeClicked(n),e.setState({currentVerificationMethod:"SMS"})},verificationMethod:p}),m&&!l&&c.jsx(k,{onClickAuthAppCode:function(){e.setState({currentVerificationMethod:"TOTP"})},onClickBackupCode:function(){e.setState({currentVerificationMethod:"BACKUP_CODE"})},verificationMethod:p}),!m&&p==="WHATSAPP"&&c.jsx(M,{onOtherMethodCodeClicked:function(n){e.props.onNewCodeClicked(n),e.setState({currentVerificationMethod:"SMS"})},verificationMethod:"WHATSAPP"}),!m&&p==="SMS"&&this.props.isInSowaExperience&&c.jsx(M,{onNewCodeClicked:function(n){e.props.onNewCodeClicked(n),e.setState({currentVerificationMethod:"SMS"})},onOtherMethodCodeClicked:function(n){e.props.onNewWhatsappCodeClicked(n),e.setState({currentVerificationMethod:"WHATSAPP"})},verificationMethod:"SMS"}),!m&&p==="SMS"&&!this.props.isInSowaExperience&&c.jsx(P,{onNewCodeClicked:this.props.onNewCodeClicked}),!m&&c.jsx(T,{onClickBackupCode:function(){e.setState({currentVerificationMethod:"BACKUP_CODE"})},onClickSmsCode:function(n){e.props.onNewCodeClicked(n),e.setState({currentVerificationMethod:"SMS"})},verificationMethod:p}),this.props.style==="modal"&&(o("PolarisUA").isMobile()?c.jsx(r("IGDSBox.react"),{marginBottom:8,marginEnd:4,marginStart:3,marginTop:3,position:"relative",children:c.jsx(r("PolarisIGCoreButton.react"),{loading:this.props.requestInFlight,onClick:this.$5,children:o("PolarisAuthStrings").CONTINUE})}):c.jsx(r("IGDSBox.react"),{marginTop:5,position:"relative",width:"100%",children:c.jsx(r("IGDSDialogFooter.react"),{endAdornment:c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,loading:this.props.requestInFlight,onClick:this.$5,children:o("PolarisAuthStrings").CONTINUE}),startAdornment:this.props.onBackClick!=null?c.jsx(r("IGDSBox.react"),{alignItems:"start",justifyContent:"center",paddingX:3,position:"relative",children:c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:this.props.onBackClick,children:o("PolarisGenericStrings").BACK_TEXT})}):null})}))]})]}))},t})(c.Component);O.defaultProps={style:"default"};function B(e,t){var n,r=e.twoFactor,o=r==null?void 0:r.message;return{eligibleForMultipleTotp:(r==null?void 0:r.eligibleForMultipleTotp)||!1,errorMessage:o&&o.isError&&o.text||((n=t.errorMessage)!=null?n:null),hasTwoFactorState:!!r,isAccountSwitcherOpen:e.navigation.isAccountSwitcherOpen,isInSowaExperience:(r==null?void 0:r.isInSowaExperience)||!1,lastFourDigits:r==null?void 0:r.lastFourDigits,maskedPhoneNumber:r==null?void 0:r.maskedPhoneNumber,requestInFlight:(r==null?void 0:r.requestInFlight)||t.requestInFlight,showTrustedDevice:(r==null?void 0:r.showTrustedDevice)||!1,smsTwoFactorOn:(r==null?void 0:r.smsTwoFactorOn)||!1,successMessage:o&&!o.isError?o.text:"",totpTwoFactorOn:(r==null?void 0:r.totpTwoFactorOn)||!1}}function W(e,t){return{onNewCodeClicked:function(n){e(o("PolarisTwoFactorActions").requestSMSCode())},onNewWhatsappCodeClicked:function(n){e(o("PolarisTwoFactorActions").requestWhatsappCode())},onSubmit:function(r,a,i){var n;e(o("PolarisTwoFactorActions").submitVerificationCode(t.pageIdentifier,r,a,i,(n=t.isPrivacyPortalReq)!=null?n:!1))}}}var q=o("PolarisReactRedux.react").connect(B,W)(O);l.default=q}),226);
__d("XPolarisLoginControllerParamsRefineValidator",["coerceRouteParams","refine"],(function(t,n,r,o,a,i,l){var e,s=(e=o("refine")).or(e.literal(null),e.string()),u=e.object({dyi_job_id:s,e_un:s,enable_fb_login:e.bool(),flo:e.bool(),force_authentication:e.bool(),force_login_igid:s,hl:s,is_from_rle:e.bool(),is_initiator_feta:s,is_profile_curation:e.bool(),logged_out_reporting_url:s,mtn:e.bool(),next:s,platform_app_id:s,request_id:s,source:s,target_user_id:s}),c=e.coercion(u),d=Object.freeze({force_authentication:{legacyNames:[],default:!1,coercibleType:"EXISTS"},target_user_id:{legacyNames:[],default:null,coercibleType:"STRING"},force_login_igid:{legacyNames:[],default:null,coercibleType:"STRING"},platform_app_id:{legacyNames:[],default:null,coercibleType:"STRING"},logged_out_reporting_url:{legacyNames:[],default:null,coercibleType:"STRING"},next:{legacyNames:[],default:null,coercibleType:"STRING"},dyi_job_id:{legacyNames:[],default:null,coercibleType:"STRING"},source:{legacyNames:[],default:null,coercibleType:"STRING"},hl:{legacyNames:[],default:null,coercibleType:"STRING"},e_un:{legacyNames:[],default:null,coercibleType:"STRING"},enable_fb_login:{legacyNames:[],default:!1,coercibleType:"EXISTS"},request_id:{legacyNames:[],default:null,coercibleType:"STRING"},is_from_rle:{legacyNames:[],default:!1,coercibleType:"EXISTS"},is_profile_curation:{legacyNames:[],default:!1,coercibleType:"EXISTS"},mtn:{legacyNames:[],default:!1,coercibleType:"EXISTS"},flo:{legacyNames:[],default:!1,coercibleType:"BOOL"},is_initiator_feta:{legacyNames:[],default:null,coercibleType:"STRING"}});function m(e){return c(r("coerceRouteParams")(e,d))}l.refineXPolarisLoginControllerParams=m}),98);
__d("PolarisAuthFormCard.react",["fbt","invariant","ix","CometRouteParams","FBLogger","IGCoreImage.react","IGDSBox.react","IGDSDivider.react","IGDSIgLogoFilledIcon.react","IGDSSpinner.react","IGDSText.react","IGDSTextVariants.react","InstagramQueryParamsHelper","PolarisAppsellUnit.react","PolarisAuthActionConstants","PolarisAuthActions","PolarisAuthTypeSwitcher.react","PolarisBarcelonaAppSVGIcon.react","PolarisConfig","PolarisConsentModal.react","PolarisExternalLink.react","PolarisFBConnectActions","PolarisFBConnectHelpers","PolarisFBConnectV2LoginForm.react","PolarisFacebookAccountPicker.react","PolarisFacebookLoginForm.react","PolarisIsLoggedIn","PolarisLandingForm.react","PolarisLoggedOutContentWallDialogAuthCTAs.react","PolarisLoggedOutCtaClickLogger","PolarisLoggedOutCtaImpressionLogger","PolarisLoggedOutNetzDGReportLink.react","PolarisLoggedOutUpsellStrings","PolarisLoginActionClearStopDeletionNonce","PolarisLoginActionLogin","PolarisLoginActionLoginWithFBAccessToken","PolarisLoginActionLoginWithFBJSSDK","PolarisLoginLogger","PolarisLoginQPL","PolarisOneTapLogin","PolarisOneTapLoginForm.react","PolarisOneTapLoginStorage","PolarisQueryParams","PolarisReactRedux.react","PolarisSenderNameHelpers","PolarisSignupForm.react","PolarisSignupTypes","PolarisSlimLoginForm.react","PolarisStrategicWebTraffic","PolarisTwoFactorForm.react","PolarisUA","PolarisUserAvatar.react","URI","XPolarisLoginControllerParamsRefineValidator","nullthrows","polarisIsEligibleForFacebookLogin","polarisUserSelectors","react","react-compiler-runtime","stylex","usePolarisCentralizedUpsellState","usePolarisLOXMobileHomepageDesign","usePolarisLoggedInFBUserForHomepage","usePolarisPageID","usePolarisRouteConfig","usePrevious","useSinglePartialViewImpression","warning"],(function(t,n,r,o,a,i,l,s,u,c){"use strict";var e,d,m,p=m||(m=o("react")),_=m.useEffect,f=s._(/*BTDS*/"Continue without login."),g=s._(/*BTDS*/"Your password has been reset. Please try logging in again."),h=s._(/*BTDS*/"Log in to follow people on Instagram."),y=s._(/*BTDS*/"Two-factor authentication lock icon"),C={mobileBrandingForwardPadding:{paddingTop:"xexx8yu",$$css:!0},mobileBrandPadding:{paddingTop:"xnk5j39",$$css:!0},mobileFooterPadding:{paddingBottom:"xefzj8c",$$css:!0},redesignedRoot:{maxWidth:"x1k7vjkh xusnbm3",$$css:!0},root:{color:"x5n08af",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k x7qam4e",marginTop:"x14vqqas x15lw1kp",maxWidth:"x1dc814f x1owpceq",width:"xh8yej3",$$css:!0},rootModal:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",maxWidth:"x1319t99",width:"xh8yej3",$$css:!0}};function b(t){var n=o("react-compiler-runtime").c(86),a=t.authTypeOverride,i=t.dialogSource,l=t.forceLoginIgId,s=t.forceLoginProfilePicUrl,c=t.forceLoginUsername,d=t.fromLoggedOutDialog,m=t.hideAppUpsells,f=t.hideBorder,g=t.hideForgotPassword,h=t.intentSource,y=t.isPrivacyPortalReq,b=t.pageIdentifier,S=t.pageType,R=t.shouldAutoPickUsername,L=t.shouldEnableShortFirstStep,E=t.shouldShowBirthdayStepInBaseForm,k=t.shouldShowBirthdayTransparency,I=t.shouldShowRedesignedSignupPage,T=t.showNetzDGReportLink,D=t.style,x=t.useMobileBrandPadding,$=t.useMobileFooterPadding,M=t.usernameHint,w=t.xstyle,F=d===void 0?!1:d,B=m===void 0?!1:m,W=g===void 0?!1:g,q=y===void 0?!1:y,U=E===void 0?!1:E,V=T===void 0?!1:T,H=D===void 0?"default":D,G=x===void 0?!0:x,z=$===void 0?!0:$,j=r("usePolarisPageID")(),K=b!=null?b:j,Q=r("usePolarisLoggedInFBUserForHomepage")(),Y=N();Q=!Y&&o("PolarisUA").isDesktop()?Q:null;var J=o("PolarisReactRedux.react").useSelector(v),Z=J.auth,ee=Z.authType,te=a!=null?a:ee;te!=null||u(0,51551);var ae=I===!0&&te===o("PolarisAuthActionConstants").AUTH.signup,ie=r("usePolarisLOXMobileHomepageDesign")(),le=ie.isLOXMobileHomepageDesign,se=r("usePolarisRouteConfig")(),ue=se.showBrandingPageWithNav,ce=le||ue===!0,de=r("usePrevious")(te),me,pe;n[0]!==te||n[1]!==de?(me=function(){!r("PolarisLoginQPL").isActive()&&de!==o("PolarisAuthActionConstants").AUTH.login&&te===o("PolarisAuthActionConstants").AUTH.login&&r("PolarisLoginQPL").start()},pe=[de,te],n[0]=te,n[1]=de,n[2]=me,n[3]=pe):(me=n[2],pe=n[3]),_(me,pe);var _e=o("PolarisReactRedux.react").useStore(),fe,ge;n[4]!==te||n[5]!==_e?(fe=function(){if(te===o("PolarisAuthActionConstants").AUTH.login||te===o("PolarisAuthActionConstants").AUTH.twoFactor)return(function(){var e=_e.getState().auth.authType===o("PolarisAuthActionConstants").AUTH.twoFactor;r("PolarisLoginQPL").isActive()&&!e&&r("PolarisLoginQPL").endCancel()})},ge=[te,_e],n[4]=te,n[5]=_e,n[6]=fe,n[7]=ge):(fe=n[6],ge=n[7]),_(fe,ge);var he=o("PolarisReactRedux.react").useDispatch(),ye=P(),Ce;n[8]!==te||n[9]!==Y||n[10]!==Q||n[11]!==ye?(Ce=function(){var e;Q!=null&&((e=Q)==null?void 0:e.profile_name)!=null&&o("PolarisUA").isDesktop()&&!Y&&te!==o("PolarisAuthActionConstants").AUTH.fbLogin&&te!==o("PolarisAuthActionConstants").AUTH.fbAccountPicker&&te!==o("PolarisAuthActionConstants").AUTH.oneTapLogin&&ye(o("PolarisAuthActionConstants").AUTH.fbConnectV2)},n[8]=te,n[9]=Y,n[10]=Q,n[11]=ye,n[12]=Ce):Ce=n[12];var be;n[13]!==te||n[14]!==he||n[15]!==Y||n[16]!==Q||n[17]!==ye||n[18]!==de?(be=[de,te,Q,Y,he,ye],n[13]=te,n[14]=he,n[15]=Y,n[16]=Q,n[17]=ye,n[18]=de,n[19]=be):be=n[19],_(Ce,be);var ve;n[20]!==te||n[21]!==ce||n[22]!==ae||n[23]!==H||n[24]!==G||n[25]!==z||n[26]!==w?(ve=(e||(e=r("stylex"))).props(C.root,H==="modal"&&C.rootModal,ae&&C.redesignedRoot,o("PolarisUA").isMobile()&&!!z&&C.mobileFooterPadding,o("PolarisUA").isMobile()&&te===o("PolarisAuthActionConstants").AUTH.none&&G&&(ce?C.mobileBrandingForwardPadding:C.mobileBrandPadding),w),n[20]=te,n[21]=ce,n[22]=ae,n[23]=H,n[24]=G,n[25]=z,n[26]=w,n[27]=ve):ve=n[27];var Se;n[28]!==te||n[29]!==f||n[30]!==ae||n[31]!==H?(Se={0:{className:"x6s0dn4 xvbhtw8 x1pmru9 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x13fuv20 x1qgpocp x18b5jzi xa0kie1 x1q0q8m5 xxrrrr8 x1t7ytsu x141z70w x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp x1lziwak xyorhqc xzboxd6 x889kno xyri2b x1a8lsjc x1c1uobl x1n2onr6 x11njtxf"},4:{className:"x6s0dn4 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x13fuv20 x1qgpocp x18b5jzi xa0kie1 x1q0q8m5 xxrrrr8 x1t7ytsu x141z70w x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu x1n2onr6 x11njtxf x7r02ix xdj266r x14z9mp xat24cr x1lziwak xyri2b x18d9i69 x1c1uobl xz9dl7a xh8yej3"},2:{className:"x6s0dn4 xvbhtw8 x1pmru9 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp x1lziwak xyorhqc xzboxd6 x889kno xyri2b x1a8lsjc x1c1uobl x1n2onr6 x11njtxf x1ejq31n x18oe1m7 x1sy0etr xstzfhl x972fbf x10w94by x1qhh985 x14e42zd"},6:{className:"x6s0dn4 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu x1n2onr6 x11njtxf x7r02ix xdj266r x14z9mp xat24cr x1lziwak xyri2b x18d9i69 x1c1uobl xz9dl7a xh8yej3 x1ejq31n x18oe1m7 x1sy0etr xstzfhl x972fbf x10w94by x1qhh985 x14e42zd"},1:{className:"x6s0dn4 xvbhtw8 x1pmru9 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x13fuv20 x1qgpocp x18b5jzi xa0kie1 x1q0q8m5 xxrrrr8 x1t7ytsu x141z70w x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu x1n2onr6 x11njtxf xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl"},5:{className:"x6s0dn4 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x13fuv20 x1qgpocp x18b5jzi xa0kie1 x1q0q8m5 xxrrrr8 x1t7ytsu x141z70w x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu x1n2onr6 x11njtxf x7r02ix xh8yej3 xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl"},3:{className:"x6s0dn4 xvbhtw8 x1pmru9 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu x1n2onr6 x11njtxf x1ejq31n x18oe1m7 x1sy0etr xstzfhl x972fbf x10w94by x1qhh985 x14e42zd xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl"},7:{className:"x6s0dn4 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu x1n2onr6 x11njtxf x7r02ix xh8yej3 x1ejq31n x18oe1m7 x1sy0etr xstzfhl x972fbf x10w94by x1qhh985 x14e42zd xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl"}}[(H==="modal")<<2|!!(f===!0||ae)<<1|(te===o("PolarisAuthActionConstants").AUTH.fbConnectV2&&H!=="modal")<<0],n[28]=te,n[29]=f,n[30]=ae,n[31]=H,n[32]=Se):Se=n[32];var Re;n[33]!==te||n[34]!==K||n[35]!==ce||n[36]!==ae?(Re=!ce&&p.jsx(X,{authType:te,pageID:K,shouldShowRedesignedSignup:ae}),n[33]=te,n[34]=K,n[35]=ce,n[36]=ae,n[37]=Re):Re=n[37];var Le;n[38]!==te||n[39]!==i||n[40]!==l||n[41]!==s||n[42]!==c||n[43]!==F||n[44]!==W||n[45]!==h||n[46]!==q||n[47]!==Q||n[48]!==K||n[49]!==S||n[50]!==R||n[51]!==L||n[52]!==U||n[53]!==k||n[54]!==ae||n[55]!==H||n[56]!==M?(Le=p.jsx(O,{authType:te,dialogSource:i,forceLoginIgId:l,forceLoginProfilePicUrl:s,forceLoginUsername:c,fromLoggedOutDialog:F,hideForgotPassword:W,intentSource:h,isPrivacyPortalReq:q,loggedInFBUser:Q,pageID:K,pageType:S,shouldAutoPickUsername:R,shouldEnableShortFirstStep:L,shouldShowBirthdayStepInBaseForm:U,shouldShowBirthdayTransparency:k,shouldShowRedesignedSignup:ae,style:H,usernameHint:M}),n[38]=te,n[39]=i,n[40]=l,n[41]=s,n[42]=c,n[43]=F,n[44]=W,n[45]=h,n[46]=q,n[47]=Q,n[48]=K,n[49]=S,n[50]=R,n[51]=L,n[52]=U,n[53]=k,n[54]=ae,n[55]=H,n[56]=M,n[57]=Le):Le=n[57];var Ee;n[58]!==te||n[59]!==Le?(Ee=p.jsx(A,{authType:te,children:Le}),n[58]=te,n[59]=Le,n[60]=Ee):Ee=n[60];var ke;n[61]!==K||n[62]!==V?(ke=p.jsx(ne,{pageID:K,showNetzDGReportLink:V}),n[61]=K,n[62]=V,n[63]=ke):ke=n[63];var Ie;n[64]===Symbol.for("react.memo_cache_sentinel")?(Ie=p.jsx(re,{}),n[64]=Ie):Ie=n[64];var Te;n[65]!==Se||n[66]!==Re||n[67]!==Ee||n[68]!==ke?(Te=p.jsxs("div",babelHelpers.extends({},Se,{"data-testid":void 0,children:[Re,Ee,ke,Ie]})),n[65]=Se,n[66]=Re,n[67]=Ee,n[68]=ke,n[69]=Te):Te=n[69];var De;n[70]===Symbol.for("react.memo_cache_sentinel")?(De=p.jsx(r("PolarisConsentModal.react"),{}),n[70]=De):De=n[70];var xe;n[71]!==te||n[72]!==l||n[73]!==F||n[74]!==B||n[75]!==f||n[76]!==Q||n[77]!==K||n[78]!==S||n[79]!==ae||n[80]!==H?(xe=ae!==!0&&p.jsx(oe,{authType:te,forceLoginIgId:l,fromLoggedOutDialog:F,hideAppUpsells:B,hideBorder:f,loggedInFBUser:Q,pageId:K,pageType:S,style:H}),n[71]=te,n[72]=l,n[73]=F,n[74]=B,n[75]=f,n[76]=Q,n[77]=K,n[78]=S,n[79]=ae,n[80]=H,n[81]=xe):xe=n[81];var $e;return n[82]!==ve||n[83]!==Te||n[84]!==xe?($e=p.jsxs("div",babelHelpers.extends({},ve,{children:[Te,De,xe]})),n[82]=ve,n[83]=Te,n[84]=xe,n[85]=$e):$e=n[85],$e}function v(e){return e}function S(e,t,n){var a=o("react-compiler-runtime").c(4),i;return a[0]!==e||a[1]!==t||a[2]!==n?(i={onImpressionStart:function(){e||o("PolarisLoggedOutCtaImpressionLogger").logLoggedOutCtaImpressionEvent("auth_form",n,{},t!=null?t:void 0)}},a[0]=e,a[1]=t,a[2]=n,a[3]=i):i=a[3],r("useSinglePartialViewImpression")(i)}function R(e){var t=r("usePolarisCentralizedUpsellState")(),n=t[0],a=n.isProfileOrPostPage;return e===o("PolarisAuthActionConstants").AUTH.signup&&a}function L(e){var t=o("react-compiler-runtime").c(4),n=o("PolarisReactRedux.react").useSelector(E),a=n.auth,i=a.signup,l=r("usePolarisCentralizedUpsellState")(),s=l[0],u=s.isProfileOrPostPage,c;return t[0]!==e||t[1]!==u||t[2]!==(i==null?void 0:i.step)?(c=!o("PolarisIsLoggedIn").isLoggedIn()&&o("PolarisUA").isDesktop()&&u&&e!==o("PolarisAuthActionConstants").AUTH.fbConnectV2&&(e===o("PolarisAuthActionConstants").AUTH.signup?(i==null?void 0:i.step)===o("PolarisSignupTypes").STEP.base:!0),t[0]=e,t[1]=u,t[2]=i==null?void 0:i.step,t[3]=c):c=t[3],c}function E(e){return e}function k(){var e=o("react-compiler-runtime").c(6),t=o("PolarisReactRedux.react").useSelector(I),n=t.fb,r=n.authResponse,a=n.igProfile,i=n.igProfiles,l=n.igSSODisabled;if(a==null)return null;var s=r==null?void 0:r.userID,u;return e[0]!==a.profilePictureUrl||e[1]!==a.username||e[2]!==i||e[3]!==l||e[4]!==s?(u={fbUserID:s,igSSODisabled:l,linkedIGProfiles:i,profilePictureUrl:a.profilePictureUrl,username:a.username},e[0]=a.profilePictureUrl,e[1]=a.username,e[2]=i,e[3]=l,e[4]=s,e[5]=u):u=e[5],u}function I(e){return e}function T(){var e,t,n=o("PolarisReactRedux.react").useSelector(D),r=n.auth,a=r.login,i=r.twoFactor;return(a==null?void 0:a.errorMessage)!=null?a.errorMessage:(i==null||(e=i.message)==null?void 0:e.isError)===!0&&(i==null||(t=i.message)==null?void 0:t.text)!=null?i.message.text:null}function D(e){return e}function x(){var e,t,n,r=o("PolarisReactRedux.react").useSelector($),a=r.auth,i=a.login,l=a.signup,s=a.twoFactor;return(e=(t=(n=i==null?void 0:i.requestInFlight)!=null?n:l==null?void 0:l.requestInFlight)!=null?t:s==null?void 0:s.requestInFlight)!=null?e:!1}function $(e){return e}function P(){var e=o("react-compiler-runtime").c(2),t=o("PolarisReactRedux.react").useDispatch(),n;return e[0]!==t?(n=function(n){t(o("PolarisAuthActions").switchAuthType(n))},e[0]=t,e[1]=n):n=e[1],n}function N(){var e=o("react-compiler-runtime").c(2),t=o("PolarisReactRedux.react").useSelector(w),n=t.auth,a=n.next,i;if(e[0]!==a){i=Symbol.for("react.early_return_sentinel");e:{var l=new(d||(d=r("URI")))(a),s=l.getPath(),u=l.getDomain();if(u===""&&s==="/oauth/authorize"){var c,m=l.getQueryData(),p=(c=m.scope)==null?void 0:c.split(",");i=(p==null?void 0:p.every(M))===!0;break e}}e[0]=a,e[1]=i}else i=e[1];return i!==Symbol.for("react.early_return_sentinel")?i:!1}function M(e){return e.startsWith("threads_")}function w(e){return e}function A(e){var t=o("react-compiler-runtime").c(1),n=e.authType,a=e.children,i=o("PolarisReactRedux.react").useSelector(F),l=i.auth,s=l.isFBLoggedIn;if((n===o("PolarisAuthActionConstants").AUTH.fbLogin||n===o("PolarisAuthActionConstants").AUTH.fbAccountPicker)&&s==null){var u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=p.jsx(r("IGDSBox.react"),{alignItems:"center",justifyContent:"center",minHeight:160,position:"relative",children:p.jsx(r("IGDSSpinner.react"),{size:"small"})}),t[0]=u):u=t[0],u}return a}function F(e){return e}function O(e){var t=o("react-compiler-runtime").c(36),n=e.authType,a=e.dialogSource,i=e.forceLoginIgId,l=e.forceLoginProfilePicUrl,s=e.forceLoginUsername,u=e.fromLoggedOutDialog,c=e.hideForgotPassword,d=e.intentSource,m=e.isPrivacyPortalReq,_=e.loggedInFBUser,f=e.pageID,g=e.pageType,h=e.shouldAutoPickUsername,y=e.shouldEnableShortFirstStep,C=e.shouldShowBirthdayStepInBaseForm,b=e.shouldShowBirthdayTransparency,v=e.shouldShowRedesignedSignup,S=e.style,R=e.usernameHint,L=m===void 0?!1:m,E=h===void 0?!1:h,I=y===void 0?!1:y,T=C===void 0?!1:C,D=v===void 0?!1:v,x=o("PolarisReactRedux.react").useSelector(B),$=x.auth,P=$.isFBLoggedIn,M=k(),w=N(),A=i!=null,F=(n===o("PolarisAuthActionConstants").AUTH.fbLogin||n===o("PolarisAuthActionConstants").AUTH.fbAccountPicker)&&P===!0&&!!M;if(n===o("PolarisAuthActionConstants").AUTH.fbConnectV2&&_!=null&&_.profile_name!=null){var O;return t[0]===Symbol.for("react.memo_cache_sentinel")?(O=p.jsx(z,{}),t[0]=O):O=t[0],O}else if(n===o("PolarisAuthActionConstants").AUTH.signup&&!o("PolarisUA").isMobile()){var V;return t[1]!==n||t[2]!==u||t[3]!==d||t[4]!==f||t[5]!==E||t[6]!==I||t[7]!==T||t[8]!==b||t[9]!==D||t[10]!==S?(V=p.jsx(W,{authType:n,fromLoggedOutDialog:u,intentSource:d,pageID:f,shouldAutoPickUsername:E,shouldEnableShortFirstStep:I,shouldShowBirthdayStepInBaseForm:T,shouldShowBirthdayTransparency:b,shouldShowRedesignedSignup:D,style:S}),t[1]=n,t[2]=u,t[3]=d,t[4]=f,t[5]=E,t[6]=I,t[7]=T,t[8]=b,t[9]=D,t[10]=S,t[11]=V):V=t[11],V}else if(n===o("PolarisAuthActionConstants").AUTH.twoFactor){var H;return t[12]!==L||t[13]!==f||t[14]!==S?(H=p.jsx(q,{isPrivacyPortalReq:L,pageID:f,style:S}),t[12]=L,t[13]=f,t[14]=S,t[15]=H):H=t[15],H}else if(!A&&F&&!w&&(M==null?void 0:M.igSSODisabled)!==!0){var Q;return t[16]!==n||t[17]!==f||t[18]!==g?(Q=p.jsx(U,{authType:n,pageID:f,pageType:g}),t[16]=n,t[17]=f,t[18]=g,t[19]=Q):Q=t[19],Q}else if(!A&&o("PolarisOneTapLogin").isOneTapLoginEligible()&&n===o("PolarisAuthActionConstants").AUTH.oneTapLogin){var X;return t[20]!==n?(X=p.jsx(G,{authType:n}),t[20]=n,t[21]=X):X=t[21],X}else if(o("PolarisUA").isMobile()&&n===o("PolarisAuthActionConstants").AUTH.none){var Y;return t[22]!==f?(Y=p.jsx(j,{pageID:f}),t[22]=f,t[23]=Y):Y=t[23],Y}r("warning")(n===o("PolarisAuthActionConstants").AUTH.login||n===o("PolarisAuthActionConstants").AUTH.oneTapLogin||n===o("PolarisAuthActionConstants").AUTH.multiStepSignup,'Expected authType to be "login or oneTapLogin"; got "%s"',n);var J;return t[24]!==a||t[25]!==i||t[26]!==l||t[27]!==s||t[28]!==u||t[29]!==c||t[30]!==d||t[31]!==L||t[32]!==f||t[33]!==S||t[34]!==R?(J=p.jsx(K,{dialogSource:a,forceLoginIgId:i,forceLoginProfilePicUrl:l,forceLoginUsername:s,fromLoggedOutDialog:u,hideForgotPassword:c,intentSource:d,isPrivacyPortalReq:L,pageID:f,style:S,usernameHint:R}),t[24]=a,t[25]=i,t[26]=l,t[27]=s,t[28]=u,t[29]=c,t[30]=d,t[31]=L,t[32]=f,t[33]=S,t[34]=R,t[35]=J):J=t[35],J}function B(e){return e}function W(e){var t=o("react-compiler-runtime").c(14),n=e.authType,a=e.fromLoggedOutDialog,i=e.intentSource,l=e.pageID,s=e.shouldAutoPickUsername,u=e.shouldEnableShortFirstStep,c=e.shouldShowBirthdayStepInBaseForm,d=e.shouldShowBirthdayTransparency,m=e.shouldShowRedesignedSignup,_=e.style,f=s===void 0?!1:s,g=u===void 0?!1:u,h=c===void 0?!1:c,y=m===void 0?!1:m,C=S(a,i,l),b=x(),v=R(n),L=r("usePolarisCentralizedUpsellState")(),E=L[0],k=E.isProfileOrPostPage;if(v){var I;return t[0]===Symbol.for("react.memo_cache_sentinel")?(I=p.jsx(r("PolarisLoggedOutContentWallDialogAuthCTAs.react"),{}),t[0]=I):I=t[0],I}var T;t[1]!==k||t[2]!==l||t[3]!==b||t[4]!==f||t[5]!==g||t[6]!==h||t[7]!==d||t[8]!==y||t[9]!==_?(T=p.jsx(r("PolarisSignupForm.react"),{hideHeader:k,pageIdentifier:l,requestInFlight:b,shouldAutoPickUsername:f,shouldEnableShortFirstStep:g,shouldShowBirthdayStepInBaseForm:h,shouldShowBirthdayTransparency:d,shouldShowRedesignedSignup:y,style:_}),t[1]=k,t[2]=l,t[3]=b,t[4]=f,t[5]=g,t[6]=h,t[7]=d,t[8]=y,t[9]=_,t[10]=T):T=t[10];var D;return t[11]!==C||t[12]!==T?(D=p.jsx("div",{ref:C,children:T}),t[11]=C,t[12]=T,t[13]=D):D=t[13],D}function q(e){var t=o("react-compiler-runtime").c(6),n=e.isPrivacyPortalReq,a=e.pageID,i=e.style,l=n===void 0?!1:n,s=T(),u=x(),c=s||"",d;return t[0]!==l||t[1]!==a||t[2]!==u||t[3]!==i||t[4]!==c?(d=p.jsx(r("PolarisTwoFactorForm.react"),{errorMessage:c,isPrivacyPortalReq:l,pageIdentifier:a,requestInFlight:u,style:i}),t[0]=l,t[1]=a,t[2]=u,t[3]=i,t[4]=c,t[5]=d):d=t[5],d}function U(e){var t=o("react-compiler-runtime").c(31),n=e.authType,a=e.pageID,i=e.pageType,l=o("PolarisReactRedux.react").useSelector(H),s=l.auth,u=l.fb,c=s.login,d=u.status,m=o("PolarisReactRedux.react").useDispatch(),_=k(),f=T(),g=P(),h=x(),y=L(n),C;if(t[0]!==(_==null?void 0:_.linkedIGProfiles)){var b;C=(b=_==null?void 0:_.linkedIGProfiles)!=null?b:[],t[0]=_==null?void 0:_.linkedIGProfiles,t[1]=C}else C=t[1];var v=C,S;t[2]!==m||t[3]!==a?(S=function(t){t!=null?(o("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("login_with_fb","auth_form",a),m(o("PolarisLoginActionLoginWithFBJSSDK").loginWithFBJSSDK({pageID:a,source:a},t))):(o("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("fb_connect","auth_form",a),o("PolarisFBConnectHelpers").redirectToFBOAuth("/",a).catch(V))},t[2]=m,t[3]=a,t[4]=S):S=t[4];var R=S,E=!!_&&o("PolarisFBConnectHelpers").isFBCUnique(_.username),I=v.length<=1,D=o("PolarisQueryParams").getShouldRefreshFBCookie();if(o("PolarisOneTapLogin").isOneTapLoginEligible()&&n!==o("PolarisAuthActionConstants").AUTH.fbAccountPicker&&(!D||I)){var $;t[5]===Symbol.for("react.memo_cache_sentinel")?($=o("PolarisOneTapLoginStorage").getLoginNonces(),t[5]=$):$=t[5];var N=$;if(Object.values(N).length>=1||E){var M=E&&I?_:null,w=E&&I?R:void 0,A=!y,F;return t[6]!==M||t[7]!==w||t[8]!==A?(F=p.jsx(r("PolarisOneTapLoginForm.react"),{fbConnectedUser:M,loginNonces:N,onRequestFBLogin:w,showSingleAccountProfilePicture:A}),t[6]=M,t[7]=w,t[8]=A,t[9]=F):F=t[9],F}}else if(v.length>1&&E){var O;t[10]!==(c==null?void 0:c.deletionNonce)||t[11]!==m||t[12]!==a?(O=function(t){m(o("PolarisLoginActionLoginWithFBAccessToken").loginWithFBAccessToken({pageID:a,skipped:!1,source:"fbSignupPage"},t,c==null?void 0:c.deletionNonce))},t[10]=c==null?void 0:c.deletionNonce,t[11]=m,t[12]=a,t[13]=O):O=t[13];var B=O,W;return t[14]!==v||t[15]!==B?(W=p.jsx(r("PolarisFacebookAccountPicker.react"),{fbConnectedIgProfiles:v,onRequestFBLogin:B}),t[14]=v,t[15]=B,t[16]=W):W=t[16],W}var q;t[17]!==d||t[18]!==g?(q=function(t){o("PolarisLoginLogger").logLoginEvent({event_name:"fb_switch_accounts_click",fbconnect_status:d}),g(t)},t[17]=d,t[18]=g,t[19]=q):q=t[19];var U=q,G;t[20]!==_?(G=r("nullthrows")(_),t[20]=_,t[21]=G):G=t[21];var z=i!=null?i:void 0,j;return t[22]!==d||t[23]!==U||t[24]!==f||t[25]!==R||t[26]!==a||t[27]!==h||t[28]!==G||t[29]!==z?(j=p.jsx(r("PolarisFacebookLoginForm.react"),{accountInfo:G,errorMessage:f,fbConnectStatus:d,onRequestLogin:R,onSwitchAccountsClick:U,pageID:a,pageType:z,requestInFlight:h}),t[22]=d,t[23]=U,t[24]=f,t[25]=R,t[26]=a,t[27]=h,t[28]=G,t[29]=z,t[30]=j):j=t[30],j}function V(e){return r("FBLogger")("ig_web").catching(e).mustfix("unexpected")}function H(e){return e}function G(e){var t=o("react-compiler-runtime").c(3),n=e.authType,a=L(n),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=o("PolarisOneTapLoginStorage").getLoginNonces(),t[0]=i):i=t[0];var l=!a,s;return t[1]!==l?(s=p.jsx(r("PolarisOneTapLoginForm.react"),{loginNonces:i,showSingleAccountProfilePicture:l}),t[1]=l,t[2]=s):s=t[2],s}function z(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=p.jsx(r("PolarisFBConnectV2LoginForm.react"),{}),e[0]=t):t=e[0],t}function j(e){var t=o("react-compiler-runtime").c(4),n=e.pageID,a;t[0]!==n?(a={onImpressionStart:function(){o("PolarisLoggedOutCtaImpressionLogger").logLoggedOutCtaImpressionEvent("full_page",n)}},t[0]=n,t[1]=a):a=t[1];var i=r("useSinglePartialViewImpression")(a),l;return t[2]!==i?(l=p.jsx(r("PolarisLandingForm.react"),{ref:i}),t[2]=i,t[3]=l):l=t[3],l}function K(e){var t=o("react-compiler-runtime").c(48),n=e.dialogSource,a=e.forceLoginIgId,i=e.forceLoginProfilePicUrl,l=e.forceLoginUsername,s=e.fromLoggedOutDialog,u=e.hideForgotPassword,c=e.intentSource,d=e.isPrivacyPortalReq,m=e.pageID,_=e.style,f=e.usernameHint,y=d===void 0?!1:d,C=o("PolarisReactRedux.react").useSelector(Q),b=C.auth,v=C.fb,R=b.isFBLoggedIn,L=b.login,E=b.next,I=v.status,D=o("PolarisReactRedux.react").useDispatch(),$=P(),M=S(s,c,m),w=N(),A=k(),F=L&&L.source==="follow"?h:"",O=T(),B=x(),W=L&&L.wasPasswordJustReset?g:"",q;t[0]!==D||t[1]!==s||t[2]!==y||t[3]!==m?(q=function(t,n,r){D(o("PolarisLoginActionLogin").login(t,n,{source:m},r,!1,null,s,y))},t[0]=D,t[1]=s,t[2]=y,t[3]=m,t[4]=q):q=t[4];var U=q,V;t[5]!==D?(V=function(t){D(o("PolarisFBConnectActions").setShowSSODisabledModal(t))},t[5]=D,t[6]=V):V=t[6];var H=V,G;t[7]!==D||t[8]!==s||t[9]!==m?(G=function(t,n,r,a){D(o("PolarisLoginActionLogin").login(t,n,{source:m},r,!1,a,s))},t[7]=D,t[8]=s,t[9]=m,t[10]=G):G=t[10];var z=G,j;t[11]!==D?(j=function(){D(o("PolarisLoginActionClearStopDeletionNonce").clearStopDeletionNonce())},t[11]=D,t[12]=j):j=t[12];var K=j,X;t[13]!==(A==null?void 0:A.igSSODisabled)||t[14]!==(A==null?void 0:A.linkedIGProfiles)||t[15]!==(A==null?void 0:A.username)||t[16]!==H||t[17]!==$?(X=function(){var e,t=(e=A==null?void 0:A.linkedIGProfiles)!=null?e:[];(A==null?void 0:A.igSSODisabled)===!0?($(o("PolarisAuthActionConstants").AUTH.login),H(A==null?void 0:A.username)):t.length>1?$(o("PolarisAuthActionConstants").AUTH.fbAccountPicker):$(o("PolarisAuthActionConstants").AUTH.fbLogin)},t[13]=A==null?void 0:A.igSSODisabled,t[14]=A==null?void 0:A.linkedIGProfiles,t[15]=A==null?void 0:A.username,t[16]=H,t[17]=$,t[18]=X):X=t[18];var Y=X,J;t[19]===Symbol.for("react.memo_cache_sentinel")?(J={className:"xod5an3 x1dc814f xh8yej3"},t[19]=J):J=t[19];var Z;t[20]===Symbol.for("react.memo_cache_sentinel")?(Z=r("polarisIsEligibleForFacebookLogin")(),t[20]=Z):Z=t[20];var ee=!!R,te=(A==null?void 0:A.igSSODisabled)===!0,ne=L==null?void 0:L.deletionDate,re=L==null?void 0:L.deletionNonce,oe=f!=null?f:void 0,ae;t[21]!==n||t[22]!==I||t[23]!==a||t[24]!==i||t[25]!==l||t[26]!==s||t[27]!==Y||t[28]!==u||t[29]!==F||t[30]!==w||t[31]!==O||t[32]!==E||t[33]!==K||t[34]!==U||t[35]!==z||t[36]!==B||t[37]!==_||t[38]!==W||t[39]!==ee||t[40]!==te||t[41]!==ne||t[42]!==re||t[43]!==oe?(ae=p.jsx(r("PolarisSlimLoginForm.react"),{dialogSource:n,errorMessage:O,fbConnectStatus:I,forceLoginIgId:a,forceLoginProfilePicUrl:i,forceLoginUsername:l,fromLoggedOutDialog:s,hideFBLogin:!Z,hideForgotPassword:u,infoMessage:F,isFBLoggedIn:ee,isIGSSODisabled:te,isThreadsRequest:w,nextUrl:E,onClearStopDeletionNonce:K,onLoginWithFBClick:Y,onStopAccountDeletion:z,onSubmit:U,requestInFlight:B,stopDeletionDate:ne,stopDeletionNonce:re,style:_,successMessage:W,usernameHint:oe}),t[21]=n,t[22]=I,t[23]=a,t[24]=i,t[25]=l,t[26]=s,t[27]=Y,t[28]=u,t[29]=F,t[30]=w,t[31]=O,t[32]=E,t[33]=K,t[34]=U,t[35]=z,t[36]=B,t[37]=_,t[38]=W,t[39]=ee,t[40]=te,t[41]=ne,t[42]=re,t[43]=oe,t[44]=ae):ae=t[44];var ie;return t[45]!==M||t[46]!==ae?(ie=p.jsx("div",babelHelpers.extends({},J,{ref:M,children:ae})),t[45]=M,t[46]=ae,t[47]=ie):ie=t[47],ie}function Q(e){return e}function X(e){var t=o("react-compiler-runtime").c(9),n=e.authType,a=e.pageID,i=e.shouldShowRedesignedSignup,l=o("PolarisReactRedux.react").useSelector(Y),s=l.auth,u=s.signup,c=L(n),d=r("usePolarisCentralizedUpsellState")(),m=d[0],_=m.isProfileOrPostPage,f=m.lastViewedOwnerID,g;t[0]!==_||t[1]!==f?(g=function(t){var e;return _&&f!=null?(e=o("polarisUserSelectors").maybeGetUserById(t,f))!=null?e:{}:{}},t[0]=_,t[1]=f,t[2]=g):g=t[2];var h=o("PolarisReactRedux.react").useSelector(g),y=!c&&o("PolarisUA").isDesktop()&&n===o("PolarisAuthActionConstants").AUTH.signup?(u==null?void 0:u.step)===o("PolarisSignupTypes").STEP.base:!0;if(c&&(h==null?void 0:h.username)!=null){var C;return t[3]!==a||t[4]!==h?(C=p.jsx(ee,{pageID:a,user:h}),t[3]=a,t[4]=h,t[5]=C):C=t[5],C}else if(y){var b;return t[6]!==n||t[7]!==i?(b=p.jsx(J,{authType:n,shouldShowRedesignedSignup:i}),t[6]=n,t[7]=i,t[8]=b):b=t[8],b}return null}function Y(e){return e}function J(e){var t=o("react-compiler-runtime").c(8),n=e.authType,a=e.shouldShowRedesignedSignup,i=N(),l=n===o("PolarisAuthActionConstants").AUTH.fbConnectV2?2:3,u=n===o("PolarisAuthActionConstants").AUTH.fbConnectV2||a===!0?2:9,d;t[0]!==n||t[1]!==i||t[2]!==a?(d=i?p.jsx(r("PolarisBarcelonaAppSVGIcon.react"),{fill:"var(--barcelona-logo)",size:34}):n===o("PolarisAuthActionConstants").AUTH.twoFactor?p.jsx(r("IGCoreImage.react"),{alt:y,src:{light:c("222729")}}):a===!0?p.jsx(r("IGDSIgLogoFilledIcon.react"),{alt:s._(/*BTDS*/"Instagram"),size:50}):p.jsx(r("IGCoreImage.react"),{alt:s._(/*BTDS*/"Instagram"),src:{dark:c("222731"),light:c("222730")}}),t[0]=n,t[1]=i,t[2]=a,t[3]=d):d=t[3];var m;return t[4]!==l||t[5]!==u||t[6]!==d?(m=p.jsx(r("IGDSBox.react"),{marginBottom:l,marginTop:u,position:"relative",children:d}),t[4]=l,t[5]=u,t[6]=d,t[7]=m):m=t[7],m}var Z={container:{borderTopColor:"x1yhmmig",borderInlineEndColor:"xpcrz0c",borderBottomColor:"xyb01ml",borderInlineStartColor:"x1vpptxl",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xmn4e3e",borderInlineEndWidth:"x1if355w",borderBottomWidth:"x2x41l1",borderInlineStartWidth:"xct1zlm",position:"x1n2onr6",$$css:!0}};function ee(e){var t,n,a,i,l=o("react-compiler-runtime").c(15),s=e.pageID,u=e.user,c=u.fullName,d=u.profilePictureUrl,m=u.username,_=r("nullthrows")(m),f=o("PolarisReactRedux.react").useSelector(te),g=f.sharerInformation,h=o("PolarisSenderNameHelpers").shouldShowSenderName(s),y=g!=null&&h?o("PolarisLoggedOutUpsellStrings").seePhotosFromFullNameBodyText((t=g.fullName)!=null?t:g.username):o("PolarisLoggedOutUpsellStrings").seePhotosFromFullNameBodyText(c!=null?c:_),C=g!=null&&h?o("PolarisLoggedOutUpsellStrings").joinSharerHeaderText((n=g.fullName)!=null?n:g.username):o("PolarisLoggedOutUpsellStrings").getSeeMoreFrom(_),b=g!=null&&h&&(a=g.profilePicUrl)!=null?a:d,v;l[0]!==y||l[1]!==C||l[2]!==b?(v={body:y,header:C,sharerProfilePictureUrl:b},l[0]=y,l[1]=C,l[2]=b,l[3]=v):v=l[3];var S=v,R=S.body,L=S.header,E=S.sharerProfilePictureUrl,k=E!=null?E:d,I=(i=g==null?void 0:g.username)!=null?i:_,T;l[4]!==k||l[5]!==I?(T=p.jsx(r("IGDSBox.react"),{height:104,justifyContent:"center",marginBottom:4,marginTop:8,shape:"circle",width:104,xstyle:Z.container,children:p.jsx(r("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:k,size:96,username:I})}),l[4]=k,l[5]=I,l[6]=T):T=l[6];var D;l[7]!==L?(D=p.jsx(r("IGDSBox.react"),{marginBottom:5,width:"100%",children:p.jsx(r("IGDSText.react"),{color:"primaryText",size:"title",textAlign:"center",weight:"semibold",zeroMargin:!1,children:L})}),l[7]=L,l[8]=D):D=l[8];var x;l[9]!==R?(x=p.jsx(r("IGDSBox.react"),{paddingX:10,children:p.jsx(o("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",children:R})}),l[9]=R,l[10]=x):x=l[10];var $;return l[11]!==T||l[12]!==D||l[13]!==x?($=p.jsxs(r("IGDSBox.react"),{alignItems:"center",marginBottom:4,children:[T,D,x]}),l[11]=T,l[12]=D,l[13]=x,l[14]=$):$=l[14],$}function te(e){return e.upsell}function ne(e){var t,n=o("react-compiler-runtime").c(3),a=e.pageID,i=e.showNetzDGReportLink;if(i!==!0||!o("PolarisConfig").isLoggedOutFRXEligible())return null;var l=(t=o("InstagramQueryParamsHelper").getQueryParams(window.location.search))==null?void 0:t.next,s=l!=null?""+window.location.origin+l:a==="StoriesPage"?window.location.href:null,u;n[0]===Symbol.for("react.memo_cache_sentinel")?(u=o("PolarisUA").isMobile()&&p.jsx(r("IGDSBox.react"),{marginBottom:6,position:"relative",children:p.jsx(r("IGDSDivider.react"),{})}),n[0]=u):u=n[0];var c;return n[1]!==s?(c=p.jsxs(r("IGDSBox.react"),{marginEnd:o("PolarisUA").isMobile()?1:0,marginStart:o("PolarisUA").isMobile()?1:0,paddingX:o("PolarisUA").isMobile()?12:8,paddingY:o("PolarisUA").isMobile()?8:4,position:"relative",children:[u,p.jsx(r("PolarisLoggedOutNetzDGReportLink.react"),{reportedUrlOrContentId:s,textSize:"footnote"})]}),n[1]=s,n[2]=c):c=n[2],c}function re(){var e=o("react-compiler-runtime").c(3),t=o("CometRouteParams").useCometRefinedRouteParams(o("XPolarisLoginControllerParamsRefineValidator").refineXPolarisLoginControllerParams),n=t==null?void 0:t.logged_out_reporting_url;if(n==null)return null;var a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=o("PolarisUA").isMobile()&&p.jsx(r("IGDSBox.react"),{marginBottom:6,position:"relative",width:"100%",children:p.jsx(r("IGDSDivider.react"),{})}),e[0]=a):a=e[0];var i;return e[1]!==n?(i=p.jsxs(r("IGDSBox.react"),{marginEnd:o("PolarisUA").isMobile()?1:0,marginStart:o("PolarisUA").isMobile()?1:0,paddingX:o("PolarisUA").isMobile()?12:8,paddingY:o("PolarisUA").isMobile()?8:4,position:"relative",children:[a,p.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",zeroMargin:!1,children:p.jsx(r("PolarisExternalLink.react"),{href:n,children:f})})]}),e[1]=n,e[2]=i):i=e[2],i}function oe(e){var t,n=o("react-compiler-runtime").c(22),a=e.authType,i=e.forceLoginIgId,l=e.fromLoggedOutDialog,s=e.hideAppUpsells,u=e.hideBorder,c=e.loggedInFBUser,d=e.pageId,m=e.pageType,_=e.style,f=o("PolarisReactRedux.react").useSelector(ie),g=f.auth,h=f.navigation,y=g.isFBLoggedIn,C=h.isAccountSwitcherOpen,b=N(),v=R(a),S=k(),L=i!=null,E=(t=S==null?void 0:S.linkedIGProfiles)!=null?t:[],I=(a===o("PolarisAuthActionConstants").AUTH.fbLogin||a===o("PolarisAuthActionConstants").AUTH.fbAccountPicker)&&y===!0&&!!S,T=function(){var e=E.length>1,t=!L&&I&&e;return!b&&o("PolarisUA").isDesktop()&&!o("PolarisQueryParams").hasForceAuthenticationParam()&&(!(a===o("PolarisAuthActionConstants").AUTH.fbLogin&&!o("PolarisOneTapLogin").isOneTapLoginEligible())||t)&&!v};if(!T()||C)return null;var D=ae,x;n[0]!==s?(x=!(s==null||s)&&!o("PolarisStrategicWebTraffic").isStrategicTraffic(),n[0]=s,n[1]=x):x=n[1];var $=x,P;n[2]!==a||n[3]!==u||n[4]!==_?(P={0:{className:"x6s0dn4 xvbhtw8 x1pmru9 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x13fuv20 x1qgpocp x18b5jzi xa0kie1 x1q0q8m5 xxrrrr8 x1t7ytsu x141z70w x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp x1lziwak xyorhqc xzboxd6 x889kno xyri2b x1a8lsjc x1c1uobl x1n2onr6 x11njtxf"},4:{className:"x6s0dn4 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x13fuv20 x1qgpocp x18b5jzi xa0kie1 x1q0q8m5 xxrrrr8 x1t7ytsu x141z70w x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp x1lziwak xyorhqc xzboxd6 x889kno xyri2b x1a8lsjc x1c1uobl x1n2onr6 x11njtxf x7r02ix"},2:{className:"x6s0dn4 xvbhtw8 x1pmru9 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp x1lziwak xyorhqc xzboxd6 x889kno xyri2b x1a8lsjc x1c1uobl x1n2onr6 x11njtxf x1ejq31n x18oe1m7 x1sy0etr xstzfhl x972fbf x10w94by x1qhh985 x14e42zd"},6:{className:"x6s0dn4 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp x1lziwak xyorhqc xzboxd6 x889kno xyri2b x1a8lsjc x1c1uobl x1n2onr6 x11njtxf x7r02ix x1ejq31n x18oe1m7 x1sy0etr xstzfhl x972fbf x10w94by x1qhh985 x14e42zd"},1:{className:"x6s0dn4 xvbhtw8 x1pmru9 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x13fuv20 x1qgpocp x18b5jzi xa0kie1 x1q0q8m5 xxrrrr8 x1t7ytsu x141z70w x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu x1n2onr6 x11njtxf xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl"},5:{className:"x6s0dn4 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x13fuv20 x1qgpocp x18b5jzi xa0kie1 x1q0q8m5 xxrrrr8 x1t7ytsu x141z70w x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu x1n2onr6 x11njtxf x7r02ix xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl"},3:{className:"x6s0dn4 xvbhtw8 x1pmru9 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu x1n2onr6 x11njtxf x1ejq31n x18oe1m7 x1sy0etr xstzfhl x972fbf x10w94by x1qhh985 x14e42zd xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl"},7:{className:"x6s0dn4 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu x1n2onr6 x11njtxf x7r02ix x1ejq31n x18oe1m7 x1sy0etr xstzfhl x972fbf x10w94by x1qhh985 x14e42zd xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl"}}[(_==="modal")<<2|(u===!0)<<1|(a===o("PolarisAuthActionConstants").AUTH.fbConnectV2&&_!=="modal")<<0],n[2]=a,n[3]=u,n[4]=_,n[5]=P):P=n[5];var M;n[6]!==a?(M={0:"x5n08af x1f6kntn xcxhlts xjx09e3 x1fqp7bg xx6jrq6 x2b8uid",1:"x1f6kntn xcxhlts xjx09e3 x1fqp7bg xx6jrq6 x2b8uid x1roi4f4"}[(a===o("PolarisAuthActionConstants").AUTH.oneTapLogin)<<0],n[6]=a,n[7]=M):M=n[7];var w=m!=null?m:void 0,A;n[8]!==l||n[9]!==c||n[10]!==M||n[11]!==w?(A=p.jsx(r("PolarisAuthTypeSwitcher.react"),{className:M,fromLoggedOutDialog:l,loggedInFBUser:c,onNavigate:D,pageType:w,primary:!0}),n[8]=l,n[9]=c,n[10]=M,n[11]=w,n[12]=A):A=n[12];var F;n[13]!==P||n[14]!==A?(F=p.jsx("div",babelHelpers.extends({},P,{children:A})),n[13]=P,n[14]=A,n[15]=F):F=n[15];var O;n[16]!==$||n[17]!==d?(O=$?p.jsx(r("PolarisAppsellUnit.react"),{appInstallCampaign:d,ctaTypeV2:"auth_form"}):null,n[16]=$,n[17]=d,n[18]=O):O=n[18];var B;return n[19]!==F||n[20]!==O?(B=p.jsxs(p.Fragment,{children:[F,O]}),n[19]=F,n[20]=O,n[21]=B):B=n[21],B}function ae(e){r("PolarisLoginQPL").isActive()&&e==="signup"&&r("PolarisLoginQPL").endCancelNavigateToSignup()}function ie(e){return e}l.default=b}),226);
__d("PolarisLiveCreationModalLazy.react",["CometPlaceholder.react","IGCoreModal.react","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","PolarisSizing","lazyLoadComponent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("lazyLoadComponent")(r("JSResourceForInteraction")("PolarisLiveCreationModal.react").__setRef("PolarisLiveCreationModalLazy.react"));function c(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(r("IGCoreModal.react"),{backdropColor:"dark",children:s.jsx(r("IGDSBox.react"),{alignItems:"center",height:112,justifyContent:"center",maxWidth:o("PolarisSizing").FEED_WIDTH_WIDE,position:"relative",width:"100%",children:s.jsx(r("IGDSSpinner.react"),{size:"medium"})})}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("CometPlaceholder.react"),{fallback:n,name:i.id,children:s.jsx(u,babelHelpers.extends({},e))}),t[1]=e,t[2]=a):a=t[2],a}l.default=c}),98);
__d("PolarisMobilePostLoginUpsell.react",["fbt","ix","BaseModal.react","IGCoreImage.react","IGDSBox.react","IGDSButton.react","IGDSText.react","PolarisAppInstallStrings","qex","react","react-compiler-runtime","usePolarisOpenApp"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d={mobilePostLogin:{bottom:"x1ey2m1c",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,position:"xixxii4",top:"x13vifvy",$$css:!0}},m=s._(/*BTDS*/"Taking a break from the app?"),p=s._(/*BTDS*/"Jump back in when you're ready with notification controls and screen time limits that work for you."),_=s._(/*BTDS*/"Set controls for your app experience"),f=s._(/*BTDS*/"Adjust screen time limits and notification controls so that you can keep up without the distractions."),g=s._(/*BTDS*/"Get a better experience in the app"),h=s._(/*BTDS*/"Take breaks with screen time limits and notification controls \u2013 only available in the app.");function y(e){var t=o("react-compiler-runtime").c(12),n=e.handleContinueBrowserClick,a=r("usePolarisOpenApp")(),i;if(t[0]===Symbol.for("react.memo_cache_sentinel")){var l,y=(l=r("qex")._("4280"))!=null?l:"A";i=function(){return y==="A"?{description:p,title:m}:y==="B"?{description:f,title:_}:y==="C"?{description:h,title:g}:void 0},t[0]=i}else i=t[0];var C=i,b;t[1]===Symbol.for("react.memo_cache_sentinel")?(b=c.jsx(r("IGCoreImage.react"),{alt:"Instagram splash glyph Icon",src:{light:u("879111")}}),t[1]=b):b=t[1];var v;if(t[2]===Symbol.for("react.memo_cache_sentinel")){var S;v=c.jsx(r("IGDSText.react"),{color:"webAlwaysBlack",size:"headline1",textAlign:"center",weight:"semibold",zeroMargin:!0,children:(S=C())==null?void 0:S.title}),t[2]=v}else v=t[2];var R;if(t[3]===Symbol.for("react.memo_cache_sentinel")){var L;R=c.jsxs(r("IGDSBox.react"),{rowGap:2,children:[v,c.jsx(r("IGDSText.react"),{color:"webAlwaysBlack",textAlign:"center",zeroMargin:!0,children:(L=C())==null?void 0:L.description})]}),t[3]=R}else R=t[3];var E;t[4]!==a?(E=c.jsx(r("IGDSButton.react"),{fullWidth:!0,label:o("PolarisAppInstallStrings").OPEN_APP,onClick:function(){return a()},size:"large"}),t[4]=a,t[5]=E):E=t[5];var k;t[6]===Symbol.for("react.memo_cache_sentinel")?(k=s._(/*BTDS*/"Continue in browser"),t[6]=k):k=t[6];var I;t[7]!==n?(I=c.jsx(r("IGDSButton.react"),{display:"block",label:k,onClick:n,variant:"primary_link"}),t[7]=n,t[8]=I):I=t[8];var T;return t[9]!==E||t[10]!==I?(T=c.jsx(r("BaseModal.react"),{stackingBehavior:"above-everything",children:c.jsx(r("IGDSBox.react"),{alignItems:"center",color:"alwaysWhite",height:"100%",justifyContent:"center",width:"100%",xstyle:d.mobilePostLogin,children:c.jsxs(r("IGDSBox.react"),{alignItems:"center",rowGap:6,width:320,children:[b,R,c.jsxs(r("IGDSBox.react"),{rowGap:4,width:"100%",children:[E,I]})]})})}),t[9]=E,t[10]=I,t[11]=T):T=t[11],T}l.default=y}),226);
__d("PolarisSwitchAccountsModalLazy.react",["CometPlaceholder.react","IGCoreModal.react","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("lazyLoadComponent")(r("JSResourceForInteraction")("PolarisSwitchAccountsModal.react").__setRef("PolarisSwitchAccountsModalLazy.react"));function c(){var e=o("react-compiler-runtime").c(2),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(r("IGCoreModal.react"),{children:s.jsx(r("IGDSBox.react"),{alignItems:"center",height:112,justifyContent:"center",position:"relative",width:"100%",children:s.jsx(r("IGDSSpinner.react"),{size:"medium"})})}),e[0]=t):t=e[0];var n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(r("CometPlaceholder.react"),{fallback:t,name:i.id,children:s.jsx(u,{})}),e[1]=n):n=e[1],n}l.default=c}),98);
__d("PolarisXESwitcherUtil",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("4847")===!0}function s(){return r("qex")._("4848")===!0}l.shouldEnableIGWebXMDSSwitcher=e,l.shouldEnableIGWebXMDSSwitcherTitle=s}),98);
__d("PolarisSwitchAccountsUtil",["$InternalEnum","IGDSBox.react","PolarisAuthFormCard.react","PolarisFBConnectHelpers","PolarisOneTapLoginStorage","PolarisReactRedux.react","react","react-compiler-runtime","usePolarisViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=n("$InternalEnum")({CURRENT:"current",ONE_TAP:"one_tap",FB_CONNECTED:"fb_connected",IG_CONNECTED:"ig_connected"}),c="accountSwitcherModal",d="XE_SWITCHER_ACCOUNT_EMPTY_ID";function m(){var e,t,n,a=o("react-compiler-runtime").c(9),i=r("usePolarisViewer")(),l=g(),s=l.fbConnectedUsers,c=l.igConnectedUsers,d=l.oneTapUserIds;if(!i){var m;return a[0]===Symbol.for("react.memo_cache_sentinel")?(m=[],a[0]=m):m=a[0],m}var h=(e=i.id)!=null?e:"",y=(t=i.profilePictureUrl)!=null?t:"",C=(n=i.username)!=null?n:"";if(h===""||y===""||C===""){var b;return a[1]===Symbol.for("react.memo_cache_sentinel")?(b=[],a[1]=b):b=a[1],b}var v;if(a[2]!==y||a[3]!==h||a[4]!==C||a[5]!==s||a[6]!==c||a[7]!==d){var S,R,L,E={profilePicUrl:y,source:u.CURRENT,userId:h,username:C};v=[E];var k=o("PolarisOneTapLoginStorage").getLoginNonces(),I=s==null?void 0:s.map(_);(S=v).push.apply(S,I);var T=d==null?void 0:d.map(function(e){var t=k[e],n=t.profilePicUrl,r=t.username;return{profilePicUrl:n,source:u.ONE_TAP,userId:e,username:r}}).filter(function(e){return!f(e,I)});(R=v).push.apply(R,T);var D=c==null?void 0:c.map(p).filter(function(e){return!f(e,T)&&!f(e,I)});(L=v).push.apply(L,D),a[2]=y,a[3]=h,a[4]=C,a[5]=s,a[6]=c,a[7]=d,a[8]=v}else v=a[8];return v}function p(e){return{profilePicUrl:e.profilePictureUrl,source:u.IG_CONNECTED,userId:d,username:e.username}}function _(e){return{profilePicUrl:e.profilePictureUrl,source:u.FB_CONNECTED,userId:d,username:e.username}}function f(e,t){return t.some(function(t){return e.username===t.username})}function g(){var e,t,n,a,i=o("react-compiler-runtime").c(7),l=r("usePolarisViewer")(),s=(e=(t=o("PolarisReactRedux.react").useSelector(y))==null?void 0:t.filter(function(e){return e.username!==(l==null?void 0:l.username)&&o("PolarisFBConnectHelpers").isFBCUnique(e.username)}))!=null?e:[],u=(n=(a=o("PolarisReactRedux.react").useSelector(h))==null?void 0:a.filter(function(e){return e.username!==(l==null?void 0:l.username)&&o("PolarisFBConnectHelpers").isFBCUnique(e.username)&&(!s||!s.some(function(t){return t.username===e.username}))}))!=null?n:[],c;if(i[0]===Symbol.for("react.memo_cache_sentinel")){var d=o("PolarisOneTapLoginStorage").getLoginNonces();c=Object.keys(d),i[0]=c}else c=i[0];var m;i[1]!==(l==null?void 0:l.id)?(m=c.filter(function(e){return e!==(l==null?void 0:l.id)}),i[1]=l==null?void 0:l.id,i[2]=m):m=i[2];var p=m,_;return i[3]!==s||i[4]!==u||i[5]!==p?(_={fbConnectedUsers:s,igConnectedUsers:u,oneTapUserIds:p},i[3]=s,i[4]=u,i[5]=p,i[6]=_):_=i[6],_}function h(e){return e.fxSSO.igProfiles}function y(e){return e.fb.igProfiles}function C(){return s.jsx(r("IGDSBox.react"),{alignItems:"center",maxHeight:800,overflow:"auto",position:"relative",children:s.jsx(r("PolarisAuthFormCard.react"),{hideAppUpsells:!0,hideBorder:!0,pageIdentifier:c,style:"modal",useMobileFooterPadding:!1})})}C.displayName=C.name+" [from "+i.id+"]",l.XESwitcherAccountSource=u,l.XE_SWITCHER_ACCOUNT_EMPTY_ID=d,l.useXESwitcherIgAccounts=m,l.useIgSwitcherAccounts=g,l.getSwitcherLoginForm=C}),98);
__d("PolarisXESwitcherDialogQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24200373556213830"}),null);
__d("PolarisXESwitcherDialogQuery$Parameters",["PolarisXESwitcherDialogQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("PolarisXESwitcherDialogQuery_instagramRelayOperation"),metadata:{},name:"PolarisXESwitcherDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("PolarisXESwitcherDialog.entrypoint",["JSResourceForInteraction","PolarisXESwitcherDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{polarisXESwitcherDialogQuery:{parameters:r("PolarisXESwitcherDialogQuery$Parameters"),variables:{accounts:t.routeParams.accounts}}}}},root:r("JSResourceForInteraction")("PolarisXESwitcherDialog.react").__setRef("PolarisXESwitcherDialog.entrypoint")};l.default=e}),98);
__d("usePolarisXESwitcherDialog",["PolarisSwitchAccountsUtil","PolarisXESwitcherDialog.entrypoint","react","react-compiler-runtime","useCometEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(9),t=o("PolarisSwitchAccountsUtil").useXESwitcherIgAccounts(),n;e[0]!==t?(n=t.map(c),e[0]=t,e[1]=n):n=e[1];var a;e[2]!==n?(a={accounts:n},e[2]=n,e[3]=a):a=e[3];var i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i={},e[4]=i):i=e[4];var l;e[5]!==a?(l={routeParams:a,routeProps:i},e[5]=a,e[6]=l):l=e[6];var s=r("useCometEntryPointDialog")(r("PolarisXESwitcherDialog.entrypoint"),l),u=s[0],d;return e[7]!==u?(d=function(){return u({})},e[7]=u,e[8]=d):d=e[8],d}function c(e){return{badge_count_message:e.badgeCountMessage,profile_pic_url:e.profilePicUrl,user_id:e.userId,username:e.username}}l.default=u}),98);
__d("PolarisGlobalUIComponents.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRouteURL","IGWebPreCallProvider.react","PolarisAppStoreLauncher.react","PolarisCallGatingHelpers","PolarisConfig","PolarisIsLiveProducerEnabled","PolarisIsLoggedIn","PolarisLiveCreationModalLazy.react","PolarisMobilePostLoginUpsell.react","PolarisOneTapLogin","PolarisQPConstants","PolarisReactRedux.react","PolarisSwitchAccountsModalLazy.react","PolarisToastWrapper.react","PolarisUA","PolarisXESwitcherUtil","cr:1609","cr:3106","cr:4779","cr:4839","cr:7274","cr:8738","cr:9681","polarisNavigationSelectors","qex","react","react-compiler-runtime","usePolarisXESwitcherDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState;function c(e){var t=o("react-compiler-runtime").c(36),a=e.hasMobileNavs,l=e.pageIdentifier,c=e.viewer,p=o("PolarisReactRedux.react").useSelector(o("polarisNavigationSelectors").getHideNavQueryParam),_=o("PolarisReactRedux.react").useSelector(m),f=_.isAccountSwitcherOpen,g=_.isLiveCreationModalOpen,h;t[0]===Symbol.for("react.memo_cache_sentinel")?(h=o("PolarisUA").isMobile()&&o("PolarisOneTapLogin").isCAASpiDialogEligible(),t[0]=h):h=t[0];var y=h,C;t[1]===Symbol.for("react.memo_cache_sentinel")?(C=r("qex")._("4280"),t[1]=C):C=t[1];var b=C,v=b!==null&&b!=="",S=o("CometRouteURL").useRouteURL(),R=S!=="/activate",L;if(t[2]!==S){var E=["/b/","/ad_tools/"];L=!E.some(function(e){return S.startsWith(e)})&&r("qex")._("4106")===!1,t[2]=S,t[3]=L}else L=t[3];var k=L,I=u(y&&v&&R&&k),T=I[0],D=I[1],x;t[4]!==g?(x=!o("PolarisUA").isMobile()&&g&&o("PolarisIsLiveProducerEnabled").isLiveProducerEnabled()?s.jsx(r("PolarisLiveCreationModalLazy.react"),{}):null,t[4]=g,t[5]=x):x=t[5];var $=x,P=null;if(y){if(n("cr:7274")){var N;t[6]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(n("cr:7274"),{}),t[6]=N):N=t[6],P=N}else if(n("cr:8738")){var M;t[7]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx(n("cr:8738"),{}),t[7]=M):M=t[7],P=M}}var w;t[8]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx("div",{children:s.jsx(r("PolarisSwitchAccountsModalLazy.react"),{})}),t[8]=w):w=t[8];var A=w,F=r("usePolarisXESwitcherDialog")(),O;t[9]!==a||t[10]!==c?(O={0:"",1:"xx7atzb"}[!!(a&&c)<<0],t[9]=a,t[10]=c,t[11]=O):O=t[11];var B;t[12]!==O?(B=s.jsx(r("PolarisToastWrapper.react"),{className:O}),t[12]=O,t[13]=B):B=t[13];var W;t[14]===Symbol.for("react.memo_cache_sentinel")?(W=n("cr:9681")!=null&&s.jsx(n("cr:9681"),{slot:o("PolarisQPConstants").SLOTS.app_start}),t[14]=W):W=t[14];var q;t[15]!==T?(q=T?s.jsx(r("PolarisMobilePostLoginUpsell.react"),{handleContinueBrowserClick:function(){return D(!1)}}):P,t[15]=T,t[16]=q):q=t[16];var U;t[17]!==q?(U=s.jsx(r("CometErrorBoundary.react"),{fallback:d,type:"warn",children:q}),t[17]=q,t[18]=U):U=t[18];var V;t[19]!==f||t[20]!==F?(V=f&&o("PolarisIsLoggedIn").isLoggedIn()&&(o("PolarisXESwitcherUtil").shouldEnableIGWebXMDSSwitcher()?F():A),t[19]=f,t[20]=F,t[21]=V):V=t[21];var H;t[22]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx(r("CometErrorBoundary.react"),{type:"warn",children:n("cr:4779")!=null&&o("PolarisCallGatingHelpers").isIncomingCallEnabled()?s.jsx(r("IGWebPreCallProvider.react"),{children:s.jsx(n("cr:4779"),{})}):null}),t[22]=H):H=t[22];var G;t[23]===Symbol.for("react.memo_cache_sentinel")?(G=n("cr:3106")&&s.jsx(n("cr:3106"),{}),t[23]=G):G=t[23];var z;t[24]!==p||t[25]!==l||t[26]!==c?(z=!v&&o("PolarisConfig").probablyHasApp()&&!p&&n("cr:1609")&&s.jsx("div",{children:s.jsx(n("cr:1609"),{pageID:l,viewer:c})}),t[24]=p,t[25]=l,t[26]=c,t[27]=z):z=t[27];var j,K;t[28]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx(r("PolarisAppStoreLauncher.react"),{}),K=n("cr:4839")!=null?s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(n("cr:4839"),{})}):null,t[28]=j,t[29]=K):(j=t[28],K=t[29]);var Q;return t[30]!==$||t[31]!==U||t[32]!==V||t[33]!==z||t[34]!==B?(Q=s.jsxs(s.Fragment,{children:[B,W,U,V,H,$,G,z,j,K]}),t[30]=$,t[31]=U,t[32]=V,t[33]=z,t[34]=B,t[35]=Q):Q=t[35],Q}function d(){return s.jsx("div",{})}d.displayName=d.name+" [from "+i.id+"]";function m(e){return e.navigation}l.default=c}),98);
__d("PolarisNotificationBannerIcon.react",["fbt","$InternalEnum","IGDSBox.react","IGDSText.react","Locale","PolarisAssetManagerGlyphMapping","PolarisIGCoreIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=n("$InternalEnum")({COMMENTS:"comments",LIKES:"likes",RELATIONSHIPS:"relationships",USERTAGS:"usertags"});function d(e){switch(e){case c.COMMENTS:return{alt:s._(/*BTDS*/"Comments"),icon:o("PolarisAssetManagerGlyphMapping").ICONS.COMMENT_FILLED_16_WHITE};case c.LIKES:return{alt:s._(/*BTDS*/"Like"),icon:o("PolarisAssetManagerGlyphMapping").ICONS.HEART_FILLED_16_WHITE};case c.RELATIONSHIPS:return{alt:s._(/*BTDS*/"Relationships"),icon:o("PolarisAssetManagerGlyphMapping").ICONS.USER_FILLED_16_WHITE};case c.USERTAGS:return{alt:s._(/*BTDS*/"Usertags"),icon:o("PolarisAssetManagerGlyphMapping").ICONS.TAG_UP_FILLED_16_WHITE}}}function m(e){var t=o("react-compiler-runtime").c(11),n=e.count,a=e.countType,i;t[0]!==a?(i=d(a),t[0]=a,t[1]=i):i=t[1];var l=i,s=l.alt,c=l.icon,m;t[2]===Symbol.for("react.memo_cache_sentinel")?(m={className:"x6s0dn4 x78zum5 x1diwwjn x1n2onr6"},t[2]=m):m=t[2];var p;t[3]!==s||t[4]!==c?(p=u.jsx(r("PolarisIGCoreIcon.react"),{alt:s,icon:c}),t[3]=s,t[4]=c,t[5]=p):p=t[5];var _;t[6]!==n?(_=u.jsx(r("IGDSBox.react"),{alignItems:"center",marginStart:1,position:"relative",children:u.jsx(r("IGDSText.react"),{color:"webAlwaysWhite",size:"label",zeroMargin:!0,children:n})}),t[6]=n,t[7]=_):_=t[7];var f;return t[8]!==p||t[9]!==_?(f=u.jsxs("div",babelHelpers.extends({},m,{dir:o("Locale").isRTL()?"rtl":"ltr",children:[p,_]})),t[8]=p,t[9]=_,t[10]=f):f=t[10],f}l.CountBadgeType=c,l.PolarisNotificationBannerIcon=m}),226);
__d("PolarisNotificationsBannerV2_badgeCount.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisNotificationsBannerV2_badgeCount",selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null},{alias:null,args:null,concreteType:"XDTNotificationActivityBadgeCounts",kind:"LinkedField",name:"activity_badge_counts",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"comments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"likes",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"relationships",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usertags",storageKey:null}],storageKey:null}],type:"XDTNotificationBadgeCount",abstractKey:null};a.exports=e}),null);
__d("PolarisNotificationsBannerV2.react",["CometRelay","PolarisDisappearingTooltip.react","PolarisNotificationBannerIcon.react","PolarisNotificationsBannerV2_badgeCount.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useMemo;function d(t){var a,i=o("react-compiler-runtime").c(23),l=t.align,s=t.autoHideAfter,c=t.badgeCount,d=t.children,m=t.onClick,p=t.onTooltipHide,_=t.position,f=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisNotificationsBannerV2_badgeCount.graphql"),c),g=f==null?void 0:f.activity_badge_counts,h=(a=f==null?void 0:f.total_count)!=null?a:0,y;e:{var C,b=(C=Object.keys(g).reduce(function(e,t){var n;return e+((n=g[t])!=null?n:0)},0))!=null?C:0;if(b===0){y=null;break e}var v;i[0]===Symbol.for("react.memo_cache_sentinel")?(v={className:"xuk3077 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 x1q0g3np x2lah0s xln7xf2 xk390pu xdj266r x14z9mp xat24cr x18xomjl xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf"},i[0]=v):v=i[0];var S;i[1]!==g?(S=(g==null?void 0:g.comments)!=null&&g.comments!==0&&u.jsx(o("PolarisNotificationBannerIcon.react").PolarisNotificationBannerIcon,{count:g.comments,countType:o("PolarisNotificationBannerIcon.react").CountBadgeType.COMMENTS}),i[1]=g,i[2]=S):S=i[2];var R;i[3]!==g?(R=(g==null?void 0:g.likes)!=null&&g.likes!==0&&u.jsx(o("PolarisNotificationBannerIcon.react").PolarisNotificationBannerIcon,{count:g.likes,countType:o("PolarisNotificationBannerIcon.react").CountBadgeType.LIKES}),i[3]=g,i[4]=R):R=i[4];var L;i[5]!==g?(L=(g==null?void 0:g.relationships)!=null&&g.relationships!==0&&u.jsx(o("PolarisNotificationBannerIcon.react").PolarisNotificationBannerIcon,{count:g.relationships,countType:o("PolarisNotificationBannerIcon.react").CountBadgeType.RELATIONSHIPS}),i[5]=g,i[6]=L):L=i[6];var E;i[7]!==g?(E=(g==null?void 0:g.usertags)!=null&&g.usertags!==0&&u.jsx(o("PolarisNotificationBannerIcon.react").PolarisNotificationBannerIcon,{count:g.usertags,countType:o("PolarisNotificationBannerIcon.react").CountBadgeType.USERTAGS}),i[7]=g,i[8]=E):E=i[8];var k;i[9]!==S||i[10]!==R||i[11]!==L||i[12]!==E?(k=u.jsxs("div",babelHelpers.extends({},v,{children:[S,R,L,E]})),i[9]=S,i[10]=R,i[11]=L,i[12]=E,i[13]=k):k=i[13],y=k}var I=y,T;return i[14]!==l||i[15]!==s||i[16]!==d||i[17]!==I||i[18]!==m||i[19]!==p||i[20]!==_||i[21]!==h?(T=h>0&&I!=null?u.jsx(r("PolarisDisappearingTooltip.react"),{align:l,autoHideAfter:s,color:"red",disableTooltipHideOnDismount:!1,isActivity:!0,onClick:m,onTooltipHide:p,position:_,tooltip:I,children:d}):u.jsx(u.Fragment,{children:d}),i[14]=l,i[15]=s,i[16]=d,i[17]=I,i[18]=m,i[19]=p,i[20]=_,i[21]=h,i[22]=T):T=i[22],T}l.default=d}),98);
__d("usePolarisNotificationsNavItemQuery.graphql",["relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"device_id"}],t=[{kind:"Variable",name:"device_id",variableName:"device_id"}],n={alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"usePolarisNotificationsNavItemQuery",selections:[{alias:null,args:t,concreteType:"XDTNotificationBadgeResponse",kind:"LinkedField",name:"xdt_notification_badge",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTNotificationBadgeCount",kind:"LinkedField",name:"badge_count",plural:!1,selections:[n,{args:null,kind:"FragmentSpread",name:"PolarisNotificationsBannerV2_badgeCount"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"usePolarisNotificationsNavItemQuery",selections:[{alias:null,args:t,concreteType:"XDTNotificationBadgeResponse",kind:"LinkedField",name:"xdt_notification_badge",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTNotificationBadgeCount",kind:"LinkedField",name:"badge_count",plural:!1,selections:[n,{alias:null,args:null,concreteType:"XDTNotificationActivityBadgeCounts",kind:"LinkedField",name:"activity_badge_counts",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"comments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"likes",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"relationships",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usertags",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"29759241103722430",metadata:{is_distillery:!0,root_field_name:["xdt_notification_badge"]},name:"usePolarisNotificationsNavItemQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("usePolarisNotificationsNavItemQuery",["CometRelay","PolarisConfig","usePolarisNotificationsNavItemQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("usePolarisNotificationsNavItemQuery.graphql"),{device_id:o("PolarisConfig").getDeviceId()});return t}var u=s;l.default=u}),98);
__d("PolarisNotificationsNavBadge.react",["PolarisActivityStorySelectors","PolarisNotificationsNavItemBadge.react","PolarisReactRedux.react","cr:10762","cr:10763","react","react-compiler-runtime","usePolarisNotificationsNavItemQuery"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t,a,i=o("react-compiler-runtime").c(10),l=e.onBadgeStateChange,c=r("usePolarisNotificationsNavItemQuery")(),d=c==null||(t=c.xdt_notification_badge)==null?void 0:t.badge_count,m=(a=d==null?void 0:d.total_count)!=null?a:0,p=n("cr:10763")(),_=o("PolarisReactRedux.react").useSelector(o("PolarisActivityStorySelectors").showBanner),f=m+p>0,g,h;i[0]!==f||i[1]!==l||i[2]!==_?(g=function(){return l(f||_)},h=[l,f,_],i[0]=f,i[1]=l,i[2]=_,i[3]=g,i[4]=h):(g=i[3],h=i[4]),u(g,h);var y;i[5]!==f?(y=f?s.jsx(r("PolarisNotificationsNavItemBadge.react"),{}):null,i[5]=f,i[6]=y):y=i[6];var C;i[7]===Symbol.for("react.memo_cache_sentinel")?(C=n("cr:10762")&&s.jsx(n("cr:10762"),{}),i[7]=C):C=i[7];var b;return i[8]!==y?(b=s.jsxs(s.Fragment,{children:[y,C]}),i[8]=y,i[9]=b):b=i[9],b}l.default=c}),98);
__d("PolarisNotificationsNavBannerWrapper.react",["PolarisIGCoreConstants","PolarisNavigationHelpers","PolarisNotificationsBannerV2.react","react","react-compiler-runtime","useMatchMedia","usePolarisNotificationsNavItemQuery"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,n=o("react-compiler-runtime").c(6),a=e.children,i=e.onClick,l=e.onTooltipHide,u=r("usePolarisNotificationsNavItemQuery")(),c=u==null||(t=u.xdt_notification_badge)==null?void 0:t.badge_count,d=r("useMatchMedia")("(max-width: "+o("PolarisNavigationHelpers").BOTTOM_STYLING_MAX_WIDTH+"px)"),m;return n[0]!==c||n[1]!==a||n[2]!==d||n[3]!==i||n[4]!==l?(m=c==null?null:s.jsx(r("PolarisNotificationsBannerV2.react"),{align:d?"end":"middle",autoHideAfter:r("PolarisIGCoreConstants").TOOLTIP.AUTO_HIDE_MS,badgeCount:c,onClick:i,onTooltipHide:l,position:d?"below":"end",children:a}),n[0]=c,n[1]=a,n[2]=d,n[3]=i,n[4]=l,n[5]=m):m=n[5],m}l.default=u}),98);/*FB_PKG_DELIM*/
__d("WebBloksClearCachedAsyncComponents",[],(function(t,n,r,o,a,i){function e(e){e.objectSet.componentQueryStore.clear()}i.default=e}),66);
__d("WebBloksDummy",[],(function(t,n,r,o,a,i){function e(){}i.default=e}),66);
__d("WebBloksFetchAsyncComponent",[],(function(t,n,r,o,a,i){function e(e,t,n,r,o){e.objectSet.componentQueryStore.fetch(t,n,r,"FETCH")}i.default=e}),66);
__d("WebBloksInvalidateCachedAsyncComponents",[],(function(t,n,r,o,a,i){function e(e,t,n){e.bloksContext.objectSet.componentQueryStore.invalidate(t,n)}i.default=e}),66);
__d("AcqWebBloksActions",["WebBloksClearCachedAsyncComponents","WebBloksDummy","WebBloksFetchAsyncComponent","WebBloksInvalidateCachedAsyncComponents"],(function(t,n,r,o,a,i,l){var e,s={"bk.action.bloks.ClearCachedAsyncComponents":r("WebBloksClearCachedAsyncComponents"),"bk.action.bloks.FetchAsyncComponents":r("WebBloksFetchAsyncComponent"),"bk.action.bloks.InvalidateCachedAsyncComponents":r("WebBloksInvalidateCachedAsyncComponents"),"bk.versioning.bloks.AsyncComponentAppIdExpression":e=r("WebBloksDummy"),"bk.versioning.bloks.AsyncComponentCacheTtlExpression":e,"bk.versioning.bloks.AsyncComponentClientParams":e,"bk.versioning.bloks.AsyncComponentDependencies":e,"bk.versioning.bloks.AsyncComponentReleaseV1":e,"bk.versioning.bloks.AsyncComponentScoping":e};l.ACTIONS=s}),98);
__d("acqTraversalKeys",[],(function(t,n,r,o,a,i){var e={},l=e;i.default=l}),66);
__d("ACQWebBloksEnvironmentConfigDynamic",["AcqWebBloksActions","acqTraversalKeys"],(function(t,n,r,o,a,i,l){var e={actions:o("AcqWebBloksActions").ACTIONS,traversalKeys:r("acqTraversalKeys")};l.ACQ_ENVIRONMENT_CONFIG=e}),98);
__d("ClientAjaxIdsUpdater",["CurrentUserInitialData","MRequestConfig","cr:8959","cr:8960"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){if(t.ajaxUpdateAfterLogin){var o=t.ajaxUpdateAfterLogin;(e||(e=r("CurrentUserInitialData"))).USER_ID=o.currentUser,n("cr:8959").setToken(o.dtsgToken),n("cr:8960").setToken(o.dtsgAsyncGetToken),r("MRequestConfig").ajaxResponseToken=o.ajaxResponseToken}}l.default=s}),98);
__d("WebBloksAppLoaderConsoleDebugger",["WebBloksIsUnitTest"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){}function s(e,t){}function u(e,t){}var c={onStart:e,onSuccess:s,onError:u};l.default=c}),98);
__d("WebBloksFalcoPolicyData",[],(function(t,n,r,o,a,i){"use strict";var e={};function l(t){Object.keys(t).forEach(function(n){e[n]==null&&(e[n]=t[n])})}function s(t){var n=e[t];return n==null?{r:1}:n}var u={add:l,get:s};i.default=u}),66);
__d("WebBloksServerData",["WebBloksFalcoPolicyData"],(function(t,n,r,o,a,i,l){"use strict";function e(e){(e==null?void 0:e.falco_log_policy_map)!=null&&r("WebBloksFalcoPolicyData").add(e.falco_log_policy_map)}l.handleWebBloksServerData=e}),98);
__d("AbstractWebBloksAppLoader",["ClientAjaxIdsUpdater","WebBloksAppLoaderConsoleDebugger","WebBloksErrors","WebBloksServerData","WebBloksUtils","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.fetchAppByUrl=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return r("WebBloksAppLoaderConsoleDebugger").onStart(e),o("WebBloksUtils").normaliseBloksPayload(yield this.$1(e,this.makePostRequest(e,{type:"app"})))});function t(t){return e.apply(this,arguments)}return t})(),t.fetchApp=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){return o("WebBloksUtils").normaliseBloksPayload(yield this.$2(e,t,"app"))});function t(t,n){return e.apply(this,arguments)}return t})(),t.fetchAction=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){return o("WebBloksUtils").normaliseBloksPayload(yield this.$2(e,t,"action"))});function t(t,n){return e.apply(this,arguments)}return t})(),t.fetchComponentQuery=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield this.$2(e,t,"app");return{components:n.components}});function t(t,n){return e.apply(this,arguments)}return t})(),t.$2=function(t,n,o){r("WebBloksAppLoaderConsoleDebugger").onStart(t,n);var e=this.getAsyncFetchData(t,n,o);return this.$1(t,this.makePostRequest(this.getAsyncFetchURI(t,n,o),e))},t.$1=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){try{var n,a=yield t;r("WebBloksAppLoaderConsoleDebugger").onSuccess(e,a),r("ClientAjaxIdsUpdater")(a);var i=(n=a.payload)!=null?n:a;return o("WebBloksServerData").handleWebBloksServerData(i.server_data),i}catch(t){var l=r("getErrorSafe")(t);throw r("WebBloksAppLoaderConsoleDebugger").onError(e,l),l instanceof o("WebBloksErrors").WebBloksError?l:new(o("WebBloksErrors")).WebBloksError("Fetch failed: "+l.message,l)}});function t(t,n){return e.apply(this,arguments)}return t})(),t.makePostRequest=function(t,n){throw new(o("WebBloksErrors")).WebBloksError("Abstract")},t.getAsyncFetchURI=function(t,n,r){throw new(o("WebBloksErrors")).WebBloksError("Abstract")},t.getAsyncFetchData=function(t,n,r){throw new(o("WebBloksErrors")).WebBloksError("Abstract")},e})();l.AbstractWebBloksAppLoader=e}),98);
__d("AcqWebBloksComponents",[],(function(t,n,r,o,a,i){var e={};i.COMPONENTS=e}),66);
__d("BindTreeResources",[],(function(t,n,r,o,a,i){var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.getVariable=function(t){return this.$1.variables.get(t)},t.containsVariable=function(t){return this.$1.variables.has(t)},t.getVariablesUnsafe=function(){return this.$1.variables},t.getExpandedVariable=function(t){return this.$2.get(t)},t.getExpandedVariablesUnsafe=function(){return this.$2},t.getManifestEntry=function(t){return this.$1.variableDefinitions.get(t)},t.getParameter=function(t){return this.$1.parameters[t]},t.getValue=function(t){return this.$1.values.get(t)},t.getPayload=function(t){return this.$1.payloads.get(t)},t.getTemplate=function(t){return this.$1.templates.get(t)},t.getFunction=function(t){return this.$1.functionTable.get(t)},t.getTreeResourcesState=function(){return this.$1},e})();i.BindTreeResources=e}),66);
__d("WebBloksAccessibilityAnnouncement",[],(function(t,n,r,o,a,i){function e(e,t){var n,r=document.createElement("div");r.setAttribute("aria-live","polite"),r.style.position="absolute",r.style.top="-10000px",r.style.left="-10000px",r.style.width="500px",r.textContent=t,(n=document.body)==null||n.appendChild(r),window.setTimeout(function(){var e;(e=document.body)==null||e.removeChild(r)},100)}i.default=e}),66);
__d("WebBloksAccessibilitySetFocus",[],(function(t,n,r,o,a,i){function e(e,t){var n,r=(n=t.uiMutableContainer)==null||(n=n.domNode)==null?void 0:n.current,o=r==null?void 0:r.getAttribute("tabindex");o==null&&(r==null||r.setAttribute("tabindex","-1")),r==null||r.focus()}i.default=e}),66);
__d("WebBloksAddChild",["WebBloksMutations"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){o("WebBloksMutations").addChildToContainer(e.treeManager,t,n,r)}l.default=e}),98);
__d("WebBloksChildrenOperationsHelper",["WebBloksConstants","WebBloksMutations","WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=e.bloksContext.objectSet.environment.traversalKeys;e.enqueueUpdateOperation(new(o("WebBloksMutations")).ChildServerIdTarget(t,n),{update:function(a){var r=x(a,t,n),i=r[0],l=r[1];if(l<0){o("WebBloksMutations").warn(e,"removeChildById: No existing child found with specified ID in parent. No child has been removed from the parent.");return}i.splice(l,1)}})}function s(e,t,n,r){e.enqueueUpdateOperation(new(o("WebBloksMutations")).ClientIdTarget(t.clientId),{update:function(a){var t=x(a,n,e.bloksContext.objectSet.environment.traversalKeys),i=t[0],l=t[1],s=i.findIndex(function(e){return e.getId()===r});if(l===-1){o("WebBloksMutations").warn(e,"removeChildren: The starting id doesn't exist. No children have been removed.");return}if(s===-1){o("WebBloksMutations").warn(e,"removeChildren: The ending id doesn't exist. No children have been removed.");return}if(l>s){o("WebBloksMutations").warn(e,"removeChildren: The starting index is larger than the ending index. No children have been removed.");return}i.splice(l+1,s-l-1)}})}function u(e,t,n){var r=e.bloksContext.objectSet.environment.traversalKeys;e.enqueueUpdateOperation(new(o("WebBloksMutations")).ChildServerIdTarget(t,r),{update:function(i){var a=x(i,t,r),l=a[0],s=a[1];if(s<0){o("WebBloksMutations").warn(e,"replaceChildrenAfter: No existing child found with specified ID in parent. New children have not been added to parent.");return}l.splice.apply(l,[s+1,l.length-1-s].concat(T(n)))}})}function c(e,t,n){var r=D(e,n);u(e,t,r)}function d(e,t,n,r,a,i){i===void 0&&(i=0);var l=e.bloksContext.objectSet.environment.traversalKeys;e.enqueueUpdateOperation(new(o("WebBloksMutations")).ChildServerIdTarget(t,l),m(e,t,n,r,a,i))}function m(e,t,n,r,a,i){i===void 0&&(i=0);var l=e.bloksContext.objectSet.environment.traversalKeys;return{update:function(u){var s=x(u,t,l),c=s[0],d=s[1];if(d<0){o("WebBloksMutations").warn(e,a+": No existing child found with specified ID in parent. New children have not been added to parent.");return}c.splice.apply(c,[d+i,r].concat(T(n)))}}}function p(e,t,n){d(e,t,n,0,"prependChildren")}function _(e,t,n){d(e,t,n,1,"replaceChild")}function f(e,t,n,r){d(e,n,t,0,"insertChildrenRelativeToId",r)}function g(e,t,n){return m(e,t,n,1,"replaceChild")}function h(e,t,n){e.enqueueUpdateOperation(new(o("WebBloksMutations")).ServerIdTarget(t),{update:function(t){var e;(e=t.getChildren_DEPRECATED()).splice.apply(e,[0,t.getChildren_DEPRECATED().length].concat(T(n)))}})}function y(e,t,n){var r=D(e,n);_(e,t,r)}function C(e,t,n){var r=D(e,n);h(e,t,r)}function b(e,t,n){e.enqueueUpdateOperation(new(o("WebBloksMutations")).ServerIdTarget(t),{update:function(t){var e,r=[];for(var o of T(n))r.push(o);(e=t.getChildren_DEPRECATED()).unshift.apply(e,r)}})}function v(e,t,n){var r=D(e,n);b(e,t,r)}function S(e,t,n){e.enqueueUpdateOperation(new(o("WebBloksMutations")).ServerIdTarget(t),{update:function(t){for(var e of T(n))t.getChildren_DEPRECATED().push(e)}})}function R(e,t,n){var r=D(e,n);S(e,t,r)}function L(e,t,n){f(e,t,n,0)}function E(e,t,n){var r=D(e,t);L(e,r,n)}function k(e,t,n){f(e,t,n,1)}function I(e,t,n){var r=D(e,t);k(e,r,n)}function T(e){var t=[];for(var n of e)n.styleId===o("WebBloksConstants").BK_INTERNAL_MERGE?t.push.apply(t,n.getChildren_DEPRECATED()):t.push(n);return t}function D(e,t){var n=[];for(var r of t)e.enqueueResourcesUpdateOperation(r),n.push(r.unboundModel);return n}function x(e,t,n){var r,a=e.getChildren_DEPRECATED(),i=a.findIndex(function(e){return e.getId()===t});if(i>=0)return[a,i];var l=(r=n[e.styleId])==null?void 0:r.plural_subnodes;if(l)for(var s of l){var u=e.getChildren_DEPRECATED(s).findIndex(function(e){return e.getId()===t});if(u>=0)return[e.getChildren_DEPRECATED(s),u]}return[o("WebBloksUtils").cast(o("WebBloksUtils").EMPTY_ARRAY),-1]}l.removeModelById=e,l.removeChildren=s,l.replaceChildrenAfter=u,l.replaceEmbeddedChildrenAfter=c,l.prependChildren=p,l.replaceChild=_,l.insertChildrenRelativeToId=f,l.getReplaceChildUpdateOperation=g,l.replaceLayoutChildren=h,l.replaceEmbeddedChild=y,l.replaceEmbeddedLayoutChildren=C,l.prependEmbeddedLayoutChildren=v,l.appendEmbeddedLayoutChildren=R,l.insertEmbeddedChildrenBefore=E,l.insertChildrenAfter=k,l.insertEmbeddedChildrenAfter=I}),98);
__d("WebBloksAppendEmbeddedChildren",["WebBloksChildrenOperationsHelper"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){o("WebBloksChildrenOperationsHelper").appendEmbeddedLayoutChildren(e.treeManager,t,n)}l.default=e}),98);
__d("WebBloksApply",[],(function(t,n,r,o,a,i){function e(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return t.apply(void 0,[e].concat(r))}i.default=e}),66);
__d("WebBloksArrayAppend",[],(function(t,n,r,o,a,i){function e(e,t,n){return[].concat(t,[n])}i.default=e}),66);
__d("WebBloksArrayClone",[],(function(t,n,r,o,a,i){function e(e,t){return[].concat(t)}i.default=e}),66);
__d("WebBloksArrayConcat",[],(function(t,n,r,o,a,i){function e(e,t,n){return t.concat(n)}i.default=e}),66);
__d("WebBloksArrayFilter",["WebBloksBooleanUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n){for(var r=[],a=0;a<t.length;a++){var i=n(e,t[a]);o("WebBloksBooleanUtils").isTrue(i)&&r.push(t[a])}return r}l.default=e}),98);
__d("WebBloksArrayGet",[],(function(t,n,r,o,a,i){function e(e,t,n){return t[n]}i.default=e}),66);
__d("WebBloksArrayLength",["WebBloksErrors"],(function(t,n,r,o,a,i,l){function e(e,t){if(Array.isArray(t)||typeof t=="string")return t.length;if(t!=null&&typeof t=="object")return Object.keys(t).length;throw new(o("WebBloksErrors")).WebBloksScriptError("bk.action.array.Length expects an array, string or map",e)}l.default=e}),98);
__d("WebBloksArrayMake",[],(function(t,n,r,o,a,i){function e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n}i.default=e}),66);
__d("WebBloksArrayMap",[],(function(t,n,r,o,a,i){function e(e,t,n){for(var r=[],o=0;o<t.length;o++){var a=t[o],i=n(e,o,a);r.push(i)}return r}i.default=e}),66);
__d("WebBloksArrayPut",[],(function(t,n,r,o,a,i){function e(e,t,n,r){n===t.length?t.push(r):t[n]=r}i.default=e}),66);
__d("WebBloksArrayPutAndGet",["WebBloksArrayPut"],(function(t,n,r,o,a,i,l){function e(e,t,n,o){return r("WebBloksArrayPut")(e,t,n,o),t}l.default=e}),98);
__d("WebBloksArrayReduce",[],(function(t,n,r,o,a,i){function e(e,t,n,r){return t==null?r:t.reduce(function(t,r,o){return n(e,t,r,o)},r)}i.default=e}),66);
__d("WebBloksArrayRemove",[],(function(t,n,r,o,a,i){function e(e,t,n){t.splice(n,1)}i.default=e}),66);
__d("WebBloksArrayRemoveAndGet",["WebBloksArrayRemove"],(function(t,n,r,o,a,i,l){function e(e,t,n){return r("WebBloksArrayRemove")(e,t,n),t}l.default=e}),98);
__d("WebBloksArraySlice",[],(function(t,n,r,o,a,i){function e(e,t,n,r){return typeof r=="number"?t.slice(n,n+r):t.slice(n)}i.default=e}),66);
__d("WebBloksArraySortedArray",[],(function(t,n,r,o,a,i){function e(e,t,n){var r=Array.from(t);return r.sort(function(t,r){var o=n(e,t,r);return o}),r}i.default=e}),66);
__d("WebBloksArrayUpdate",[],(function(t,n,r,o,a,i){function e(e,t,n,r){for(var o=0;o<n.length;o++){var a=n[o];t[a]=r[o]}}i.default=e}),66);
__d("webBloksPerformanceUtils",[],(function(t,n,r,o,a,i){function e(e,t){var n,r=(n=window)==null?void 0:n.performance;r==null||r.mark==null||r.mark(String(e),t)}i.addWebBloksPerformanceMark=e}),66);
__d("WebBloksAsyncAction",["WebBloksAsyncActions","WebBloksScriptDebuggingUtils","webBloksPerformanceUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,r,a,i){o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-start",{detail:{appId:t}}),o("WebBloksAsyncActions").executeAsyncAction(e,t,n).then(function(){o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-success"),e.executeCatch(r,[])}).catch(function(t){o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-error"),o("WebBloksScriptDebuggingUtils").logScriptError(e.objectSet,t,null,e),e.executeCatch(a,[])})}l.default=e}),98);
__d("WebBloksAsyncActionWithDataManifest",["WebBloksAsyncActions","WebBloksScriptDebuggingUtils","webBloksPerformanceUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,r,a,i){o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-start",{detail:{appId:t}}),o("WebBloksAsyncActions").executeAsyncAction(e,t,n).then(function(t){o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-success"),e.execute(r,[t,e.bloksContext])}).catch(function(t){o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-error"),o("WebBloksScriptDebuggingUtils").logScriptError(e.objectSet,t,null,e),e.execute(a,[e.bloksContext])}).catch(function(t){o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-error"),e.objectSet.environment.logger.mustfix("AsyncAction: failed to run error handler",t)})}l.default=e}),98);
__d("WebBloksContainerConfig",["WebBloksErrors"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.mergeWith=function(t){return t},e.fromBloksModel=function(t){throw new(o("WebBloksErrors")).WebBloksError("Abstract")},t.getIsOverlay=function(){return!1},e})();function s(e,t){var n=t.styleId,r=e.objectSet.getContainerConfigModuleForName(n);return r.ContainerConfig.fromBloksModel(t)}l.WebBloksContainerConfig=e,l.getContainerConfig=s}),98);
__d("WebBloksDataModule",["WebBloksErrors"],(function(t,n,r,o,a,i,l){function e(e,t){if(t==="ls")return e.localStateDataModule;if(t==="gs")return e.objectSet.globalStateDataModule;var n=e.objectSet.environment.dataModulesStore.get(t);if(n!=null)return n;throw new(o("WebBloksErrors")).WebBloksError("Unsupported data source type found: "+t)}function s(e,t){var n=e.data,r=n.initial_lispy;return r!=null?t(r):n.initial}function u(e,t){return{id:e,type:"ls",data:{initial:t}}}l.getDataModuleFromContext=e,l.getDataEntryInitialValue=s,l.dangerouslyCreateLocalStateDataManifestEntry_DO_NOT_USE=u}),98);
__d("WebBloksLocalState",["WebBloksDataModule"],(function(t,n,r,o,a,i,l){var e=(function(){function e(){}var t=e.prototype;return t.setup=function(t,n,r,a){var e=o("WebBloksDataModule").getDataEntryInitialValue(n,a);return{initialValue:e}},e})();l.WebBloksLocalStateDataModule=e}),98);
__d("WebBloksContext",["WebBloksErrors","WebBloksLocalState","WebBloksScopedIds"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e,t){this.treeManager=e,this.objectSet=t,this.associatedObjectsByClientId={},this.bkContextKeyStates=new Map,this.bkContextKeyAnimations=new Map,this.localStateDataModule=new(o("WebBloksLocalState")).WebBloksLocalStateDataModule,this.scopedClientIdMapper=new(o("WebBloksScopedIds")).ClientIdToScopedIdMapper}var t=e.prototype;return t.initAssociatedObject_INTERNAL=function(t,n,r){var e=t.clientId,a=this.getAssociatedObject_INTERNAL(t,n);if(a!=null)return a;if(this.$1(e)||(this.associatedObjectsByClientId[e]={}),this.associatedObjectsByClientId[e][n]=r,this.associatedObjectsByClientId[e][n]==null)throw new(o("WebBloksErrors")).WebBloksError("Failed to initialize associated object for clientId: "+e+" and assocObjId: "+n,null,!0);return this.associatedObjectsByClientId[e][n]},t.getAssociatedObject_INTERNAL=function(t,n){var e,r=t.clientId,o=(e=this.associatedObjectsByClientId)==null?void 0:e[r];return o==null?void 0:o[n]},t.updateAssociatedObject_INTERNAL=function(t,n,r){var e=t.clientId;if(this.associatedObjectsByClientId[e][n]==null)throw new(o("WebBloksErrors")).WebBloksError("Attempted to update a associated object which has not been initialized",null,!0);if(this.associatedObjectsByClientId[e][n]=babelHelpers.extends({},this.associatedObjectsByClientId[e][n],r),this.associatedObjectsByClientId[e][n]==null)throw new(o("WebBloksErrors")).WebBloksError("Failed to update associated object for clientId: "+e+" and assocObjId: "+n,null,!0);return this.associatedObjectsByClientId[e][n]},t.$1=function(t){return Object.prototype.hasOwnProperty.call(this.associatedObjectsByClientId,t)},e})();l.WebBloksContext=e}),98);
__d("WebBloksComponentQueryManager",["WebBloksChildrenOperationsHelper","WebBloksMutations","WebBloksParseResult","WebBloksScopedComponentQueryDefinition","WebBloksScopedIds","WebBloksScriptExecutor","WebBloksUtils"],(function(t,n,r,o,a,i,l){var e="query_info_",s=(function(){function t(e,t){this.$3=new Map,this.$4=new Map,this.$5=new Map,this.$1=e,this.$2=t}var n=t.prototype;return n.setup=function(t,n){var e=this,r=[],a=function(t){return o("WebBloksScriptExecutor").execute(n,t,[])},i=[],l=function(i){var t=o("WebBloksUtils").cast(a(i.appIdExpression)),l=i.paramsExpression!=null?o("WebBloksUtils").cast(a(i.paramsExpression)):{},s=i.cacheTTLExpression!=null?o("WebBloksUtils").cast(a(i.cacheTTLExpression)):null;if(s==null)return 1;var u=e.$2.getCachedComponentsOrSubscribeToQuery(t,l,s,function(t,r){e.$6(i,r,n)});u.value==null||r.push([i,u.value])};for(var s of t)l(s);for(var u of r){var c=u[0],d=u[1],m=this.$7(c,d,n,"resolved_sync");for(var p of m)i.push(p)}return i},n.$6=function(t,n,r){var e=this,o=this.$7(t,n,r,"resolved_async");o.forEach(function(t){e.$1.enqueueTreeUpdateOperation(t)})},n.$7=function(t,n,r,o){var e=n.success?o:"failed",a=!1;for(var i of(l=t.dependencies)!=null?l:new Set){var l;if(!this.$4.has(i)){var s=this.$5.get(i);s==null&&(s=new Set,this.$5.set(i,s)),s.add(t.id),a=!0}if(a)return this.$3.set(t.id,{queryDefinition:t,response:n}),[]}this.$4.set(t.id,n),this.$3.delete(t.id);var u=this.$8(t,n,r,e);for(var c of(d=this.$5.get(t.id))!=null?d:new Set){var d,m=this.$3.get(c);m!=null&&(u=u.concat(this.$7(m.queryDefinition,m.response,r,e)),this.$5.delete(t.id))}return u},n.$8=function(t,n,r,a){var e,i=this,l={resolution_type:a,response_summary:{}};if(!n.success)return[{treeModification:null,variableUpdate:{variableIdentifier:this.$9(t.id),value:l}}];var s=this.$10((e=t.targets)!=null?e:new Map,n.result.components),u=t.isScoped?o("WebBloksScopedIds").extendKeyPath():null,c=[],d=function(){var e=m[0],n=m[1],a=i.$11(n,e.serverId,u),s=function(n){var t=r.createBloksModelScopedContext(e.keyPath);return o("WebBloksScriptExecutor").execute(t,n,[])},d=t.clientParamsExpression!=null?o("WebBloksUtils").cast(s(t.clientParamsExpression)):{};for(var p of Object.entries(d)){var _=p[0],f=p[1];c.push({treeModification:null,variableUpdate:{variableIdentifier:i.$12(_,u),value:f}})}c.push({treeModification:a,variableUpdate:{variableIdentifier:i.$12(i.$9(t.id),e.keyPath),value:l}})};for(var m of s.entries())d();return c},n.$11=function(t,n,a){var e=this.$1.bloksContext.objectSet.environment.traversalKeys,i=t.unboundModel.makeDeepCopyWithNewClientIds(a,e),l=t.resources.clone();l.componentQueries=l.componentQueries.map(function(t){return o("WebBloksScopedComponentQueryDefinition").generateTreeScopedComponentQueryDefFromScopedDef(i,t,e)});var s=o("WebBloksChildrenOperationsHelper").getReplaceChildUpdateOperation(this.$1,n,[i]);return{target:new(o("WebBloksMutations")).ChildServerIdTarget(n,e),updateOperation:s,parseResult:new(r("WebBloksParseResult"))(i,l)}},n.$10=function(t,n){var e=new Map;for(var r of t.entries()){var o=r[0],a=r[1],i=n.get(o);i!=null&&e.set(a,i)}return e},n.$12=function(t,n){if(n==null||n.length===0)return t;var e=o("WebBloksScopedIds").buildKeypathBase(n);return o("WebBloksScopedIds").buildScopedVariableIdentifier(t,e)},n.$9=function(n){return""+e+n},t})();l.default=s}),98);
__d("WebBloksTreeManager",["Promise","WebBloksComponentQueryManager","WebBloksDataModule","WebBloksErrors","WebBloksInterpreterEnvironment","WebBloksParseResult","WebBloksScopedIds","WebBloksScriptExecutor","WebBloksTreeResources","WebBloksUpdateTraversal","WebBloksUtils"],(function(t,n,r,o,a,i,l){var e,s=(function(){function t(e){var t;if(this.id=o("WebBloksUtils").getNextGlobalBloksClientId(),this.treeResourcesState=new(o("WebBloksTreeResources")).WebBloksTreeResourcesState,this.committedVariables=new Map,this.$1=0,this.updateOperationList=[],this.updateVariableOperations=new Map,this.updateResourcesOperations=[],this.$2=!1,this.$3=!1,this.$4=!1,this.onNewTreeAndVariablesListener=new(o("WebBloksUtils")).EventEmitter,!e.unboundModel)throw new(o("WebBloksErrors")).WebBloksError("Missing unboundModel");this.unboundModel=e.unboundModel,this.initialTreeResources=e.resources,this.loggingIDForInternalFrameworkUseOnly=e==null?void 0:e.loggingID,(t=window.WebBloksPreHydrationInteractionsRecorder)==null||t.replayIfNeeded()}var a=t.prototype;return a.getBoundTree=function(){var e;return(e=this.bindResult)==null?void 0:e.boundModel},a.getExpandedVariables=function(){var e,t;return(e=(t=this.bindResult)==null?void 0:t.expandedVariables)!=null?e:o("WebBloksUtils").EMPTY_MAP},a.getCommittedTreeResources=function(){return this.treeResourcesState.withUpdatedEntries(null,this.committedVariables)},a.setCommittedBoundTree=function(t){this.bindResult=t,this.committedVariables=t.variables,this.$7()},a.waitForCommittedTree=function(){var t;return(t=this.$5)!=null?t:(e||(e=n("Promise"))).resolve()},a.$7=function(){var e;(e=this.$6)==null||e.call(this),this.$5=void 0,this.$6=void 0},a.initVariablesAndObserver=function(t,n){this.treeResourcesState=this.treeResourcesState.withUpdatedParameters(n),this.bloksContext=t,this.bloksContext.loggingIDForInternalFrameworkUseOnly=this==null?void 0:this.loggingIDForInternalFrameworkUseOnly,this.subscriptions=new Set;var e=this.processResources([new(r("WebBloksParseResult"))(this.unboundModel,this.initialTreeResources)]);if(e[1].length>0){for(var o of e[1])this.updateOperationList.push(o);this.$3=!0}return this.$2=!0,this.$3&&this.flushUpdates(),{unboundModel:this.unboundModel,treeResourcesState:this.treeResourcesState}},a.processAsyncComponents=function(t,n){if(t.length===0)return[];if(this.componentQueryManager==null){var e=this.bloksContext.objectSet.componentQueryStore;this.componentQueryManager=new(r("WebBloksComponentQueryManager"))(this,e)}return this.componentQueryManager.setup(t,n)},a.processResources=function(t){for(var e=this,n=[].concat(t),a=[],i=this.treeResourcesState,l=function(){var t,i=n[s],l=i.unboundModel,u=i.resources;e.treeResourcesState=e.treeResourcesState.withPayloadUpdates(u.payloads),e.treeResourcesState=e.treeResourcesState.withFunctionTableUpdates(u.functionTable,u.ftDeclare,u.ftInclude),e.treeResourcesState=e.treeResourcesState.withTemplateUpdates(u.templates),e.treeResourcesState=e.treeResourcesState.withValueUpdates(u.values);var c=null,d=null,m=(l==null?void 0:l.keyPath)!=null?o("WebBloksScopedIds").buildKeypathBase(l.keyPath):null;for(var p of u.variableDefinitions){var _=p.id,f=p.scoped===!0&&m!=null?o("WebBloksScopedIds").buildScopedVariableIdentifier(_,m):_,g=d!=null?d:e.treeResourcesState.variableDefinitions;g.has(_)||(d||(d=new Map(e.treeResourcesState.variableDefinitions)),d.set(_,p));var h=c!=null?c:new Map(e.treeResourcesState.variables);if(!h.has(f)){var y=p.type,C=o("WebBloksDataModule").getDataModuleFromContext(e.bloksContext,y);if(!C)throw new(o("WebBloksErrors")).WebBloksError("Missing variable module with type: "+y);var b=babelHelpers.extends({},p);e.initialTreeResources.shouldCommitPublishStateUpdates()===!1&&b.data.key!=null&&b.data.mode==="p"&&(b=babelHelpers.extends({},b,{data:babelHelpers.extends({},b.data,{mode:"d"})}));var v=function(n){var t=r("WebBloksInterpreterEnvironment").fromTreeManager(e,l.keyPath);return o("WebBloksScriptExecutor").execute(t,n,[])},S=C.setup(e.bloksContext,b,e,v),R=S.cancelToken,L=S.initialValue;c||(c=new Map(e.treeResourcesState.variables)),c.set(f,L),R!=null&&e.subscriptions.add(R)}}e.initialTreeResources.setShouldCommitPublishStateUpdates(!1),e.treeResourcesState=e.treeResourcesState.withUpdatedEntries(d,c),(t=c)!=null&&t.size&&(e.committedVariables.forEach(function(e,t){var n;(n=c)==null||n.set(t,e)}),e.committedVariables=c);var E=r("WebBloksInterpreterEnvironment").fromTreeManager(e,l.keyPath),k=e.processAsyncComponents(u.componentQueries,E);for(var I of k){var T=I.treeModification,D=I.variableUpdate;if(T!=null&&(T.parseResult!=null&&n.push(T.parseResult),a.push([T.target,T.updateOperation])),D!=null){var x=new Map;x.set(D.variableIdentifier,D.value),e.treeResourcesState=e.treeResourcesState.withVariableUpdates(x)}}},s=0;s<n.length;s++)l();return[!this.treeResourcesState.equalsTo(i),a]},a.synchronouslyAddTreeResources=function(t,n){if(!this.$4){this.initialTreeResources.setShouldCommitPublishStateUpdates(!0);var e=this.processResources([t]);for(var r of e[1])this.updateOperationList.push(r);var a=new Map;if(o("WebBloksUtils").putAll(a,this.treeResourcesState.variables),n!=null&&o("WebBloksUtils").putAll(a,n),a.size>0){this.treeResourcesState=this.treeResourcesState.withVariableUpdates(a);var i=new Map(this.committedVariables);o("WebBloksUtils").putAll(i,a),this.committedVariables=i}}},a.enqueueVariableUpdateOperation=function(t,n){if(!this.$4){if(this.updateVariableOperations.set(t,n),!this.$2){this.$3=!0;return}this.$1===0&&this.$8()}},a.enqueueUpdateOperation=function(t,n){this.updateOperationList.push([t,n])},a.enqueueResourcesUpdateOperation=function(t){this.updateResourcesOperations.push(t),this.$1===0&&this.$8()},a.enqueueUpdateOperationWithResources=function(t){t.parseResult!=null&&this.enqueueResourcesUpdateOperation(t.parseResult),this.enqueueUpdateOperation(t.target,t.updateOperation)},a.enqueueTreeUpdateOperation=function(t){t.variableUpdate!=null&&this.enqueueVariableUpdateOperation(t.variableUpdate.variableIdentifier,t.variableUpdate.value),t.treeModification!=null&&this.enqueueUpdateOperationWithResources(t.treeModification)},a.beginUpdates=function(){var t=this;this.$1++,this.$5||(this.$5=new(e||(e=n("Promise")))(function(e){t.$6=e}))},a.endUpdates=function(){this.$1===1&&this.flushUpdates(),this.$1--},a.flushUpdates=function(){if(!this.$4){var e=!1;if(this.updateVariableOperations.size&&(this.treeResourcesState=this.treeResourcesState.withVariableUpdates(this.updateVariableOperations),e=!0,this.updateVariableOperations=new Map),this.updateResourcesOperations.length){var t=this.processResources(this.updateResourcesOperations);e=e||t[0];for(var n of t[1])this.updateOperationList.push(n);this.updateResourcesOperations=[]}var r=this.snapshotPendingComponent();e=e||this.unboundModel!==r,this.unboundModel=r,this.updateOperationList=[],this.pendingUnboundTree=null,e?(this.$4&&this.bloksContext.objectSet.environment.logger.warn("Received model updates for a TreeManager that was already destroyed"),this.onNewTreeAndVariablesListener.emit({unboundModel:this.unboundModel,treeResourcesState:this.treeResourcesState})):this.$7()}},a.$8=function(){var t=this;this.beginUpdates(),(e||(e=n("Promise"))).resolve().then(function(){t.endUpdates()}).catch(function(e){t.bloksContext.objectSet.environment.logger.mustfix("Unexpected error when flushing updates",e)})},a.snapshotPendingComponent=function(){var e,t=(e=this.pendingUnboundTree)!=null?e:this.unboundModel,n=new Set(this.updateOperationList.splice(0));return n.size===0?t:o("WebBloksUpdateTraversal").runUpdateTraversal(t,{apply:function(t){var e,r=t,o;for(var a of n){var i=a[0],l=a[1],s=l.shouldUpdate,u=l.update;i.targets(r)&&(o?o.push(a):o=[a],(!s||s(r))&&(r===t&&(r=t.makeCopy()),u(r)))}return(e=o)==null||e.forEach(function(e){n.delete(e)}),r},onUpdatesApplied:function(){}},this.bloksContext.objectSet.environment.traversalKeys)},a.destroy=function(){this.$4=!0,this.onNewTreeAndVariablesListener.clear(),this.subscriptions.forEach(function(e){return e()}),this.subscriptions.clear()},t})();l.default=s}),98);
__d("WebBloksScreen",["WebBloksComponentContext","WebBloksConstants","WebBloksContainerConfig","WebBloksContext","WebBloksErrors","WebBloksInterpreterEnvironment","WebBloksParseResult","WebBloksPayloadParser","WebBloksScriptDebuggingUtils","WebBloksTreeManager","WebBloksURLUtils","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=0,c={isModal:!1,addToBackStack:!0,isEmbedded:!1},d="[wbloks] Missing AppLoader",m="WEBBLOKS_INFRA_SCREEN_",p=(function(){function e(e,t,n,r,a){var i;n===void 0&&(n=o("WebBloksUtils").EMPTY_OBJECT),this.value={state:"loading"},this.stateChangeListener=new(o("WebBloksUtils")).EventEmitter,this.dismissed=!1,this.objectSet=e,this.options=t,this.params=n,r!=null&&(this.uri=o("WebBloksURLUtils").removeQueryParams(r,["_rdr","wtsid"])),this.appId=a,t.screenId!=null?this.screenId=t.screenId:this.screenId=m+(++u).toString(),this.container=t.initialContainer,this.controllerName=(i=e.environment.controllerNavigationLogger)==null?void 0:i.getCurrentController()}var t=e.prototype;return t.getTreeManager=function(){return o("WebBloksUtils").nullthrows(this.treeManager)},t.getIsOverlay=function(){var e;return(e=this.container)==null||(e=e.config)==null?void 0:e.getIsOverlay()},t.setState=function(t){if(this.value=t,t.state==="ready"){var e=this.treeManager=new(r("WebBloksTreeManager"))(t.parseResult),n=new(o("WebBloksContext")).WebBloksContext(e,this.objectSet);if(e.initVariablesAndObserver(n,this.params),t.parseResult.unboundModel.styleId===o("WebBloksConstants").BK_INTERNAL_ACTION){var a=t.parseResult.unboundModel.getExpression("handler");if(a!=null){var i=new(o("WebBloksComponentContext")).WebBloksComponentContext(n);i.executeCatch(t.parseResult.unboundModel,a,[])}}}this.options.isEmbedded!==!0&&this.objectSet.navigationManager.notifyChanged(),this.stateChangeListener.emit(t)},t.setContainerConfigModel=function(t,n){var e,r,a,i=o("WebBloksContainerConfig").getContainerConfig(t,n);this.container==null?this.container={model:n,config:i}:(this.container.model=n,this.container.config=this.container.config.mergeWith(i)),(e=this.onContainerUpdate)==null||e.call(this,(r=this.container)==null?void 0:r.model,(a=this.container)==null?void 0:a.config)},t.setOnContainerUpdate=function(t){this.onContainerUpdate=t},t.setDismissCallback=function(t){this.$1=t},t.clearDismissCallback=function(){this.$1=null},t.dismiss=function(){var e=this;if(!this.dismissed){this.dismissed=!0;var t=this.$1;if(t!=null){var n=o("WebBloksUtils").nullthrows(this.options.ownerContext);n.treeManager.waitForCommittedTree().then(function(){n.execute(t.getValue(),[n])}).catch(function(r){o("WebBloksScriptDebuggingUtils").logScriptError(e.objectSet,r,t.getValue(),n)})}}},t.setOnExitCallback=function(t){this.$2=t},t.onExit=function(t){var e=this.$2;if(e!=null){var n=this.getTreeManager().bloksContext,o=r("WebBloksInterpreterEnvironment").fromBloksContext(n);o.executeOnNextTick(e,[n,t])}},t.destroy=function(){var e;(e=this.treeManager)==null||e.destroy(),this.setState({state:"destroyed"})},e.fromBloksAppResponse=function(n,r,a,i,l){a===void 0&&(a=c);var t=o("WebBloksPayloadParser").parseTree(r,n.environment.traversalKeys);return e.fromBloksParseResult(n,t,a,i,l)},e.fromBloksParseResult=function(n,r,o,a,i){o===void 0&&(o=c);var t=new e(n,o,a,i);return t.setState({state:"ready",parseResult:r}),t},e.fromBloksModel=function(n,a,i,l,s){l===void 0&&(l=c);var t=new e(n,babelHelpers.extends({initialTreeResources:i},l),s);return t.setState({state:"ready",parseResult:new(r("WebBloksParseResult"))(a,o("WebBloksUtils").nullthrows(i))}),t},e.fromURI=function(n,r,a,i,l){l===void 0&&(l=c);var t=new e(n,l,i,r,a);if(a!=null){var s;(s=n.environment.navigationTrackingUtils)==null||s.startNavigationCallback(a)}return _(n,t,o("WebBloksUtils").nullthrows(n.environment.appLoader,d).fetchAppByUrl(r)),t},e.fromAppId=function(n,r,a,i,l){i===void 0&&(i=c),l===void 0&&(l=null);var t=new e(n,i,a,l,r);if(r!=null){var s;(s=n.environment.navigationTrackingUtils)==null||s.startNavigationCallback(r)}return _(n,t,o("WebBloksUtils").nullthrows(n.environment.appLoader,d).fetchApp(r,a)),t},e.getExternalVariablesFromBloksScript=function(t,n){if(n==null)return null;var e=t.executeCatch(n,[]);return new Map(Object.entries(o("WebBloksUtils").cast(e)))},e})();function _(e,t,n){n.then(function(n){if(t.value.state!=="destroyed"){var r=babelHelpers.extends({},n);if(r.action!=null){var a;r.tree=(a={},a[o("WebBloksConstants").BK_INTERNAL_ACTION]={handler:r.action},a)}var i=r.server_data;if(i!=null&&(i.url_relative_path!=null&&e.navigationManager.replaceState(i.url_relative_path),i.page_title!=null&&e.navigationManager.replacePageTitle(i.page_title),i.controller_name!=null)){var l;t.controllerName=i.controller_name,(l=e.environment.controllerNavigationLogger)==null||l.setCurrentController(i.controller_name)}var s=o("WebBloksPayloadParser").parseTree({layout:{bloks_payload:r}},e.environment.traversalKeys);t.setState({state:"ready",parseResult:s})}}).catch(function(n){if(n instanceof o("WebBloksErrors").WebBloksNetworkError){var r;e.environment.logger.warn("Network error: "+String((r=t.uri)!=null?r:t.appId)+": ",n)}else{var a;e.environment.logger.mustfix("Failed to fetch app "+String((a=t.uri)!=null?a:t.appId)+": ",n)}t.setState({state:"error",error:n})})}l.WebBloksScreen=p}),98);
__d("WebBloksAsyncActionWithDataManifestV2",["WebBloksAsyncActions","WebBloksScreen","WebBloksScriptDebuggingUtils","webBloksPerformanceUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-start",{detail:{appId:t}});var a=r==null?void 0:r.get("on_success_with_result"),i=r==null?void 0:r.get("on_failure"),l=r==null?void 0:r.get("props"),s;l!=null&&(s=o("WebBloksScreen").WebBloksScreen.getExternalVariablesFromBloksScript(e,l)),o("WebBloksAsyncActions").executeAsyncAction(e,t,n,s).then(function(t){o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-success"),a!=null&&e.execute(a,[t,e.bloksContext])}).catch(function(t){o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-error"),o("WebBloksScriptDebuggingUtils").logScriptError(e.objectSet,t,null,e),i!=null&&e.execute(i,[e.bloksContext])}).catch(function(t){o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-error"),e.objectSet.environment.logger.mustfix("AsyncAction: failed to run error handler",t)})}l.default=e}),98);
__d("WebBloksAsyncLoadV2",["WebBloksPayloadParser","WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,r,a){var i=o("WebBloksUtils").nullthrows(e.objectSet.environment.appLoader);i.fetchApp(t,n).then(function(t){var n=o("WebBloksPayloadParser").parseTree({layout:{bloks_payload:t}},e.objectSet.environment.traversalKeys);e.treeManager.processResources([n]),e.execute(r,[n.unboundModel])}).catch(function(t){a(e,t)})}l.default=e}),98);
__d("WebBloksBindWithArrayV2",[],(function(t,n,r,o,a,i){function e(e,t,n){return function(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return t.apply(void 0,[e].concat(n,o))}}i.default=e}),66);
__d("WebBloksBoolAnd",["WebBloksBooleanUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n){return o("WebBloksBooleanUtils").isTrue(t)&&o("WebBloksBooleanUtils").isTrue(n)?1:0}l.default=e}),98);
__d("WebBloksBoolConst",["WebBloksBooleanUtils"],(function(t,n,r,o,a,i,l){function e(e,t){return o("WebBloksBooleanUtils").isTrue(t)}l.default=e}),98);
__d("WebBloksBoolNot",[],(function(t,n,r,o,a,i){function e(e,t){return!t}i.default=e}),66);
__d("WebBloksBoolOr",[],(function(t,n,r,o,a,i){function e(e,t,n){return t||n?1:0}i.default=e}),66);
__d("WebBloksCallbackApply",[],(function(t,n,r,o,a,i){function e(e,t){if(t==null)return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return t.invoke.apply(t,[e].concat(r))}i.default=e}),66);
__d("WebBloksCallback",["WebBloksErrors"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e,t,n,r){this.$1=e,this.$2=t,this.$4=n,this.$3=r}var t=e.prototype;return t.invoke=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(this.$3!=null)return this.$3.apply(this,n);var a=this.$2;if(a!=null){if(this.$1!=null)return a.apply(void 0,[this.$1].concat(n));if(this.$4!=null&&t!=null){var i=t.createBloksModelScopedContext(this.$4);return a.apply(void 0,[i].concat(n))}}throw new(o("WebBloksErrors")).WebBloksError("WebBloksCallback: An attempt to invoke an invalid callback.")},e})();l.WebBloksCallback=e}),98);
__d("WebBloksCallbackMake",["WebBloksCallback"],(function(t,n,r,o,a,i,l){function e(e,t){return new(o("WebBloksCallback")).WebBloksCallback(e,t)}l.default=e}),98);
__d("WebBloksCallbackMakeWithScopeOnly",["WebBloksCallback"],(function(t,n,r,o,a,i,l){function e(e,t){return new(o("WebBloksCallback")).WebBloksCallback(null,t,e.scope)}l.default=e}),98);
__d("WebBloksChildAtIndex",[],(function(t,n,r,o,a,i){function e(e,t,n){return t.getChildren_DEPRECATED()[n]}i.default=e}),66);
__d("WebBloksClipboardSetString",[],(function(t,n,r,o,a,i){function e(e,t){var n=window.navigator;n&&n.clipboard&&"writeText"in n.clipboard?n.clipboard.writeText(t):l(t)||e.bloksContext.objectSet.environment.logger.warn("clipboard.SetString not supported on this browser")}function l(e){var t=document.body;if(!t)return!1;var n=document.activeElement,r=!0,o=document.createElement("textarea");if(t.appendChild(o),o.value=e,navigator.userAgent.match(/ipad|ipod|iphone/i)){var a=document.createRange();a.selectNodeContents(o);var i=window.getSelection();i.removeAllRanges(),i.addRange(a),o.setSelectionRange(0,999999)}else o.select();try{r=document.execCommand("copy")}catch(e){r=!1}return t.removeChild(o),n!=null&&n.focus(),r}i.default=e}),66);
__d("WebBloksConstNumber",[],(function(t,n,r,o,a,i){function e(e,t){return Number(t)}i.default=e}),66);
__d("WebBloksContextGet",[],(function(t,n,r,o,a,i){function e(e){return e.bloksContext}i.default=e}),66);
__d("WebBloksCurrentTimeMillis",[],(function(t,n,r,o,a,i){function e(e){return Date.now()}i.default=e}),66);
__d("WebBloksDangerouslyGetTreeFromParseResult",[],(function(t,n,r,o,a,i){function e(e,t){return t.unboundModel}i.default=e}),66);
__d("WebBloksDelay",[],(function(t,n,r,o,a,i){function e(e,t,n){window.setTimeout(function(){e.executeCatch(n,[e])},t)}i.default=e}),66);
__d("WebBloksDeviceLog",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=n==null?void 0:n.get("tag"),o=r!==void 0?"["+r+"] "+t:t;switch(n==null?void 0:n.get("priority")){case"debug":break;case"error":break;case"info":break;case"warn":break;case"verbose":default:}}i.default=e}),66);
__d("WebBloksDismissBottomSheet",[],(function(t,n,r,o,a,i){function e(e,t){return e.objectSet.navigationManager.popAllModals(),e.executeCatch(t,[])}i.default=e}),66);
__d("WebBloksDismissToast",[],(function(t,n,r,o,a,i){function e(e,t,n,r){e.objectSet.toastManager.dismissToastWithID(t,n)}i.default=e}),66);
__d("WebBloksFindComponentContext",["WebBloksLegacyTraverser","WebBloksMutations"],(function(t,n,r,o,a,i,l){function e(e,t){var n=e.objectSet,r=e.treeManager,a=r.getBoundTree();if(a){var i=o("WebBloksLegacyTraverser").findComponent(a,new(o("WebBloksMutations")).ServerIdTarget(""+t),n.environment.traversalKeys);if(i)return i}return null}l.default=e}),98);
__d("WebBloksGetAttr",[],(function(t,n,r,o,a,i){function e(e,t,n){return t.get(n)}i.default=e}),66);
__d("WebBloksI18nUtils",[],(function(t,n,r,o,a,i){"use strict";var e=["fb-AR","fb-RL"],l=["ar","he","ur","fa","sy","yi","ps","cb"];function s(e){var t,n,r=e.split(/[_-]/),o=((t=r[0])!=null?t:"").toLowerCase(),a=((n=r[1])!=null?n:"").toUpperCase();return{language:o,country:a}}function u(e){var t=s(e);return t.country!==""?t.language+"-"+t.country:t.language}function c(t){var n;Array.isArray(t)?n=t[0]:n=t;var r=s(n);return l.includes(r.language)||e.includes(r.language+"-"+r.country)}i.parseLocale=s,i.toBrowserLocaleFormat=u,i.isLocaleRtl=c}),66);
__d("WebBloksDateUtils",["WebBloksI18nUtils"],(function(t,n,r,o,a,i,l){var e={short:{year:"2-digit",month:"numeric",day:"numeric"},medium:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric"},full:{weekday:"long",year:"numeric",month:"long",day:"numeric"}},s={short:{hour:"numeric",minute:"2-digit"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"}};function u(t,n,r){return t==="date"?babelHelpers.extends({},e[n]):t==="time"?babelHelpers.extends({},s[r!=null?r:n]):babelHelpers.extends({},e[n],s[r!=null?r:n])}function c(e,t,n,r,a,i){var l=e*1e3;if(!Number.isFinite(l))return null;var s;return Array.isArray(t)?s=[].concat(t):s=o("WebBloksI18nUtils").toBrowserLocaleFormat(t),new Intl.DateTimeFormat(s,babelHelpers.extends({},u(n,r,a),{timezone:i})).format(e*1e3)}l.getDateTimeText=c}),98);
__d("WebBloksGetDatetimeText",["WebBloksDateUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,r,a,i,l){var c=u(r,"medium"),d=u(a,"long"),m=s(n,"datetime");return o("WebBloksDateUtils").getDateTimeText(t,e.bloksContext.objectSet.environment.locale,m,c,d,l)}function s(e,t){return e!=="date"&&e!=="datetime"&&e!=="time"?t:e}function u(e,t){return e!=="short"&&e!=="medium"&&e!=="long"&&e!=="full"?t:e}l.default=e}),98);
__d("WebBloksGetDeserializedEmbeddedPayload",["WebBloksErrors"],(function(t,n,r,o,a,i,l){function e(e,t){var n,r=(n=e.getResources())==null||(n=n.payloads.get(t))==null?void 0:n.payload;if(r==null)throw new(o("WebBloksErrors")).WebBloksError("Could not find embedded payload for ID: "+t);return r}l.default=e}),98);
__d("WebBloksGetHeightV2",[],(function(t,n,r,o,a,i){function e(e,t,n){var r,o,a=(r=t.uiMutableContainer.domNode)==null?void 0:r.current;return(o=a==null?void 0:a.clientHeight)!=null?o:0}i.default=e}),66);
__d("WebBloksGetParameter",[],(function(t,n,r,o,a,i){function e(e,t){return e.readParameter(t)}i.default=e}),66);
__d("WebBloksInflate",["WebBloksDataModule","WebBloksModelParser","WebBloksParseResult","WebBloksScopedIds","WebBloksSourceMapNode","WebBloksSourceMapPayloadMetadata","WebBloksSourceMapRootNode","WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,a,i,l){var s,u,c=e.referenced,d=e.referenced_embedded_payloads,m=e.referenced_external,p=[],_=[];if(c)for(var f of c)p.push(t.readManifestEntry(f));if(m)for(var g of m)p.push(o("WebBloksDataModule").dangerouslyCreateLocalStateDataManifestEntry_DO_NOT_USE(g,t.readVariable(g)));if(l!=null)for(var h of Object.entries(l)){var y=h[0],C=h[1],b=o("WebBloksScopedIds").getScopedVariableIdAtDepth(t.scope,y,t.scope.length),v=o("WebBloksDataModule").dangerouslyCreateLocalStateDataManifestEntry_DO_NOT_USE(b,C);p.push(v)}if(d)for(var S of d)_.push(t.readPayload(S));var R=t.objectSet.environment.traversalKeys,L=t.getBaseSourceMapNode(),E=L==null?void 0:L.getSourceMapID(),k=L==null?void 0:L.getLoggingID(),I=null,T=o("WebBloksModelParser").parseBloksModelFromJSON(o("WebBloksUtils").cast(e.tree),R,I);a&&(T=T.makeDeepCopyWithNewClientIds(i?t.scope.slice():null,R));var D=o("WebBloksModelParser").parseBloksTreeResources(babelHelpers.extends({},e,{data:[].concat((s=e.data)!=null?s:[],p),embedded_payloads:[].concat((u=e.embedded_payloads)!=null?u:[],_)}),T,R);return new(r("WebBloksParseResult"))(T,D,k)}l.inflateBloksDataFromBloksPayloadToBloksParseResult=e}),98);
__d("WebBloksGetPayload",["WebBloksInflate"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r=e.createScopedContext(),a=e.readPayload(t),i=o("WebBloksInflate").inflateBloksDataFromBloksPayloadToBloksParseResult(a.payload.layout.bloks_payload,r,t,!0,!0,n);return i}l.default=e}),98);
__d("WebBloksGetScript",[],(function(t,n,r,o,a,i){function e(e,t){return e.treeManager.getCommittedTreeResources().functionTable.get(t)}i.default=e}),66);
__d("WebBloksGetState",["WebBloksLegacyTraverser","WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=String(t),r=e.bloksContext.bkContextKeyStates.get(n);if(!r){var a=o("WebBloksUtils").nullthrows(o("WebBloksLegacyTraverser").getStateInitializer(e.objectSet.environment.traversalKeys,e.treeManager,n),"No state initializer available for id "+n);r=e.executeCatch(a,o("WebBloksUtils").EMPTY_ARRAY),e.bloksContext.bkContextKeyStates.set(n,r)}return r}l.default=e}),98);
__d("WebBloksGetTemplateArg",["WebBloksErrors","WebBloksScopedIds"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r=e.scope;if(n===0)return e.readExpandedVariable(t);if(!r)throw new(o("WebBloksErrors")).WebBloksError("Keypath must be set on environment if trying to GetTemplateArg on a depth larger than 0.");if(n>r.length)throw new(o("WebBloksErrors")).WebBloksError("Depth supplied should never exceed the size of the key path.");var a=o("WebBloksScopedIds").getScopedVariableIdAtDepth(r,t,n);return e.readExpandedVariable(a)}l.default=e}),98);
__d("WebBloksGetValue",[],(function(t,n,r,o,a,i){function e(e,t){return e.readValue(t)}i.default=e}),66);
__d("WebBloksGetVariable2",[],(function(t,n,r,o,a,i){function e(e,t){return e.readVariable(t)}i.default=e}),66);
__d("WebBloksGetVariableWithScope",["WebBloksErrors","WebBloksScopedIds"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r=e.scope;if(n===0)return e.readVariable(t);if(r==null)throw new(o("WebBloksErrors")).WebBloksError("Keypath must be set on environment if trying to WriteLocalState on a depth larger than 0.");if(n>r.length)throw new(o("WebBloksErrors")).WebBloksError("Depth supplied should never exceed the size of the key path.");var a=o("WebBloksScopedIds").getScopedVariableIdAtDepth(r,t,n),i=e.readVariable(a);return i==null&&(i=e.readVariable(t)),i}l.default=e}),98);
__d("WebBloksGetWidthV2",[],(function(t,n,r,o,a,i){function e(e,t,n){var r,o,a=(r=t.uiMutableContainer.domNode)==null?void 0:r.current;return(o=a==null?void 0:a.clientWidth)!=null?o:0}i.default=e}),66);
__d("WebBloksIndexOfChild",["WebBloksLegacyTraverser"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r,a,i=t;if(i==null||i.getId()==null)return e.objectSet.environment.logger.warn("bk.action.bloks.IndexOfChild called on a container without an ID"),-1;var l=o("WebBloksLegacyTraverser").findComponentByServerId(e.treeManager,i.getId(),e.objectSet.environment.traversalKeys),s=String(n);return(r=l==null||(a=l.getChildren_DEPRECATED())==null?void 0:a.findIndex(function(e){return e.getId()===s}))!=null?r:-1}l.default=e}),98);
__d("WebBloksInflateSync",["WebBloksModelParser","WebBloksSourceMapNode","WebBloksSourceMapPayloadMetadata","WebBloksSourceMapRootNode"],(function(t,n,r,o,a,i,l){function e(e,t){var n=null;return o("WebBloksModelParser").parseBloksModelFromJSON(t,e.objectSet.environment.traversalKeys,n)}l.default=e}),98);
__d("WebBloksInsertChildrenAfter",["WebBloksChildrenOperationsHelper"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){o("WebBloksChildrenOperationsHelper").insertChildrenAfter(e.treeManager,n,""+r)}l.default=e}),98);
__d("WebBloksInsertEmbeddedChildrenAfter",["WebBloksChildrenOperationsHelper"],(function(t,n,r,o,a,i,l){function e(e,t,n,r,a){o("WebBloksChildrenOperationsHelper").insertEmbeddedChildrenAfter(e.treeManager,n,""+r)}l.default=e}),98);
__d("WebBloksInsertEmbeddedChildrenBefore",["WebBloksChildrenOperationsHelper"],(function(t,n,r,o,a,i,l){function e(e,t,n,r,a){o("WebBloksChildrenOperationsHelper").insertEmbeddedChildrenBefore(e.treeManager,n,""+r)}l.default=e}),98);
__d("WebBloksJsonDecode",[],(function(t,n,r,o,a,i){function e(e,t){return JSON.parse(t)}i.default=e}),66);
__d("WebBloksJsonEncode",[],(function(t,n,r,o,a,i){function e(e,t){return JSON.stringify(t,function(e,t){return typeof t=="boolean"?t?1:0:t})}i.default=e}),66);
__d("WebBloksJsonEncodeV3",[],(function(t,n,r,o,a,i){function e(e,t){return JSON.stringify(t)}i.default=e}),66);
__d("WebBloksMakeFlat",[],(function(t,n,r,o,a,i){function e(e){for(var t={},n=0;n<(arguments.length<=1?0:arguments.length-1)-1;n+=2){var r=String(n+1<1||arguments.length<=n+1?void 0:arguments[n+1]);t[r]=n+1+1<1||arguments.length<=n+1+1?void 0:arguments[n+1+1]}return t}i.default=e}),66);
__d("WebBloksMapClone",[],(function(t,n,r,o,a,i){function e(e,t){return babelHelpers.extends({},t)}i.default=e}),66);
__d("WebBloksMapFilter",["WebBloksBooleanUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r={};for(var a of Object.entries(t)){var i=a[0],l=a[1],s=n(e,i,l);o("WebBloksBooleanUtils").isTrue(s)&&(r[i]=l)}return r}l.default=e}),98);
__d("WebBloksMapGet",[],(function(t,n,r,o,a,i){function e(e,t,n){return t[n]}i.default=e}),66);
__d("WebBloksMapKeys",[],(function(t,n,r,o,a,i){function e(e,t){return Object.keys(t)}i.default=e}),66);
__d("WebBloksMapMake",[],(function(t,n,r,o,a,i){function e(e,t,n){for(var r={},o=0;o<t.length;o++)r[t[o]]=n[o];return r}i.default=e}),66);
__d("WebBloksMapMerge",[],(function(t,n,r,o,a,i){function e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign.apply(Object,[{}].concat(n))}i.default=e}),66);
__d("WebBloksMapRemove",[],(function(t,n,r,o,a,i){function e(e,t,n){delete t[n]}i.default=e}),66);
__d("WebBloksMapUpdate",[],(function(t,n,r,o,a,i){function e(e,t,n){Object.assign(t,n)}i.default=e}),66);
__d("WebBloksMapValues",[],(function(t,n,r,o,a,i){function e(e,t){return Array.from(Object.values(t))}i.default=e}),66);
__d("WebBloksEqual",["WebBloksBooleanUtils"],(function(t,n,r,o,a,i,l){function e(e,t){return e===t||e==null&&t==null||o("WebBloksBooleanUtils").isTrue(e)&&o("WebBloksBooleanUtils").isTrue(t)||o("WebBloksBooleanUtils").isFalse(e)&&o("WebBloksBooleanUtils").isFalse(t)}l.isEqual=e}),98);
__d("WebBloksMatch",["WebBloksEqual"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){for(var a of n)if(o("WebBloksEqual").isEqual(a.case,t))return a.expression(e);return r(e)}l.default=e}),98);
__d("WebBloksRegexUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=e.match(/\(\?([imsuy]+)\)/);if(!t)return{normalizedPattern:e};var n=t[1],r=t.index,o=r+t[0].length,a=e.slice(0,r)+e.slice(o);return{normalizedPattern:a,flags:n}}i.extractPatternAndFlags=e}),66);
__d("WebBloksMatchesRegex",["WebBloksRegexUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r=o("WebBloksRegexUtils").extractPatternAndFlags(n),a=r.flags,i=r.normalizedPattern,l=new RegExp(i,a);return!!t.match(l)}l.default=e}),98);
__d("WebBloksMinsTypeOf",[],(function(t,n,r,o,a,i){function e(e,t){if(t==null)return 0;if(Array.isArray(t))return 6;switch(typeof t){case"boolean":return 1;case"string":return 2;case"number":return 4;case"function":return 8;case"object":return 7}return-1}i.default=e}),66);
__d("WebBloksNavigationCloseScreen",[],(function(t,n,r,o,a,i){function e(e){e.objectSet.navigationManager.pop()}i.default=e}),66);
__d("WebBloksNumberAnd",[],(function(t,n,r,o,a,i){function e(e,t,n){return t&n}i.default=e}),66);
__d("WebBloksNumberEq",["WebBloksEqual"],(function(t,n,r,o,a,i,l){function e(e,t,n){return o("WebBloksEqual").isEqual(t,n)}l.default=e}),98);
__d("WebBloksNumberGt",[],(function(t,n,r,o,a,i){function e(e,t,n){return t>n}i.default=e}),66);
__d("WebBloksNumberLt",[],(function(t,n,r,o,a,i){function e(e,t,n){return t<n}i.default=e}),66);
__d("WebBloksNumberMod",[],(function(t,n,r,o,a,i){function e(e,t,n){return t%n}i.default=e}),66);
__d("WebBloksNumberOr",[],(function(t,n,r,o,a,i){function e(e,t,n){return t|n}i.default=e}),66);
__d("WebBloksNumberRand",[],(function(t,n,r,o,a,i){function e(e,t,n){return Math.floor(Math.random()*(n-t))+t}i.default=e}),66);
__d("WebBloksCollectionHelpers",["WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=e==="column",n=t?"height":"width",r=t?"width":"height",o=t?"marginTop":"marginLeft",a=t?"marginBottom":"marginRight",i=t?"top":"left",l=t?"bottom":"right";return{mainAxisSize:n,crossAxisSize:r,mainAxisMarginStart:o,mainAxisMarginEnd:a,start:i,end:l}}function s(e,t){var n,r=(n=e.getStyle("collection"))==null?void 0:n.get(t);return o("WebBloksUtils").isPercentage(r)}function u(t){var n,r=t.getValues(),o=r.children,a=r.direction,i=e(a),l=i.mainAxisSize,u=(n=o&&o.some(function(e){return s(e,l)}))!=null?n:!1;return u?a==="column"?"size":"inline-size":"normal"}function c(e){return e.get("measurement_version_internal_use_only")==="v2"}l.getDirectionPropNames=e,l.hasCollectionDimensionInPct=s,l.getContainerType=u,l.shouldUseWebBloksCollectionV2=c}),98);
__d("WebBloksNormaliseYogaDimension",["WebBloksCollectionHelpers","WebBloksConstants","WebBloksModel"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Set([(e=o("WebBloksConstants")).BK_FLEXBOX,e.BK_IMAGE,e.BK_COLLECTION,e.BK_SLIDER]),u="$GROW_WIDTH",c="$GROW_HEIGHT";function d(e,t,n){if(n===void 0&&(n=!1),!(n||!s.has(e.styleId))){var r=e.getSubNode("_style"),a=r==null?void 0:r.get("width"),i=r==null?void 0:r.get("height"),l=r==null?void 0:r.get("position_type"),d=t[t.length-2];if(a===void 0&&v(e)&&!e.get("use_correct_measure")?(d!=null&&h(d,"width")?b(e,"grow",1):b(e,"width","100%"),_(t,t.length-1,"width","100%")):e.styleId===o("WebBloksConstants").BK_SLIDER?_(t,t.length-1,"width","100%"):typeof a=="string"&&a.endsWith("%")&&_(t,t.length-1,"width",a),!(a!=null&&r!=null&&r.get("aspect_ratio"))){if(i===void 0&&e.styleId===o("WebBloksConstants").BK_COLLECTION&&!e.get("use_correct_measure"))d!=null&&h(d,"height")?b(e,"grow",1):b(e,"height","100%"),_(t,t.length-1,"height","100%");else if(typeof i=="string"&&i.endsWith("%")&&l!=="absolute")if(C(d,"height")==null){var p=m(t,"height");p?b(d,"height","100%"):_(t,t.length-1,"height",i)}else _(t,t.length-1,"height",i)}e.set(u,void 0),e.set(c,void 0)}}function m(e,t){for(var n=e.length-2;n>=0;n--){var r=e[n];if(!y(e[n+1],r)||!p(r))return null;if(C(r,t)!=null)return r}}function p(e){var t;return e!=null&&((t=e.get("children"))==null?void 0:t.length)===1}function _(e,t,n,r){var a,i=e[t],l=e[t-1];if(l&&e[t-2]!=null&&(l.styleId===o("WebBloksConstants").BK_SCREEN_WRAPPER_LEGACY||l.styleId===o("WebBloksConstants").BK_SCREEN_WRAPPER))return _(e,t-2,n,r);if(l&&l.styleId==="bk.components.Collection"&&o("WebBloksCollectionHelpers").shouldUseWebBloksCollectionV2(l)){var s=l.getValues().direction;return!(s==="row"&&n==="height"||s==="column"&&n==="width")}if(!l||l.styleId!==o("WebBloksConstants").BK_FLEXBOX||C(l,n)!=null||C(l,"grow")===0)return b(i,n,r),!0;var u=((a=l.get("children"))==null?void 0:a.length)===1,c=h(l,n);if(u){var d=_(e,t-1,n,r);return d?(C(i,n)!=null&&b(i,n,void 0),c&&C(i,"grow")==null&&b(i,"grow",1)):b(i,n,r),!0}return c?(b(i,n,r),f(e,t-1,n),!0):y(i,l)?(f(e,t-1,n),!1):(b(i,n,r),f(e,t-1,n),!0)}function f(e,t,n){for(var r=t;r>=0;r--){var a=e[r];if(a.styleId!==o("WebBloksConstants").BK_FLEXBOX||C(a,n)!==null||C(a,"grow")===0||a.get(n==="width"?u:c))break;a.set(n==="width"?u:c,!0);var i=e[r-1];if(i){if(h(i,n)){C(a,"grow")==null&&(b(a,"grow",1),b(a,"justifyContent","inherit"));continue}else if(y(a,i))continue}b(a,n,"100%")}}function g(e){return e.styleId!==o("WebBloksConstants").BK_FLEXBOX?!1:e.get("flex_direction")==="column"||e.get("flex_direction")==="column_reverse"}function h(e,t){var n=g(e);return n&&t==="height"||!n&&t==="width"}function y(e,t){var n,r,a;return!t||t.styleId!==o("WebBloksConstants").BK_FLEXBOX?!1:((n=(r=(a=e.getStyle("flex"))==null?void 0:a.get("align_self"))!=null?r:t.get("align_items"))!=null?n:"stretch")==="stretch"}function C(e,t){var n,r;return(n=e==null||(r=e.getSubNode(o("WebBloksConstants").BK_STYLE_ATTR))==null?void 0:r.get(t))!=null?n:null}function b(e,t,n){var r=e.get(o("WebBloksConstants").BK_STYLE_ATTR);if(r){var a=r.getValues()[t];if(a!==n){var i=r.makeCopy();i.getValues()[t]=n,e.set(o("WebBloksConstants").BK_STYLE_ATTR,i)}}else{var l,s=(l={},l[t]=n,l);e.getValues()[o("WebBloksConstants").BK_STYLE_ATTR]=new(o("WebBloksModel")).WebBloksModel(o("WebBloksConstants").BK_FLEX,s)}}function v(e){return e.styleId===o("WebBloksConstants").BK_COLLECTION}function S(e,t,n,r){n===void 0&&(n=[]),r===void 0&&(r=!1),n.push(e);var a=e.styleId,i=t[a];if(i!=null){var l=i.plural_subnodes,s=i.subnodes;if(s)for(var u of s){var c=e.getSubNode(u);if(c!=null){var m=S(c,t,n,r);e.set(u,m)}}if(l){for(var p of l)if(p!==o("WebBloksConstants").CHILD_TEMPLATES){var _=e.getSubNodes(p);_!=null&&e.set(p,_.map(function(e){return S(e,t,n,r)}))}}}return d(e,n,r),n.pop(),e}l.normaliseYogaDimensions=d,l.normaliseBoundModel=S}),98);
__d("WebBloksBind",["BindTreeResources","WebBloksConstants","WebBloksErrors","WebBloksInterpreterEnvironment","WebBloksModel","WebBloksNormaliseYogaDimension","WebBloksScopedIds","WebBloksScriptExecutor","WebBloksUpdateTraversal","WebBloksUtils"],(function(t,n,r,o,a,i,l){"use strict";var e="$DESCENDANT_BIND_VARIABLE_DEPENDENCIES",s="$DESCENDANT_EXPANDED_VARIABLES",u=(function(){function e(e,t,n,r){if(this.previousVariableDependencies=o("WebBloksUtils").EMPTY_MAP,this.expandedVariables=new Map,this.bloksContext=e,this.resources=t,this.clientIdToScopedIdMapper=n,r)if(this.nextCache=new c(r.bindCache),this.cache=r.bindCache,this.previousExpandedVariables=r.expandedVariables,this.variablesChanged=new Set,r.dependencies){this.previousVariableDependencies=r.dependencies;for(var a of r.dependencies){var i=a[0],l=a[1];l!==t.variables.get(i)&&this.variablesChanged.add(i)}}else this.previousVariableDependencies=o("WebBloksUtils").EMPTY_MAP;else this.nextCache=new c(null),this.cache=new c(null),this.previousExpandedVariables=o("WebBloksUtils").EMPTY_MAP,this.previousVariableDependencies=o("WebBloksUtils").EMPTY_MAP,this.variablesChanged=void 0}var t=e.prototype;return t.apply=function(n,a,i,l,s){var t,u=n,c=u.getExpression(o("WebBloksConstants").ON_BIND);if(c==null)return u;var d=new(r("WebBloksInterpreterEnvironment"))(this.bloksContext,new(o("BindTreeResources")).BindTreeResources(this.resources,this.expandedVariables),u.keyPath,c.getSourceMapNode(),"BIND");d.variableAccessLog=l;for(var m=o("WebBloksScriptExecutor").execute(d,c.getValue(),o("WebBloksUtils").EMPTY_ARRAY),p=null,_=u.getId(),f=(t=u.keyPath)!=null?t:[],g=this.bloksContext.objectSet.environment.traversalKeys,v=m.length>0&&!Array.isArray(m[0]),S=0;S<m.length;S++){var R=null,L=void 0,E=void 0;if(v)E=m[S],L=m[++S];else{var k=m[S];R=k[0]==null?null:""+k[0],E=""+k[1],L=k[2]}var I=void 0;if(h(E,u.styleId,g)){var T=C(this,u,i,f,s,L,g);for(var D of T)p=this.addToTemplateCache(p,D);I=T}else if(y(E,u.styleId,g)){var x=b(this,u,i,f,s,L,g);I=x,x!=null&&(p=this.addToTemplateCache(p,x))}else I=L;if(v||R===_)u=e.applyOperation(u,a,E,I);else throw new(o("WebBloksErrors")).WebBloksError('Encountered binding targeted for a descendant from bind script "'+E+'"')}return this.nextCache.cacheUnboundChildTemplates(u,p),u},t.addToTemplateCache=function(t,n){var e=t!=null?t:new Map;return e.set(n.clientId,n),e},t.addExpandedVariable=function(t,n){if(this.expandedVariables.set(t,n),this.variablesChanged){var e=this.previousExpandedVariables.get(t);if(e!==n){var r;(r=this.variablesChanged)==null||r.add(t)}}},e.applyOperation=function(n,r,o,a){return e.applyAttribute(n,r,o,a)},e.applyAttribute=function(n,r,o,a){if(n!==r||r.get(o)!==a){var t=e.ensureUnique(n,r);return t.set(o,a),t}return n},e.ensureUnique=function(t,n){return t===n?n.makeBoundCopy():t},e})(),c=(function(){function e(e){var t,n,r;this.expandedVariables=(t=e==null?void 0:e.expandedVariables)!=null?t:new Map,this.unboundChildTemplates=(n=e==null?void 0:e.unboundChildTemplates)!=null?n:new Map,this.variableDependencies=(r=e==null?void 0:e.variableDependencies)!=null?r:new Map}var t=e.prototype;return t.transferCache=function(t,n,r){var e=this;t.traverse(function(t){return e.$1(t,n),!1},r)},t.cacheUnboundChildTemplates=function(t,n){n&&this.unboundChildTemplates.set(t.clientId,n)},t.cacheVariableDependencies=function(t,n){this.variableDependencies.set(t.clientId,n)},t.cacheExpandedVariables=function(t,n){n.size>0&&this.expandedVariables.set(t.clientId,n)},t.getVariableDependencies=function(t){return this.variableDependencies.get(t.clientId)},t.getExpandedVariables=function(t){return this.expandedVariables.get(t.clientId)},t.getUnboundChildTemplates=function(t){return t?this.unboundChildTemplates.get(t.clientId):null},t.$1=function(t,n){var e=t.clientId,r=this.expandedVariables.get(e);r&&n.expandedVariables.set(e,r);var o=this.unboundChildTemplates.get(e);o&&n.unboundChildTemplates.set(e,o);var a=this.variableDependencies.get(e);a&&n.variableDependencies.set(e,a)},e})();function d(e,t,n,r,a){var i=r!=null?n.withVariableUpdates(r):n,l=m(e,t,i,a);return l.boundModel=o("WebBloksNormaliseYogaDimension").normaliseBoundModel(l.boundModel,e.objectSet.environment.traversalKeys),l}function m(e,t,n,r){var o=new u(e,n,e.scopedClientIdMapper,r);return p(t,r,o)}function p(e,t,n){var r=new Set,a=new Map,i=_(e,t==null?void 0:t.boundModel,n,r,a),l=new Map;for(var s of r)l.set(s,n.resources.variables.get(s));return o("WebBloksUtils").putAll(l,n.expandedVariables),{unboundModel:e,boundModel:i,variables:n.resources.variables,expandedVariables:n.expandedVariables,dependencies:l,bindCache:n.nextCache}}function _(t,n,r,a,i){if(t.get(o("WebBloksConstants").DESCENDANT_HAS_BIND)===!1)return t;var l=t,c=new Set,d=new Map;l=r.apply(l,t,n,c,d),l=f(l,t,n,r,c,d),d.size>0&&(l=u.applyAttribute(l,t,s,d)),l!==t&&(l=u.applyAttribute(l,t,e,c));for(var m of c)a.add(m);return o("WebBloksUtils").putAll(i,d),l}function f(e,t,n,r,a,i){var l=e,s=r.bloksContext.objectSet.environment.traversalKeys[l.styleId];if(s==null)return l;var c=s.plural_subnodes,d=s.subnodes;if(d)for(var m of d){var p=l.getSubNode(m);if(p instanceof o("WebBloksModel").WebBloksModel){var f=n==null?void 0:n.getSubNode(m);if(f instanceof o("WebBloksModel").WebBloksModel||f==null){var h=_(p,f,r,a,i);l=u.applyAttribute(l,t,m,h)}}}if(c){for(var y of c)if(y!==o("WebBloksConstants").CHILD_TEMPLATES){for(var C=l.getChildren_DEPRECATED(y),b=C,v=n==null?void 0:n.getChildren_DEPRECATED(y),S=0,R=0;R<C.length;R++){var L=C[R];if(L){var E=g(L,v,R),k=_(L,E,r,a,i);if(k!==L)if(b===C&&(b=C.slice()),k.styleId===o("WebBloksConstants").BK_INTERNAL_MERGE_WITH_BIND){var I,T=k.getChildren_DEPRECATED();(I=b).splice.apply(I,[R+S,1].concat(T)),S+=T.length-1}else b[R+S]=k}}b!==C&&(l=u.applyAttribute(l,t,y,b))}}return l}function g(e,t,n){var r;if(t)return((r=t[n])==null?void 0:r.clientId)===e.clientId?t[n]:t.find(function(t){return t.clientId===e.clientId})}function h(e,t,n){var r;return!!((r=n[t])!=null&&(r=r.plural_subnodes)!=null&&r.includes(e))}function y(e,t,n){var r;return!!((r=n[t])!=null&&(r=r.subnodes)!=null&&r.includes(e))}function C(e,t,n,r,o,a,i){return a.map(function(a){return b(e,t,n,r,o,a,i)}).filter(Boolean)}function b(e,t,n,r,a,i,l){if(i==null)return null;var s;Array.isArray(i)?s={templateId:i[0],expandedVariables:new Map(Object.entries(i[1])),scopeKey:i[2],keyPathBase:r}:s=i;var u;if(typeof s.templateId=="number"){var c=s.templateId,d=t.getChildren_DEPRECATED(o("WebBloksConstants").CHILD_TEMPLATES);if(c<0||c>=d.length)throw new(o("WebBloksErrors")).WebBloksError("Invalid child template index "+c+" for "+s.scopeKey);u=d[c]}else{var m=e.resources.templates.get(s.templateId);if(m==null)throw new(o("WebBloksErrors")).WebBloksError("No such template in tree resources: "+s.templateId);u=m}var p=e.clientIdToScopedIdMapper.getScopedClientId(t,u,s.scopeKey),_=o("WebBloksScopedIds").extendKeyPath(s.keyPathBase,p),f=o("WebBloksScopedIds").buildKeypathBase(_);s.expandedVariables.size>0&&v(e,s.expandedVariables,f,a);var g=e.cache.getUnboundChildTemplates(n);if(g){var h=g.get(p);if(h)return h}return o("WebBloksUpdateTraversal").runUpdateTraversal(u,{apply:function(r){return e.clientIdToScopedIdMapper.copyModelWithKeyPath(t,r,_,s.scopeKey)},onUpdatesApplied:function(){}},l)}function v(e,t,n,r){for(var a of t.entries()){var i=a[0],l=a[1],s=o("WebBloksScopedIds").buildScopedVariableIdentifier(i,n);e.addExpandedVariable(s,l),r.set(s,l)}}l.bind=d}),98);
__d("WebBloksOneTimeBind",["WebBloksBind"],(function(t,n,r,o,a,i,l){function e(e,t){var n=e.treeManager,r=n.getCommittedTreeResources(),a=o("WebBloksBind").bind(e.bloksContext,t,r);return a.boundModel}l.default=e}),98);
__d("WebBloksOpenBottomSheet",["WebBloksScreen"],(function(t,n,r,o,a,i,l){function e(e,t,n){e.objectSet.navigationManager.push(o("WebBloksScreen").WebBloksScreen.fromBloksModel(e.objectSet,t,e.treeManager.initialTreeResources,{isModal:!0,ownerContext:e}))}l.default=e}),98);
__d("WebBloksOpenBottomSheetV2",["WebBloksScreen"],(function(t,n,r,o,a,i,l){function e(e,t,n){e.objectSet.navigationManager.push(o("WebBloksScreen").WebBloksScreen.fromBloksParseResult(e.objectSet,t,{isModal:!0,ownerContext:e}))}l.default=e}),98);
__d("WebBloksOpenDialog",["WebBloksScreen"],(function(t,n,r,o,a,i,l){function e(e,t,n){e.objectSet.navigationManager.push(o("WebBloksScreen").WebBloksScreen.fromBloksModel(e.objectSet,t,e.treeManager.initialTreeResources,{isModal:!0,ownerContext:e}))}l.default=e}),98);
__d("WebBloksOpenDialogV2",["WebBloksScreen"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){e.treeManager.synchronouslyAddTreeResources(t),e.objectSet.navigationManager.push(o("WebBloksScreen").WebBloksScreen.fromBloksParseResult(e.objectSet,t,{isModal:!0,ownerContext:e}))}l.default=e}),98);
__d("WebBloksOpenFullScreenV4",["WebBloksScreen","webBloksPerformanceUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,r,a){var i=t.get("navbar_data"),l=t.get("loading_screen"),s=r?r.get("presentation_mode")==="modal":!1,u=t.get("url_relative_path"),c=t.get("ttrc_marker_id"),d={isModal:s,loadingNavbar:i,loadingScreen:l,initialTreeResources:e.bloksContext.treeManager.initialTreeResources,ownerContext:e},m=t.get("app_id");o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-ttrc-start",{detail:{appId:m,markerId:c}}),e.objectSet.navigationManager.push(o("WebBloksScreen").WebBloksScreen.fromAppId(e.objectSet,m,n,d,u))}l.default=e}),98);
__d("WebBloksOpenScreen",["WebBloksScreen","webBloksPerformanceUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n){o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-ttrc-start",{detail:{appId:t}}),e.objectSet.navigationManager.push(o("WebBloksScreen").WebBloksScreen.fromAppId(e.objectSet,t,n))}l.default=e}),98);
__d("WebBloksOpenScreenByRoute",["WebBloksScreen","webBloksPerformanceUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n){o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-ttrc-start",{detail:{appId:n}}),e.objectSet.navigationManager.push(o("WebBloksScreen").WebBloksScreen.fromAppId(e.objectSet,n,void 0,{ownerContext:e},t))}l.default=e}),98);
__d("WebBloksOpenUniversalLink",["WebBloksURLUtils"],(function(t,n,r,o,a,i,l){function e(e,t){o("WebBloksURLUtils").openURL(o("WebBloksURLUtils").qualify(t),!0)}l.default=e}),98);
__d("WebBloksOpenUrl",["WebBloksURLUtils"],(function(t,n,r,o,a,i,l){function e(e,t){o("WebBloksURLUtils").openURL(o("WebBloksURLUtils").qualify(t))}l.default=e}),98);
__d("WebBloksOpenUrlV2",["WebBloksBooleanUtils","WebBloksURLUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r=o("WebBloksURLUtils").qualify(t),a=n==null?void 0:n.get("url_params");a!=null&&(r=o("WebBloksURLUtils").addQueryParamsToUrl(r,a)),o("WebBloksURLUtils").openURL(r,o("WebBloksBooleanUtils").isTrue(n==null?void 0:n.get("open_in_new_tab")))}l.default=e}),98);
__d("WebBloksParseEmbeddedV2",["WebBloksInflate"],(function(t,n,r,o,a,i,l){function e(e,t){var n=t.layout.bloks_payload;return o("WebBloksInflate").inflateBloksDataFromBloksPayloadToBloksParseResult(n,e,null,!0,!1,null)}l.default=e}),98);
__d("WebBloksParseEmbedded",["WebBloksParseEmbeddedV2"],(function(t,n,r,o,a,i,l){function e(e,t){var n=JSON.parse(t);return r("WebBloksParseEmbeddedV2")(e,n)}l.default=e}),98);
__d("WebBloksParseHoistedPayload",["WebBloksErrors","WebBloksInflate"],(function(t,n,r,o,a,i,l){function e(e,t){var n,r=(n=e.getResources())==null||(n=n.payloads.get(t))==null?void 0:n.payload;if(r==null)throw new(o("WebBloksErrors")).WebBloksError("Could not find embedded payload for ID: "+t);var a=r.layout.bloks_payload;return o("WebBloksInflate").inflateBloksDataFromBloksPayloadToBloksParseResult(a,e,t,!0,!1,null)}l.default=e}),98);
__d("WebBloksPopBottomSheet",[],(function(t,n,r,o,a,i){function e(e,t,n){e.objectSet.navigationManager.pop()}i.default=e}),66);
__d("WebBloksPrependChildren",["WebBloksChildrenOperationsHelper"],(function(t,n,r,o,a,i,l){function e(e,t,n){o("WebBloksChildrenOperationsHelper").prependChildren(e.treeManager,t.toString(),n)}l.default=e}),98);
__d("WebBloksPrependEmbeddedChildren",["WebBloksChildrenOperationsHelper"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){o("WebBloksChildrenOperationsHelper").prependEmbeddedLayoutChildren(e.treeManager,t,n)}l.default=e}),98);
__d("WebBloksPushBottomSheetV2",["WebBloksScreen"],(function(t,n,r,o,a,i,l){function e(e,t){e.objectSet.navigationManager.push(o("WebBloksScreen").WebBloksScreen.fromBloksParseResult(e.objectSet,t,{isModal:!0,ownerContext:e}))}l.default=e}),98);
__d("WebBloksReduce",["WebBloksLegacyTraverser"],(function(t,n,r,o,a,i,l){function e(e,t){o("WebBloksLegacyTraverser").reduce(e.treeManager,""+t,e.executeCatch,e.objectSet.environment.traversalKeys)}l.default=e}),98);
__d("WebBloksRef",[],(function(t,n,r,o,a,i){var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.get=function(){return this.$1},t.set=function(t){this.$1=t},e})();i.default=e}),66);
__d("WebBloksRefMake",["WebBloksRef"],(function(t,n,r,o,a,i,l){function e(e,t){return new(r("WebBloksRef"))(t)}l.default=e}),98);
__d("WebBloksRefRead",["WebBloksErrors"],(function(t,n,r,o,a,i,l){function e(e,t){if(e.getScriptMode()==="BIND")throw new(o("WebBloksErrors")).WebBloksScriptError("Cannot read ref value during bind");return t.get()}l.default=e}),98);
__d("WebBloksRefWrite",["WebBloksErrors"],(function(t,n,r,o,a,i,l){function e(e,t,n){if(e.getScriptMode()==="BIND")throw new(o("WebBloksErrors")).WebBloksScriptError("Cannot write to ref value during bind");t.set(n)}l.default=e}),98);
__d("WebBloksReflow",["WebBloksLegacyTraverser"],(function(t,n,r,o,a,i,l){function e(e,t){o("WebBloksLegacyTraverser").reflow(e.treeManager,""+t,e.executeCatch,e.objectSet.environment.traversalKeys)}l.default=e}),98);
__d("WebBloksRefresh",[],(function(t,n,r,o,a,i){function e(e,t){e.objectSet.navigationManager.refresh()}i.default=e}),66);
__d("WebBloksRemoveChild",["WebBloksChildrenOperationsHelper"],(function(t,n,r,o,a,i,l){function e(e,t,n){o("WebBloksChildrenOperationsHelper").removeModelById(e.treeManager,""+n)}l.default=e}),98);
__d("WebBloksRemoveChildrenBetween",["WebBloksChildrenOperationsHelper"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){o("WebBloksChildrenOperationsHelper").removeChildren(e.treeManager,t,""+n,""+r)}l.default=e}),98);
__d("WebBloksReplaceChild",["WebBloksChildrenOperationsHelper"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){o("WebBloksChildrenOperationsHelper").replaceChild(e.treeManager,""+r,n)}l.default=e}),98);
__d("WebBloksReplaceChildren",["WebBloksChildrenOperationsHelper"],(function(t,n,r,o,a,i,l){function e(e,t,n){o("WebBloksChildrenOperationsHelper").replaceLayoutChildren(e.treeManager,""+t,n)}l.default=e}),98);
__d("WebBloksReplaceChildrenAfter",["WebBloksChildrenOperationsHelper"],(function(t,n,r,o,a,i,l){function e(e,t,n,r,a){o("WebBloksChildrenOperationsHelper").replaceChildrenAfter(e.treeManager,String(r),n)}l.default=e}),98);
__d("WebBloksReplaceEmbeddedChild",["WebBloksChildrenOperationsHelper"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){o("WebBloksChildrenOperationsHelper").replaceEmbeddedChild(e.treeManager,""+r,n)}l.default=e}),98);
__d("WebBloksReplaceEmbeddedChildren",["WebBloksChildrenOperationsHelper"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){o("WebBloksChildrenOperationsHelper").replaceEmbeddedLayoutChildren(e.treeManager,t,n)}l.default=e}),98);
__d("WebBloksReplaceEmbeddedChildrenAfter",["WebBloksChildrenOperationsHelper"],(function(t,n,r,o,a,i,l){function e(e,t,n,r,a){o("WebBloksChildrenOperationsHelper").replaceEmbeddedChildrenAfter(e.treeManager,String(r),n)}l.default=e}),98);
__d("WebBloksRequestFocus",["WebBloksConstants"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r,a=e.bloksContext.getAssociatedObject_INTERNAL(t,o("WebBloksConstants").TEXT_INPUT_ASSOCIATED_OBJECT);a==null||(r=a.ref)==null||(r=r.current)==null||r.requestFocus()}l.default=e}),98);
__d("WebBloksRotate3D",[],(function(t,n,r,o,a,i){function e(e,t,n,r,o,a){return t.rotate3D(n,r,o,a),t}i.default=e}),66);
__d("WebBloksScale3D",[],(function(t,n,r,o,a,i){function e(e,t,n,r,o){return t.scale(n,r,o),t}i.default=e}),66);
__d("WebBloksSessionStoreGet",[],(function(t,n,r,o,a,i){var e=Object.create(null);function l(t){return e}i.default=l}),66);
__d("Transform3DForWebBloks",[],(function(t,n,r,o,a,i){var e=(function(){function e(e){this.matrix=[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}var t=e.prototype;return t.toString=function(){return this.matrix.flat().join(",")},t.translate=function(t,n,r){var e=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[t,n,r,1]];return this.matrix=u(e,this.matrix),this},t.scale=function(t,n,r){var e=[[t,0,0,0],[0,n,0,0],[0,0,r,0],[0,0,0,1]];return this.matrix=u(e,this.matrix),this},t.rotate3D=function(t,n,r,o){for(var e=s(n,r,o),a=e.x_norm,i=e.y_norm,c=e.z_norm,d=l(),m=[[0,c,-i,0],[-c,0,a,0],[i,-a,0,0],[0,0,0,0]],p=m.map(function(e){return e.map(function(e){return Math.sin(t)*e})}),_=u(m,m).map(function(e){return e.map(function(e){return(1-Math.cos(t))*e})}),f=l(),g=0;g<4;g++)for(var h=0;h<4;h++)f[g][h]=d[g][h]+p[g][h]+_[g][h];return this.matrix=u(f,this.matrix),this},e})();function l(){return[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}function s(e,t,n){var r=e*e,o=t*t,a=n*n,i=r+o+a;return{x_norm:e/i,y_norm:t/i,z_norm:n/i}}function u(e,t){for(var n=e.length,r=e[0].length,o=t[0].length,a=new Array(n),i=0;i<n;i++){a[i]=new Array(o);for(var l=0;l<o;l++){a[i][l]=0;for(var s=0;s<r;s++)a[i][l]+=e[i][s]*t[s][l]}}return a}i.default=e}),66);
__d("WebBloksSetAttr",["Transform3DForWebBloks","WebBloksConstants","WebBloksModel","WebBloksMutations","WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,a){o("WebBloksUtils").nullthrows(t,"No model passed to setAttr");var i=n,l=a;if(n==="transform3d"&&a instanceof r("Transform3DForWebBloks")){var s=t.getSubNode("_style"),u={transform:"matrix3d("+a.toString()+")"},c=s!=null?s.makeCopy(u):new(o("WebBloksModel")).WebBloksModel(o("WebBloksConstants").BK_FLEX,u);i="_style",l=c}o("WebBloksMutations").updateProperty(e.treeManager,t,i,l)}l.default=e}),98);
__d("WebBloksShareText",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){navigator.share&&navigator.share({text:t})}i.default=e}),66);
__d("WebBloksShowToast",[],(function(t,n,r,o,a,i){function e(e,t,n,r){e.objectSet.toastManager.enqueueBloksModelToast(e,t,n)}i.default=e}),66);
__d("WebBloksShowToastV2",[],(function(t,n,r,o,a,i){function e(e,t,n,r){e.objectSet.toastManager.enqueueBloksParseResultToast(e,t,n)}i.default=e}),66);
__d("WebBloksSliderSetPosition",["WebBloksMutations"],(function(t,n,r,o,a,i,l){function e(e,t,n){o("WebBloksMutations").updateProperty(e.treeManager,t,"progress",n)}l.default=e}),98);
__d("WebBloksStringAsInteger",[],(function(t,n,r,o,a,i){function e(e,t){var n=parseInt(t,10);return Number.isNaN(n)?0:n}i.default=e}),66);
__d("WebBloksInt64",["WebBloksErrors"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e,t){this.$1=e,this.$2=t}e.fromInt=function(n){if(-128<=n&&n<128){var t=e.$3[n];if(t)return t}var r=new e(n|0,n<0?-1:0);return-128<=n&&n<128&&(e.$3[n]=r),r},e.fromNumber=function(n){return Number.isNaN(n)||!Number.isFinite(n)?e.ZERO:n<=-e.$4?e.MIN_VALUE:n+1>=e.$4?e.MAX_VALUE:n<0?e.fromNumber(-n).negate():new e(n%e.$5|0,n/e.$5|0)},e.fromBits=function(n,r){return new e(n,r)},e.fromString=function(n,r){if(n.length===0)throw new(o("WebBloksErrors")).WebBloksError("number format error: empty string");var t=r||10;if(t<2||36<t)throw new(o("WebBloksErrors")).WebBloksError("radix out of range: "+t);if(n.charAt(0)=="-")return e.fromString(n.substring(1),t).negate();if(n.indexOf("-")>=0)throw new(o("WebBloksErrors")).WebBloksError('number format error: interior "-" character: '+n);for(var a=e.fromNumber(Math.pow(t,8)),i=e.ZERO,l=0;l<n.length;l+=8){var s=Math.min(8,n.length-l),u=parseInt(n.substring(l,l+s),t);if(s<8){var c=e.fromNumber(Math.pow(t,s));i=i.multiply(c).add(e.fromNumber(u))}else i=i.multiply(a),i=i.add(e.fromNumber(u))}return i};var t=e.prototype;return t.toInt=function(){return this.$1},t.toNumber=function(){return this.$2*e.$5+this.getLowBitsUnsigned()},t.toString=function(n){var t=n||10;if(t<2||36<t)throw new(o("WebBloksErrors")).WebBloksError("radix out of range: "+t);if(this.isZero())return"0";if(this.isNegative())if(this.equals(e.MIN_VALUE)){var r=e.fromNumber(t),a=this.div(r),i=a.multiply(r).subtract(this);return a.toString(t)+i.toInt().toString(t)}else return"-"+this.negate().toString(t);for(var l=e.fromNumber(Math.pow(t,6)),s=this,u="";;){var c=s.div(l),d=s.subtract(c.multiply(l)).toInt(),m=d.toString(t);if(s=c,s.isZero())return m+u;for(;m.length<6;)m="0"+m;u=""+m+u}},t.getLowBitsUnsigned=function(){return this.$1>=0?this.$1:e.$5+this.$1},t.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=this.$2!=0?this.$2:this.$1,n=31;n>0&&(t&1<<n)==0;n--);return this.$2!=0?n+33:n+1},t.isZero=function(){return this.$2==0&&this.$1==0},t.isNegative=function(){return this.$2<0},t.isOdd=function(){return(this.$1&1)==1},t.equals=function(t){return this.$2==t.$2&&this.$1==t.$1},t.lessThan=function(t){return this.compare(t)<0},t.greaterThan=function(t){return this.compare(t)>0},t.greaterThanOrEqual=function(t){return this.compare(t)>=0},t.compare=function(t){if(this.equals(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.subtract(t).isNegative()?-1:1},t.negate=function(){return this.equals(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},t.add=function(n){var t=this.$2>>>16,r=this.$2&65535,o=this.$1>>>16,a=this.$1&65535,i=n.$2>>>16,l=n.$2&65535,s=n.$1>>>16,u=n.$1&65535,c=0,d=0,m=0,p=0;return p+=a+u,m+=p>>>16,p&=65535,m+=o+s,d+=m>>>16,m&=65535,d+=r+l,c+=d>>>16,d&=65535,c+=t+i,c&=65535,e.fromBits(m<<16|p,c<<16|d)},t.subtract=function(t){return this.add(t.negate())},t.multiply=function(n){if(this.isZero())return e.ZERO;if(n.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return n.isOdd()?e.MIN_VALUE:e.ZERO;if(n.equals(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return n.isNegative()?this.negate().multiply(n.negate()):this.negate().multiply(n).negate();if(n.isNegative())return this.multiply(n.negate()).negate();if(this.lessThan(e.$8)&&n.lessThan(e.$8))return e.fromNumber(this.toNumber()*n.toNumber());var t=this.$2>>>16,r=this.$2&65535,o=this.$1>>>16,a=this.$1&65535,i=n.$2>>>16,l=n.$2&65535,s=n.$1>>>16,u=n.$1&65535,c=0,d=0,m=0,p=0;return p+=a*u,m+=p>>>16,p&=65535,m+=o*u,d+=m>>>16,m&=65535,m+=a*s,d+=m>>>16,m&=65535,d+=r*u,c+=d>>>16,d&=65535,d+=o*s,c+=d>>>16,d&=65535,d+=a*l,c+=d>>>16,d&=65535,c+=t*u+r*s+o*l+a*i,c&=65535,e.fromBits(m<<16|p,c<<16|d)},t.div=function(n){if(n.isZero())throw new(o("WebBloksErrors")).WebBloksError("division by zero");if(this.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE)){if(n.equals(e.ONE)||n.equals(e.NEG_ONE))return e.MIN_VALUE;if(n.equals(e.MIN_VALUE))return e.ONE;var t=this.shiftRight(1),r=t.div(n).shiftLeft(1);if(r.equals(e.ZERO))return n.isNegative()?e.ONE:e.NEG_ONE;var a=this.subtract(n.multiply(r)),i=r.add(a.div(n));return i}else if(n.equals(e.MIN_VALUE))return e.ZERO;if(this.isNegative())return n.isNegative()?this.negate().div(n.negate()):this.negate().div(n).negate();if(n.isNegative())return this.div(n.negate()).negate();for(var l=e.ZERO,s=this;s.greaterThanOrEqual(n);){for(var u=Math.max(1,Math.floor(s.toNumber()/n.toNumber())),c=Math.ceil(Math.log(u)/Math.LN2),d=c<=48?1:Math.pow(2,c-48),m=e.fromNumber(u),p=m.multiply(n);p.isNegative()||p.greaterThan(s);)u-=d,m=e.fromNumber(u),p=m.multiply(n);m.isZero()&&(m=e.ONE),l=l.add(m),s=s.subtract(p)}return l},t.modulo=function(t){return this.subtract(this.div(t).multiply(t))},t.not=function(){return e.fromBits(~this.$1,~this.$2)},t.shiftLeft=function(n){var t=n;if(t&=63,t==0)return this;var r=this.$1;if(t<32){var o=this.$2;return e.fromBits(r<<t,o<<t|r>>>32-t)}else return e.fromBits(0,r<<t-32)},t.shiftRight=function(n){var t=n;if(t&=63,t==0)return this;var r=this.$2;if(t<32){var o=this.$1;return e.fromBits(o>>>t|r<<32-t,r>>t)}else return e.fromBits(r>>t-32,r>=0?0:-1)},e})();e.$3={},e.$6=65536,e.$5=e.$6*e.$6,e.$7=e.$5*e.$5,e.$4=e.$7/2,e.ZERO=e.fromInt(0),e.ONE=e.fromInt(1),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647),e.MIN_VALUE=e.fromBits(0,-2147483648),e.$8=e.fromInt(1<<24),l.default=e}),98);
__d("WebBloksStringAsLong",["WebBloksErrors","WebBloksInt64"],(function(t,n,r,o,a,i,l){function e(e,t){try{var n=r("WebBloksInt64").fromString(String(t));return n.toString()}catch(t){throw new(o("WebBloksErrors")).WebBloksScriptError(t.message,e)}}l.default=e}),98);
__d("WebBloksStringConcat",[],(function(t,n,r,o,a,i){function e(e,t,n){return t+n}i.default=e}),66);
__d("WebBloksStringContains",[],(function(t,n,r,o,a,i){function e(e,t,n){return t.includes(n)}i.default=e}),66);
__d("WebBloksStringGetURLLastPathComponent",[],(function(t,n,r,o,a,i){function e(e,t){var n=t.split("/");return n[n.length-1]}i.default=e}),66);
__d("WebBloksStringJoin",[],(function(t,n,r,o,a,i){function e(e,t,n){return n.join(t)}i.default=e}),66);
__d("WebBloksStringLength",[],(function(t,n,r,o,a,i){function e(e,t){return t.length}i.default=e}),66);
__d("WebBloksStringReplace",["WebBloksRegexUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,r,a){var i,l=o("WebBloksRegexUtils").extractPatternAndFlags(n),s=(i=l.flags)!=null?i:"";!a&&!s.includes("g")&&(s+="g");var u=new RegExp(l.normalizedPattern,s);return t.replace(u,r)}l.default=e}),98);
__d("WebBloksStringSlice",["WebBloksErrors","WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){o("WebBloksUtils").nullthrows(n,"Unexpected null: offset");var a=n<0?n+t.length:n;if(a<0)throw new(o("WebBloksErrors")).WebBloksError("string.Slice: index start < 0");var i;if(r==null)i=t.length;else{if(r<0)throw new(o("WebBloksErrors")).WebBloksError("string.Slice: length < 0");i=a+r}if(i>t.length)throw new(o("WebBloksErrors")).WebBloksError("string.Slice: index end > len(str)");return t.slice(a,i)}l.default=e}),98);
__d("WebBloksStringSplitWithString",[],(function(t,n,r,o,a,i){function e(e,t,n){return t.split(n)}i.default=e}),66);
__d("WebBloksStringStartsWith",[],(function(t,n,r,o,a,i){function e(e,t,n){return t.startsWith(n)}i.default=e}),66);
__d("WebBloksStringToLowerCase",[],(function(t,n,r,o,a,i){function e(e,t){return t.toLowerCase()}i.default=e}),66);
__d("WebBloksStringToUpperCase",[],(function(t,n,r,o,a,i){function e(e,t){return t.toUpperCase()}i.default=e}),66);
__d("WebBloksStringTrim",[],(function(t,n,r,o,a,i){function e(e,t){return t.trim()}i.default=e}),66);
__d("WebBloksStringValueOfNumber",[],(function(t,n,r,o,a,i){function e(e,t){return String(t)}i.default=e}),66);
__d("WebBloksStringValueOfNumberInBase",["WebBloksErrors"],(function(t,n,r,o,a,i,l){function e(e,t,n){if(n<2||n>36)throw new(o("WebBloksErrors")).WebBloksScriptError("radix parameter of string.ValueOfNumberInBase must be between 2 and 36",e);return Math.floor(t).toString(n)}l.default=e}),98);
__d("WebBloksT3DFromArray",["Transform3DForWebBloks"],(function(t,n,r,o,a,i,l){function e(e,t){return new(r("Transform3DForWebBloks"))(t.map(function(e){return parseFloat(e)}))}l.default=e}),98);
__d("WebBloksTakeLast",[],(function(t,n,r,o,a,i){function e(e){var t;return t=(arguments.length<=1?0:arguments.length-1)-1+1,t<1||arguments.length<=t?void 0:arguments[t]}i.default=e}),66);
__d("WebBloksTemplateMake",[],(function(t,n,r,o,a,i){function e(e,t,n,r){return{templateId:t,expandedVariables:new Map(Object.entries(n)),scopeKey:r,keyPathBase:e.scope}}i.default=e}),66);
__d("WebBloksTextGetText",["WebBloksErrors","WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n,r,a=t.uiMutableContainer.domNode;o("WebBloksUtils").nullthrows(a,"Not a valid Text model, uiMutableContainer not set");var i=a==null||(n=a.current)==null?void 0:n.dataset.bloksName;if(i!=="bk.components.Text")throw new(o("WebBloksErrors")).WebBloksError("Not bk.component.Text");var l=a==null||(r=a.current)==null?void 0:r.innerText;return l!=null?l:""}l.default=e}),98);
__d("WebBloksTextInputSetText",["WebBloksConstants"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r,a=e.bloksContext.updateAssociatedObject_INTERNAL(t,o("WebBloksConstants").TEXT_INPUT_ASSOCIATED_OBJECT,{text:n!=null?n:""});(r=a.ref)==null||(r=r.current)==null||r.onExternalUpdate(a.text)}l.default=e}),98);
__d("WebBloksTextInputAppendText",["WebBloksConstants","WebBloksTextInputSetText"],(function(t,n,r,o,a,i,l){function e(e,t,n){var a,i,l=e.bloksContext.getAssociatedObject_INTERNAL(t,o("WebBloksConstants").TEXT_INPUT_ASSOCIATED_OBJECT),s=((a=l==null?void 0:l.text)!=null?a:"")+n,u=l==null||(i=l.ref)==null||(i=i.current)==null?void 0:i.appendText;u!=null?(e.bloksContext.updateAssociatedObject_INTERNAL(t,o("WebBloksConstants").TEXT_INPUT_ASSOCIATED_OBJECT,{text:s}),u(n)):r("WebBloksTextInputSetText")(e,t,s)}l.default=e}),98);
__d("WebBloksTextInputClearText",["WebBloksTextInputSetText"],(function(t,n,r,o,a,i,l){function e(e,t,n){r("WebBloksTextInputSetText")(e,t,"")}l.default=e}),98);
__d("WebBloksTextInputGetSelectionEnd",["WebBloksConstants"],(function(t,n,r,o,a,i,l){function e(e,t){var n,r=e.bloksContext.getAssociatedObject_INTERNAL(t,o("WebBloksConstants").TEXT_INPUT_ASSOCIATED_OBJECT);return r==null||(n=r.ref)==null||(n=n.current)==null||(n=n.getSelection())==null?void 0:n.end}l.default=e}),98);
__d("WebBloksTextInputGetSelectionStart",["WebBloksConstants"],(function(t,n,r,o,a,i,l){function e(e,t){var n,r=e.bloksContext.getAssociatedObject_INTERNAL(t,o("WebBloksConstants").TEXT_INPUT_ASSOCIATED_OBJECT);return r==null||(n=r.ref)==null||(n=n.current)==null||(n=n.getSelection())==null?void 0:n.start}l.default=e}),98);
__d("WebBloksTextInputGetText",["WebBloksConstants"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r,a,i=e.bloksContext.getAssociatedObject_INTERNAL(t,o("WebBloksConstants").TEXT_INPUT_ASSOCIATED_OBJECT);return(r=(a=i==null?void 0:i.text)!=null?a:t.get("text"))!=null?r:""}l.default=e}),98);
__d("WebBloksTextInputUnfocus",["WebBloksConstants"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r,a=e.bloksContext.getAssociatedObject_INTERNAL(t,o("WebBloksConstants").TEXT_INPUT_ASSOCIATED_OBJECT);a==null||(r=a.ref)==null||(r=r.current)==null||r.requestBlur()}l.default=e}),98);
__d("WebBloksTextIsTruncated",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n,r=(n=t.uiMutableContainer.domNode)==null?void 0:n.current;return r!=null&&r.scrollHeight>r.clientHeight}i.default=e}),66);
__d("WebBloksTimerCancel",[],(function(t,n,r,o,a,i){function e(e,t,n){var r=t.objectSet.environment.timeoutIDS,o=r.get(n);window.clearTimeout(o),r.delete(n)}i.default=e}),66);
__d("WebBloksTimerStart",[],(function(t,n,r,o,a,i){function e(e,t,n,r,o,a){var i=Number(n),l=null,s=t.objectSet.environment.timeoutIDS,u=function(){e.executeCatch(o,[a,t]),r?s.has(a)&&(l=window.setTimeout(u,i),s.set(a,l)):s.delete(a)};l=window.setTimeout(u,i),s.set(a,l)}i.default=e}),66);
__d("WebBloksToastComponent",[],(function(t,n,r,o,a,i){function e(e,t){e.objectSet.toastManager.enqueueSimpleToast(t)}i.default=e}),66);
__d("WebBloksTranslate3D",[],(function(t,n,r,o,a,i){function e(e,t,n,r,o){return t.translate(n,r,o),t}i.default=e}),66);
__d("WebBloksTreeMake",["WebBloksErrors","WebBloksModel"],(function(t,n,r,o,a,i,l){function e(e,t){for(var n={},r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];for(var l=0;l<a.length;l+=2){var s=a[l];if(typeof s=="string")n[s]=a[l+1];else throw new(o("WebBloksErrors")).WebBloksError("Invalid key type in `bk.action.tree.Make`.")}var u=new(o("WebBloksModel")).WebBloksModel(t,n);return u.keyPath=e.scope,u}l.default=e}),98);
__d("WebBloksVisibilityContextGetTimeSinceLastImpressionInMS",[],(function(t,n,r,o,a,i){function e(e,t){return Date.now()-t.lastImpressionTimeMS}i.default=e}),66);
__d("WebBloksVisibilityContextHasSeenBefore",["WebBloksBooleanUtils"],(function(t,n,r,o,a,i,l){function e(e,t){return o("WebBloksBooleanUtils").isTrue(t.hasSeenBefore)}l.default=e}),98);
__d("WebBloksVisibilityContextPercentVisible",[],(function(t,n,r,o,a,i){function e(e,t){var n;return(n=t.percentVisible)!=null?n:null}i.default=e}),66);
__d("WebBloksWithScope",[],(function(t,n,r,o,a,i){function e(e,t){var n=e.createScopedContext();return n.executeCatch(t,[])}i.default=e}),66);
__d("WebBloksWriteGlobalConsistencyStore",[],(function(t,n,r,o,a,i){function e(e,t,n){var r=e.objectSet.globalStateDataModule;r&&r.publish(t,n)}i.default=e}),66);
__d("WebBloksWriteLocalState",["WebBloksErrors","WebBloksScopedIds"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){var a=e.scope,i=e.bloksContext.treeManager;if(r===0){i.enqueueVariableUpdateOperation(t,n);return}if(a==null)throw new(o("WebBloksErrors")).WebBloksError("Keypath must be set on environment if trying to WriteLocalState on a depth larger than 0.");if(r>a.length)throw new(o("WebBloksErrors")).WebBloksError("Depth supplied should never exceed the size of the key path.");var l=o("WebBloksScopedIds").getScopedVariableIdAtDepth(a,t,r);i.enqueueVariableUpdateOperation(l,n)}l.default=e}),98);
__d("WebBloksf32Convert",["WebBloksErrors"],(function(t,n,r,o,a,i,l){function e(e,t){if(t===!0)return 1;if(t===!1)return 0;var n=parseFloat(t);if(Number.isNaN(n))throw new(o("WebBloksErrors")).WebBloksScriptError("Failed to convert value to `f32`",e);return n}l.default=e}),98);
__d("WebBloksNumberUtils",[],(function(t,n,r,o,a,i){function e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=((""+t[0]).split(".")[1]||"").length,o=t.reduce(function(e,t){var n=((""+t).split(".")[1]||"").length;return Math.max(e,n)},r);return Math.pow(10,o)}i.getConversionFactor=e}),66);
__d("WebBloksf32NumberAdd",["WebBloksNumberUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r=o("WebBloksNumberUtils").getConversionFactor(t,n);return Math.round(t*r+n*r)/r}l.default=e}),98);
__d("WebBloksf32NumberDiv",["WebBloksNumberUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r=o("WebBloksNumberUtils").getConversionFactor(t,n);return Math.round(r*t)/Math.round(r*n)}l.default=e}),98);
__d("WebBloksf32NumberLog",[],(function(t,n,r,o,a,i){function e(e,t){return Math.log(t)}i.default=e}),66);
__d("WebBloksf32NumberMul",["WebBloksNumberUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r=o("WebBloksNumberUtils").getConversionFactor(t,n);return Math.round(t*r*(n*r))/(r*r)}l.default=e}),98);
__d("WebBloksf32NumberPow",[],(function(t,n,r,o,a,i){function e(e,t,n){return Math.pow(t,n)}i.default=e}),66);
__d("WebBloksf32NumberSqrt",[],(function(t,n,r,o,a,i){function e(e,t){return Math.sqrt(t)}i.default=e}),66);
__d("WebBloksf32NumberSub",["WebBloksNumberUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r=o("WebBloksNumberUtils").getConversionFactor(t,n);return Math.round(t*r-n*r)/r}l.default=e}),98);
__d("WebBloksi32Convert",["WebBloksErrors"],(function(t,n,r,o,a,i,l){function e(e,t){var n=parseInt(t,10);if(Number.isNaN(n))throw new(o("WebBloksErrors")).WebBloksScriptError("Failed to convert value to `i32`",e);return n}l.default=e}),98);
__d("WebBloksi32NumberAdd",[],(function(t,n,r,o,a,i){function e(e,t,n){return t+n}i.default=e}),66);
__d("WebBloksi32NumberDiv",[],(function(t,n,r,o,a,i){function e(e,t,n){return parseInt(t/n,10)}i.default=e}),66);
__d("WebBloksi32NumberMul",[],(function(t,n,r,o,a,i){function e(e,t,n){return t*n}i.default=e}),66);
__d("WebBloksi32NumberSub",[],(function(t,n,r,o,a,i){function e(e,t,n){return t-n}i.default=e}),66);
__d("WebBloksi64ConstNumber",["WebBloksErrors","WebBloksInt64"],(function(t,n,r,o,a,i,l){function e(e,t){try{var n=r("WebBloksInt64").fromString(String(t));return n.toString()}catch(t){throw new(o("WebBloksErrors")).WebBloksScriptError(t.message,e)}}l.default=e}),98);
__d("WebBloksi64NumberAdd",["WebBloksErrors","WebBloksInt64"],(function(t,n,r,o,a,i,l){function e(e,t,n){try{var a=r("WebBloksInt64").fromString(String(t)),i=r("WebBloksInt64").fromString(String(n));return a.add(i).toString()}catch(t){throw new(o("WebBloksErrors")).WebBloksScriptError(t.message,e)}}l.default=e}),98);
__d("WebBloksi64NumberDiv",["WebBloksErrors","WebBloksInt64"],(function(t,n,r,o,a,i,l){function e(e,t,n){try{var a=r("WebBloksInt64").fromString(String(t)),i=r("WebBloksInt64").fromString(String(n));return a.div(i).toString()}catch(t){throw new(o("WebBloksErrors")).WebBloksScriptError(t.message,e)}}l.default=e}),98);
__d("WebBloksi64NumberEq",["WebBloksErrors","WebBloksInt64"],(function(t,n,r,o,a,i,l){function e(e,t,n){try{var a=r("WebBloksInt64").fromString(String(t)),i=r("WebBloksInt64").fromString(String(n));return a.equals(i)}catch(t){throw new(o("WebBloksErrors")).WebBloksScriptError(t.message,e)}}l.default=e}),98);
__d("WebBloksi64NumberGt",["WebBloksErrors","WebBloksInt64"],(function(t,n,r,o,a,i,l){function e(e,t,n){try{var a=r("WebBloksInt64").fromString(String(t)),i=r("WebBloksInt64").fromString(String(n));return a.greaterThan(i)}catch(t){throw new(o("WebBloksErrors")).WebBloksScriptError(t.message,e)}}l.default=e}),98);
__d("WebBloksi64NumberLt",["WebBloksErrors","WebBloksInt64"],(function(t,n,r,o,a,i,l){function e(e,t,n){try{var a=r("WebBloksInt64").fromString(String(t)),i=r("WebBloksInt64").fromString(String(n));return a.lessThan(i)}catch(t){throw new(o("WebBloksErrors")).WebBloksScriptError(t.message,e)}}l.default=e}),98);
__d("WebBloksi64NumberSub",["WebBloksErrors","WebBloksInt64"],(function(t,n,r,o,a,i,l){function e(e,t,n){try{var a=r("WebBloksInt64").fromString(String(t)),i=r("WebBloksInt64").fromString(String(n));return a.subtract(i).toString()}catch(t){throw new(o("WebBloksErrors")).WebBloksScriptError(t.message,e)}}l.default=e}),98);
__d("CoreWebBloksActions",["WebBloksAccessibilityAnnouncement","WebBloksAccessibilitySetFocus","WebBloksAddChild","WebBloksAppendEmbeddedChildren","WebBloksApply","WebBloksArrayAppend","WebBloksArrayClone","WebBloksArrayConcat","WebBloksArrayFilter","WebBloksArrayGet","WebBloksArrayLength","WebBloksArrayMake","WebBloksArrayMap","WebBloksArrayPut","WebBloksArrayPutAndGet","WebBloksArrayReduce","WebBloksArrayRemove","WebBloksArrayRemoveAndGet","WebBloksArraySlice","WebBloksArraySortedArray","WebBloksArrayUpdate","WebBloksAsyncAction","WebBloksAsyncActionWithDataManifest","WebBloksAsyncActionWithDataManifestV2","WebBloksAsyncLoadV2","WebBloksBindWithArrayV2","WebBloksBoolAnd","WebBloksBoolConst","WebBloksBoolNot","WebBloksBoolOr","WebBloksCallbackApply","WebBloksCallbackMake","WebBloksCallbackMakeWithScopeOnly","WebBloksChildAtIndex","WebBloksClipboardSetString","WebBloksConstNumber","WebBloksContextGet","WebBloksCurrentTimeMillis","WebBloksDangerouslyGetTreeFromParseResult","WebBloksDelay","WebBloksDeviceLog","WebBloksDismissBottomSheet","WebBloksDismissToast","WebBloksDummy","WebBloksFindComponentContext","WebBloksGetAttr","WebBloksGetDatetimeText","WebBloksGetDeserializedEmbeddedPayload","WebBloksGetHeightV2","WebBloksGetParameter","WebBloksGetPayload","WebBloksGetScript","WebBloksGetState","WebBloksGetTemplateArg","WebBloksGetValue","WebBloksGetVariable2","WebBloksGetVariableWithScope","WebBloksGetWidthV2","WebBloksIndexOfChild","WebBloksInflateSync","WebBloksInsertChildrenAfter","WebBloksInsertEmbeddedChildrenAfter","WebBloksInsertEmbeddedChildrenBefore","WebBloksJsonDecode","WebBloksJsonEncode","WebBloksJsonEncodeV3","WebBloksMakeFlat","WebBloksMapClone","WebBloksMapFilter","WebBloksMapGet","WebBloksMapKeys","WebBloksMapMake","WebBloksMapMerge","WebBloksMapRemove","WebBloksMapUpdate","WebBloksMapValues","WebBloksMatch","WebBloksMatchesRegex","WebBloksMinsTypeOf","WebBloksNavigationCloseScreen","WebBloksNumberAnd","WebBloksNumberEq","WebBloksNumberGt","WebBloksNumberLt","WebBloksNumberMod","WebBloksNumberOr","WebBloksNumberRand","WebBloksOneTimeBind","WebBloksOpenBottomSheet","WebBloksOpenBottomSheetV2","WebBloksOpenDialog","WebBloksOpenDialogV2","WebBloksOpenFullScreenV4","WebBloksOpenScreen","WebBloksOpenScreenByRoute","WebBloksOpenUniversalLink","WebBloksOpenUrl","WebBloksOpenUrlV2","WebBloksParseEmbedded","WebBloksParseEmbeddedV2","WebBloksParseHoistedPayload","WebBloksPopBottomSheet","WebBloksPrependChildren","WebBloksPrependEmbeddedChildren","WebBloksPushBottomSheetV2","WebBloksReduce","WebBloksRefMake","WebBloksRefRead","WebBloksRefWrite","WebBloksReflow","WebBloksRefresh","WebBloksRemoveChild","WebBloksRemoveChildrenBetween","WebBloksReplaceChild","WebBloksReplaceChildren","WebBloksReplaceChildrenAfter","WebBloksReplaceEmbeddedChild","WebBloksReplaceEmbeddedChildren","WebBloksReplaceEmbeddedChildrenAfter","WebBloksRequestFocus","WebBloksRotate3D","WebBloksScale3D","WebBloksSessionStoreGet","WebBloksSetAttr","WebBloksShareText","WebBloksShowToast","WebBloksShowToastV2","WebBloksSliderSetPosition","WebBloksStringAsInteger","WebBloksStringAsLong","WebBloksStringConcat","WebBloksStringContains","WebBloksStringGetURLLastPathComponent","WebBloksStringJoin","WebBloksStringLength","WebBloksStringReplace","WebBloksStringSlice","WebBloksStringSplitWithString","WebBloksStringStartsWith","WebBloksStringToLowerCase","WebBloksStringToUpperCase","WebBloksStringTrim","WebBloksStringValueOfNumber","WebBloksStringValueOfNumberInBase","WebBloksT3DFromArray","WebBloksTakeLast","WebBloksTemplateMake","WebBloksTextGetText","WebBloksTextInputAppendText","WebBloksTextInputClearText","WebBloksTextInputGetSelectionEnd","WebBloksTextInputGetSelectionStart","WebBloksTextInputGetText","WebBloksTextInputSetText","WebBloksTextInputUnfocus","WebBloksTextIsTruncated","WebBloksTimerCancel","WebBloksTimerStart","WebBloksToastComponent","WebBloksTranslate3D","WebBloksTreeMake","WebBloksVisibilityContextGetTimeSinceLastImpressionInMS","WebBloksVisibilityContextHasSeenBefore","WebBloksVisibilityContextPercentVisible","WebBloksWithScope","WebBloksWriteGlobalConsistencyStore","WebBloksWriteLocalState","WebBloksf32Convert","WebBloksf32NumberAdd","WebBloksf32NumberDiv","WebBloksf32NumberLog","WebBloksf32NumberMul","WebBloksf32NumberPow","WebBloksf32NumberSqrt","WebBloksf32NumberSub","WebBloksi32Convert","WebBloksi32NumberAdd","WebBloksi32NumberDiv","WebBloksi32NumberMul","WebBloksi32NumberSub","WebBloksi64ConstNumber","WebBloksi64NumberAdd","WebBloksi64NumberDiv","WebBloksi64NumberEq","WebBloksi64NumberGt","WebBloksi64NumberLt","WebBloksi64NumberSub"],(function(t,n,r,o,a,i,l){var e,s={"bk.action.GetDatetimeText":r("WebBloksGetDatetimeText"),"bk.action.OpenUniversalLink":r("WebBloksOpenUniversalLink"),"bk.action.accessibility.Announcement":r("WebBloksAccessibilityAnnouncement"),"bk.action.accessibility.SetFocus":r("WebBloksAccessibilitySetFocus"),"bk.action.array.Append":r("WebBloksArrayAppend"),"bk.action.array.Clone":r("WebBloksArrayClone"),"bk.action.array.Concat":r("WebBloksArrayConcat"),"bk.action.array.Filter":r("WebBloksArrayFilter"),"bk.action.array.Get":r("WebBloksArrayGet"),"bk.action.array.Length":r("WebBloksArrayLength"),"bk.action.array.Make":r("WebBloksArrayMake"),"bk.action.array.Map":r("WebBloksArrayMap"),"bk.action.array.Put":r("WebBloksArrayPut"),"bk.action.array.PutAndGet":r("WebBloksArrayPutAndGet"),"bk.action.array.Reduce":r("WebBloksArrayReduce"),"bk.action.array.Remove":r("WebBloksArrayRemove"),"bk.action.array.RemoveAndGet":r("WebBloksArrayRemoveAndGet"),"bk.action.array.Slice":r("WebBloksArraySlice"),"bk.action.array.SortedArray":r("WebBloksArraySortedArray"),"bk.action.array.Update":r("WebBloksArrayUpdate"),"bk.action.bloks.AddChild":r("WebBloksAddChild"),"bk.action.bloks.AppendEmbeddedChildren":r("WebBloksAppendEmbeddedChildren"),"bk.action.bloks.AsyncAction":r("WebBloksAsyncAction"),"bk.action.bloks.AsyncActionWithDataManifest":r("WebBloksAsyncActionWithDataManifest"),"bk.action.bloks.AsyncActionWithDataManifestV2":r("WebBloksAsyncActionWithDataManifestV2"),"bk.action.bloks.AsyncLoadV2":r("WebBloksAsyncLoadV2"),"bk.action.bloks.ChildAtIndex":r("WebBloksChildAtIndex"),"bk.action.bloks.DangerouslyGetTreeFromParseResult":r("WebBloksDangerouslyGetTreeFromParseResult"),"bk.action.bloks.DismissBottomSheet":r("WebBloksDismissBottomSheet"),"bk.action.bloks.DismissKeyboard":e=r("WebBloksDummy"),"bk.action.bloks.Find":r("WebBloksFindComponentContext"),"bk.action.bloks.FindContainer":r("WebBloksFindComponentContext"),"bk.action.bloks.GetDeserializedEmbeddedPayload":r("WebBloksGetDeserializedEmbeddedPayload"),"bk.action.bloks.GetParameter":r("WebBloksGetParameter"),"bk.action.bloks.GetPayload":r("WebBloksGetPayload"),"bk.action.bloks.GetScript":r("WebBloksGetScript"),"bk.action.bloks.GetState":r("WebBloksGetState"),"bk.action.bloks.GetValue":r("WebBloksGetValue"),"bk.action.bloks.GetVariable2":r("WebBloksGetVariable2"),"bk.action.bloks.GetVariableWithScope":r("WebBloksGetVariableWithScope"),"bk.action.bloks.IndexOfChild":r("WebBloksIndexOfChild"),"bk.action.bloks.InflateSync":r("WebBloksInflateSync"),"bk.action.bloks.InsertChildrenAfter":r("WebBloksInsertChildrenAfter"),"bk.action.bloks.InsertEmbeddedChildrenAfter":r("WebBloksInsertEmbeddedChildrenAfter"),"bk.action.bloks.InsertEmbeddedChildrenBefore":r("WebBloksInsertEmbeddedChildrenBefore"),"bk.action.bloks.OneTimeBind":r("WebBloksOneTimeBind"),"bk.action.bloks.OpenBottomSheet":r("WebBloksOpenBottomSheet"),"bk.action.bloks.OpenBottomSheetV2":r("WebBloksOpenBottomSheetV2"),"bk.action.bloks.OpenFullScreenV4":r("WebBloksOpenFullScreenV4"),"bk.action.bloks.OpenScreen":r("WebBloksOpenScreen"),"bk.action.bloks.ParseEmbedded":r("WebBloksParseEmbedded"),"bk.action.bloks.ParseEmbeddedV2":r("WebBloksParseEmbeddedV2"),"bk.action.bloks.ParseHoistedPayload":r("WebBloksParseHoistedPayload"),"bk.action.bloks.PopBottomSheet":r("WebBloksPopBottomSheet"),"bk.action.bloks.PrependChildren":r("WebBloksPrependChildren"),"bk.action.bloks.PrependEmbeddedChildren":r("WebBloksPrependEmbeddedChildren"),"bk.action.bloks.PushBottomSheetV2":r("WebBloksPushBottomSheetV2"),"bk.action.bloks.Reduce":r("WebBloksReduce"),"bk.action.bloks.Reflow":r("WebBloksReflow"),"bk.action.bloks.RemoveChild":r("WebBloksRemoveChild"),"bk.action.bloks.RemoveChildrenBetween":r("WebBloksRemoveChildrenBetween"),"bk.action.bloks.ReplaceChild":r("WebBloksReplaceChild"),"bk.action.bloks.ReplaceChildren":r("WebBloksReplaceChildren"),"bk.action.bloks.ReplaceChildrenAfter":r("WebBloksReplaceChildrenAfter"),"bk.action.bloks.ReplaceEmbeddedChildV2":r("WebBloksReplaceEmbeddedChild"),"bk.action.bloks.ReplaceEmbeddedChildren":r("WebBloksReplaceEmbeddedChildren"),"bk.action.bloks.ReplaceEmbeddedChildrenAfter":r("WebBloksReplaceEmbeddedChildrenAfter"),"bk.action.bloks.RequestFocus":r("WebBloksRequestFocus"),"bk.action.bloks.WithScope":r("WebBloksWithScope"),"bk.action.bloks.WriteGlobalConsistencyStore":r("WebBloksWriteGlobalConsistencyStore"),"bk.action.bloks.WriteLocalState":r("WebBloksWriteLocalState"),"bk.action.bool.And":r("WebBloksBoolAnd"),"bk.action.bool.Const":r("WebBloksBoolConst"),"bk.action.bool.Not":r("WebBloksBoolNot"),"bk.action.bool.Or":r("WebBloksBoolOr"),"bk.action.callback.Apply":r("WebBloksCallbackApply"),"bk.action.callback.Make":r("WebBloksCallbackMake"),"bk.action.callback.MakeWithScopeOnly":r("WebBloksCallbackMakeWithScopeOnly"),"bk.action.component.GetAttr":r("WebBloksGetAttr"),"bk.action.component.GetHeight":r("WebBloksGetHeightV2"),"bk.action.component.GetHeight2":r("WebBloksGetHeightV2"),"bk.action.component.GetWidth":r("WebBloksGetWidthV2"),"bk.action.component.GetWidth2":r("WebBloksGetWidthV2"),"bk.action.component.SetAttr":r("WebBloksSetAttr"),"bk.action.context.Get":r("WebBloksContextGet"),"bk.action.core.Apply":r("WebBloksApply"),"bk.action.core.Coalesce":e,"bk.action.core.Default":e,"bk.action.core.Delay":r("WebBloksDelay"),"bk.action.core.FuncConst":e,"bk.action.core.GetArg":e,"bk.action.core.GetTemplateArg":r("WebBloksGetTemplateArg"),"bk.action.core.If":e,"bk.action.core.Match":r("WebBloksMatch"),"bk.action.core.Pattern":e,"bk.action.core.SetArg":e,"bk.action.core.TakeLast":r("WebBloksTakeLast"),"bk.action.core.While":e,"bk.action.debug.internal.DeviceLog":r("WebBloksDeviceLog"),"bk.action.debug.internal.DeviceLogV2":r("WebBloksDeviceLog"),"bk.action.dialog.OpenDialog":r("WebBloksOpenDialog"),"bk.action.dialog.OpenDialogV2":r("WebBloksOpenDialogV2"),"bk.action.f32.Add":r("WebBloksf32NumberAdd"),"bk.action.f32.Const":r("WebBloksConstNumber"),"bk.action.f32.Convert":r("WebBloksf32Convert"),"bk.action.f32.Div":r("WebBloksf32NumberDiv"),"bk.action.f32.Eq":r("WebBloksNumberEq"),"bk.action.f32.Gt":r("WebBloksNumberGt"),"bk.action.f32.Log":r("WebBloksf32NumberLog"),"bk.action.f32.Lt":r("WebBloksNumberLt"),"bk.action.f32.Mul":r("WebBloksf32NumberMul"),"bk.action.f32.Pow":r("WebBloksf32NumberPow"),"bk.action.f32.Sqrt":r("WebBloksf32NumberSqrt"),"bk.action.f32.Sub":r("WebBloksf32NumberSub"),"bk.action.f64.Const":r("WebBloksConstNumber"),"bk.action.function.BindWithArrayV2":r("WebBloksBindWithArrayV2"),"bk.action.i32.Add":r("WebBloksi32NumberAdd"),"bk.action.i32.And":r("WebBloksNumberAnd"),"bk.action.i32.Const":r("WebBloksConstNumber"),"bk.action.i32.Convert":r("WebBloksi32Convert"),"bk.action.i32.Div":r("WebBloksi32NumberDiv"),"bk.action.i32.Eq":r("WebBloksNumberEq"),"bk.action.i32.Gt":r("WebBloksNumberGt"),"bk.action.i32.Lt":r("WebBloksNumberLt"),"bk.action.i32.Mod":r("WebBloksNumberMod"),"bk.action.i32.Mul":r("WebBloksi32NumberMul"),"bk.action.i32.Or":r("WebBloksNumberOr"),"bk.action.i32.Rand":r("WebBloksNumberRand"),"bk.action.i32.Sub":r("WebBloksi32NumberSub"),"bk.action.i64.Add":r("WebBloksi64NumberAdd"),"bk.action.i64.Const":r("WebBloksi64ConstNumber"),"bk.action.i64.Div":r("WebBloksi64NumberDiv"),"bk.action.i64.Eq":r("WebBloksi64NumberEq"),"bk.action.i64.Gt":r("WebBloksi64NumberGt"),"bk.action.i64.Lt":r("WebBloksi64NumberLt"),"bk.action.i64.Sub":r("WebBloksi64NumberSub"),"bk.action.internal.Refresh":r("WebBloksRefresh"),"bk.action.io.CurrentTimeMillis":r("WebBloksCurrentTimeMillis"),"bk.action.io.Toast":r("WebBloksToastComponent"),"bk.action.io.clipboard.SetString":r("WebBloksClipboardSetString"),"bk.action.map.Append":e,"bk.action.map.Clone":r("WebBloksMapClone"),"bk.action.map.Filter":r("WebBloksMapFilter"),"bk.action.map.Get":r("WebBloksMapGet"),"bk.action.map.Keys":r("WebBloksMapKeys"),"bk.action.map.Make":r("WebBloksMapMake"),"bk.action.map.MakeFlat":r("WebBloksMakeFlat"),"bk.action.map.Merge":r("WebBloksMapMerge"),"bk.action.map.Remove":r("WebBloksMapRemove"),"bk.action.map.Update":r("WebBloksMapUpdate"),"bk.action.map.Values":r("WebBloksMapValues"),"bk.action.mins.TypeOf":r("WebBloksMinsTypeOf"),"bk.action.navigation.CloseScreen":r("WebBloksNavigationCloseScreen"),"bk.action.navigation.OpenUrl":r("WebBloksOpenUrl"),"bk.action.navigation.OpenUrlV2":r("WebBloksOpenUrlV2"),"bk.action.navigation.SetNavBar":e,"bk.action.payload.Make":e,"bk.action.ref.Make":r("WebBloksRefMake"),"bk.action.ref.Read":r("WebBloksRefRead"),"bk.action.ref.Write":r("WebBloksRefWrite"),"bk.action.session_store.Get":r("WebBloksSessionStoreGet"),"bk.action.share.Text":r("WebBloksShareText"),"bk.action.slider.SetPosition":r("WebBloksSliderSetPosition"),"bk.action.splice.Apply":e,"bk.action.splice.Get":e,"bk.action.string.AsInteger":r("WebBloksStringAsInteger"),"bk.action.string.AsLong":r("WebBloksStringAsLong"),"bk.action.string.Concat":r("WebBloksStringConcat"),"bk.action.string.Contains":r("WebBloksStringContains"),"bk.action.string.GetURLLastPathComponent":r("WebBloksStringGetURLLastPathComponent"),"bk.action.string.Join":r("WebBloksStringJoin"),"bk.action.string.JsonDecode":r("WebBloksJsonDecode"),"bk.action.string.JsonEncode":r("WebBloksJsonEncode"),"bk.action.string.JsonEncodeV2":r("WebBloksJsonEncode"),"bk.action.string.JsonEncodeV3":r("WebBloksJsonEncodeV3"),"bk.action.string.Length":r("WebBloksStringLength"),"bk.action.string.MatchesRegex":r("WebBloksMatchesRegex"),"bk.action.string.Replace":r("WebBloksStringReplace"),"bk.action.string.Slice":r("WebBloksStringSlice"),"bk.action.string.SplitWithString":r("WebBloksStringSplitWithString"),"bk.action.string.StartsWith":r("WebBloksStringStartsWith"),"bk.action.string.ToLowerCase":r("WebBloksStringToLowerCase"),"bk.action.string.ToUpperCase":r("WebBloksStringToUpperCase"),"bk.action.string.Trim":r("WebBloksStringTrim"),"bk.action.string.ValueOfNumber":r("WebBloksStringValueOfNumber"),"bk.action.string.ValueOfNumberInBase":r("WebBloksStringValueOfNumberInBase"),"bk.action.t3d.FromArray":r("WebBloksT3DFromArray"),"bk.action.t3d.Rotate":r("WebBloksRotate3D"),"bk.action.t3d.Scale":r("WebBloksScale3D"),"bk.action.t3d.Translate":r("WebBloksTranslate3D"),"bk.action.template.Make":r("WebBloksTemplateMake"),"bk.action.text.GetText":r("WebBloksTextGetText"),"bk.action.text.IsTruncated":r("WebBloksTextIsTruncated"),"bk.action.text_input.AppendText":r("WebBloksTextInputAppendText"),"bk.action.text_input.ClearText":r("WebBloksTextInputClearText"),"bk.action.text_input.Unfocus":r("WebBloksTextInputUnfocus"),"bk.action.textinput.GetSelectionEnd":r("WebBloksTextInputGetSelectionEnd"),"bk.action.textinput.GetSelectionStart":r("WebBloksTextInputGetSelectionStart"),"bk.action.textinput.GetText":r("WebBloksTextInputGetText"),"bk.action.textinput.SetText":r("WebBloksTextInputSetText"),"bk.action.textinput.SetTextV2":r("WebBloksTextInputSetText"),"bk.action.timer.Cancel":r("WebBloksTimerCancel"),"bk.action.timer.Start":r("WebBloksTimerStart"),"bk.action.toast.DismissToast":r("WebBloksDismissToast"),"bk.action.toast.ShowToast":r("WebBloksShowToast"),"bk.action.toast.ShowToastV2":r("WebBloksShowToastV2"),"bk.action.tree.Make":r("WebBloksTreeMake"),"bk.action.visibility_context.GetTimeSinceLastImpressionInMS":r("WebBloksVisibilityContextGetTimeSinceLastImpressionInMS"),"bk.action.visibility_context.HasSeenBefore":r("WebBloksVisibilityContextHasSeenBefore"),"bk.action.visibility_context.PercentVisible":r("WebBloksVisibilityContextPercentVisible"),"bk.action.webbloks.OpenScreenByRoute":r("WebBloksOpenScreenByRoute"),"bk.versioning.bind.Interleaved":e,"bk.versioning.bloks.GlobalStateWithInitialLispy":e,"bk.versioning.bloks.HoistedTemplates":e,"bk.versioning.bloks.NamedSplices":e,"bk.versioning.bloks.ScreenQueryContainerConfigIDServerParam":e,"bk.versioning.bloks.ViewportDimensionsDataModule":e,"bk.versioning.lispy.NumericLiterals":e};l.ACTIONS=s}),98);
__d("WebBloksCDSScreenModeContext.react",["react"],(function(t,n,r,o,a,i,l){var e,s=(e||(e=o("react"))).createContext,u=s(null),c=u;l.default=c}),98);
__d("WebBloksCDSWrapperImpl.react",["WebBloksCDSScreenModeContext.react","WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext;function c(e){var t=e.backgroundOverlayColor,n=e.content,a=e.header,i=e.shouldRenderGradient,l=e.topBanner,c=o("WebBloksTheme").useTheme().getTheme(),m;if(t!=null){var p=o("WebBloksUtils").getRGBColorWithTheme(t,c);m=s.jsx("div",{className:C.backgroundOverlayColor,style:{backgroundColor:p}})}var _=u(r("WebBloksCDSScreenModeContext.react")),f=s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:C.gradientContainer,children:[i?s.jsx(d,{}):null,m]}),l,a,n]}),g=_==="full_screen"||_==null?s.jsx("div",{className:C.minHeight,children:f}):f;return s.jsx("div",{className:C.root,children:g})}c.displayName=c.name+" [from "+i.id+"]";function d(){return s.jsx("div",{className:C.gradient,children:s.jsx("div",{className:C.canvas})})}d.displayName=d.name+" [from "+i.id+"]";var m="hsla(44, 100%, 66%, 1)",p="hsla(338, 68%, 65%, 1)",_="hsla(338, 68%, 65%, 0.4)",f="hsla(272, 100%, 60%, 1)",g="hsla(142, 70%, 49%, 1)",h="hsla(209, 100%, 53%, 1)",y="hsla(213, 100%, 44%, 1)",C=o("WebBloksStyle").createStyles({root:{boxSizing:"border-box",display:"flex",flexDirection:"column",height:"100%",overflow:"scroll",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)",width:"100%"},minHeight:{height:"100%",minHeight:"600px",display:"flex",flexDirection:"column"},gradientContainer:{bottom:0,clipPath:"inset(0 0 0 0)",right:0,pointerEvents:"none",position:"absolute",backgroundColor:o("WebBloksTheme").WebBloksThemeVars["cds-surface-background"],left:0,top:0},gradient:{backgroundColor:o("WebBloksTheme").WebBloksThemeVars["cds-surface-background"],borderRadius:"inherit",clipPath:"inset(0 0 0 0)",height:"100%",position:"relative",width:"100%",zIndex:0},canvas:{backgroundImage:"radial-gradient(rgba(255,255,255,.25), rgba(255,255,255,0) 40%), radial-gradient("+m+" 30%, "+p+", "+_+" 41%, transparent 52%), radial-gradient("+f+" 37%, transparent 46%), linear-gradient(155deg, transparent 65%, "+g+" 95%), linear-gradient(45deg, "+y+", "+h+")",backgroundPosition:"bottom left, 109% 68%, 109% 68%, center, center",backgroundRepeat:"no-repeat",backgroundSize:"200% 200%, 285% 500%, 285% 500%, cover, cover",bottom:0,right:0,opacity:.08,pointerEvents:"none",position:"absolute",left:0,top:0},backgroundOverlayColor:{height:"100%",width:"100%",position:"absolute",top:0}});l.default=c}),98);
__d("WebBloksCDSBottomSheetWrapper",["WebBloksCDSWrapperImpl.react","WebBloksComponentContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.node,n=t.get("content"),a=t.get("header"),i=t.get("top_banner"),l=o("WebBloksComponentContext").useWebBloksContext(),u=l.renderNode,c=t.get("web_background_overlay_color");return s.jsx(r("WebBloksCDSWrapperImpl.react"),{backgroundOverlayColor:c,content:u(n),header:a!=null?u(a):null,topBanner:i!=null?u(i):null,shouldRenderGradient:!1})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("WebBloksCanvasUtils",["WebBloksErrors","WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n){switch(e.styleId){case"bk.types.CanvasShadow":{var r=f(e.get("dx"),t),a=g(e.get("dy"),t),i=f(e.get("radius"),t),l=o("WebBloksUtils").getRGBColorWithTheme(e.get("themed_color"),n);t.shadowBlur=i*2,t.shadowOffsetX=r*2,t.shadowOffsetY=a*2,t.shadowColor=l;break}default:throw new(o("WebBloksErrors")).WebBloksError(e.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function s(e,t,n){switch(e.styleId){case"bk.types.CanvasShadingColor":{var r=o("WebBloksUtils").getRGBColorWithTheme(e.get("themed_color"),n);t.fillStyle=r,t.strokeStyle=r;break}case"bk.types.CanvasShadingGradientLinear":{var a=d(e,t,n);t.fillStyle=a,t.strokeStyle=a;break}case"bk.types.CanvasShadingGradientRadial":{var i=m(e,t,n);t.fillStyle=i,t.strokeStyle=i;break}default:throw new(o("WebBloksErrors")).WebBloksError(e.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function u(e,t){switch(e.styleId){case"bk.types.CanvasBlendingMode":{t.globalCompositeOperation=c(e.get("mode"));break}default:throw new(o("WebBloksErrors")).WebBloksError(e.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function c(e){switch(e){case"dst_atop":return"destination-atop";case"dst_in":return"destination-in";case"dst_out":return"destination-out";case"dst_over":return"destination-over";case"src":case"src_over":return"source-over";case"src_atop":return"source-atop";case"src_in":return"source-in";case"src_out":return"source-out";default:return e}}function d(e,t,n){for(var r=f(e.get("start_x"),t),a=g(e.get("start_y"),t),i=f(e.get("end_x"),t),l=g(e.get("end_y"),t),s=t.createLinearGradient(r,a,i,l),u=e.get("gradient"),c=u.get("positions"),d=u.get("themed_colors"),m=0;m<c.length;m++){var p=c[m],_=d[m];s.addColorStop(p,o("WebBloksUtils").getRGBColorWithTheme(_,n))}return s}function m(e,t,n){for(var r=f(e.get("center_x"),t),a=g(e.get("center_y"),t),i=parseFloat(e.get("radius")),l=t.createRadialGradient(r,a,0,r,a,i),s=e.get("gradient"),u=s.get("positions"),c=s.get("themed_colors"),d=0;d<u.length;d++){var m=u[d],p=c[d];l.addColorStop(m,o("WebBloksUtils").getRGBColorWithTheme(p,n))}return l}function p(e,t){var n,r=document.createElement("canvas");return r.style.position="absolute",r.style.top="0",r.style.visibility="hidden",(n=document.body)==null||n.appendChild(r),r.width=e,r.height=t,r}function _(e,t){return t!=null&&typeof e=="string"&&e.includes("%")?parseFloat(e)/100*t:parseFloat(e)}function f(e,t){return _(e,t.canvas.clientWidth)}function g(e,t){return _(e,t.canvas.clientHeight)}l.drawShadowToCanvas=e,l.drawShadingToCanvas=s,l.drawBlendingModeToCanvas=u,l.getCompositeOperation=c,l.createLinearGradient=d,l.createRadialGradient=m,l.createSecondaryCanvasElement=p,l.getCanvasSizePixelValue=_,l.getCanvasPixelValRelativeToWidth=f,l.getCanvasPixelValRelativeToHeight=g}),98);
__d("WebBloksCanvasDrawToContext",["WebBloksCanvasUtils","WebBloksErrors"],(function(t,n,r,o,a,i,l){function e(t,n,r){switch(t.styleId){case"bk.types.CanvasGroup":{var a=t.getSubNode("transform");a!=null&&d(a,n,r);var i=t.get("clip");i!=null&&(e(i,n,r),n.clip());var l=o("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(t.get("width"),n),m=o("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(t.get("height"),n);if(l>0&&m>0){var p=o("WebBloksCanvasUtils").createSecondaryCanvasElement(l,m),_=p.getContext("2d");d(t,_,r),n.drawImage(p,0,0),p.remove()}else d(t,n,r);break}case"bk.types.CanvasLayer":{var f=t.getSubNode("transform");f!=null&&d(f,n,r);var g=t.get("blending_mode");g!=null&&o("WebBloksCanvasUtils").drawBlendingModeToCanvas(g,n);var h=t.get("clip");h!=null&&(e(h,n,r),n.clip());var y=t.get("alpha");y!=null&&(n.globalAlpha=parseFloat(y));var C=o("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(t.get("width"),n),b=o("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(t.get("height"),n);if(C>0&&b>0){var v=o("WebBloksCanvasUtils").createSecondaryCanvasElement(C,b),S=v.getContext("2d");d(t,S,r),n.drawImage(v,0,0),v.remove()}else d(t,n,r);break}case"bk.types.CanvasTransform":{var R=t.get("a"),L=t.get("b"),E=t.get("c"),k=t.get("d"),I=t.get("tx"),T=t.get("ty");if(R!=null&&L!=null&&E!=null&&k!=null&&I!=null&&T!=null){var D;n.setTransform((D=o("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(R,n),D.getCanvasPixelValRelativeToHeight(L,n),D.getCanvasPixelValRelativeToWidth(E,n),D.getCanvasPixelValRelativeToHeight(k,n),D.getCanvasPixelValRelativeToWidth(I,n),D.getCanvasPixelValRelativeToHeight(T,n))}d(t,n,r);break}case"bk.types.CanvasFill":{var x=t.getSubNode("shape"),$=t.getSubNode("shading"),P=t.getSubNode("shadow"),N=t.getSubNode("blending_mode");x!=null&&e(x,n,r),$!=null&&o("WebBloksCanvasUtils").drawShadingToCanvas($,n,r),N!=null&&o("WebBloksCanvasUtils").drawBlendingModeToCanvas(N,n),P!=null&&o("WebBloksCanvasUtils").drawShadowToCanvas(P,n,r),n.fill();break}case"bk.types.CanvasPath":{n.beginPath(),d(t,n,r);break}case"bk.types.CanvasPathAdd":case"bk.types.CanvasPathArc":case"bk.types.CanvasPathCircle":case"bk.types.CanvasPathClose":case"bk.types.CanvasPathCubicTo":case"bk.types.CanvasPathEllipse":case"bk.types.CanvasPathLineTo":case"bk.types.CanvasPathMoveTo":case"bk.types.CanvasPathQuadTo":case"bk.types.CanvasPathRect":{u(t,n,r);break}case"bk.types.CanvasShapeCircle":case"bk.types.CanvasShapeLine":case"bk.types.CanvasShapeArc":case"bk.types.CanvasShapeRect":case"bk.types.CanvasShapeEllipse":{s(t,n);break}case"bk.types.CanvasTransformInverseV2":case"bk.types.CanvasTransformRotate":case"bk.types.CanvasTransformScale":case"bk.types.CanvasTransformSkew":case"bk.types.CanvasTransformSkewV2":case"bk.types.CanvasTransformTranslate":{c(t,n);break}case"bk.types.CanvasStroke":{n.beginPath();var M=t.get("dash_lengths");if(M!=null&&n.setLineDash(M.map(parseFloat)),n!=null){var w,A,F,O;n.lineWidth=parseFloat(t.get("line_width")),n.lineCap=(w=t.get("line_cap"))!=null?w:"butt",n.lineJoin=(A=t.get("line_join"))!=null?A:"miter",n.miterLimit=parseFloat((F=t.get("miter_limit"))!=null?F:0),n.lineDashOffset=parseFloat((O=t.get("dash_phase"))!=null?O:0)}var B=t.getSubNode("shape"),W=t.getSubNode("shading"),q=t.getSubNode("shadow"),U=t.getSubNode("blending_mode");B!=null&&e(B,n,r),W!=null&&o("WebBloksCanvasUtils").drawShadingToCanvas(W,n,r),U!=null&&o("WebBloksCanvasUtils").drawBlendingModeToCanvas(U,n),q!=null&&o("WebBloksCanvasUtils").drawShadowToCanvas(q,n,r),n.stroke();break}default:throw new(o("WebBloksErrors")).WebBloksError(t.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function s(e,t){var n;switch(e.styleId){case"bk.types.CanvasShapeArc":{var r,a;t.beginPath();var i=o("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(e.get("center_x"),t),l=o("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(e.get("center_y"),t),s=o("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(e.get("radius"),t),u=parseFloat((r=e.get("start_angle"))!=null?r:0),c=parseFloat((a=e.get("end_angle"))!=null?a:360),d=e.get("clockwise")!=null?!e.get("clockwise"):!1;t.arc(i,l,s,u/180*Math.PI,c/180*Math.PI,d);break}case"bk.types.CanvasShapeCircle":t.beginPath(),t.arc(o("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(e.get("center_x"),t),o("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(e.get("center_y"),t),o("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(e.get("radius"),t),0,2*Math.PI);break;case"bk.types.CanvasShapeLine":{var m;t.beginPath(),t.moveTo((m=o("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(e.get("start_x"),t),m.getCanvasPixelValRelativeToHeight(e.get("start_y"),t)),t.lineTo(m.getCanvasPixelValRelativeToWidth(e.get("end_x"),t),m.getCanvasPixelValRelativeToHeight(e.get("end_y"),t));break}case"bk.types.CanvasShapeRect":t.beginPath(),t.roundRect(o("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(e.get("x"),t),o("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(e.get("y"),t),o("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(e.get("width"),t),o("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(e.get("height"),t),parseFloat((n=e.get("corner_radius"))!=null?n:0));break;case"bk.types.CanvasShapeEllipse":{var m;t.beginPath();var p=(m=o("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(e.get("width"),t)/2,_=m.getCanvasPixelValRelativeToHeight(e.get("height"),t)/2;t.ellipse(m.getCanvasPixelValRelativeToWidth(e.get("x"),t)+p,m.getCanvasPixelValRelativeToHeight(e.get("y"),t)+_,p,_,0,0,2*Math.PI);break}default:throw new(o("WebBloksErrors")).WebBloksError(e.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function u(t,n,r){switch(t.styleId){case"bk.types.CanvasPathAdd":{var a=t.getSubNode("transform"),i=t.getSubNode("path");a!=null&&d(a,n,r),i!=null&&e(i,n,r);break}case"bk.types.CanvasPathArc":{var l,s,u=o("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(t.get("center_x"),n),c=o("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(t.get("center_y"),n),m=o("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(t.get("radius"),n),p=parseFloat((l=t.get("start_angle"))!=null?l:0),_=parseFloat((s=t.get("end_angle"))!=null?s:360),f=t.get("clockwise")!=null?!t.get("clockwise"):!1;n.arc(u,c,m,p/180*Math.PI,_/180*Math.PI,f);break}case"bk.types.CanvasPathCircle":{var g=o("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(t.get("center_x"),n),h=o("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(t.get("center_y"),n),y=parseFloat(t.get("radius"));n.moveTo(g+y,h),n.arc(g,h,y,0,2*Math.PI),n.restore();break}case"bk.types.CanvasPathClose":{n.closePath();break}case"bk.types.CanvasPathCubicTo":{var C;n.bezierCurveTo((C=o("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(t.get("control_a_x"),n),C.getCanvasPixelValRelativeToHeight(t.get("control_a_y"),n),C.getCanvasPixelValRelativeToWidth(t.get("control_b_x"),n),C.getCanvasPixelValRelativeToHeight(t.get("control_b_y"),n),C.getCanvasPixelValRelativeToWidth(t.get("end_x"),n),C.getCanvasPixelValRelativeToHeight(t.get("end_y"),n));break}case"bk.types.CanvasPathEllipse":{var C,b=(C=o("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(t.get("width"),n),v=C.getCanvasPixelValRelativeToHeight(t.get("height"),n),S=b/2,R=v/2,L=C.getCanvasPixelValRelativeToWidth(t.get("x"),n),E=C.getCanvasPixelValRelativeToHeight(t.get("y"),n),k=L+S,I=E+R;n.moveTo(L+b,E+R),n.ellipse(k,I,S,R,0,0,2*Math.PI);break}case"bk.types.CanvasPathLineTo":{n.lineTo(o("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(t.get("x"),n),o("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(t.get("y"),n));break}case"bk.types.CanvasPathMoveTo":{n.moveTo(o("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(t.get("x"),n),o("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(t.get("y"),n));break}case"bk.types.CanvasPathQuadTo":{var C;n.quadraticCurveTo((C=o("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(t.get("control_x"),n),C.getCanvasPixelValRelativeToHeight(t.get("control_y"),n),C.getCanvasPixelValRelativeToWidth(t.get("end_x"),n),C.getCanvasPixelValRelativeToHeight(t.get("end_y"),n));break}case"bk.types.CanvasPathRect":{var T,C;n.roundRect((C=o("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(t.get("x"),n),C.getCanvasPixelValRelativeToHeight(t.get("y"),n),C.getCanvasPixelValRelativeToWidth(t.get("width"),n),C.getCanvasPixelValRelativeToHeight(t.get("height"),n),parseFloat((T=t.get("corner_radius"))!=null?T:0));break}default:throw new(o("WebBloksErrors")).WebBloksError(t.styleId+" is not yet implemented. Please override in renderer")}}function c(e,t){switch(e.styleId){case"bk.types.CanvasTransformInverseV2":{var n=window.devicePixelRatio;t.scale(1/n,1/n),t.setTransform(t.getTransform().invertSelf()),t.scale(n,n);break}case"bk.types.CanvasTransformRotate":{var r;t.translate((r=o("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(e.get("pivot_x"),t),r.getCanvasPixelValRelativeToHeight(e.get("pivot_y"),t)),t.rotate(parseFloat(e.get("degrees"))*Math.PI/180),t.translate(-r.getCanvasPixelValRelativeToWidth(e.get("pivot_x"),t),-r.getCanvasPixelValRelativeToHeight(e.get("pivot_y"),t));break}case"bk.types.CanvasTransformScale":{var r;t.translate((r=o("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(e.get("pivot_x"),t),r.getCanvasPixelValRelativeToHeight(e.get("pivot_y"),t)),t.scale(r.getCanvasPixelValRelativeToWidth(e.get("x"),t),r.getCanvasPixelValRelativeToHeight(e.get("y"),t)),t.translate(-r.getCanvasPixelValRelativeToWidth(e.get("pivot_x"),t),-r.getCanvasPixelValRelativeToHeight(e.get("pivot_y"),t));break}case"bk.types.CanvasTransformSkew":case"bk.types.CanvasTransformSkewV2":{var r;t.translate((r=o("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(e.get("pivot_x"),t),r.getCanvasPixelValRelativeToHeight(e.get("pivot_y"),t)),t.transform(1,r.getCanvasPixelValRelativeToWidth(e.get("x"),t),r.getCanvasPixelValRelativeToHeight(e.get("y"),t),1,0,0),t.translate(-r.getCanvasPixelValRelativeToWidth(e.get("pivot_x"),t),-r.getCanvasPixelValRelativeToHeight(e.get("pivot_y"),t));break}case"bk.types.CanvasTransformTranslate":{t.translate(o("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(e.get("x"),t),o("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(e.get("y"),t));break}default:throw new(o("WebBloksErrors")).WebBloksError(e.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function d(t,n,r){var o=t.getSubNodes("children");if(o!=null)for(var a of o)e(a,n,r)}l.default=e}),98);
__d("WebBloksCanvas",["WebBloksCanvasDrawToContext","WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useLayoutEffect,d=u.useRef;function m(e){var t=e.externalStyle,n=e.node,a=o("WebBloksStyle").useStyle(n,t),i=a.style,l=a.wrapper,u=a.wrapperProps,m=o("WebBloksTheme").useTheme().getTheme(),_=d(null);return c(function(){var e=_.current,t=e==null?void 0:e.getContext("2d");if(!(e==null||t==null)){var r=o("WebBloksUtils").toPx(n.get("width")),a=o("WebBloksUtils").toPx(n.get("height"));if(!(r==null||a==null)){e.style.width=r,e.style.height=a;var i=window.devicePixelRatio;e.width=p(r,t.canvas.clientWidth,i),e.height=p(a,t.canvas.clientHeight,i),t.scale(i,i)}}},[n]),c(function(){var e,t=(e=_.current)==null?void 0:e.getContext("2d");if(t!=null){var o=n.getSubNodes("children");if(o!=null)for(var a of o)t.save(),r("WebBloksCanvasDrawToContext")(a,t,m),t.restore()}},[n,m]),l(s.jsx("canvas",babelHelpers.extends({},u,{ref:_,style:babelHelpers.extends({},i)})))}m.displayName=m.name+" [from "+i.id+"]";function p(e,t,n){return n===void 0&&(n=1),t!=null&&e.includes("%")?parseFloat(e)/100*t*n:parseFloat(e)*n}l.default=m}),98);
__d("WebBloksCollectionChildSizesLayoutReady",[],(function(t,n,r,o,a,i){"use strict";var e="layout_ready",l=new Event(e);i.LAYOUT_READY_EVENT_NAME=e,i.LAYOUT_READY_EVENT=l}),66);
__d("useWebBloksCollectionChildSizes",["WebBloksCollectionChildSizesLayoutReady","WebBloksCollectionHelpers","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){var e,s,u,c=u||(u=o("react")),d=c.useEffect,m=c.useMemo,p=c.useState,_=(e=(s=window.CSS)==null||s.supports==null?void 0:s.supports("width","100cqw"))!=null?e:!1;function f(e){var t,n,r,a,i,l=e.collectionNode,s=e.node,u=e.scrollerRef,c=l.getValues(),f=c.direction,h=(t=(n=(r=s.getStyle("collection"))==null?void 0:r.getValues())!=null?n:(a=s.getStyle("flex"))==null?void 0:a.getValues())!=null?t:{},y=o("WebBloksCollectionHelpers").getDirectionPropNames(f),C=y.crossAxisSize,b=y.mainAxisSize,v=m(function(){return g({width:h.width,height:h.height,direction:f,node:s})},[f,s,h.height,h.width]),S=p(null),R=S[0],L=S[1];return d(function(){var e;if(!_&&v.__MainAxisCqUnitBasis!=null){var t=(e=u.current)==null?void 0:e.getBoundingClientRect()[b],n=v.__MainAxisCqUnitBasis;t!=null&&n!=null&&L(t*n)}},[v,b,u]),d(function(){if(R!=null){var e;(e=u.current)==null||e.dispatchEvent(o("WebBloksCollectionChildSizesLayoutReady").LAYOUT_READY_EVENT)}},void 0),i={},i[C]=v[C],i[b]=R!=null?R:v[b],i}var g=function(t){var e,n,r=t.direction,a=t.height,i=t.node,l=t.width,s=o("WebBloksCollectionHelpers").getDirectionPropNames(r),u=s.crossAxisSize,c=s.mainAxisSize,d=(e={},e[c]="auto",e[u]="auto",e),m=c==="width"?l:a,p=u==="width"?l:a;if(p!=null&&(d[u]=o("WebBloksUtils").toPx(p)),m==null)return d;if(!o("WebBloksCollectionHelpers").hasCollectionDimensionInPct(i,c))return m!=null&&(d[c]=o("WebBloksUtils").toPx(m)),d;var _=(n=o("WebBloksUtils").toPercentageValue(m))!=null?n:1,f=c==="width"?"cqw":"cqh";return d[c]=""+_*100+f,d.__MainAxisCqUnitBasis=_,d};l.default=f}),98);
__d("useWebBloksCollectionStickyChildStyle",["WebBloksCollectionHelpers"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r=e.direction,a=e.node,i=a.getStyle("collection"),l=i==null||(t=i.getValues().sticky_item_config)==null?void 0:t.getValues();if(l==null)return{};var s=l.is_sticky,u=l.position;if(s!==!0||u==null)return{};var c=o("WebBloksCollectionHelpers").getDirectionPropNames(r);return n={position:"sticky",zIndex:1},n[c[u]]=0,n}l.default=e}),98);
__d("WebBloksCollectionChildBase",["WebBloksComponentContext","useWebBloksCollectionChildSizes","useWebBloksCollectionStickyChildStyle"],(function(t,n,r,o,a,i,l){function e(e){var t=e.collectionNode,n=e.extraStyles,a=e.node,i=e.scrollerRef,l=o("WebBloksComponentContext").useWebBloksContext(),s=l.renderNode,u=t.getValues(),c=u.direction,d=u.snap,m=u.snap_style,p=babelHelpers.extends({display:"inline-flex",width:"auto",height:"auto",overflow:"hidden"},r("useWebBloksCollectionStickyChildStyle")({node:a,direction:c}),r("useWebBloksCollectionChildSizes")({node:a,collectionNode:t,scrollerRef:i}),n),_;return m==null||m==="pager"?_="always":_="normal",s(a,babelHelpers.extends({},p,{scrollSnapAlign:d,scrollSnapStop:_}))}l.default=e}),98);
__d("WebBloksCollectionScrollRefs",["react"],(function(t,n,r,o,a,i,l){var e,s=(e||(e=o("react"))).useRef;function u(e){var t=s();return e.uiMutableContainer.extraRefs={containerElementRef:t},t}function c(e){var t,n=(t=e.uiMutableContainer.extraRefs)==null?void 0:t.containerElementRef,r=e.uiMutableContainer.domNode;return{containerElementRef:n,scrollableElementRef:r}}l.useWebbloksCollectionScrollContainerRef=u,l.findWebbloksCollectionScrollRefs=c}),98);
__d("WebBloksCollectionScrollTo",["WebBloksCollectionScrollRefs","WebDriverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return t==="column"};function s(e){return r("WebDriverConfig").isJestE2ETestRun?"auto":e===!0?"smooth":"auto"}function u(t,n){var r=n.index,a=n.isAnimated,i=o("WebBloksCollectionScrollRefs").findWebbloksCollectionScrollRefs(t),l=i.containerElementRef,u=i.scrollableElementRef,c=t.getValues(),d=c.direction,m=e(d),p=l==null?void 0:l.current,_=u==null?void 0:u.current;if(!(p==null||_==null)){var f=p.children.item(r),g=m?{top:f==null?void 0:f.offsetTop}:{left:f==null?void 0:f.offsetLeft};_.scrollTo(babelHelpers.extends({},g,{behavior:s(a)}))}}function c(t,n){var r=n.isAnimated,a=o("WebBloksCollectionScrollRefs").findWebbloksCollectionScrollRefs(t),i=a.scrollableElementRef,l=t.getValues(),u=l.direction,c=e(u);if((i==null?void 0:i.current)!=null){var d=c?{top:i.current.scrollHeight}:{left:i.current.scrollWidth};i.current.scrollTo(babelHelpers.extends({},d,{behavior:s(r)}))}}l.scrollWebBloksCollectionToIndex=u,l.scrollWebBloksCollectionToEnd=c}),98);
__d("useOnScrollSnap",["WebBloksCollectionScrollRefs","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e,t,n){var r=e.getBoundingClientRect(),o=t.getBoundingClientRect();return n==="column"?o.top>=r.top&&o.bottom<=r.bottom:o.left>=r.left&&o.right<=r.right}function m(e,t,n){var r=e.getBoundingClientRect();if(t==="column")switch(n){case"center":return r.top+r.height/2;case"start":return r.top;case"end":return r.bottom;default:return-1}else switch(n){case"center":return r.left+r.width/2;case"start":return r.left;case"end":return r.right;default:return-1}}function p(e,t){if(!e)return[[],[]];var n=Array.from(e.querySelectorAll(":scope > *")),r=n.map(function(e){return t==="column"?e.offsetTop:e.offsetLeft});return[n,r]}function _(e,t,n){var r=e.containerElement,o=e.scrollableElement,a=Array.from(r.querySelectorAll(":scope > *"));if(a.length===0)return null;if(n==="center"){if(d(o,a[0],t))return 0;if(d(o,a[a.length-1],t))return a.length-1}for(var i=m(o,t,n),l=-1,s=Number.MAX_VALUE,u=0;u<a.length;u++){var c=m(a[u],t,n),p=Math.abs(i-c);p<s&&(s=p,l=u)}return l}function f(e,t){var n=t.onPageScroll,r=t.onScroll,a=t.onScrollSnap,i=e.getValues(),l=i.direction,s=i.snap,d=i.starting_index,m=c(d),f=l==="column",g=o("WebBloksCollectionScrollRefs").findWebbloksCollectionScrollRefs(e),h=g.containerElementRef,y=g.scrollableElementRef;u(function(){var e=h==null?void 0:h.current,t=y==null?void 0:y.current;if(!(e==null||t==null||a==null&&r==null&&n==null)){var i=p(e,l),u=i[0],c=i[1],d=function(){if(r&&r(),t!=null&&n){var o=f?t.scrollTop:t.scrollLeft,i=Math.max(c.findIndex(function(e){return e>o}),1),u=i-1,d=o-c[u],p=d/(c[i]-c[u]);n(u,d,p)}if(t!=null&&s!=null&&s!=="none"&&a){var g=_({containerElement:e,scrollableElement:t},l,s);g!==m.current&&(m.current=g,a(g))}};return t.addEventListener("scroll",d,o("WebBloksUtils").passiveTouchEventOptions),t.addEventListener("touchend",d,o("WebBloksUtils").passiveTouchEventOptions),function(){t.removeEventListener("scroll",d),t.removeEventListener("touchend",d)}}},[l,s,a,r])}l.default=f}),98);
__d("useWebBloksCollectionScrollHandlers",["WebBloksCollectionChildSizesLayoutReady","WebBloksCollectionScrollTo","WebBloksComponentContext","react","useOnScrollSnap"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=s.useCallback,c=s.useLayoutEffect;function d(e){var t=e.getExpression("on_scroll_snap"),n=e.getExpression("on_scroll_callback"),a=e.getExpression("on_page_scroll"),i=o("WebBloksComponentContext").useWebBloksContext(),l=i.bloksContext,s=i.executeCatch,c=u(function(n){n!=null&&t!=null&&s(e,t,[n,l])},[e,t,s,l]),d=u(function(t,n,r){a!=null&&s(e,a,[l,t,r,n])},[a,s,e,l]),p=u(function(){n!=null&&s(e,n,[l])},[e,n,s,l]);r("useOnScrollSnap")(e,{onScrollSnap:t!=null?c:void 0,onScroll:n!=null?p:void 0,onPageScroll:a!=null?d:void 0}),m(e)}function m(e){var t=e.getValues(),n=t.stack_from_end,r=t.starting_index;c(function(){var t,a=r,i=function(){a!=null&&a>0?o("WebBloksCollectionScrollTo").scrollWebBloksCollectionToIndex(e,{index:a,isAnimated:!1}):n===!0&&o("WebBloksCollectionScrollTo").scrollWebBloksCollectionToEnd(e,{isAnimated:!1})};i(),(t=e.uiMutableContainer)==null||(t=t.domNode)==null||(t=t.current)==null||t.addEventListener(o("WebBloksCollectionChildSizesLayoutReady").LAYOUT_READY_EVENT_NAME,function(){i()},{once:!0})},[r,n,e.clientId])}l.default=d}),98);
__d("useWebBloksCollectionScrollingElementStyle",["WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){var e,s=(e||(e=o("react"))).useMemo;function u(e){var t=e.background_themed_color,n=e.direction,r=e.fading_edge_length,a=e.is_scroll_enabled,i=e.shows_scroll_indicator,l=e.snap,u=o("WebBloksTheme").useTheme().getTheme(),p=n==="column";return s(function(){var e=[],n={};if(l==null||l==="none"?e.push(d.none):p?e.push(d.y):e.push(d.x),a===!1?e.push(c.none):p?e.push(c.y):e.push(c.x),r!=null){var s="linear-gradient(\n        to "+(p?"bottom":"right")+",\n        transparent 0,\n        black "+o("WebBloksUtils").toPx(r)+",\n        black calc(100% - "+o("WebBloksUtils").toPx(r)+"),\n        transparent\n      )";n=babelHelpers.extends({},n,{maskImage:s,WebkitMaskImage:s})}return p||(n=babelHelpers.extends({},n,{whiteSpace:"nowrap"})),t&&(n=babelHelpers.extends({},n,{backgroundColor:o("WebBloksUtils").getRGBColorWithTheme(t,u)})),i===!1&&e.push(m.noScrollbar),{scrollingElementStyle:n,scrollingElementClassNames:e}},[t,r,p,a,i,l,u])}var c=o("WebBloksStyle").createStyles({none:{overflowY:"hidden",overflowX:"hidden"},y:{overflowY:"auto",overflowX:"hidden"},x:{overflowY:"hidden",overflowX:"auto"}}),d=o("WebBloksStyle").createStyles({none:{scrollSnapType:"none"},y:{scrollSnapType:"y mandatory"},x:{scrollSnapType:"x mandatory"}}),m=o("WebBloksStyle").createStyles({noScrollbar:function(t){var e;return e={},e[t]={scrollbarWidth:"none"},e[t+"::-webkit-scrollbar"]={display:"none"},e}});l.default=u}),98);
__d("useWebBloksCollectionStopPropagation",["react"],(function(t,n,r,o,a,i,l){var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=s(function(t){var n=e.current;if(n!=null){var r=n.scrollTop===0,o=n.scrollHeight-n.scrollTop===n.clientHeight;!r&&!o&&t.stopPropagation()}},[e]);return{onTouchStart:t,onTouchMove:t,onTouchEnd:t}}l.default=u}),98);
__d("WebBloksCollectionV2",["WebBloksCollectionChildBase","WebBloksCollectionHelpers","WebBloksCollectionScrollRefs","WebBloksStyle","WebBloksUtils","react","useWebBloksCollectionScrollHandlers","useWebBloksCollectionScrollingElementStyle","useWebBloksCollectionStopPropagation"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react"));function u(e){var t,n=e.externalStyle,a=e.node,i=a.getValues(),l=i.children,u=i.direction,d=i.item_spacing,m=i.spacing_after,p=i.spacing_before,_=o("WebBloksStyle").useStyle(a,n),f=_.ref,g=_.style,h=_.wrapper,y=_.wrapperProps,C=r("useWebBloksCollectionScrollingElementStyle")(i),b=C.scrollingElementClassNames,v=C.scrollingElementStyle,S=o("WebBloksCollectionScrollRefs").useWebbloksCollectionScrollContainerRef(a);r("useWebBloksCollectionScrollHandlers")(a);var R=r("useWebBloksCollectionStopPropagation")(f),L=o("WebBloksCollectionHelpers").getDirectionPropNames(u),E=L.crossAxisSize,k=L.mainAxisMarginEnd,I=L.mainAxisMarginStart,T=L.mainAxisSize;return h(s.jsx("div",babelHelpers.extends({},y,{ref:f,className:o("WebBloksStyle").classNames.apply(void 0,[o("WebBloksStyle").WebBloksStyles.container].concat(b)),style:babelHelpers.extends({},v,g,{display:"block",pointerEvents:"auto",containerType:o("WebBloksCollectionHelpers").getContainerType(a)})},R,{children:s.jsx("div",{ref:S,style:(t={display:"flex",flexDirection:u,gap:o("WebBloksUtils").toPx(d)},t[T]="max-content",t[E]="100%",t[I]=p!=null?o("WebBloksUtils").toPx(p):void 0,t[k]=m!=null?o("WebBloksUtils").toPx(m):void 0,t),children:l&&l.map(function(e){return s.jsx(c,{scrollerRef:f,node:e,collectionNode:a},e.clientId)})})})))}u.displayName=u.name+" [from "+i.id+"]";function c(e){var t=e.collectionNode,n=e.node,o=e.scrollerRef;return s.jsx(r("WebBloksCollectionChildBase"),{collectionNode:t,node:n,scrollerRef:o})}c.displayName=c.name+" [from "+i.id+"]",l.default=u}),98);
__d("useWebBloksCollectionGridAspectRatioProps",["WebBloksCollectionChildSizesLayoutReady","WebBloksCollectionHelpers","react"],(function(t,n,r,o,a,i,l){var e,s,u,c=u||(u=o("react")),d=c.useEffect,m=c.useMemo,p=c.useState,_=(e=(s=window.CSS)==null||s.supports==null?void 0:s.supports("width","100cqw"))!=null?e:!1;function f(e,t,n){var r,a=t.getValues(),i=a.direction,l=o("WebBloksCollectionHelpers").getDirectionPropNames(i),s=l.crossAxisSize,u=l.mainAxisSize,c=m(function(){var t=e.cell_aspect_ratio;return t==null?null:i==="column"?"1 / "+t:" "+t+" / 1"},[i,e.cell_aspect_ratio]),f=p(null),g=f[0],h=f[1];return d(function(){var t,r,o;if(!_&&c!=null){var a=parseInt((t=n.current)==null?void 0:t.getBoundingClientRect()[s],10)/((r=e.span_count)!=null?r:1);h(a*((o=e.cell_aspect_ratio)!=null?o:1))}},[c,s,e.cell_aspect_ratio,e.span_count,u,n]),d(function(){if(g!=null){var e;(e=n.current)==null||e.dispatchEvent(o("WebBloksCollectionChildSizesLayoutReady").LAYOUT_READY_EVENT)}},void 0),c==null?{}:(r={aspectRatio:g!=null?void 0:c},r[u]=g,r)}l.default=f}),98);
__d("WebBloksCollectionGrid_EXPERIMENTAL",["WebBloksCollectionChildBase","WebBloksCollectionHelpers","WebBloksCollectionScrollRefs","WebBloksCollectionV2","WebBloksStyle","WebBloksUtils","react","useWebBloksCollectionGridAspectRatioProps","useWebBloksCollectionScrollHandlers","useWebBloksCollectionScrollingElementStyle","useWebBloksCollectionStopPropagation"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t,n,a=e.layoutConfig,i=e.externalStyle,l=e.node,c=l.getValues(),d=c.children,m=c.direction,f=c.item_spacing,g=c.spacing_after,h=c.spacing_before,y=o("WebBloksStyle").useStyle(l,i),C=y.ref,b=y.style,v=y.wrapper,S=y.wrapperProps,R=r("useWebBloksCollectionScrollingElementStyle")(c),L=R.scrollingElementClassNames,E=R.scrollingElementStyle,k=o("WebBloksCollectionScrollRefs").useWebbloksCollectionScrollContainerRef(l);r("useWebBloksCollectionScrollHandlers")(l);var I=r("useWebBloksCollectionStopPropagation")(C),T=o("WebBloksCollectionHelpers").getDirectionPropNames(m),D=T.crossAxisSize,x=T.mainAxisMarginEnd,$=T.mainAxisMarginStart,P=T.mainAxisSize,N=u(function(){return{main:o("WebBloksUtils").toPx(a.main_axis_span_spacing),cross:o("WebBloksUtils").toPx(a.cross_axis_span_spacing)}},[a]);return v(s.jsx("div",babelHelpers.extends({},S,{ref:C,className:o("WebBloksStyle").classNames.apply(void 0,[o("WebBloksStyle").WebBloksStyles.container].concat(L)),style:babelHelpers.extends({},E,b,o("WebBloksUtils").insetToPadding(a.padding),{display:"block",pointerEvents:"auto",containerType:o("WebBloksCollectionHelpers").getContainerType(l)})},I,{children:s.jsx("div",{ref:k,style:babelHelpers.extends({display:"grid",flexDirection:m,gap:o("WebBloksUtils").toPx(f)},p(m,(t=a.span_count)!=null?t:1,N),(n={},n[P]="max-content",n[D]="100%",n[$]=h!=null?o("WebBloksUtils").toPx(h):void 0,n[x]=g!=null?o("WebBloksUtils").toPx(g):void 0,n)),children:d&&d.map(function(e){return s.jsx(_,{scrollerRef:C,node:e,layoutConfig:a,collectionNode:l},e.clientId)})})})))}c.displayName=c.name+" [from "+i.id+"]";function d(e){var t=e.externalStyle,n=e.node,o=n.getValues(),a=o.layout_config,i=a==null?void 0:a.getValues();return i?s.jsx(c,{node:n,externalStyle:t,layoutConfig:i}):s.jsx(r("WebBloksCollectionV2"),{node:n,externalStyle:t})}d.displayName=d.name+" [from "+i.id+"]";function m(e,t){var n,r=(n=e.getStyle("bk.style.GridCollectionStyle"))==null?void 0:n.getValues();if(!r)return{};var o=r.is_full_span,a=r.span_count,i=t.getValues(),l=i.direction,s=i.layout_config,u=l==="column"?"gridColumn":"gridRow",c=s==null?void 0:s.getValues();if(o!=null&&c){var d;return d={},d[u]="span "+c.span_count,d}if(a!=null){var m;return m={},m[u]="span "+a,m}return{}}function p(e,t,n){return e==="row"?{gridTemplateRows:"repeat("+t+", 1fr)",gridAutoColumns:"max-content",gridAutoFlow:"column",rowGap:n.cross,columnGap:n.main}:{gridTemplateColumns:"repeat("+t+", 1fr)",gridAutoRows:"max-content",gridAutoFlow:"row",rowGap:n.main,columnGap:n.cross}}function _(e){var t=e.collectionNode,n=e.layoutConfig,o=e.node,a=e.scrollerRef,i=babelHelpers.extends({},m(o,t),r("useWebBloksCollectionGridAspectRatioProps")(n,t,a));return s.jsx(r("WebBloksCollectionChildBase"),{collectionNode:t,node:o,scrollerRef:a,extraStyles:i})}_.displayName=_.name+" [from "+i.id+"]",l.default=d}),98);
__d("WebBloksCollectionV1",["WebBloksCollectionScrollRefs","WebBloksComponentContext","WebBloksStyle","WebBloksUtils","react","useWebBloksCollectionScrollHandlers","useWebBloksCollectionScrollingElementStyle","useWebBloksCollectionStickyChildStyle","useWebBloksCollectionStopPropagation"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react"));function u(e){var t=e.externalStyle,n=e.node,a=n.getValues(),i=a.children,l=o("WebBloksStyle").useStyle(n,t),u=l.ref,d=l.style,m=l.wrapper,p=l.wrapperProps,_=r("useWebBloksCollectionScrollingElementStyle")(a),f=_.scrollingElementClassNames,g=_.scrollingElementStyle,h=o("WebBloksCollectionScrollRefs").useWebbloksCollectionScrollContainerRef(n);r("useWebBloksCollectionScrollHandlers")(n);var y=r("useWebBloksCollectionStopPropagation")(u);return m(s.jsx("div",babelHelpers.extends({},p,{ref:function(t){h.current=t,u.current=t},className:o("WebBloksStyle").classNames.apply(void 0,[o("WebBloksStyle").WebBloksStyles.container].concat(f)),style:babelHelpers.extends({},g,d,{display:"block",pointerEvents:"auto"})},y,{children:i&&i.map(function(e,t){return s.jsx(c,{node:e,collectionNode:n,isFirstItem:t===0,isLastItem:t===i.length-1},e.clientId)})})))}u.displayName=u.name+" [from "+i.id+"]";function c(e){var t=e.collectionNode,n=e.isFirstItem,a=e.isLastItem,i=e.node,l=o("WebBloksComponentContext").useWebBloksContext(),s=l.renderNode,u=t.getValues(),c=u.direction,m=u.item_spacing,p=u.snap,_=u.snap_style,f=u.spacing_after,g=u.spacing_before,h=c==="column",y=a?f!=null?o("WebBloksUtils").toPx(f):0:o("WebBloksUtils").toPx(m),C=n&&g!=null?o("WebBloksUtils").toPx(g):void 0,b;h?(b={marginTop:C,marginBottom:y,width:"100%"},d(i,"height")&&(b.height="auto")):(b={marginLeft:C,marginRight:y,display:"inline-flex",verticalAlign:"bottom",height:"100%"},d(i,"width")&&(b.width="auto"));var v;return _==null||_==="pager"?v="always":v="normal",s(i,babelHelpers.extends({},b,r("useWebBloksCollectionStickyChildStyle")({node:i,direction:c}),{scrollSnapAlign:p,scrollSnapStop:v}))}c.displayName=c.name+" [from "+i.id+"]";function d(e,t){var n,r;return(n=(r=e.getStyle("flex"))==null||(r=r.get(t))==null?void 0:r.endsWith("%"))!=null?n:!1}l.default=u}),98);
__d("WebBloksCollection",["WebBloksCollectionGrid_EXPERIMENTAL","WebBloksCollectionHelpers","WebBloksCollectionV1","WebBloksCollectionV2","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react"));function u(e){var t=e.node.get("layout_config_type");return t==="grid"?s.jsx(r("WebBloksCollectionGrid_EXPERIMENTAL"),babelHelpers.extends({},e)):o("WebBloksCollectionHelpers").shouldUseWebBloksCollectionV2(e.node)?s.jsx(r("WebBloksCollectionV2"),babelHelpers.extends({},e)):s.jsx(r("WebBloksCollectionV1"),babelHelpers.extends({},e))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("WebBloksDatetimeTextProvider",["WebBloksComponentContext","WebBloksDateUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=e.node,n=t.get("timestamp"),r=t.get("type"),a=t.get("format"),i=o("WebBloksComponentContext").useWebBloksContext();return o("WebBloksDateUtils").getDateTimeText(n,i.bloksContext.objectSet.environment.locale,r,a)}l.default=e}),98);
__d("WebBloksDialog",["WebBloksComponentContext","WebBloksStyle","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useRef;function p(e){var t=e.node,n=t.styleId,r=t.getValues(),a=r.message,i=r.primary_button,l=r.secondary_button,u=r.tertiary_button,d=r.title,m=o("WebBloksComponentContext").useWebBloksContext(),p=c(function(e){e.target===e.currentTarget&&m.objectSet.navigationManager.pop()},[m]),g=d!=null?d:a,h=d!=null?a:null,y=_(),C=c(function(e){e.key==="Escape"&&(e.stopPropagation(),m.objectSet.navigationManager.pop())},[m.objectSet.navigationManager]);return s.jsx("div",{"data-bloks-name":n,className:f.background,onClick:p,onKeyDown:C,role:"presentation",children:s.jsxs("div",{className:f.container,ref:y,tabIndex:-1,"aria-label":g,children:[s.jsxs("div",{className:f.header,children:[g!=null&&s.jsx("div",{className:f.title,children:g}),h!=null&&s.jsx("div",{className:f.message,children:h})]}),s.jsxs("div",{className:f.buttons,children:[m.renderNode(i),m.renderNode(l),m.renderNode(u)]})]})})}p.displayName=p.name+" [from "+i.id+"]";function _(){var e=m(null);return d(function(){e.current&&(e.current.contains(document.activeElement)||e.current&&e.current.focus())},[]),e}var f=o("WebBloksStyle").createStyles({background:{alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",bottom:0,display:"flex",justifyContent:"space-around",left:0,position:"fixed",right:0,top:0,zIndex:1e3},buttons:{},container:{backgroundColor:"white",borderRadius:12,margin:32,maxWidth:"100%",textAlign:"center",width:400,outline:"none"},header:{padding:32},message:{color:"#65676B",fontSize:14,marginTop:12},title:{color:"#1C1E21",fontSize:18,fontWeight:600}});l.default=p}),98);
__d("WebBloksAbstractButton",["WebBloksComponentContext","WebBloksStyle","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["accessibility_label","badge_count","className","icon","role","tabIndex","title","trailing"],s,u=s||(s=o("react"));function c(t){var n,r=t.accessibility_label,a=t.badge_count,i=t.className,l=t.icon,s=t.role,c=s===void 0?"button":s,m=t.tabIndex,p=m===void 0?0:m,_=t.title,f=t.trailing,g=babelHelpers.objectWithoutPropertiesLoose(t,e),h=o("WebBloksComponentContext").useWebBloksContext(),y=h.objectSet;if(l==null&&_==null)return null;var C=d.abstractButton,b=_==null,v=(n=_!=null?_:r)!=null?n:"",S=null;if(l!=null){var R=y.environment,L=R.AssetRenderer,E=R.logger;if(!L)E.mustfix("Trying to render an asset, but AssetRenderer is not defined for %s",JSON.stringify(l));else{var k={};v&&(k.alt="",b||(k.className=d.marginRight4)),S=u.jsx(L,babelHelpers.extends({src:l},k))}}return u.jsxs(u.Fragment,{children:[u.jsxs("div",babelHelpers.extends({role:c,tabIndex:p},g,{className:o("WebBloksStyle").classNames(f===!0?d.TrailingButton:"",C,i),children:[S,b?u.jsx("span",{className:d.abstractButton+"_accessible_elem",children:v}):v]})),a!=null&&a>0?a:void 0]})}c.displayName=c.name+" [from "+i.id+"]";var d=o("WebBloksStyle").createStyles({TrailingButton:{backgroundColor:"transparent",border:"none",color:"rgb(23, 99, 207)"},marginRight4:{marginRight:4},abstractButton:function(t){var e;return e={},e[t]={cursor:"pointer",display:"inline-block",textDecoration:"none",whiteSpace:"nowrap",padding:"1px 6px"},e[".gecko "+t+":focus"]={outline:"1px dotted #3b5998",outlineColor:"invert"},e[t+":hover"]={textDecoration:"none"},e[t+" + "+t]={marginLeft:4},e[t+"_accessible_elem"]={clip:"rect(1px, 1px, 1px, 1px)",height:1,overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:1},e}});l.default=c}),98);
__d("WebBloksDialogButton",["WebBloksAbstractButton","WebBloksComponentContext","WebBloksStyle","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react"));function u(e){var t=e.node,n=t.getValues(),a=n.appearance,i=n.testing_id,l=n.text,u=t.getExpression("on_click"),d=o("WebBloksComponentContext").useWebBloksContext(),m=d.bloksContext,p=d.executeCatch,_=d.objectSet,f=d.ownerContext,g=function(n){n.preventDefault(),n.stopPropagation(),_.navigationManager.pop(),u!=null&&(f?f.executeCatch(u.getValue(),[t,m]):p(t,u,[t,m]))},h;switch(a){case"destructive":h=c.destructive;break;case"cancel":h=c.cancel;break;case"default":default:h=c.default;break}return s.jsx(r("WebBloksAbstractButton"),{className:o("WebBloksStyle").classNames(c.button,h),accessibility_label:l,onClick:g,title:l,"data-testid":void 0})}u.displayName=u.name+" [from "+i.id+"]";var c=o("WebBloksStyle").createStyles({button:function(t){var e;return e={},e["div"+t]={display:"block",borderTop:"1px solid #CED0D4",cursor:"pointer",fontSize:16,lineHeight:24/16,padding:"12px 10px",pointerEvents:"auto !important",marginLeft:"0px !important"},e},cancel:{color:"#1C1E21"},destructive:{color:"hsl(350, 87%, 55%)"},default:{color:"#0064E0"}});l.default=u}),98);
__d("WebBloksDummyComponent",["WebBloksErrors"],(function(t,n,r,o,a,i,l){function e(e){var t,n=(t=e.node.styleId)!=null?t:"This component";throw new(o("WebBloksErrors")).WebBloksError(n+" is not yet implemented. Please override in renderer")}l.default=e}),98);
__d("WebBloksFieldset",["WebBloksComponentContext","WebBloksStyle","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react"));function u(e){var t=e.node,n=o("WebBloksComponentContext").useWebBloksContext(),r=n.renderChildren;return s.jsx("fieldset",{className:c.fieldset,children:r(t.getSubNodes("children"))})}u.displayName=u.name+" [from "+i.id+"]";var c=o("WebBloksStyle").createStyles({fieldset:{border:"none",margin:0,padding:0}});l.default=u}),98);
__d("WebBloksAnchorTagExtensionHandlerUtils",["WebBloksUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.getValues(),n=o("WebBloksUtils").findExtension(t.extensions,"bk.components.AnchorTagExtension");if(!n)return null;var r=n.getValues(),a=r.href;return{href:a,tabIndex:0}}l.useWebBloksAnchorTagExtensionProps=e}),98);
__d("WebBloksDrawable",["WebBloksTheme","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo,d=s.useState;function m(e){return[1,void 0,!0].includes(e)}function p(e,t,n){n===void 0&&(n={});var r=_(e),o=f(e,t,n);return c(function(){return babelHelpers.extends({},r,o)},[r,o])}function _(e){var t=o("WebBloksTheme").useTheme().getTheme();return c(function(){if(!e)return{};var n=h(t,e);return n==null?{}:{background:n}},[e,t])}function f(e,t,n){n===void 0&&(n={});var r=o("WebBloksTheme").useTheme().getTheme(),a=d(m(n.enabled)?"default":"disabled"),i=a[0],l=a[1];return u(function(){l(m(n.enabled)?"default":"disabled")},[n.enabled]),u(function(){var r=t.current;if(r==null)return;function o(){l("pressed");function e(){l("default"),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)}document.addEventListener("mouseup",e),document.addEventListener("touchend",e)}return m(n.enabled)&&(e==null?void 0:e.styleId)==="bk.components.StateDrawable"&&y(e,"pressed")&&(r.addEventListener("mousedown",o),r.addEventListener("touchstart",o)),function(){r.removeEventListener("mousedown",o),r.removeEventListener("touchstart",o)}},[e,n.enabled,t]),c(function(){if((e==null?void 0:e.styleId)==="bk.components.StateDrawable"){var t=C(r,e,i);return{background:t!=null?t:void 0}}return{}},[r,e,i])}var g={top_to_bottom:"180deg",left_to_right:"90deg",bottom_left_to_top_right:"45deg",top_left_to_bottom_right:"135deg"};function h(e,t){switch(t.styleId){case"bk.components.ColorDrawable":{var n=t.get("color");if(n==null)break;return o("WebBloksUtils").convertRGBArrToString(o("WebBloksUtils").convertRGBOrHexStringToArr(n))}case"bk.components.ThemedColorDrawable":{var r=t.get("color");if(r==null)break;return o("WebBloksUtils").getRGBColorWithTheme(r,e)}case"bk.components.GradientDrawable":{var a=t.get("orientation"),i=t.get("begin_color"),l=t.get("middle_color"),s=t.get("end_color"),u="";return a!=null&&(u+=g[a]+","),i!=null&&(u+=o("WebBloksUtils").convertRGBArrToString(o("WebBloksUtils").convertRGBOrHexStringToArr(i))+","),l!=null&&(u+=o("WebBloksUtils").convertRGBArrToString(o("WebBloksUtils").convertRGBOrHexStringToArr(l))+","),s!=null&&(u+=o("WebBloksUtils").convertRGBArrToString(o("WebBloksUtils").convertRGBOrHexStringToArr(s))),"linear-gradient("+u+")"}case"bk.components.GradientThemedColorDrawable":{var c=t.get("orientation"),d=t.get("begin_color"),m=t.get("middle_color"),p=t.get("end_color"),_="";return c!=null&&(_+=g[c]+","),d!=null&&(_+=o("WebBloksUtils").getRGBColorWithTheme(d,e)+","),m!=null&&(_+=o("WebBloksUtils").getRGBColorWithTheme(m,e)+","),p!=null&&(_+=o("WebBloksUtils").getRGBColorWithTheme(p,e)),"linear-gradient("+_+")"}default:return null}}function y(e,t){var n,r=(n=e==null?void 0:e.get("state_items"))!=null?n:[];return r.some(function(e){return e.get("state")===t})}function C(e,t,n){var r=t.get("state_items");for(var o of r)if(o.get("state")===n)return h(e,o.get("drawable"));return null}l.default=p}),98);
__d("WebBloksDecoration",["WebBloksBooleanUtils","WebBloksDrawable","WebBloksTheme","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){var e,s=(e||(e=o("react"))).useMemo,u=0,c=3,d=6,m="#000000";function p(e,t){var n=o("WebBloksTheme").useTheme().getTheme(),a=e.decoration,i=e.enabled,l=a==null?void 0:a.get("background"),p=r("WebBloksDrawable")(l,t,e),_=a==null?void 0:a.get("border_width"),f=s(function(){var e=a==null?void 0:a.get("border_themed_color"),t=a==null?void 0:a.get("border_color");return e!=null?o("WebBloksUtils").getRGBColorWithTheme(e,n):t!=null?o("WebBloksUtils").convertRGBArrToString(o("WebBloksUtils").convertRGBOrHexStringToArr(t)):null},[a,n]);if(_!=null&&f!=null){var g=o("WebBloksUtils").toPx(_);p.border=g+" solid "+f}var h=a==null?void 0:a.get("shadow_opacity"),y=a==null?void 0:a.get("shadow_themed_color");if(y!=null||h!=null){var C,b,v,S=m;if(y!=null){var R=o("WebBloksUtils").getRGBColorWithTheme(y,n),L=o("WebBloksUtils").convertRGBOrHexStringToArr(R),E=L[0],k=L[1],I=L[2],T=L[3],D=T*(h!=null?h:1);S=o("WebBloksUtils").convertRGBArrToString([E,k,I,D])}var x=(C=a==null?void 0:a.get("shadow_offset_width"))!=null?C:u,$=(b=a==null?void 0:a.get("shadow_offset_height"))!=null?b:c,P=(v=a==null?void 0:a.get("shadow_radius"))!=null?v:d;p.boxShadow=x+"px "+$+"px "+P+"px "+S}var N=a==null?void 0:a.get("clipping");o("WebBloksBooleanUtils").isTrue(N)&&(p.overflow="hidden"),Object.prototype.hasOwnProperty.call(e,"on_click")&&!o("WebBloksBooleanUtils").isFalse(i)&&(p.cursor="pointer",p.pointerEvents="auto");var M=a==null?void 0:a.get("corner_radius");if(M!=null){var w=a==null?void 0:a.get("corners_to_apply_radius");if(w!=null&&w.length>0)for(var A of w)switch(A){case"top_left":p.borderTopLeftRadius=o("WebBloksUtils").toPx(M);break;case"top_right":p.borderTopRightRadius=o("WebBloksUtils").toPx(M);break;case"bottom_right":p.borderBottomRightRadius=o("WebBloksUtils").toPx(M);break;case"bottom_left":p.borderBottomLeftRadius=o("WebBloksUtils").toPx(M);break;default:break}else p.borderRadius=o("WebBloksUtils").toPx(M)}return p}l.default=p}),98);
__d("useClickablePropsForWebBloks",["WebBloksBooleanUtils","WebBloksComponentContext","WebBloksConstants"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){var a=o("WebBloksComponentContext").useWebBloksContext(),i=a.bloksContext,l=a.executeCatch,s=r===!0?function(e){e.preventDefault()}:void 0;if(t==null)return{onClickCapture:s};function u(a){r===!0&&a.preventDefault(),!o("WebBloksBooleanUtils").isFalse(n)&&t!=null&&(a.preventDefault(),a.stopPropagation(),l(e,t,[e,i]))}var c=u,d=function(t){t.keyCode===o("WebBloksConstants").KEY_RETURN?u(t):t.keyCode===o("WebBloksConstants").KEY_SPACE&&t.preventDefault()},m=function(t){t.keyCode===o("WebBloksConstants").KEY_SPACE&&u(t)};return{onClick:c,onClickCapture:s,onKeyDown:d,onKeyUp:m}}l.default=e}),98);
__d("useWebBloksDrawableNode",["WebBloksComponentContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("WebBloksComponentContext").useWebBloksContext(),n=t.objectSet;if(e!=null){var r=n.getNullableComponentForName(e.styleId);return r!=null?s.jsx(r,{node:e}):null}return null}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("WebBloksFlexbox",["WebBloksAnchorTagExtensionHandlerUtils","WebBloksComponentContext","WebBloksDecoration","WebBloksDrawable","WebBloksStyle","WebBloksUtils","react","useClickablePropsForWebBloks","useWebBloksDrawableNode"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useRef;function m(e){var t=e.externalStyle,n=e.node,a=n.getExpression("on_click"),i=n.getSubNodes("children"),l=n.getSubNode("decoration"),u=n.get("visibility"),d=n.get("align_content"),m=n.get("align_items"),_=n.get("flex_direction"),g=n.get("flex_wrap"),h=n.get("justify_content"),y=n.getExpression("on_mount"),C=o("WebBloksUtils").isBloksModelEnabled(n),b=o("WebBloksStyle").useStyle(n,t,a!=null&&C),v=b.ref,S=b.style,R=b.wrapper,L=b.wrapperProps,E=r("WebBloksDecoration")(n.getValues(),v),k=o("WebBloksAnchorTagExtensionHandlerUtils").useWebBloksAnchorTagExtensionProps(n),I=k!==null,T=I?"a":"div",D=r("useClickablePropsForWebBloks")(n,a,L.disabled===!0?!1:C,I),x=o("WebBloksComponentContext").useWebBloksContext(),$=x.bloksContext,P=x.executeOnNextTickCatch,N=x.renderChildren;c(function(){y!=null&&P(n,y,[n,$])},[y]);var M=l==null?void 0:l.get("foreground"),w=babelHelpers.extends({pointerEvents:"none"},S,f(u),E,{alignContent:o("WebBloksUtils").toHyphen(d),alignItems:o("WebBloksUtils").toHyphen(m),flexDirection:o("WebBloksUtils").toHyphen(_),flexWrap:o("WebBloksUtils").toHyphen(g),justifyContent:o("WebBloksUtils").toHyphen(h!=null?h:S.justifyContent)});return R(s.jsxs(T,babelHelpers.extends({},L,{className:o("WebBloksStyle").WebBloksStyles.container,style:w},D,k,{children:[N(i),M?s.jsx(p,{drawable:M}):null]})))}m.displayName=m.name+" [from "+i.id+"]";function p(e){var t=e.drawable,n=d(null),o=r("WebBloksDrawable")(t,n),a=r("useWebBloksDrawableNode")(t);return a!=null?a:s.jsx("div",{"data-bloks-name":"bk.components.BoxDecoration",ref:n,className:_.foreground,style:o})}p.displayName=p.name+" [from "+i.id+"]";var _=o("WebBloksStyle").createStyles({foreground:{position:"absolute",top:0,bottom:0,left:0,right:0,pointerEvents:"none"}});function f(e){switch(e){case"gone":return{display:"none"};case"invisible":return{visibility:"hidden"}}}l.default=m}),98);
__d("WebBloksGlimmer",["WebBloksStyle","WebBloksTheme","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e.useMemo,c=200;function d(e,t){return o("WebBloksStyle").keyframes({"0%":{opacity:e},"50%":{opacity:t},"100%":{opacity:e}})}var m=d(.04,.17),p=d(.04,.07),_=d(.65,1);function f(e,t){var n=o("WebBloksTheme").WebBloksThemeVars["fds-gray-65"],r=m;return e==="background"&&(t==="wash"?(n=o("WebBloksTheme").WebBloksThemeVars["fds-white"],r=_):t==="default"&&(r=p)),{background:n,animationName:r}}function g(e){var t,n,r,a=e.externalStyle,i=e.node,l=o("WebBloksStyle").useStyle(i,a),d=l.style,m=l.wrapper,p=l.wrapperProps,_=i.get("shape"),g=i.get("corner_radius"),y=(t=i.get("index"))!=null?t:0,C=(n=i.get("component_style"))!=null?n:"default",b=(r=i.get("surface_background_color"))!=null?r:"default",v=u(function(){return f(C,b)},[C,b]),S=v.animationName,R=v.background,L=_==="circle"?"50%":g,E=u(function(){return babelHelpers.extends({},d,{borderRadius:L,background:R,animationName:S,animationDelay:y*c+"ms"})},[d,L,R,S,y]);return m(s.jsx("div",babelHelpers.extends({},p,{"data-visualcompletion":"loading-state",className:o("WebBloksStyle").classNames(o("WebBloksStyle").WebBloksStyles.container,h.root),style:E})))}g.displayName=g.name+" [from "+i.id+"]";var h=o("WebBloksStyle").createStyles({root:{animationDuration:"2s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(0.5, 0, 0.5, 1)",animationFillMode:"backwards"}});l.default=g}),98);
__d("WebBloksImage",["WebBloksComponentContext","WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useMemo;function m(e){switch(e){case"contain":return"contain";case"stretch":return"fill";case"cover":default:return"cover"}}function p(e){if(e!=null){var t=e.get("x"),n=e.get("y");if(!(t==null||n==null))return t*100+"% "+n*100+"%"}}function _(e){var t,n=e.externalStyle,r=e.node,a=r.get("dark_url"),i=r.get("scale_type"),l=r.get("url"),u=r.get("color_filter"),_=r.get("focus_point"),f=r.getExpression("on_image_perf_update"),g=o("WebBloksComponentContext").useWebBloksContext(),h=g.bloksContext,y=g.executeCatch,C=o("WebBloksStyle").useStyle(r,n),b=C.style,v=C.wrapper,S=C.wrapperProps,R=o("WebBloksTheme").useTheme().getTheme(),L=r.getValues(),E=L.contrib;b.position==="absolute"&&(b.top==="0px"&&b.bottom==="0px"&&(b.height="100%"),b.left==="0px"&&b.right==="0px"&&(b.width="100%"));var k=m(i),I={};if(u!=null&&l!=null){var T=k==="fill"?"100% 100%":k;I={WebkitMaskImage:"url("+l+")",WebkitMaskSize:T,maskImage:"url("+l+")",maskSize:T,backgroundColor:o("WebBloksUtils").getRGBColorWithTheme(u,R),objectPosition:"10000px 10000px"}}var D=function(t){f!=null&&y(r,f,[t,Date.now(),h])};c(function(){D("ImageRequested")},[]);var x=E==null?void 0:E.get("base_sixty_four_encoded_image");if(x!=null){var $=x.charAt(0),P="";switch($){case"/":P="jpg";break;case"i":P="png";break;case"R":P="gif";break;case"U":P="webp";break;case"P":P="svg";break}x="data:image/"+P+";base64,"+x}var N=R===o("WebBloksTheme").THEME.light||a==null?l:a,M=typeof N=="string"&&N?N.replace(/\\/g,""):null,w=x!=null?x:M,A=babelHelpers.extends({},S,{"aria-label":null,alt:(t=S==null?void 0:S["aria-label"])!=null?t:""}),F=d(function(){return _!=null&&u==null?p(_):void 0},[u,_]);return v(s.jsx("img",babelHelpers.extends({},A,{src:w,onLoad:function(){return D("ImageFinalRendered")},onError:function(){return D("ImageFailed")}},o("WebBloksStyle").getStyleProps(babelHelpers.extends({},b,I,{objectFit:k},F!=null?{objectPosition:F}:null,{overflow:"hidden"})))))}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("WebBloksInternalAction",[],(function(t,n,r,o,a,i){"use strict";function e(e){return null}i.default=e}),66);
__d("WebBloksMergeWithBind",["WebBloksErrors"],(function(t,n,r,o,a,i,l){function e(e){throw new(o("WebBloksErrors")).WebBloksError("Should not be called")}l.default=e}),98);
__d("WebBloksNavbarBackButton",["WebBloksAbstractButton","WebBloksComponentContext","WebBloksStyle","WebBloksTheme","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=o("WebBloksStyle").createStyles({backButton:{display:"flex",alignItems:"center",flexShrink:0,flexGrow:0,flexDirection:"row",justifyContent:"center"}});function c(e){var t=e.onClick,n=o("WebBloksTheme").useTheme().getTheme(),a=o("WebBloksComponentContext").useWebBloksContext(),i=a.objectSet,l=n===o("WebBloksTheme").THEME.light?i.getAsset("chevronLeft"):i.getAsset("chevronLeftDark");return s.jsx("div",{className:u.backButton,children:s.jsx(r("WebBloksAbstractButton"),{trailing:!0,icon:l,accessibility_label:"Back",onClick:t})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("WebBloksScreenHost",["WebBloksBind","WebBloksComponentContext","WebBloksExternalVariables","WebBloksUtils","react","webBloksPerformanceUtils"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useLayoutEffect,m=u.useMemo,p=u.useState;function _(e){var t,n,r=e.externalVariables,a=e.isLoadingNode,i=a===void 0?!1:a,l=e.screen,u=p(function(){return new(o("WebBloksComponentContext")).WebBloksComponentContext(l.getTreeManager().bloksContext,l.options.ownerContext,i)}),_=u[0],g=_.renderNode,h=p(function(){return o("WebBloksExternalVariables").getProcessedDataPropEntries(l.getTreeManager().initialTreeResources)}),y=h[0],C=p(function(){var e=new Map;return o("WebBloksUtils").putAll(e,r),o("WebBloksUtils").putAll(e,l.options.externalVariables),o("WebBloksExternalVariables").getProcessedExternalVariables(e,y)}),b=C[0],v=C[1],S=p(function(){var e=l.getTreeManager();return o("WebBloksBind").bind(e.bloksContext,e.unboundModel,e.treeResourcesState,b)}),R=S[0],L=S[1],E=p((t=l.options.initialContainer)==null?void 0:t.model),k=E[0],I=E[1],T=p((n=l.options.initialContainer)==null?void 0:n.config),D=T[0],x=T[1];d(function(){l.setOnContainerUpdate(function(e,t){I(e),x(t)})},[l]),c(function(){var e=f(b,r,y),t=e.needsUpdate,n=e.updatedExternalVariables;if(t){v(n);var a=l.getTreeManager();L(o("WebBloksBind").bind(a.bloksContext,a.unboundModel,a.treeResourcesState,n))}},[y,r,b,l]),c(function(){l.getTreeManager().setCommittedBoundTree(R)},[l,R]),c(function(){var e=l.getTreeManager();function t(t){L(o("WebBloksBind").bind(e.bloksContext,t.unboundModel,t.treeResourcesState,b,e.bindResult))}return e.onNewTreeAndVariablesListener.on(t),function(){return e.onNewTreeAndVariablesListener.off(t)}},[b,l]),c(function(){i||o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-ttrc-end")},[i]);var $=k!=null?l.objectSet.getContainerConfigModuleForName(k.styleId).ContainerComponent:null,P=m(function(){var e=g(R.boundModel);return $!=null&&D!=null?s.jsx($,{containerConfig:D,children:e}):e},[g,R.boundModel,$,D]),N=l.objectSet.mountEffectsQueue;return c(function(){P!=null&&!N.isEmpty()&&N.runEffects()},[N,P]),s.jsx(o("WebBloksComponentContext").WebBloksComponentContextContext.Provider,{value:_,children:P})}_.displayName=_.name+" [from "+i.id+"]";function f(e,t,n){var r=!1;if(!t)return{needsUpdate:r,updatedExternalVariables:e};var o=e;for(var a of t.entries()){var i=a[0],l=a[1],s=n.get(i);s!=null&&o.get(s)!==l&&(r=!0,o.set(s,l))}return{needsUpdate:r,updatedExternalVariables:o}}l.default=_}),98);
__d("WebBloksNavbar",["WebBloksAbstractButton","WebBloksComponentContext","WebBloksNavbarBackButton","WebBloksScreen","WebBloksScreenHost","WebBloksStyle","WebBloksTheme","WebBloksUtils","react","useClickablePropsForWebBloks"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e.useMemo,c=o("WebBloksStyle").createStyles({root:{height:52,width:"100%",zIndex:1,backgroundColor:o("WebBloksTheme").WebBloksThemeVars["navbar-bg"],padding:8,borderBottomStyle:"solid",borderBottomColor:o("WebBloksTheme").WebBloksThemeVars.separator,borderBottomWidth:1,justifyContent:"center"},backButton:{display:"flex",alignItems:"center",flexShrink:0,flexGrow:0,flexDirection:"row",justifyContent:"center"},titleContainer:{alignItems:"center",flexGrow:1,fontWeight:600,justifyContent:"center"},titleContainerMargin:{marginRight:28},title:{flexGrow:1,alignItems:"center",justifyContent:"center",margin:"0 0px",textAlign:"center"},trailingButtons:{display:"flex",flexShrink:0,alignItems:"center",flexDirection:"row-reverse",justifyContent:"center"}});function d(e){var t=e.node,n=o("WebBloksComponentContext").useWebBloksContext(),a=n.executeCatch,i=n.isLoadingNode,l=n.objectSet,d=n.ownerContext,p=n.renderNode,_=l.navigationManager,f=t.getValues(),g=f.contribs,h=f.hide_navbar,y=f.title,C=u(function(){var e=[],n=null;if(g==null)return{titleBloksNode:n,trailingButtons:e};for(var u of g){var c=u.getValues(),_=u.getExpression("custom_title_parseresult");if(_!=null){var f=void 0;i&&d?f=d.executeCatch(_.getValue(),[]):f=a(t,_,[]);var h=o("WebBloksScreen").WebBloksScreen.fromBloksParseResult(l,o("WebBloksUtils").cast(f),{isModal:!1,isEmbedded:!0});n=s.jsx(r("WebBloksScreenHost"),{screen:h})}if(c.trailing_buttons!==void 0)for(var y of c.trailing_buttons)e.push(s.jsx(m,{node:y},y.clientId));if(c.right_buttons!==void 0)for(var C of c.right_buttons)e.push(p(C))}return{titleBloksNode:n,trailingButtons:e}},[g,a,i,t,l,d,p]),b=C.titleBloksNode,v=C.trailingButtons;if(h===!0)return null;var S=_.getScreenCount()>1,R=S&&v.length===0;return s.jsxs("div",{"data-bloks-name":t.styleId,className:o("WebBloksStyle").classNames(o("WebBloksStyle").WebBloksStyles.container,c.root),children:[s.jsxs("div",{className:o("WebBloksStyle").classNames(o("WebBloksStyle").WebBloksStyles.container,c.titleContainer,R?c.titleContainerMargin:null),children:[S?s.jsx(r("WebBloksNavbarBackButton"),{onClick:function(){return _.pop()}}):null,s.jsx("div",{className:c.title,children:b!=null?b:y})]}),s.jsx("div",{className:o("WebBloksStyle").classNames(o("WebBloksStyle").WebBloksStyles.container,c.trailingButtons),children:v})]})}d.displayName=d.name+" [from "+i.id+"]";function m(e){var t=e.node,n=t.getExpression("on_click"),a=t.get("icon"),i=t.get("title"),l=t.get("accessibility_label"),u=t.get("badge_count"),c=o("WebBloksComponentContext").useWebBloksContext(),d=c.objectSet,m=r("useClickablePropsForWebBloks")(t,n);if(m.onClick===void 0||!a&&(i==null||i===""))return null;var _=p(d,a);return s.jsx(r("WebBloksAbstractButton"),babelHelpers.extends({trailing:!0,"data-bloks-name":t.styleId,icon:_,title:i,accessibility_label:l,badge_count:u},m))}m.displayName=m.name+" [from "+i.id+"]";function p(e,t){if(!t)return null;switch(t){case"nav-app-messenger":return e.getAsset("appMessenger");case"nav-navicon":return e.getAsset("navIcon");case"nav-shopping-cart":return e.getAsset("navShoppingCart");case"nav-info-circle":return e.getAsset("navInfoCircle")}}l.default=d}),98);
__d("WebBloksOnMountExtensionHandlerUtils",["WebBloksConstants"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r=n.bloksContext,a=n.executeOnNextTickCatch,i=r.initAssociatedObject_INTERNAL(e,o("WebBloksConstants").CONTROLLER_ASSOCIATED_OBJECT,{firstMountRecorded:!1}),l=e.getExpression("on_first_mount"),s=e.getExpression("on_mount"),u=e.getExpression("on_unmount");return i.firstMountRecorded!==!0&&(r.updateAssociatedObject_INTERNAL(e,o("WebBloksConstants").CONTROLLER_ASSOCIATED_OBJECT,{firstMountRecorded:!0}),l!=null&&a(t.current,l,[t.current,n])),s!=null&&a(t.current,s,[t.current,n]),function(){u!=null&&a(t.current,u,[t.current])}}l.runMountEffects=e}),98);
__d("WebBloksOnMount",["WebBloksComponentContext","WebBloksOnMountExtensionHandlerUtils","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=e.children,n=e.node,r=o("WebBloksComponentContext").useWebBloksContext();return u(function(){return r.bloksContext.objectSet.mountEffectsQueue.enqueue(n.clientId,[function(){return o("WebBloksOnMountExtensionHandlerUtils").runMountEffects(n,{current:n},r)}]),function(){r.bloksContext.objectSet.mountEffectsQueue.dispose(n.clientId)}},[]),t!=null?t:null}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("WebBloksPullToRefreshContainer",["WebBloksComponentContext"],(function(t,n,r,o,a,i,l){function e(e){var t=e.node,n=o("WebBloksComponentContext").useWebBloksContext(),r=n.renderNode;return r(t.getSubNode("child"))}l.default=e}),98);
__d("WebBloksRichTextContext",["react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=s.createContext({maxNumberOfLines:1,isRootFontSizeEnabled:!1,setIsRootFontSizeEnabled:function(t){}});l.default=u}),98);
__d("WebBloksTextStyle",["WebBloksSSRUtils","WebBloksUtils"],(function(t,n,r,o,a,i,l){var e=o("WebBloksUtils").convertRGBArrToString(o("WebBloksUtils").convertRGBOrHexStringToArr("#0000000")),s=1.3;function u(t,n,r){return t!=null?{color:o("WebBloksUtils").convertRGBArrToString(o("WebBloksUtils").convertRGBOrHexStringToArr(t))}:n&&r?{color:o("WebBloksUtils").getRGBColorWithTheme(n,r)}:{color:e}}function c(e){var t,n;switch(e){case"normal":t=400;break;case"heavy":t=900;break;case"bold":t=700;break;case"italic":n="italic";break;case"bold_italic":t=700,n="italic";break;case"light":t=300;break;case"medium":t=500;break;case"semibold":t=600;break}return{fontWeight:t,fontStyle:n}}function d(e){var t="";switch(e){case"top_to_bottom":t="180deg";break;case"left_to_right":t="90deg";break;case"bottom_left_to_top_right":t="45deg";break;case"top_left_to_bottom_right":t="135deg";break}return t}function m(e,t){return e.map(function(e){return o("WebBloksUtils").getRGBColorWithTheme(e,t)}).join(", ")}function p(e,t,n){if(e==null||e.length===0||t==null)return{};var r=d(t),a=m(e,n);return{backgroundColor:o("WebBloksUtils").getRGBColorWithTheme(e[0],n),background:"linear-gradient("+r+", "+a+")",backgroundSize:"100%",textFillColor:"transparent",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}function _(e,t,n){var r=0,o=0;if(n){var a,i;r=f(e,t,(a=n.cap_spacing)!=null?a:void 0),o=f(e,t,(i=n.baseline_spacing)!=null?i:void 0)}function l(e){if(typeof e=="string")return"translateY(calc(calc("+e+" - 1em) / 2)";if(!(e<=s)){var t="calc(1em * "+e+")",n="calc(1em * "+s+")";return"translateY(calc(("+t+" - "+n+")/2))"}}return{paddingTop:r,paddingBottom:o,transform:l(e)}}function f(e,t,n){if(n==null)return 0;if(t!=null){var r=t*.8,o=typeof e=="string"?parseInt(e,10):t*e,a=(o-r)/2,i=n-a;if(Math.abs(i)>.3)return i}return 0}function g(e,t){return t===void 0&&(t=!0),e==null||e<1?{}:{display:t?"-webkit-inline-box":"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:e,wordBreak:"break-word",maxHeight:"999999px"}}var h=12;function y(e){if(e==null)return 0;var t=h;for(var n of e){var r=h;switch(n.styleId){case"bk.components.TextSpan":{var a=o("WebBloksUtils").toPx(n.get("text_size"));o("WebBloksSSRUtils").canUseDOM?r=parseFloat(a!=null?a:window.getComputedStyle(document.body).fontSize):r=parseFloat(a);break}case"bk.data.ComposableTextSpan":case"bk.data.TextSpan":{var i,l=(i=n.get("styles"))==null?void 0:i.find(function(e){return e.styleId==="bk.style.textspan.TextStyle"});if(l==null||l.styleId!=="bk.style.textspan.TextStyle")break;var s=o("WebBloksUtils").toPx(l.get("text_size"));o("WebBloksSSRUtils").canUseDOM?r=parseFloat(s!=null?s:window.getComputedStyle(document.body).fontSize):r=parseFloat(s);break}case"bk.data.ImageSpan":{var u,c=n.get("image_height");r=(u=parseFloat(c))!=null?u:h;break}default:continue}r>t&&(t=r)}return t}function C(e){return e===void 0&&(e=1),s*e}function b(e,t){if(e==="AvenyT")return"Instagram Sans Condensed";if(e!=null&&t!=null&&t[e]){var n=t[e].webFontName;return n==null?void 0:n}return e}function v(e,t){var n,r,a,i=(n=e.shadow_offset_dx)==null?void 0:n.toString(),l=(r=e.shadow_offset_dy)==null?void 0:r.toString(),s=(a=e.shadow_radius)==null?void 0:a.toString(),u=e.shadow_color?o("WebBloksUtils").getRGBColorWithTheme(e.shadow_color,t):null,c;return i!=null&&l!=null&&(c=i+"px "+l+"px"),c!=null&&(s!=null&&(c=c+" "+s+"px"),u!=null&&(c=c+" "+u)),c}l.getTextColor=u,l.getTextStyle=c,l.getGradientColors=m,l.getGradientTextStyle=p,l.getVerticalSpacingStyles=_,l.getLineClampStyle=g,l.getMaxTextSizePx=y,l.getLineHeight=C,l.getFontFamily=b,l.getTextShadow=v}),98);
__d("WebBloksRichTextTruncationCustom",["WebBloksComponentContext","WebBloksStyle","WebBloksTextStyle","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useLayoutEffect,d=u.useRef,m=u.useState;function p(e){var t=e.children,n=e.dimensions,r=e.node,a=e.truncationSpans,i=o("WebBloksComponentContext").useWebBloksContext(),l=i.renderChildren,u=d(null),p=m(!1),f=p[0],g=p[1],h=r.get("max_number_of_lines"),y=n.lineHeight,C=n.textSizePx,b=C*y,v=b*(h!=null?h:1);if(c(function(){var e,t;g(((e=(t=u.current)==null?void 0:t.clientHeight)!=null?e:0)>v+b/2)},[v,b]),h==null)return null;var S=u.current!=null?window.getComputedStyle(u.current).direction==="rtl":!1,R=S?"left":"right",L=o("WebBloksTextStyle").getMaxTextSizePx(a)*y,E={fontSize:C,maxHeight:v+"px",wordBreak:h===1?"break-all":"break-word"},k=l(a);return s.jsxs("div",{style:E,className:_.container,children:[f&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{float:R,height:v-L+"px"}}),s.jsx("div",{dir:S?"rtl":"ltr",style:{float:R,clear:R},children:k})]}),s.jsx("div",{className:_.content,dir:"auto",ref:u,children:t})]})}p.displayName=p.name+" [from "+i.id+"]";var _=o("WebBloksStyle").createStyles({container:{overflow:"hidden"},content:{float:"none"}});l.default=p}),98);
__d("WebBloksRichTextTruncation",["WebBloksRichTextTruncationCustom","WebBloksStyle","WebBloksTextStyle","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react"));function u(e){var t=e.children,n=e.dimensions,o=e.node,a=o.get("max_number_of_lines"),i=o.getSubNodes("truncation_spans"),l=o.getSubNodes("spans_for_truncation"),u=a,d=i!=null&&i.length?i:l;return u==null||u===0?t:d==null||d.length<1?s.jsx(c,{children:t,node:o}):s.jsx(r("WebBloksRichTextTruncationCustom"),{dimensions:n,node:o,truncationSpans:d,children:t})}u.displayName=u.name+" [from "+i.id+"]";function c(e){var t=e.children,n=e.node,r=n.get("max_number_of_lines"),a=o("WebBloksTextStyle").getLineClampStyle(r,!1);return s.jsx("div",{className:d.container,style:a,children:t})}c.displayName=c.name+" [from "+i.id+"]";var d=o("WebBloksStyle").createStyles({container:{overflow:"hidden"}});l.default=u}),98);
__d("WebBloksRichTextVerticalAlign",["WebBloksTextStyle","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=e.children,n=e.dimensions,r=e.node,a=r.get("baseline_spacing"),i=r.get("cap_spacing"),l=u(function(){return o("WebBloksTextStyle").getVerticalSpacingStyles(n.lineHeight,n.textSizePx,{baseline_spacing:a,cap_spacing:i})},[n,a,i]);return l.transform==null&&l.paddingBottom===0&&l.paddingTop===0?t:s.jsx("div",{style:babelHelpers.extends({fontSize:n.textSizePx},l),children:t})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("useWebBloksRichTextDimensions",["WebBloksTextStyle","react"],(function(t,n,r,o,a,i,l){var e,s=(e||(e=o("react"))).useMemo;function u(e){var t=e.get("line_height_multiplier"),n=e.get("use_composable_and_extensible_spans"),r=e.getSubNodes("spans"),a=e.getSubNodes("children"),i=e.getSubNodes("spans_for_truncation"),l=e.getSubNodes("truncation_spans");return s(function(){var e,s,u=o("WebBloksTextStyle").getLineHeight(t),c=(e=n===!0?r:a)!=null?e:[],d=(s=n===!0?i:l)!=null?s:[],m=o("WebBloksTextStyle").getMaxTextSizePx((c!=null?c:[]).concat(d!=null?d:[]));return{lineHeight:u,textSizePx:m}},[a,t,r,i,l,n])}l.default=u}),98);
__d("WebBloksRichText",["WebBloksComponentContext","WebBloksRichTextContext","WebBloksRichTextTruncation","WebBloksRichTextVerticalAlign","WebBloksStyle","WebBloksUtils","react","useClickablePropsForWebBloks","useWebBloksRichTextDimensions"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useMemo,d=u.useState;function m(e){var t=e.externalStyle,n=e.node,a=n.getExpression("on_click"),i=n.getSubNodes("children"),l=n.getSubNodes("spans"),u=n.get("text_align"),m=n.get("use_composable_and_extensible_spans"),p=n.get("max_number_of_lines"),_=o("WebBloksStyle").useStyle(n,t,a!=null),f=_.style,g=_.wrapper,h=_.wrapperProps,y=r("useClickablePropsForWebBloks")(n,a),C=o("WebBloksComponentContext").useWebBloksContext(),b=C.renderChildren,v=i.slice(-1)[0],S=r("useWebBloksRichTextDimensions")(n),R=m===!0,L=d(!1),E=L[0],k=L[1],I=c(function(){return{maxNumberOfLines:p!=null?p:1,isRootFontSizeEnabled:E,setIsRootFontSizeEnabled:k}},[E,p]),T=c(function(){return R?s.jsx(r("WebBloksRichTextContext").Provider,{value:I,children:b(l)}):b(i)},[R,i,l,b,I]);return g(s.jsx("div",babelHelpers.extends({},h,{dir:"auto",className:o("WebBloksStyle").WebBloksStyles.container,style:babelHelpers.extends({},f,{lineHeight:S.lineHeight,display:"block",color:v==null?void 0:v.get("text_color"),textAlign:o("WebBloksUtils").toHyphen(u),overflow:"hidden"})},y,{children:s.jsx(r("WebBloksRichTextVerticalAlign"),{node:n,dimensions:S,children:s.jsx(r("WebBloksRichTextTruncation"),{node:n,dimensions:S,children:T})})})))}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("WebBloksScreenWrapperPrimitive",["WebBloksBooleanUtils","WebBloksComponentContext","WebBloksEnvironmentContext","WebBloksStyle","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react"));function u(e){var t=e.node,n=o("WebBloksComponentContext").useWebBloksContext(),r=n.renderNode,a=o("WebBloksEnvironmentContext").useWebBloksEnvironment(),i=a.embedded,l=r(t.get("content")),u=t.get("navbar"),d=t.get("contribs"),m=null,p=!1;if(d!==void 0&&d.length>0){for(var _ of d)if(o("WebBloksBooleanUtils").isFalse(_.get("should_wrap")))return l}return u!==void 0&&(m=r(u),p=u.getValues().hide_navbar===!0),s.jsxs("div",{"data-bloks-name":t.styleId,className:c.root,children:[m!=null&&!p?s.jsx("div",{className:c.header,children:m},"navbar"):null,s.jsx("div",{className:o("WebBloksStyle").classNames(c.content,i?c.contentEmbedded:c.contentFullScreen),children:l},"content")]})}u.displayName=u.name+" [from "+i.id+"]";var c=o("WebBloksStyle").createStyles({root:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},header:{flex:"0 0 auto"},content:{flex:"1 1 0",width:"100%",overflow:"hidden",pointerEvents:"auto",display:"flex",flexDirection:"column"},contentEmbedded:{flexBasis:"auto"},contentFullScreen:{flexBasis:"0"}});l.default=u}),98);
__d("WebBloksSlider",["WebBloksComponentContext","WebBloksConstants","WebBloksEnvironmentContext","WebBloksMutations","WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){var e=["onChange","onChangeEnd","onChangeStart","railColor","thumbColor","thumbSize","trackColor","trackHeight","value"],s=["aria-label","disabled"],u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_=d.useMemo,f=d.useRef,g=d.useState,h=0,y=100,C=o("WebBloksStyle").createStyles({wrapper:{touchAction:"none",pointerEvents:"all",position:"relative",cursor:"pointer",width:"100%"},rail:{borderRadius:2,width:"100%",position:"absolute",top:0,bottom:0,marginTop:"auto",marginBottom:"auto"},track:{borderRadius:2,position:"absolute",top:0,bottom:0,marginTop:"auto",marginBottom:"auto"},thumbWrapper:{position:"relative"},thumb:{borderRadius:"50%",boxShadow:"0 0 5px gainsboro",position:"absolute",cursor:"pointer",transform:"translate(-50%, 0)"}});function b(e){var t,n=e.externalStyle,r=e.node,a=r.get("thumb_diameter"),i=r.get("track_height"),l=r.getSubNode("thumb_color"),s=r.getSubNode("unfilled_track_color"),u=r.getSubNode("filled_track_color"),d=r.get("initial_value"),m=r.get("progress"),_=r.getExpression("on_change"),f=r.getExpression("on_start_touch"),h=r.getExpression("on_end_touch"),C=o("WebBloksComponentContext").useWebBloksContext(),b=C.bloksContext,S=C.executeCatch,R=o("WebBloksTheme").useTheme().getTheme(),L=o("WebBloksStyle").useStyle(r,n),E=L.wrapper,k=L.wrapperProps,I=a!=null?parseFloat(a):24,T=i!=null?parseFloat(i):4,D=l!=null?o("WebBloksUtils").getRGBColorWithTheme(l,R):o("WebBloksTheme").WebBloksThemeVars["primary-bg"],x=s!=null?o("WebBloksUtils").getRGBColorWithTheme(s,R):"#DBDBDB",$=u!=null?o("WebBloksUtils").getRGBColorWithTheme(u,R):o("WebBloksTheme").WebBloksThemeVars["fds-gray-65"],P=g(((t=d!=null?d:m)!=null?t:0)*y),N=P[0],M=P[1],w=g(!1),A=w[0],F=w[1];p(function(){!A&&m!=null&&(M(m*y),o("WebBloksMutations").updateProperty(b.treeManager,r,"progress",null))},[b.treeManager,A,r,m,N]);var O=function(t){_!=null&&S(r,_,[Number(t)/y,b]),M(Number(t))},B=function(t){f!=null&&S(r,f,[t,b]),F(!0)},W=function(t){h!=null&&S(r,h,[t,b]),F(!1)};return E(c.jsx(v,babelHelpers.extends({},k,{onChange:O,onChangeStart:B,onChangeEnd:W,value:N,thumbSize:I,railColor:x,trackColor:$,trackHeight:T,thumbColor:D})))}b.displayName=b.name+" [from "+i.id+"]";function v(t){var n=t.onChange,r=t.onChangeEnd,a=t.onChangeStart,i=t.railColor,l=t.thumbColor,u=t.thumbSize,d=t.trackColor,p=t.trackHeight,_=t.value,f=babelHelpers.objectWithoutPropertiesLoose(t,e),b=o("WebBloksEnvironmentContext").useWebBloksEnvironment().isRtl,v=m(function(e){a==null||a(e)},[a]),L=m(function(e){n==null||n(e)},[n]),E=m(function(e){r==null||r(e)},[r]),k=b?y-_:_,I=S(k,b),T=I.trackStart,D=I.trackEnd,x=R({onChange:L,onChangeStart:v,onChangeEnd:E,min:h,max:y,isRTL:b,value:_}),$=x.onMouseDown,P=x.onPointerDown,N=x.onTouchStart,M=x.thumbRef,w=x.wrapperRef,A=g(!1),F=A[0],O=A[1],B=m(function(e){var t=_;if(e.keyCode===o("WebBloksConstants").KEY_LEFT)t-=1;else if(e.keyCode===o("WebBloksConstants").KEY_RIGHT)t+=1;else return;F||(O(!0),v(t)),L(t)},[F,L,v,_]),W=m(function(e){e.keyCode!==o("WebBloksConstants").KEY_LEFT&&e.keyCode!==o("WebBloksConstants").KEY_RIGHT||(O(!1),E(_))},[E,_]),q=f["aria-label"],U=f.disabled,V=babelHelpers.objectWithoutPropertiesLoose(f,s);return c.jsxs("div",babelHelpers.extends({},V,{ref:w,className:C.wrapper,onMouseDown:$,onPointerDown:P,onTouchStart:N,style:{height:u},children:[c.jsx("div",{className:C.rail,style:{height:p,backgroundColor:i}}),c.jsx("div",{className:C.track,style:{left:T+"%",right:D+"%",height:p,backgroundColor:d}}),c.jsx("div",{className:C.thumbWrapper,style:{marginLeft:u/2,marginRight:u/2},children:c.jsx("div",{ref:M,className:C.thumb,role:"slider","aria-label":q,"aria-valuenow":_,"aria-valuemin":h,"aria-valuemax":y,disabled:U,onKeyDown:B,onKeyUp:W,tabIndex:0,style:{left:k+"%",height:u,width:u,backgroundColor:l}})})]}))}v.displayName=v.name+" [from "+i.id+"]";function S(e,t){var n,r;if(n=h,r=y-e,t){var o=n;n=r,r=o}return{trackStart:n,trackEnd:r}}function R(e){var t=e.max,n=e.min,r=e.onChange,o=e.onChangeEnd,a=e.onChangeStart,i=e.isRTL,l=e.value,s=f(null),u=f(null),c=f(null),d=m(function(e){var o,l=e.clientX;if(s.current!=null){var c=E(s.current,l,n,t,i);(o=u.current)==null||o.focus(),a==null||a(c),r==null||r(c)}},[t,n,r,a,u,s,i]),p=m(function(e){var o=e.clientX;if(s.current!=null){var a=E(s.current,o,n,t,i);r==null||r(a)}},[i,t,n,r,s]),g=m(function(){o==null||o(l)},[o,l]);return _(function(){if(window.PointerEvent===void 0){var e=function(t){t.button===0&&(p==null||p({clientX:t.clientX,pageX:t.pageX,pageY:t.pageY}))},t=function(r){r.button===0&&(g==null||g(),window.removeEventListener("mousemove",e,!1),window.removeEventListener("mouseup",t,!1))},n=function(r){r.button===0&&(d==null||d({clientX:r.clientX,pageX:r.pageX,pageY:r.pageY}),r.stopPropagation(),r.preventDefault(),window.addEventListener("mousemove",e,!1),window.addEventListener("mouseup",t,!1))},r=function(t){var e=L(t,c);if(e!=null){var n=e.clientX,r=e.pageX,o=e.pageY;p==null||p({clientX:n,pageX:r,pageY:o})}},o=function(t){var e=L(t,c);e!=null&&(g==null||g(),c.current=null,window.removeEventListener("touchmove",r,!1),window.removeEventListener("touchend",o,!1),window.removeEventListener("touchcancel",o,!1))},a=function(t){if(!(t.changedTouches.length===0||c.current!=null)){var e=t.changedTouches[0];t.stopPropagation(),t.preventDefault(),c.current=e.identifier,d==null||d({clientX:e.clientX,pageX:e.pageX,pageY:e.pageY}),window.addEventListener("touchmove",r,!1),window.addEventListener("touchend",o,!1),window.addEventListener("touchcancel",o,!1)}};return{onMouseDown:n,onTouchStart:a,wrapperRef:s,thumbRef:u}}else{var i=function(t){t.pointerId===c.current&&(p==null||p({clientX:t.clientX,pageX:t.pageX,pageY:t.pageY}))},l=function(t){t.pointerId===c.current&&(g==null||g(),c.current=null,window.removeEventListener("pointermove",i,!1),window.removeEventListener("pointerup",l,!1),window.removeEventListener("pointercancel",l,!1))},m=function(t){t.button===0&&c.current==null&&(d==null||d({clientX:t.clientX,pageX:t.pageX,pageY:t.pageY}),t.stopPropagation(),t.preventDefault(),c.current=t.pointerId,window.addEventListener("pointermove",i,!1),window.addEventListener("pointerup",l,!1),window.addEventListener("pointercancel",l,!1))};return{onPointerDown:m,wrapperRef:s,thumbRef:u}}},[d,p,g])}function L(e,t){var n=Array.from(e.changedTouches).findIndex(function(e){var n=e.identifier;return n===t.current});return n<0?null:e.changedTouches[n]}function E(e,t,n,r,o){var a=e.getBoundingClientRect(),i=a.left,l=a.width,s=t-i;return o&&(s=i+l-t),k(s/l*(r-n)+n,n,r)}function k(e,t,n){return Math.min(Math.max(Math.round(e),t),n)}l.default=b}),98);
__d("WebBloksAppAccessibilityStyles",["WebBloksStyle","WebDriverConfig"],(function(t,n,r,o,a,i,l){var e="2px solid #0064E0",s=o("WebBloksStyle").createStyles({noOutlines:function(t){var e;return e={},e[t+" *"]={outline:"none"},e}}),u=o("WebBloksStyle").createStyles({outlines:function(n){var t;return t={},t[n+" *"]={outline:"none",outlineOffset:"-1px"},t[n+' *[tabindex="0"]:focus']={outline:e},t[n+" *[role=button]:focus"]={outline:e},t[n+" *[role=link]:focus"]={outline:e},t[n+" a:focus"]={outline:e},t}}),c=o("WebBloksStyle").createStylesIfSupported({type:"selector",selector:":focus-visible"},{outlines:function(n){var t;return t={},t[":root "+n+" *:focus"]={outline:"none"},t[n+' *[tabindex="0"]:focus-visible']={outline:e},t[n+" *[role=button]:focus-visible"]={outline:e},t[n+" *[role=link]:focus-visible"]={outline:e},t[n+" a:focus-visible"]={outline:e},t}}),d={outlines:r("WebDriverConfig").isJestE2ETestRun?s.noOutlines:o("WebBloksStyle").classNames(u.outlines,c.outlines)};l.FOCUS_OUTLINE=e,l.ACCESSIBILITY_STYLES=d}),98);
__d("WebBloksSwitch",["WebBloksAppAccessibilityStyles","WebBloksBooleanUtils","WebBloksComponentContext","WebBloksConstants","WebBloksEnvironmentContext","WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e.useState;function c(e){var t,n,r=e.externalStyle,a=e.node,i=o("WebBloksTheme").useTheme().getTheme(),l=o("WebBloksEnvironmentContext").useWebBloksEnvironment().isRtl,c=o("WebBloksStyle").useStyle(a,r),d=c.wrapper,_=c.wrapperProps,f=o("WebBloksComponentContext").useWebBloksContext(),g=o("WebBloksBooleanUtils").isTrue(a.get("checked")),h=u(g),y=h[0],C=h[1],b=o("WebBloksBooleanUtils").isFalse(a.get("enabled"))||_.disabled===!0,v=o("WebBloksBooleanUtils").isTrue(a.get("is_controlled")),S=function(t){if(!b){v||C(t);var e=a.getExpression("on_toggle");e!=null&&f.executeCatch(a,e,[a,t,f])}},R=v?g:y,L=(t=a.get("on_color"))!=null?t:a.get(b?"track_color_disabled_on":"track_color_on"),E=(n=a.get("off_color"))!=null?n:a.get(b?"track_color_disabled_off":"track_color_off"),k=a.get(b?"thumb_color_disabled_on":"thumb_color_on"),I=a.get(b?"thumb_color_disabled_off":"thumb_color_off"),T=function(t){t.keyCode===o("WebBloksConstants").KEY_SPACE&&t.preventDefault()},D=function(t){b||(t.keyCode===o("WebBloksConstants").KEY_SPACE||t.keyCode===o("WebBloksConstants").KEY_RETURN)&&S(!R)};return d(s.jsxs("div",babelHelpers.extends({className:o("WebBloksStyle").classNames(o("WebBloksStyle").WebBloksStyles.container,m.switch,m.innerShadow,b?m.switchDisabled:m.switchEnabled,p.outlines),style:!R&&E?{background:o("WebBloksUtils").getRGBColorWithTheme(E,i)}:null,"aria-checked":R,onKeyDown:T,onKeyUp:D,role:"switch",tabIndex:0},_,{children:[s.jsx("div",{style:R&&L?{background:o("WebBloksUtils").getRGBColorWithTheme(L,i)}:null,className:o("WebBloksStyle").classNames(m.background,R&&m.backgroundActive)}),s.jsx("div",{style:R&&k?{background:o("WebBloksUtils").getRGBColorWithTheme(k,i)}:!R&&I?{background:o("WebBloksUtils").getRGBColorWithTheme(I,i)}:null,className:o("WebBloksStyle").classNames(m.slider,l?m.sliderRight:m.sliderLeft,R&&m.sliderActive,R&&(l?m.sliderActiveLeft:m.sliderActiveRight))}),s.jsx("input",{checked:R,disabled:b,onChange:function(t){S(t.target.checked)},tabIndex:-1,type:"checkbox",className:o("WebBloksStyle").classNames(m.switchInput,b?m.switchInputDisabled:m.switchInputEnabled)})]})))}c.displayName=c.name+" [from "+i.id+"]";var d=28,m=o("WebBloksStyle").createStyles({background:{backgroundColor:o("WebBloksTheme").WebBloksThemeVars["switch-active"],borderRadius:d/2,bottom:0,boxSizing:"border-box",left:0,opacity:0,pointerEvents:"none",position:"absolute",right:0,top:0,transitionDuration:o("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-out"],transitionProperty:"opacity",transitionTimingFunction:o("WebBloksTheme").WebBloksThemeVars["fds-animation-move-out"]},backgroundActive:{opacity:1,transitionDuration:o("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-in"],transitionTimingFunction:o("WebBloksTheme").WebBloksThemeVars["fds-animation-move-in"]},switchDisabled:{opacity:.4,transitionDuration:o("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-in"],transitionTimingFunction:o("WebBloksTheme").WebBloksThemeVars["fds-animation-move-in"]},switchEnabled:{opacity:1},innerShadow:{boxShadow:"inset 0 0 0 0.5px "+o("WebBloksTheme").WebBloksThemeVars["media-inner-border"]},slider:{backgroundColor:o("WebBloksTheme").WebBloksThemeVars["always-white"],borderRadius:12,boxShadow:"0 1px 2px "+o("WebBloksTheme").WebBloksThemeVars["shadow-5"],height:24,pointerEvents:"none",position:"absolute",top:2,transitionDuration:o("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-out"],transitionProperty:"transform, background-color",transitionTimingFunction:o("WebBloksTheme").WebBloksThemeVars["fds-animation-move-out"],width:24},sliderLeft:{left:2},sliderRight:{right:2},sliderActive:{transitionDuration:o("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-in"],transitionTimingFunction:o("WebBloksTheme").WebBloksThemeVars["fds-animation-move-in"]},sliderActiveLeft:{transform:"translateX(-24px)"},sliderActiveRight:{transform:"translateX(24px)"},switch:{flexShrink:0,flexGrow:0,backgroundColor:o("WebBloksTheme").WebBloksThemeVars.divider,borderRadius:d/2,boxSizing:"border-box",display:"inline-block",height:d,overflow:"hidden",padding:0,position:"relative",transitionDuration:o("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-out"],transitionProperty:"opacity",transitionTimingFunction:o("WebBloksTheme").WebBloksThemeVars["fds-animation-move-out"],width:52},switchInput:{height:"100%",margin:0,opacity:0,outline:"none",padding:0,position:"absolute",top:0,width:"100%"},switchInputDisabled:{pointerEvents:"none"},switchInputEnabled:{cursor:"pointer"}}),p=o("WebBloksStyle").createStylesIfSupported({type:"selector",selector:":focus-visible"},{outlines:function(t){var e;return e={},e[t+":focus-visible"]={outline:o("WebBloksAppAccessibilityStyles").FOCUS_OUTLINE},e}});l.default=c}),98);
__d("WebBloksText",["WebBloksBooleanUtils","WebBloksComponentContext","WebBloksStyle","WebBloksTextStyle","WebBloksTheme","WebBloksUtils","react","useClickablePropsForWebBloks"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useLayoutEffect,d=u.useRef,m=1e3/60;function p(e,t,n){var r=d({innerText:""});c(function(){e.current!=null&&e.current.innerText!=null&&(r.current.innerText=e.current.innerText)},[n]),c(function(){var n=e.current;if(!(n==null||t==null||ResizeObserver==null)){var a=o("WebBloksUtils").throttle(function(){n.style.whiteSpace="nowrap",n.scrollWidth<=n.clientWidth&&(n.innerText=r.current.innerText);for(var e=!1;n.scrollWidth>n.clientWidth&&n.innerText!=null;)n.innerText=""+n.innerText.slice(0,-1+(e?-1*t.length:0))+t,e=!0},m);a();var i=new ResizeObserver(function(){a()});return i.observe(n),function(){i&&i.unobserve(n)}}},[t,n])}function _(e){var t=e.externalStyle,n=e.node,a=n.getExpression("on_click"),i=n.get("text"),l=n.get("text_align"),u=n.get("text_size"),c=n.get("text_style"),d=n.getSubNode("text_themed_color"),m=n.get("text_color"),_=n.get("font_family"),f=n.get("strikethrough"),g=n.getSubNode("text_provider"),h=n.get("truncation_string"),y=n.get("line_height"),C=n.get("line_height_multiplier"),b=n.get("max_number_of_lines"),v=o("WebBloksStyle").useStyle(n,t,a!=null),S=v.ref,R=v.style,L=v.wrapper,E=v.wrapperProps,k=o("WebBloksTheme").useTheme().getTheme(),I=m!=null&&o("WebBloksUtils").convertRGBArrToString(o("WebBloksUtils").convertRGBOrHexStringToArr(m))||d&&o("WebBloksUtils").getRGBColorWithTheme(d,k),T=r("useClickablePropsForWebBloks")(n,a),D=o("WebBloksComponentContext").useWebBloksContext(),x=D.bloksContext,$=D.renderNode,P=x.objectSet.environment.fontFamilyMappings,N=g!=null?$(g):i==null?i:i===" "?s.jsx(s.Fragment,{children:"\xA0"}):i;p(S,h,N);var M=o("WebBloksUtils").toPx(y),w=M!=null?M:o("WebBloksTextStyle").getLineHeight(C);return L(s.jsx("span",babelHelpers.extends({},E,{style:babelHelpers.extends({},R,o("WebBloksTextStyle").getLineClampStyle(b),o("WebBloksTextStyle").getTextStyle(c),o("WebBloksTextStyle").getVerticalSpacingStyles(w),{lineHeight:w,fontSize:o("WebBloksUtils").toPx(u),fontFamily:o("WebBloksTextStyle").getFontFamily(_,P),textAlign:o("WebBloksUtils").toHyphen(l),textDecoration:o("WebBloksBooleanUtils").isTrue(f)?"line-through":"",color:I,whiteSpace:"pre-wrap",overflowWrap:"break-word",padding:"unset",maxWidth:"100%"})},T,{children:N})))}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("WebBloksBKSTextInputFormatterHandlerUtils",["WebBloksComponentContext","WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WebBloksComponentContext").useWebBloksContext(),n=t.executeCatch,r=o("WebBloksUtils").findExtension(e.extensions,"bk.components.BKSTextInputFormatter");return function(e){var t=r==null?void 0:r.getExpression("format_text");if(r!=null&&t!=null){var o=n(r,t,[e]);if(typeof o=="string")return o}return e}}l.useBKSTextInputFormatter=e}),98);
__d("WebBloksTextInputDatePickerExtensionHandlerUtils",["WebBloksComponentContext","WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=e.get("extensions"),n=o("WebBloksComponentContext").useWebBloksContext(),r=n.bloksContext,a=n.executeOnNextTickCatch,i=o("WebBloksUtils").findExtension(t,"bk.components.TextInputDatePickerExtension");if(!i)return null;var l=i.getValues(),c=l.initial_time_seconds,d=l.maximum_time_seconds,m=l.minimum_time_seconds,p=l.mode,_=i.getExpression("on_date_change");return p==="time"?{typeOverride:"time",initialValue:u(c!=null?c*1e3:Date.now()),minmaxProps:null,onChange:function(n){if(n){var t=n.split(":").map(Number),o=t[0],i=t[1],l=new Date;l.setUTCHours(o,i,0,0),_!=null&&a(e,_,[parseInt(l.getTime()/1e3,10),e,r])}}}:{typeOverride:"date",initialValue:s(c!=null?c*1e3:Date.now()),minmaxProps:{min:m!=null?s(m*1e3):void 0,max:d!=null?s(d*1e3):void 0},onChange:function(n){if(n){var t=n.split("-").map(Number),o=t[0],i=t[1],l=t[2],s=new Date;s.setUTCFullYear(o),s.setUTCMonth(i-1),s.setUTCDate(l),s.setUTCHours(0,0,0,0),_!=null&&a(e,_,[parseInt(s.getTime()/1e3,10),e,r])}}}}var s=function(t){var e=new Date(t);return[String(e.getUTCFullYear()).padStart(4,"0"),String(e.getUTCMonth()+1).padStart(2,"0"),String(e.getUTCDate()).padStart(2,"0")].join("-")},u=function(t){var e=new Date(t);return[e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0")].join(":")};l.useWebBloksTextInputDateProps=e}),98);
__d("WebBloksTextInputHelpers",["WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e,t){for(var n=new RegExp("(?:\\r\\n?|\\n)","gm"),r,o=0,a=0;a<t;a++){if(r=n.exec(e),!r)return e;o=r.index}if(r==null)return e;var i=e.slice(0,o+r[0].length),l=e.slice(o+r[0].length);return l=l.replace(n,""),i+l}var s={number:"numeric"};function u(e){if(e==null)return{};for(var t of Object.entries(s)){var n=t[0],r=t[1];if(e===n)return{type:"text",inputMode:r}}switch(e){case"phone":return{type:"tel"};default:return{type:o("WebBloksUtils").toHyphen(e)}}}l.removeLineBreaks=e,l.WEBBLOKS_TEXT_INPUT_TYPES_WITH_INPUT_MODES=s,l.getInputTypeProps=u}),98);
__d("WebBloksTextInputMaskExtensionHandlerUtils",["WebBloksTextInputHelpers","WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e,t){return e.replace(/[^0-9]/g,"")}function s(t,n){var r=o("WebBloksUtils").findExtension(t.extensions,"bk.components.TextInputMaskExtension");if(r!=null){var a=r.get("mask");if(!(a.length<=0)){var i=function(n,r){for(var t=e(r,a),o=t.split(""),i=a.split(""),l="";o.length&&i.length;){var s=i.shift();if(s==="#"){var u;l+=(u=o.shift())!=null?u:""}else l+=s!=null?s:""}if(!i.includes("#")){var c=l+i.join("");return n.length===a.length&&r.length<a.length?l.slice(0,-1):c}return l},l=Object.prototype.hasOwnProperty.call(o("WebBloksTextInputHelpers").WEBBLOKS_TEXT_INPUT_TYPES_WITH_INPUT_MODES,t.type)?void 0:"text";return{onBeforeChange:i,maxLength:a.length,typeOverride:l}}}}l.getTextInputMaskExtensionProps=s}),98);
__d("useQueuedBlurEventForWebBloks",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e,t){var n=c(!1);u(function(){var e=function(){n.current=!0},t=function(){n.current=!1};return window.addEventListener("mousedown",e),window.addEventListener("mouseup",t),function(){window.removeEventListener("mousedown",e),window.removeEventListener("mouseup",t)}},[]);var r=function(){if(n.current===!1)t();else{var r=function(){window.setTimeout(function(){e.current!==document.activeElement&&t(),window.removeEventListener("mouseup",r)},0)};window.addEventListener("mouseup",r)}};return r}l.default=d}),98);
__d("useWebBloksTextInputFormatValue",["WebBloksTextInputHelpers","WebBloksTextInputMaskExtensionHandlerUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=e.get("max_number_of_lines"),r=e.get("digits_key_listener"),a=o("WebBloksTextInputMaskExtensionHandlerUtils").getTextInputMaskExtensionProps(e.getValues(),t),i=a==null?void 0:a.onBeforeChange,l=n!=null&&n>0?n:null;return function(e,t){var n=t;if(i&&(n=i(e,t)),l!=null&&(n=o("WebBloksTextInputHelpers").removeLineBreaks(n,l-1)),r!=null){var a=new RegExp("[^"+r+"]","gmi");n=n.replace(a,"")}return n}}l.default=e}),98);
__d("WebBloksTextInput",["WebBloksBKSTextInputFormatterHandlerUtils","WebBloksBooleanUtils","WebBloksComponentContext","WebBloksConstants","WebBloksStyle","WebBloksTextInputDatePickerExtensionHandlerUtils","WebBloksTextInputHelpers","WebBloksTextInputMaskExtensionHandlerUtils","WebBloksTextStyle","WebBloksTheme","WebBloksUtils","react","useQueuedBlurEventForWebBloks","useWebBloksTextInputFormatValue"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useImperativeHandle,p=u.useLayoutEffect,_=u.useRef,f=u.useState;function g(e){var t,n,a,i,l=e.externalStyle,u=e.node,g=u.get("single_line"),y=u.get("text"),C=u.get("text_style"),b=u.get("cursor_color"),v=u.get("text_size"),S=u.get("text_align"),R=u.get("text_color"),L=u.getSubNode("text_themed_color"),E=u.get("font_family"),k=u.get("resize_height_based_on_content"),I=u.getSubNode("background_color"),T=u.get("hint"),D=u.get("html_autocapitalize"),x=u.get("html_autocomplete"),$=u.get("html_autocorrect"),P=u.get("html_name"),N=u.get("max_length"),M=u.get("type"),w=u.get("enabled"),A=u.getExpression("on_text_change"),F=u.getExpression("on_submit"),O=u.getExpression("on_gain_focus"),B=u.getExpression("on_lose_focus"),W=u.getExpression("allow_text_change_callback"),q=u.getValues(),U=o("WebBloksBooleanUtils").isTrue(k),V=o("WebBloksBooleanUtils").isFalse(g),H=o("WebBloksStyle").useStyle(u,l),G=H.ref,z=H.style,j=H.wrapper,K=H.wrapperProps,Q=o("WebBloksTheme").useTheme().getTheme(),X=R!=null&&o("WebBloksUtils").convertRGBArrToString(o("WebBloksUtils").convertRGBOrHexStringToArr(R))||L&&o("WebBloksUtils").getRGBColorWithTheme(L,Q),Y=I!=null?o("WebBloksUtils").getRGBColorWithTheme(I,Q):"transparent",J=b!=null?o("WebBloksUtils").getRGBColorWithTheme(b,Q):"auto",Z=o("WebBloksComponentContext").useWebBloksContext(),ee=Z.bloksContext,te=Z.executeCatch,ne=_(!1),re=_(null),oe=ee.initAssociatedObject_INTERNAL(u,o("WebBloksConstants").TEXT_INPUT_ASSOCIATED_OBJECT,{ref:re,text:null}),ae=c(function(e){ee.updateAssociatedObject_INTERNAL(u,o("WebBloksConstants").TEXT_INPUT_ASSOCIATED_OBJECT,{text:e})},[ee,u]),ie=o("WebBloksTextInputMaskExtensionHandlerUtils").getTextInputMaskExtensionProps(q,G),le=o("WebBloksTextInputDatePickerExtensionHandlerUtils").useWebBloksTextInputDateProps(u),se=ee.objectSet.environment.fontFamilyMappings,ue=(t=ie==null?void 0:ie.typeOverride)!=null?t:le==null?void 0:le.typeOverride,ce=r("useWebBloksTextInputFormatValue")(u,G),de=o("WebBloksBKSTextInputFormatterHandlerUtils").useBKSTextInputFormatter(q),me=le==null?void 0:le.onChange,pe=o("WebBloksBooleanUtils").isFalse(w)||K.disabled===!0,_e=(n=ie==null?void 0:ie.maxLength)!=null?n:N,fe=o("WebBloksTextInputHelpers").getInputTypeProps(ue!=null?ue:M),ge=le!=null&&le.initialValue?le.initialValue:y,he=oe.text,ye=f((a=he!=null?he:ge)!=null?a:""),Ce=ye[0],be=ye[1],ve=f(ge),Se=ve[0],Re=ve[1];p(function(){ge!==Se&&(ne.current=!1,be(ge!=null?ge:""),Re(ge))},[u,Se,ge]),p(function(){if(U&&G.current!=null&&Ce!==Se){G.current.style.height="0px";var e=G.current.scrollHeight;G.current.style.height=e+"px"}},[Se,G,U,Ce]);var Le=c(function(e){var t=!0;if(W!=null&&(t=o("WebBloksBooleanUtils").isTrue(o("WebBloksUtils").cast(te(u,W,[Ce,e])))),t){ne.current=!1;var n=ce(Ce,e);n=de(n),ae(n),be(n)}},[W,te,de,ce,u,Ce,ae]),Ee=_(!0);d(function(){var e;Ee.current&&(Ee.current=!1,he==null||ge===he)||((oe==null||(e=oe.ref)==null?void 0:e.current)==null&&ee.updateAssociatedObject_INTERNAL(u,o("WebBloksConstants").TEXT_INPUT_ASSOCIATED_OBJECT,{ref:re}),A!=null&&te(u,A,[u,ee]),me!=null&&me(Ce))},[Ce]);var ke=function(t){t.keyCode===o("WebBloksConstants").KEY_RETURN&&F!=null&&te(u,F,[u,ee]),(t.keyCode===o("WebBloksConstants").KEY_RETURN||t.keyCode===o("WebBloksConstants").KEY_SPACE)&&t.stopPropagation()},Ie=function(t){t.keyCode===o("WebBloksConstants").KEY_SPACE&&t.stopPropagation()},Te=O!=null?function(){te(u,O,[u,ee])}:void 0,De=r("useQueuedBlurEventForWebBloks")(G,function(){B!=null&&te(u,B,[u,ee])}),xe=B!=null?De:void 0,$e=babelHelpers.extends({},z,o("WebBloksTextStyle").getTextStyle(C),{background:Y,color:X,fontFamily:o("WebBloksTextStyle").getFontFamily(E,se),fontSize:o("WebBloksUtils").toPx(v),lineHeight:o("WebBloksTextStyle").getLineHeight(),textAlign:o("WebBloksUtils").toHyphen(S),caretColor:J}),Pe=babelHelpers.extends({},K,fe,(i=le==null?void 0:le.minmaxProps)!=null?i:{},{autoCapitalize:D,autoComplete:x,autoCorrect:$,disabled:pe,maxLength:_e,name:P,onChange:function(t){return Le(t.target.value)},onKeyDown:ke,onKeyUp:Ie,onFocus:Te,onBlur:xe,className:o("WebBloksStyle").classNames(o("WebBloksStyle").WebBloksStyles.container,h.base),placeholder:T,value:Ce,onClick:function(t){t.stopPropagation()}}),Ne=c(function(e){ne.current||(Le(String(e)),ne.current=!0,A!=null&&te(u,A,[u,ee]),typeof window.requestIdleCallback=="function"?window.requestIdleCallback(function(){ne.current=!1}):window.setTimeout(function(){ne.current=!1},50))},[ee,te,u,Le,A]),Me=c(function(){var e=G.current;if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)return{start:e.selectionStart,end:e.selectionEnd}},[G]),we=c(function(){var e=G.current;if(e instanceof HTMLInputElement&&e.selectionStart&&e.selectionEnd){var t=e.selectionStart,n=e.selectionEnd;window.requestAnimationFrame(function(){e.setSelectionRange(t,n)})}e==null||e.focus()},[G]),Ae=c(function(){var e;return(e=G.current)==null?void 0:e.blur()},[G]);return m(re,function(){return{onExternalUpdate:Ne,getSelection:Me,requestFocus:we,requestBlur:Ae}},[Me,Ne,Ae,we]),j(V||U?s.jsx("textarea",babelHelpers.extends({},Pe,U?{rows:1}:void 0,{style:babelHelpers.extends({},$e,{resize:"none"})})):s.jsx("input",babelHelpers.extends({dir:"auto"},Pe,{style:$e})))}g.displayName=g.name+" [from "+i.id+"]";var h=o("WebBloksStyle").createStyles({base:function(t){var e;return e={},e[t]={padding:0,margin:0,border:"none",boxSizing:"border-box",outline:"none",width:"100%"},e[t+"::-webkit-date-and-time-value"]={textAlign:"inherit"},e}});l.default=g}),98);
__d("WebBloksAccessibilityUtils",["react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=r("react")),u={Button:"button",Header:null,"Image Button":"button",Image:"img","Selected Button":"button",Text:null,Link:"link",Radio:"radio",Checkbox:"checkbox","Radio Group":"radiogroup",Region:"region",Status:"status","Tab Panel":"tabpanel",List:"list","List Item":"listitem",Alert:"alert"},c=["button","link","checkbox","radio"],d=function(t){return c.includes(t)?{tabIndex:0}:{}};function m(e,t,n){var r={};switch(t!=null&&(r["aria-label"]=t),e){case 1:return s.jsx("h1",babelHelpers.extends({},r,{children:n}));case 2:return s.jsx("h2",babelHelpers.extends({},r,{children:n}));case 3:return s.jsx("h3",babelHelpers.extends({},r,{children:n}));case 4:return s.jsx("h4",babelHelpers.extends({},r,{children:n}));case 5:return s.jsx("h5",babelHelpers.extends({},r,{children:n}));case 6:return s.jsx("h6",babelHelpers.extends({},r,{children:n}))}return n}m.displayName=m.name+" [from "+i.id+"]",l.WEBBLOKS_ACCESSIBILITY_ROLE_MAPPING=u,l.WEBBLOKS_ACCESSIBILITY_FOCUSABLE_ROLES=c,l.getFocusPropsForRole=d,l.getHeading=m}),98);
__d("WebBloksDataTextSpanUtils",["WebBloksComponentContext","WebBloksRichTextContext","WebBloksStyle","WebBloksTextStyle","WebBloksTheme","WebBloksUtils","react","useClickablePropsForWebBloks"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=s.useContext,c=s.useMemo;function d(e,t){var n=e.get("accessibility_label"),a=o("WebBloksStyle").useStyle(e,t),i=a.style,l=o("WebBloksComponentContext").useWebBloksContext(),s=l.bloksContext,d=o("WebBloksTheme").useTheme().getTheme(),_=u(r("WebBloksRichTextContext")),f=_.isRootFontSizeEnabled,g=s.objectSet.environment.fontFamilyMappings,h=e.get("styles"),y=m(h,d,g,f),C=r("useClickablePropsForWebBloks")(e,p(h));return c(function(){return babelHelpers.extends({"aria-label":n,style:babelHelpers.extends({},i,{display:"inline",whiteSpace:"pre-wrap",overflowWrap:"break-word"},y)},C)},[n,i,y,C])}function m(e,t,n,r){var a={};if(e!=null)for(var i of e)switch(i==null?void 0:i.styleId){case"bk.style.textspan.TextStyle":{var l=i==null?void 0:i.get("font_family"),s=i==null?void 0:i.get("text_style"),u=i==null?void 0:i.get("text_size"),c=i==null?void 0:i.get("tracking");if(u!=null&&!r&&(a.fontSize=o("WebBloksUtils").toPx(u)),s!=null){var d=o("WebBloksTextStyle").getTextStyle(s),m=d.fontStyle,p=d.fontWeight;a.fontWeight=p,a.fontStyle=m}if(l!=null){var _;a.fontFamily=(_=o("WebBloksTextStyle").getFontFamily(l,n))!=null?_:void 0}c!=null&&(a.letterSpacing=c);break}case"bk.style.textspan.ColorStyle":{var f=i==null?void 0:i.get("text_themed_color");f!=null&&(a.color=o("WebBloksUtils").getRGBColorWithTheme(f,t));break}case"bk.style.textspan.ShadowStyle":{var g=i.get("shadow_radius"),h=i.get("shadow_offset_dx"),y=i.get("shadow_offset_dy"),C=i.get("shadow_color");if(C!=null&&(g!=null||h!=null||y!=null)){var b=o("WebBloksTextStyle").getTextShadow({shadow_radius:g,shadow_offset_dx:h,shadow_offset_dy:y,shadow_color:C},t);b!=null&&(a.textShadow=b)}break}case"bk.style.textspan.StrikethroughStyle":{var v=i.get("strikethrough");v===!0&&(a.textDecoration="line-through");break}case"bk.style.textspan.UnderlineStyle":{var S=i.get("underline");S===!0&&(a.textDecoration="underline");break}}return a}function p(e){var t=null;if(e!=null)for(var n of e)(n==null?void 0:n.styleId)==="bk.style.textspan.ClickableStyle"&&(t=n==null?void 0:n.getExpression("on_click"));return t}l.useWebBloksBaseTextSpanProps=d}),98);
__d("WebBloksImageSpan",["WebBloksComponentContext","WebBloksDataTextSpanUtils","WebBloksStyle","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=e.externalStyle,n=e.node,r=n.get("image_align"),a=n.get("image_margin"),i=n.get("image_width"),l=n.get("image_height"),c=n.getSubNode("image_component"),d=o("WebBloksStyle").useStyle(n,t),m=d.wrapper,p=o("WebBloksComponentContext").useWebBloksContext(),_=p.renderNode,f=o("WebBloksDataTextSpanUtils").useWebBloksBaseTextSpanProps(n,t),g=r,h=a,y=u(function(){return babelHelpers.extends({},f,{style:babelHelpers.extends({},f.style,{display:"inline-flex",height:"100%",alignItems:g==="bottom"?"flex-end":g})})},[g,f]),C=o("WebBloksUtils").toPx(l),b=o("WebBloksUtils").toPx(i);return C==null||C==="0px"||b==null||b==="0px"?null:m(s.jsx("span",babelHelpers.extends({},y,{children:_(c,{height:C,width:b,marginTop:o("WebBloksUtils").toPx(h==null?void 0:h.get("top")),marginRight:o("WebBloksUtils").toPx(h==null?void 0:h.get("end")),marginBottom:o("WebBloksUtils").toPx(h==null?void 0:h.get("bottom")),marginLeft:o("WebBloksUtils").toPx(h==null?void 0:h.get("start"))})})))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("WebBloksTextSpanImage",["WebBloksImageSpan","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react"));function u(e){var t=e.externalStyle,n=e.node;return s.jsx(r("WebBloksImageSpan"),{node:n,externalStyle:t})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("WebBloksTextSpan",["WebBloksAccessibilityUtils","WebBloksAnchorTagExtensionHandlerUtils","WebBloksBooleanUtils","WebBloksComponentContext","WebBloksStyle","WebBloksTextSpanImage","WebBloksTextStyle","WebBloksTheme","WebBloksUtils","react","useClickablePropsForWebBloks"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=e.externalStyle,n=e.node,a=n.getExpression("on_click"),i=n.get("text_color"),l=n.getSubNode("image_component"),c=n.getSubNode("text_provider"),p=n.get("shadow_color"),_=n.get("shadow_offset_dx"),f=n.get("shadow_offset_dy"),g=n.get("shadow_radius"),h=n.get("text_size"),y=n.get("text_style"),C=n.get("text_themed_color"),b=n.get("font_family"),v=n.get("accessibility_label"),S=n.get("accessibility_role"),R=n.get("strikethrough"),L=n.get("underline"),E=o("WebBloksStyle").useStyle(n,t,a!=null),k=E.style,I=E.wrapper,T=E.wrapperProps,D=o("WebBloksAnchorTagExtensionHandlerUtils").useWebBloksAnchorTagExtensionProps(n),x=D!==null,$=x?"a":"span",P=r("useClickablePropsForWebBloks")(n,a,null,x),N=o("WebBloksComponentContext").useWebBloksContext(),M=N.bloksContext,w=N.renderNode,A=o("WebBloksTheme").useTheme().getTheme(),F=M.objectSet.environment.fontFamilyMappings,O=c!=null?w(c):n.get("text"),B=u(function(){return l!=null?s.jsx(r("WebBloksTextSpanImage"),{node:n,externalStyle:t}):null},[t,n,l]),W=d(S,a,l),q={role:W,label:v,tabIndex:W==="button"||W==="link"?0:void 0};return I(s.jsxs($,babelHelpers.extends({},T,{style:babelHelpers.extends({},k,o("WebBloksTextStyle").getTextColor(i,C,A),o("WebBloksTextStyle").getTextStyle(y),{display:"inline",fontSize:o("WebBloksUtils").toPx(h),fontFamily:o("WebBloksTextStyle").getFontFamily(b,F),textDecoration:m(R,L),textShadow:o("WebBloksTextStyle").getTextShadow({shadow_color:p,shadow_offset_dx:_,shadow_offset_dy:f,shadow_radius:g},A),whiteSpace:"pre-wrap",overflowWrap:"break-word"})},P,q,D,{children:[O,B]})))}c.displayName=c.name+" [from "+i.id+"]";function d(e,t,n){if(e!=null){var r;return(r=o("WebBloksAccessibilityUtils").WEBBLOKS_ACCESSIBILITY_ROLE_MAPPING[e])!=null?r:null}return t==null?null:n!=null?"button":"link"}function m(e,t){var n=[];if(o("WebBloksBooleanUtils").isTrue(e)&&n.push("line-through"),o("WebBloksBooleanUtils").isTrue(t)&&n.push("underline"),n.length!==0)return n.join(" ")}l.default=c}),98);
__d("WebBloksTransitionContainer",["WebBloksComponentContext","WebBloksStyle","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useLayoutEffect,p=u.useMemo,_=u.useRef,f=u.useState;function g(e){var t,n=e.externalStyle,r=e.node,a=r.get("crossfade"),i=r.getSubNodes("children"),l=i[0],u=i[1],d=(t=r.get("progress"))!=null?t:0,g=o("WebBloksStyle").useStyle(r,n),b=g.style,v=g.wrapper,S=g.wrapperProps,R=o("WebBloksComponentContext").useWebBloksContext(),L=R.renderChildren,E=f([0,0,!1]),k=E[0],I=k[0],T=k[1],D=k[2],x=E[1],$=f([0,0]),P=$[0],N=P[0],M=P[1],w=$[1],A=_(null),F=_(null),O=_(null),B=c(function(){var e=F.current;e!=null&&x([e.getBoundingClientRect().width,e.getBoundingClientRect().height,!0]);var t=O.current,n=t==null?void 0:t.children,r=(n==null?void 0:n.length)===1?n[0]:t;r!=null&&w([r.getBoundingClientRect().width,r.getBoundingClientRect().height])},[]);m(B,[B]),y(A,B);var W=p(function(){return L([l])},[l,L]),q=p(function(){return L([u])},[L,u]),U=Number(d.toFixed(2)),V=h(U,T,M),H=h(U,I,N),G=h(U,0,1),z=a===!0;return v(s.jsxs("div",babelHelpers.extends({},S,{ref:A,style:b,children:[s.jsxs("div",{className:C.container,style:D?{height:V,width:H}:{},children:[s.jsx("div",{className:C.startElem,style:z&&U>0?{opacity:1-(G!=null?G:0)}:{},ref:F,children:W}),U>0?s.jsx("div",{className:C.endElem,style:babelHelpers.extends({},z?{opacity:G}:{},{height:M,width:N}),children:q}):null]}),N>0||M>0?null:s.jsx("div",{className:C.endPreviewElem,ref:O,children:q})]})))}g.displayName=g.name+" [from "+i.id+"]";function h(e,t,n){return t==null||n==null?null:t+e*(n-t)}function y(e,t){d(function(){var n=new IntersectionObserver(function(e){var n=e[0],r=n.isIntersecting;(r===!0||n.intersectionRatio>0||n.intersectionRect&&(n.intersectionRect.height>0||n.intersectionRect.width>0))&&t()},{root:null,threshold:0});return(e==null?void 0:e.current)!=null&&n.observe(e.current),function(){return n.disconnect()}},[t,e])}var C=o("WebBloksStyle").createStyles({container:{position:"relative",overflow:"hidden"},startElem:{display:"inline-block"},endElem:{position:"absolute",top:0,left:0,bottom:0,right:0},endPreviewElem:{visibility:"hidden"}});l.default=g}),98);
__d("WebBloksZoomable",["WebBloksComponentContext"],(function(t,n,r,o,a,i,l){function e(e){var t=e.node,n=o("WebBloksComponentContext").useWebBloksContext(),r=n.renderNode;return r(t.getSubNode("content"))}l.default=e}),98);
__d("CoreWebBloksComponents",["WebBloksCDSBottomSheetWrapper","WebBloksCanvas","WebBloksCollection","WebBloksDatetimeTextProvider","WebBloksDialog","WebBloksDialogButton","WebBloksDummyComponent","WebBloksFieldset","WebBloksFlexbox","WebBloksGlimmer","WebBloksImage","WebBloksInternalAction","WebBloksMergeWithBind","WebBloksNavbar","WebBloksOnMount","WebBloksPullToRefreshContainer","WebBloksRichText","WebBloksScreenWrapperPrimitive","WebBloksSlider","WebBloksSwitch","WebBloksText","WebBloksTextInput","WebBloksTextSpan","WebBloksTransitionContainer","WebBloksZoomable"],(function(t,n,r,o,a,i,l){var e,s={"bk.cds.bottomsheet.Wrapper":r("WebBloksCDSBottomSheetWrapper"),"bk.component.TransitionContainer":r("WebBloksTransitionContainer"),"bk.components.Canvas":r("WebBloksCanvas"),"bk.components.Collection":r("WebBloksCollection"),"bk.components.DatetimeTextProvider":r("WebBloksDatetimeTextProvider"),"bk.components.Flexbox":r("WebBloksFlexbox"),"bk.components.Glimmer":r("WebBloksGlimmer"),"bk.components.Image":r("WebBloksImage"),"bk.components.OnMount":r("WebBloksOnMount"),"bk.components.PullToRefreshContainer":r("WebBloksPullToRefreshContainer"),"bk.components.RichText":r("WebBloksRichText"),"bk.components.Slider":r("WebBloksSlider"),"bk.components.Switch":r("WebBloksSwitch"),"bk.components.Text":r("WebBloksText"),"bk.components.TextInput":r("WebBloksTextInput"),"bk.components.TextSpan":r("WebBloksTextSpan"),"bk.components.Video":e=r("WebBloksDummyComponent"),"bk.components.VideoVersion":e,"bk.components.Zoomable":r("WebBloksZoomable"),"bk.components.dialog.Button":r("WebBloksDialogButton"),"bk.components.dialog.Dialog":r("WebBloksDialog"),"bk.components.internal.Action":r("WebBloksInternalAction"),"bk.components.internal.Merge":e,"bk.components.internal.MergeWithBind":r("WebBloksMergeWithBind"),"bk.components.internal.Shadow":e,"bk.components.screen.Wrapper":r("WebBloksScreenWrapperPrimitive"),"bk.components.webbloks.Fieldset":r("WebBloksFieldset"),"bk.data.screen.Navbar":r("WebBloksNavbar")};l.COMPONENTS=s}),98);
__d("WebBloksAccessibilityExtensionHandler",["WebBloksAccessibilityUtils","WebBloksBooleanUtils"],(function(t,n,r,o,a,i,l){var e={Button:"button",Header:"heading","Image Button":"button",Image:"img","Selected Button":"button",Text:"",Link:"link"},s={getProps:function(n){var t=n.getValues(),r=t.disabled,a=t.enabled,i=t.label,l=t.role,s={};return o("WebBloksBooleanUtils").isFalse(a)||(l&&(s.role=e[l]),i!=null&&(s["aria-label"]=i)),s=babelHelpers.extends({},o("WebBloksAccessibilityUtils").getFocusPropsForRole(s.role),s),o("WebBloksBooleanUtils").isTrue(r)&&(s.disabled=!0,s["aria-disabled"]=!0),s}},u=s;l.default=u}),98);
__d("WebBloksAnchorIDExtensionHandler",[],(function(t,n,r,o,a,i){var e={getProps:function(t){var e=t.get("anchor_id");if(e!=null)return{"data-anchor-id":e}}},l=e;i.default=l}),66);
__d("WebBloksAnchorTagExtensionHandler",[],(function(t,n,r,o,a,i){"use strict";var e={},l=e;i.default=l}),66);
__d("WebBloksAutomationTestExtensionHandler",[],(function(t,n,r,o,a,i){var e={getProps:function(t){var e=t.get("testing_id");if(e!=null)return{"data-testid":e}}},l=e;i.default=l}),66);
__d("WebBloksBKSTextInputFormatterHandler",[],(function(t,n,r,o,a,i){var e={},l=e;i.default=l}),66);
__d("WebBloksExtentionUtils",[],(function(t,n,r,o,a,i){var e=navigator.userAgent.match(/safari/)!=null&&!navigator.userAgent.match(/chrom(e|ium)/);function l(){if(e){var t,n;(t=document.body)==null||t.style.setProperty("-webkit-touch-callout","none"),(n=document.body)==null||n.style.setProperty("-webkit-user-select","none")}}function s(){if(e){var t,n;(t=document.body)==null||t.style.removeProperty("-webkit-touch-callout"),(n=document.body)==null||n.style.removeProperty("-webkit-user-select")}}i.disableLongPressSideEffectsInSafari=l,i.enableLongPressSideEffectsInSafari=s}),66);
__d("WebBloksGestureExtensionHandler",["WebBloksExtentionUtils","WebBloksUtils"],(function(t,n,r,o,a,i,l){var e=500,s=250,u={getStyles:function(t){return{pointerEvents:"auto"}},onMount:function(n,r,a){var t,i=r.current,l=(t=i.uiMutableContainer.domNode)==null?void 0:t.current;if(l==null)return;var u=n.getExpression("on_tap"),c=n.getExpression("on_tap_with_touch_point"),d=n.getExpression("on_tap_with_touch_point_v2"),m=n.getExpression("on_long_press"),p=n.getExpression("on_long_press_with_touch_point"),_=n.getExpression("on_long_press_with_touch_point_v2"),f=n.getExpression("on_double_tap"),g=n.getExpression("on_double_tap_with_touch_point"),h=n.getExpression("on_double_tap_with_touch_point_v2"),y=n.getExpression("on_touch_down");function C(e,t){y!=null&&a.executeCatch(r.current,y,[r.current,a.bloksContext,e,t])}function b(e){C(e.clientX,e.clientY)}function v(e){C(e.touches[0].clientX,e.touches[0].clientY)}y!=null&&(l.addEventListener("mousedown",b),l.addEventListener("touchstart",v));var S=n.getExpression("on_touch_up");function R(e,t){S!=null&&a.executeCatch(r.current,S,[r.current,a.bloksContext,e,t])}function L(e){R(e.clientX,e.clientY)}function E(e){R(e.touches[0].clientX,e.touches[0].clientY)}S!=null&&(l.addEventListener("mouseup",L),l.addEventListener("touchend",E));var k=i.uiMutableContainer.gestures||{longPressTimeout:null,doublePressTimeout:null,startX:0,startY:0,preventTap:!1};i.uiMutableContainer.gestures=k;function I(){window.clearTimeout(k.longPressTimeout),k.longPressTimeout=null,o("WebBloksExtentionUtils").enableLongPressSideEffectsInSafari()}function T(t,n){if(k.longPressTimeout===null&&(o("WebBloksExtentionUtils").disableLongPressSideEffectsInSafari(),l!=null)){var i=l.getBoundingClientRect();k.startX=i.left,k.startY=i.top,k.preventTap=!1,k.longPressTimeout=window.setTimeout(function(){k.preventTap=!0,k.longPressTimeout=null,o("WebBloksUtils").isBloksModelEnabled(r.current)&&(m!=null&&a.executeCatch(r.current,m,[r.current,a.bloksContext]),p!=null&&a.executeCatch(r.current,p,[r.current,a.bloksContext,t,n]),_!=null&&a.executeCatch(r.current,_,[r.current,a.bloksContext,a,"detected",t,n])),o("WebBloksExtentionUtils").enableLongPressSideEffectsInSafari()},e)}}function D(e){T(e.touches[0].clientX,e.touches[0].clientY)}function x(e){T(e.clientX,e.clientY)}function $(e){var t=e.targetTouches[0];l!=null&&o("WebBloksUtils").shouldCancelTouchEvent(l,k.startX,k.startY,t)&&I()}function P(){I()}function N(e){k.preventTap&&e.preventDefault(),I()}function M(){I()}(m!=null||p!=null||_!=null)&&(l.addEventListener("touchstart",D,o("WebBloksUtils").passiveTouchEventOptions),l.addEventListener("touchmove",$,o("WebBloksUtils").passiveTouchEventOptions),l.addEventListener("touchend",N),l.addEventListener("touchcancel",N),l.addEventListener("mousedown",x),l.addEventListener("mouseleave",P),l.addEventListener("mouseup",M));function w(e){var t;e.stopPropagation(),((t=r.current.uiMutableContainer)==null||(t=t.gestures)==null?void 0:t.preventTap)!==!0&&o("WebBloksUtils").isBloksModelEnabled(r.current)&&((u!=null||c!=null||d!=null)&&f==null&&g==null&&h==null&&(u!=null&&a.executeCatch(r.current,u,[r.current,a.bloksContext]),c!=null&&a.executeCatch(r.current,c,[r.current,a.bloksContext,e.clientX,e.clientY]),d!=null&&a.executeCatch(r.current,d,[r.current,a.bloksContext,a,e.clientX,e.clientY])),(f!=null||g!=null||h!=null)&&(u!=null||c!=null||d!=null)&&e.detail===1&&(window.clearTimeout(k.doublePressTimeout),k.doublePressTimeout=window.setTimeout(function(){u!=null&&a.executeCatch(r.current,u,[r.current,a.bloksContext]),c!=null&&a.executeCatch(r.current,c,[r.current,a.bloksContext,e.clientX,e.clientY]),d!=null&&a.executeCatch(r.current,d,[r.current,a.bloksContext,a,e.clientX,e.clientY])},s)))}(u!=null||c!=null||d!=null||f!=null||g!=null||h==null)&&l.addEventListener("click",w);function A(e){window.clearTimeout(k.doublePressTimeout),k.doublePressTimeout=null,f!=null&&a.executeCatch(r.current,f,[r.current,a.bloksContext]),g!=null&&a.executeCatch(r.current,g,[r.current,a.bloksContext,e.clientX,e.clientY]),h!=null&&a.executeCatch(r.current,h,[r.current,a.bloksContext,a,e.clientX,e.clientY])}return(f!=null||g!=null||h!=null)&&l.addEventListener("dblclick",A),function(){l.removeEventListener("touchstart",D),l.removeEventListener("touchmove",$),l.removeEventListener("touchend",N),l.removeEventListener("touchcancel",N),l.removeEventListener("mousedown",x),l.removeEventListener("mouseleave",P),l.removeEventListener("mouseup",M),l.removeEventListener("click",w),l.removeEventListener("dblclick",A),l.removeEventListener("mousedown",b),l.removeEventListener("touchstart",v),l.removeEventListener("mouseup",L),l.removeEventListener("touchend",E)}}},c=u;l.default=c}),98);
__d("WebBloksHoverExtensionHandler",[],(function(t,n,r,o,a,i){"use strict";var e={getStyles:function(t){return{pointerEvents:"auto"}},onMount:function(t,n,r){var e,o=t.getExpression("on_pointer_enter"),a=t.getExpression("on_pointer_leave"),i=!1,l=!1;function s(e){if(i){i=!1;return}o!=null&&(r.executeCatch(n.current,o,[n.current,r.bloksContext]),l=!1)}function u(e){if(l){l=!1;return}a!=null&&r.executeCatch(n.current,a,[n.current,r.bloksContext])}function c(e){i=!0,l=!0}var d=(e=n.current.uiMutableContainer.domNode)==null?void 0:e.current;if(d)return d.addEventListener("mouseenter",s),d.addEventListener("mouseleave",u),d.addEventListener("touchstart",c),function(){d.removeEventListener("mouseenter",s),d.removeEventListener("mouseleave",u),d.removeEventListener("touchstart",c)}}},l=e;i.default=l}),66);
__d("WebBloksOnDataChangeExtensionHandler",["WebBloksBooleanUtils","WebBloksComponentContext","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useRef,m=u.useState,p={onMount:function(t,n,r){var e=t.getExpression("on_cleanup");if(e!=null)return function(){r.executeCatch(t,e,[r.bloksContext])}},wrap:function(t,n){return s.jsx(f,{model:t,children:n})}},_=p;function f(e){var t=e.children,n=e.model,r=o("WebBloksComponentContext").useWebBloksContext(),a=n.getValues(),i=a.data,l=a.fire_on_first_mount,u=n.getExpression("on_change"),p=m(o("WebBloksBooleanUtils").isFalse(l)),_=p[0],f=p[1],g=d(null);return c(function(){_?f(!1):o("WebBloksUtils").deepEquals(g.current,i)||u!=null&&r.executeCatch(n,u,[r,g.current,i]),g.current=i},[i]),s.jsx(s.Fragment,{children:t})}f.displayName=f.name+" [from "+i.id+"]",l.default=_}),98);
__d("WebBloksOnMountExtensionHandler",["WebBloksOnMountExtensionHandlerUtils"],(function(t,n,r,o,a,i,l){var e={hasLayoutWrapper:function(){return!1},onMount:function(t,n,r){return o("WebBloksOnMountExtensionHandlerUtils").runMountEffects(t,n,r)}},s=e;l.default=s}),98);
__d("WebBloksRenderLifecycleExtensionHandler",[],(function(t,n,r,o,a,i){var e={hasLayoutWrapper:function(){return!1},onMount:function(t,n,r){var e=t.getExpression("on_component_rendered");e!=null&&r.executeOnNextTickCatch(n.current,e,[n.current,r])}},l=e;i.default=l}),66);
__d("WebBloksTextInputDatePickerExtensionHandler",[],(function(t,n,r,o,a,i){var e={},l=e;i.default=l}),66);
__d("WebBloksTextInputMaskExtensionHandler",[],(function(t,n,r,o,a,i){var e={},l=e;i.default=l}),66);
__d("WebBloksTouchExtensionHandler",["WebBloksConstants","WebBloksUtils"],(function(t,n,r,o,a,i,l){var e={getStyles:function(t){return{cursor:"pointer",pointerEvents:"auto"}},onMount:function(t,n,r){var e,a=t.getExpression("on_touch_down"),i=t.getExpression("on_touch_up"),l=t.getExpression("on_touch_cancel"),s=(e=n.current.uiMutableContainer.domNode)==null?void 0:e.current;if(!s)return;var u=s,c=0,d=0,m=-1,p=!1,_=!1;function f(){var e=u.getBoundingClientRect();c=e.left,d=e.top,a!=null&&o("WebBloksUtils").isBloksModelEnabled(n.current)&&r.executeCatch(n.current,a,[n.current,r.bloksContext])}function g(){i!=null&&o("WebBloksUtils").isBloksModelEnabled(n.current)&&r.executeCatch(n.current,i,[n.current,r.bloksContext])}function h(){l!=null&&o("WebBloksUtils").isBloksModelEnabled(n.current)&&r.executeCatch(n.current,l,[n,r.bloksContext])}function y(e){if(_=!0,m===-1){var t=e.targetTouches[0];m=t.identifier,f()}}function C(e){if(_){e.preventDefault();return}e.button===0&&(e.preventDefault(),p=!0,f())}function b(e){e.keyCode===o("WebBloksConstants").KEY_SPACE&&e.preventDefault(),(e.keyCode===o("WebBloksConstants").KEY_SPACE||e.keyCode===o("WebBloksConstants").KEY_RETURN)&&f()}function v(e){(e.key==="Enter"||e.key===" ")&&g()}function S(e){var t=e.changedTouches[0];if(t.identifier===m)if(m=-1,o("WebBloksUtils").shouldCancelTouchEvent(u,c,d,t))h();else{var n=window.setTimeout(function(){g()},50),r=function(){g(),window.clearTimeout(n),u.removeEventListener("click",r)};u.addEventListener("click",r)}}function R(){if(_){_=!1;return}p&&(p=!1,g())}function L(e){m=-1,h()}function E(e){_||p&&(p=!1,h())}return u.addEventListener("touchstart",y,o("WebBloksUtils").passiveTouchEventOptions),u.addEventListener("keydown",b),u.addEventListener("keyup",v),u.addEventListener("touchend",S),u.addEventListener("touchcancel",L),u.addEventListener("mousedown",C),u.addEventListener("mouseleave",E),u.addEventListener("mouseup",R),function(){u.removeEventListener("touchstart",y),u.removeEventListener("keydown",b),u.removeEventListener("keyup",v),u.removeEventListener("touchend",S),u.removeEventListener("touchcancel",L),u.removeEventListener("mousedown",C),u.removeEventListener("mouseleave",E),u.removeEventListener("mouseup",R)}}},s=e;l.default=s}),98);
__d("useWebBloksViewTransformsExtensionWrapperVisibilityState",["react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useMemo,m=u.useState;function p(e){var t=e.alpha,n=e.scaleX,r=e.scaleY,o=m(null),a=o[0],i=o[1],l=m(null),s=l[0],u=l[1],p=m(null),_=p[0],f=p[1];c(function(){var e=Math.round(((t!=null?t:1)+Number.EPSILON)*100)/100;e===0&&(a==="entered"||a===null)?i("exited"):e>0&&(a==="exited"||a===null)&&i("entered"),f("opacity")},[t,a]),c(function(){var e=Math.round(((n!=null?n:1)+Number.EPSILON)*100)/100,t=Math.round(((r!=null?r:1)+Number.EPSILON)*100)/100;e===0&&t===0&&(s==="entered"||s===null)?u("exited"):e>0&&t>0&&(s==="exited"||s===null)&&u("entered"),f("scale")},[n,r,s]);var g=d(function(){if(_==="opacity")return a;if(_==="scale")return s},[_,a,s]);return g}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("WebBloksViewTransformsExtensionWrapper",["WebBloksStyle","WebBloksUtils","react","useWebBloksViewTransformsExtensionWrapperVisibilityState"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react"));function u(e){var t=e.children,n=e.node,a=[],i=n.get("alpha"),l=n.get("rotation"),u=n.get("scale_x"),c=n.get("scale_y"),d=n.get("translate_x"),m=n.get("translate_y"),p=r("useWebBloksViewTransformsExtensionWrapperVisibilityState")({alpha:i,scaleX:u,scaleY:c});d!=null&&a.push("translateX("+o("WebBloksUtils").toPx(d)+")"),m!=null&&a.push("translateY("+o("WebBloksUtils").toPx(m)+")"),l!=null&&a.push("rotate("+l+"deg)"),u!=null&&a.push("scaleX("+u+")"),c!=null&&a.push("scaleY("+c+")");var _=a.join(" ");return s.jsx("div",babelHelpers.extends({"data-bloks-name":"bk.components.ViewTransformsExtension","data-bloks-visibility-state":p},o("WebBloksStyle").getStyleProps({height:"100%",width:"100%",transform:_,opacity:i,pointerEvents:"inherit"}),{children:t}))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("WebBloksViewTransformExtensionHandler",["WebBloksViewTransformsExtensionWrapper","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u={hasLayoutWrapper:function(){return!0},wrap:function(t,n){return s.jsx(r("WebBloksViewTransformsExtensionWrapper"),{node:t,children:n})}},c=u;l.default=c}),98);
__d("WebBloksVisibilityExtensionHandler",["WebBloksComponentContext","WebBloksSSRUtils","WebBloksViewpoint","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useLayoutEffect;function m(e){var t=e.children,n=e.elementRef,r=e.node;return o("WebBloksSSRUtils").canUseDOM?p({children:t,node:r,elementRef:n}):t}function p(e){var t=e.children,n=e.elementRef,r=e.id,a=e.node,i=o("WebBloksComponentContext").useWebBloksContext(),l=i.bloksContext,s=i.executeCatch,u=c(function(e){var t=a.uiMutableContainer.visibility||{hasSeenBefore:!1},n=babelHelpers.extends({},e,t);switch(e.state){case"entered":{var r=a.getExpression("on_appear");r!=null&&s(a,r,[n,l]),a.uiMutableContainer.visibility={hasSeenBefore:!0};break}case"intersecting":{var o=a.getExpression("on_update");o!=null&&s(a,o,[n,l]);break}case"exited":{var i,u=a.getExpression("on_disappear");u!=null&&((i=a.uiMutableContainer.visibility)==null?void 0:i.hasSeenBefore)===!0&&s(a,u,[n,l]);break}default:}},[s,a,l]),m=a==null?void 0:a.get("trigger_on_first_appear_only"),p=o("WebBloksViewpoint").useViewpoint({id:a.clientId.toString(),action:u,untrackAfterFirstAppear:m!=null?m:!1});return d(function(){p.current=n.current},[n,p]),t}p.displayName=p.name+" [from "+i.id+"]";var _={hasLayoutWrapper:function(){return!1},wrap:function(t,n,r,o){return s.jsx(m,{node:t,elementRef:o,children:n})}},f=_;l.default=f}),98);
__d("WebBloksWebFocusBoundaryExtensionHandler",[],(function(t,n,r,o,a,i){var e={onMount:function(t,n,r){var e,o=t.getExpression("on_gain_focus_inside"),a=t.getExpression("on_lose_focus_inside"),i=(e=n.current.uiMutableContainer.domNode)==null?void 0:e.current;if(!i)return;var l=i.contains(document.activeElement);l&&o!=null&&r.executeCatch(n.current,o,[n.current,r.bloksContext]);function s(e){var t,a=l;l=(t=i==null?void 0:i.contains(e.target))!=null?t:!1,l&&!a&&o!=null&&r.executeCatch(n.current,o,[n.current,r.bloksContext])}function u(e){var t,o=l;l=(t=i==null?void 0:i.contains(e.relatedTarget))!=null?t:!1,o&&!l&&a!=null&&r.executeCatch(n.current,a,[n.current,r.bloksContext])}return i.addEventListener("focusin",s),i.addEventListener("focusout",u),function(){i.removeEventListener("focusin",s),i.removeEventListener("focusout",u)}}},l=e;i.default=l}),66);
__d("WebBloksWebNativeAccessibilityExtensionHandler",["WebBloksAccessibilityUtils","WebBloksBooleanUtils"],(function(t,n,r,o,a,i,l){var e={getProps:function(t){var e=t.getValues(),n=e["aria-controls"],r=e["aria-describedby"],a=e["aria-expanded"],i=e["aria-hidden"],l=e["aria-pressed"],s=e["aria-selected"],u=e.checked,c=e.enabled,d=e.heading_level,m=e.label,p=e.lang,_=e.role,f={},g=o("WebBloksAccessibilityUtils").WEBBLOKS_ACCESSIBILITY_ROLE_MAPPING[_];return g!=null&&(f.role=g),f=babelHelpers.extends({},o("WebBloksAccessibilityUtils").getFocusPropsForRole(f.role),f),o("WebBloksBooleanUtils").isTrue(u)&&(f["aria-checked"]=!0),o("WebBloksBooleanUtils").isFalse(u)&&(f["aria-checked"]=!1),o("WebBloksBooleanUtils").isFalse(c)&&(f.disabled=!0,f["aria-disabled"]=!0),a!=null&&(f["aria-expanded"]=o("WebBloksBooleanUtils").isTrue(a)),n!=null&&n.length>0&&(f["aria-controls"]=n.join(" ")),r!=null&&r.length>0&&(f["aria-describedby"]=r.join(" ")),i!=null&&(f["aria-hidden"]=o("WebBloksBooleanUtils").isTrue(i)),l!=null&&(f["aria-pressed"]=l),s!=null&&(f["aria-selected"]=o("WebBloksBooleanUtils").isTrue(s)),m!=null&&(f["aria-label"]=m),d!=null&&(f["aria-label"]=void 0),p!=null&&(f.lang=p),f},wrap:function(t,n){var e=t.getValues(),r=e.heading_level,a=e.label;return r!=null?o("WebBloksAccessibilityUtils").getHeading(r,a,n):n},reduce:function(t,n){return t?t.makeCopy(n.getValues()):n}},s=e;l.default=s}),98);
__d("WebBloksExtensionHandlers",["WebBloksAccessibilityExtensionHandler","WebBloksAnchorIDExtensionHandler","WebBloksAnchorTagExtensionHandler","WebBloksAutomationTestExtensionHandler","WebBloksBKSTextInputFormatterHandler","WebBloksGestureExtensionHandler","WebBloksHoverExtensionHandler","WebBloksOnDataChangeExtensionHandler","WebBloksOnMountExtensionHandler","WebBloksRenderLifecycleExtensionHandler","WebBloksTextInputDatePickerExtensionHandler","WebBloksTextInputMaskExtensionHandler","WebBloksTouchExtensionHandler","WebBloksViewTransformExtensionHandler","WebBloksVisibilityExtensionHandler","WebBloksWebFocusBoundaryExtensionHandler","WebBloksWebNativeAccessibilityExtensionHandler"],(function(t,n,r,o,a,i,l){var e={"bk.components.AnchorIdExtension":r("WebBloksAnchorIDExtensionHandler"),"bk.components.AutomationTestExtension":r("WebBloksAutomationTestExtensionHandler"),"bk.components.VisibilityExtension":r("WebBloksVisibilityExtensionHandler"),"bk.components.AccessibilityExtension":r("WebBloksAccessibilityExtensionHandler"),"bk.components.WebNativeAccessibilityExtension":r("WebBloksWebNativeAccessibilityExtensionHandler"),"bk.components.HoverExtension":r("WebBloksHoverExtensionHandler"),"bk.components.OnMount":r("WebBloksOnMountExtensionHandler"),"bk.components.RenderLifecycleExtension":r("WebBloksRenderLifecycleExtensionHandler"),"bk.components.ViewTransformsExtension":r("WebBloksViewTransformExtensionHandler"),"bk.components.FoaTouchExtension":r("WebBloksTouchExtensionHandler"),"bk.components.FoaGestureExtension":r("WebBloksGestureExtensionHandler"),"bk.components.TextInputDatePickerExtension":r("WebBloksTextInputDatePickerExtensionHandler"),"bk.components.TextInputMaskExtension":r("WebBloksTextInputMaskExtensionHandler"),"bk.extensions.OnDataChange":r("WebBloksOnDataChangeExtensionHandler"),"bk.components.AnchorTagExtension":r("WebBloksAnchorTagExtensionHandler"),"bk.component.WebFocusBoundaryExtension":r("WebBloksWebFocusBoundaryExtensionHandler"),"bk.components.BKSTextInputFormatter":r("WebBloksBKSTextInputFormatterHandler")};l.EXTENSION_HANDLERS=e}),98);
__d("coreTraversalKeys",[],(function(t,n,r,o,a,i){var e={"bk.cds.bottomsheet.Wrapper":{subnodes:["_style","content","header","web_background_overlay_color","top_banner"],plural_subnodes:["extensions","child_templates"]},"bk.component.TransitionContainer":{subnodes:["_style"],plural_subnodes:["extensions","children","child_templates"]},"bk.components.BoxDecoration":{subnodes:["background","foreground","corner_fill_themed_color","border_themed_color","shadow_themed_color","contrib","spot_shadow_color","ambient_shadow_color"],plural_subnodes:["child_templates"]},"bk.components.Canvas":{subnodes:["_style"],plural_subnodes:["extensions","children","child_templates"]},"bk.components.Collection":{subnodes:["_style","background_themed_color","scroll_indicator_color","scroll_indicator_background_color","scroll_indicator_margin_insets","scroll_indicator_shadow_color","scroll_indicator_margin_insets_v2","scroll_indicator_shadow_color_v2","layout_config"],plural_subnodes:["extensions","children","child_templates"]},"bk.components.Flexbox":{subnodes:["_style","decoration","on_click_config"],plural_subnodes:["extensions","gesture_recognizers","children","child_templates"]},"bk.components.Glimmer":{subnodes:["_style"],plural_subnodes:["extensions","child_templates"]},"bk.components.GradientThemedColorDrawable":{subnodes:["begin_color","end_color","middle_color"],plural_subnodes:["child_templates"]},"bk.components.Image":{subnodes:["_style","color_filter","contrib","progress_ring_color","focus_point","placeholder_color"],plural_subnodes:["extensions","child_templates"]},"bk.components.PullToRefreshContainer":{subnodes:["_style","child"],plural_subnodes:["extensions","child_templates"]},"bk.components.RichText":{subnodes:["_style","truncation_string_themed_color","link_highlight_themed_color","keyboard_link_highlight_themed_color","link_highlight_text_themed_color","background_color"],plural_subnodes:["extensions","children","gradient_colors","truncation_spans","spans","spans_for_truncation","child_templates"]},"bk.components.Slider":{subnodes:["_style","thumb_color","filled_track_color","unfilled_track_color"],plural_subnodes:["extensions","child_templates"]},"bk.components.Spinner":{subnodes:["_style","color"],plural_subnodes:["extensions","child_templates"]},"bk.components.StateDrawable":{plural_subnodes:["state_items","child_templates"]},"bk.components.StateDrawableItem":{subnodes:["drawable"],plural_subnodes:["child_templates"]},"bk.components.Switch":{subnodes:["_style","on_color","off_color","thumb_color_on_android","thumb_color_off_android","track_color_on","track_color_off","thumb_color_disabled_on_android","thumb_color_disabled_off_android","track_color_disabled_on","track_color_disabled_off","thumb_color_disabled_on","thumb_color_disabled_off","thumb_color_on","thumb_color_off"],plural_subnodes:["extensions","child_templates"]},"bk.components.Text":{subnodes:["_style","text_provider","text_themed_color","truncation_string_themed_color"],plural_subnodes:["extensions","truncation_spans","child_templates"]},"bk.components.TextInput":{subnodes:["_style","text_themed_color","hint_text_themed_color","cursor_color","placeholder_text_color","background_color","shadow"],plural_subnodes:["extensions","child_templates"]},"bk.components.TextSpan":{subnodes:["_style","text_provider","text_themed_color","tint_color","shadow_color","image_component","image_margin"],plural_subnodes:["extensions","span_styles","spans","child_templates"]},"bk.components.ThemedColorDrawable":{subnodes:["color"],plural_subnodes:["child_templates"]},"bk.components.Video":{subnodes:["_style","player_identifier","video_clipping_positions"],plural_subnodes:["extensions","video_versions","preview_versions","child_templates"]},"bk.components.Zoomable":{subnodes:["_style","content","config"],plural_subnodes:["extensions","child_templates"]},"bk.components.dialog.Button":{subnodes:["text_color"],plural_subnodes:["child_templates"]},"bk.components.dialog.Dialog":{subnodes:["primary_button","secondary_button","tertiary_button"],plural_subnodes:["child_templates"]},"bk.components.internal.Action":{subnodes:["_style"],plural_subnodes:["extensions","child_templates"]},"bk.components.internal.Merge":{subnodes:["_style"],plural_subnodes:["extensions","children","child_templates"]},"bk.components.internal.MergeWithBind":{subnodes:["_style"],plural_subnodes:["extensions","children","child_templates"]},"bk.components.internal.Shadow":{subnodes:["_style","child"],plural_subnodes:["extensions","child_templates"]},"bk.components.screen.Wrapper":{subnodes:["_style","content","navbar"],plural_subnodes:["extensions","contribs","child_templates"]},"bk.components.webbloks.Fieldset":{subnodes:["_style"],plural_subnodes:["extensions","children","child_templates"]},"bk.data.GradientLine":{subnodes:["start_point","end_point"],plural_subnodes:["child_templates"]},"bk.data.bloks.TreeResourceReferences":{plural_subnodes:["props","child_templates"]},"bk.data.cds.OpenScreenOptions":{subnodes:["android_activity_background_color","dimmed_background_color","background_overlay_color","bottom_sheet_margins"],plural_subnodes:["child_templates"]},"bk.data.screen.Navbar":{subnodes:["contrib"],plural_subnodes:["contribs","child_templates"]},"bk.data.screen.Screen":{subnodes:["loading_screen","loaded_screen","navbar","navbar_data","contrib","lifecycle_callbacks"],plural_subnodes:["contribs","child_templates"]},"bk.data.toast.ShowToastOptions":{subnodes:["show_animation_interpolator","dismiss_animation_interpolator"],plural_subnodes:["child_templates"]},"bk.data.toast.ShowToastOptionsV2":{subnodes:["show_animation_interpolator","dismiss_animation_interpolator"],plural_subnodes:["child_templates"]},"bk.style.textspan.ColorStyle":{subnodes:["text_themed_color"],plural_subnodes:["child_templates"]},"bk.style.textspan.ShadowStyle":{subnodes:["shadow_color"],plural_subnodes:["child_templates"]},"bk.types.CanvasFill":{subnodes:["shape","shading","blending_mode","shadow"],plural_subnodes:["child_templates"]},"bk.types.CanvasGradient":{plural_subnodes:["themed_colors","child_templates"]},"bk.types.CanvasGroup":{subnodes:["transform","clip"],plural_subnodes:["children","child_templates"]},"bk.types.CanvasLayer":{subnodes:["transform","clip","blending_mode"],plural_subnodes:["children","child_templates"]},"bk.types.CanvasPath":{plural_subnodes:["children","child_templates"]},"bk.types.CanvasPathAdd":{subnodes:["path","transform"],plural_subnodes:["child_templates"]},"bk.types.CanvasPathDifference":{subnodes:["path","transform"],plural_subnodes:["child_templates"]},"bk.types.CanvasPathIntersection":{subnodes:["path","transform"],plural_subnodes:["child_templates"]},"bk.types.CanvasPathUnion":{subnodes:["path","transform"],plural_subnodes:["child_templates"]},"bk.types.CanvasPathXor":{subnodes:["path","transform"],plural_subnodes:["child_templates"]},"bk.types.CanvasShadingColor":{subnodes:["themed_color"],plural_subnodes:["child_templates"]},"bk.types.CanvasShadingGradientLinear":{subnodes:["gradient"],plural_subnodes:["child_templates"]},"bk.types.CanvasShadingGradientRadial":{subnodes:["gradient"],plural_subnodes:["child_templates"]},"bk.types.CanvasShadow":{subnodes:["themed_color"],plural_subnodes:["child_templates"]},"bk.types.CanvasStroke":{subnodes:["shape","shading","blending_mode","shadow"],plural_subnodes:["child_templates"]},"bk.types.CanvasTransform":{plural_subnodes:["children","child_templates"]},"bk.types.GridCollectionLayoutConfig":{subnodes:["padding"],plural_subnodes:["child_templates"]},collection:{subnodes:["sticky_item_config"],plural_subnodes:["child_templates"]},flex:{subnodes:["touch_expansion"],plural_subnodes:["child_templates"]},"mini.data.Product":{subnodes:["main_image","merchant","thumbnail_image","checkout_properties","drawing_information","rating"],plural_subnodes:["variant_values","child_templates"]},"bk.AnyComponent":{subnodes:["style"],plural_subnodes:["extensions","child_templates"]},"bk.types.Shadow":{subnodes:["color"],plural_subnodes:["child_templates"]},"bk.data.zoomable.config.Remote":{subnodes:["placeholder_color"],plural_subnodes:["child_templates"]},"bk.data.screen.navbar.Contrib":{subnodes:["fb","msg"],plural_subnodes:["child_templates"]},"bk.data.screen.screen.Contrib":{subnodes:["ig","msg"],plural_subnodes:["child_templates"]},"bk.data.product.CheckoutProperties":{subnodes:["currency_amount","shipping_and_return"],plural_subnodes:["child_templates"]},"bk.data.screen.navbar.contrib.Msg":{subnodes:["title_view"],plural_subnodes:["right_buttons","left_buttons","child_templates"]},"bk.data.product.checkout.ShippingAndReturn":{subnodes:["shipping_cost","return_cost"],plural_subnodes:["child_templates"]}},l=e;i.default=l}),66);
__d("CoreWebBloksEnvironmentConfigDynamic",["CoreWebBloksActions","WebBloksExtensionHandlers","coreTraversalKeys"],(function(t,n,r,o,a,i,l){var e={actions:o("CoreWebBloksActions").ACTIONS,extensionHandlers:o("WebBloksExtensionHandlers").EXTENSION_HANDLERS,traversalKeys:r("coreTraversalKeys")};l.CORE_ENVIRONMENT_CONFIG=e}),98);
__d("WebBloksLogEvent",["FalcoLoggerInternal","WebBloksFalcoPolicyData"],(function(t,n,r,o,a,i,l){function e(e,t,n,a){var i=o("FalcoLoggerInternal").create(t,r("WebBloksFalcoPolicyData").get(t));i.log(function(){return a})}l.default=e}),98);
__d("WebBloksLogEventCritical",["FalcoLoggerInternal","WebBloksFalcoPolicyData"],(function(t,n,r,o,a,i,l){function e(e,t,n,a){var i=o("FalcoLoggerInternal").create(t,r("WebBloksFalcoPolicyData").get(t));i.logCritical(function(){return a})}l.default=e}),98);
__d("WebBloksOpenFRXAction",["FRXURI","JSResource"],(function(t,n,r,o,a,i,l){function e(e,t,n,a){var i=o("FRXURI").withEntReportable({reportable_ent_token:a,story_location:n,entry_point:t});r("JSResource")("XAsyncRequest").__setRef("WebBloksOpenFRXAction").load().then(function(e){var t=new e().setURI(i);return t.send()}).catch(function(t){e.objectSet.environment.logger.mustfix("WebBloksOpenFRXAction fetch failure",t)})}l.default=e}),98);
__d("WebBloksQPLUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=n!=null?n:void 0;return{i:e,m:r,r:t}}i.createSyntheticQPLEvent=e}),66);
__d("WebBloksQPLMarkerAnnotateV2",["QuickPerformanceLogger","WebBloksQPLUtils"],(function(t,n,r,o,a,i,l){var e;function s(t,n,a,i,l){var s=l.get("sample_rate"),u=l.get("sampling_type"),c=o("WebBloksQPLUtils").createSyntheticQPLEvent(n,s,u);(e||(e=r("QuickPerformanceLogger"))).markerAnnotate(c,{string:i},{instanceKey:a})}l.default=s}),98);
__d("WebBloksQPLMarkerEndV3",["QuickPerformanceLogger","WebBloksQPLUtils"],(function(t,n,r,o,a,i,l){var e;function s(t,n,a,i,l,s){var u=l.get("sample_rate"),c=l.get("sampling_type"),d=o("WebBloksQPLUtils").createSyntheticQPLEvent(n,u,c);(e||(e=r("QuickPerformanceLogger"))).markerEnd(d,i,a)}l.default=s}),98);
__d("WebBloksQPLMarkerPointV2",["QuickPerformanceLogger","WebBloksQPLUtils"],(function(t,n,r,o,a,i,l){var e;function s(t,n,a,i,l,s){var u=l.get("sample_rate"),c=l.get("sampling_type"),d=o("WebBloksQPLUtils").createSyntheticQPLEvent(n,u,c);(e||(e=r("QuickPerformanceLogger"))).markerPoint(d,i,{instanceKey:a})}l.default=s}),98);
__d("WebBloksQPLMarkerStartV3",["QuickPerformanceLogger","WebBloksQPLUtils"],(function(t,n,r,o,a,i,l){var e;function s(t,n,a,i,l){var s=i.get("sample_rate"),u=i.get("sampling_type"),c=o("WebBloksQPLUtils").createSyntheticQPLEvent(n,s,u);(e||(e=r("QuickPerformanceLogger"))).markerStart(c,a)}l.default=s}),98);
__d("WebBloksQPLUserFlowAnnotateV3",["QPLUserFlow","WebBloksQPLUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,a,i){var l=i.get("sample_rate"),s=i.get("sampling_type"),u=o("WebBloksQPLUtils").createSyntheticQPLEvent(t,l,s);r("QPLUserFlow").addAnnotations(u,{string:a},{instanceKey:n})}l.default=e}),98);
__d("WebBloksQPLUserFlowEndFlowCancelV3",["QPLUserFlow","WebBloksQPLUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,a,i){var l=i.get("sample_rate"),s=i.get("sampling_type"),u=o("WebBloksQPLUtils").createSyntheticQPLEvent(t,l,s);r("QPLUserFlow").endCancel(u,{annotations:{string:{cancel_reason:a}},instanceKey:n})}l.default=e}),98);
__d("WebBloksQPLUserFlowEndFlowFailureV3",["QPLUserFlow","WebBloksQPLUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,a,i,l){var s=l.get("sample_rate"),u=l.get("sampling_type"),c=o("WebBloksQPLUtils").createSyntheticQPLEvent(t,s,u);r("QPLUserFlow").endFailure(c,a,{debugInfo:i,instanceKey:n})}l.default=e}),98);
__d("WebBloksQPLUserFlowEndFlowSuccessV3",["QPLUserFlow","WebBloksQPLUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,a){var i=a.get("sample_rate"),l=a.get("sampling_type"),s=o("WebBloksQPLUtils").createSyntheticQPLEvent(t,i,l);r("QPLUserFlow").endSuccess(s,{instanceKey:n})}l.default=e}),98);
__d("WebBloksQPLUserFlowMarkErrorV3",["QPLUserFlow","WebBloksQPLUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,a,i,l){var s=l.get("sample_rate"),u=l.get("sampling_type"),c=o("WebBloksQPLUtils").createSyntheticQPLEvent(t,s,u);r("QPLUserFlow").markError(c,a,{debugInfo:i,instanceKey:n})}l.default=e}),98);
__d("WebBloksQPLUserFlowMarkPointV3",["QPLUserFlow","WebBloksQPLUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,a,i,l){var s=l.get("sample_rate"),u=l.get("sampling_type"),c=o("WebBloksQPLUtils").createSyntheticQPLEvent(t,s,u);r("QPLUserFlow").addPoint(c,a,{instanceKey:n,data:{string:i}})}l.default=e}),98);
__d("WebBloksQPLUserFlowStartFlowV3",["QPLUserFlow","WebBloksQPLUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,a,i){var l=a.get("sample_rate"),s=a.get("sampling_type"),u=i.get("trigger_source"),c=o("WebBloksQPLUtils").createSyntheticQPLEvent(t,l,s);r("QPLUserFlow").start(c,{instanceKey:n,annotations:{string:{trigger_source:u}}})}l.default=e}),98);
__d("HasteSharedWebBloksActions",["WebBloksLogEvent","WebBloksLogEventCritical","WebBloksOpenFRXAction","WebBloksQPLMarkerAnnotateV2","WebBloksQPLMarkerEndV3","WebBloksQPLMarkerPointV2","WebBloksQPLMarkerStartV3","WebBloksQPLUserFlowAnnotateV3","WebBloksQPLUserFlowEndFlowCancelV3","WebBloksQPLUserFlowEndFlowFailureV3","WebBloksQPLUserFlowEndFlowSuccessV3","WebBloksQPLUserFlowMarkErrorV3","WebBloksQPLUserFlowMarkPointV3","WebBloksQPLUserFlowStartFlowV3"],(function(t,n,r,o,a,i,l){var e={"bk.action.OpenFRXAction":r("WebBloksOpenFRXAction"),"bk.action.logging.LogEvent":r("WebBloksLogEvent"),"bk.action.logging.LogEventCritical":r("WebBloksLogEventCritical"),"bk.action.qpl.MarkerAnnotateV2":r("WebBloksQPLMarkerAnnotateV2"),"bk.action.qpl.MarkerEndV3":r("WebBloksQPLMarkerEndV3"),"bk.action.qpl.MarkerPointV2":r("WebBloksQPLMarkerPointV2"),"bk.action.qpl.MarkerStartV3":r("WebBloksQPLMarkerStartV3"),"bk.action.qpl.userflow.AnnotateV3":r("WebBloksQPLUserFlowAnnotateV3"),"bk.action.qpl.userflow.EndFlowCancelV3":r("WebBloksQPLUserFlowEndFlowCancelV3"),"bk.action.qpl.userflow.EndFlowFailureV3":r("WebBloksQPLUserFlowEndFlowFailureV3"),"bk.action.qpl.userflow.EndFlowSuccessV3":r("WebBloksQPLUserFlowEndFlowSuccessV3"),"bk.action.qpl.userflow.MarkErrorV3":r("WebBloksQPLUserFlowMarkErrorV3"),"bk.action.qpl.userflow.MarkPointV3":r("WebBloksQPLUserFlowMarkPointV3"),"bk.action.qpl.userflow.StartFlowV3":r("WebBloksQPLUserFlowStartFlowV3")};l.ACTIONS=e}),98);
__d("HasteSharedWebBloksComponents",[],(function(t,n,r,o,a,i){var e={};i.COMPONENTS=e}),66);
__d("WebBloksAnimatedAddOnCompleteListener",[],(function(t,n,r,o,a,i){function e(e,t,n){return t.addOnCompleteListener(function(r){return n==null?void 0:n(e,t,r,e.bloksContext)}),t}i.default=e}),66);
__d("WebBloksAnimationsSet",["WebBloksErrors"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e){var t=e.animations,n=e.startDelay;this.isCancelled=!1,this.isPaused=!1,this.isInfinite=!1,this.onCompleteListeners=new Set,this.startDelay=0,this.animations=t.slice(),this.startDelay=n||0}var t=e.prototype;return t.play=function(){throw new(o("WebBloksErrors")).WebBloksError("`play` method must be implemented on the subclass of this animation set")},t.addOnCompleteListener=function(t){var e=this,n=0;this.onCompleteListeners.add(t),this.animations.forEach(function(t){var r=function(r){n++,(!r||n===e.animations.length)&&(n=0,e.onCompleteListeners.forEach(function(e){return e(r)}))};t.addOnCompleteListener(r)})},t.removeOnCompleteListener=function(t){this.onCompleteListeners.delete(t)},t.getTotalDuration=function(){throw new(o("WebBloksErrors")).WebBloksError("`getTotalDuration` method must be implemented on the subclass of this animation set")},t.getComputedTimes=function(){throw new(o("WebBloksErrors")).WebBloksError("`getComputedTimes` method must be implemented on the subclass of this animation set")},e})();l.WebBloksAnimationsSet=e}),98);
__d("WebBloksAnimatedUtils",["WebBloksAnimationsSet"],(function(t,n,r,o,a,i,l){function e(e,t){var n;return(n=e.bloksContext.bkContextKeyAnimations.get(t))!=null?n:null}function s(e,t){return e.bloksContext.bkContextKeyAnimations.has(t)}function u(t,n){var r=e(t,n);r==null||r.play(t.bloksContext.bkContextKeyAnimations,n)}function c(t,n){var r=e(t,n);return r==null||r.cancel(),t.bloksContext.bkContextKeyAnimations.delete(n)}function d(e,t,n,r){if(r===void 0&&(r=!0),e.bloksContext.bkContextKeyAnimations.set(t,n),r){var o=function(){c(e,t)};n.addOnCompleteListener(o)}return n}function m(e){var t=e.constructor.name;if(e instanceof o("WebBloksAnimationsSet").WebBloksAnimationsSet)for(var n of e.animations)t+=m(n);return t}l.getAnimationWithToken=e,l.hasAnimationWithToken=s,l.startAnimationWithToken=u,l.deleteAnimationWithToken=c,l.associateAnimationWithToken=d,l.getIDTokenForLegacyAnimation=m}),98);
__d("WebBloksAnimationValue",[],(function(t,n,r,o,a,i){var e=(function(){function e(e){var t=e.animatedValue,n=e.animation,r=e.id;this.isInfinite=!1,this.animatedValue=null,this.onUpdateListeners=new Set,this.onCompleteListeners=new Set,this.$1=null,this.$2=null,this.id=r,this.animatedValue=t,this.animation=n}var t=e.prototype;return t.addUpdateListener=function(t){this.onUpdateListeners.has(t)||this.onUpdateListeners.add(t)},t.removeUpdateListener=function(t){this.onUpdateListeners.delete(t)},t.addOnCompleteListener=function(t){this.onCompleteListeners.add(t)},t.removeOnCompleteListener=function(t){this.onCompleteListeners.delete(t)},t.setAnimatedValue=function(t){this.animatedValue=t},t.getTotalDuration=function(){return this.animation.duration},t.getCurrentTime=function(){var e;return(e=this.$2)!=null?e:0},t.setCurrentTime=function(t){this.$2=t,this.$1=window.performance.now()-this.$2},t.calculateTimelineAnimatedValue=function(t){var e=this.animation,n=e.duration,r=e.format,o=e.from,a=e.interpolator,i=e.to,l=[].concat(o),s=[].concat(i),u=t/n;Number.isNaN(u)&&(u=0);for(var c=[],d=0;d<l.length;d++)s[d]>l[d]?c.push(l[d]+a(u)*(s[d]-l[d])):c.push(l[d]-a(u)*(l[d]-s[d]));return r.apply(void 0,c)},e})();i.WebBloksAnimationValue=e}),66);
__d("WebBloksAnimationsTimeline",["WebBloksAnimationValue","webBloksPerformanceUtils"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e){var t=this;this.id=null,this.isCancelled=!1,this.isPaused=!1,this.$1=new Set,this.$2=[],this.$3=null,this.$4=null,this.$5=null,this.$14=function(){document.visibilityState==="hidden"&&!t.isPaused?t.pause():document.visibilityState==="visible"&&t.isPaused&&t.resume()},this.$2=this.$6(e)}var t=e.prototype;return t.setID=function(t){this.id=t},t.getID=function(){return this.id},t.play=function(t,n){var e=this;this.isCancelled=!1,this.isPaused=!1;var r=this.$4,a=function(l){if(!(n!=null&&!(t!=null&&t.has(n)))){r=r!=null?r:l;var i=Math.floor(l-r);e.$3=i;var s=e.$7(i);for(var u of s){var c=u[0],d=u[1],m=d.calculateTimelineAnimatedValue(i-c);m!=null&&(d.setAnimatedValue(m),d.onUpdateListeners.forEach(function(e){return e()}))}if(i/e.getTotalDuration()<1)e.$5=window.requestAnimationFrame(a);else{var p=e.$8(),_=p[1];_.isInfinite?(e.$9(),e.$5=window.requestAnimationFrame(a)):e.$10()}o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-frame",{detail:{animationID:e.id,timestamp:e.getCurrentTime()}})}};this.$5=window.requestAnimationFrame(a),this.$11()},t.pause=function(){this.isPaused||(this.isPaused=!0,window.cancelAnimationFrame(this.$5),this.$5=null,this.$4=null)},t.resume=function(){var e;this.isPaused&&(this.isPaused=!1,this.setCurrentTime((e=this.$3)!=null?e:0),this.play(),o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-resume"))},t.addOnCompleteListener=function(t){this.$1.has(t)||this.$1.add(t)},t.removeOnCompleteListener=function(t){this.$1.delete(t)},t.cancel=function(){this.isCancelled=!0,window.cancelAnimationFrame(this.$5),this.$5=null,this.$12()},t.getStartTimeToAnimationInstance=function(){return this.$2},t.getTotalDuration=function(){var e=this.$8(),t=e[0],n=e[1];return t+n.getTotalDuration()},t.getCurrentTime=function(){var e;return(e=this.$3)!=null?e:0},t.setCurrentTime=function(t){this.$4=window.performance.now()-t},t.$9=function(){for(var e=this.$13(),t=this.$2.slice(e),n=t[0],r=n[0],o=this.getTotalDuration()-r,a=0;a<e;a++)this.$2.pop();for(var i of t){var l=i[0],s=i[1];this.$2.push([o+l,s])}},t.$7=function(t){return this.$2.filter(function(e){var n=e[0],r=e[1];return t>=n&&t<=n+r.getTotalDuration()})},t.$13=function(){for(var e=this.$2.length-1;e>0;){var t=this.$2[e],n=t[0],r=t[1];r.isInfinite&&e--}return e},t.$10=function(){this.$2.forEach(function(e){var t=e[1];return t.onCompleteListeners.forEach(function(e){return e(!0)})}),this.$1.forEach(function(e){return e(!0)}),this.$4=null,this.$12()},t.$8=function(){var e=Array.from(this.$2);return e[e.length-1]},t.$6=function(t){var e=[],n=function(r){if(!(!r||!r.length)){var t=r[0],a=r[1];if(a instanceof o("WebBloksAnimationValue").WebBloksAnimationValue){e.push([t,a]);return}for(var i of a.getComputedTimes()){var l=i[0],s=i[1];n([t+l,s])}}};return n([0,t]),e},t.$11=function(){window.addEventListener("visibilitychange",this.$14)},t.$12=function(){window.removeEventListener("visibilitychange",this.$14)},e})();l.WebBloksAnimationsTimeline=e}),98);
__d("WebBloksAnimatedBuild",["WebBloksAnimatedUtils","WebBloksAnimationsTimeline"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r=new(o("WebBloksAnimationsTimeline")).WebBloksAnimationsTimeline(t);return o("WebBloksAnimatedUtils").associateAnimationWithToken(e,n,r,!1),t}l.default=e}),98);
__d("WebBloksAnimatedCancel",["WebBloksAnimatedUtils","WebBloksAnimationsTimeline"],(function(t,n,r,o,a,i,l){function e(e,t){if(t instanceof o("WebBloksAnimationsTimeline").WebBloksAnimationsTimeline)t.cancel();else{var n=o("WebBloksAnimatedUtils").getIDTokenForLegacyAnimation(t);o("WebBloksAnimatedUtils").deleteAnimationWithToken(e,n)}}l.default=e}),98);
__d("WebBloksAnimatedCancelToken",["WebBloksAnimatedUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WebBloksAnimatedUtils").getAnimationWithToken(e,t);n!==null&&n.cancel()}l.default=e}),98);
__d("WebBloksAnimationFunctions",[],(function(t,n,r,o,a,i){function e(e,t,n,r){var o=1e-6,a=3*e-3*n+1,i=3*n-6*e,l=3*e,s=3*t-3*r+1,u=3*r-6*t,c=3*t;function d(e){return(3*a*e+2*i)*e+l}function m(e){return((a*e+i)*e+l)*e}function p(e){return((s*e+u)*e+c)*e}function _(e){for(var t=e,n,r,a=0;a<8;a++){if(r=m(t)-e,Math.abs(r)<o)return t;if(n=d(t),Math.abs(n)<o)break;t-=r/n}var i=1,l=0;for(t=e;i>l;){if(r=m(t)-e,Math.abs(r)<o)return t;r>0?i=t:l=t,t=(i+l)/2}return t}function f(e){return p(_(e))}return f}function l(){return e(0,0,1,1)}i.cubicBezier=e,i.linearInterpolator=l}),66);
__d("WebBloksAnimatedCreate",["WebBloksAnimationFunctions","WebBloksAnimationValue","WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,r,a,i,l){var s=new(o("WebBloksAnimationValue")).WebBloksAnimationValue({id:""+o("WebBloksUtils").getNextGlobalBloksClientId(),animation:{style:"transform",from:parseFloat(r),to:parseFloat(a),format:function(t){return String(t)},duration:i*1e3,interpolator:l!=null?l:o("WebBloksAnimationFunctions").linearInterpolator()},animatedValue:null});return s.addUpdateListener(function(){t(e,s)}),s.addOnCompleteListener(function(t){n==null||n(e,s,t,e.bloksContext)}),s}l.default=e}),98);
__d("WebBloksAnimatedCreateColor",["WebBloksAnimationFunctions","WebBloksAnimationValue","WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,r,a,i,l){var s=new(o("WebBloksAnimationValue")).WebBloksAnimationValue({id:""+o("WebBloksUtils").getNextGlobalBloksClientId(),animation:{style:"color",from:o("WebBloksUtils").convertRGBOrHexStringToArr(r),to:o("WebBloksUtils").convertRGBOrHexStringToArr(a),format:function(t,n,r){return o("WebBloksUtils").convertRGBArrToString([t,n,r,1])},duration:i*1e3,interpolator:l!=null?l:o("WebBloksAnimationFunctions").linearInterpolator()},animatedValue:null});return s.addUpdateListener(function(){t(e,s)}),n&&s.addOnCompleteListener(function(t){return n==null?void 0:n(e,s,t,e.bloksContext)}),s}l.default=e}),98);
__d("WebBloksAnimatedCreateCubicBezier",["WebBloksAnimationFunctions"],(function(t,n,r,o,a,i,l){function e(e,t,n,r,a){return o("WebBloksAnimationFunctions").cubicBezier(t,n,r,a)}l.default=e}),98);
__d("WebBloksAnimatedCreateDimension",["WebBloksAnimationFunctions","WebBloksAnimationValue","WebBloksDimensionUtils","WebBloksErrors","WebBloksUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,r,a,i,l){var s,u=o("WebBloksDimensionUtils").parseDimension(r);if(!u)throw new(o("WebBloksErrors")).WebBloksError("Failed to parse dimension ("+r+")");var c=u.type,d=u.value,m=(s=o("WebBloksDimensionUtils").parseDimension(a))==null?void 0:s.value;if(m==null)throw new(o("WebBloksErrors")).WebBloksError("Failed to parse dimension ("+a+")");var p=new(o("WebBloksAnimationValue")).WebBloksAnimationValue({id:""+o("WebBloksUtils").getNextGlobalBloksClientId(),animation:{style:"transform",from:d,to:m,format:function(t){return o("WebBloksUtils").toPx(String(t)+c)},duration:i*1e3,interpolator:l!=null?l:o("WebBloksAnimationFunctions").linearInterpolator()},animatedValue:null});return p.addUpdateListener(function(){t(e,p)}),n&&p.addOnCompleteListener(function(t){return n==null?void 0:n(e,p,t,e.bloksContext)}),p}l.default=e}),98);
__d("WebBloksAnimatedDestroy",["WebBloksAnimatedUtils"],(function(t,n,r,o,a,i,l){function e(e,t){o("WebBloksAnimatedUtils").deleteAnimationWithToken(e,t)}l.default=e}),98);
__d("WebBloksAnimatedGetCurrentColorValue",["WebBloksAnimationValue"],(function(t,n,r,o,a,i,l){function e(e,t){if(t instanceof o("WebBloksAnimationValue").WebBloksAnimationValue)return String(t.animatedValue)}l.default=e}),98);
__d("WebBloksAnimatedGetCurrentDimensionValue",["WebBloksAnimationValue"],(function(t,n,r,o,a,i,l){function e(e,t){if(t instanceof o("WebBloksAnimationValue").WebBloksAnimationValue)return String(t.animatedValue)}l.default=e}),98);
__d("WebBloksAnimatedGetCurrentPlayTime",["WebBloksAnimatedUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("WebBloksAnimatedUtils").getAnimationWithToken(e,t);if(n!=null){var r=n.getCurrentTime(),a=r/1e3;return a}return 0}l.default=e}),98);
__d("WebBloksAnimatedGetCurrentValue",["WebBloksAnimationValue"],(function(t,n,r,o,a,i,l){function e(e,t){if(t instanceof o("WebBloksAnimationValue").WebBloksAnimationValue)return parseFloat(t.animatedValue)}l.default=e}),98);
__d("WebBloksAnimatedGetTotalDuration",["WebBloksAnimatedUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WebBloksAnimatedUtils").getAnimationWithToken(e,t);if(n!=null){var r=n.getTotalDuration(),a=r/1e3;return a}}l.default=e}),98);
__d("WebBloksAnimatedIsInitialized",["WebBloksAnimatedUtils"],(function(t,n,r,o,a,i,l){function e(e,t){return o("WebBloksAnimatedUtils").hasAnimationWithToken(e,t)}l.default=e}),98);
__d("WebBloksAnimationsLoopSet",["WebBloksAnimationsSet"],(function(t,n,r,o,a,i,l){var e=["limit"],s=(function(t){function n(n){var r,o=n.limit,a=babelHelpers.objectWithoutPropertiesLoose(n,e);return r=t.call(this,a)||this,r.limit=1/0,r.limit=o||1/0,r}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.getTotalDuration=function(){if(this.limit===1/0)return 1/0;var e=this.animations.reduce(function(e,t){return e+t.getTotalDuration()},0);return e*this.limit+this.startDelay},r.getComputedTimes=function(){var e=this.startDelay,t=[],n=this.animations[0];if(this.limit===1/0)return n.isInfinite=!0,[[e,n]];for(var r=0;r<this.limit;r++)t.push([e,n]),e+=n.getTotalDuration();return t},n})(o("WebBloksAnimationsSet").WebBloksAnimationsSet);l.WebBloksAnimationsLoopSet=s}),98);
__d("WebBloksAnimatedLoop",["WebBloksAnimationsLoopSet"],(function(t,n,r,o,a,i,l){function e(e,t,n){var r=new(o("WebBloksAnimationsLoopSet")).WebBloksAnimationsLoopSet({limit:t<0?1/0:t,animations:[n]});return r}l.default=e}),98);
__d("WebBloksAnimationsParallelSet",["WebBloksAnimationsSet"],(function(t,n,r,o,a,i,l){var e=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getTotalDuration=function(){var e=Math.max.apply(Math,this.animations.map(function(e){return e.getTotalDuration()}));return e+this.startDelay},n.getComputedTimes=function(){var e=[];for(var t of this.animations)t.isInfinite=this.isInfinite,e.push([this.startDelay,t]);return e},t})(o("WebBloksAnimationsSet").WebBloksAnimationsSet);l.WebBloksAnimationsParallelSet=e}),98);
__d("WebBloksAnimatedParallel",["WebBloksAnimationsParallelSet"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){var a=new(o("WebBloksAnimationsParallelSet")).WebBloksAnimationsParallelSet({animations:r,startDelay:n*1e3});return t&&a.addOnCompleteListener(function(n){return t==null?void 0:t(e,a,n,e.bloksContext)}),a}l.default=e}),98);
__d("WebBloksAnimatedPause",["WebBloksAnimatedUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("WebBloksAnimatedUtils").getAnimationWithToken(e,t);if(n!=null&&!n.isCancelled){var r=n.isPaused;return n.pause(),!r&&n.isPaused}return!1}l.default=e}),98);
__d("WebBloksAnimatedResume",["WebBloksAnimatedUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("WebBloksAnimatedUtils").getAnimationWithToken(e,t);if(n!=null&&!n.isCancelled){var r=n.isPaused;return n.resume(),r&&!n.isPaused}return!1}l.default=e}),98);
__d("WebBloksAnimationsSequenceSet",["WebBloksAnimationsSet"],(function(t,n,r,o,a,i,l){var e=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getTotalDuration=function(){var e=this.animations.reduce(function(e,t){return e+t.getTotalDuration()},0);return e+this.startDelay},n.getComputedTimes=function(){var e=this.startDelay,t=[];for(var n of this.animations)n.isInfinite=this.isInfinite,t.push([e,n]),e+=n.getTotalDuration();return t},t})(o("WebBloksAnimationsSet").WebBloksAnimationsSet);l.WebBloksAnimationsSequenceSet=e}),98);
__d("WebBloksAnimatedSequence",["WebBloksAnimationsSequenceSet"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){var a=new(o("WebBloksAnimationsSequenceSet")).WebBloksAnimationsSequenceSet({animations:t,startDelay:r*1e3});return n&&a.addOnCompleteListener(function(t){return n==null?void 0:n(e,a,t,e.bloksContext)}),a}l.default=e}),98);
__d("WebBloksAnimatedSetCurrentPlayTime",["WebBloksAnimatedUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=o("WebBloksAnimatedUtils").getAnimationWithToken(e,t);if(r!=null&&n!=null){var a=n*1e3;r.setCurrentTime(a)}}l.default=e}),98);
__d("WebBloksAnimationsStaggerSet",["WebBloksAnimationsSet"],(function(t,n,r,o,a,i,l){var e=["delay"],s=(function(t){function n(n){var r,o=n.delay,a=babelHelpers.objectWithoutPropertiesLoose(n,e);return r=t.call(this,a)||this,r.delay=0,r.delay=o,r}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.getTotalDuration=function(){var e=this,t=this.animations.map(function(t,n){return t.getTotalDuration()+n*e.delay}),n=Math.max.apply(Math,t);return n+this.startDelay},r.getComputedTimes=function(){var e=this.startDelay,t=[];for(var n of this.animations)n.isInfinite=this.isInfinite,t.push([e,n]),e+=this.delay;return t},n})(o("WebBloksAnimationsSet").WebBloksAnimationsSet);l.WebBloksAnimationsStaggerSet=s}),98);
__d("WebBloksAnimatedStagger",["WebBloksAnimationsStaggerSet"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=new(o("WebBloksAnimationsStaggerSet")).WebBloksAnimationsStaggerSet({animations:n,delay:t*1e3});return r}l.default=e}),98);
__d("WebBloksAnimatedStart",["WebBloksAnimatedUtils","WebBloksAnimationsTimeline","webBloksPerformanceUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=e.bloksContext.loggingIDForInternalFrameworkUseOnly,r={detail:{loggingID:n}};if(t instanceof o("WebBloksAnimationsTimeline").WebBloksAnimationsTimeline)t.play(),r.detail=babelHelpers.extends({},r.detail,{animationID:t.getID()});else{var a=new(o("WebBloksAnimationsTimeline")).WebBloksAnimationsTimeline(t),i=o("WebBloksAnimatedUtils").getIDTokenForLegacyAnimation(t);a.setID(i),r.detail=babelHelpers.extends({},r.detail,{animationID:a.getID()}),o("WebBloksAnimatedUtils").associateAnimationWithToken(e,i,a,!1),o("WebBloksAnimatedUtils").startAnimationWithToken(e,i)}o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-start",r);var l=function(){o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-end",r),t==null||t.removeOnCompleteListener(l)};t==null||t.addOnCompleteListener(l)}l.default=e}),98);
__d("WebBloksAnimatedStartToken",["WebBloksAnimatedUtils","webBloksPerformanceUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WebBloksAnimatedUtils").getAnimationWithToken(e,t);n!=null&&n.setID(t),o("WebBloksAnimatedUtils").startAnimationWithToken(e,t);var r=e.bloksContext.loggingIDForInternalFrameworkUseOnly,a={detail:{animationID:t,loggingID:r}};o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-start",a);var i=function(){o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-end",a),n==null||n.removeOnCompleteListener(i)};n==null||n.addOnCompleteListener(i)}l.default=e}),98);
__d("WebBloksCollectionScrollToIndexById",["WebBloksCollectionScrollTo"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){if(t.uiMutableContainer.domNode){var r=n.getValues(),a=r.animated,i=r.target_id,l=t.getSubNodes("children");if(!(l==null||l.length===0)){for(var s=0;s<l.length;s++)if(l[s].getId()===i){o("WebBloksCollectionScrollTo").scrollWebBloksCollectionToIndex(t,{index:s,isAnimated:a});break}}}}l.default=e}),98);
__d("WebBloksCollectionSetIndex",["WebBloksCollectionScrollTo"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){t.uiMutableContainer.domNode&&o("WebBloksCollectionScrollTo").scrollWebBloksCollectionToIndex(t,{index:n,isAnimated:r})}l.default=e}),98);
__d("WebBloksScreenClose",["WebBloksBooleanUtils","WebBloksErrors"],(function(t,n,r,o,a,i,l){function e(e,t){var n=t.getValues(),r=n.is_inclusive,a=n.screen_id,i=n.type;if(i==null)throw new(o("WebBloksErrors")).WebBloksError("WebBloksScreenCloseType must be provided to close a screen");e.objectSet.navigationManager.close(i,a!=null?a:void 0,r!=null?o("WebBloksBooleanUtils").isTrue(r):void 0)}l.default=e}),98);
__d("WebBloksScreenOpen",["WebBloksContainerConfig","WebBloksErrors","WebBloksPayloadParser","WebBloksScreen","webBloksPerformanceUtils"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){var a=e.bloksContext.objectSet.environment,i=a.navigationTrackingUtils,l=a.screenQueryTemplate,s=a.traversalKeys;if(l==null)throw new(o("WebBloksErrors")).WebBloksError("Missing screen query template when calling bk.action.screen.Open");var u=t.get("props"),c=u.__infra__app_id,d=u.__infra__screen_id,m=o("WebBloksContainerConfig").getContainerConfig(e.bloksContext,n),p={initialContainer:{model:n,config:m},screenId:d!=null?String(d):void 0};o("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-ttrc-start"),i==null||i.startNavigationCallback(String(c));var _=o("WebBloksPayloadParser").parseTree(l,s),f=o("WebBloksScreen").WebBloksScreen.fromBloksParseResult(e.bloksContext.objectSet,_,p,u,t.get("url_relative_path"));e.objectSet.navigationManager.open(f,r)}l.default=e}),98);
__d("WebBloksTooltipConstants",[],(function(t,n,r,o,a,i){var e=!1;i.ANIMATE_TOOLTIP_ON_ENTRY_AND_EXIT=e}),66);
__d("WebBloksTooltipHide",["WebBloksConstants","WebBloksTooltipConstants"],(function(t,n,r,o,a,i,l){function e(e,t){var n=t.getExpression("on_visibility_update");if(e.bloksContext.updateAssociatedObject_INTERNAL(t,o("WebBloksConstants").TOOLTIP_VISIBILITY_ASSOCIATED_OBJECT,{visible:!1}),n!=null){var r=e.createBloksModelScopedContext(t.keyPath);r.executeCatch(n.getValue(),[!1,o("WebBloksTooltipConstants").ANIMATE_TOOLTIP_ON_ENTRY_AND_EXIT])}}l.default=e}),98);
__d("WebBloksTooltipShow",["WebBloksConstants","WebBloksTooltipConstants"],(function(t,n,r,o,a,i,l){function e(e,t){var n=t.getExpression("on_visibility_update");if(e.bloksContext.updateAssociatedObject_INTERNAL(t,o("WebBloksConstants").TOOLTIP_VISIBILITY_ASSOCIATED_OBJECT,{visible:!0}),n!=null){var r=e.createBloksModelScopedContext(t.keyPath);r.executeCatch(n.getValue(),[!0,o("WebBloksTooltipConstants").ANIMATE_TOOLTIP_ON_ENTRY_AND_EXIT])}}l.default=e}),98);
__d("StdlibWebBloksActions",["WebBloksAnimatedAddOnCompleteListener","WebBloksAnimatedBuild","WebBloksAnimatedCancel","WebBloksAnimatedCancelToken","WebBloksAnimatedCreate","WebBloksAnimatedCreateColor","WebBloksAnimatedCreateCubicBezier","WebBloksAnimatedCreateDimension","WebBloksAnimatedDestroy","WebBloksAnimatedGetCurrentColorValue","WebBloksAnimatedGetCurrentDimensionValue","WebBloksAnimatedGetCurrentPlayTime","WebBloksAnimatedGetCurrentValue","WebBloksAnimatedGetTotalDuration","WebBloksAnimatedIsInitialized","WebBloksAnimatedLoop","WebBloksAnimatedParallel","WebBloksAnimatedPause","WebBloksAnimatedResume","WebBloksAnimatedSequence","WebBloksAnimatedSetCurrentPlayTime","WebBloksAnimatedStagger","WebBloksAnimatedStart","WebBloksAnimatedStartToken","WebBloksCollectionScrollToIndexById","WebBloksCollectionSetIndex","WebBloksDummy","WebBloksScreenClose","WebBloksScreenOpen","WebBloksTooltipHide","WebBloksTooltipShow"],(function(t,n,r,o,a,i,l){var e={"bk.action.animated.AddOnCompleteListener":r("WebBloksAnimatedAddOnCompleteListener"),"bk.action.animated.Build":r("WebBloksAnimatedBuild"),"bk.action.animated.Cancel":r("WebBloksAnimatedCancel"),"bk.action.animated.CancelToken":r("WebBloksAnimatedCancelToken"),"bk.action.animated.CancelWithToken":r("WebBloksDummy"),"bk.action.animated.Create":r("WebBloksAnimatedCreate"),"bk.action.animated.CreateColor":r("WebBloksAnimatedCreateColor"),"bk.action.animated.CreateDimension":r("WebBloksAnimatedCreateDimension"),"bk.action.animated.Destroy":r("WebBloksAnimatedDestroy"),"bk.action.animated.GetCurrentColorValue":r("WebBloksAnimatedGetCurrentColorValue"),"bk.action.animated.GetCurrentDimensionValue":r("WebBloksAnimatedGetCurrentDimensionValue"),"bk.action.animated.GetCurrentPlayTime":r("WebBloksAnimatedGetCurrentPlayTime"),"bk.action.animated.GetCurrentValue":r("WebBloksAnimatedGetCurrentValue"),"bk.action.animated.GetTotalDuration":r("WebBloksAnimatedGetTotalDuration"),"bk.action.animated.IsInitialized":r("WebBloksAnimatedIsInitialized"),"bk.action.animated.Loop":r("WebBloksAnimatedLoop"),"bk.action.animated.Parallel":r("WebBloksAnimatedParallel"),"bk.action.animated.Pause":r("WebBloksAnimatedPause"),"bk.action.animated.Resume":r("WebBloksAnimatedResume"),"bk.action.animated.Sequence":r("WebBloksAnimatedSequence"),"bk.action.animated.SetCurrentPlayTime":r("WebBloksAnimatedSetCurrentPlayTime"),"bk.action.animated.Stagger":r("WebBloksAnimatedStagger"),"bk.action.animated.Start":r("WebBloksAnimatedStart"),"bk.action.animated.StartToken":r("WebBloksAnimatedStartToken"),"bk.action.animated.StartWithToken":r("WebBloksDummy"),"bk.action.animated.easing.CreateCubicBezier":r("WebBloksAnimatedCreateCubicBezier"),"bk.action.collection.ScrollToIndexById":r("WebBloksCollectionScrollToIndexById"),"bk.action.collection.SetIndex":r("WebBloksCollectionSetIndex"),"bk.action.screen.Close":r("WebBloksScreenClose"),"bk.action.screen.Open":r("WebBloksScreenOpen"),"bk.action.tooltip.Hide":r("WebBloksTooltipHide"),"bk.action.tooltip.Show":r("WebBloksTooltipShow")};l.ACTIONS=e}),98);
__d("WebBloksRichTextResizeToFit",["WebBloksRichTextContext","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useContext,m=u.useLayoutEffect,p=u.useRef,_=u.useState,f=12,g=128;function h(e){var t=e.children,n=e.node,o=p(null),a=p(null),i=p(null),l=d(r("WebBloksRichTextContext")),u=l.maxNumberOfLines,h=n.get("styles"),b=C(h),v=b.maxFontSize,S=b.minFontSize,R=_(function(){return y(f,g)}),L=R[0],E=R[1],k=c(function(){var e=L.min,t=L.max;function n(){var e,t,n=(e=o==null||(t=o.current)==null?void 0:t.offsetHeight)!=null?e:0,r=window.getComputedStyle(o==null?void 0:o.current).getPropertyValue("line-height");return Math.floor(n/parseInt(r,10))}var r=n()<=u,a=Math.floor((e+t)/2);r?e=L.mid+1:t=L.mid-1,E(function(n){return babelHelpers.extends({},n,{mid:a,max:t,min:e})})},[u,L.max,L.mid,L.min]);return m(function(){return k()},[k,u,L.max,L.mid,L.min]),m(function(){i.current!==u&&(i.current=u,E(function(){return y(S-1,v)}))},[v,u,S]),m(function(){var e=o.current;if(e!=null){var t=new ResizeObserver(function(){window.clearTimeout(a.current),a.current=window.setTimeout(function(){E(function(){return y(S,v)})},100)});return t.observe(e),function(){t.unobserve(e),window.clearTimeout(a.current)}}},[v,S]),s.jsx("span",{ref:o,style:{fontSize:L.mid+"px",display:"inline-block"},children:t})}h.displayName=h.name+" [from "+i.id+"]";function y(e,t){return{min:e,max:t,mid:Math.floor(t/2)}}function C(e){var t=g,n=f;if(e!=null)for(var r of e)switch(r==null?void 0:r.styleId){case"bk.style.textspan.ResizeToFitStyle":{var a=r.get("min_text_size");a!=null&&(n=parseFloat(o("WebBloksUtils").toPx(a)));var i=r.get("max_text_size");i!=null&&(t=parseFloat(o("WebBloksUtils").toPx(i)))}}return{maxFontSize:t,minFontSize:n}}l.default=h}),98);
__d("WebBloksDataComposableTextSpan",["WebBloksComponentContext","WebBloksDataTextSpanUtils","WebBloksRichTextContext","WebBloksRichTextResizeToFit","WebBloksStyle","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useEffect,m=u.useMemo;function p(e){var t,n=e.externalStyle,a=e.node,i=a.get("styles"),l=o("WebBloksStyle").useStyle(a,n),u=l.wrapper,p=o("WebBloksComponentContext").useWebBloksContext(),_=p.renderNode,f=c(r("WebBloksRichTextContext")),g=f.isRootFontSizeEnabled,h=f.setIsRootFontSizeEnabled,y=o("WebBloksDataTextSpanUtils").useWebBloksBaseTextSpanProps(a,n),C=(t=a.getSubNodes("spans"))==null?void 0:t.map(function(e){return _(e)}),b=m(function(){var e;return(e=i==null?void 0:i.some(function(e){return e.styleId==="bk.style.textspan.ResizeToFitStyle"}))!=null?e:!1},[i]);return d(function(){!g&&b&&h(!0)},[b,g,h]),u(b?s.jsx(r("WebBloksRichTextResizeToFit"),{node:a,children:s.jsx("span",babelHelpers.extends({},y,{children:C}))}):s.jsx("span",babelHelpers.extends({},y,{children:C})))}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("WebBloksDataImageSpan",["WebBloksImageSpan","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react"));function u(e){var t=e.externalStyle,n=e.node;return s.jsx(r("WebBloksImageSpan"),{node:n,externalStyle:t})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("WebBloksDataTextSpan",["WebBloksComponentContext","WebBloksDataTextSpanUtils","WebBloksStyle","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react"));function u(e){var t=e.externalStyle,n=e.node,r=n.get("text_provider"),a=o("WebBloksStyle").useStyle(n,t),i=a.wrapper,l=o("WebBloksComponentContext").useWebBloksContext(),u=l.renderNode,c=r!=null?u(r):n.get("text"),d=o("WebBloksDataTextSpanUtils").useWebBloksBaseTextSpanProps(n,t);return i(s.jsx("span",babelHelpers.extends({},d,{children:c})))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("WebBloksScreenQueryScreenWrapper",["WebBloksComponentContext","WebBloksStyle","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=e.node,n=o("WebBloksComponentContext").useWebBloksContext(),r=n.bloksContext,a=n.executeOnNextTickCatch,i=n.renderNode,l=t.getValues(),c=l.container_config,m=l.content,p=l.navigation_callbacks,_=i(m),f=p==null?void 0:p.getExpression("on_enter"),g=p==null?void 0:p.get("on_exit");return u(function(){if(c!=null){var e=r.objectSet.navigationManager.getCurrentScreen();e==null||e.setContainerConfigModel(r,c)}},[r,c]),u(function(){if(f!=null){var e=r.objectSet.navigationManager.getCurrentScreen(),n=r.objectSet.navigationManager.getNavigationDirection();a(t,f,[r,n]),e==null||e.setOnExitCallback(g)}},[]),s.jsx("div",{"data-bloks-name":t.styleId,className:d.root,children:_})}c.displayName=c.name+" [from "+i.id+"]";var d=o("WebBloksStyle").createStyles({root:{height:"100%",width:"100%",display:"flex",flexDirection:"column"}});l.default=c}),98);
__d("WebBloksIconSpinner",["WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react"));function u(e){var t=e.color,n="20",r=o("WebBloksTheme").useTheme().getTheme(),a=t?o("WebBloksUtils").getRGBColorWithTheme(t,r):o("WebBloksTheme").WebBloksThemeVars["fig-blue-tint-10"];return s.jsx("div",{className:m.loader,"data-visualcompletion":"loading-state",children:s.jsxs("svg",{className:o("WebBloksStyle").classNames(m.iconSpinnerCircular,m.iconSpinnerRotating,m.iconSpinnerStroke),viewBox:"25 25 50 50",children:[s.jsx("title",{children:"Spinner"}),s.jsx("circle",{cx:"50",cy:"50",r:n,fill:"none",stroke:o("WebBloksTheme").WebBloksThemeVars["fig-blue-tint-90"]}),s.jsx("circle",{className:o("WebBloksStyle").classNames(m.iconSpinnerPath,m.iconSpinnerStroke),cx:"50",cy:"50",r:n,fill:"none",stroke:a})]})})}u.displayName=u.name+" [from "+i.id+"]";var c=o("WebBloksStyle").keyframes({"100%":{transform:"rotate(360deg)"}}),d=o("WebBloksStyle").keyframes({"0%":{strokeDasharray:"1, 200",strokeDashoffset:"0"},"50%":{strokeDasharray:"200, 200",strokeDashoffset:"0px"},"75%,100%":{strokeDasharray:"89, 200",strokeDashoffset:"-125px"}}),m=o("WebBloksStyle").createStyles({loader:function(t){var e;return e={},e[t]={margin:0,position:"relative",width:65},e[t+"::before"]={content:"''",display:"block",paddingTop:"100%"},e},iconSpinnerCircular:{bottom:0,height:"100%",left:0,margin:"auto",position:"absolute",right:0,top:0,transformOrigin:"center center",width:"100%"},iconSpinnerRotating:{animation:c+" 3s linear infinite"},iconSpinnerPath:{animation:d+" 2s ease-in-out infinite",strokeDasharray:"1, 200",strokeDashoffset:"0",strokeLinecap:"round"},iconSpinnerStroke:{strokeMiterlimit:"10",strokeWidth:"1.5"}});l.default=u}),98);
__d("WebBloksSpinner",["WebBloksIconSpinner","WebBloksStyle","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react"));function u(e){var t=e.externalStyle,n=e.node,a=o("WebBloksStyle").useStyle(n,t),i=a.style,l=a.wrapper,u=a.wrapperProps;return l(s.jsx("div",babelHelpers.extends({},u,o("WebBloksStyle").getStyleProps(i),{children:s.jsx(r("WebBloksIconSpinner"),{color:n.get("color")})})))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("WebBloksPortal",["ReactDOM","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react"));function u(e){var t=e.children,n=e.target,r=n===void 0?document.body:n;if(r!=null)return o("ReactDOM").createPortal(t,r)}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("WebBloksTooltipUtils",["react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=s.useLayoutEffect,c=s.useState;function d(e,t){var n=c({left:0,top:0,transform:""}),r=n[0],o=n[1];return u(function(){var n,r,a=(n=document.documentElement)==null?void 0:n.getBoundingClientRect(),i=e==null||(r=e.current)==null?void 0:r.getBoundingClientRect();if(!(a==null||i==null)){var l=i.x+i.width/2,s=t==="top"?i.y-a.y:i.y-a.y+i.height,u="translate(-50%, "+(t==="top"?"-100%":"0%")+")";o({left:l,top:s,transform:u})}},[e,t]),r}function m(e,t,n){var r=c("center"),o=r[0],a=r[1],i=c(t),l=i[0],s=i[1];return u(function(){var r,o,i=(r=document.documentElement)==null?void 0:r.getBoundingClientRect(),l=e==null||(o=e.current)==null?void 0:o.getBoundingClientRect();if(!(i==null||l==null)){if(n==="shark-fin"){var u=i.x+i.width/2,c=l.x+l.width/2;c>u?a("right"):a("left")}if(t==null){var d=i.y+i.height/2,m=l.y+l.height/2;m>d?s("top"):s("bottom")}}},[n,t,e]),[o,l]}function p(e){return Math.sqrt(Math.pow(e,2)+Math.pow(e,2))}var _=12,f=p(_);function g(e){return e==null?null:{top:{bottom:"100%"},bottom:{top:"100%"}}[e]}function h(e){return{bottom:"0,100 50,"+e+" 100,100",top:"0,0 50,"+(100-e)+" 100,0"}}function y(e){return{left:{bottom:e+",100 "+e+","+e+" 100,100",top:e+",0 "+e+","+(100-e)+" 100,0"},right:{bottom:"0,100 "+(100-e)+","+e+" "+(100-e)+",100",top:"0,0 "+(100-e)+","+(100-e)+" "+(100-e)+",0"}}}function C(e,t,n,r){return t==null?null:n==="shark-fin"&&e!=="center"?y(r)[e][t]:h(r)[t]}l.useCalculatePositionStyle=d,l.useCalculatePosition=m,l.calculateHypotenuseFromEqualSides=p,l.ARROW_SIZE=_,l.TOOLTIP_HYPOTENUSE=f,l.getPositionStyle=g,l.getDefaultPolyLines=h,l.getSharkFinPolyLines=y,l.getArrowPolyLinePoints=C}),98);
__d("useWebBloksAccessibilityModule",["WebBloksEnvironmentContext"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("WebBloksEnvironmentContext").useWebBloksEnvironment(),t=e.accessibilityModule;return t}l.default=e}),98);
__d("WebBloksTooltip",["WebBloksComponentContext","WebBloksDecoration","WebBloksPortal","WebBloksStyle","WebBloksTheme","WebBloksTooltipUtils","WebBloksUtils","react","useWebBloksAccessibilityModule"],(function(t,n,r,o,a,i,l){var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.useCallback,m=u.useMemo,p=u.useRef,_=o("WebBloksStyle").createStyles({root:{position:"absolute",zIndex:9999},anchor:{position:"absolute",height:"100%",width:"100%"},contentWrapper:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},content:{display:"inline-block"},arrow:{height:o("WebBloksTooltipUtils").ARROW_SIZE,width:o("WebBloksTooltipUtils").TOOLTIP_HYPOTENUSE,zIndex:1},arrowDropShadow:{zIndex:-1,position:"absolute"}});function f(e){var t=e.ref,n=e.externalStyle,a=e.node,i=o("WebBloksComponentContext").useWebBloksContext(),l=i.renderNode,s=l(a.getSubNode("child")),u=a.getValues(),f=a.get("decoration"),g=o("WebBloksStyle").useStyle(a,n),h=g.ref,y=g.wrapperProps,C=r("WebBloksDecoration")(u,h),b=r("useWebBloksAccessibilityModule")(),v=b.FocusRegion,S=p(null),R=a==null?void 0:a.get("arrow_type"),L=o("WebBloksTooltipUtils").useCalculatePosition(S,a.get("position"),R),E=L[0],k=L[1],I=o("WebBloksTooltipUtils").useCalculatePositionStyle(S,k),T=o("WebBloksUtils").toPx(a.get("width")),D=o("WebBloksUtils").toPx(a.get("height")),x=o("WebBloksUtils").toPx(a.get("offset_horizontal")),$=o("WebBloksUtils").toPx(a.get("offset_vertical")),P=m(function(){var e=babelHelpers.extends({},I),t=parseFloat(x);R==="shark-fin"&&t>0?e.marginLeft=t+o("WebBloksTooltipUtils").ARROW_SIZE/2:R==="shark-fin"?e.marginLeft=o("WebBloksTooltipUtils").ARROW_SIZE/2:t>0&&(e.marginLeft=t);var n=parseFloat($);return n>0&&(k==="top"?e.marginBottom=n:k==="bottom"&&(e.marginTop=n)),e},[R,x,$,I,k]),N=m(function(){var e={};return k==="bottom"&&(e.flexDirection="column-reverse"),e},[k]),M=o("WebBloksUtils").toPx(f==null?void 0:f.get("border_width")),w=parseFloat(M),A=a.get("margin"),F=o("WebBloksUtils").toPx(A==null?void 0:A.get("start")),O=o("WebBloksUtils").toPx(A==null?void 0:A.get("end")),B=m(function(){var e=babelHelpers.extends({},C);return parseFloat(T)>0&&(e.width=T),parseFloat(D)>0&&(e.height=D),R==="none"?(e.marginTop=o("WebBloksTooltipUtils").ARROW_SIZE,e.marginBottom=o("WebBloksTooltipUtils").ARROW_SIZE):(e.marginTop=-w,e.marginBottom=-w),F!=null&&(e.marginLeft=F),O!=null&&(e.marginRight=O),e},[R,w,C,D,O,F,T]),W=o("WebBloksTheme").useTheme().getTheme(),q=R!=null&&R!=="none",U=m(function(){var e=f==null?void 0:f.get("border_color"),t=f==null?void 0:f.get("border_themed_color");return t!=null?o("WebBloksUtils").getRGBColorWithTheme(t,W):e!=null?o("WebBloksUtils").convertRGBArrToString(o("WebBloksUtils").convertRGBOrHexStringToArr(e)):null},[f,W]),V=m(function(){return w*(100/16)},[w]),H=o("WebBloksTooltipUtils").getArrowPolyLinePoints(E,k,R,V),G=C.boxShadow!=null,z=m(function(){var e={};return G&&(C.boxShadow!=null&&(e.filter="drop-shadow("+C.boxShadow+")"),k==="top"?e.bottom=0:k==="bottom"&&(e.top=0)),e},[C.boxShadow,G,k]),j=d(function(e){return e.stopPropagation()},[]),K=c.jsx("div",babelHelpers.extends({},y,{className:_.root,style:P,onScroll:j,children:c.jsxs("span",{className:_.contentWrapper,style:N,children:[q&&C.boxShadow!=null?c.jsxs("svg",{label:"",preserveAspectRatio:"none",className:o("WebBloksStyle").classNames(_.arrow,_.arrowDropShadow),style:z,viewBox:"0 0 100 100",children:[c.jsx("title",{children:"Arrow drop shadow"}),c.jsx("polygon",{points:H})]}):null,c.jsx("span",{style:B,className:_.content,children:c.jsx(v,{children:s})}),q?c.jsxs("svg",{label:"",preserveAspectRatio:"none",className:_.arrow,viewBox:"0 0 100 100",children:[c.jsx("title",{children:"Arrow pointing to tooltip"}),c.jsx("polyline",{points:H,strokeWidth:V,stroke:U,fill:B==null?void 0:B.background})]}):null]})}));return c.jsxs(c.Fragment,{children:[c.jsx("span",{ref:S,className:_.anchor}),c.jsx(r("WebBloksPortal"),{target:t==null?void 0:t.current,children:K})]})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("WebBloksTooltipContainer",["WebBloksComponentContext","WebBloksConstants","WebBloksSSRUtils","WebBloksStyle","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useLayoutEffect,m=o("WebBloksStyle").createStyles({root:{alignSelf:"stretch",position:"relative",display:"flex",zIndex:99}});function p(e){var t=e.node,n=o("WebBloksStyle").useStyle(t),r=n.wrapper,a=n.wrapperProps,i=o("WebBloksComponentContext").useWebBloksContext(),l=i.bloksContext,u=i.executeCatch,p=i.renderNode,_=!!t.get("tooltip_visibility"),f=t.getExpression("on_visibility_update"),g=t.getExpression("on_touch_outside"),h=p(t.getSubNode("tooltip")),y=p(t.getSubNode("child"));l.initAssociatedObject_INTERNAL(t,o("WebBloksConstants").TOOLTIP_VISIBILITY_ASSOCIATED_OBJECT,{visible:_});var C=c(function(){f!=null&&u(t,f,[t,!1]),g!=null&&u(t,g,[t,!1]),l.updateAssociatedObject_INTERNAL(t,o("WebBloksConstants").TOOLTIP_VISIBILITY_ASSOCIATED_OBJECT,{visible:!1})},[u,t,g,f,l]),b=l.getAssociatedObject_INTERNAL(t,o("WebBloksConstants").TOOLTIP_VISIBILITY_ASSOCIATED_OBJECT);d(function(){if(!(!o("WebBloksSSRUtils").canUseDOM||!b)){var e=document.documentElement;return e.addEventListener("click",C,{passive:!0,once:!0}),function(){e.removeEventListener("click",C)}}},[b,C]),d(function(){if(!(!o("WebBloksSSRUtils").canUseDOM||!b)){var e=document.documentElement;return e.addEventListener("scroll",C,{passive:!0,once:!0}),function(){e.removeEventListener("scroll",C)}}},[b,C]);var v=c(function(e){e.key==="Escape"&&(e.stopPropagation(),C())},[C]);return r(s.jsxs("div",babelHelpers.extends({},a,{className:m.root,onKeyPress:v,children:[b!=null&&b.visible?h:null,y]})))}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("StdlibWebBloksComponents",["WebBloksDataComposableTextSpan","WebBloksDataImageSpan","WebBloksDataTextSpan","WebBloksScreenQueryScreenWrapper","WebBloksSpinner","WebBloksTooltip","WebBloksTooltipContainer"],(function(t,n,r,o,a,i,l){var e={"bk.components.Spinner":r("WebBloksSpinner"),"bk.components.Tooltip":r("WebBloksTooltip"),"bk.components.TooltipContainer":r("WebBloksTooltipContainer"),"bk.components.screen.ScreenWrapper":r("WebBloksScreenQueryScreenWrapper"),"bk.data.ComposableTextSpan":r("WebBloksDataComposableTextSpan"),"bk.data.ImageSpan":r("WebBloksDataImageSpan"),"bk.data.TextSpan":r("WebBloksDataTextSpan")};l.COMPONENTS=e}),98);
__d("stdlibTraversalKeys",[],(function(t,n,r,o,a,i){var e={"bk.components.Tooltip":{subnodes:["_style","margin","child","decoration"],plural_subnodes:["extensions","child_templates"]},"bk.components.TooltipContainer":{subnodes:["_style","tooltip","child"],plural_subnodes:["extensions","child_templates"]},"bk.components.screen.ScreenWrapper":{subnodes:["_style","content","container_config","navigation_callbacks"],plural_subnodes:["extensions","child_templates"]},"bk.data.ComposableTextSpan":{plural_subnodes:["styles","spans","child_templates"]},"bk.data.ImageSpan":{subnodes:["image_component","image_margin"],plural_subnodes:["styles","child_templates"]},"bk.data.TextSpan":{subnodes:["text_provider"],plural_subnodes:["styles","child_templates"]},"bk.data.screen.CloseParams":{subnodes:["container_options"],plural_subnodes:["child_templates"]},"bk.data.screen.ScreenConfig":{subnodes:["prebundled_template"],plural_subnodes:["child_templates"]},"bk.AnyComponent":{subnodes:["style"],plural_subnodes:["extensions","child_templates"]},"bk.components.BoxDecoration":{subnodes:["background","foreground","corner_fill_themed_color","border_themed_color","shadow_themed_color","contrib","spot_shadow_color","ambient_shadow_color"],plural_subnodes:["child_templates"]},"bk.components.Image":{subnodes:["_style","color_filter","contrib","progress_ring_color","focus_point","placeholder_color"],plural_subnodes:["extensions","child_templates"]}},l=e;i.default=l}),66);
__d("StdlibWebBloksEnvironmentConfigDynamic",["StdlibWebBloksActions","stdlibTraversalKeys"],(function(t,n,r,o,a,i,l){var e={actions:o("StdlibWebBloksActions").ACTIONS,traversalKeys:r("stdlibTraversalKeys")};l.STDLIB_ENVIRONMENT_CONFIG=e}),98);
__d("WebBloksErrorRenderer",["WebBloksTheme","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react"));function u(e){var t=e.error;return s.jsxs("div",{style:{backgroundColor:o("WebBloksTheme").WebBloksThemeVars["error-or-destructive"],borderRadius:8,display:"flex",flexDirection:"column",margin:16,overflow:"hidden",padding:16,width:"100%",minHeight:400,minWidth:200,boxSizing:"border-box"},children:[s.jsxs("div",{style:{color:"white",fontWeight:"bolder",justifyContent:"center"},children:["[fb-only] WebBloks Render error ",t.name,": ",t.message]}),s.jsx("div",{style:{color:"white",fontWeight:"bolder",justifyContent:"center",fontSize:"75%"},children:"this will throw in production"}),s.jsx("pre",{style:{backgroundColor:o("WebBloksTheme").WebBloksThemeVars["primary-bg"],borderRadius:4,flexGrow:1,fontFamily:"monospace",marginTop:16,overflow:"scroll",padding:16,whiteSpace:"pre-wrap",lineBreak:"anywhere"},children:t.stack})]})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("WebBloksErrorRoot",["WebBloksErrorRenderer","WebBloksStyle","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.error;return s.jsxs("div",{className:c.errorRoot,children:[s.jsx("div",{className:c.errorText,children:"An error occurred. Please reload to try again."}),null]})}u.displayName=u.name+" [from "+i.id+"]";var c=o("WebBloksStyle").createStyles({errorRoot:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},errorText:{fontWeight:"bold"}});l.default=u}),98);
__d("WebBloksErrorBoundary",["WebBloksErrorRoot","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=r("react")),u=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.state={error:null},babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e),t.getDerivedStateFromError=function(t){return{hasError:!0,error:t}};var n=t.prototype;return n.componentDidCatch=function(t,n){this.props.logger.mustfix("Error rendering components: %s",t,n==null?void 0:n.componentStack)},n.render=function(){var e=this.state.error;return e!=null?s.jsx(r("WebBloksErrorRoot"),{error:e}):this.props.children},t})(s.Component);l.default=u}),98);
__d("WebBloksFocusScopeQueries",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e==="h1"||e==="h2"||e==="h3"||t.role==="heading"&&(t["aria-level"]===1||t["aria-level"]===2||t["aria-level"]===3)||t["aria-busy"]===!0||t.role==="progressbar"||t.role==="status"}function l(e,t){return t.tabIndex===-1&&!(t.disabled===!0||t.type==="hidden"||t["aria-disabled"]===!0||t["aria-hidden"]===!0)?!0:c(e,t)}function s(e){return e.type!=="hidden"&&e.type!=="file"}function u(e,t){return e==="input"&&s(t)}function c(e,t){return t.tabIndex===-1||t.disabled===!0?!1:t.tabIndex===0||t.contentEditable===!0?!0:e==="a"||e==="area"?t.href!=null&&t.href!==""&&t.rel!=="ignore":e==="input"?s(t):e==="button"||e==="textarea"||e==="select"||e==="iframe"||e==="embed"}var d=[u,c];function m(e){return e.offsetWidth===0&&e.offsetHeight===0}function p(e,t,n){return!m(n)&&c(e,t)}function _(e,t){return e==="td"||e==="th"||t.role==="gridcell"||t.role==="columnheader"||t.role==="rowheader"}function f(e,t){return!_(e,t)&&c(e,t)}var g=[e,c];function h(t,n){return e(t,n)||c(t,n)}var y=function(t,n){return n["data-focus-target"]===!0&&(n["aria-busy"]===!0||n.role==="progressbar")};function C(e,t){return t.role==="dialog"}i.headerAndSpinnerFocusScopeQuery=e,i.focusableScopeQuery=l,i.tabbableScopeQuery=c,i.inputFirstTabbbableScopeQuery=d,i.displayedTabbableScopeQuery=p,i.tableCellScopeQuery=_,i.tableCellTabbableContentScopeQuery=f,i.headerFirstTabbableSecondScopeQuery=g,i.headerOrTabbableScopeQuery=h,i.topLoadingScopeQuery=y,i.dialogScopeQuery=C}),66);
__d("WebBloksScreenWrapper",["WebBloksEnvironmentContext","WebBloksFocusScopeQueries","WebBloksIconSpinner","WebBloksScreen","WebBloksScreenHost","WebBloksStyle","WebBloksTheme","WebBloksTreeResources","react","useWebBloksAccessibilityModule"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(){return s.jsx("div",babelHelpers.extends({},o("WebBloksStyle").getStyleProps({alignItems:"center",justifyContent:"center",flex:1}),{children:s.jsx(r("WebBloksIconSpinner"),{})}))}m.displayName=m.name+" [from "+i.id+"]";function p(e){var t,n=e.externalVariables,a=e.screen,i=o("WebBloksEnvironmentContext").useWebBloksEnvironment(),l=i.allowScreenOverflow,u=i.embedded,p=i.loadingFallback,g=r("useWebBloksAccessibilityModule")(),h=g.FocusRegion,y=d(a.value),C=y[0],b=y[1];c(function(){return a.stateChangeListener.on(b),function(){a.stateChangeListener.off(b)}},[a]);var v=a.objectSet,S=a.options,R=S.initialTreeResources,L=S.loadingNavbar,E=S.loadingScreen,k=S.ownerContext,I=v.environment.navigationTrackingUtils,T=a.getIsOverlay();return s.jsx(h,{autoRestoreFocus:!0,containFocusQuery:o("WebBloksFocusScopeQueries").tabbableScopeQuery,children:s.jsx("div",{className:o("WebBloksStyle").classNames(o("WebBloksStyle").WebBloksStyles.container,f.root,!u&&T!==!0&&f.rootBackground,T===!0&&f.rootOverlay),children:s.jsx("div",babelHelpers.extends({},o("WebBloksStyle").getStyleProps({display:"block",flexBasis:"100%",flexGrow:1,flexShrink:1,overflow:l===!0?"visible":"hidden"}),{children:C.state==="ready"?s.jsx(r("WebBloksScreenHost"),{screen:a,externalVariables:n},a.screenId):C.state==="error"?s.jsxs(s.Fragment,{children:[L&&_(v,L,R,k),s.jsx("div",{style:{marginTop:44,textAlign:"center"},children:(t=C.error.summary)!=null?t:"Failed to load"})]}):s.jsxs(s.Fragment,{children:[I==null?void 0:I.loadingIndicatorTrackingComponent,L&&_(v,L,R,k),E?_(v,E,R,k):p!=null?p:s.jsx(m,{})]})}))})})}p.displayName=p.name+" [from "+i.id+"]";function _(e,t,n,a){return s.jsx(r("WebBloksScreenHost"),{isLoadingNode:!0,screen:o("WebBloksScreen").WebBloksScreen.fromBloksModel(e,t,n!=null?n:o("WebBloksTreeResources").WebBloksTreeResources.empty(),{isEmbedded:!0,ownerContext:a!=null?a:void 0})})}_.displayName=_.name+" [from "+i.id+"]";var f=o("WebBloksStyle").createStyles({rootBackground:{backgroundColor:o("WebBloksTheme").WebBloksThemeVars["screen-wrapper-bg"]},root:{color:o("WebBloksTheme").WebBloksThemeVars["primary-text"],flexDirection:"column",height:"100%",width:"100%"},rootOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0}});l.ScreenWrapper=p,l.renderLoadingNode=_}),98);
__d("WebBloksModalWrapper",["WebBloksFocusScopeQueries","WebBloksScreenHost","WebBloksScreenWrapper","WebBloksStyle","react","useWebBloksAccessibilityModule"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(e){var t=e.externalVariables,n=e.modal,a=r("useWebBloksAccessibilityModule")(),i=a.FocusRegion,l=d(n.value),u=l[0],m=l[1];c(function(){return n.stateChangeListener.on(m),function(){n.stateChangeListener.off(m)}},[n]);var _=n.objectSet,f=n.options,g=f.initialTreeResources,h=f.loadingScreen,y=f.ownerContext,C=u.state==="ready"?s.jsx(r("WebBloksScreenHost"),{screen:n,externalVariables:t},n.screenId):u.state==="loading"&&h?o("WebBloksScreenWrapper").renderLoadingNode(_,h,g,y):null;return n.options.outerScreenComponent?C=n.options.outerScreenComponent(C):C=s.jsx("div",{className:p.modalContainer,children:C}),s.jsx(i,{autoFocusQuery:o("WebBloksFocusScopeQueries").dialogScopeQuery,autoRestoreFocus:!0,containFocusQuery:o("WebBloksFocusScopeQueries").tabbableScopeQuery,children:s.jsx("div",{"aria-modal":!0,role:"dialog",children:C})})}m.displayName=m.name+" [from "+i.id+"]";var p=o("WebBloksStyle").createStyles({modalContainer:{position:"absolute",top:0,left:0,right:0,bottom:0}});l.default=m}),98);
__d("WebBloksCacheUtils",["WebBloksInt64","WebBloksUtils"],(function(t,n,r,o,a,i,l){var e=1e3;function s(t,n){var o,a=Date.now(),i=(o=r("WebBloksInt64")).fromString(n).multiply(o.fromNumber(e)),l=o.fromString(t.responseTimestampMs).add(i);return l.greaterThan(o.fromNumber(a))}function u(e,t){return e+":"+c(t)}function c(e,t){t===void 0&&(t=!1);var n=Array.isArray(e),r=o("WebBloksUtils").isObject(e);if(n||r){var a=Object.keys(e);if(a.length){for(var i=a.sort(),l=[],s=0;s<i.length;s++){var u=i[s],d=e[u];if(!(t&&d==null&&r)){var m=void 0;o("WebBloksUtils").isObject(d)||Array.isArray(d)?m=c(d,t):m=JSON.stringify(d),l.push(u+":"+m)}}return n?"["+l.join(",")+"]":"{"+l.join(",")+"}"}}return JSON.stringify(e)}l.isResponseFresh=s,l.generateCacheKey=u}),98);
__d("WebBloksComponentQueryFetcher",["WebBloksCacheUtils","WebBloksErrors","WebBloksPayloadParser","WebBloksUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){this.$1=new Set,this.$2=e,this.$3=t,this.$4=n}var t=e.prototype;return t.runQuery=function(t,n,r){var e=this.$3.get(t);if(e!=null&&o("WebBloksCacheUtils").isResponseFresh(e,n.cacheTtlSeconds)){var a={result:e.response,success:!0};r(a)}else this.$5(t,n,r)},t.$5=function(t,n,r){var e=this;if(!this.$1.has(t)){this.$1.add(t);var a=o("WebBloksUtils").nullthrows(this.$2);a.fetchComponentQuery(n.appId,n.params).then(function(a){var i=new Map;for(var l of a.components){var s=o("WebBloksPayloadParser").parseTree(l.payload,e.$4);i.set(l.id,s)}var u={components:i},c={result:u,success:!0};e.$3.set(t,{response:u,responseTimestampMs:Date.now().toString(),queryPurpose:n.queryPurpose}),e.$1.delete(t),r(c)}).catch(function(r){throw e.$1.delete(t),new(o("WebBloksErrors")).WebBloksError("Failed to fetch async component for appId: "+n.appId,r)})}},e})();l.default=e}),98);
__d("WebBloksComponentQueryStore",["WebBloksCacheUtils","WebBloksComponentQueryFetcher","WebBloksFunctionTableManager","WebBloksPayloadParser"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e,t){this.$2=[],this.$4=t,this.$1=new Map,this.$3=new(r("WebBloksComponentQueryFetcher"))(e,this.$1,t)}var t=e.prototype;return t.getCachedComponentsOrSubscribeToQuery=function(t,n,r,a){var e=o("WebBloksCacheUtils").generateCacheKey(t,n),i=this.$1.get(e);if(i!=null&&o("WebBloksCacheUtils").isResponseFresh(i,r)){var l={result:i.response,success:!0};return{value:l,cancelToken:null}}else{var s=this.$5(a,e);return{value:null,cancelToken:s.token}}},t.fetch=function(t,n,r,a){var e=this,i=o("WebBloksCacheUtils").generateCacheKey(t,n),l=o("WebBloksFunctionTableManager").WebBloksFunctionTableManager.getKnownFt(t),s=babelHelpers.extends({},n);l!=null&&(s.__knownFt=l);var u={appId:t,params:s,cacheTtlSeconds:r,queryPurpose:a};this.$3.runQuery(i,u,function(t){e.$6(i,t)})},t.invalidate=function(t,n){var e=o("WebBloksCacheUtils").generateCacheKey(t,n);this.$1.delete(e)},t.clear=function(){this.$1.clear()},t.writeInitialPayload=function(t,n,r){var e=o("WebBloksCacheUtils").generateCacheKey(t,n),a=new Map;for(var i of r.components){var l=o("WebBloksPayloadParser").parseTree(i.payload,this.$4);a.set(i.id,l)}var s={components:a};this.$1.set(e,{response:s,responseTimestampMs:Date.now().toString(),queryPurpose:"PREFETCH"})},t.$5=function(t,n){this.$2=this.$2.filter(function(e){return!e.token.canceled});var e=new u(t,n);return this.$2.push(e),e},t.$6=function(t,n){var e=[],r=[];for(var o of this.$2)o.token.canceled||(o.cacheKey===t?e.push(o.callback):r.push(o));this.$2=r;for(var a of e)a(t,n)},e})(),s=(function(){function e(){this.canceled=!1}var t=e.prototype;return t.run=function(){this.canceled=!0},e})(),u=function(t,n){this.callback=t,this.cacheKey=n,this.token=new s};l.default=e}),98);
__d("WebBloksGlobalState",["WebBloksDataModule","WebBloksErrors"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e){this.variableIds=new Map,this.observer=e}var t=e.prototype;return t.add=function(t,n){var e,r=(e=this.variableIds.get(t))!=null?e:new Set;r.add(n),this.variableIds.set(t,r)},e})(),s=(function(){function t(){this.store=new Map,this.subscribers=[]}var n=t.prototype;return n.fetchAndSubscribe=function(t,n,r,o){var e=this.store.get(t);return e==null&&(e=n,this.store.set(t,n)),this.$1(t,e,r,o)},n.publishAndSubscribe=function(t,n,r,o){return this.publish(t,n),this.$1(t,n,r,o)},n.publish=function(t,n){if(n==null){if(!this.store.has(t))return}else if(n===this.store.get(t))return;this.store.set(t,n);for(var e of this.subscribers){var r=e.observer,o=e.variableIds.get(t);if(o)for(var a of o)r.enqueueVariableUpdateOperation(a,n)}},n.subscriberForObserver=function(n){if(n==null)return null;for(var t of this.subscribers)if(t.observer===n)return t;var r=new e(n);return this.subscribers.push(r),r},n.$1=function(t,n,r,o){var e=this.subscriberForObserver(o);return e&&e.add(t,r),{initialValue:n}},t})(),u=(function(){function e(e){this.store=e}var t=e.prototype;return t.setup=function(t,n,r,a){var e,i,l=n.data.key;if(l==null)throw new(o("WebBloksErrors")).WebBloksError("Key not found in global state data manifest entry");var s=o("WebBloksDataModule").getDataEntryInitialValue(n,a),u=(e=(i=n.data)==null?void 0:i.mode)!=null?e:"d",c=n.id;return u==="p"?this.store.publishAndSubscribe(l,s,c,r):this.store.fetchAndSubscribe(l,s,c,r)},t.publish=function(t,n){this.store.publish(t,n)},e})(),c=new s;l.WebBloksGlobalStateStore=s,l.WebBloksGlobalStateDataModule=u,l.GLOBAL_STATE_STORE=c}),98);
__d("WebBloksMountEffectsQueue",[],(function(t,n,r,o,a,i){var e=(function(){function e(){this.queue=[],this.mountEffects=new Map,this.unmountEffects=new Map}var t=e.prototype;return t.isEmpty=function(){return this.queue.length===0},t.enqueue=function(t,n){this.queue.push(t),this.mountEffects.set(t,n)},t.dispose=function(t){var e,n=(e=this.unmountEffects.get(t))!=null?e:[];for(var r of n)r();this.unmountEffects.delete(t)},t.runEffects=function(){for(var e=this.queue.length-1;e>=0;e--){var t,n=this.queue[e],r=(t=this.mountEffects.get(n))!=null?t:[],o=[];for(var a of r){var i=a();i!=null&&o.push(i)}this.unmountEffects.set(n,o)}for(var l of this.queue)this.mountEffects.delete(l);this.queue=[]},e})();i.default=e}),66);
__d("WebBloksNavigationManagerV2",["WebBloksErrors","WebBloksSSRUtils","WebBloksScreen","WebBloksUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=Date.now().toString(36)+Math.random().toString(36).substring(2),s=(function(){function t(e,t,n){var r=this;this.screenChangeListener=new(o("WebBloksUtils")).EventEmitter,this.screenStacks=[],this.modals=[],this.screensCache=new Map,this.navigationDirection="forward",this.pendingCloses=[],this.pendingOpen=null,this.currentScreenPointer={stackIndex:-1,screenIndex:-1,isModal:!1,modalIndex:-1},this.$1=function(e){var t=e.state;r.$3(t)},this.$2=function(){document.visibilityState==="hidden"&&r.pendingCloses.length>0&&r.pendingCloses.map(function(){var e;return(e=r.pendingCloses.pop())==null?void 0:e()})},this.objectSet=e,this.disableHistoryStack=o("WebBloksSSRUtils").canUseDOM?t:!0,this.enableCometRouter=n,!this.disableHistoryStack&&(this.enableCometRouter||(window.addEventListener("popstate",this.$1),window.addEventListener("visibilitychange",this.$2)))}var n=t.prototype;return n.$3=function(n){var t;if(n.isWebBloks){this.navigationDirection=this.$4(babelHelpers.extends({},n.screenPointer));var r=(t=this.getCurrentModal())!=null?t:this.getCurrentScreen();r==null||r.onExit(this.navigationDirection),r==null||r.dismiss();var a=this.screensCache.get(n.screenId);if((n.sessionId!==e||a==null)&&window.location.reload(),(a==null?void 0:a.controllerName)!=null){var i;(i=this.objectSet.environment.controllerNavigationLogger)==null||i.setCurrentController(a.controllerName)}if(this.currentScreenPointer=babelHelpers.extends({},n.screenPointer),this.notifyChanged(),this.pendingCloses.length>0){var l=this.pendingCloses.pop();l&&l()}if(this.pendingOpen&&this.pendingCloses.length===0){var s=this.pendingOpen;this.pendingOpen=null,s()}n.pageTitle!=null&&o("WebBloksSSRUtils").canUseDOM&&(document.title=n.pageTitle)}},n.open=function(t,n,r){var e=this;r===void 0&&(r=!1),this.$5("open",function(){e.$6(t,n,r)})},n.$6=function(t,n,r){var e;r===void 0&&(r=!1);var o=(e=this.getCurrentModal())!=null?e:this.getCurrentScreen();if(o==null||o.onExit("forward"),this.navigationDirection="forward",t.options.isModal===!0){var a=this.currentScreenPointer,i=a.modalIndex,l=a.stackIndex,s=this.$7(t,l);this.modals.splice(i+1),this.modals.push(s),this.$8({isModal:!0,modalIndex:this.modals.length-1}),this.$9(t,r),this.notifyChanged();return}var u=this.getModalCount();if(u>0){o==null||o.clearDismissCallback(),this.close("close"),this.open(t,n,r);return}if(n===!0){var c=this.$10();c!=null?this.$11(t,c):this.$12(t)}else this.$12(t);this.$9(t,r),this.notifyChanged()},n.close=function(t,n,r){var e=this;this.$5("close",function(){e.$13(t,n,r)})},n.$13=function(t,n,r){var e=this.currentScreenPointer.isModal,a=this.$10();if(a==null)throw new(o("WebBloksErrors")).WebBloksError("Tried closing a screen when there are no modals or stacks");this.navigationDirection="back";var i=0;switch(t){case"close":if(e)this.$14("modal"),i=this.getModalCount(),this.$15();else{this.$14("screen");var l=this.currentScreenPointer.screenIndex;i=l+1,this.$16()}break;case"pop":{e?(this.$14("modal"),this.$8({modalIndex:this.currentScreenPointer.modalIndex-1})):(this.$14("screen"),this.$8({screenIndex:this.currentScreenPointer.screenIndex-1})),i=1;break}case"pop_to_screen":{this.$14("screen");for(var s=this.currentScreenPointer.screenIndex,u=!1;!u&&s>=0;){var c=this.screensCache.get(a[s]),d=c==null?void 0:c.screenId;d!==n?(s--,i++):(u=!0,r===!0&&(s--,i++))}if(!u)throw new(o("WebBloksErrors")).WebBloksError("Tried popping to a screenId that does not exist in the current stack");this.$8({screenIndex:s});break}case"close_all":{e?(this.$14("modal"),i=this.getModalCount()+this.getScreenCount()):(this.$14("screen"),i=this.getScreenCount()),this.$17();break}}!e&&(t==="pop"||t==="pop_to_screen")&&this.currentScreenPointer.screenIndex===-1&&this.$16(),e&&t==="pop"&&this.currentScreenPointer.modalIndex===-1&&this.$15(),this.$18(i),this.notifyChanged()},n.getVisibleScreens=function(){var e=[],t=!1,n=this.getCurrentScreen();n!=null&&(e.push(n),n.getIsOverlay()!==!0&&(t=!0));for(var r=this.currentScreenPointer.stackIndex-1;r>-1&&!t;){var o=this.screenStacks[r],a=o[o.length-1],i=this.screensCache.get(a);i!=null&&(e.push(i),i.getIsOverlay()!==!0&&(t=!0)),r--}return{screens:e.reverse(),modal:this.getCurrentModal()}},n.notifyChanged=function(){this.screenChangeListener.emit(this.getVisibleScreens())},n.destroy=function(){window.removeEventListener("popstate",this.$1),window.removeEventListener("visibilitychange",this.$2),this.$17(),this.enableCometRouter||(this.screensCache.forEach(function(e){return e.destroy()}),this.screensCache.clear())},n.refresh=function(){var e,t=(e=this.screenStacks[this.currentScreenPointer.stackIndex])==null?void 0:e[this.currentScreenPointer.screenIndex],n=this.screensCache.get(t);if(n!=null){var r=n.appId,a=n.options,i=n.params,l=n.uri,s=l!=null?o("WebBloksScreen").WebBloksScreen.fromURI(n.objectSet,l,r,i,a):r!=null?o("WebBloksScreen").WebBloksScreen.fromAppId(n.objectSet,r,i,a):null;if(s){this.push(s,!0);return}}},n.replaceState=function(t){if(!this.disableHistoryStack){var e=history.state;e.uri!==t&&window.history.replaceState(e,null,t)}},n.replacePageTitle=function(t){if(!this.disableHistoryStack){var e=history.state;e.pageTitle!==t&&o("WebBloksSSRUtils").canUseDOM&&(document.title=t)}},n.attachAndTriggerPopStateHandler=function(){this.disableHistoryStack||(window.addEventListener("popstate",this.$1),window.addEventListener("visibilitychange",this.$2),this.$3(window.history.state))},n.push=function(t,n){this.open(t,!0,n)},n.pop=function(){this.close("pop")},n.popAllModals=function(){this.getModalCount()>0&&this.close("close")},n.getModalCount=function(){return this.currentScreenPointer.isModal?this.currentScreenPointer.modalIndex+1:0},n.getScreenCount=function(t){t===void 0&&(t=!1);var e=this.currentScreenPointer,n=e.screenIndex,r=e.stackIndex;if(r<0)return 0;var o=n+1;if(t)return o;var a=this.screenStacks.slice(0,r).reduce(function(e,t){return e+t.length},0);return o+a},n.getCurrentScreen=function(){var e=this.currentScreenPointer,t=e.screenIndex,n=e.stackIndex;if(n<0||t<0)return null;var r=this.screenStacks[n];if(r==null)return null;var o=r[t];return this.screensCache.get(o)},n.getCurrentModal=function(){var e=this.currentScreenPointer,t=e.isModal,n=e.modalIndex;if(!t||n<0)return null;var r=this.modals[n];return this.screensCache.get(r)},n.getNavigationDirection=function(){return this.navigationDirection},n.$10=function(){if(this.currentScreenPointer.isModal===!0)return this.modals;var e=this.currentScreenPointer.stackIndex;return e!=null?this.screenStacks[e]:null},n.$11=function(t,n){var e=this.currentScreenPointer,r=e.screenIndex,o=e.stackIndex,a=n.splice(r+1);this.$19(a);var i=this.screenStacks.splice(o+1);for(var l of i)this.$19(l);var s=this.modals.splice(0);this.$19(s),n.push(this.$7(t,o)),this.$8({screenIndex:r+1})},n.$12=function(t){var e=this.currentScreenPointer,n=e.screenIndex,r=e.stackIndex,o=this.screenStacks[r];if(o!=null){var a=o.splice(n+1);this.$19(a)}var i=this.screenStacks.splice(r+1);for(var l of i)this.$19(l);var s=this.modals.splice(0);this.$19(s),this.screenStacks.push([this.$7(t,r+1)]),this.$8({stackIndex:r+1,screenIndex:0,isModal:!1})},n.$19=function(t){for(var e of t){var n=this.screensCache.get(e);n!=null&&n.destroy(),this.screensCache.delete(e)}},n.$14=function(t){if(this.disableHistoryStack){var e;if(t==="screen"?e=this.getCurrentScreen():e=this.getCurrentModal(),e==null)throw new(o("WebBloksErrors")).WebBloksError("Unexpected null "+t+" while executing onExit callback");e.onExit("back"),e.dismiss()}},n.$4=function(t){var e=this.currentScreenPointer,n=babelHelpers.extends({},e,t);return e.isModal&&!n.isModal?"back":!e.isModal&&n.isModal?"forward":e.isModal&&n.isModal?n.modalIndex>e.modalIndex?"forward":"back":n.stackIndex!==e.stackIndex?n.stackIndex>e.stackIndex?"forward":"back":n.screenIndex>e.screenIndex?"forward":"back"},n.$8=function(t){var e=this.$4(t);e==="back"&&!this.disableHistoryStack||(this.currentScreenPointer=babelHelpers.extends({},this.currentScreenPointer,t))},n.$15=function(){this.$8({isModal:!1,modalIndex:-1})},n.$16=function(){var e=this.currentScreenPointer.stackIndex;e===0?this.$8({stackIndex:-1,screenIndex:-1,isModal:!1,modalIndex:-1}):this.$8({stackIndex:e-1,screenIndex:this.screenStacks[e-1].length-1})},n.$17=function(){this.$8({stackIndex:-1,screenIndex:-1,isModal:!1,modalIndex:-1})},n.$9=function(n,r){var t;if(!this.disableHistoryStack){var a=n.uri!=null?n.uri:"#",i=null;o("WebBloksSSRUtils").canUseDOM&&(i=document.title);var l={uri:a,pageTitle:i,screenId:this.$7(n,this.currentScreenPointer.stackIndex),appId:n.appId,isWebBloks:!0,sessionId:e,screenPointer:babelHelpers.extends({},this.currentScreenPointer),key:(t=window.history.state)==null?void 0:t.key};r?window.history.replaceState(l,null,a):window.history.pushState(l,null,a)}},n.$18=function(t){this.disableHistoryStack||window.history.go(-t)},n.$7=function(t,n){var e=t.options.isModal===!0?"modal":"stack_"+n,r=e+":"+t.screenId;return t.screenIdWithStackIndex=r,this.screensCache.has(r)||this.screensCache.set(r,t),r},n.$5=function(t,n){if(this.disableHistoryStack){n();return}if(t==="open"){this.pendingCloses.length?this.pendingOpen=n:n();return}if(t==="close"){this.pendingOpen=null,this.pendingCloses.length>0?this.pendingCloses.push(n):(this.pendingCloses.push(null),n());return}},t})();l.NavigationManagerV2=s}),98);
__d("WebBloksNode",["react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=s.memo,c=s.useDebugValue;function d(e,t){var n=function(n){return t(n)};return n.displayName=e,u(n)}function m(e){c(e,function(){return e.toJSON()})}function p(e){var t;c((t=e.sourceMapNode)==null||(t=t.getBloksStackFrame())==null?void 0:t.offset,function(e){return"To view the server side location of this component, pase the below `component_uri` into the top line of this Bento notebook: https://fburl.com/anp/vcve8kbn.\n\n"+e})}l.createBridgedComponent=d}),98);
__d("WebBloksToast",["WebBloksAbstractButton","WebBloksStyle","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c=o("WebBloksStyle").createStyles({root:{backgroundColor:"#262626",flexDirection:"row",minHeight:"44px",padding:"0 16px!important",width:"100%"},messageContainer:{flexGrow:1,flexShrink:1,justifyContent:"center",minWidth:"200px"},message:{color:"#fff",fontSize:"14px",lineHeight:"18px",maxHeight:"72px",overflow:"hidden",padding:"12px 0!important"}});function d(e){var t=e.actionText,n=e.className,a=e.onActionClick,i=e.text,l=u(function(e){e.preventDefault(),a&&a(e)},[a]);return s.jsxs("div",{className:o("WebBloksStyle").classNames(n,c.root),children:[s.jsx("div",{className:c.messageContainer,children:s.jsx("p",{className:c.message,children:i})}),t!=null&&s.jsx(r("WebBloksAbstractButton"),{title:t,onClick:l})]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("WebBloksToastManager",["WebBloksToast","WebBloksUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={autoDismissDurationMs:3e3,showAnimationDurationMs:200,dismissAnimationDurationMs:200,showAnimationInterpolator:"ease-out",dismissAnimationInterpolator:"ease-out"},c=(function(){function e(){this.$1=null,this.$2=[],this.$3=!1,this.$4=[]}var t=e.prototype;return t.getDefaultCurrentToast=function(){return null},t.getEmptyState=function(){return{currentToast:null,pendingToasts:[],isToastHiding:!1}},t.getCurrentToast=function(){return this.$1},t.getPendingToasts=function(){return this.$2},t.enqueueBloksModelToast=function(t,n,r){var e,o=this.$5(r);this.$2.push({id:(e=n.getId())!=null?e:n.clientId+"",type:"bloksModel",context:t,model:n,options:o,timeoutID:null}),this.$6()},t.enqueueBloksParseResultToast=function(t,n,r){var e,o=this.$5(r),a=n.unboundModel;this.$2.push({id:(e=a.getId())!=null?e:a.clientId+"",type:"bloksParseResult",context:t,parseResult:n,options:o,timeoutID:null}),this.$6()},t.enqueueSimpleToast=function(t){this.$2.push({id:o("WebBloksUtils").getNextGlobalBloksClientId()+"",type:"simple",component:s.jsx(r("WebBloksToast"),{text:t}),options:u,timeoutID:null}),this.$6()},t.enqueueMiniToast=function(t){this.$2.push({id:o("WebBloksUtils").getNextGlobalBloksClientId()+"",type:"mini",component:t,options:u,timeoutID:null}),this.$6()},t.dismissToastWithID=function(t,n){var e=String(t);this.$1!=null&&this.$1.id===e?this.$7():this.$2=this.$2.filter(function(t){return t.id!==e})},t.$7=function(){var e=this,t=this.$1;if(t!=null){if(window.clearTimeout(t.timeoutID),this.$3=!0,this.$8(),t.type==="bloksModel"){var n=t.options.onDismiss;n!=null&&t.context.executeCatch(n,[])}t.timeoutID=window.setTimeout(function(){e.$3=!1,e.$1=null,e.$8(),e.$6()},t.options.dismissAnimationDurationMs),this.$1=t}},t.$6=function(){var e=this;if(this.$1===null&&this.$2.length!==0){var t=this.$2.shift();if(t!=null&&t.options.autoDismissDurationMs!==0){var n=window.setTimeout(function(){return e.$7()},t.options.autoDismissDurationMs+t.options.showAnimationDurationMs);if(t.timeoutID=n,t.type==="bloksModel"){var r=t.options.onShow;r!=null&&t.context.executeCatch(r,[])}}this.$1=t,this.$8()}},t.$5=function(t){var e,n,r,o=t.getValues(),a=this.parseToastInterpolator(o.show_animation_interpolator,u.showAnimationInterpolator),i=this.parseToastInterpolator(o.dismiss_animation_interpolator,u.dismissAnimationInterpolator);return{autoDismissDurationMs:(e=o.auto_dismiss_duration_ms)!=null?e:u.autoDismissDurationMs,showAnimationDurationMs:(n=o.show_animation_duration_ms)!=null?n:u.showAnimationDurationMs,dismissAnimationDurationMs:(r=o.dismiss_animation_duration_ms)!=null?r:u.dismissAnimationDurationMs,showAnimationInterpolator:a,dismissAnimationInterpolator:i,onShow:o.on_show,onDismiss:o.on_dismiss}},t.parseToastInterpolator=function(t,n){if(t==null)return n;var e=t.getValues(),r=e.x_a,o=e.x_b,a=e.y_a,i=e.y_b;return"cubic-bezier("+r+","+a+","+o+","+i+")"},t.addListener=function(t){var e=this;return this.$4.push(t),{remove:o("WebBloksUtils").once(function(){o("WebBloksUtils").removeFromArray(e.$4,t)})}},t.$8=function(){var e=this;this.$4.forEach(function(t){return window.setTimeout(function(){t({currentToast:e.$1,pendingToasts:e.$2,isToastHiding:e.$3})},0)})},e})();l.default=c}),98);
__d("WebBloksObjectSet",["WebBloksComponentQueryStore","WebBloksContext","WebBloksErrors","WebBloksGlobalState","WebBloksInterpreterEnvironment","WebBloksIsUnitTest","WebBloksModel","WebBloksMountEffectsQueue","WebBloksNavigationManagerV2","WebBloksNode","WebBloksParseResult","WebBloksSSRUtils","WebBloksScreen","WebBloksToastManager","WebBloksTreeManager","WebBloksTreeResources"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e,t){var n,a,i;this.$1=new Map,this.environment=e,this.globalStateDataModule=new(o("WebBloksGlobalState")).WebBloksGlobalStateDataModule((n=e.globalStateStore)!=null?n:o("WebBloksGlobalState").GLOBAL_STATE_STORE),this.navigationManager=new(o("WebBloksNavigationManagerV2")).NavigationManagerV2(this,e.disableHistoryStack,e.enableCometRouter),this.toastManager=(a=t==null?void 0:t.toastManager)!=null?a:new(r("WebBloksToastManager")),this.componentQueryStore=(i=t==null?void 0:t.componentQueryStore)!=null?i:new(r("WebBloksComponentQueryStore"))(e.appLoader,e.traversalKeys),this.mountEffectsQueue=new(r("WebBloksMountEffectsQueue"))}var t=e.prototype;return t.createInitialScreenWithParseResult=function(t,n){this.navigationManager.push(o("WebBloksScreen").WebBloksScreen.fromBloksParseResult(this,t,void 0,n,window.location.href),!0)},t.createInitialScreenWithAppResponse=function(t,n){this.navigationManager.push(o("WebBloksScreen").WebBloksScreen.fromBloksAppResponse(this,t,void 0,n,window.location.href),!0)},t.createInitialScreenWithAppId=function(t,n){this.navigationManager.push(o("WebBloksScreen").WebBloksScreen.fromAppId(this,t,n),!0)},t.createInitialScreenWithScreenQuery=function(t){var e=t.screen_query_payload,n=e.app_id,a=e.component_query_payload,i=e.params;this.componentQueryStore.writeInitialPayload(n,i,a);var l=t.screen_query_payload.open_screen_script,s=new(r("WebBloksParseResult"))(new(o("WebBloksModel")).WebBloksModel("-2",{}),new(o("WebBloksTreeResources")).WebBloksTreeResources),u=new(r("WebBloksTreeManager"))(s),c=new(o("WebBloksContext")).WebBloksContext(u,this),d=r("WebBloksInterpreterEnvironment").fromBloksContext(c);d.executeCatch(l,[])},t.getComponentForName=function(t){var e=this.getNullableComponentForName(t);if(e==null)throw new(o("WebBloksErrors")).WebBloksUnknownComponentError(t);return e},t.getNullableComponentForName=function(t){var e=this.$1.get(t);if(e)return e;var n=this.environment.components.get(t);if(n==null)return null;var r=o("WebBloksNode").createBridgedComponent(t,n);return this.$1.set(t,r),r},t.getContainerConfigModuleForName=function(t){var e=this.environment.containerConfigs.get(t);if(e==null)throw new(o("WebBloksErrors")).WebBloksUnknownContainerConfigError(t);return e},t.getAsset=function(t){var e,n=(e=this.environment.staticAssets)==null?void 0:e[t];return n==null&&this.environment.logger.mustfix("StaticAsset is not configured '%s'",t),n},e})();l.default=e}),98);
__d("WebBloksToastPresenter",["WebBloksFocusScopeQueries","WebBloksScreen","WebBloksScreenHost","WebBloksStyle","WebBloksTreeResources","react","useWebBloksAccessibilityModule"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState,m=o("WebBloksStyle").createStyles({root:{display:"flex",justifyContent:"center"},defaultRoot:{bottom:0,left:0,position:"fixed !important",right:0,width:"100%",zIndex:100},defaultInnerContainer:{transform:"translateY(0)"},defaultInnerContainerHidden:{transform:"translateY(100%)"},miniToastRoot:{alignItems:"center !important",boxSizing:"border-box",bottom:"50%",display:"flex",flexDirection:"column",left:0,overflow:"hidden",position:"fixed !important",right:0,zIndex:100},miniToastInnerContainer:{opacity:1,transitionProperty:"opacity!important"},miniToastInnerContainerHidden:{opacity:0,transitionProperty:"opacity!important"}});function p(e){var t=e.objectSet,n=t.toastManager,a=d(function(){return n.getEmptyState()}),i=a[0],l=a[1];c(function(){var e=n.addListener(l);return function(){e.remove()}},[n]);var u=r("useWebBloksAccessibilityModule")(),p=u.FocusRegion,_=i.currentToast,f=i.isToastHiding,g=o("WebBloksStyle").classNames(m.defaultInnerContainer,(_==null||f)&&m.defaultInnerContainerHidden),h=o("WebBloksStyle").classNames(m.miniToastInnerContainer,(_==null||f)&&m.miniToastInnerContainerHidden),y=null,C=null,b=0,v="ease-out";if(_!=null){switch(_.type){case"simple":{y=_.component;break}case"bloksModel":{var S=o("WebBloksScreen").WebBloksScreen.fromBloksModel(t,_.model,o("WebBloksTreeResources").WebBloksTreeResources.empty(),{isModal:!1,isEmbedded:!0});y=s.jsx(r("WebBloksScreenHost"),{screen:S},S.screenId);break}case"bloksParseResult":{var R=o("WebBloksScreen").WebBloksScreen.fromBloksParseResult(t,_.parseResult,{isModal:!1,isEmbedded:!0});y=s.jsx(r("WebBloksScreenHost"),{screen:R},R.screenId);break}case"mini":{C=_.component;break}}f?(b=_.options.showAnimationDurationMs/1e3,v=_.options.showAnimationInterpolator):(b=_.options.dismissAnimationDurationMs/1e3,v=_.options.dismissAnimationInterpolator)}return y!=null&&(y=s.jsx(p,{autoFocusQuery:o("WebBloksFocusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:o("WebBloksFocusScopeQueries").tabbableScopeQuery,children:y})),C!=null&&(C=s.jsx(p,{autoFocusQuery:o("WebBloksFocusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:o("WebBloksFocusScopeQueries").tabbableScopeQuery,children:C})),s.jsxs("div",{role:f?void 0:"alert","aria-atomic":"true",name:"WebBloksToastPresenter","data-testid":void 0,className:m.root,children:[s.jsx("div",{className:m.defaultRoot,children:s.jsx("div",{className:g,style:{transition:"transform "+b+"s "+v},children:y})}),s.jsx("div",{className:m.miniToastRoot,children:s.jsx("div",{className:h,style:{transition:"opacity "+b+"s "+v},children:C})})]})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("useFoldingAddressBar",["WebBloksConstants","WebBloksEnvironmentContext","WebBloksModel","react"],(function(t,n,r,o,a,i,l){var e,s=(e||(e=o("react"))).useMemo,u="bk.data.contrib.screen.wrapper.Web";function c(e){for(var t of e)if(o("WebBloksModel").isWebBloksModel(t)&&t.styleId===u){var n=t.get("enable_folding_address_bar");return n===!0||n===1}return!1}function d(e){var t;if(e.length===0)return null;var n=e[0];if(n.value.state!=="ready")return null;var r=(t=n.treeManager)==null?void 0:t.unboundModel;if(r==null||r.styleId!==o("WebBloksConstants").BK_SCREEN_WRAPPER&&r.styleId!==o("WebBloksConstants").BK_SCREEN_WRAPPER_LEGACY)return null;var a=r.get("contribs");return a==null||!Array.isArray(a)?null:a}function m(e){var t=o("WebBloksEnvironmentContext").useWebBloksEnvironment(),n=s(function(){if(!t.allowFoldingAddressBar)return!1;var n=d(e);return n==null?!1:c(n)},[t.allowFoldingAddressBar,e]);return n}l.default=m}),98);
__d("useWebBloksRefreshListener",["WebDriverConfig","react"],(function(t,n,r,o,a,i,l){var e,s=(e||(e=o("react"))).useEffect;function u(e){s(function(){o("WebDriverConfig").isJestE2ETestRun},[e])}l.default=u}),98);
__d("WebBloksApp",["WebBloksAppAccessibilityStyles","WebBloksEnvironmentContext","WebBloksErrorBoundary","WebBloksErrors","WebBloksModalWrapper","WebBloksObjectSet","WebBloksParseResult","WebBloksSSRUtils","WebBloksScreenWrapper","WebBloksStyle","WebBloksToastPresenter","WebBloksUtils","react","useFoldingAddressBar","useWebBloksAccessibilityModule","useWebBloksRefreshListener"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useMemo,m=u.useRef,p=u.useState;function _(e){var t,n=e._objectSetRef,a=e.appId,i=e.externalObjectSet,l=e.externalVariables,u=e.node,_=e.params,C=_===void 0?o("WebBloksUtils").EMPTY_OBJECT:_,b=o("WebBloksEnvironmentContext").useWebBloksEnvironment(),v=r("useWebBloksAccessibilityModule")(),S=v.FocusAppWrapper,R=p(function(){var e;return i!=null?e=i:(e=new(r("WebBloksObjectSet"))(b),f(e,a,u,C)),n&&(n.current=e),e}),L=R[0];c(function(){i!=null&&i.navigationManager.attachAndTriggerPopStateHandler()},[i]);var E=p(function(){return L.navigationManager.getVisibleScreens()}),k=E[0],I=k.modal,T=k.screens,D=E[1];c(function(){return L.navigationManager.screenChangeListener.on(D),function(){L.navigationManager.screenChangeListener.off(D),L.navigationManager.destroy()}},[L]);var x=m(!0);c(function(){if(x.current)x.current=!1;else{if(i!=null)return;f(L,a,u,C)}},[L,a,u,C,i]),r("useWebBloksRefreshListener")(L);var $={};b.isRtl&&($={direction:"rtl",textAlign:"right"});var P=r("useFoldingAddressBar")(T),N=d(function(){return b.embedded===!0?g.bloksAppEmbedded:P?o("WebBloksStyle").classNames(g.bloksAppFoldingAddressBar,y.bloksAppFoldingAddressBarDVH):o("WebBloksStyle").classNames(g.bloksAppFullscreen,h.bloksAppFullscreenDVH)},[b.embedded,P]),M=s.jsx(S,{children:s.jsxs("div",{style:babelHelpers.extends({fontFamily:o("WebBloksUtils").getWrapperFontFamily(b.fontFamilyMappings)},$,P?{WebkitOverflowScrolling:"touch"}:null),"data-testid":void 0,className:o("WebBloksStyle").classNames(o("WebBloksAppAccessibilityStyles").ACCESSIBILITY_STYLES.outlines,N),children:[T.map(function(e){var t;return s.jsx(o("WebBloksScreenWrapper").ScreenWrapper,{screen:e,externalVariables:l},(t=e.screenIdWithStackIndex)!=null?t:e.screenId)}),I&&s.jsx(r("WebBloksModalWrapper"),{modal:I,externalVariables:l},(t=I.screenIdWithStackIndex)!=null?t:I.screenId),s.jsx(r("WebBloksToastPresenter"),{objectSet:L})]})});return L.environment.disableErrorBoundary!==!0&&(M=s.jsx(r("WebBloksErrorBoundary"),{logger:L.environment.logger,children:M})),M}_.displayName=_.name+" [from "+i.id+"]";function f(e,t,n,a){if(t==null&&n==null)throw new(o("WebBloksErrors")).WebBloksError("Both appId and node are null while creating initial screen");if(e.navigationManager.getScreenCount()+e.navigationManager.getModalCount()>0&&e.navigationManager.close("close_all"),n!=null)if(n instanceof r("WebBloksParseResult"))e.createInitialScreenWithParseResult(n,a);else if(n.screen_query_payload!=null)e.createInitialScreenWithScreenQuery(n);else return e.createInitialScreenWithAppResponse(n,a);else if(t!=null)return e.createInitialScreenWithAppId(t,a)}var g=o("WebBloksStyle").createStyles({bloksAppEmbedded:{height:"100%",width:"100%"},bloksAppFullscreen:{height:"100vh",width:"100%"},bloksAppFoldingAddressBar:{height:"auto !important",minHeight:"100vh !important",width:"100%",overflow:"visible !important",touchAction:"manipulation"}}),h=o("WebBloksStyle").createStylesIfSupported({key:"height",value:"100dvh",type:"regular"},{bloksAppFullscreenDVH:{height:"100dvh !important"}}),y=o("WebBloksStyle").createStylesIfSupported({key:"min-height",value:"100dvh",type:"regular"},{bloksAppFoldingAddressBarDVH:{minHeight:"100dvh !important"}}),C={width:"100%",height:"100%"};l.WebBloksApp=_,l.createInitialScreenForObjectSet=f,l.bloksRootStyles=C}),98);
__d("WebBloksAssetRenderer",["CometVisualCompletionAttributes","URI","WebBloksStyle","coerceImageishSprited","coerceImageishURL","getImageSourceURLFromImageish","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["src","style"],u,c,d=c||(c=o("react"));function m(e){return e instanceof(u||(u=r("URI")))?e.toString():e}function p(t){var n=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=o("WebBloksStyle").classNames(a.className,"img"),l=m(a.src);if(l==null)return d.jsx("img",babelHelpers.extends({},a,{className:i}));var u=r("coerceImageishSprited")(l),c=u&&a.alt!=null&&String(a.alt)!==""?d.jsx("u",{children:a.alt}):null;if(typeof l=="string")return d.jsx("img",babelHelpers.extends({},a,{className:i,src:l,children:c}));if(u){var p=a.src,_=a.style,f=babelHelpers.objectWithoutPropertiesLoose(a,s);return d.jsx("i",babelHelpers.extends({},f,r("CometVisualCompletionAttributes").CSS_IMG,{className:o("WebBloksStyle").classNames(i,u.type==="css"?u.className:void 0),ref:n,style:u.type==="cssless"?babelHelpers.extends({},_,u.style):_,children:c}))}var g=r("getImageSourceURLFromImageish")(l),h=r("coerceImageishURL")(l);return a.width===void 0&&a.height===void 0&&h?d.jsx("img",babelHelpers.extends({},a,{className:i,height:h.height,src:g,ref:n,width:h.width,children:c})):d.jsx("img",babelHelpers.extends({},a,{className:i,ref:n,src:g,children:c}))}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("WebBloksEnvironmentTypes",["react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=(function(){function e(e){this.$1=new Map,this.$1=e}var t=e.prototype;return t.getGK=function(t){var e;return(e=this.$1.get(t))!=null?e:!1},e})();l.WebBloksGKs=u}),98);
__d("WebBloksDefaultGKs",["WebBloksEnvironmentTypes"],(function(t,n,r,o,a,i,l){var e=(function(e){function t(){return e.call(this,new Map)||this}return babelHelpers.inheritsLoose(t,e),t})(o("WebBloksEnvironmentTypes").WebBloksGKs);l.default=e}),98);
__d("WebBloksEntryPointContainerContext",["WebBloksSSRUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({current:o("WebBloksSSRUtils").canUseDOM?document.body:null});function c(e){var t=e.children,n=e.value;return s.jsx(u.Provider,{value:n,children:t})}c.displayName=c.name+" [from "+i.id+"]",l.WebBloksEntryPointContainerContext=u,l.WebBloksEntryPointContainerContextProvider=c}),98);
__d("WebBloksMergeRefs",["WebBloksErrors","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(function(){return c.apply(void 0,t)},[].concat(t))}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach(function(t){if(t!=null){if(typeof t=="function"){t(e);return}if(typeof t=="object"){t.current=e;return}}})}}l.default=u}),98);
__d("WebBloksViewpointManager",["WebBloksViewpoint"],(function(t,n,r,o,a,i,l){var e="data-bloks-visibility-state",s=(function(){function t(){var e=this;this.$1=new Map,this.$2=null,this.$3=null,this.$4=!1,this.$5=new Set,this.$15=function(){for(var t of e.$5){if(!(t instanceof HTMLElement&&t instanceof Element))return;var n=e.$1.get(t);if(!n)return;var r=void 0;document.visibilityState==="visible"?r=e.$13(t):r=e.$12(t),e.$11(r,n)}}}var n=t.prototype;return n.track=function(t,n,r){r===void 0&&(r="default");var e=new Map([[r,n]]);this.$1.set(t,e),this.$2||this.$6();var o=this.$2;if(o!=null)for(var a of this.$1.keys())o.observe(a);this.$3||this.$7(),this.$4||this.$8()},n.untrackElement=function(t){var e;(e=this.$2)==null||e.unobserve(t),this.$1.delete(t),this.$1.size===0&&this.$9()},n.untrackAll=function(){var e=this.$1.keys();for(var t of e)this.untrackElement(t);this.$9()},n.$10=function(n){var t=[],r=[],o=[];for(var a of n){var i=a.attributeName,l=a.removedNodes,s=a.target,u=a.type;if(u==="childList")for(var c of l)c instanceof HTMLElement&&t.push(c);if(s instanceof HTMLElement){var d=s.getAttribute(e);u==="attributes"&&i===e&&(d==="exited"?r.push(s):d==="entered"&&o.push(s))}}for(var m of t)for(var p of this.$1){var _=p[0],f=p[1];if(m.contains(_)){var g;(g=this.$2)==null||g.unobserve(_),this.$1.delete(_),this.$11(this.$12(m),f)}}for(var h of r)for(var y of this.$1){var C=y[0],b=y[1];h.contains(C)&&this.$11(this.$12(h),b)}for(var v of o)for(var S of this.$1){var R=S[0],L=S[1];v.contains(R)&&this.$11(this.$13(v),L)}},n.$7=function(){var e=this,t=new MutationObserver(function(t){return e.$10(t)});document.body!==null&&t.observe(document.body,{attributes:!0,attributeFilter:["data-bloks-visibility-state"],childList:!0,subtree:!0}),this.$3=t},n.$6=function(){var e=this,t=new IntersectionObserver(function(t){return e.$14(t)},{threshold:[0,.2,.4,.6,.8,1]});this.$2=t},n.$14=function(t){for(var e of t){var n=e.intersectionRatio,r=e.isIntersecting,a=r===void 0?!1:r,i=e.target;if(!(i instanceof HTMLElement&&i instanceof Element))return;var l=this.$1.get(i);if(!l)return;var s=null;a===!0||n>0?this.$5.has(e.target)?s="intersecting":s="entered":s="exited";var u=new(o("WebBloksViewpoint")).ViewpointSnapshot({element:i,percentVisible:e.intersectionRatio,state:s});this.$11(u,l)}var c=t.filter(function(e){return e.isIntersecting===!0||e.intersectionRatio>0}).map(function(e){return e.target});this.$5=new Set(c)},n.$8=function(){document.addEventListener("visibilitychange",this.$15),this.$4=!0},n.$11=function(t,n){for(var e of n){var r=e[0],o=e[1];o(t)}},n.$13=function(t){return new(o("WebBloksViewpoint")).ViewpointSnapshot({element:t,percentVisible:1,state:"entered"})},n.$12=function(t){return new(o("WebBloksViewpoint")).ViewpointSnapshot({element:t,percentVisible:0,state:"exited"})},n.$9=function(){var e,t;(e=this.$2)==null||e.disconnect(),this.$2=null,(t=this.$3)==null||t.disconnect(),this.$3=null,document.removeEventListener("visibilitychange",this.$15),this.$4=!1},t})();l.default=s}),98);
__d("WebBloksViewpointProvider",["WebBloksViewpointContext","WebBloksViewpointManager","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(e){var t=e.children,n=d(null),o=n[0],a=n[1];return c(function(){var e=document.body;return e!=null&&e instanceof HTMLElement&&o===null&&a(function(){return new(r("WebBloksViewpointManager"))}),function(){o==null||o.untrackAll()}},[o]),s.jsx(r("WebBloksViewpointContext").Provider,{value:o,children:t})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("useWebBloksAnalytics",["react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e,t){var n=c(null),r=e.analytics;return u(function(){var e=r==null?void 0:r.subscribe(t),n=r==null?void 0:r.subscribeFrameRate();return function(){n==null||n(),e==null||e()}},[r,t,n]),n}l.default=d}),98);
__d("WebBloksEntryPoint.react",["WebBloksApp","WebBloksEntryPointContainerContext","WebBloksEnvironmentContext","WebBloksMergeRefs","WebBloksServerData","WebBloksTheme","WebBloksUtils","WebBloksViewpointProvider","react","useWebBloksAnalytics"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useRef;function c(e){var t=e.environment,n=e.externalObjectSet,a=e.externalVariables,i=e.initialFetchParams,l=e.payload,c=e.style,d=c===void 0?o("WebBloksApp").bloksRootStyles:c,m=e.theme;l&&l.server_data!=null&&o("WebBloksServerData").handleWebBloksServerData(o("WebBloksUtils").cast(l.server_data));var p=i!=null?i:{},_=p.appId,f=p.params,g=r("useWebBloksAnalytics")(t,_!=null?_:""),h=u(null),y=r("WebBloksMergeRefs")(g,h),C=s.jsx(r("WebBloksViewpointProvider"),{children:s.jsx(o("WebBloksTheme").WebBloksThemeProvider,{initialTheme:m,children:s.jsx(o("WebBloksEnvironmentContext").WebBloksEnvironmentProvider,{environment:t,children:s.jsx(o("WebBloksEntryPointContainerContext").WebBloksEntryPointContainerContextProvider,{value:h,children:s.jsx(o("WebBloksApp").WebBloksApp,{node:l,appId:_,params:f,externalObjectSet:n,externalVariables:a})})})})});return s.jsx("div",{style:d,ref:y,children:C})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("WebBloksFragment",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsx(s.Fragment,{children:e.children})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("WebBloksHotReloadDataModule",[],(function(t,n,r,o,a,i){var e=(function(){function e(){}var t=e.prototype;return t.setup=function(t,n,r,o){var e=function(){};return{dispose:e,initialValue:void 0}},e})();i.WebBloksHotReloadDataModule=e}),66);
__d("WebBloksLogger",[],(function(t,n,r,o,a,i){var e=(function(){function e(){}var t=e.prototype;return t.warn=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).warn.apply(e,["[wbloks] "+t].concat(r))},t.mustfix=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).error.apply(e,["[wbloks] "+t].concat(r))},t.scriptError=function(t){this.mustfix(t.message,t)},e})();i.default=e}),66);
__d("WebBloksModuleStore",[],(function(t,n,r,o,a,i){var e=(function(){function e(e){this.modules=new Map(e!=null?Object.entries(e):[])}var t=e.prototype;return t.keys=function(){return Array.from(this.modules.keys())},t.has=function(t){return this.modules.has(t)},t.set=function(t,n){this.has(t)||this.modules.set(t,n)},t.get=function(t){var e;return(e=this.modules.get(t))!=null?e:null},t.toObject=function(){return Object.fromEntries(this.modules)},e})();i.default=e}),66);
__d("WebBloksViewportDimensionsDataModule",["WebBloksUtils"],(function(t,n,r,o,a,i,l){var e=16.666666666666668,s=(function(){function t(){}var n=t.prototype;return n.setup=function(t,n,r,o){var e=this,a={height:window.innerHeight,width:window.innerWidth};r!=null&&this.$2(n,r);var i=function(){e.$1!=null&&window.removeEventListener("resize",e.$1)};return{cancelToken:i,initialValue:a}},n.$2=function(n,r){var t=n.id;this.$1!=null&&window.removeEventListener("resize",this.$1);var a=o("WebBloksUtils").throttle(function(){var e={height:window.innerHeight,width:window.innerWidth};r==null||r.enqueueVariableUpdateOperation(t,e)},e);this.$1=a,window.addEventListener("resize",this.$1)},t})();l.WebBloksViewportDimensionsDataModule=s}),98);
__d("WebBloksEnvironment",["WebBloksDefaultGKs","WebBloksErrors","WebBloksFragment","WebBloksHotReloadDataModule","WebBloksI18nUtils","WebBloksLogger","WebBloksModuleStore","WebBloksViewportDimensionsDataModule","react"],(function(t,n,r,o,a,i,l){var e,s=(e||(e=o("react"))).useState,u={actions:{},analytics:null,AssetRenderer:null,components:{},extensionHandlers:{},containerConfigs:{},disableErrorBoundary:null,traversalKeys:{},disableHistoryStack:!1,enableCometRouter:!1,fontFamilyMappings:null,embedded:!1,allowScreenOverflow:!1,allowFoldingAddressBar:!1,appLoader:null,logger:new(r("WebBloksLogger")),locale:"en_US",isRtl:!1,accessibilityModule:{FocusAppWrapper:r("WebBloksFragment"),FocusRegion:r("WebBloksFragment")},gkx:new(r("WebBloksDefaultGKs")),staticAssets:null,globalStateStore:null,timeoutIDS:new Map,screenQueryTemplate:null,loadingFallback:null,navigationTrackingUtils:null,dataModulesStore:new Map([["bloks_viewport_dimensions",new(o("WebBloksViewportDimensionsDataModule")).WebBloksViewportDimensionsDataModule],["hot_reload",new(o("WebBloksHotReloadDataModule")).WebBloksHotReloadDataModule]]),controllerNavigationLogger:null};function c(){for(var e,t=(e=window.navigator)==null?void 0:e.languages,n=t!=null&&o("WebBloksI18nUtils").isLocaleRtl(t),a=babelHelpers.extends({},u,{locale:t,isRtl:n}),i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];var c=l.reduce(function(e,t){return m(e,t)},a),d=babelHelpers.extends({},c,{actions:new(r("WebBloksModuleStore"))(c.actions),components:new(r("WebBloksModuleStore"))(c.components),extensionHandlers:new(r("WebBloksModuleStore"))(c.extensionHandlers),containerConfigs:new(r("WebBloksModuleStore"))(c.containerConfigs)});return d}function d(e){return s(e)[0]}function m(e,t){var n,r,o,a,i,l,s,u,c,d,m,_,f,g,h,y,C,b,v,S,R,L;return t?{analytics:(n=t.analytics)!=null?n:e.analytics,locale:(r=t.locale)!=null?r:e.locale,isRtl:(o=t.isRtl)!=null?o:e.isRtl,actions:babelHelpers.extends({},e.actions,t.actions),appLoader:(a=t.appLoader)!=null?a:e.appLoader,components:babelHelpers.extends({},e.components,t.components),extensionHandlers:babelHelpers.extends({},e.extensionHandlers,t.extensionHandlers),containerConfigs:babelHelpers.extends({},e.containerConfigs,t.containerConfigs),traversalKeys:babelHelpers.extends({},e.traversalKeys,t.traversalKeys),disableHistoryStack:(i=t.disableHistoryStack)!=null?i:e.disableHistoryStack,enableCometRouter:(l=t.enableCometRouter)!=null?l:e.enableCometRouter,embedded:(s=t.embedded)!=null?s:e.embedded,allowScreenOverflow:(u=t.allowScreenOverflow)!=null?u:e.allowScreenOverflow,allowFoldingAddressBar:(c=t.allowFoldingAddressBar)!=null?c:e.allowFoldingAddressBar,loadingFallback:(d=t.loadingFallback)!=null?d:e.loadingFallback,dataModulesStore:p(e.dataModulesStore,t.dataModulesStore),navigationTrackingUtils:(m=t.navigationTrackingUtils)!=null?m:e.navigationTrackingUtils,logger:(_=t.logger)!=null?_:e.logger,disableErrorBoundary:(f=t.disableErrorBoundary)!=null?f:e.disableErrorBoundary,AssetRenderer:(g=t.AssetRenderer)!=null?g:e.AssetRenderer,staticAssets:(h=t.staticAssets)!=null?h:e.staticAssets,globalStateStore:(y=t.globalStateStore)!=null?y:e.globalStateStore,fontFamilyMappings:(C=t.fontFamilyMappings)!=null?C:e.fontFamilyMappings,timeoutIDS:(b=t.timeoutIDS)!=null?b:e.timeoutIDS,screenQueryTemplate:(v=t.screenQueryTemplate)!=null?v:e.screenQueryTemplate,accessibilityModule:(S=t.accessibilityModule)!=null?S:e.accessibilityModule,gkx:(R=t.gkx)!=null?R:e.gkx,controllerNavigationLogger:(L=t.controllerNavigationLogger)!=null?L:e.controllerNavigationLogger}:e}function p(e,t){if(!t||t.size===0)return e;var n=new Map(e);for(var r of t){var a=r[0],i=r[1];if(n.has(a))throw new(o("WebBloksErrors")).WebBloksError("Data module with key "+a+" already exists in the environment.");n.set(a,i)}return n}l.WEBLOKS_DEFAULT_ENVIRONMENT=u,l.createEnvironment=c,l.useWebBloksEnvironmentStore=d}),98);
__d("WebBloksHasteAnimationFrameRateAnalytics",["Promise","QuickPerformanceLogger","WebBloksErrors","qpl"],(function(t,n,r,o,a,i,l){var e,s,u=60,c=[30,48,u,120,240,300],d="sfd",m="lfd",p="animation_key",_="bloks_logging_id",f="ts",g=r("qpl")._(36713009,"1890"),h=0,y=(function(){function t(){this.$1=null,this.$2=null,this.$3()}var a=t.prototype;return a.$3=function(){var e=this;try{this.$4().then(function(t){e.$1=t})}catch(e){throw new(o("WebBloksErrors")).WebBloksError("Failed to initialize WebBloksHasteAnimationFrameRateAnalytics")}},a.$5=function(t){return c.reduce(function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e})},a.$4=function(){var e=this;return new(s||(s=n("Promise")))(function(t){window.requestAnimationFrame(function(n){window.requestAnimationFrame(function(r){return t(n<r?e.$5(1e3/(r-n)):u)})})})},a.reset=function(){this.$2=null},a.resume=function(t){this.$2=t},a.incrementDroppedFrames=function(n,o,a){var t=this.$1,i=this.$2;if(t!==null&&i!==null&&o>i){var l=o-i,s=1e3/t,u=Math.max(Math.round(l/s)-1,0),c=u>=4?u/4:0,p=n!=null?this.$6(n):h,_=(e||(e=r("QuickPerformanceLogger"))).getMarker(g,p);if(_!=null){var y,C,b,v,S,R=(y=_.annotations)==null?void 0:y.int,L=((C=R==null?void 0:R[d])!=null?C:0)+u,E=((b=R==null?void 0:R[m])!=null?b:0)+c;(e||(e=r("QuickPerformanceLogger"))).markerAnnotate(g,{int:(v={},v[d]=L,v[f]=a,v),double:(S={},S[m]=E,S)},{instanceKey:p})}}this.$2=o},a.onStart=function(n,o){var t;this.$2=null;var a=n!=null?this.$6(n):h;(e||(e=r("QuickPerformanceLogger"))).markerStart(g,a),e.markerAnnotate(g,{string:(t={},t[p]=n,t[_]=o,t)},{instanceKey:a})},a.onEnd=function(n){var t=n!=null?this.$6(n):h;(e||(e=r("QuickPerformanceLogger"))).markerEnd(g,2,t)},a.$6=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);e=(e<<5)-e+r,e&=e}return Math.abs(e)},t})();l.default=y}),98);
__d("WebBloksHasteAsyncActionAnalytics",["QPLJoinUtils","QuickPerformanceLogger","Random","guid","qpl"],(function(t,n,r,o,a,i,l){var e,s=Math.round(o("Random").random()*1e3),u=r("qpl")._(36707139,"1111"),c=r("guid")(),d=(function(){function t(){this.$1=u,this.$1=u}var n=t.prototype;return n.onStart=function(n,a){(e||(e=r("QuickPerformanceLogger"))).markerStart(this.$1,s,n,{cancelExisting:!0}),o("QPLJoinUtils").setJoinId(e,this.$1,c,{instanceKey:s}),e.markerAnnotate(this.$1,{string:{app_id:a}},{instanceKey:s})},n.onEnd=function(n){(e||(e=r("QuickPerformanceLogger"))).markerEnd(this.$1,2,s,n.startTime)},n.onCancel=function(){(e||(e=r("QuickPerformanceLogger"))).markerDrop(this.$1,s)},t})();l.default=d}),98);
__d("WebBloksHasteTTRCAnalytics",["QPLJoinUtils","QuickPerformanceLogger","Random","guid","qpl"],(function(t,n,r,o,a,i,l){var e,s=Math.round(o("Random").random()*1e3),u=r("qpl")._(719983200,"2401"),c=r("qpl")._(720000263,"2371"),d=r("guid")(),m=(function(){function t(){this.$1=u,this.$1=u}var n=t.prototype;return n.setMarkerId=function(t){t===720000263?this.$1=c:this.$1=u},n.onStart=function(n,a){(e||(e=r("QuickPerformanceLogger"))).markerStart(this.$1,s,n,{cancelExisting:!0}),o("QPLJoinUtils").setJoinId(e,this.$1,d,{instanceKey:s}),e.markerAnnotate(this.$1,{string:{app_id:a}},{instanceKey:s})},n.onEnd=function(n){(e||(e=r("QuickPerformanceLogger"))).markerEnd(this.$1,2,s,n.startTime)},t})();l.default=m}),98);
__d("WebBloksHasteAnalytics",["WebBloksHasteAnimationFrameRateAnalytics","WebBloksHasteAsyncActionAnalytics","WebBloksHasteTTRCAnalytics"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.performanceObserver=null,this.$3=null,this.$2=new(r("WebBloksHasteAsyncActionAnalytics")),this.$1=new(r("WebBloksHasteTTRCAnalytics"))}var t=e.prototype;return t.$4=function(){var e=this;window.PerformanceObserver!=null&&(this.performanceObserver=new PerformanceObserver(function(t){t.getEntries().forEach(function(t){var n,r=t.entryType,o=t.name;if(!(o==null&&r!=="mark")){var a=(n=t==null?void 0:t.detail)!=null?n:null;switch(o){case"--web-bloks-ttrc-start":{var i;if((a==null?void 0:a.markerId)!=null){var l;(l=e.$1)==null||l.setMarkerId(a==null?void 0:a.markerId)}(i=e.$1)==null||i.onStart(t.startTime,a==null?void 0:a.appId);break}case"--web-bloks-ttrc-end":{var s;(s=e.$1)==null||s.onEnd(t);break}case"--web-bloks-animation-start":{var u,c;(u=e.$3)==null||u.onStart((c=a==null?void 0:a.animationID)!=null?c:null,a==null?void 0:a.loggingID);break}case"--web-bloks-animation-frame":{var d,m;(d=e.$3)==null||d.incrementDroppedFrames((m=a==null?void 0:a.animationID)!=null?m:null,t.startTime,a==null?void 0:a.timestamp);break}case"--web-bloks-animation-resume":{var p;(p=e.$3)==null||p.resume(t.startTime);break}case"--web-bloks-animation-end":{var _;(_=e.$3)==null||_.onEnd(a==null?void 0:a.animationID);break}case"--web-bloks-async-action-start":{e.$2.onStart(t.startTime,a==null?void 0:a.appId);break}case"--web-bloks-async-action-success":{var f;(f=e.$2)==null||f.onEnd(t);break}case"--web-bloks-async-action-error":{e.$2.onCancel();break}}}})}))},t.subscribe=function(){var e,t=this;return this.performanceObserver==null&&this.$4(),(e=this.performanceObserver)==null||e.observe({entryTypes:["mark"]}),function(){return t.$5()}},t.$5=function(){var e;(e=this.performanceObserver)==null||e.disconnect()},t.subscribeFrameRate=function(){var e=this;return this.$3=new(r("WebBloksHasteAnimationFrameRateAnalytics")),function(){var t;return(t=e.$3)==null?void 0:t.reset()}},e})();l.default=e}),98);
__d("webBloksFetchJson",["WebBloksErrors","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e="for (;;);",s=e.length,u="content-type",c="application/x-javascript; charset=utf-8";function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=new URLSearchParams;for(var r in t){var a=t[r];a!=null&&n.append(r,String(a))}var i;try{i=yield window.fetch(e.toString(),{method:"post",body:n,credentials:"same-origin"})}catch(e){throw new(o("WebBloksErrors")).WebBloksNetworkError("Network error",e)}var l=i.headers.get(u);if(i.status!==200)throw i.status>=500?new(o("WebBloksErrors")).WebBloksError("Status: "+i.status+" "+i.statusText):new(o("WebBloksErrors")).WebBloksNetworkError("Status: "+i.status+" "+i.statusText);if(l!=null&&l!==""&&l!==c)throw new(o("WebBloksErrors")).WebBloksNetworkError("Unexpected content-type: "+l);var d=yield i.text(),m=d.substr(s),p=JSON.parse(m);if(p!=null&&p.redirect)throw new(o("WebBloksErrors")).WebBloksNetworkError("Unexpected redirect: "+p.redirect);return p}),m.apply(this,arguments)}l.default=d}),98);
__d("WebBloksHasteAppLoader",["AbstractWebBloksAppLoader","URI","WebBloksVersioningID","getAsyncParams","webBloksFetchJson"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(t){function n(e){var n;return n=t.call(this)||this,n.$WebBloksHasteAppLoader$p_1=e,n}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.makePostRequest=function(n,a){return r("webBloksFetchJson")(new(e||(e=r("URI")))(n).addQueryData({__bkv:o("WebBloksVersioningID").versioningID}).toString(),babelHelpers.extends({},r("getAsyncParams")("POST"),a))},a.getAsyncFetchURI=function(t,n,r){return this.$WebBloksHasteAppLoader$p_1.getURIBuilder().setParams({appid:t,type:r}).getURI().toString()},a.getAsyncFetchData=function(t,n,r){return{params:n!==null?JSON.stringify(n):null}},n})(o("AbstractWebBloksAppLoader").AbstractWebBloksAppLoader);l.WebBloksHasteAppLoader=s}),98);
__d("WebBloksHasteGKs",["WebBloksEnvironmentTypes","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,new Map([["frl_xmds_3_gradient_animation_opt_out",r("gkx")("8611")]]))||this}return babelHelpers.inheritsLoose(t,e),t})(o("WebBloksEnvironmentTypes").WebBloksGKs);l.default=e}),98);
__d("WebBloksHasteLogger",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.warn=function(n,o){for(var t=arguments.length,a=new Array(t>2?t-2:0),i=2;i<t;i++)a[i-2]=arguments[i];if(o instanceof Error){var l;(l=r("FBLogger")(e.FBLOGGER_DEFAULT_PROJECT).catching(o)).info.apply(l,[n].concat(a))}else{var s;(s=r("FBLogger")(e.FBLOGGER_DEFAULT_PROJECT)).info.apply(s,[n,o].concat(a))}},t.mustfix=function(n,o){for(var t=arguments.length,a=new Array(t>2?t-2:0),i=2;i<t;i++)a[i-2]=arguments[i];if(o instanceof Error){var l;(l=r("FBLogger")(e.FBLOGGER_DEFAULT_PROJECT).catching(o)).mustfix.apply(l,[n].concat(a))}else{var s;(s=r("FBLogger")(e.FBLOGGER_DEFAULT_PROJECT)).mustfix.apply(s,[n,o].concat(a))}},t.scriptError=function(t){var e,n,o=(e=(n=t.stackFrame)==null?void 0:n.toArray())!=null?e:["(unknown)"],a=o.join().replaceAll(":","<colon>"),i="wbloks_script_error";t instanceof Error?r("FBLogger")(i).addMetadata("WEBBLOKS","CLIENT_ERROR_STACK",a).catching(t).mustfix(t.message):r("FBLogger")(i).addMetadata("WEBBLOKS","CLIENT_ERROR_STACK",a).mustfix(t.message,t)},e})();e.FBLOGGER_DEFAULT_PROJECT="wbloks",l.default=e}),98);
__d("WebBloksHasteUtils",["CurrentLocale"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=r("CurrentLocale").get().split("_"),t=e[0],n=e[1];return t+"-"+n.toUpperCase()}l.getLocaleFromServer=e}),98);
__d("XWebBloksAsyncRawController",["XController"],(function(t,n,r,o,a,i){a.exports=n("XController").create("/async/wbloks/fetch/",{appid:{type:"String"},params:{type:"String"},type:{type:"Enum",enumType:1},debug_tooling_metadata_token:{type:"String"}})}),null);
__d("WebBloksHasteEnvironmentDynamic",["ix","ACQWebBloksEnvironmentConfigDynamic","CoreWebBloksEnvironmentConfigDynamic","HasteSharedWebBloksActions","ScriptPath","StdlibWebBloksEnvironmentConfigDynamic","WebBloksAssetRenderer","WebBloksEnvironment","WebBloksHasteAnalytics","WebBloksHasteAppLoader","WebBloksHasteGKs","WebBloksHasteLogger","WebBloksHasteUtils","WebBloksI18nUtils","WebBloksUtils","XWebBloksAsyncRawController"],(function(t,n,r,o,a,i,l,s){"use strict";var e={navCross:s("1356754"),settings:s("1361369"),nav3DotHorizontal:s("184566"),chevronLeft:s("1362297"),chevronLeftDark:s("166735"),chevronLeft24:s("1296473"),appMessenger:s("1350889"),navIcon:s("1729923"),navShoppingCart:s("1795210"),navInfoCircle:s("1346159")};function u(){for(var t=o("WebBloksHasteUtils").getLocaleFromServer(),n=o("WebBloksI18nUtils").isLocaleRtl(t),a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return o("WebBloksEnvironment").createEnvironment.apply(void 0,[o("CoreWebBloksEnvironmentConfigDynamic").CORE_ENVIRONMENT_CONFIG,o("StdlibWebBloksEnvironmentConfigDynamic").STDLIB_ENVIRONMENT_CONFIG,o("ACQWebBloksEnvironmentConfigDynamic").ACQ_ENVIRONMENT_CONFIG,{analytics:new(r("WebBloksHasteAnalytics")),appLoader:new(o("WebBloksHasteAppLoader")).WebBloksHasteAppLoader(r("XWebBloksAsyncRawController")),actions:o("HasteSharedWebBloksActions").ACTIONS,navigationTrackingUtils:null,logger:new(r("WebBloksHasteLogger")),AssetRenderer:o("WebBloksUtils").cast(r("WebBloksAssetRenderer")),controllerNavigationLogger:{setCurrentController:function(t){return o("ScriptPath").set(t)},getCurrentController:function(){return o("ScriptPath").getScriptPath()}},staticAssets:e,locale:t,isRtl:n,gkx:new(r("WebBloksHasteGKs"))}].concat(i))}l.createWebBloksHasteEnvironment=u}),98);/*FB_PKG_DELIM*/
__d("EBBase64Encode",["Base64Utils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("Base64Utils").fromArrayBuffer(e)}l.default=e}),98);
__d("I64MigrationHelper",["I64","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return r("nullthrows")((e||(e=o("I64"))).cast(t))}l.cast=s}),98);
__d("IntervalList",["FBLogger","JSONStringifyBigIntSafe","ReQLBounds","ReStoreKeyComparer"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){if(e==null)throw r("FBLogger")("messenger_web").mustfixThrow("must not be null");return e}function c(t,n){var a=new Map,i=new Map,l=new Map;function c(e,n){return n==null?!0:(n.gt!==void 0?t(e,n.gt)>0:n.gte!==void 0?t(e,n.gte)>=0:!0)&&(n.lt!==void 0?t(e,n.lt)<0:n.lte!==void 0?t(e,n.lte)<=0:!0)}function*d(t){for(var l=0;l<t.length&&i.size;){l++;var s=t.slice(0,l);l<n&&s.push((e||(e=o("ReStoreKeyComparer"))).MAX_KEY);var u=i.get(r("JSONStringifyBigIntSafe")(s));if(u!=null)for(var d of u)yield d}for(var m of a.entries()){var p=m[0],_=m[1];a.has(p)&&c(t,_)&&(yield p)}}function m(e){var t=l.get(e);if(t!=null){l.delete(e);var n=u(i.get(t));n.delete(e),n.size===0&&i.delete(t)}else a.delete(e)}function p(e,t){var u;if(e&&e.gte!=null&&e.lte!=null&&(u=r("JSONStringifyBigIntSafe")((s||(s=o("ReQLBounds"))).nextKey(e.gte,n)))===r("JSONStringifyBigIntSafe")(e.lte)){var c=i.get(u);c==null&&(c=new Set,i.set(u,c)),c.add(t),l.set(t,u)}else a.set(t,e)}return{delete:m,findIntersecting:d,set:p}}l.default=c}),98);
__d("LSBase64Encode.nop",["EBBase64Encode","LSResult","LSSynchronousPromise"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n,a){return o("LSSynchronousPromise").makeSynchronousPromise(r("LSResult")(a?r("EBBase64Encode")(a):void 0))};e.__nop_name__="LSBase64Encode",l.default=e}),98);
__d("LSClientSchemaType",[],(function(t,n,r,o,a,i){"use strict";var e="maw";i.MAW_SCHEMA_NAME=e}),66);
__d("LSConstants",[],(function(t,n,r,o,a,i){"use strict";var e="ls";i.LS_SCHEMA_NAME=e}),66);
__d("LSDbV1.upgrade",[],(function(t,n,r,o,a,i){"use strict";var e={};i.afterUpgrade=e}),66);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t={c:"string",t:"string"};for(var n in t){if(!Object.prototype.hasOwnProperty.call(e,n)||e[n]==null)return r("FBLogger")("messenger_web").warn('Malformed default values data, missing key "%s"',n),null;var o=e[n],a=t[n],i=typeof o;if(i!==a)return r("FBLogger")("messenger_web").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',n,i,a),null}if(typeof e.c!="string"||typeof e.t!="string")return null;var l=[],s=e.t;try{l=JSON.parse(e.c);for(var u of l)if(typeof u!="string")return null}catch(e){return null}return{columns:l,tableName:s}}function s(e){return{c:JSON.stringify(e.columns),t:e.tableName}}var u="_db_defaults_meta";l.tryParseDefaultValuesData=e,l.defaultValuesColumnToValue=s,l.defaultValuesTableName=u}),98);
__d("ReStoreCommonUtils",["isPromise"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){function o(n){return n.done?n.value:(e||(e=r("isPromise")))(n.value)?n.value.then(function(e){return o(t.next(e))}):o(t.next(n.value))}return o(t.next(n))}l.gen=s}),98);
__d("ReStoreOperationLock",["ReStoreCommonUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e==="\u2757"}var s=(function(){function e(e){var t=this;this.isSync=!1,this.waitFor=null,this.waitFor=e.then(function(e){return t.waitFor=null})}var t=e.prototype;return t.chainPromiseOrValue=function(t){return this.waitFor!=null?this.waitFor.then(function(){return t("\u{1F512}")}):t("\u{1F512}")},e})(),u=(function(){function e(){this.isSync=!0}var t=e.prototype;return t.chainPromiseOrValue=function(t){return t("\u2757")},e})(),c=(function(){function e(){this.isSync=!1,this.$1=Promise.resolve()}var t=e.prototype;return t.chainPromiseOrValue=function(t){var e=this;return new Promise(function(n,r){e.$1=e.$1.then(async function(){try{n(await t("\u{1F512}"))}catch(e){r(e)}})})},e})();function d(e,t){return{next:function(r){return t.chainPromiseOrValue(function(t){return o("ReStoreCommonUtils").gen(e.next(t,r))})}}}l.isNoopLockProof=e,l.WaitForPromiseLock=s,l.NoopLock=u,l.ReStoreOperationLock=c,l.lockIterator=d}),98);
__d("ReStoreIndex",["ReQLBounds","ReStoreOperationLock","ReStoreUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function e(e,t,n,r,a){var i=this;this.entries=function(e,t,n){return t===void 0&&(t="asc"),o("ReStoreOperationLock").lockIterator(o("ReStoreUtils").entries(i.$5,e,i.$1,i.$3,t,n,i.$2),i.$4)},this.get=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.$4.chainPromiseOrValue(function(e){return o("ReStoreUtils").getLocked(i.$5,new WeakMap,i.$1.name,i.$3,t,e,i.$2)})},this.getKey=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.$4.chainPromiseOrValue(function(e){return i.$6(i.$5,new WeakMap,t,e)})},this.keys=function(e,t,n){return t===void 0&&(t="asc"),o("ReStoreOperationLock").lockIterator(o("ReStoreUtils").keys(i.$5,e,i.$1,i.$3,t,n),i.$4)},this.$3=e,this.keyFields=t.indexes[e],this.$1=t,this.$2=n,this.$4=r,this.$5=a}var t=e.prototype;return t.$6=function(t,n,r,a){var e=this;return o("ReStoreUtils").getLocked(t,n,this.$1.name,this.$3,r,a,this.$2).then(function(t){if(t!==void 0)return o("ReStoreUtils").searchKey(e.$1,t)})},e})(),u=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(s),c=(function(t){function n(n,r,a,i,l,s){var u;return u=t.call(this,n,r,a,i,l)||this,u.subscribe=function(t,n,r){return u.$ReStoreIndex$p_3.subscribeIndex(u.$ReStoreIndex$p_1.name,u.$ReStoreIndex$p_2,t,(e||(e=o("ReQLBounds"))).extendBounds(n,u.$ReStoreIndex$p_1.indexes[u.$ReStoreIndex$p_2].length),r)},u.$ReStoreIndex$p_2=n,u.$ReStoreIndex$p_1=r,u.$ReStoreIndex$p_3=s,u}return babelHelpers.inheritsLoose(n,t),n})(s);l.ReStoreTransactionIndex=u,l.ReStoreIndex=c}),98);
__d("ReStoreTable",["FBLogger","I64","JSONStringifyBigIntSafe","LSSynchronousPromise","PromiseOrValue","ReQLBounds","ReStoreCommonUtils","ReStoreIndex","ReStoreOperationLock","ReStoreUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=(e||(e=o("I64"))).cast(t);if(n===void 0)throw r("FBLogger")("messenger_web").mustfixThrow("Expected int64");return e.to_float(n)}function d(e,t,n,o,a){var i=r("JSONStringifyBigIntSafe")([t,n]),l=e.get(i);e.set(i,[l==null?o:l[0],a])}var m=(function(){function t(t,n,a,i){var l=this;this.entries=function(e,t,n){return t===void 0&&(t="asc"),o("ReStoreOperationLock").lockIterator(o("ReStoreUtils").entries(l.$4,e,l.$1,void 0,t,n,l.$2),l.$3)},this.get=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.$3.chainPromiseOrValue(function(e){return o("ReStoreUtils").getLocked(l.$4,new WeakMap,l.$1.name,void 0,t,e,l.$2)})},this.keys=function(e,t,n){return t===void 0&&(t="asc"),o("ReStoreOperationLock").lockIterator(o("ReStoreUtils").keys(l.$4,e,l.$1,void 0,t,n),l.$3)},this.peekNextAutoIncrementId=function(){return l.$5(l.$3.chainPromiseOrValue(function(t){var n=l.$1.autoIncrement;if(!n)throw r("FBLogger")("messenger_web").mustfixThrow("only supported for auto-incrementing tables");return o("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(o("ReStoreCommonUtils").gen(l.$4.table(l.$1.name).readSeed(new WeakMap))).then(function(t){if(t===void 0)throw r("FBLogger")("messenger_web").mustfixThrow("unexpected undefined autoIncrementSeed");return(e||(e=o("I64"))).of_float(t)})}))},this.keyFields=t.primaryKeyIds,this.$1=t,this.$2=n,this.$3=a,this.$4=i}var n=t.prototype;return n.$5=function(t){return this.$3.isSync?o("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(t):Promise.resolve(t)},t})(),p=(function(t){function n(e,n,r,a,i,l,u,c,d,m){var p,_=n.tableNames[e];return p=t.call(this,_,r,a,i)||this,p.$ReStoreTransactionTable$p_1=new Map,p.$ReStoreTransactionTable$p_10=new Map,p.add=function(e){return p.$ReStoreTransactionTable$p_12((s||(s=o("PromiseOrValue"))).map(s.map(p.$ReStoreTransactionTable$p_4.beforeAdd({tableName:p.$ReStoreTransactionTable$p_3.name,transaction:p.$ReStoreTransactionTable$p_8,value:e}),function(e){return p.$ReStoreTransactionTable$p_13(function(t,n){var r;return(r=p.$ReStoreTransactionTable$p_9)==null||r.recordLogicalWrite(),o("ReStoreCommonUtils").gen(p.$ReStoreTransactionTable$p_14(p.$ReStoreTransactionTable$p_10,n,new WeakMap,p.$ReStoreTransactionTable$p_3.name,e,t))})}),function(t){return(s||(s=o("PromiseOrValue"))).map(p.$ReStoreTransactionTable$p_4.afterAdd({key:t,tableName:p.$ReStoreTransactionTable$p_3.name,transaction:p.$ReStoreTransactionTable$p_8,value:e}),function(){return t})}))},p.delete=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.$ReStoreTransactionTable$p_12((s||(s=o("PromiseOrValue"))).map(p.$ReStoreTransactionTable$p_4.beforeDelete({key:t,tableName:p.$ReStoreTransactionTable$p_3.name,transaction:p.$ReStoreTransactionTable$p_8}),function(e){return p.$ReStoreTransactionTable$p_13(function(t,n){var r=p;return o("ReStoreCommonUtils").gen((function*(a){(a=r.$ReStoreTransactionTable$p_9)==null||a.recordLogicalWrite(),yield*o("ReStoreUtils").deleteItemLocked(r.$ReStoreTransactionTable$p_2,r.$ReStoreTransactionTable$p_10,n,new WeakMap,r.$ReStoreTransactionTable$p_3.name,e,t),yield*o("ReStoreUtils").cascadeKeyUpdatesLocked(r.$ReStoreTransactionTable$p_2,r.$ReStoreTransactionTable$p_10,n,new WeakMap,r.$ReStoreTransactionTable$p_3.name,e,void 0,r.$ReStoreTransactionTable$p_4,t,r.$ReStoreTransactionTable$p_11)})())})}))},p.put=function(e){return p.$ReStoreTransactionTable$p_12((s||(s=o("PromiseOrValue"))).map(s.map(p.$ReStoreTransactionTable$p_4.beforePut({tableName:p.$ReStoreTransactionTable$p_3.name,transaction:p.$ReStoreTransactionTable$p_8,value:e}),function(e){return p.$ReStoreTransactionTable$p_13(function(t,n){var r;return(r=p.$ReStoreTransactionTable$p_9)==null||r.recordLogicalWrite(),o("ReStoreCommonUtils").gen(o("ReStoreUtils").putLocked(p.$ReStoreTransactionTable$p_2,p.$ReStoreTransactionTable$p_10,n,new WeakMap,p.$ReStoreTransactionTable$p_3.name,e,p.$ReStoreTransactionTable$p_4,t,p.$ReStoreTransactionTable$p_11))})}),function(t){return(s||(s=o("PromiseOrValue"))).map(p.$ReStoreTransactionTable$p_4.afterPut({key:t,tableName:p.$ReStoreTransactionTable$p_3.name,transaction:p.$ReStoreTransactionTable$p_8,value:e}),function(){return t})}))},p.upsert=function(e,t){return p.$ReStoreTransactionTable$p_12((s||(s=o("PromiseOrValue"))).map(p.$ReStoreTransactionTable$p_4.beforeUpsert({tableName:p.$ReStoreTransactionTable$p_3.name,transaction:p.$ReStoreTransactionTable$p_8,value:t}),function(n){return p.$ReStoreTransactionTable$p_13(function(r,a){var i=p;return o("ReStoreCommonUtils").gen((function*(l){(l=i.$ReStoreTransactionTable$p_9)==null||l.recordLogicalWrite(),yield*o("ReStoreUtils").upsertLocked(i.$ReStoreTransactionTable$p_2,i.$ReStoreTransactionTable$p_10,a,new WeakMap,i.$ReStoreTransactionTable$p_3.name,e,n,i.$ReStoreTransactionTable$p_4,r,i.$ReStoreTransactionTable$p_11),yield*o("ReStoreUtils").cascadeKeyUpdatesLocked(i.$ReStoreTransactionTable$p_2,i.$ReStoreTransactionTable$p_10,a,new WeakMap,i.$ReStoreTransactionTable$p_3.name,e,o("ReStoreUtils").searchKey(i.$ReStoreTransactionTable$p_3,t),i.$ReStoreTransactionTable$p_4,r,i.$ReStoreTransactionTable$p_11)})())})}))},p.index=function(e){return o("ReStoreUtils").getOrCreate(p.$ReStoreTransactionTable$p_1,e,function(){return new(o("ReStoreIndex")).ReStoreTransactionIndex(e,p.$ReStoreTransactionTable$p_3,p.$ReStoreTransactionTable$p_4,p.$ReStoreTransactionTable$p_5,p.$ReStoreTransactionTable$p_6)})},p.$ReStoreTransactionTable$p_3=_,p.$ReStoreTransactionTable$p_2=n,p.$ReStoreTransactionTable$p_4=r,p.$ReStoreTransactionTable$p_5=a,p.$ReStoreTransactionTable$p_6=i,p.$ReStoreTransactionTable$p_7=l,p.$ReStoreTransactionTable$p_8=u,p.$ReStoreTransactionTable$p_9=c,p.$ReStoreTransactionTable$p_10=d,p.$ReStoreTransactionTable$p_11=m,p}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.$ReStoreTransactionTable$p_12=function(t){return this.$ReStoreTransactionTable$p_5.isSync?o("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(t):Promise.resolve(t)},r.$ReStoreTransactionTable$p_13=function(t){var e=this;return this.$ReStoreTransactionTable$p_5.chainPromiseOrValue(function(n){var r=e.$ReStoreTransactionTable$p_6.createNested(e.$ReStoreTransactionTable$p_9);return(s||(s=o("PromiseOrValue"))).map(t(n,r),function(e){return r.flush(),e})})},r.$ReStoreTransactionTable$p_14=function*(n,r,a,i,l,s){var t=r.table(i),u=this.$ReStoreTransactionTable$p_2.tableNames[i];if(u.autoIncrement){var m=l[u.primaryKeyIds[0]],p=(e||(e=o("I64"))).of_float(yield*t.incrementSeed(a,m===void 0?m:c(m)));l[u.primaryKeyIds[0]]=p}var _=o("ReStoreUtils").appendDefaultValues(l,u.name,this.$ReStoreTransactionTable$p_11),f=o("ReStoreUtils").searchKey(u,_);if(f==null)throw new Error("Evaluating the object store's key path did not yield a value");if((yield*t.tableGet(a,f))==null){var g=o("ReStoreUtils").indicesWithKeyForValue(this.$ReStoreTransactionTable$p_3,Object.keys(u.indexes),_);yield*o("ReStoreUtils").deconflictIndicesLocked(this.$ReStoreTransactionTable$p_2,n,r,a,i,g,this.$ReStoreTransactionTable$p_4,s,this.$ReStoreTransactionTable$p_11);var h=yield*t.tableSet(a,f,_),y=h[0];yield*o("ReStoreUtils").addIdToIndices(r,a,i,y,g),d(n,i,f,void 0,_)}return f},n})(m),_=(function(e){function t(t,n,r,a,i){var l;return l=e.call(this,t,n,r,a)||this,l.$ReStoreTable$p_1=new Map,l.index=function(e){return o("ReStoreUtils").getOrCreate(l.$ReStoreTable$p_1,e,function(){return new(o("ReStoreIndex")).ReStoreIndex(e,l.$ReStoreTable$p_2,l.$ReStoreTable$p_3,l.$ReStoreTable$p_4,l.$ReStoreTable$p_5,l.$ReStoreTable$p_6)})},l.subscribe=function(e,t,n){return l.$ReStoreTable$p_6.subscribeTable(l.$ReStoreTable$p_2.name,e,(u||(u=o("ReQLBounds"))).extendBounds(t,l.$ReStoreTable$p_2.primaryKeyIds.length),n)},l.$ReStoreTable$p_2=t,l.$ReStoreTable$p_3=n,l.$ReStoreTable$p_4=r,l.$ReStoreTable$p_5=a,l.$ReStoreTable$p_6=i,l}return babelHelpers.inheritsLoose(t,e),t})(m);l.ReStoreTransactionTable=p,l.ReStoreTable=_}),98);
__d("LSStorage",["ReStoreKeyComparer"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return(e||(e=o("ReStoreKeyComparer"))).compareKey(t,n)===0}l.areKeysEqual=s}),98);
__d("ReStoreUtils",["FBLogger","I64","JSONStringifyBigIntSafe","LSStorage","LSSynchronousPromise","Random","ReQLBounds","ReStoreCommonUtils","ReStoreKeyComparer","ReStoreOperationLock","ReStoreTable","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=500;async function d(e){for(var t=[],n=await e.next();!n.done;)t.push(n.value),n=await e.next();return t}function m(e,t,n){var o=e.indexes,a=e.primaryKeyIds,i=n==null?a:o[n];return i.map(function(e){if(t[e]!==void 0||n!=null)return t[e];throw r("FBLogger")("maw_db").mustfixThrow("primary key must be defined on object")})}function p(e,t,n){var r=n[t];return r?Object.keys(r).reduce(function(e,t){return Object.prototype.hasOwnProperty.call(e,t)||(e[t]=r[t]),e},babelHelpers.extends({},e)):e}function _(t,n,r,a,i,l,s){function u(){var c,d=t.table(r.name),m=babelHelpers.extends({},(e||(e=o("ReQLBounds"))).extendBounds(l,(a===void 0?r.primaryKeyIds:r.indexes[a]).length),{dir:i}),p=a==null?d.tableEntries(n,m):d.indexEntries(n,a,m);return c={next:function*(t,n){var e=yield*p.next(n);if(e.done)return{done:!0};var o=e.value[1];return{done:!1,value:[e.value[0],s==null?o:s.afterEntriesNext({tableName:r.name,value:o})]}}},c[typeof Symbol=="function"?Symbol.iterator:"@@iterator"]=u,c}return u()}function f(t,n,r,a,i,l){function s(){var u,c=t.table(r.name),d=c.keys(n,a,babelHelpers.extends({},(e||(e=o("ReQLBounds"))).extendBounds(l,(a===void 0?r.primaryKeyIds:r.indexes[a]).length),{dir:i}));return u={next:function*(t,n){return yield*d.next(n)}},u[typeof Symbol=="function"?Symbol.iterator:"@@iterator"]=s,u}return s()}function g(e,t,n,r,a,i,l){var s=e.table(n),u=o("ReStoreOperationLock").isNoopLockProof(i)?o("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise:Promise.resolve.bind(Promise),c;return r!=null?c=u(o("ReStoreCommonUtils").gen(s.indexGet(t,r,a))):c=u(o("ReStoreCommonUtils").gen(s.tableGet(t,a))),c.then(function(e){if(e!==void 0)return l.afterGet({tableName:n,value:e})})}function h(e,t,n){return(e.has(t)?e:e.set(t,n())).get(t)}function y(e){var t=(s||(s=o("I64"))).cast(e);if(t===void 0)throw r("FBLogger")("maw_db").mustfixThrow("Expected int64");return s.to_float(t)}function C(e,t,n,o,a){var i=r("JSONStringifyBigIntSafe")([t,n]),l=e.get(i);(l==null?o:l[0])==null&&a==null?e.delete(i):e.set(i,[l==null?o:l[0],a])}function*b(e,t,n,r,a,i,l,s,c,d){function p(e,t){return e.length>=t?e:[].concat(e,[(u||(u=o("ReStoreKeyComparer"))).MAX_KEY])}if(!(l!=null&&(u||(u=o("ReStoreKeyComparer"))).compareKey(i,l)===0)){var f=e.tableNames[a],g=f.cascadeUpdates,h=f.primaryKeyIds,y=function*(){for(var o=C.indexName,a=C.tableName,u=e.tableNames[a],f=u.indexes,g=u.primaryKeyIds,y=o==null?g:f[o],v={gte:i,lte:p(i,y.length)},L=_(n,r,u,o,"asc",v),E=[],k=yield*L.next(c);!k.done;)E.push(k.value),k=yield*L.next(c);for(var I of E){var T=I[0],D=I[1],x=m(e.tableNames[a],D);if(l===void 0)yield*R(e,t,n,r,a,x,c),yield*b(e,t,n,r,a,x,void 0,s,c,d);else{var $=h.reduce(function(e,t,n){return n>=l.length||(e[y[n]]=l[n]),e},babelHelpers.extends({},D));yield*S(e,t,n,r,a,x,$,s,c,d),yield*b(e,t,n,r,a,x,m(e.tableNames[a],$),s,c,d)}}};for(var C of g)yield*y()}}function*v(e,t,n,r,a,i,l,c,d){var _=n.table(a),f=e.tableNames[a];if(f.autoIncrement){var g=i[f.primaryKeyIds[0]],h=(s||(s=o("I64"))).of_float(yield*_.incrementSeed(r,g===void 0?g:y(g)));i[f.primaryKeyIds[0]]=h}var b=m(f,i),v={},S=yield*_.tableGet(r,b),R=i;S!==void 0?v=L(f,Object.keys(f.indexes),S):R=p(i,f.name,d);var I=yield*_.tableSet(r,b,R),T=I[0],D=I[1],x=L(f,Object.keys(f.indexes),R),$=babelHelpers.extends({},x);for(var P of Object.keys($))v[P]!==void 0&&(u||(u=o("ReStoreKeyComparer"))).compareKey(v[P],$[P])===0&&(delete $[P],delete v[P]);yield*E(e,t,n,r,a,$,l,c,d),yield*k(n,r,a,T,D?x:$);for(var N of Object.keys(v))yield*_.indexDelete(r,N,v[N]);return C(t,a,b,S,R),b}function*S(e,t,n,r,a,i,l,s,u,c){var d=m(e.tableNames[a],l);o("LSStorage").areKeysEqual(i,d)||(yield*R(e,t,n,r,a,i,u)),yield*v(e,t,n,r,a,l,s,u,c)}function*R(e,t,n,r,o,a,i){var l=n.table(o),s=e.tableNames[o],u=yield*l.tableGet(r,a);if(u!==void 0){if(Object.keys(s.indexes).length)for(var c of Object.keys(s.indexes)){var d=m(s,u,c);d!=null&&(yield*l.indexDelete(r,c,d))}yield*l.tableDelete(r,a),C(t,o,a,u,void 0)}}function L(e,t,n){return t.reduce(function(t,r){var o,a=(o=e.indexPredicates)==null?void 0:o[r];if(a!=null&&!a(n))return t;var i=m(e,n,r);return t[r]=i,t},{})}function*E(e,t,n,r,o,a,i,l,s){var u=n.table(o);for(var c of Object.keys(a)){var d=a[c],p=yield*u.indexGet(r,c,d);if(p!=null){var _=m(e.tableNames[o],p);yield*R(e,t,n,r,o,_,l),yield*b(e,t,n,r,o,_,void 0,i,l,s)}}}function*k(e,t,n,r,o){var a=e.table(n);for(var i of Object.keys(o)){var l=o[i];l===void 0?yield*a.indexDelete(t,i,l):yield*a.indexSet(t,i,l,r)}}function*I(e,t,n,o,a,i,l,s,u,d){var m=n.table(s),p=i.tableNames[s];for(var f of u)yield*m.clearIds(o,f);var g=u.filter(function(e){return(p==null?void 0:p.indexes[e])!=null});if(g.length!==0)for(var h=_(n,o,p,void 0,"asc",void 0,a),y=[],C=yield*h.next(d);!C.done;){for(;!C.done&&y.length<=c;)y.push(C.value),C=yield*h.next(d);for(var b of y){var v=b[0],S=b[1],R=L(i.tableNames[s],g,S);yield*E(i,e,n,o,s,R,a,d,l);var I=r("nullthrows")(yield*m.getId(o,v));yield*k(n,o,s,I,R)}y.length=0,t==null||t()}}var T="__internal__transaction_id";function D(e,t,n,a,i,l,s){var u,c=null,d=new(o("ReStoreOperationLock")).NoopLock,m=new(o("ReStoreOperationLock")).ReStoreOperationLock,p=s==null?void 0:s.qplFlow,_=new Map,f=(u={},u[T]=r("Random").uint32(),u.reportUsedTablesForSyncAccess=function(t){c=t&&t.every(function(e){return i.tablePermitsSynchronousIO(e)})&&c!==!1},u.table=function(s){return new(o("ReStoreTable")).ReStoreTransactionTable(s,e,n,m,i,a,f,p,l,t)},u.transactionTable=function(s,u){var r=u!=null?s+"::"+u:s;return h(_,r,function(){return new(o("ReStoreTable")).ReStoreTransactionTable(s,e,n,c===!0&&u!=null?d:m,i,a,f,p,l,t)})},u),g=function(t){Object.defineProperty(f,t,{get:function(){return f.transactionTable(t)}})};for(var y of Object.keys(e.tableNames))g(y);return f}function x(e){return e.types.includes("indexeddb")}l.collectIterator=d,l.searchKey=m,l.appendDefaultValues=p,l.entries=_,l.keys=f,l.getLocked=g,l.getOrCreate=h,l.cascadeKeyUpdatesLocked=b,l.putLocked=v,l.upsertLocked=S,l.deleteItemLocked=R,l.indicesWithKeyForValue=L,l.deconflictIndicesLocked=E,l.addIdToIndices=k,l.rebuildIndicesLocked=I,l.createReStoreTransaction=D,l.isPDB=x}),98);
__d("ReStoreDefaultValueMigration",["LSPlatformLsInitLog","ReStoreDefaultValuesMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n={},r=yield o("ReStoreUtils").collectIterator(t[o("ReStoreDefaultValuesMetadata").defaultValuesTableName].entries(e));for(var a of r){var i=a[0],l=a[1];if(i!=null){var s,u=o("ReStoreDefaultValuesMetadata").tryParseDefaultValuesData(l);if(u==null)continue;var c=u.columns,d=u.tableName;n[d]=(s=n[d])!=null?s:new Set;for(var m of c)n[d].add(m)}}return n}),s.apply(this,arguments)}function u(e,t,n,r){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r,o){var a=yield e(t,n),i={};for(var l in r.tableNames){var s=o[l];if(s!=null)for(var u in s){var c,d=(c=a[l])==null?void 0:c.has(u);if(!d){var m;i[l]=(m=i[l])!=null?m:{},i[l][u]=s[u]}}}return i}),c.apply(this,arguments)}function d(e,t,n){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){for(var r in t){var a=Object.keys(n[r]||{}),i={columns:a,tableName:r};yield e[o("ReStoreDefaultValuesMetadata").defaultValuesTableName].put(o("ReStoreDefaultValuesMetadata").defaultValuesColumnToValue(i))}}),m.apply(this,arguments)}function p(e,t,n,r){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var a=new WeakMap;o("LSPlatformLsInitLog").addPoint("default_values_update_start");var i=function(t,n){o("LSPlatformLsInitLog").addPoint("default_values_update_end_failure",{string:{default_values_update_failure_point:n,default_values_update_failure_reason:String(t)}})};try{var l=yield u(a,e,t,r);try{if(n===!1)for(var s in l)for(var c=e[s].entries(a),m=yield c.next();!m.done;){var p=babelHelpers.extends({},m.value[1]),_=o("ReStoreUtils").appendDefaultValues(p,s,r);yield e[s].put(_),m=yield c.next()}yield d(e,l,r),o("LSPlatformLsInitLog").addPoint("default_values_update_end")}catch(e){i(e,"setDefaultValues")}}catch(e){i(e,"findDefaultValuesToUpdate")}}),_.apply(this,arguments)}l.runMigrationForTableDefaultValuesIfNeeded=p}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=typeof e=="string"?e:null;if(t==null)return null;try{var n=JSON.parse(t);for(var r of n)if(typeof r!="string")return null;return n}catch(e){return null}}function s(t){var n={indexName:"string",keyIds:"string","predicate?":"string",tableName:"string"};for(var o in n){var a=void 0,i=o.endsWith("?");if(i)a=t[o.slice(0,-1)];else{if(!Object.prototype.hasOwnProperty.call(t,o)||t[o]==null)return r("FBLogger")("messenger_web").warn('Malformed index data, missing key "%s"',o),null;a=t[o]}var l=n[o],s=typeof a;if(a!=null&&s!==l)return r("FBLogger")("messenger_web").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',o,s,l),null}var u=e(t.keyIds);return u==null?(r("FBLogger")("messenger_web").warn('Malformed index data, key IDs "%s" are invalid',typeof t.keyIds=="string"?t.keyIds:"<"+typeof t.keyIds+">"),null):typeof t.indexName!="string"||typeof t.tableName!="string"||typeof t.predicate!="string"&&t.predicate!=null?null:babelHelpers.extends({data:u,indexName:t.indexName,tableName:t.tableName},t.predicate==null?{}:{predicate:t.predicate})}function u(e,t){if(e[0]==null||e[0].length!==t[0].length)return!0;for(var n=0;n<e[0].length;n++)if(e[0][n]!==t[0][n])return!0;return e[1]!==t[1]}function c(e){return babelHelpers.extends({indexName:e.indexName,keyIds:JSON.stringify(e.data),tableName:e.tableName},e.predicate==null?{}:{predicate:e.predicate})}var d="_db_indices_meta";l.tryParseIndexData=s,l.indicesDiffer=u,l.indexDataToValue=c,l.indicesTableName=d}),98);
__d("ReStoreIndicesMigration",["LSPlatformLsInitLog","ReStoreCommonUtils","ReStoreIndexMetadata","ReStoreOperationLock","ReStoreUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n={},r=yield o("ReStoreUtils").collectIterator(t[o("ReStoreIndexMetadata").indicesTableName].entries(e));for(var a of r){var i=a[0],l=a[1];if(i!=null){var s,u=o("ReStoreIndexMetadata").tryParseIndexData(l);if(u==null)continue;var c=u.indexName,d=u.tableName;n[d]=(s=n[d])!=null?s:{},n[d][c]=babelHelpers.extends({index:u.data,key:i},u.predicate==null?{}:{predicate:u.predicate})}}return n}),s.apply(this,arguments)}function u(e,t,n){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r){var a=yield e(t,n),i={};for(var l in r.tableNames){var s=r.tableNames[l];for(var u in s.indexes){var c,d,m=[s.indexes[u],(c=s.indexPredicates)==null||(c=c[u])==null?void 0:c.toString()],p=(d=a[l])==null?void 0:d[u];if(o("ReStoreIndexMetadata").indicesDiffer([p==null?void 0:p.index,p==null?void 0:p.predicate],m)){var _;i[l]=(_=i[l])!=null?_:{},i[l][u]=m}}}var f={};for(var g in r.tableNames)if(g in a){var h=a[g];for(var y in h){var C,b=h[y],v=(C=r.tableNames[g])==null||(C=C.indexes)==null?void 0:C[y];if(v==null){var S;f[g]=(S=f[g])!=null?S:{},f[g][y]=b}}}return{toRemove:f,toUpdate:i}}),c.apply(this,arguments)}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){for(var n in t){var r=t[n];for(var a in r){var i=r[a],l=i[0],s=i[1],u=babelHelpers.extends({data:l,indexName:a,tableName:n},s==null?{}:{predicate:s});yield e[o("ReStoreIndexMetadata").indicesTableName].put(o("ReStoreIndexMetadata").indexDataToValue(u))}}}),m.apply(this,arguments)}function p(e,t){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){for(var n in t){var r=t[n];for(var a in r){var i,l=r[a].key;yield(i=e[o("ReStoreIndexMetadata").indicesTableName]).delete.apply(i,l)}}}),_.apply(this,arguments)}function f(e,t,n,r,a){return new(o("ReStoreOperationLock")).ReStoreOperationLock().chainPromiseOrValue(function(i){return o("ReStoreCommonUtils").gen(o("ReStoreUtils").rebuildIndicesLocked(e.changedKeys,e.clearCache,e.storeTx,new WeakMap,e.hooksManager,n,r,t,a,i))})}function g(e,t,r,a){var i=new WeakMap;o("LSPlatformLsInitLog").addPoint("index_migration_start");var l=function(t,n){o("LSPlatformLsInitLog").addPoint("index_migration_end_failure",{string:{index_migration_failure_point:n,index_migration_failure_reason:String(t)}})};return u(i,e.transaction,t).then((function(){var i=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var i=n.toRemove,l=n.toUpdate,s=Array.from(new Set([].concat(Object.keys(l),Object.keys(i))));if(o("LSPlatformLsInitLog").addAnnotations({int:{index_migration_rebuild_tables_count:s.length}}),a===!1){for(var u of s)if(t.tableNames[u]!=null){var c,m,_=Array.from(new Set([].concat(Object.keys((c=l[u])!=null?c:{}),Object.keys((m=i[u])!=null?m:{}))));yield f(e,u,t,r,_)}}yield d(e.transaction,l),yield p(e.transaction,i),o("LSPlatformLsInitLog").addPoint("index_migration_end")});return function(e){return i.apply(this,arguments)}})(),function(e){return l(e,"findIndicesToUpdateOrRemove")}).catch(function(e){return l(e,"rebuildIndices")})}l.runMigrationForIndicesIfNeeded=g}),98);
__d("ReStoreMigrateUtil",["$InternalEnum","Promise","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=n("$InternalEnum").Mirrored(["UPDATE_METADATA","UPGRADE_COMPLETE","NO_UPGRADE_NEEDED"]);function u(e,t){var n="V"+t;return n in e?n:null}function c(e,t){return d.apply(this,arguments)}function d(){return d=babelHelpers.wrapAsyncGenerator(function*(e,t){for(var n=e.iterator(new WeakMap),r=[],o=yield babelHelpers.awaitAsyncGenerator(n.next());!o.done;){var a=o.value,i=a[0],l=a[1];r.push(l),r.length===t&&(yield r,r=[]),o=yield babelHelpers.awaitAsyncGenerator(n.next())}r.length&&(yield r)}),d.apply(this,arguments)}function m(e,t,n){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a){var i=!1,l=!1,s;try{for(var u=babelHelpers.asyncIterator(c(o("ReQL").fromTableAscending(t),100)),d;i=!(d=yield u.next()).done;i=!1){var m=d.value;yield(e||(e=n("Promise"))).all(m.map(function(e){return r(e).then(t.put)})),a==null||a()}}catch(e){l=!0,s=e}finally{try{i&&u.return!=null&&(yield u.return())}finally{if(l)throw s}}}),p.apply(this,arguments)}function _(e,t){function n(t){if(t!=null){var n={};for(var r in t)n[e+"_"+r]=t[r];return n}}return{bool:n(t.bool),int:n(t.int),string:n(t.string)}}l.ReStoreMigrateResult=s,l.getVersionFromNumber=u,l.fetchReQLBatch=c,l.upgradeTableEntries=m,l.prefixAnnotations=_}),98);
__d("ReStoreHashMigration",["JSONStringifyBigIntSafe","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=Object.values(e.tableNames).map(function(e){var t;return babelHelpers.extends({},e,{indexPredicates:Object.entries((t=e.indexPredicates)!=null?t:{}).map(function(e){var t=e[0],n=e[1];return[t,n.toString()]})})});return r("JSONStringifyBigIntSafe")(t)}function s(e,t,n,r){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var a,i,l=r.loggers,s=l.logHistory,u=l.userFlow,c=r.storeTx,d=r.transaction,m=o("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(n),p=o("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash(t);u==null||u.addAnnotations(o("ReStoreMigrateUtil").prefixAnnotations(e,{int:{defaultValuesVersion:m,schemaVersion:p}}));var _=new(o("ReStorePersistedMetadata")).ReStorePersistedSchemaVersion(e),f=new(o("ReStorePersistedMetadata")).ReStorePersistedDefaultValuesVersion(e),g=(a=yield _.read(c))==null?void 0:a.schemaVersion,h=(i=yield f.read(c))==null?void 0:i.defaultValuesVersion;if(s==null||s.debug("storeSchemaVersion: "+(g!=null?g:"null")),s==null||s.debug("storeDefaultValuesVersion: "+(h!=null?h:"null")),g!=null&&(u==null||u.addAnnotations(o("ReStoreMigrateUtil").prefixAnnotations(e,{int:{storeDefaultValuesVersion:h,storeSchemaVersion:g}}))),g===p&&h===m)return o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;var y=g==null;return yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(d,t,y,n),s==null||s.debug("migration default values finished"),yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(r,t,n,y),s==null||s.debug("migration indices finished"),_.write(c,{schemaVersion:p}),f.write(c,{defaultValuesVersion:m}),s==null||s.debug("version is written"),s==null||s.debug("migration hash end"),u==null||u.addPoint("migration_hash_end"),y?o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA:o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE}),u.apply(this,arguments)}l.serializeTableData=e,l.runHashMigration=s}),98);
__d("ReStorePersistenceIds",[],(function(t,n,r,o,a,i){"use strict";var e="nextId",l="seed";function s(e){return e}i.idForNextId=e,i.idForSeed=l,i.castPersistenceId=s}),66);
__d("ReStorePersistedMetadata",["JSONStringifyBigIntSafe","ReStoreCommonUtils","ReStoreHashMigration","ReStorePersistenceIds","hashString"],(function(t,n,r,o,a,i,l){"use strict";var e="_db_schema_meta",s=(function(){function t(e){this.$1=o("ReStorePersistenceIds").castPersistenceId(e)}var n=t.prototype;return n.read=async function(n){var t=await o("ReStoreCommonUtils").gen(n.table(e).readData(new WeakMap,this.$1));return t},n.write=function(n,r){n.table(e).writeData(new WeakMap,this.$1,r)},n.getId=function(){return this.$1},t})(),u=(function(e){function t(t){return e.call(this,t+"_schema_version")||this}return babelHelpers.inheritsLoose(t,e),t.hash=function(t){return r("hashString")(o("ReStoreHashMigration").serializeTableData(t))},t})(s),c=(function(e){function t(){return e.call(this,"custom_migration_value_version")||this}return babelHelpers.inheritsLoose(t,e),t})(s),d=(function(e){function t(t){return e.call(this,t+"_default_value_version")||this}return babelHelpers.inheritsLoose(t,e),t.hash=function(t){return r("hashString")(r("JSONStringifyBigIntSafe")(t))},t})(s);l.schemaMetadataTableName=e,l.ReStorePersistedMetadata=s,l.ReStorePersistedSchemaVersion=u,l.ReStorePersistedCustomMigrationVersion=c,l.ReStorePersistedDefaultValuesVersion=d}),98);
__d("ReStoreMetadata",["ReStoreDefaultValuesMetadata","ReStoreIndexMetadata","ReStorePersistedMetadata"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return!0}function u(e){var t=e.reduce(function(e,t){return function(n){return n[t]!=null&&e(n)}},s);return t.toString=function(){return"dynamic predicate on ["+e.join(",")+"]"},t}function c(e){return function(n){var t={},r={};for(var o of n)for(var a of o){var i,l,s,u,c;a.id!=null&&(t[a.id]=a.name),r[a.name]={autoIncrement:(i=a.auto_increment)!=null?i:!1,cascadeUpdates:(l=e[a.name])!=null?l:[],indexes:(s=Object.fromEntries(Object.entries((u=a.indexes)!=null?u:{}).map(function(e){var t=e[0],n=e[1].columns;return[t,n]})))!=null?s:{},indexPredicates:Object.fromEntries(Object.entries((c=a.indexes)!=null?c:{}).filter(function(e){var t=e[0],n=e[1];return n.predicate}).map(function(e){var t=e[0],n=e[1];return[t,n.predicate]})),name:a.name,primaryKeyIds:a.primary_key}}return{tableIds:t,tableNames:r}}}var d=(e={},e[o("ReStoreDefaultValuesMetadata").defaultValuesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:o("ReStoreDefaultValuesMetadata").defaultValuesTableName,primaryKeyIds:["t"]},e[o("ReStoreIndexMetadata").indicesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:o("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]},e[o("ReStorePersistedMetadata").schemaMetadataTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:o("ReStorePersistedMetadata").schemaMetadataTableName,primaryKeyIds:[]},e);l.createPredicate=u,l.getBuildTableData=c,l.RESTORE_METADATA_TABLES=d}),98);
__d("ReStoreVersionedSchemaProviderUtil",["ReStoreMetadata"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n={tableIds:{},tableNames:o("ReStoreMetadata").RESTORE_METADATA_TABLES},r={};for(var a of Object.keys(e)){var i,l=e[a],s={},u={};for(var c in l.indexes)s[c]=l.indexes[c].fields,l.indexes[c].ignoreNulls.length>0&&(u[c]=o("ReStoreMetadata").createPredicate(l.indexes[c].ignoreNulls));n.tableNames[a]={autoIncrement:l.autoIncrement,cascadeUpdates:(i=t==null?void 0:t[a])!=null?i:[],indexes:s,indexPredicates:u,name:a,primaryKeyIds:l.primaryKey.fields},l.id!=null&&(n.tableIds[l.id]=a),Object.keys(l.defaults).length>0&&(r[a]=l.defaults)}return{defaults:r,tableData:n}}l.getTableData=e}),98);
__d("LSDbV1",["I64MigrationHelper","LSDbV1.upgrade","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreVersionedSchemaProviderUtil","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=Object.freeze({_user_info:{autoIncrement:!1,defaults:{},id:4,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},acs_request_context:{autoIncrement:!1,defaults:{},id:310,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},ad_context:{autoIncrement:!1,defaults:{},id:160,indexes:{},primaryKey:{fields:["adId"],ignoreNulls:[]}},admin_message_ctas:{autoIncrement:!1,defaults:{showAdChoiceIcon:!1,timestampMs:(e=o("I64MigrationHelper")).cast([0,0])},id:27,indexes:{ctaId:{fields:["ctaId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ai_bot_feedback_submission_status:{autoIncrement:!1,defaults:{},id:315,indexes:{},primaryKey:{fields:["botResponseId"],ignoreNulls:[]}},ai_bot_search_metadata:{autoIncrement:!1,defaults:{contactViewerRelationship:e.cast([0,0]),displayName:"",score:0},id:298,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},anonymous_task_context:{autoIncrement:!1,defaults:{failureCount:e.cast([0,0])},id:311,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},attachment_conversion:{autoIncrement:!1,defaults:{},id:164,indexes:{},primaryKey:{fields:["attachmentFbid"],ignoreNulls:[]}},attachment_ctas:{autoIncrement:!1,defaults:{},id:19,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}},attachments_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,mediaGroup:e.cast([0,0])},id:17,indexes:{},primaryKey:{fields:["threadKey","mediaGroup","minTimestampMs"],ignoreNulls:[]}},audio_channel_events:{autoIncrement:!1,defaults:{},id:238,indexes:{},primaryKey:{fields:["eventId","roomId"],ignoreNulls:[]}},available_reactions:{autoIncrement:!1,defaults:{},id:188,indexes:{},primaryKey:{fields:["emojiIdx"],ignoreNulls:[]}},avatar_settings:{autoIncrement:!1,defaults:{enableAvatarHotlike:!1},id:209,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},bot_profile_info_v2:{autoIncrement:!1,defaults:{hasEmbodiment:!1},id:299,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},bots:{autoIncrement:!1,defaults:{},id:230,indexes:{},primaryKey:{fields:["threadKey","botId"],ignoreNulls:[]}},business_comm_items:{autoIncrement:!1,defaults:{},id:234,indexes:{},primaryKey:{fields:["threadKey","entId"],ignoreNulls:[]}},business_support_case_details:{autoIncrement:!1,defaults:{},id:222,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},business_support_notification_settings:{autoIncrement:!1,defaults:{},id:236,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},business_thread_suggestions:{autoIncrement:!1,defaults:{},id:290,indexes:{},primaryKey:{fields:["threadKey","suggestionType"],ignoreNulls:[]}},client_accounts:{autoIncrement:!0,defaults:{},id:272,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_message_translation_info:{autoIncrement:!1,defaults:{},id:324,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_messages:{autoIncrement:!0,defaults:{disabledActionsReason:e.cast([0,0]),isForwarded:!1,isHidden:!1,isReadonly:!1,isReplyOnly:!1,isTombstoned:!1,messageContentSubtype:e.cast([0,0]),messageContentType:e.cast([0,0]),messageCreationType:e.cast([0,0]),messageEphemeralityType:e.cast([0,0]),messageSource:e.cast([0,0]),replyMessageTextSize:e.cast([0,0]),replyStatus:e.cast([0,0]),replyVicinityStatus:e.cast([0,0]),sendStatus:e.cast([0,0]),shouldHideInSnippet:!1,shouldPersist:!1,textSize:e.cast([0,0])},id:273,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_participants:{autoIncrement:!0,defaults:{capabilities1:e.cast([0,0]),capabilities2:e.cast([0,0]),isPending:!1,readActionTsMs:e.cast([0,0])},id:274,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}},client_threads:{autoIncrement:!0,defaults:{capabilities1:e.cast([0,0]),capabilities2:e.cast([0,0]),groupMemberAddMode:e.cast([0,0]),isAdminSnippet:!1,isHidden:!1,isHotlikeSnippet:!1,isPending:!1,isShadowThread:!1,isTombstoned:!1,pinnedMessagesCount:e.cast([0,0])},id:276,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_web_pinned_messages:{autoIncrement:!1,defaults:{},id:328,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","offlineThreadingId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","offlineThreadingId","pinnedTimestampMs"],ignoreNulls:[]}},client_xmas:{autoIncrement:!0,defaults:{},id:314,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},cm_category_list:{autoIncrement:!1,defaults:{},id:182,indexes:{},primaryKey:{fields:["communityId","categoryId"],ignoreNulls:[]}},cm_channel_events:{autoIncrement:!1,defaults:{},id:201,indexes:{eventsInThread:{fields:["threadId","eventId"],ignoreNulls:[]}},primaryKey:{fields:["eventId","threadId"],ignoreNulls:[]}},cm_channel_list:{autoIncrement:!1,defaults:{},id:167,indexes:{threadIdCommunityId:{fields:["threadId","communityId"],ignoreNulls:[]}},primaryKey:{fields:["communityId","threadId"],ignoreNulls:[]}},cm_community_list:{autoIncrement:!1,defaults:{},id:166,indexes:{},primaryKey:{fields:["communityId"],ignoreNulls:[]}},cm_search_nullstate_metadata:{autoIncrement:!1,defaults:{score:0},id:289,indexes:{},primaryKey:{fields:["threadKey","scoreType"],ignoreNulls:[]}},community_chat_admin_assist_command_sequences:{autoIncrement:!1,defaults:{},id:291,indexes:{},primaryKey:{fields:["commandSequenceId"],ignoreNulls:[]}},community_chat_message_seen_count:{autoIncrement:!1,defaults:{},id:221,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},community_chat_poll_options:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:e.cast([0,0]),sortKeyVotingTimestamp:e.cast([0,0]),voteCount:e.cast([0,0])},id:224,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},community_chat_poll_votes:{autoIncrement:!1,defaults:{},id:225,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},community_chat_poll_votes_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:244,indexes:{},primaryKey:{fields:["pollId","optionId","minTimestampMs"],ignoreNulls:[]}},community_chat_polls:{autoIncrement:!1,defaults:{pollType:e.cast([0,0])},id:223,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},community_direct_invites_presets:{autoIncrement:!1,defaults:{fallbackUrl:"",pictureUrlExpirationTimestampMs1:e.cast([0,0]),pictureUrlExpirationTimestampMs2:e.cast([0,0]),presetTypeV2:"ALL_MEMBERS"},id:199,indexes:{},primaryKey:{fields:["communityId","presetType","source"],ignoreNulls:[]}},community_events:{autoIncrement:!1,defaults:{},id:202,indexes:{},primaryKey:{fields:["eventId","communityId"],ignoreNulls:[]}},community_folders:{autoIncrement:!1,defaults:{capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),inviteStatus:e.cast([0,0]),notificationMutedUntil:e.cast([0,0])},id:162,indexes:{byFbGroupId:{fields:["fbGroupId","folderId"],ignoreNulls:[]}},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_members:{autoIncrement:!1,defaults:{adminActions:e.cast([0,0]),channelBadges:e.cast([0,0]),contactCapabilities:e.cast([0,0]),requestId:"",source:e.cast([0,0]),threadRoles:e.cast([0,0])},id:170,indexes:{communityContact:{fields:["communityId","contactId","requestId","source","name"],ignoreNulls:[]},communitySource:{fields:["communityId","source","requestId","contactId","name"],ignoreNulls:[]}},primaryKey:{fields:["communityId","contactId","source","requestId"],ignoreNulls:[]}},community_members_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:189,indexes:{},primaryKey:{fields:["communityId","isAdmin","minName","source","requestId"],ignoreNulls:[]}},community_messaging_aggregated_copresence_counts_for_chat:{autoIncrement:!1,defaults:{},id:204,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},community_messaging_aggregated_user_presence_counts_for_community:{autoIncrement:!1,defaults:{},id:203,indexes:{},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_rules:{autoIncrement:!1,defaults:{},id:254,indexes:{},primaryKey:{fields:["communityId","ruleId"],ignoreNulls:[]}},community_surface_ranges:{autoIncrement:!1,defaults:{},id:253,indexes:{},primaryKey:{fields:["surfaceType","communityKey"],ignoreNulls:[]}},community_thread_sync_info:{autoIncrement:!1,defaults:{},id:294,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},connectivity_status:{autoIncrement:!0,defaults:{},id:114,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},contact_upload_settings:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:74,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},contacts:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),blockedByViewerStatus:e.cast([0,0]),canViewerMessage:!0,capabilities2:e.cast([0,0]),contactReachabilityStatusType:e.cast([0,0]),contactType:e.cast([0,0]),contactTypeExact:e.cast([0,0]),gender:e.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:e.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:e.cast([0,0]),rank:0,restrictionType:e.cast([0,0]),waConnectStatus:e.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},contextual_profile_v1:{autoIncrement:!1,defaults:{},id:216,indexes:{associatedEntityIdAndOwner:{fields:["associatedEntityId","ownerId"],ignoreNulls:[]}},primaryKey:{fields:["ownerId","associatedEntityId"],ignoreNulls:[]}},cowatch_sessions:{autoIncrement:!1,defaults:{},id:80,indexes:{},primaryKey:{fields:["cowatchSessionId"],ignoreNulls:[]}},ctas:{autoIncrement:!1,defaults:{},id:15,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},custom_thread_commands:{autoIncrement:!1,defaults:{isOpenPersistentMenu:!1},id:296,indexes:{commandId:{fields:["commandId"],ignoreNulls:[]},rank:{fields:["threadKey","rank"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","commandId"],ignoreNulls:[]}},cutover_threads:{autoIncrement:!1,defaults:{isMigrated:!1,showOpenMessageHistory:!1},id:193,indexes:{},primaryKey:{fields:["openThreadId"],ignoreNulls:[]}},data_trace_addon:{autoIncrement:!0,defaults:{timestampMs:e.cast([0,0])},id:154,indexes:{traceIdAddonId:{fields:["traceId","addonId"],ignoreNulls:[]}},primaryKey:{fields:["addonId"],ignoreNulls:[]}},data_trace_meta:{autoIncrement:!1,defaults:{foregroundTimestampMs:e.cast([0,0]),initTimestampMs:e.cast([0,0]),shouldFlush:!1,traceType:e.cast([0,0])},id:153,indexes:{shouldFlushInitTimestampMsTraceId:{fields:["shouldFlush","initTimestampMs","traceId"],ignoreNulls:[]}},primaryKey:{fields:["traceId"],ignoreNulls:[]}},device_metadata:{autoIncrement:!0,defaults:{},id:185,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},discoverable_chat_participants:{autoIncrement:!1,defaults:{source:e.cast([0,0])},id:248,indexes:{},primaryKey:{fields:["threadId","contactId","source"],ignoreNulls:[]}},discoverable_chat_participants_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:249,indexes:{},primaryKey:{fields:["threadId","source","minName"],ignoreNulls:[]}},discoverable_chats_personal_inbox_info:{autoIncrement:!1,defaults:{},id:326,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}},e2ee_dummy_table_for_sync:{autoIncrement:!1,defaults:{},id:171,indexes:{},primaryKey:{fields:["placeholder"],ignoreNulls:[]}},edit_message_history:{autoIncrement:!0,defaults:{sendStatus:e.cast([0,0])},id:322,indexes:{originalMsgPkEditTs:{fields:["originalMessagePk","serverAdjustedEditTsMs"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},emoji_sets:{autoIncrement:!1,defaults:{},id:151,indexes:{},primaryKey:{fields:["categoryIdx","emojiIdx","type_"],ignoreNulls:[]}},encrypted_backup_restore_task_payload_context:{autoIncrement:!1,defaults:{},id:190,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},encrypted_backups:{autoIncrement:!0,defaults:{authorityLevel:e.cast([0,0]),hasOtcEligibleDevices:!1},id:172,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_client_restore_status:{autoIncrement:!1,defaults:{},id:231,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},encrypted_backups_debug_metadata:{autoIncrement:!1,defaults:{},id:206,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:217,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_dyi_backup_restore_status:{autoIncrement:!0,defaults:{},id:208,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata:{autoIncrement:!1,defaults:{},id:207,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:218,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_message_backup_status:{autoIncrement:!1,defaults:{},id:213,indexes:{},primaryKey:{fields:["messagePk"],ignoreNulls:[]}},encrypted_backups_metadata:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:196,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_otc_devices:{autoIncrement:!1,defaults:{},id:261,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},encrypted_backups_otc_notification_sending_status:{autoIncrement:!0,defaults:{},id:285,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_status_trigger:{autoIncrement:!0,defaults:{},id:195,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_virtual_devices:{autoIncrement:!0,defaults:{removalStatus:e.cast([0,1]),requiresHsmMigration:!1,virtualDeviceType:e.cast([0,1])},id:184,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},epd_cookie_settings:{autoIncrement:!1,defaults:{},id:163,indexes:{},primaryKey:{fields:[],ignoreNulls:[]}},experiences_shared_state:{autoIncrement:!1,defaults:{},id:282,indexes:{},primaryKey:{fields:["stateKey"],ignoreNulls:[]}},fb_events:{autoIncrement:!1,defaults:{},id:200,indexes:{},primaryKey:{fields:["eventId"],ignoreNulls:[]}},fb_transport_contacts:{autoIncrement:!0,defaults:{},id:240,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},feature_limits:{autoIncrement:!1,defaults:{},id:150,indexes:{},primaryKey:{fields:["type_"],ignoreNulls:[]}},filtered_messages_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:211,indexes:{},primaryKey:{fields:["threadKey","mailboxType","minTimestampMs","minMessageId","messageRangeFilter"],ignoreNulls:[]}},filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:e.cast([0,0]),maxThreadKey:e.cast([0,0]),minLastActivityTimestampMs:e.cast([0,0]),minThreadKey:e.cast([0,0]),secondaryThreadRangeFilter:e.cast([0,0]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}},focus_mode_ctas:{autoIncrement:!1,defaults:{},id:30,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},folder_metadata:{autoIncrement:!1,defaults:{},id:35,indexes:{},primaryKey:{fields:["parentThreadKey"],ignoreNulls:[]}},forward_content:{autoIncrement:!1,defaults:{},id:129,indexes:{},primaryKey:{fields:["value","type_"],ignoreNulls:[]}},gdpr_settings:{autoIncrement:!1,defaults:{},id:75,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},gradient_colors:{autoIncrement:!1,defaults:{},id:117,indexes:{},primaryKey:{fields:["themeFbid","gradientIndex"],ignoreNulls:[]}},group_invitations_pending:{autoIncrement:!1,defaults:{communityJoinRequestStatus:e.cast([0,0]),communityParticipationControlRequestStatus:e.cast([0,0]),communityParticipationControlSetting:e.cast([0,0])},id:235,indexes:{},primaryKey:{fields:["linkHash"],ignoreNulls:[]}},group_invites:{autoIncrement:!1,defaults:{},id:197,indexes:{},primaryKey:{fields:["threadKey","inviterId","inviteeId"],ignoreNulls:[]}},group_membership_approval_requests:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:26,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},horizon_contact_info:{autoIncrement:!1,defaults:{},id:323,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_contact_info:{autoIncrement:!1,defaults:{e2eeEligibility:e.cast([0,0])},id:176,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_thread_info:{autoIncrement:!1,defaults:{igDmSettingsMode:e.cast([0,0]),igDmSettingsTtlSec:e.cast([-1,4294967295])},id:194,indexes:{igThreadID:{fields:["igThreadId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},ig_thread_labels:{autoIncrement:!1,defaults:{labelTimestampMs:e.cast([0,0])},id:318,indexes:{},primaryKey:{fields:["threadKey","labelType"],ignoreNulls:[]}},igd_xma_receiver_fetch:{autoIncrement:!1,defaults:{},id:316,indexes:{},primaryKey:{fields:["messageId"],ignoreNulls:[]}},in_thread_banner:{autoIncrement:!1,defaults:{},id:118,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},in_thread_banner_ctas:{autoIncrement:!1,defaults:{},id:119,indexes:{},primaryKey:{fields:["bannerId","ctaId"],ignoreNulls:[]}},in_thread_banner_overflow_menu:{autoIncrement:!1,defaults:{},id:120,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},inbox_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:e.cast([0,0]),minThreadKey:e.cast([0,0])},id:198,indexes:{},primaryKey:{fields:["syncGroup"],ignoreNulls:[]}},inbox_view_state:{autoIncrement:!1,defaults:{value:""},id:277,indexes:{},primaryKey:{fields:["interface_","configName"],ignoreNulls:[]}},inbox_view_state_v2:{autoIncrement:!1,defaults:{value:""},id:281,indexes:{},primaryKey:{fields:["configName"],ignoreNulls:[]}},lightspeed_task_context:{autoIncrement:!1,defaults:{requiresAuthentication:!1},id:306,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},linked_groups:{autoIncrement:!1,defaults:{},id:130,indexes:{threadKey:{fields:["threadKey"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},live_location_sharers:{autoIncrement:!1,defaults:{},id:149,indexes:{},primaryKey:{fields:["threadKey","userId"],ignoreNulls:[]}},local_message_persistence_store:{autoIncrement:!0,defaults:{},id:301,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_deleted_messages:{autoIncrement:!0,defaults:{},id:303,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_supplemental:{autoIncrement:!0,defaults:{},id:302,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_tag_index:{autoIncrement:!0,defaults:{},id:304,indexes:{offlineThreadingId:{fields:["offlineThreadingId","threadId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},m_suggestions:{autoIncrement:!1,defaults:{},id:21,indexes:{},primaryKey:{fields:["threadKey","timestampMs","suggestionId"],ignoreNulls:[]}},mailbox_metadata:{autoIncrement:!1,defaults:{},id:25,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mailbox_task_completion_api_tasks:{autoIncrement:!1,defaults:{},id:233,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},mailbox_task_completion_notification_context:{autoIncrement:!1,defaults:{},id:232,indexes:{},primaryKey:{fields:["notificationScopeKey"],ignoreNulls:[]}},media_send_jobs:{autoIncrement:!1,defaults:{},id:51,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},media_staging:{autoIncrement:!1,defaults:{progress:0},id:161,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},message_requests:{autoIncrement:!1,defaults:{},id:34,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},message_search_queries:{autoIncrement:!1,defaults:{},id:70,indexes:{},primaryKey:{fields:["type_","query","threadKeyV2"],ignoreNulls:[]}},message_search_results:{autoIncrement:!1,defaults:{},id:69,indexes:{},primaryKey:{fields:["type_","query","threadKey","globalIndex"],ignoreNulls:[]}},messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}},messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},messages_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1},id:13,indexes:{},primaryKey:{fields:["threadKey","minTimestampMs","minMessageId"],ignoreNulls:[]}},messages_status:{autoIncrement:!1,defaults:{timestampMs:e.cast([0,0])},id:33,indexes:{},primaryKey:{fields:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"],ignoreNulls:[]}},messaging_privacy_settings:{autoIncrement:!1,defaults:{e2eeXmaPreviewsDisabled:!1,readReceiptsDisabled:e.cast([0,0])},id:288,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},messaging_settings:{autoIncrement:!1,defaults:{},id:83,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mi_act_mapping_table:{autoIncrement:!1,defaults:{},id:173,indexes:{chat_id:{fields:["clientThreadPk"],ignoreNulls:[]},fk_threads:{fields:["serverThreadKey"],ignoreNulls:[]},jid:{fields:["jid"],ignoreNulls:[]}},primaryKey:{fields:["serverThreadKey","clientThreadPk","jid"],ignoreNulls:[]}},msg_pinned_messages_v2:{autoIncrement:!1,defaults:{},id:205,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","pinnedTimestampMs"],ignoreNulls:[]}},msgr_quiet_time:{autoIncrement:!1,defaults:{},id:317,indexes:{quietTimeId:{fields:["quietTimeId"],ignoreNulls:[]}},primaryKey:{fields:["quietTimeId"],ignoreNulls:[]}},mwb_safety_interventions:{autoIncrement:!1,defaults:{},id:327,indexes:{},primaryKey:{fields:["interventionId","interventionEntId"],ignoreNulls:[]}},network_requests:{autoIncrement:!1,defaults:{},id:3,indexes:{},primaryKey:{fields:["taskQueueName","syncDatabaseId"],ignoreNulls:[]}},new_payment_credential_option:{autoIncrement:!1,defaults:{},id:90,indexes:{},primaryKey:{fields:["credentialType"],ignoreNulls:[]}},notification_settings:{autoIncrement:!1,defaults:{includeInSwitchAccountBadges:!1,mutePageAccountMessageReminder:!1},id:175,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},offline_queue_thread_status:{autoIncrement:!1,defaults:{},id:295,indexes:{},primaryKey:{fields:["threadJid"],ignoreNulls:[]}},ohai_gateway_key_configs:{autoIncrement:!1,defaults:{},id:313,indexes:{},primaryKey:{fields:["keyId"],ignoreNulls:[]}},p2m_charge:{autoIncrement:!1,defaults:{},id:97,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice:{autoIncrement:!1,defaults:{},id:94,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice_attachment:{autoIncrement:!1,defaults:{},id:95,indexes:{},primaryKey:{fields:["orderId","productItemId"],ignoreNulls:[]}},p2p_request_v2:{autoIncrement:!1,defaults:{},id:100,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},p2p_transfer_v2:{autoIncrement:!1,defaults:{},id:101,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},pake_messages:{autoIncrement:!1,defaults:{},id:258,indexes:{},primaryKey:{fields:["sessionId"],ignoreNulls:[]}},participant_list_queries:{autoIncrement:!1,defaults:{},id:219,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},participant_search_queries:{autoIncrement:!1,defaults:{},id:214,indexes:{},primaryKey:{fields:["query","threadKey"],ignoreNulls:[]}},participants:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),deliveredWatermarkTimestampMs:e.cast([0,0]),groupParticipantJoinState:e.cast([0,0]),readActionTimestampMs:e.cast([0,0]),readWatermarkTimestampMs:e.cast([0,0]),threadRoles:e.cast([0,0])},id:14,indexes:{contactIdThreadKey:{fields:["contactId","threadKey"],ignoreNulls:[]},threadKeyDeliveredWatermarkTimestampMs:{fields:["threadKey","deliveredWatermarkTimestampMs","contactId"],ignoreNulls:[]},threadKeyReadWatermarkTimestampMs:{fields:["threadKey","readWatermarkTimestampMs","contactId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},payment_auth_request_results:{autoIncrement:!1,defaults:{},id:108,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_client_auth_token:{autoIncrement:!1,defaults:{},id:107,indexes:{},primaryKey:{fields:["userId","deviceId","appId"],ignoreNulls:[]}},payment_method:{autoIncrement:!1,defaults:{},id:89,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_p2p_risk_verification:{autoIncrement:!1,defaults:{},id:98,indexes:{},primaryKey:{fields:["requestId","transactionId"],ignoreNulls:[]}},payment_pin_verification_results:{autoIncrement:!1,defaults:{},id:113,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_price_list_item:{autoIncrement:!1,defaults:{},id:96,indexes:{},primaryKey:{fields:["orderId","id"],ignoreNulls:[]}},payment_server_request_results:{autoIncrement:!1,defaults:{},id:109,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_transaction_v2:{autoIncrement:!1,defaults:{},id:99,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},payment_type_bank_v2:{autoIncrement:!1,defaults:{},id:88,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_type_card:{autoIncrement:!1,defaults:{},id:86,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_type_paypal:{autoIncrement:!1,defaults:{},id:85,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_user_auth:{autoIncrement:!1,defaults:{},id:106,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_eligibility:{autoIncrement:!1,defaults:{},id:92,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_ofac_blacklisted_countries:{autoIncrement:!1,defaults:{},id:93,indexes:{},primaryKey:{fields:["isoCountryCode"],ignoreNulls:[]}},payments_transaction_details_core:{autoIncrement:!1,defaults:{},id:103,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},payments_transaction_details_ctas:{autoIncrement:!1,defaults:{},id:104,indexes:{},primaryKey:{fields:["transactionId","ctaId"],ignoreNulls:[]}},payments_transaction_details_rows:{autoIncrement:!1,defaults:{},id:105,indexes:{},primaryKey:{fields:["transactionId","rowOrder"],ignoreNulls:[]}},paypal_funding_options:{autoIncrement:!1,defaults:{},id:91,indexes:{},primaryKey:{fields:["optionId"],ignoreNulls:[]}},pending_backups_context_v2:{autoIncrement:!0,defaults:{isInstamadillo:!1},id:177,indexes:{fk_pending_tasks:{fields:["pendingBackupTaskId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_fire_and_forget_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:e.cast([0,0]),priority:e.cast([0,0])},id:5,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},pending_protobuf_backups_context:{autoIncrement:!0,defaults:{},id:305,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:e.cast([0,0]),failureCount:e.cast([0,0]),firstExecutedTimestampMs:e.cast([0,0]),minTimeToSyncTimestampMs:e.cast([0,0]),pluginType:e.cast([0,0]),priority:e.cast([0,0]),taskDispatchPriority:e.cast([0,0])},id:2,indexes:{queueNameTaskId:{fields:["queueName","taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},persistent_menu_ctas:{autoIncrement:!1,defaults:{ctaType:"fallback"},id:251,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},persistent_menu_items:{autoIncrement:!1,defaults:{},id:77,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},pinned_messages_v2:{autoIncrement:!1,defaults:{},id:155,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},pinned_threads:{autoIncrement:!1,defaults:{},id:82,indexes:{pinnedTimestamp:{fields:["pinnedTimestamp","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},poll_options_v2:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:e.cast([0,0]),sortKeyVotingTimestamp:e.cast([0,0]),voteCount:e.cast([0,0])},id:39,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},poll_votes_v2:{autoIncrement:!1,defaults:{},id:40,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},polls:{autoIncrement:!1,defaults:{pollType:e.cast([0,0])},id:38,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},presence_settings:{autoIncrement:!1,defaults:{hasConvertedToViewSideSettings:!1,isActiveStatusViewable:!1,isActiveStatusViewableOnFb:!1,isActiveStatusViewableOnMessenger:!1},id:187,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},presence_states:{autoIncrement:!1,defaults:{},id:186,indexes:{statusContactId:{fields:["status","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId"],ignoreNulls:[]}},profile_sheet_information:{autoIncrement:!1,defaults:{},id:256,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},quick_reply_ctas:{autoIncrement:!1,defaults:{},id:20,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ranking_requests:{autoIncrement:!1,defaults:{},id:135,indexes:{},primaryKey:{fields:["scoreType"],ignoreNulls:[]}},ranking_scores:{autoIncrement:!1,defaults:{score:0,scoreIndex:e.cast([0,0])},id:134,indexes:{scoreTypeContactId:{fields:["scoreType","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId","scoreType"],ignoreNulls:[]}},reachability_settings:{autoIncrement:!1,defaults:{},id:148,indexes:{},primaryKey:{fields:["audience"],ignoreNulls:[]}},reaction_v2_types:{autoIncrement:!1,defaults:{},id:229,indexes:{},primaryKey:{fields:["reactionFbid"],ignoreNulls:[]}},reactions:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),reactionCreationTimestampMs:e.cast([0,0]),timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:8,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","actorId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","actorId"],ignoreNulls:[]}},reactions_v2:{autoIncrement:!1,defaults:{lastUpdatedTimestampMs:e.cast([0,0]),viewerReactionTimestampMs:e.cast([0,0])},id:226,indexes:{optimistic:{fields:["threadKey","messageId","reactionFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","reactionFbid","messageTimestamp"],ignoreNulls:[]}},reactions_v2_details:{autoIncrement:!1,defaults:{},id:239,indexes:{},primaryKey:{fields:["threadId","messageId","reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:243,indexes:{},primaryKey:{fields:["threadId","messageId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},reactions_v2_details_users:{autoIncrement:!1,defaults:{},id:227,indexes:{},primaryKey:{fields:["reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_users_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:228,indexes:{},primaryKey:{fields:["reactorId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},roll_call_contributions_v2:{autoIncrement:!1,defaults:{contributionSource:e.cast([0,0]),contributorId:e.cast([0,0])},id:255,indexes:{optimistic:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs","threadKey"],ignoreNulls:[]}},roll_calls:{autoIncrement:!1,defaults:{canViewWithoutContributing:!1,isBlurred:!1,viewerCanEditPrompt:!1,viewerHasContributed:!1},id:250,indexes:{},primaryKey:{fields:["rollCallId","threadKey"],ignoreNulls:[]}},room_participants:{autoIncrement:!1,defaults:{},id:64,indexes:{optimistic:{fields:["roomId","participantId"],ignoreNulls:[]}},primaryKey:{fields:["roomId","participantId","type_"],ignoreNulls:[]}},rooms:{autoIncrement:!1,defaults:{notificationMutedUntilMs:e.cast([0,0])},id:63,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["roomId"],ignoreNulls:[]}},rtc_call_events:{autoIncrement:!0,defaults:{isProcessed:!1},id:245,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},rtc_multiway_call_initiation_conference_names:{autoIncrement:!1,defaults:{},id:24,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_ongoing_calls_on_threads_v2:{autoIncrement:!1,defaults:{},id:23,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_rooms_on_threads:{autoIncrement:!1,defaults:{},id:181,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_signals:{autoIncrement:!1,defaults:{},id:22,indexes:{},primaryKey:{fields:["timestampMs","type_"],ignoreNulls:[]}},saved_messages:{autoIncrement:!1,defaults:{},id:165,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},screen_time:{autoIncrement:!0,defaults:{},id:321,indexes:{},primaryKey:{fields:["recordId"],ignoreNulls:[]}},search_queries:{autoIncrement:!1,defaults:{surfaceType:e.cast([0,1])},id:67,indexes:{},primaryKey:{fields:["query","surfaceType"],ignoreNulls:[]}},secure_acs_blinded_tokens:{autoIncrement:!0,defaults:{},id:308,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_acs_configurations:{autoIncrement:!1,defaults:{},id:307,indexes:{},primaryKey:{fields:["configId"],ignoreNulls:[]}},secure_acs_tokens:{autoIncrement:!1,defaults:{},id:309,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_encrypted_backups_client_state:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),encryptionVersion:e.cast([0,0]),revisionVersion:e.cast([0,0])},id:168,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},secure_encrypted_backups_device_supported_versions:{autoIncrement:!1,defaults:{},id:192,indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},primaryKey:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},secure_encrypted_backups_devices:{autoIncrement:!1,defaults:{},id:191,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},secure_encrypted_backups_epochs:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:169,indexes:{fk_secure_encrypted_backups_client_state:{fields:["backupId","epochId"],ignoreNulls:[]}},primaryKey:{fields:["epochId"],ignoreNulls:[]}},secure_encrypted_backups_generated_recovery_code:{autoIncrement:!1,defaults:{virtualDeviceType:e.cast([0,1])},id:174,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_encrypted_backups_message_thread_id_context:{autoIncrement:!1,defaults:{},id:180,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId","listId"],ignoreNulls:[]}},secure_encrypted_backups_recovery_code_status:{autoIncrement:!1,defaults:{},id:178,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_get_secrets_context:{autoIncrement:!1,defaults:{},id:259,indexes:{},primaryKey:{fields:["deviceRegistrationId"],ignoreNulls:[]}},secure_recovery_code_data:{autoIncrement:!1,defaults:{},id:179,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},self_profile:{autoIncrement:!1,defaults:{},id:81,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}},server_search_sections:{autoIncrement:!1,defaults:{},id:66,indexes:{},primaryKey:{fields:["query","globalIndex"],ignoreNulls:[]}},shared_album_contributions:{autoIncrement:!1,defaults:{creationTimestampMs:e.cast([0,0]),creatorId:e.cast([0,0])},id:280,indexes:{},primaryKey:{fields:["sharedAlbumId","sharedAlbumContributionId","threadKey","messageId"],ignoreNulls:[]}},shared_albums:{autoIncrement:!1,defaults:{contributionCount:e.cast([0,0]),lastActivityTimestampMs:e.cast([0,0])},id:279,indexes:{},primaryKey:{fields:["sharedAlbumId","threadKey"],ignoreNulls:[]}},shared_albums_multimedia_upload_jobs:{autoIncrement:!1,defaults:{},id:283,indexes:{},primaryKey:{fields:["offlineThreadingId"],ignoreNulls:[]}},shared_albums_multimedia_upload_subjobs_status:{autoIncrement:!1,defaults:{},id:284,indexes:{},primaryKey:{fields:["offlineThreadingId","jobId"],ignoreNulls:[]}},status:{autoIncrement:!1,defaults:{},id:62,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["statusId"],ignoreNulls:[]}},sticker_pack_details:{autoIncrement:!1,defaults:{},id:127,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_packs:{autoIncrement:!1,defaults:{},id:122,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_search_featured_tags:{autoIncrement:!1,defaults:{},id:125,indexes:{},primaryKey:{fields:["tagIndex"],ignoreNulls:[]}},sticker_search_queries:{autoIncrement:!1,defaults:{},id:124,indexes:{},primaryKey:{fields:["query"],ignoreNulls:[]}},sticker_search_results:{autoIncrement:!1,defaults:{},id:123,indexes:{},primaryKey:{fields:["resultIndex","query","type_"],ignoreNulls:[]}},sticker_store_pack_indices:{autoIncrement:!1,defaults:{},id:128,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_to_collection:{autoIncrement:!1,defaults:{},id:126,indexes:{},primaryKey:{fields:["stickerId","collectionId"],ignoreNulls:[]}},stickers:{autoIncrement:!1,defaults:{},id:121,indexes:{stickerPackId:{fields:["stickerPackId","stickerId"],ignoreNulls:[]}},primaryKey:{fields:["stickerId"],ignoreNulls:[]}},stories:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:54,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["storyId"],ignoreNulls:[]}},story_ad_card:{autoIncrement:!1,defaults:{},id:58,indexes:{},primaryKey:{fields:["adPosition","clientToken","cardId"],ignoreNulls:[]}},story_ad_ctas:{autoIncrement:!1,defaults:{},id:59,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},story_ad_unit:{autoIncrement:!1,defaults:{shouldShowAdChoice:!1},id:57,indexes:{},primaryKey:{fields:["adPosition","clientToken"],ignoreNulls:[]}},story_buckets:{autoIncrement:!1,defaults:{pageNum:e.cast([0,0]),readState:e.cast([0,0])},id:53,indexes:{optimistic:{fields:["ownerId","bucketType"],ignoreNulls:[]}},primaryKey:{fields:["bucketId"],ignoreNulls:[]}},story_buckets_paginated_queries:{autoIncrement:!1,defaults:{},id:61,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}},story_overlays:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:60,indexes:{},primaryKey:{fields:["storyId","storyOverlayId"],ignoreNulls:[]}},story_reactions:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:56,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["reactionId"],ignoreNulls:[]}},story_viewers:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),interactionType:e.cast([0,1])},id:55,indexes:{},primaryKey:{fields:["storyId","viewerContactId","interactionType"],ignoreNulls:[]}},supervision_edge:{autoIncrement:!1,defaults:{},id:319,indexes:{},primaryKey:{fields:["edgeId"],ignoreNulls:[]}},supervision_metadata:{autoIncrement:!1,defaults:{},id:320,indexes:{},primaryKey:{fields:["supervisionMetadataId"],ignoreNulls:[]}},support_translations:{autoIncrement:!1,defaults:{},id:300,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}},sync_group_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:e.cast([0,0]),minThreadKey:e.cast([0,0])},id:220,indexes:{},primaryKey:{fields:["syncGroup","parentThreadKey"],ignoreNulls:[]}},sync_groups:{autoIncrement:!1,defaults:{canIgnoreTimestamp:!1,lastSyncCompletedTimestampMs:e.cast([0,0]),lastSyncRequestTimestampMs:e.cast([0,0]),minTimeToSyncTimestampMs:e.cast([0,0]),priority:e.cast([0,0]),sendSyncParams:!1,syncChannel:e.cast([0,1]),syncStatus:e.cast([0,0])},id:1,indexes:{},primaryKey:{fields:["groupId"],ignoreNulls:[]}},taken_down_threads:{autoIncrement:!1,defaults:{},id:212,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},third_party_id_store:{autoIncrement:!1,defaults:{},id:242,indexes:{},primaryKey:{fields:["platform"],ignoreNulls:[]}},thread_bans:{autoIncrement:!1,defaults:{},id:297,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},thread_creation_status:{autoIncrement:!1,defaults:{},id:278,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},thread_label_mappings:{autoIncrement:!1,defaults:{sortKey:e.cast([0,0])},id:237,indexes:{},primaryKey:{fields:["threadKey","labelId"],ignoreNulls:[]}},thread_labels:{autoIncrement:!1,defaults:{},id:215,indexes:{},primaryKey:{fields:["labelId"],ignoreNulls:[]}},thread_limits:{autoIncrement:!1,defaults:{},id:287,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate:{autoIncrement:!1,defaults:{ctaType:e.cast([0,0]),privacyTextCtaType:e.cast([0,0])},id:28,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate_ctas:{autoIncrement:!1,defaults:{},id:29,indexes:{threadKeyCtaId:{fields:["threadKey","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},thread_point_query_ttrc:{autoIncrement:!1,defaults:{},id:286,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:183,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_seen_heads_queries:{autoIncrement:!1,defaults:{},id:325,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_themes:{autoIncrement:!1,defaults:{backgroundUrl:"",iconUrl:"",iconUrlFallback:"",isDeprecated:!1},id:116,indexes:{},primaryKey:{fields:["fbid"],ignoreNulls:[]}},threads:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),capabilities4:e.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:e.cast([0,0]),lastReadWatermarkTimestampMs:e.cast([0,0]),muteCallsExpireTimeMs:e.cast([0,0]),muteExpireTimeMs:e.cast([0,0]),muteMentionExpireTimeMs:e.cast([0,0]),ongoingCallState:e.cast([0,0]),readReceiptsDisabledV2:e.cast([0,0]),removeWatermarkTimestampMs:e.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:e.cast([0,0]),threadInvitesEnabledV2:e.cast([0,0]),unreadDisappearingMessageCount:e.cast([0,0]),unsendLimitMs:e.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_optimistic_context:{autoIncrement:!1,defaults:{},id:32,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},threads_optimistic_metadata:{autoIncrement:!1,defaults:{},id:312,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:e.cast([0,0]),maxThreadKey:e.cast([0,0]),minLastActivityTimestampMs:e.cast([0,0]),minThreadKey:e.cast([0,0])},id:10,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"],ignoreNulls:[]}},transaction_history:{autoIncrement:!1,defaults:{timestampMs:e.cast([0,0])},id:102,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},typing_indicator:{autoIncrement:!1,defaults:{},id:52,indexes:{},primaryKey:{fields:["threadKey","senderId"],ignoreNulls:[]}},universal_search_recent_searches:{autoIncrement:!1,defaults:{lastAccessedTimestampMs:e.cast([0,0])},id:68,indexes:{},primaryKey:{fields:["resultId"],ignoreNulls:[]}},user_visible_errors:{autoIncrement:!0,defaults:{},id:6,indexes:{},primaryKey:{fields:["errorId"],ignoreNulls:[]}},user_visible_network_connectivity_error:{autoIncrement:!0,defaults:{},id:115,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},value_model_features:{autoIncrement:!1,defaults:{},id:137,indexes:{},primaryKey:{fields:["feature"],ignoreNulls:[]}},value_model_output:{autoIncrement:!1,defaults:{},id:138,indexes:{},primaryKey:{fields:["product","contactId"],ignoreNulls:[]}},value_model_rules:{autoIncrement:!1,defaults:{},id:136,indexes:{},primaryKey:{fields:["product","ruleIndex"],ignoreNulls:[]}},video_chat_links_attempted_joiners:{autoIncrement:!1,defaults:{},id:79,indexes:{},primaryKey:{fields:["userId","url"],ignoreNulls:[]}},video_chat_links_joining:{autoIncrement:!1,defaults:{canAnonymousUsersJoin:!1},id:78,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["url","optimisticClientToken"],ignoreNulls:[]}},work_contact_info:{autoIncrement:!1,defaults:{},id:210,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},work_genai:{autoIncrement:!1,defaults:{},id:293,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},workroom_creation_requests:{autoIncrement:!1,defaults:{},id:252,indexes:{},primaryKey:{fields:["creationId"],ignoreNulls:[]}},workroom_invites:{autoIncrement:!1,defaults:{},id:257,indexes:{},primaryKey:{fields:["inviteId"],ignoreNulls:[]}},workrooms_co_presence_states:{autoIncrement:!1,defaults:{},id:246,indexes:{userCoPresence:{fields:["userId","coPresenceObjectId"],ignoreNulls:[]}},primaryKey:{fields:["userId"],ignoreNulls:[]}}}),u=Object.freeze(babelHelpers.extends({},s,{e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}}})),c=Object.freeze(babelHelpers.extends({},u,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),d=Object.freeze(babelHelpers.extends({},c,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{fetchTimestamp:{fields:["fetchTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),m=Object.freeze(babelHelpers.extends({},d,{messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),p=Object.freeze(babelHelpers.extends({},m,{auto_restore_opt_out:{autoIncrement:!1,defaults:{},id:330,indexes:{},primaryKey:{fields:["optOutKey"],ignoreNulls:[]}}})),_=Object.freeze(babelHelpers.extends({},p,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),f=Object.freeze(babelHelpers.extends({},_,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:e.cast([-1,4294967295]),status:e.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},messenger_fts_threads_queries:{autoIncrement:!1,defaults:{sessionId:""},id:332,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}}})),g=Object.freeze(babelHelpers.extends({},f,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:e.cast([-1,4294967295]),status:e.cast([0,0]),threadType:e.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}}})),h=Object.freeze(babelHelpers.extends({},g,{filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:e.cast([0,0]),maxThreadKey:e.cast([0,0]),minLastActivityTimestampMs:e.cast([0,0]),minThreadKey:e.cast([0,0]),secondaryThreadRangeFilter:e.cast([0,0]),syncGroup:e.cast([0,1]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}}})),y=Object.freeze(babelHelpers.extends({},h,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),C=Object.freeze(babelHelpers.extends({},y,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),b=Object.freeze(babelHelpers.extends({},C,{media_receiver_fetch_transport_mappings:{autoIncrement:!1,defaults:{},id:333,indexes:{},primaryKey:{fields:["receiverFetchId"],ignoreNulls:[]}}})),v=Object.freeze(babelHelpers.extends({},b,{threads:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),capabilities4:e.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:e.cast([0,0]),lastReadWatermarkTimestampMs:e.cast([0,0]),muteCallsExpireTimeMs:e.cast([0,0]),muteExpireTimeMs:e.cast([0,0]),muteMentionExpireTimeMs:e.cast([0,0]),ongoingCallState:e.cast([0,0]),readReceiptsDisabledV2:e.cast([0,0]),removeWatermarkTimestampMs:e.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:e.cast([0,0]),threadInvitesEnabledV2:e.cast([0,0]),unreadDisappearingMessageCount:e.cast([0,0]),unsendLimitMs:e.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),S=Object.freeze(babelHelpers.extends({},v,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),R=Object.freeze(babelHelpers.extends({},S,{attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),L=Object.freeze(babelHelpers.extends({},R,{client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}}})),E=Object.freeze(babelHelpers.extends({},L,{pake_messages:{autoIncrement:!1,defaults:{},id:258,indexes:{},primaryKey:{fields:["sessionId"],ignoreNulls:[]}}})),k=Object.freeze(babelHelpers.extends({},E,{threads:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),capabilities4:e.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:e.cast([0,0]),lastReadWatermarkTimestampMs:e.cast([0,0]),muteCallsExpireTimeMs:e.cast([0,0]),muteExpireTimeMs:e.cast([0,0]),muteMentionExpireTimeMs:e.cast([0,0]),ongoingCallState:e.cast([0,0]),readReceiptsDisabledV2:e.cast([0,0]),removeWatermarkTimestampMs:e.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:e.cast([0,0]),threadInvitesEnabledV2:e.cast([0,0]),unreadDisappearingMessageCount:e.cast([0,0]),unsendLimitMs:e.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),I=Object.freeze(babelHelpers.extends({},k,{contacts:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),blockedByViewerStatus:e.cast([0,0]),canViewerMessage:!0,capabilities2:e.cast([0,0]),contactReachabilityStatusType:e.cast([0,0]),contactType:e.cast([0,0]),contactTypeExact:e.cast([0,0]),gender:e.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:e.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:e.cast([0,0]),rank:0,restrictionType:e.cast([0,0]),waConnectStatus:e.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}}})),T=Object.freeze(babelHelpers.extends({},I,{encrypted_backups_otc_devices:{autoIncrement:!1,defaults:{},id:261,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}}})),D=Object.freeze(babelHelpers.extends({},T,{business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),x=Object.freeze(babelHelpers.extends({},D,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),$=Object.freeze(babelHelpers.extends({},x,{account_synced_fields:{autoIncrement:!1,defaults:{},id:334,indexes:{},primaryKey:{fields:["accountId","syncedField"],ignoreNulls:[]}}})),P=Object.freeze(babelHelpers.extends({},$,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),N=Object.freeze(babelHelpers.extends({},P,{encrypted_backup_user_preferences:{autoIncrement:!0,defaults:{},id:335,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}}})),M=Object.freeze(babelHelpers.extends({},N,{support_translation_feedback:{autoIncrement:!1,defaults:{},id:336,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}}})),w=Object.freeze(babelHelpers.extends({},M,{support_translations:{autoIncrement:!1,defaults:{},id:300,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}}})),A=Object.freeze(babelHelpers.extends({},w,{ig_thread_info:{autoIncrement:!1,defaults:{igDmSettingsMode:e.cast([0,0]),igDmSettingsTtlSec:e.cast([-1,4294967295])},id:194,indexes:{igThreadID:{fields:["igThreadId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),F=Object.freeze(babelHelpers.extends({},A,{e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}}})),O=Object.freeze(babelHelpers.extends({},F,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),B=Object.freeze(babelHelpers.extends({},O,{threads:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),capabilities4:e.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:e.cast([0,0]),lastReadWatermarkTimestampMs:e.cast([0,0]),muteCallsExpireTimeMs:e.cast([0,0]),muteExpireTimeMs:e.cast([0,0]),muteMentionExpireTimeMs:e.cast([0,0]),ongoingCallState:e.cast([0,0]),readReceiptsDisabledV2:e.cast([0,0]),removeWatermarkTimestampMs:e.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:e.cast([0,0]),threadInvitesEnabledV2:e.cast([0,0]),typingIndicatorDisabled:e.cast([0,0]),unreadDisappearingMessageCount:e.cast([0,0]),unsendLimitMs:e.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),W=Object.freeze(babelHelpers.extends({},B,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),q=Object.freeze(babelHelpers.extends({},W,{admin_message_ctas:{autoIncrement:!1,defaults:{showAdChoiceIcon:!1,timestampMs:e.cast([0,0])},id:27,indexes:{ctaId:{fields:["ctaId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}}})),U=Object.freeze(babelHelpers.extends({},q,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,isVideoQuickSend:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),V=Object.freeze(babelHelpers.extends({},U,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),H=Object.freeze(babelHelpers.extends({},V,{threads:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),capabilities4:e.cast([0,0]),capabilities5:e.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:e.cast([0,0]),lastReadWatermarkTimestampMs:e.cast([0,0]),muteCallsExpireTimeMs:e.cast([0,0]),muteExpireTimeMs:e.cast([0,0]),muteMentionExpireTimeMs:e.cast([0,0]),ongoingCallState:e.cast([0,0]),readReceiptsDisabledV2:e.cast([0,0]),removeWatermarkTimestampMs:e.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:e.cast([0,0]),threadInvitesEnabledV2:e.cast([0,0]),typingIndicatorDisabled:e.cast([0,0]),unreadDisappearingMessageCount:e.cast([0,0]),unsendLimitMs:e.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),G=Object.freeze(babelHelpers.extends({},H,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),z=Object.freeze(babelHelpers.extends({},G,{messaging_privacy_settings:{autoIncrement:!1,defaults:{e2eeHdMediaEnabled:!1,e2eeXmaPreviewsDisabled:!1,readReceiptsDisabled:e.cast([0,0])},id:288,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}}})),j=Object.freeze(babelHelpers.extends({},z,{media_staging:{autoIncrement:!1,defaults:{progress:0},id:161,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}}})),K=Object.freeze(babelHelpers.extends({},j,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),Q=Object.freeze(babelHelpers.extends({},K,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),X=Object.freeze(babelHelpers.extends({},Q,{community_folders:{autoIncrement:!1,defaults:{capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),inviteStatus:e.cast([0,0]),notificationMutedUntil:e.cast([0,0])},id:162,indexes:{byFbGroupId:{fields:["fbGroupId","folderId"],ignoreNulls:[]}},primaryKey:{fields:["folderId"],ignoreNulls:[]}}})),Y=Object.freeze(babelHelpers.extends({},X,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),J=Object.freeze(babelHelpers.extends({},Y,{ctx_ad_context:{autoIncrement:!1,defaults:{},id:337,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),Z=Object.freeze(babelHelpers.extends({},J,{server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}}})),ee=Object.freeze(babelHelpers.extends({},Z,{horizon_groups_key_mapping:{autoIncrement:!1,defaults:{},id:338,indexes:{},primaryKey:{fields:["threadKey","groupKey"],ignoreNulls:[]}}})),te=Object.freeze(babelHelpers.extends({},ee,{ctx_ad_context:{autoIncrement:!1,defaults:{},id:337,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),ne=Object.freeze(babelHelpers.extends({},te,{rtc_ongoing_calls_on_threads_v2:{autoIncrement:!1,defaults:{},id:23,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),capabilities4:e.cast([0,0]),capabilities5:e.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:e.cast([0,0]),lastReadWatermarkTimestampMs:e.cast([0,0]),muteCallsExpireTimeMs:e.cast([0,0]),muteExpireTimeMs:e.cast([0,0]),muteMentionExpireTimeMs:e.cast([0,0]),ongoingCallState:e.cast([0,0]),readReceiptsDisabledV2:e.cast([0,0]),removeWatermarkTimestampMs:e.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:e.cast([0,0]),threadInvitesEnabledV2:e.cast([0,0]),typingIndicatorDisabled:e.cast([0,0]),unreadDisappearingMessageCount:e.cast([0,0]),unsendLimitMs:e.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),re=Object.freeze(babelHelpers.extends({},ne,{horizon_party_members:{autoIncrement:!1,defaults:{},id:339,indexes:{},primaryKey:{fields:["partyKey","userId"],ignoreNulls:[]}}})),oe=Object.freeze(babelHelpers.extends({},re,{thread_theme_search_queries:{autoIncrement:!1,defaults:{},id:340,indexes:{},primaryKey:{fields:["query"],ignoreNulls:[]}},thread_theme_search_results:{autoIncrement:!1,defaults:{},id:341,indexes:{},primaryKey:{fields:["resultIndex","query"],ignoreNulls:[]}}})),ae=Object.freeze(babelHelpers.extends({},oe,{client_media_status:{autoIncrement:!1,defaults:{},id:342,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}}})),ie=Object.freeze(babelHelpers.extends({},ae,{secure_encrypted_backups_epochs:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:169,indexes:{fk_secure_encrypted_backups_client_state:{fields:["backupId","epochId"],ignoreNulls:[]}},primaryKey:{fields:["epochId"],ignoreNulls:[]}}})),le=Object.freeze(babelHelpers.extends({},ie,{contacts:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),blockedByViewerStatus:e.cast([0,0]),canViewerMessage:!0,capabilities2:e.cast([0,0]),contactReachabilityStatusType:e.cast([0,0]),contactType:e.cast([0,0]),contactTypeExact:e.cast([0,0]),friendshipStatus:e.cast([0,5]),gender:e.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:e.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:e.cast([0,0]),rank:0,restrictionType:e.cast([0,0]),waConnectStatus:e.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}}})),se=Object.freeze(babelHelpers.extends({},le,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),ue=Object.freeze(babelHelpers.extends({},se,{encrypted_backups_reenrollment_trigger:{autoIncrement:!0,defaults:{},id:343,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}}})),ce=Object.freeze(babelHelpers.extends({},ue,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),de=Object.freeze(babelHelpers.extends({},ce,{business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),me=Object.freeze(babelHelpers.extends({},de,{thread_label_mappings:{autoIncrement:!1,defaults:{sortKey:e.cast([0,0])},id:237,indexes:{labelId:{fields:["labelId","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","labelId"],ignoreNulls:[]}}})),pe=Object.freeze(babelHelpers.extends({},me,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),_e=Object.freeze(babelHelpers.extends({},pe,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),fe=Object.freeze(babelHelpers.extends({},_e,{pending_protobuf_backups_context:{autoIncrement:!0,defaults:{},id:305,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}}})),ge=Object.freeze(babelHelpers.extends({},fe,{threads:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),capabilities4:e.cast([0,0]),capabilities5:e.cast([0,0]),disableComposerInput:!1,draftMessage:"",hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:e.cast([0,0]),lastReadWatermarkTimestampMs:e.cast([0,0]),muteCallsExpireTimeMs:e.cast([0,0]),muteExpireTimeMs:e.cast([0,0]),muteMentionExpireTimeMs:e.cast([0,0]),ongoingCallState:e.cast([0,0]),readReceiptsDisabledV2:e.cast([0,0]),removeWatermarkTimestampMs:e.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:e.cast([0,0]),threadInvitesEnabledV2:e.cast([0,0]),typingIndicatorDisabled:e.cast([0,0]),unreadDisappearingMessageCount:e.cast([0,0]),unsendLimitMs:e.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),he=Object.freeze(babelHelpers.extends({},ge,{server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}}})),ye=Object.freeze(babelHelpers.extends({},he,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageHiddenState:e.cast([0,0]),messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),Ce=Object.freeze(babelHelpers.extends({},ye,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),be=Object.freeze(babelHelpers.extends({},Ce,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageHiddenState:e.cast([0,0]),messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},messageSubthreadParentMessageId:{fields:["threadKey","subthreadParentMessageId","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}},subthread_message_ranges:{autoIncrement:!1,defaults:{},id:347,indexes:{},primaryKey:{fields:["parentThreadKey","parentMessageId"],ignoreNulls:[]}},subthread_ranges:{autoIncrement:!1,defaults:{},id:346,indexes:{},primaryKey:{fields:["parentThreadKey"],ignoreNulls:[]}},subthread_senders:{autoIncrement:!1,defaults:{},id:345,indexes:{},primaryKey:{fields:["subthreadParentMessageId","contactId"],ignoreNulls:[]}},subthreads:{autoIncrement:!1,defaults:{},id:344,indexes:{},primaryKey:{fields:["parentThreadKey","parentMessageId"],ignoreNulls:[]}}})),ve=Object.freeze(babelHelpers.extends({},be,{subthread_senders:{autoIncrement:!1,defaults:{},id:345,indexes:{lastActivityTimestampMsOrder:{fields:["subthreadParentMessageId","lastActivityTimestampMs","contactId"],ignoreNulls:[]}},primaryKey:{fields:["subthreadParentMessageId","contactId"],ignoreNulls:[]}}})),Se=Object.freeze(babelHelpers.extends({},ve,{subthreads:{autoIncrement:!1,defaults:{},id:344,indexes:{lastActivityTimestampMsOrder:{fields:["parentThreadKey","lastActivityTimestampMs","parentMessageId"],ignoreNulls:[]}},primaryKey:{fields:["parentThreadKey","parentMessageId"],ignoreNulls:[]}}})),Re=Object.freeze(babelHelpers.extends({},Se,{subthread_message_ranges_v2:{autoIncrement:!1,defaults:{},id:348,indexes:{},primaryKey:{fields:["parentThreadKey","parentMessageId","minTimestampMs"],ignoreNulls:[]}}})),Le=Object.freeze(babelHelpers.extends({},Re,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageHiddenState:e.cast([0,0]),messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyMessageHiddenState:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},messageSubthreadParentMessageId:{fields:["threadKey","subthreadParentMessageId","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),Ee=Object.freeze(babelHelpers.extends({},Le,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),ke=Object.freeze(babelHelpers.extends({},Ee,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageHiddenState:e.cast([0,0]),messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyMessageHiddenState:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{collapsibleId:{fields:["collapsibleId","messageId"],ignoreNulls:["collapsibleId"]},ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},messageSubthreadParentMessageId:{fields:["threadKey","subthreadParentMessageId","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),Ie=Object.freeze(babelHelpers.extends({},ke,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),Te=Object.freeze(babelHelpers.extends({},Ie,{business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),De=Object.freeze(babelHelpers.extends({},Te,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),xe=Object.freeze(babelHelpers.extends({},De,{multi_step_replies:{autoIncrement:!1,defaults:{},id:349,indexes:{},primaryKey:{fields:["threadKey","messageId","automationRuleId","mailboxType"],ignoreNulls:[]}}})),$e=Object.freeze({afterUpgrade:o("LSDbV1.upgrade").afterUpgrade,revision:76,tables:xe,upgrade:{1:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(u),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),2:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(c),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),3:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(d),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1)});function t(t){return e.apply(this,arguments)}return t})(),4:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(m),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),5:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(p),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),6:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(_),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),7:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(f),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),8:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(g),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),9:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(h),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),10:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(y),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),11:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(C),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),12:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(b),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),13:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(v),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),14:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(S),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),15:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(R),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),16:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(L),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),17:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(E),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),18:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(k),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),19:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(I),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),20:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(T),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),21:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(D),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),22:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(x),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),23:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData($),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),24:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(P),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),25:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(N),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),26:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(M),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),27:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(w),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),28:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(A),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),29:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(F),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),30:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(O),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),31:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(B),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),32:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(W),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1)});function t(t){return e.apply(this,arguments)}return t})(),33:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(q),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),34:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(U),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),35:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(V),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),36:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(H),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),37:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(G),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),38:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(z),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),39:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(j),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),40:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(K),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1)});function t(t){return e.apply(this,arguments)}return t})(),41:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Q),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),42:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(X),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),43:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Y),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1)});function t(t){return e.apply(this,arguments)}return t})(),44:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(J),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),45:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Z),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),46:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ee),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),47:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(te),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),48:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ne),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),49:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(re),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),50:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(oe),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),51:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ae),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),52:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ie),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),53:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(le),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),54:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(se),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),55:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ue),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),56:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ce),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),57:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(de),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),58:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(me),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1)});function t(t){return e.apply(this,arguments)}return t})(),59:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(pe),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),60:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(_e),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),61:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(fe),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),62:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ge),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),63:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(he),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),64:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ye),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),65:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Ce),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),66:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(be),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),67:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ve),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1)});function t(t){return e.apply(this,arguments)}return t})(),68:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Se),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1)});function t(t){return e.apply(this,arguments)}return t})(),69:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Re),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),70:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Le),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),71:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Ee),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),72:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ke),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),73:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Ie),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),74:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Te),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),75:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(De),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),76:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(xe),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})()}});l.LSDbV1=$e}),98);
__d("ReStoreDbVersion",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e}function s(e){return e}function u(e,t){if(t in e)return e[t];throw r("FBLogger")("restore_db_migrations").mustfixThrow("Cannot find version: %s",t)}l.cast=e,l.uncast=s,l.castVersion=u}),98);
__d("LSDb",["LSDbV1","ReStoreDbVersion","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=Object.freeze({V1:o("ReStoreDbVersion").cast("V1")}),u={targetVersion:o("ReStoreDbVersion").castVersion(s,"V"+((e=r("justknobx")._("2392"))!=null?e:0)),versions:{V1:o("LSDbV1").LSDbV1},legacyVersions:{},versionOrder:["V1"]};l.LSDbVersion=s,l.Versions=u}),98);
__d("LSDbForeignKeys",[],(function(t,n,r,o,a,i){"use strict";var e={attachments:[{indexName:"fk_attachments",tableName:"attachment_items"},{indexName:"fk_attachments",tableName:"attachment_ctas"}],community_chat_poll_options:[{tableName:"community_chat_poll_votes"}],community_chat_polls:[{tableName:"community_chat_poll_options"},{tableName:"community_chat_poll_votes"}],data_trace_meta:[{indexName:"traceIdAddonId",tableName:"data_trace_addon"}],messages:[{indexName:"fk_messages",tableName:"attachments"},{indexName:"fk_messages",tableName:"reactions"}],pending_tasks:[{tableName:"encrypted_backup_restore_task_payload_context"},{indexName:"fk_pending_tasks",tableName:"pending_backups_context_v2"},{indexName:"fk_pending_tasks",tableName:"secure_recovery_code_data"},{indexName:"fk_pending_tasks",tableName:"secure_encrypted_backups_message_thread_id_context"},{tableName:"messages_optimistic_context"}],rooms:[{tableName:"room_participants"}],secure_encrypted_backups_client_state:[{indexName:"fk_secure_encrypted_backups_client_state",tableName:"secure_encrypted_backups_epochs"}],secure_encrypted_backups_devices:[{indexName:"fk_secure_encrypted_backups_device_supported_versions_device_id",tableName:"secure_encrypted_backups_device_supported_versions"}],threads:[{indexName:"threadKeyCtaId",tableName:"thread_nullstate_ctas"},{tableName:"messages"},{tableName:"attachments"},{tableName:"thread_nullstate"},{tableName:"messages_ranges_v2__generated"},{tableName:"attachments_ranges_v2__generated"},{tableName:"participants"},{indexName:"fk_threads",tableName:"mi_act_mapping_table"},{tableName:"group_invites"}]},l=e;i.default=l}),66);
__d("MAWDbVersionList",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e}var l={V21:21,V22:22,V23:23,V24:24,V25:25,V26:26,V27:27,V28:28,V29:29,V30:30,V31:31,V32:32,V33:33,V34:34,V35:35,V36:36,V37:37,V38:38,V39:39,V40:40,V41:41,V42:42,V43:43,V44:44,V45:45,V46:46,V47:47,V48:48,V49:49,V50:50,V51:51,V52:52,V53:53,V54:54,V55:55,V56:56,V57:57,V58:58,V59:59,V60:60,V61:61,V62:62,V63:63,V64:64,V65:65,V66:66,V67:67,V68:68,V69:69,V70:70,V71:71,V72:72,V73:73,V74:74,V75:75,V76:76,V77:77,V78:78,V79:79,V80:80,V81:81,V82:82,V83:83,V84:84,V85:85,V86:86,V87:87,V88:88,V89:89,V90:90,V91:91,V92:92,V93:93,V94:94,V95:95,V96:96,V97:97,V98:98,V99:99,V100:100,V101:101,V102:102,V103:103,V104:104,V105:105,V106:106,V107:107,V108:108,V109:109,V110:110,V111:111,V112:112,V113:113,V114:114,V115:115,V116:116,V117:117,V118:118,V119:119,V120:120,V121:121,V122:122,V123:123,V124:124,V125:125,V126:126};i.toVersion=e,i.VERSION=l}),66);
__d("MAWDbSchema",["MAWDbVersionList"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"]}},name:"e2ee_appData",primaryKey:["appDataId"]},{autoIncrement:!1,indexes:{},name:"e2ee_appMeta",primaryKey:["key"]},{autoIncrement:!1,indexes:{},name:"e2ee_tasks",primaryKey:["taskName"]},{autoIncrement:!1,indexes:{},name:"e2ee_personalSenderKeyStatuses",primaryKey:["groupJid"]},{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_receipts",primaryKey:["msgId"]},{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_media",primaryKey:["mediaId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},reactionId:{columns:["reactionId"],unique:!1},reactToExternalId:{columns:["reactToExternalId"],unique:!1},reactToMsgId:{columns:["reactToMsgId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_reactions",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_chunk",primaryKey:["chunkId"]},{autoIncrement:!0,indexes:{jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]},{autoIncrement:!1,indexes:{},name:"e2ee_existingUsers",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_pendingReceipts",primaryKey:["id"]},{autoIncrement:!0,indexes:{version:{columns:["version"]}},name:"e2ee_browserEncryptionMeta",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],u=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],c=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],d=[{autoIncrement:!0,indexes:{},name:"e2ee_isDualSend",primaryKey:["rowId"]}],m=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeSecretKey",primaryKey:["key"]}],p=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],_=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],f=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId"]}],g=[{autoIncrement:!0,indexes:{deleteTs:{columns:["deleteTs"],unique:!1},externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]}],h=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"]},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"]}},name:"e2ee_media",primaryKey:["mediaId"]}],y=[{autoIncrement:!0,indexes:{},name:"e2ee_dualSendMedia",primaryKey:["id"]}],C=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],b=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeData",primaryKey:["rowId"]}],v=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},externalId:{columns:["externalId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],S=[{autoIncrement:!0,indexes:{},name:"e2ee_dyiBatch",primaryKey:["batchId"]}],R=[{autoIncrement:!1,indexes:{correspondingOpenThreadKey:{columns:["correspondingOpenThreadKey"],unique:!1},threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],L=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"],removed:!0}],E=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],k=[{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],I=[{autoIncrement:!1,indexes:{"[modelId+modelType+actionState]":{columns:["modelId","modelType","actionState"],unique:!1},action:{columns:["action"],unique:!1},actionState:{columns:["actionState"],unique:!1},collection:{columns:["collection"],unique:!1},indexMac:{columns:["indexMac"],unique:!1}},name:"e2ee_syncActions",primaryKey:["index"]}],T=[{autoIncrement:!1,indexes:{},name:"e2ee_missingKeys",primaryKey:["keyHex"]}],D=[{autoIncrement:!0,indexes:{action:{columns:["action"],unique:!1},collection:{columns:["collection"],unique:!1},index:{columns:["index"],unique:!1}},name:"e2ee_pendingMutations",primaryKey:["id"]}],x=[{autoIncrement:!0,indexes:{collection:{columns:["collection"]}},name:"e2ee_collectionVersions",primaryKey:["id"]}],$=[{autoIncrement:!0,indexes:{keyEpoch:{columns:["keyEpoch"],unique:!1},keyId:{columns:["keyId"]}},name:"e2ee_syncKeys",primaryKey:["id"]}],P=[],N=[{autoIncrement:!1,indexes:{externalId:{columns:["externalId"],unique:!1},lastRetryTs:{columns:["lastRetryTs"],unique:!1},traceId:{columns:["traceId"],unique:!1}},name:"e2ee_uploadRetryStatus",primaryKey:["externalId","lastRetryTs"]}],M=[{autoIncrement:!0,indexes:{jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],w=[{autoIncrement:!0,indexes:{},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]}],A=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"]}],F=[{autoIncrement:!0,indexes:{deduplicationKey:{columns:["deduplicationKey"],predicate:function(t){return t.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],O=[{autoIncrement:!0,indexes:{mediaId:{columns:["mediaId"],unique:!1},msgId:{columns:["msgId"],unique:!1},objectId:{columns:["objectId"]}},name:"e2ee_mediaBackup",primaryKey:["mediaBackupId"]}],B=[{autoIncrement:!0,indexes:{authoritativeThreadKey:{columns:["authoritativeThreadKey"]},deduplicationKey:{columns:["deduplicationKey"],predicate:function(t){return t.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],W=[{autoIncrement:!0,indexes:{"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],q=[{autoIncrement:!0,indexes:{originalMsgExternalId:{columns:["originalMsgExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],U=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"],removed:!0},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"],removed:!0},{autoIncrement:!0,indexes:{},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],V=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],H=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],G=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],z=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],j=[],K=[{autoIncrement:!0,indexes:{},name:"e2ee_danglingQueue",primaryKey:["queueId"]}],Q=[{autoIncrement:!0,indexes:{dbVersion:{columns:["dbVersion"],unique:!1}},name:"e2ee_staleQueue",primaryKey:["staleQueueId"]}],X=[{autoIncrement:!0,indexes:{"[offlineThreadingId+backupActionType]":{columns:["offlineThreadingId","backupActionType"],unique:!1},"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},offlineThreadingId:{columns:["offlineThreadingId"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],Y=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]}],J=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],Z=[{autoIncrement:!0,indexes:{},name:"e2ee_pendingMessageStanzaQueue",primaryKey:["pendingMessageStanzaQueueId"]}],ee=[{autoIncrement:!0,indexes:{author:{columns:["author"],unique:!1},chat:{columns:["chat"],unique:!1},externalId:{columns:["externalId"],unique:!1}},name:"e2ee_deletedMessages",primaryKey:["rowId"]}],te=[{autoIncrement:!0,indexes:{threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_ebMsgRanges",primaryKey:["rangeId"]}],ne=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1},threadJid:{columns:["threadJid","inviteeJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],re=[{autoIncrement:!1,indexes:{waMsgId:{columns:["waMsgId"]}},name:"e2ee_receipts",primaryKey:["msgId"]}],oe=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],ae=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ie=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(t){return t.serverTs!=null},unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(t){return t.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(t){return t.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(t){return t.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(t){return t.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(t){return t.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(t){return t.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],le=[{autoIncrement:!1,dexieOnly_primaryKeyUnique:!0,indexes:{ts:{columns:["ts"],unique:!1}},name:"e2ee_sentBytesCache",primaryKey:["waMsgId"]}],se=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(t){return t.serverTs!=null},unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(t){return t.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(t){return t.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(t){return t.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(t){return t.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(t){return t.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(t){return t.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ue=[{autoIncrement:!0,indexes:{"[originalMsgExternalId+threadJid]":{columns:["originalMsgExternalId","threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],ce=[{autoIncrement:!0,indexes:{deviceJid:{columns:["deviceJid"],unique:!1},displayOrder:{columns:["isArchived","ts"],unique:!1},isConfirmedActionTs:{columns:["isConfirmed","action","ts"],unique:!1},isNotifiedTs:{columns:["isNotified","ts"],unique:!1}},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],de=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],me=[{autoIncrement:!1,indexes:{},name:"e2ee_ephemeralSettings",primaryKey:["userJid"]}],pe=[{autoIncrement:!1,indexes:{ebClientRequired:{columns:["ebClientRequired","timestampMs"],unique:!1},restorable:{columns:["restorable","timestampMs"],unique:!1}},name:"e2ee_ebMessageRestoreTasks",primaryKey:["messageId"]}],_e=[{autoIncrement:!1,indexes:{},name:"e2ee_igMessageAuxiliaryInfo",primaryKey:["messageId"]}],fe=[{autoIncrement:!1,indexes:{plaintextHash:{columns:["plaintextHash"],unique:!1}},name:"e2ee_mediaKeys",primaryKey:["ciphertextHash"]}],ge=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],he=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],ye=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],Ce=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]}],be=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsPurgeBacklog",primaryKey:["externalId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsPurgeThreadBacklog",primaryKey:["chatJid"]}],ve=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(t){return t.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(t){return t.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(t){return t.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(t){return t.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(t){return t.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(t){return t.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],Se=[{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],Re=[{autoIncrement:!0,indexes:{fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],Le=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"],removed:!0}],Ee=[{autoIncrement:!1,indexes:{},name:"e2ee_uploadRetryStatus",primaryKey:[],removed:!0}],ke=[{autoIncrement:!1,indexes:{},name:"e2ee_receiverFetchInfo",primaryKey:["receiverFetchId"]}],Ie=[{autoIncrement:!0,indexes:{"[threadJid+ts]":{columns:["threadJid","ts"],unique:!1},externalId:{columns:["externalId"],unique:!1},reactionId:{columns:["reactionId"],unique:!1},reactToExternalId:{columns:["reactToExternalId"],unique:!1},reactToMsgId:{columns:["reactToMsgId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},ts:{columns:["ts"],unique:!1}},name:"e2ee_reactions",primaryKey:["rowId"]}],Te=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],De=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(t){return t.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(t){return t.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(t){return t.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(t){return t.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(t){return t.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(t){return t.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(t){return t.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],xe=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(t){return t.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(t){return t.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(t){return t.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(t){return t.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(t){return t.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(t){return t.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(t){return t.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],$e=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(t){return t.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(t){return t.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(t){return t.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},protocolMsgId:{columns:["protocolMsgId"],unique:!0},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(t){return t.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(t){return t.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(t){return t.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(t){return t.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],Pe=[{autoIncrement:!0,indexes:{version:{columns:["version"],unique:!0}},name:"e2ee_encryptionMetaV3",primaryKey:["id"]}],Ne=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(t){return t.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(t){return t.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(t){return t.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},protocolMsgId:{columns:["protocolMsgId"],unique:!0},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(t){return t.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(t){return t.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(t){return t.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(t){return t.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages_deduped",primaryKey:["rowId"]}],Me=[{autoIncrement:!1,indexes:{},name:"e2ee_poll",primaryKey:["chatJid","pollStanzaId"]}],we=[{autoIncrement:!0,indexes:{"[threadJid+pollStanzaId+sortOrderMs]":{columns:["threadJid","pollStanzaId","sortOrderMs"],predicate:function(t){return t.pollStanzaId!=null},unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(t){return t.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(t){return t.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(t){return t.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},protocolMsgId:{columns:["protocolMsgId"],unique:!0},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(t){return t.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(t){return t.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(t){return t.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(t){return t.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],Ae=[{autoIncrement:!0,indexes:{"[threadJid+collapsibleId+sortOrderMs]":{columns:["threadJid","collapsibleId","sortOrderMs"],unique:!1},"[threadJid+pollStanzaId+sortOrderMs]":{columns:["threadJid","pollStanzaId","sortOrderMs"],predicate:function(t){return t.pollStanzaId!=null},unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(t){return t.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(t){return t.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(t){return t.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},protocolMsgId:{columns:["protocolMsgId"],unique:!0},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(t){return t.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(t){return t.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(t){return t.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(t){return t.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],Fe=[{autoIncrement:!1,indexes:{},name:"e2ee_messages_deduped",primaryKey:[],removed:!0}],Oe=new Map([[(e=o("MAWDbVersionList")).VERSION.V21,s],[e.VERSION.V22,u],[e.VERSION.V23,c],[e.VERSION.V24,d],[e.VERSION.V25,m],[e.VERSION.V30,p],[e.VERSION.V31,_],[e.VERSION.V32,f],[e.VERSION.V33,g],[e.VERSION.V34,h],[e.VERSION.V35,y],[e.VERSION.V36,C],[e.VERSION.V37,b],[e.VERSION.V38,v],[e.VERSION.V39,S],[e.VERSION.V40,R],[e.VERSION.V41,L],[e.VERSION.V42,E],[e.VERSION.V45,k],[e.VERSION.V48,I],[e.VERSION.V49,T],[e.VERSION.V50,D],[e.VERSION.V51,x],[e.VERSION.V52,$],[e.VERSION.V57,P],[e.VERSION.V59,N],[e.VERSION.V61,M],[e.VERSION.V62,w],[e.VERSION.V63,A],[e.VERSION.V64,F],[e.VERSION.V65,O],[e.VERSION.V67,B],[e.VERSION.V69,W],[e.VERSION.V70,q],[e.VERSION.V73,U],[e.VERSION.V74,V],[e.VERSION.V75,H],[e.VERSION.V77,G],[e.VERSION.V78,z],[e.VERSION.V79,j],[e.VERSION.V80,K],[e.VERSION.V81,Q],[e.VERSION.V83,X],[e.VERSION.V84,Y],[e.VERSION.V85,J],[e.VERSION.V86,Z],[e.VERSION.V88,ee],[e.VERSION.V89,te],[e.VERSION.V90,ne],[e.VERSION.V91,re],[e.VERSION.V92,oe],[e.VERSION.V93,ae],[e.VERSION.V94,ie],[e.VERSION.V95,le],[e.VERSION.V96,se],[e.VERSION.V97,ue],[e.VERSION.V98,ce],[e.VERSION.V99,de],[e.VERSION.V100,me],[e.VERSION.V102,pe],[e.VERSION.V103,_e],[e.VERSION.V104,fe],[e.VERSION.V105,ge],[e.VERSION.V106,he],[e.VERSION.V107,ye],[e.VERSION.V108,Ce],[e.VERSION.V109,be],[e.VERSION.V110,ve],[e.VERSION.V111,Se],[e.VERSION.V112,Re],[e.VERSION.V113,Le],[e.VERSION.V114,Ee],[e.VERSION.V115,ke],[e.VERSION.V116,Ie],[e.VERSION.V117,Te],[e.VERSION.V118,De],[e.VERSION.V119,xe],[e.VERSION.V120,$e],[e.VERSION.V121,Pe],[e.VERSION.V122,Ne],[e.VERSION.V123,Me],[e.VERSION.V124,we],[e.VERSION.V125,Ae],[e.VERSION.V126,Fe]]),Be=["messages","unrenderedMessages","groupInfo","receipts","pendingReceipts","threads","participants","tasks","personalSenderKeyStatuses","appData","appMeta","chunk","mediaBackup","media","reactions","groupInvites","dyiBatch","syncActions","missingKeys","pendingMutations","collectionVersions","syncKeys","deviceChangeAlerts","xma","editMsgHistory","deletedMessages","ebMsgRanges","receiverFetchInfo","poll"];l.dbSchema=Oe,l.TABLES_TO_ENCRYPT=Be}),98);
__d("MAWGetDbVersion",["MAWDbVersionList","justknobx","objectValues"],(function(t,n,r,o,a,i,l){"use strict";var e=null;function s(){return e!=null?e:o("MAWDbVersionList").toVersion(r("justknobx")._("1716"))}function u(t){if(r("justknobx")._("1495")){if(t==null||t==="current")return e=null,e;var n=Math.max.apply(Math,r("objectValues")(o("MAWDbVersionList").VERSION));if(t==="latest")return e=o("MAWDbVersionList").toVersion(n),e;if(!Number.isInteger(t))return e;if(t<0)return e=o("MAWDbVersionList").toVersion(n+t),e;e=o("MAWDbVersionList").toVersion(t)}}l.getArmadilloDbVersion=s,l.setArmadilloDbVersionForTest=u}),98);
__d("MAWDbSchema.restore",["MAWDbSchema","MAWGetDbVersion","objectEntries","sortBy"],(function(t,n,r,o,a,i,l){"use strict";var e={e2ee_appData:!0,e2ee_appMeta:!0,e2ee_browserEncryptionMeta:!0,e2ee_chunk:!0,e2ee_collectionVersions:!0,e2ee_deletedMessages:!0,e2ee_deviceChangeAlerts:!0,e2ee_dyiBatch:!0,e2ee_ebMessageRestoreTasks:!0,e2ee_ebMsgRanges:!0,e2ee_ebUploadQueue:!0,e2ee_editMsgHistory:!0,e2ee_encryptionMetaV3:!0,e2ee_ephemeralSettings:!0,e2ee_existingUsers:!0,e2ee_ftsBackloggedMessages:!0,e2ee_ftsEncryptionMeta:!0,e2ee_ftsIndexV3:!0,e2ee_ftsPurgeBacklog:!0,e2ee_ftsPurgeThreadBacklog:!0,e2ee_groupInfo:!0,e2ee_groupInvites:!0,e2ee_historySyncQRCodeData:!0,e2ee_historySyncQRCodeSecretKey:!0,e2ee_igMessageAuxiliaryInfo:!0,e2ee_media:!0,e2ee_mediaBackup:!0,e2ee_messages:!0,e2ee_missingKeys:!0,e2ee_participants:!0,e2ee_pendingMessageStanzaQueue:!0,e2ee_pendingMutations:!0,e2ee_pendingReceipts:!0,e2ee_pendingStanzas:!0,e2ee_poll:!0,e2ee_reactions:!0,e2ee_receiverFetchInfo:!0,e2ee_syncActions:!0,e2ee_syncKeys:!0,e2ee_threads:!0,e2ee_unrenderedMessages:!0,e2ee_xma:!0};function s(e){var t=Object.fromEntries(r("objectEntries")(e.indexes).filter(function(e){var t=e[1];return t.multiEntry_DO_NOT_USE!==!0}).map(function(t){var n=t[0],r=t[1];return[n,{columns:[].concat(r.columns,r.unique!==!1?[]:e.primaryKey),predicate:r.predicate}]})),n={auto_increment:e.autoIncrement===!0,indexes:t,name:e.name,primary_key:e.primaryKey};return n}var u=r("sortBy")(Array.from(o("MAWDbSchema").dbSchema.entries()),function(e){var t=e[0];return t}).map(function(e){var t=e[0],n=e[1];return{schema:n,version:t}}),c=function(t){return Array.from(u.filter(function(e){return e.version<=t&&e.schema!=null}).reduce(function(e,t){var n;return(n=t.schema)==null||n.forEach(function(t){if(t.removed===!0){e.delete(t.name);return}e.set(t.name,s(t))}),e},new Map).values())},d=c(o("MAWGetDbVersion").getArmadilloDbVersion());l.msgrDbStores=e,l.getSchemaForVersion=c,l.clientSchema=d}),98);
__d("LSDbSchema",["MAWDbSchema.restore"],(function(t,n,r,o,a,i){"use strict";var e=importNamespace("MAWDbSchema.restore").clientSchema;i.clientSchema=e}),66);
__d("ReStoreVersionedSchemaProvider",["FBLogger","Promise","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata","ReStoreVersionedSchemaProviderUtil","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t,n){this.defaults={},this.$1="",this.$1=e,this.$2=t;var r=t.versions[t.targetVersion],a=o("ReStoreVersionedSchemaProviderUtil").getTableData(r.tables,n),i=a.defaults,l=a.tableData;this.tableNames=l.tableNames,this.tableIds=l.tableIds,this.defaults=i}var a=t.prototype;return a.$3=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,r,a,i;(n=t.loggers.logHistory)==null||n.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from scratch..."),(r=t.loggers.userFlow)==null||r.addPoint(this.$1+"_migration_versioned_from_scratch");var l={tableIds:this.tableIds,tableNames:this.tableNames};return yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(t.transaction,l,e,this.defaults),(a=t.loggers.logHistory)==null||a.debug("migration default values finished"),yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(t,l,this.defaults,e),(i=t.loggers.logHistory)==null||i.debug("migration indices finished"),e?o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA:o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});function t(t,n){return e.apply(this,arguments)}return t})(),a.$4=function(o){var t=this,a=this.$2.versionOrder.indexOf(o);if(a===-1)throw r("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot resolve version %s",this.$1,o);return(e||(e=n("Promise"))).all(this.$2.versionOrder.slice(a,this.$2.versionOrder.indexOf(this.$2.targetVersion)+1).map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(e in t.$2.versions)return{meta:t.$2.versions[e],version:e};if(e in t.$2.legacyVersions)return{meta:yield t.$2.legacyVersions[e].load(),version:e};throw r("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot find version %s in either versions or legacyVersions",t.$1,e)});return function(t){return e.apply(this,arguments)}})()))},a.$5=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a,i,l,s=this.$2.targetVersion,u=this.$2.versions[s].revision;(a=n.loggers)==null||(a=a.logHistory)==null||a.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] currentVersion: "+e+"R"+t+", targetVersion: "+s+"R"+u);var c=s;if(c===e&&u===t){var d;return(d=n.loggers)==null||(d=d.logHistory)==null||d.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] DB already up to date, skipping migration"),o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED}(i=n.loggers.logHistory)==null||i.debug("migration versioned incremental"),(l=n.loggers.userFlow)==null||l.addPoint(this.$1+"_migration_versioned_incremental");var m=yield this.$4(e);if(m.length===0||t>u)return r("FBLogger")("ReStoreVersionedSchemaProvider","migrate").mustfix("[%s][ReStoreVersionedSchemaProvider][DANGEROUS] Backward migration required from %sR%s to %sR%s, running #migrateFromScratch",this.$1,e,""+t,s,""+u),this.$3(!1,n);for(var p of m)for(var _=p.meta,f=p.version,g=f,h=g===e?t+1:0;h<=_.revision;h++){var y,C,b,v,S,R,L;(y=n.loggers)==null||(y=y.logHistory)==null||y.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating to "+f+"R"+h),(C=n.loggers.userFlow)==null||C.addPoint(this.$1+"_migration_versioned_"+f+"{$revision}_start"),yield(b=(v=_.upgrade)[h])==null?void 0:b.call(v,n),yield(S=(R=_.afterUpgrade)[h])==null?void 0:S.call(R,n.transaction),(L=n.loggers.userFlow)==null||L.addPoint(this.$1+"_migration_versioned_"+f+"{$revision}_end")}return o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});function t(t,n,r){return e.apply(this,arguments)}return t})(),a.$6=function(r,a,i,l,s){var t;if((t=s.loggers.userFlow)==null||t.addPoint(this.$1+"_migration_versioned_hash_start"),a===i&&r===l){var u,c;return(u=s.loggers.userFlow)==null||u.addAnnotations(o("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"no_changes"}})),(c=s.loggers)==null||(c=c.logHistory)==null||c.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, no changes are detected"),(e||(e=n("Promise"))).resolve(o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA)}else{var d,m;return(d=s.loggers.userFlow)==null||d.addAnnotations(o("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"changes"}})),(m=s.loggers)==null||(m=m.logHistory)==null||m.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, changed detected, calling #migrateFromScratch"),this.$3(!1,s)}},a.migrate=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n,r,a,i,l,s,u,c;(t=e.loggers.logHistory)==null||t.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Start migration"),(n=e.loggers.userFlow)==null||n.addPoint(this.$1+"_migration_versioned_start");var d=o("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(this.defaults),m=o("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash({tableIds:this.tableIds,tableNames:this.tableNames}),p=new(o("ReStorePersistedMetadata")).ReStorePersistedSchemaVersion(this.$1),_=new(o("ReStorePersistedMetadata")).ReStorePersistedDefaultValuesVersion(this.$1),f=yield p.read(e.storeTx),g=(r=yield _.read(e.storeTx))==null?void 0:r.defaultValuesVersion,h=this.$2.versions[this.$2.targetVersion];(a=e.loggers.userFlow)==null||a.addAnnotations(o("ReStoreMigrateUtil").prefixAnnotations(this.$1,{int:{defaultValuesVersion:d,schemaVersion:m,storeDefaultValuesVersion:g,storeRevision:f==null?void 0:f.revision,storeSchemaVersion:f==null?void 0:f.schemaVersion,targetRevision:h.revision},string:{schemaProviderType:"versioned",storeVersion:f==null?void 0:f.version,targetVersion:this.$2.targetVersion}})),(i=e.loggers.logHistory)==null||i.debug("storeSchemaVersion: "+((l=f==null?void 0:f.schemaVersion)!=null?l:"null")),(s=e.loggers.logHistory)==null||s.debug("storeDefaultValuesVersion: "+(g!=null?g:"null"));var y=yield f!=null&&f.revision!=null&&f.version!=null?this.$5(f.version,f.revision,e):(f==null?void 0:f.schemaVersion)!=null?this.$6(g,f.schemaVersion,m,d,e):this.$3(!0,e);if(y!==o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){var C;p.write(e.storeTx,{revision:h.revision,schemaVersion:m,version:this.$2.targetVersion}),_.write(e.storeTx,{defaultValuesVersion:d}),(C=e.loggers.logHistory)==null||C.debug("version is written")}return(u=e.loggers.logHistory)==null||u.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] End Migration. Result: "+y+", SchemaVersion: "+m+", Version: "+this.$2.targetVersion+", Revision: "+h.revision),(c=e.loggers.userFlow)==null||c.addPoint(this.$1+"_migration_versioned_end"),y});function t(t){return e.apply(this,arguments)}return t})(),t})();l.default=s}),98);
__d("LSVersionedSchemaProvider",["LSConstants","LSDb","LSDbForeignKeys","ReStoreVersionedSchemaProvider"],(function(t,n,r,o,a,i,l){"use strict";var e=new(r("ReStoreVersionedSchemaProvider"))(o("LSConstants").LS_SCHEMA_NAME,o("LSDb").Versions,r("LSDbForeignKeys"));l.schemaProvider=e}),98);
__d("ReStoreHashSchemaProvider",["ReStoreHashMigration","ReStoreMetadata","ReStoreMigrateUtil","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){var r=t.tableIds,a=t.tableNames;n===void 0&&(n={}),this.$1=e,this.tableNames=babelHelpers.extends({},a,o("ReStoreMetadata").RESTORE_METADATA_TABLES),this.tableIds=r,this.defaults=n!=null?n:{}}var t=e.prototype;return t.migrate=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n,r,a,i;(t=e.loggers.logHistory)==null||t.debug("["+this.$1+"][ReStoreHashSchemaProvider] Start migration"),(n=e.loggers.userFlow)==null||n.addAnnotations(o("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{schemaProviderType:"hash"}})),(r=e.loggers.userFlow)==null||r.addPoint(this.$1+"_migration_hash_start");var l=yield o("ReStoreHashMigration").runHashMigration(this.$1,{tableIds:this.tableIds,tableNames:this.tableNames},this.defaults,e);return(a=e.loggers.logHistory)==null||a.debug("["+this.$1+"][ReStoreHashSchemaProvider] End migration. Result: "+l),(i=e.loggers.userFlow)==null||i.addPoint(this.$1+"_migration_hash_end"),l});function t(t){return e.apply(this,arguments)}return t})(),e})();l.default=e}),98);
__d("ReStoreSchemaProvider",["ReStoreMigrateUtil","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return{defaults:babelHelpers.extends({},e.defaults,t.defaults),migrate:(function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var r=yield e.migrate(n),a=yield t.migrate(n);return r===o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE||a===o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE?o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE:r===o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA||a===o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA?o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA:o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED});function a(e){return r.apply(this,arguments)}return a})(),tableIds:babelHelpers.extends({},e.tableIds,t.tableIds),tableNames:babelHelpers.extends({},e.tableNames,t.tableNames)}}l.mergeSchemaProviders=e}),98);
__d("LSMetadata",["LSClientSchemaType","LSDbSchema","LSVersionedSchemaProvider","ReStoreHashSchemaProvider","ReStoreMetadata","ReStoreSchemaProvider"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("ReStoreSchemaProvider").mergeSchemaProviders(e,s)}var s=new(r("ReStoreHashSchemaProvider"))(o("LSClientSchemaType").MAW_SCHEMA_NAME,o("ReStoreMetadata").getBuildTableData({})([o("LSDbSchema").clientSchema])),u=e(o("LSVersionedSchemaProvider").schemaProvider);l.buildSchema=e,l.schema=u}),98);
__d("LSProgramTarget",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({DASM:1,JS:2,JSON:3}),l=e;i.default=l}),66);
__d("LSTransactionLogger",["cr:8879"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:8879")}),98);
__d("LSReStoreQplLogger",["LSTransactionLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return{startTracking:function(n,o){var t=r("LSTransactionLogger")==null?void 0:r("LSTransactionLogger").startTracking(n,e,o);return{addAnnotations:function(o){r("LSTransactionLogger")==null||r("LSTransactionLogger").addAnnotations(e,t,o)},end:function(){r("LSTransactionLogger")==null||r("LSTransactionLogger").end(e,t)},fail:function(o){r("LSTransactionLogger")==null||r("LSTransactionLogger").fail(e,t,o)},mark:function(o){r("LSTransactionLogger")==null||r("LSTransactionLogger").mark(e,t,o)},recordLogicalWrite:function(){r("LSTransactionLogger")==null||r("LSTransactionLogger").recordLogicalWrite(t)}}}}}l.createQplLogger=e}),98);
__d("ReStoreCustomMigration",["ReStoreMigrateUtil","ReStorePersistedMetadata","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,r=t.storeTx,a=t.transaction;if(e==null)return o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;var i=new(o("ReStorePersistedMetadata")).ReStorePersistedCustomMigrationVersion,l=(n=yield i.read(r))==null?void 0:n.customMigrationVersion;return e.targetVersion===l?o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED:(yield e.migration(l!=null?l:0,a),i.write(r,{customMigrationVersion:e.targetVersion}),o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE)}),s.apply(this,arguments)}l.runCustomMigration=e}),98);
__d("ReStoreHooks",["PromiseOrValue"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return{afterAdd:t.reduce(function(t,n){var r=n.onAfterAdd;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),afterEntriesNext:t.reduce(function(e,t){var n=t.onAfterEntriesNext;return n?function(t){return n({tableName:t.tableName,value:e(t)})}:e},function(e){var t=e.value;return t}),afterGet:t.reduce(function(e,t){var n=t.onAfterGet;return n?function(t){return n({tableName:t.tableName,value:e(t)})}:e},function(e){var t=e.value;return t}),afterPut:t.reduce(function(t,n){var r=n.onAfterPut;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),beforeAdd:t.reduce(function(t,n){var r=n.onBeforeAdd;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),beforeDelete:t.reduce(function(t,n){var r=n.onBeforeDelete;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.key;return t}),beforeNotify:t.reduce(function(e,t){var n=t.onBeforeNotify;return n?function(t){var r=e(t),o=r.newValue,a=r.prevValue;return n({newValue:o,prevValue:a,tableName:t.tableName})}:e},function(e){var t=e.newValue,n=e.prevValue;return{newValue:t,prevValue:n}}),beforePut:t.reduce(function(t,n){var r=n.onBeforePut;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),beforeUpsert:t.reduce(function(t,n){var r=n.onBeforeUpsert;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t})}}l.createHookManager=s}),98);
__d("ReStoreIndexeddbPersistenceInitFailure",[],(function(t,n,r,o,a,i){"use strict";var e="ReStoreIndexeddbPersistenceInitFailure",l=(function(t){function n(n){var r;return r=t.call(this,n)||this,r.message=n,r.name=e,r}return babelHelpers.inheritsLoose(n,t),n})(babelHelpers.wrapNativeSuper(Error));i.ERROR_NAME=e,i.ReStoreIndexeddbPersistenceInitFailure=l}),66);
__d("ReStorePersistence",["FBLogger","JSONStringifyBigIntSafe","ReStoreCommonUtils","ReStoreKeyComparer","ReStorePersistenceIds","ReStoreUtils","gkx","isPromise","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=["dir"],s,u,c=d();function d(){return"__ReStore_DELETED__"}var m={gt:[!1,0],gte:[!0,0],lt:[!0,1],lte:[!1,1]},p=new Set(["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state"]),_=16,f=64,g=64,h=Math.floor(_/2),y=Math.floor(f/2),C=Math.floor(g/2);function b(e){if(e==null)return e;var t=Object.getOwnPropertyNames(e),n={},r,o;for(r=0;r<t.length;r++)o=e[t[r]],n[t[r]]=o;return n}function v(e,t){return t===void 0&&(t=c),e===t}function S(e,t,n){for(var r=0,a=e.length-1;r<=a;){var i=r+a>>1;(n[0]?(u||(u=o("ReStoreKeyComparer"))).compareKey(e[i],t)<0:(u||(u=o("ReStoreKeyComparer"))).compareKey(e[i],t)<=0)?r=i+1:a=i-1}var l=[r,a][n[1]];return l===e.length?-1:l}var R=(function(){function t(e,t,n,r,o,a){this.$2=t,this.$3=n,this.$1=e,this.$4=r,this.$5=o,this.$6=a}var n=t.prototype;return n.$7=function(t){return t==null?"root":"index("+t+")"},n.$8=function(t,n){return o("ReStoreUtils").getOrCreate(this.$1,n,function(){return{children:[].concat(t.children),isLeaf:!0,keys:[].concat(t.keys),nextId:t.nextId,prevId:t.prevId}})},n.$9=function(t,n){return o("ReStoreUtils").getOrCreate(this.$1,n,function(){return{children:[].concat(t.children),isLeaf:!1,keys:[].concat(t.keys)}})},n.$10=function(t,n){return o("ReStoreUtils").getOrCreate(this.$1,n,function(){return{headId:t.headId,rootId:t.rootId,tailId:t.tailId}})},n.$11=function(t,n){if(!t.length)return[0,0];var e=S(t,n,m.gte);return e===-1?[t.length,0]:(u||(u=o("ReStoreKeyComparer"))).compareKey(t[e],n)===0?[e,1]:[e,0]},n.$12=function*(t,n,o,a){for(var e=yield*this.$13(t,n),i=e,l=n,s=-1;!i.isLeaf;){if(a==null||a.push([i,l,s]),i.keys==null){if(p.has(this.$2)){var u,c;(u=(c=this.$4).logError)==null||u.call(c,this.$2,this.$5,"dbCorruption",{})}throw r("FBLogger")("messenger_web").mustfixThrow("Encountered not leaf node without keys")}s=S(i.keys,o,m.gt),s===-1&&(s=i.keys.length),l=i.children[s],i=yield*this.$13(t,l)}return[i,l,s]},n.$14=function*(t,n){this.$3();var e=this.$1.get(n);if(!v(e)){if(e!==void 0)return e;var o=this.$4.get(t,this.$2,n,this.$5);return(s||(s=r("isPromise")))(o)?yield o:o}},n.$13=function*(t,n){var e=yield*this.$14(t,n);if(e===void 0){var o,a,i=this.$1.get(n);throw(o=(a=this.$4).logError)==null||o.call(a,this.$2,this.$5,"dbCorruption",{deletedInThisTxn:v(i)?"true":"false",id:r("JSONStringifyBigIntSafe")(n)||""}),r("FBLogger")("messenger_web").mustfixThrow("value not found")}return e},n.$15=function*(t,n){var e=yield*this.$14(t,o("ReStorePersistenceIds").idForNextId),r=e!=null?e:0;return this.$1.set("nextId",r+1),this.$1.set(r,n),r},n.$16=function(t,n){this.$3(),this.$1.set(t,n)},n.incrementSeed=function*(t,n){var e=yield*this.$14(t,"seed"),r=e!=null?e:0;return n===void 0?(this.$1.set("seed",r+1),r):(n>=r&&this.$1.set("seed",n+1),n)},n.readData=function*(t,n){return yield*this.$14(t,n)},n.$17=function*(t,n,r){var e=yield*this.$14(t,this.$7(n));if(e!=null){var a=yield*this.$12(t,e.rootId,r),i=a[0],l=S(i.keys,r,m.gte);if(!(l===-1||(u||(u=o("ReStoreKeyComparer"))).compareKey(i.keys[l],r)!==0))return i.children[l]}},n.tableGet=function*(t,n){var e=yield*this.$17(t,void 0,n);if(e!==void 0)return yield*this.$18(t,e)},n.$18=function*(t,n){return Array.isArray(n)?n[0]:yield*this.$13(t,n)},n.$19=function*(t,n,o,a){if(Array.isArray(n)){var e=yield*this.$17(t,void 0,n);if(e==null)throw r("gkx")("3570")&&this.$6(o,a,this.$2),r("FBLogger")("messenger_web").mustfixThrow("Encountered value in index %s but not found in table %s",o,this.$2);return yield*this.$18(t,e)}return yield*this.$13(t,n)},n.indexGet=function*(t,n,r){var e=yield*this.$17(t,n,r);if(e!=null)return yield*this.$19(t,e,n,r)},n.getId=function*(t,n){var e=yield*this.$17(t,void 0,n);return Array.isArray(e)?n:e},n.tableSet=function*(t,n,r){var e,o=this.$4.shouldInline(this.$2,r),a=this.$7(),i=yield*this.$14(t,a);if(i==null){o||(e=yield*this.$15(t,r));var l={children:[e!=null?e:[r]],isLeaf:!0,keys:[n]},s=yield*this.$15(t,l);return this.$16(a,{headId:s,rootId:s,tailId:s}),[e!=null?e:n,!1]}var u=[],d=yield*this.$12(t,i.rootId,n,u),m=d[0],p=d[1],_=this.$11(m.keys,n),f=_[0],g=_[1],h=!1;if(g===1){var y=m.children[f];if(!Array.isArray(y))if(h=!0,o)this.$1.set(y,c);else return this.$16(y,r),[y,!1]}var C=this.$8(m,p);return o||(e=yield*this.$15(t,r)),g===0&&C.keys.splice(f,0,n),C.children.splice(f,g,e!=null?e:[r]),yield*this.$20(t,C,p,u,i,a,!0),[e!=null?e:n,g===1&&!(o&&!h)]},n.indexSet=function*(t,n,r,o){var e=this.$7(n),a=yield*this.$14(t,e);if(a==null){var i={children:[o],isLeaf:!0,keys:[r]},l=yield*this.$15(t,i);this.$16(e,{headId:l,rootId:l,tailId:l});return}var s=[],u=yield*this.$12(t,a.rootId,r,s),c=u[0],d=u[1],m=this.$11(c.keys,r),p=m[0],_=m[1];if(!(_===1&&c.children[p]===o)){var f=this.$8(c,d);f.keys.splice(p,_,r),f.children.splice(p,_,o),yield*this.$20(t,f,d,s,a,e,!1)}},n.$20=function*(t,n,r,o,a,i,l){for(var e=n,s,u,c,d=r;e.keys.length>=(e.isLeaf?l?_:f:g);e=s,d=c){var m,p=(m=o.pop())!=null?m:[];u=p[0],c=p[1],c!=null?s=this.$9(u,c):(s={children:[d],isLeaf:!1,keys:[]},this.$10(a,i).rootId=yield*this.$15(t,s));var h=Math.floor(e.keys.length/2),y=void 0;if(e.isLeaf){var C={children:e.children.slice(h),isLeaf:!0,keys:e.keys.slice(h),nextId:e.nextId,prevId:d},b=y=e.nextId=yield*this.$15(t,C),v=C.nextId;v?this.$8(yield*this.$13(t,v),v).prevId=b:this.$10(a,i).tailId=y}else y=yield*this.$15(t,{children:e.children.slice(h+1),isLeaf:!1,keys:e.keys.slice(h+1)});var S=this.$11(s.keys,e.keys[h]),R=S[0],L=S[1];s.keys.splice(R,L,e.keys[h]),s.children.splice(R+1,0,y),e.keys.length=h,e.children.length=h+(e.isLeaf?0:1)}},n.tableDelete=function*(t,n){var e=yield*this.$21(t,void 0,n);return e==null?!1:(Array.isArray(e)||(this.$3(),this.$1.set(e,c)),!0)},n.indexDelete=function*(t,n,r){return(yield*this.$21(t,n,r))!=null},n.$21=function*(t,n,a){var e=this.$7(n),i=yield*this.$14(t,e);if(i!=null){var l=[],s=yield*this.$12(t,i.rootId,a,l),d=s[0],_=s[1],f=s[2],g=this.$8(d,_),b=S(d.keys,a,m.gte);if(!(b===-1||(u||(u=o("ReStoreKeyComparer"))).compareKey(d.keys[b],a)!==0)){var v=g.children[b];g.keys.splice(b,1),g.children.splice(b,1);for(var R=g,L=_,E=f,k,I,T,D;R.keys.length<(R.isLeaf?n==null?h:y:C)&&l.length;x=[k,T,D],R=x[0],L=x[1],E=x[2],x){var x,$=l.pop();I=$[0],T=$[1],D=$[2],k=this.$9(I,T);var P=[[{nodeId:k.children[E-1]},{node:R,nodeId:L},E-1],[{node:R,nodeId:L},{nodeId:k.children[E+1]},E]].filter(function(e){var t=e[0],n=e[1];return t.nodeId!==void 0&&n.nodeId!==void 0});for(var N of P){var M=N[0],w=N[1],A=N[2],F=M.node=M.node||(yield*this.$13(t,M.nodeId)),O=w.node=w.node||(yield*this.$13(t,w.nodeId)),B=R.isLeaf?n==null?h:y:C;if(F.keys.length+w.node.keys.length>=B*2){if(R.isLeaf){var W=this.$8(F,M.nodeId),q=this.$8(O,w.nodeId),U=[].concat(W.children,q.children),V=[].concat(F.keys,O.keys);W.children=(q.children=U).splice(0,B),W.keys=(q.keys=V).splice(0,B),k.keys[A]=V[0]}else{var H=this.$9(F,M.nodeId),G=this.$9(O,w.nodeId),z=[].concat(H.children,G.children),j=[].concat(H.keys,[k.keys[A]],G.keys);H.children=(G.children=z).splice(0,B+1),k.keys[A]=j.splice(B,1)[0],H.keys=(G.keys=j).splice(0,B)}return v}}for(var K of P){var Q=K[0],X=K[1],Y=K[2];if(R.isLeaf){var J=this.$8(Q.node,Q.nodeId),Z=this.$8(X.node,X.nodeId);J.children=[].concat(J.children,Z.children),J.keys=[].concat(J.keys,Z.keys),Z.keys.length=0;var ee=Z.nextId;if(ee){var te=this.$8(yield*this.$13(t,ee),ee);te.prevId=Q.nodeId}else this.$10(i,e).tailId=Q.nodeId;J.nextId=Z.nextId}else{var ne=this.$9(Q.node,Q.nodeId),re=this.$9(X.node,X.nodeId);ne.children=[].concat(ne.children,re.children),ne.keys=[].concat(ne.keys,[k.keys[Y]],re.keys)}k.keys.splice(Y,1),k.children.splice(Y+1,1),this.$1.set(X.nodeId,c);break}}var oe=yield*this.$13(t,i.rootId);if(!oe.keys.length&&oe.children.length){if(oe.isLeaf){if(p.has(this.$2)){var ae,ie;(ae=(ie=this.$4).logError)==null||ae.call(ie,this.$2,this.$5,"dbCorruption",{})}throw r("FBLogger")("messenger_web").mustfixThrow("cannot be leaf")}this.$1.set(i.rootId,c),this.$10(i,e).rootId=oe.children[0]}return v}}},n.btreeIterator=function(n,a,i){var t=i===void 0?{}:i,l=t.dir,s=l===void 0?"asc":l,c=babelHelpers.objectWithoutPropertiesLoose(t,e);function d(){if(s==="asc"){if(Object.prototype.hasOwnProperty.call(c,"gt"))return c.gt;if(Object.prototype.hasOwnProperty.call(c,"gte"))return c.gte}else{if(Object.prototype.hasOwnProperty.call(c,"lt"))return c.lt;if(Object.prototype.hasOwnProperty.call(c,"lte"))return c.lte}}function p(e){return s==="asc"?Object.prototype.hasOwnProperty.call(c,"gt")?S(e.keys,c.gt,m.gt):Object.prototype.hasOwnProperty.call(c,"gte")?S(e.keys,c.gte,m.gte):0:Object.prototype.hasOwnProperty.call(c,"lt")?S(e.keys,c.lt,m.lt):Object.prototype.hasOwnProperty.call(c,"lte")?S(e.keys,c.lte,m.lte):e.keys.length-1}if(Object.prototype.hasOwnProperty.call(c,"gt")&&Object.prototype.hasOwnProperty.call(c,"gte"))throw r("FBLogger")("messenger_web").mustfixThrow("cannot specify both greater than and greater than or equal");if(Object.prototype.hasOwnProperty.call(c,"lt")&&Object.prototype.hasOwnProperty.call(c,"lte"))throw r("FBLogger")("messenger_web").mustfixThrow("cannot specify both less than and less than or equal");var _,f=this;return{next:function*(t){var e,i,l,g;if(_==null){var h=yield*f.$14(n,f.$7(a));if(h==null)return{done:!0};var y=d();if(y!==void 0){var C=yield*f.$12(n,h.rootId,y);i=C[0],l=C[1]}else if(s==="asc"){var b=[yield*f.$13(n,h.headId),h.headId];i=b[0],l=b[1]}else{var v=[yield*f.$13(n,h.tailId),h.tailId];i=v[0],l=v[1]}e=p(i)}else{var R=_;if(e=R.i,g=R.key,l=R.nodeId,i=yield*f.$14(n,l),t!=null){if((u||(u=o("ReStoreKeyComparer"))).compareKey(t,g)===(s==="asc"?-1:1))throw r("FBLogger")("messenger_web").mustfixThrow("key must be ahead of current key");if(i==null||(u||(u=o("ReStoreKeyComparer"))).compareKey(t,i.keys[0])<0||(u||(u=o("ReStoreKeyComparer"))).compareKey(t,i.keys[i.keys.length-1])>0){var L=yield*f.$14(n,f.$7(a));if(L==null)return{done:!0};var E=yield*f.$12(n,L.rootId,t);i=E[0],l=E[1]}e=S(i.keys,t,m[s==="asc"?"gte":"lte"])}else{if(i==null||e<0||e>=i.keys.length||(u||(u=o("ReStoreKeyComparer"))).compareKey(i.keys[e],g)!==0){if(i==null||!i.keys.length||(u||(u=o("ReStoreKeyComparer"))).compareKey(g,i.keys[0])<0||(u||(u=o("ReStoreKeyComparer"))).compareKey(g,i.keys[i.keys.length-1])>0){var k=yield*f.$14(n,f.$7(a));if(k==null)return{done:!0};var I=yield*f.$12(n,k.rootId,g);i=I[0],l=I[1]}e=S(i.keys,g,m[s==="asc"?"lte":"gte"])}e+=s==="asc"?1:-1}}if(e<0||e>=i.keys.length)if(s==="asc"){if(i.nextId===void 0)return{done:!0};l=i.nextId,i=yield*f.$13(n,l),e=0}else{if(i.prevId===void 0)return{done:!0};l=i.prevId,i=yield*f.$13(n,l),e=i.keys.length-1}if(g=i.keys[e],_={i:e,key:g,node:i,nodeId:l},e<0||e>=i.keys.length)return{done:!0};var T=s==="asc"?Object.prototype.hasOwnProperty.call(c,"lt")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.lt)>=0||Object.prototype.hasOwnProperty.call(c,"lte")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.lte)>0:Object.prototype.hasOwnProperty.call(c,"gt")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.gt)<=0||Object.prototype.hasOwnProperty.call(c,"gte")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.gte)<0;return T?{done:!0}:{done:!1,value:[i.keys[e],i.children[e]]}}}},n.tableEntries=function(t,n){n===void 0&&(n={});var e=this.btreeIterator(t,void 0,n),r=this;return{next:function*(o){var n=yield*e.next(o);if(n.done)return n;var a=n.value,i=a[0],l=a[1],s=yield*r.$18(t,l);return{done:!1,value:[i,s]}}}},n.indexEntries=function(t,n,r){r===void 0&&(r={});var e=this.btreeIterator(t,n,r),o=this;return{next:function*(a){var r=yield*e.next(a);if(r.done)return r;var i=r.value,l=i[0],s=i[1],u=yield*o.$19(t,s,n,l);return{done:!1,value:[l,u]}}}},n.keys=function(t,n,r){r===void 0&&(r={});var e=this.btreeIterator(t,n,r);return{next:function*(n){var t=yield*e.next(n);if(t.done)return t;var r=t.value,o=r[0];return{done:!1,value:o}}}},n.clearIds=function*(t,n){this.$3();var e=this.$7(n),r=yield*this.$14(t,e);if(this.$3(),r!=null){for(var o=yield*this.$13(t,r.rootId),a=[{id:r.rootId,node:o}];a.length>0;){var i=a.shift(),l=i.id,s=i.node;if(!s.isLeaf)for(var u of s.children){var d=yield*this.$14(t,u);d!=null&&a.push({id:u,node:d})}this.$1.set(l,c)}this.$1.set(e,c)}},n.readSeed=function*(t){var e=yield*this.$14(t,o("ReStorePersistenceIds").idForSeed);return e!=null?e:0},n.remove=function(t,n){this.$3(),this.$1.set(n,c)},n.writeData=function(t,n,r){this.$16(n,b(r))},n.writeNewData=function*(t,n){return yield*this.$15(t,b(n))},t})(),L=(function(){function e(e,t,n,a,i){var l=this;this.$2=new Map,this.$6=!1,this.$3=function(){if(l.$6)throw a==null||a.mark("transaction_closed"),r("FBLogger")("messenger_web").mustfixThrow("Transaction has closed");n()},this.$4=t,this.$1=e,this.$5={get:function(n,r,a){var e=o("ReStoreUtils").getOrCreate(l.$1,r,function(){return new Map}),i=e.get(a);if(!v(i))return i!==void 0?i:t.get(n,r,a,"readwrite")},logError:t.logError,shouldInline:t.shouldInline},this.$7=i}var t=e.prototype;return t.flush=function(){for(var e of this.$2){var t=e[0],n=e[1],r=o("ReStoreUtils").getOrCreate(this.$1,t,function(){return new Map});for(var a of n){var i=a[0],l=a[1];r.set(i,l)}}this.$6=!0},t.table=function(t){return new R(o("ReStoreUtils").getOrCreate(this.$2,t,function(){return new Map}),t,this.$3,this.$5,"readwrite",this.$7)},e})(),E=(function(){function e(e,t,n,o){var a=this;this.$1=new Map,this.$2=!1,this.$7=function(){if(a.$2)throw r("FBLogger")("messenger_web").mustfixThrow("Transaction has closed: %s",a.$5)},this.$3=e,this.$4=t,this.types=e.types,this.$5=n,this.$6=o}var t=e.prototype;return t.close=function(){this.$2=!0},t.flush=async function(t){t===void 0&&(t={upgrade:!1}),await this.$3.flush(this.$1,t),this.$2=!0},t.tablePermitsSynchronousIO=function(t){var e,n,r;return(e=(n=(r=this.$3).permitsSynchronousIO)==null?void 0:n.call(r,t))!=null?e:!1},t.table=function(t){return new R(o("ReStoreUtils").getOrCreate(this.$1,t,function(){return new Map}),t,this.$7,this.$3,this.$4,this.$6)},t.createNested=function(t){return new L(this.$1,this.$3,this.$7,t,this.$6)},e})();function k(e){function t(t,n,a){r("promiseDone")((async function(){await e.runExclusively(function(){return Promise.resolve([async function(){var r=new E(e,"readwrite",void 0,function(){});await o("ReStoreCommonUtils").gen(r.table(a).indexDelete(new WeakMap,t,n)),await r.flush()},"readwrite"])},"fixBrokenIndex")})())}return{clearCache:e.clearCache,close:e.close,createTransaction:function(r,o){return new E(e,r,o,t)},isClosed:e.isClosed||function(){return!1},isPersistenceSupported:e.isPersistenceSupported,logError:e.logError,runExclusively:e.runExclusively}}l.sentinelDeleted=c,l.isDeletedValue=v,l.ReStoreDbStoreTable=R,l.ReStoreDbStoreTransaction=E,l.createDbStore=k}),98);
__d("ReStoreTransactionDelay",["setTimeout"],(function(t,n,r,o,a,i,l){"use strict";async function e(e){var t=e==="background"?new Promise(function(e){return r("setTimeout")(e,0)}):Promise.resolve();await t}l.default=e}),98);
__d("createReStoreSubscriptionManager",["ExecutionEnvironment","FBLogger","IntervalList","Promise","PromiseOrValue","ReStoreKeyComparer","ReStoreUtils","asyncToGeneratorRuntime","getErrorSafe","isPromise","nullthrows","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d;function m(t,a,i){var l=new Map,m=new Map;function p(e,t){return(d||(d=o("ReStoreKeyComparer"))).compareValue(e,t)===0}function _(e,t,n,r){for(var o,a=(o=E.get(e))!=null?o:[],i=[],l=0;l<t.length;l++)for(var s=t[l],u=0;u<32&&s!==0;u++){if(s&1){var c=a[(l<<5)+u];if(!p(n[c],r[c])){var d;i[l]=((d=i[l])!=null?d:0)|1<<u%32}}s=s>>>1}return i}function f(e,t){for(var n=0;n<Math.max(e.length,t.length);n++)if((e[n]&t[n])!==0)return!0;return!1}function g(e,t,n,o){try{var a=e(t,n,o);return(u||(u=r("isPromise")))(a)?a.catch(function(e){r("FBLogger")("messenger_web").catching(e).mustfix("error in ReStore subscription async handler")}):a}catch(e){var i=r("getErrorSafe")(e);r("FBLogger")("messenger_web").catching(i).mustfix("error in ReStore subscription handlers")}}function h(t,r,a,i,l){var s=Array.from(r(i));if(l.operation==="put"&&l.prevValue!=null){var u=l.prevValue,d=[];for(var m of s){var p=m[0],h=m[1];h!=null&&h.forEach(function(e,t){var n;d[t]=((n=d[t])!=null?n:0)|e})}var y=_(t,d,u,l.value);return(c||(c=o("PromiseOrValue"))).all(s.map(function(e){var t=e[0],n=e[1];if(n==null||f(y,n))return g(t,i,l,a)}))}return(e||(e=n("Promise"))).all(s.map(function(e){var t=e[0],n=e[1];return g(t,i,l,a)}))}function y(e){return r("nullthrows")((l.has(e)?l:l.set(e,[r("IntervalList")((d||(d=o("ReStoreKeyComparer"))).compareKey,t.tableNames[e].primaryKeyIds.length),new Map])).get(e))}function C(e,n){var a=y(e),i=a[0],l=a[1];return r("nullthrows")((l.has(n)?l:l.set(n,r("IntervalList")((d||(d=o("ReStoreKeyComparer"))).compareKey,t.tableNames[e].indexes[n].length))).get(n))}function b(e,n,a,i,l,s){var u=function(r,o){return h(n,e.findIntersecting,s,r,o)},m=a==null?void 0:o("ReStoreUtils").searchKey(t.tableNames[n],a,l),p=i==null?void 0:o("ReStoreUtils").searchKey(t.tableNames[n],i,l);if(p==null&&m!=null)return u(m,{operation:"delete",prevValue:r("nullthrows")(a)});if(m==null&&p!=null)return u(p,{operation:"add",value:r("nullthrows")(i)});if(m!=null&&p!=null)return(d||(d=o("ReStoreKeyComparer"))).compareKey(m,p)===0?u(m,{operation:"put",prevValue:r("nullthrows")(a),value:r("nullthrows")(i)}):(c||(c=o("PromiseOrValue"))).map(u(m,{operation:"delete",prevValue:r("nullthrows")(a)}),function(){return u(p,{operation:"add",value:r("nullthrows")(i)})})}function v(e,t,n,r){var a=y(e),i=a[0],l=a[1];return(c||(c=o("PromiseOrValue"))).map(b(i,e,t,n,null,r),function(){return(c||(c=o("PromiseOrValue"))).all(Array.from(l.entries()).map(function(o){var a=o[0],i=o[1];return b(i,e,t,n,a,r)}).filter(function(e){return e!=null}))})}function S(){m.forEach(function(e){return e()})}function R(e,t){function n(){var n=new Map;try{for(var o of e){var i=o[0],l=o[1];a(t,i)&&n.set(i,l)}}catch(e){var s=r("getErrorSafe")(e);r("FBLogger")("messenger_web").catching(s).mustfix("Couldnot format changes to broadcast")}return Array.from(n)}if((s||(s=r("ExecutionEnvironment"))).isInBrowser&&i!=null){var o=n();if(o.length===0)return;i.postMessage(t,o)}}(s||(s=r("ExecutionEnvironment"))).isInBrowser&&i!=null&&i.onEventReceive("notifyTableV2",function(e){r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=new WeakMap,n=e.values();yield(c||(c=o("PromiseOrValue"))).loop(function(e){if(e.done)return{action:"break",value:void 0};var r=e.value,a=r[0],i=r[1],l=i.values();return(c||(c=o("PromiseOrValue"))).map(c.loop(function(e){if(e.done)return{action:"break",value:void 0};var n=e.value,r=n[0],i=n[1];return(c||(c=o("PromiseOrValue"))).map(v(a,r,i,t),function(){return{action:"continue",value:l.next()}})},l.next()),function(){return{action:"continue",value:n.next()}})},n.next()),S()})())});var L=new Map,E=new Map;function k(e,t){if(t==null)return null;var n=L.get(e);n==null&&(n=new Map,L.set(e,n));var r=[];for(var o of t){var a,i=n.get(o);if(i==null){i=n.size,n.set(o,i);var l=E.get(e);l==null&&(l=[],E.set(e,l)),l.push(o)}var s=i>>5,u=i&31;r[s]=((a=r[s])!=null?a:0)|1<<u}return r}return{dispose:function(){l.clear(),m.clear()},notifyCommit:S,notifyTableAndIndexSubscribers:v,notifyTableV2:R,subscribeIndex:function(r,o,a,i,l){var t=C(r,o),s=!1,u=function(r,o,i){return s?(e||(e=n("Promise"))).resolve():g(a,r,o,i)},c=[u,k(r,l)];return t.set(i,c),function(){s=!0,t.delete(c)}},subscribeTable:function(r,o,a,i){var t=y(r),l=t[0],s=!1,u=function(r,a,i){return s?(e||(e=n("Promise"))).resolve():g(o,r,a,i)},c=[u,k(r,i)];return l.set(a,c),function(){s=!0,l.delete(c)}},subscribeToCommit:function(t){return m.set(t,t),function(){m.delete(t)}}}}l.default=m}),98);
__d("setImmediate",["TimeSlice","TimerStorage","setImmediateAcrossTransitions"],(function(t,n,r,o,a,i,l){function e(e){var t,n=function(){r("TimerStorage").unset(r("TimerStorage").IMMEDIATE,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];Function.prototype.apply.call(e,this,o)};r("TimeSlice").copyGuardForWrapper(e,n);for(var o=arguments.length,a=new Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];return t=r("setImmediateAcrossTransitions").apply(void 0,[n].concat(a)),r("TimerStorage").set(r("TimerStorage").IMMEDIATE,t),t}l.default=e}),98);
__d("ReStore",["ExecutionEnvironment","FBLogger","JSONStringifyBigIntSafe","ODS","PromiseOrValue","ReStoreCustomMigration","ReStoreHooks","ReStoreIndexeddbPersistenceInitFailure","ReStoreMigrateUtil","ReStoreOperationLock","ReStorePersistedMetadata","ReStorePersistence","ReStoreTable","ReStoreTransactionDelay","ReStoreUtils","clearTimeout","cr:1088","cr:6665","createReStoreSubscriptionManager","getErrorSafe","promiseDone","setImmediate","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(function(e){function t(){return e.call(this,"ReStore transaction timed out")||this}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),d={enableRejectingTransaction:!1,enableTransactionTimeout:!1,fbLoggerProject:"maw_db",odsCategoryID:600},m=12e4;function p(t){var a=t.persistence,i=t.hooks,l=i===void 0?[]:i,p=t.customMigration,_=t.loggers,f=_===void 0?{logHistory:void 0,transactionQplLogger:void 0,userFlow:void 0}:_,g=t.config,h=g===void 0?d:g,y=t.schema,C=f.logHistory,b=f.transactionQplLogger,v=f.userFlow,S=o("ReStorePersistence").createDbStore(a),R=a.tabTablesNotifier==null?void 0:a.tabTablesNotifier(),L=y.defaults,E=r("createReStoreSubscriptionManager")(y,a.shouldSync,R),k=o("ReStoreHooks").createHookManager(l),I=S.createTransaction("readonly"),T=a.types.includes("indexeddb"),D={background:{first:null,last:null},sync_script:{first:null,last:null},ui:{first:null,last:null}},x="<first_txn>";v==null||v.addPoint("migration_start"),C==null||C.debug("restore migration start");var $=new(o("ReStoreOperationLock")).WaitForPromiseLock(a.types.includes("devtool")?Promise.resolve():S.runExclusively(function(){return Promise.resolve([async function(){v==null||v.addPoint("migration_execute_start");var e=new Map,t=S.createTransaction("readwrite"),n=M(t,e);C==null||C.debug("migration transaction created");var r={changedKeys:e,clearCache:N,hooksManager:k,loggers:f,storeTx:t,transaction:n};try{var a=await y.migrate(r);v==null||v.addPoint("migration_custom_start");var i=await o("ReStoreCustomMigration").runCustomMigration(p,r);if(C==null||C.debug("migration custom end"),v==null||v.addPoint("migration_custom_end"),i===o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED&&a===o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){t.close(),C==null||C.debug("restore migration skipped"),v==null||v.addPoint("migration_skipped");return}var l=a!==o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA&&e.size!==0;await t.flush({upgrade:l}),v==null||v.addPoint("migration_execute_end"),C==null||C.debug("restore migration complete")}catch(e){throw t.close(),e}v==null||v.addPoint("migration_end"),C==null||C.debug("restore migration end")},"readwrite"])},"migration").catch(function(e){var t=r("getErrorSafe")(e);throw v==null||v.addAnnotations({string:{migration_error:t.message}}),e instanceof o("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure||v==null||v.endFail("migration_error"),C==null||C.debug("restore migration error"),r("FBLogger")("restore_init").catching(t).mustfix("migration failed"),e}));async function P(e,t){var n=new WeakMap;await S.runExclusively(function(){return Promise.resolve([async function(){var r=new Map,a=S.createTransaction("readwrite"),i=M(a,r),l=t.values();await(u||(u=o("PromiseOrValue"))).loop(function(t){if(t.done)return{action:"break",value:void 0};var r=t.value,a=r[0],s=r[1];return(u||(u=o("PromiseOrValue"))).map(u.map(s==null?i.table(e).delete(o("ReStoreUtils").searchKey(y.tableNames[e],a)):i.table(e).put(s),function(){return E.notifyTableAndIndexSubscribers(e,a,s,n)}),function(){return{action:"continue",value:l.next()}})},l.next());try{await a.flush({upgrade:!0})}catch(e){throw a.close(),e}},"readwrite"])},"applyChangesToTable")}function N(){S.clearCache==null||S.clearCache()}function M(e,t,n){return o("ReStoreUtils").createReStoreTransaction(y,L,k,E,e,t,n)}var w;function A(e,t,n,r){return new Promise(function(o,a){h.enableRejectingTransaction&&(w=a);var i=function(){return x=r,e().then(o,a).finally(function(){return x=void 0})};D[t].last==null?D[t].first=D[t].last={value:{code:i,writemode:n}}:D[t].last=D[t].last.next={value:{code:i,writemode:n}}})}function F(e){return S.runExclusively(function(){var e=D.ui.first!=null?D.ui:D.sync_script.first!=null?D.sync_script:D.background;if(e.first==null)return r("FBLogger")(h.fbLoggerProject).mustfix("Expected work is missing"),Promise.resolve([function(){return Promise.resolve({})},"readonly"]);var t=e.first;return e.first===e.last&&(e.last=null),e.first=e.first.next,Promise.resolve([t.value.code,t.value.writemode])},e)}async function O(e,t,n,o){var a;n===void 0&&(n="background"),o===void 0&&(o={source:"unknown",type:"user_initiated"});var i,l=(a=arguments[4])!=null?a:"<unknown callsite>";l==="<unknown callsite>"&&o.type!=="test_env"&&r("FBLogger")(h.fbLoggerProject).info("Unknown callsite for runInTransaction, action source %s",o.source),o.type==="maw_ui_bridge"&&(l=l+":"+o.events.map(function(e){var t=e.tag;return t}).join(","));try{i=await B(e,t,n,o,l)}catch(e){throw e instanceof c?r("FBLogger")(h.fbLoggerProject).blameToPreviousFrame().mustfixThrow("ReStore transaction took too long to execute: %s",l):e}return i}async function B(t,a,i,l,s){var c;i===void 0&&(i="background");var d,p,_,f,g,y=b==null?void 0:b.startTracking(T,i);n("cr:1088")&&(d=Date.now()),y==null||y.addAnnotations({string:{currentlyExecutingModuleAndLineNo:x,moduleAndLineNo:s}});async function C(){y==null||y.mark("execute_start");var a=Date.now();n("cr:1088")&&(p=Date.now());var i={ref:void 0},c=new Map,m=S.createTransaction("readwrite",s),C;n("cr:1088")==null||n("cr:1088").trackingStoredProceduresForNewTransaction(l),n("cr:1088")==null||n("cr:1088").recordModuleName(s);try{var b=M(m,c,{qplFlow:y});(e||(e=r("ExecutionEnvironment"))).isInBrowser?C=await Promise.race([t(b),q(i,y,s)]):C=await t(b),i.ref!=null&&r("clearTimeout")(i.ref),y==null||y.mark("execute_end"),y==null||y.mark("flush_start"),await m.flush({actionSource:l,qplFlow:y}),y==null||y.mark("flush_end"),n("cr:1088")&&(_=Date.now())}catch(e){var v;i.ref!=null&&r("clearTimeout")(i.ref);var R=r("getErrorSafe")(e),L=(v=R==null?void 0:R.name)!=null?v:"UnknownError",I=Date.now()-a;throw m.close(),y==null||y.fail(R),r("FBLogger")(h.fbLoggerProject).catching(R).mustfix("Transaction failed [%s]: %s (duration: %sms)",L,s!=null?s:"<unknown>",I),n("cr:1088")==null||n("cr:1088").recordRestoreTransaction({broadcast:f,complete:_,flush:g,queue:d,start:p},{changedKeys:c}),e}finally{n("cr:1088")==null||n("cr:1088").stopTrackingStoredProcedures()}n("cr:1088")&&(g=Date.now()),y==null||y.mark("broadcast_start");var T=new WeakMap,D=new Map;for(var x of c){var $=x[0],P=x[1],N=JSON.parse($),w=N[0],A=N[1],F=D.get(w);F==null&&(F=[],D.set(w,F));var O=P[0],B=P[1],W=k.beforeNotify({newValue:B,prevValue:O,tableName:w}),U=W.newValue,V=W.prevValue;F.push([V,U])}var H=D.entries();if(await(u||(u=o("PromiseOrValue"))).loop(function(e){if(e.done)return{action:"break",value:void 0};var t=e.value,n=t[0],r=t[1],a=r.values();return(u||(u=o("PromiseOrValue"))).map(u.loop(function(e){if(e.done)return{action:"break",value:void 0};var t=e.value,r=t[0],i=t[1];return(u||(u=o("PromiseOrValue"))).map(E.notifyTableAndIndexSubscribers(n,r,i,T),function(){return{action:"continue",value:a.next()}})},a.next()),function(){return{action:"continue",value:H.next()}})},H.next()),E.notifyTableV2(D,"notifyTableV2"),E.notifyTableV2(D,"notifyInMemoryTable"),E.notifyCommit(),n("cr:1088")){f=Date.now();var G={broadcast:f,complete:_,flush:g,queue:d,start:p};n("cr:1088").recordRestoreTransaction(G,{changedKeys:c})}return y==null||y.mark("broadcast_end"),y==null||y.mark("post_commit_start"),r("setImmediate")(function(){y==null||y.mark("post_commit_end"),y==null||y.end()}),C}await r("ReStoreTransactionDelay")(i);var v=A(C,i,a,s);if(y==null||y.mark("enqueued"),y==null||y.addAnnotations({string:{actionSourceSource:l.source,actionSourceType:l.type},string_array:{actionSourceEvents:(c=l.events)==null?void 0:c.map(function(e){return e.tag}),actionSourceTaskNames:l.taskNames}}),r("promiseDone")(F(s),function(){},function(e){w==null||w(e)}),!(e||(e=r("ExecutionEnvironment"))).isInBrowser)return v;var R=r("setTimeout")(function(){var t,o,a;r("FBLogger")("messenger_web").mustfix("Transaction not resolved after %s ms. Source: %s; currently processing: %s. Native ops: %s. Executed SP: %s, isInWorker: %s",m,s,x,(t=r("JSONStringifyBigIntSafe")(n("cr:6665")==null?void 0:n("cr:6665").getCurrentlyExecutingNativeOps()))!=null?t:"<devtools not running>",(o=n("cr:1088")==null||(a=n("cr:1088").getStoredProcedureCallLog())==null?void 0:a.sp.map(function(e){return e.spName}).join(","))!=null?o:"<devtools not running>",(e||(e=r("ExecutionEnvironment"))).isInWorker)},m);return v.finally(function(){return r("clearTimeout")(R)})}(e||(e=r("ExecutionEnvironment"))).isInBrowser&&R!=null&&R.onEventReceive("notifyInMemoryTable",function(e){r("promiseDone")((async function(){for(var t of e){var n=t[0],r=t[1];a.shouldApplySync("notifyInMemoryTable",n)&&await P(n,r)}E.notifyCommit()})())});var W=Object.keys(y.tableNames).reduce(function(e,t){var n;return babelHelpers.extends({},e,(n={},n[t]=new(o("ReStoreTable")).ReStoreTable(y.tableNames[t],k,$,I,E),n))},{});return{clearCacheIfSupported:N,closeDb:function(){var e=S;e instanceof Object&&e.close!==void 0&&e.close()},getCustomMigrationVersion:async function(){var e=await new(o("ReStorePersistedMetadata")).ReStorePersistedCustomMigrationVersion().read(S.createTransaction("readonly"));return e==null?void 0:e.customMigrationVersion},getTableData:function(){return y},isClosed:function(){return S.isClosed()},isPersistenceSupported:function(){var e=S;return e instanceof Object&&e.isPersistenceSupported!==void 0&&e.isPersistenceSupported instanceof Function?e.isPersistenceSupported():Promise.resolve(!0)},persistence:a,persistenceTypes:a.types,runInTransaction:O,subscribeToCommit:function(t){return E.subscribeToCommit(t)},subscriptionManager:E,table:function(t){return W[t]},tables:W,uniqueId:a.uniqueId};function q(t,a,i){return h.enableTransactionTimeout?new Promise(function(e,n){var o=5e3;t.ref=r("setTimeout")(function(){a==null||a.mark("slow_transaction"),n(new c)},o)}):new Promise(function(){var a=3e4;t.ref=r("setTimeout")(function(){var t;r("FBLogger")(h.fbLoggerProject).mustfix("ReStore transaction took longer than 30000ms to execute, check it: %s. Executed SP: %s. isInWorker: %s.",i,n("cr:1088")==null||(t=n("cr:1088").getStoredProcedureCallLog())==null?void 0:t.sp.map(function(e){return e.spName}).join(","),(e||(e=r("ExecutionEnvironment"))).isInWorker),(s||(s=o("ODS"))).bumpEntityKey(h.odsCategoryID,"messenger.restore.transaction","timeout_"+(i||"").replace(/:/g,"_"),1)},a)})}}l.default=p}),98);
__d("ReStoreInstrumentation",["JSONStringifyBigIntSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map;function s(t){return e.set(t.uniqueId,{instance:t,persistence:t.persistence,tableNames:t.getTableData().tableNames}),t}function u(){return Array.from(e.entries()).map(function(e){var t=e[0],n=e[1];return{key:t,value:JSON.parse(r("JSONStringifyBigIntSafe")(n.tableNames))}})}l.instrument=s,l.getReStoreTables=u,l.reStoreInstancesMap=e}),98);
__d("LSReStoreWrapper",["LSReStoreQplLogger","MessengerLogHistory","ReStore","ReStoreInstrumentation","gkx","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i){n===void 0&&(n=[]);var l=o("ReStoreInstrumentation").instrument(r("ReStore")({config:{enableRejectingTransaction:r("gkx")("8566"),enableTransactionTimeout:r("gkx")("2947"),fbLoggerProject:"maw_db",odsCategoryID:3185},customMigration:a,hooks:n,loggers:{logHistory:o("MessengerLogHistory").getInstance("db_init"),transactionQplLogger:o("LSReStoreQplLogger").createQplLogger(r("qpl")._(25306500,"1488")),userFlow:i},persistence:e,schema:t}));return l}l.createLSReStore=e}),98);
__d("ReStoreVaulting",["cr:2075","cr:2151","cr:2203"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return n("cr:2075")!=null?n("cr:2075").vault(e):e}function s(e){return n("cr:2075")!=null?n("cr:2075").unvault(e):e}function u(e,t){return n("cr:2151")!=null&&n("cr:2203")!=null?n("cr:2151").unvaultDbRow(e,t,n("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):e}function c(e,t){return n("cr:2151")!=null&&n("cr:2203")!=null?n("cr:2151").vaultDbRow(e,t,n("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):e}l.maybeVault=e,l.maybeUnvault=s,l.maybeUnvaultDbRow=u,l.maybeVaultDbRow=c}),98);
__d("MAWLSVaultingHooks",["ReStoreVaulting"],(function(t,n,r,o,a,i,l){"use strict";var e={onAfterEntriesNext:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeVaultDbRow(n,e)},onAfterGet:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeVaultDbRow(n,e)},onBeforeAdd:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeUnvaultDbRow(n,e)},onBeforeNotify:function(t){var e=t.newValue,n=t.prevValue,r=t.tableName;return{newValue:o("ReStoreVaulting").maybeVaultDbRow(e,r),prevValue:o("ReStoreVaulting").maybeVaultDbRow(n,r)}},onBeforePut:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeUnvaultDbRow(n,e)},onBeforeUpsert:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeUnvaultDbRow(n,e)}};l.default=e}),98);
__d("MSGDataclassTypes.flow",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e,l=(e=n("$InternalEnum"))({LlmOutput:"llm_output",SendQuery:"send_query",StartTyping:"start_typing",StopTyping:"stop_typing",VideoAboutToFinish:"video_about_to_finish"}),s=e({SummarizeInboxFnfMessages:"SUMMARIZE_INBOX_FNF_MESSAGES",PsiQueryPlan:"PSI_QUERY_PLAN"}),u=e({End:"END",Start:"START"}),c=e({CopyToClipboard:"COPY_TO_CLIPBOARD",SendToChat:"SEND_TO_CHAT",FollowUpPrompt:"FOLLOW_UP_PROMPT"}),d=e({Keyword:"KEYWORD",Method:"METHOD",Str:"STR",Number:"NUMBER",Comment:"COMMENT",Default:"DEFAULT"}),m=e({Follow:"FOLLOW",Unfollow:"UNFOLLOW",Join:"JOIN",Leave:"LEAVE",Message:"MESSAGE"}),p=e({Group:"GROUP",Page:"PAGE",CalendarEvent:"CALENDAR_EVENT",Person:"PERSON"}),_=e({HorizontalLine:"HORIZONTAL_LINE",Dot:"DOT"}),f=e({OpenFullView:"OPEN_FULL_VIEW",CancelReasoning:"CANCEL_REASONING"}),g=e({Fetching:"FETCHING",Fetched:"FETCHED",Failed:"FAILED"}),h=e({Generating:"GENERATING",Ready:"READY",Failed:"FAILED"}),y=e({Imagine:"IMAGINE",Animate:"ANIMATE",Memu:"MEMU"}),C=e({Fetching:"FETCHING",Fetched:"FETCHED",Failed:"FAILED"}),b=e({Start:"START",End:"END"}),v=e({Circle:"CIRCLE",Square:"SQUARE",Vertical:"VERTICAL"}),S=e({Top:"TOP",Center:"CENTER"}),R=e({InThread:"IN_THREAD",BottomSheet:"BOTTOM_SHEET"}),L=e({Bing:"BING",Brave:"BRAVE",Google:"GOOGLE",HelpCenter:"HELP_CENTER",InHouse:"IN_HOUSE",Kss:"KSS",Mase:"MASE"}),E=e({Landscape:"LANDSCAPE",Portrait:"PORTRAIT"}),k=e({GroupPost:"GROUP_POST",PagePost:"PAGE_POST"}),I=e({FbSocialSearch:"FB_SOCIAL_SEARCH"}),T=e({Planned:"PLANNED",InProgress:"IN_PROGRESS",Completed:"COMPLETED",Stopped:"STOPPED"}),D=e({FbGroup:"FB_GROUP",FbPage:"FB_PAGE",FbProfile:"FB_PROFILE",IgProfile:"IG_PROFILE",ThreadsProfile:"THREADS_PROFILE"}),x=e({Facebook:"FACEBOOK",Instagram:"INSTAGRAM",Threads:"THREADS"}),$=e({FacebookPost:"FACEBOOK_POST",InstagramPost:"INSTAGRAM_POST",ThreadsPost:"THREADS_POST",ThirdParty:"THIRD_PARTY"}),P=e({Thinking:"THINKING",WebSearch:"WEB_SEARCH",MetaSearch:"META_SEARCH"}),N=e({Details:"DETAILS"}),M=e({Steps:"STEPS",Sources:"SOURCES"}),w=e({Pending:"PENDING",Running:"RUNNING",Done:"DONE"}),A=e({Gmail:"GMAIL",GoogleCalendar:"GOOGLE_CALENDAR",OutlookCalendar:"OUTLOOK_CALENDAR",OutlookMail:"OUTLOOK_MAIL"}),F=e({Initiated:"INITIATED",Linked:"LINKED",Unlinked:"UNLINKED"}),O=e({ContextualMenu:"CONTEXTUAL_MENU",AiLookup:"AI_LOOKUP"}),B=e({Restaurant:"RESTAURANT",Movie:"MOVIE",TvShows:"TV_SHOWS",Celebrity:"CELEBRITY",SportsTeam:"SPORTS_TEAM",InfoTerm:"INFO_TERM"}),W=e({Reasoning:"REASONING",Responding:"RESPONDING"}),q=e({Default:"DEFAULT",CriticalUserMessage:"CRITICAL_USER_MESSAGE",NonCriticalAdminXma:"NON_CRITICAL_ADMIN_XMA"}),U=e({ThreadviewSuggestedPrompt:"THREADVIEW_SUGGESTED_PROMPT",TypeaheadSuggestedPrompt:"TYPEAHEAD_SUGGESTED_PROMPT",SuggestedPrompt:"SUGGESTED_PROMPT",NullStatePrompt:"NULL_STATE_PROMPT",UserInputPrompt:"USER_INPUT_PROMPT",GenericPrompt:"GENERIC_PROMPT",ThreadviewUserInputPrompt:"THREADVIEW_USER_INPUT_PROMPT",Icebreakers:"ICEBREAKERS",ThreadSurfingPrompt:"THREAD_SURFING_PROMPT",MetaAiVoiceConversationStarter:"META_AI_VOICE_CONVERSATION_STARTER",MetaAiTextConversationStarter:"META_AI_TEXT_CONVERSATION_STARTER",MetaAiFabHint:"META_AI_FAB_HINT",AiLookup:"AI_LOOKUP"}),V=e({DeleteBackupStateOnClient:"DELETE_BACKUP_STATE_ON_CLIENT",IssueCheckBackupStateTask:"ISSUE_CHECK_BACKUP_STATE_TASK",UpsertStatusTrigger:"UPSERT_STATUS_TRIGGER",UpsertReenrollmentTrigger:"UPSERT_REENROLLMENT_TRIGGER",UpdateInitializeRestoreResult:"UPDATE_INITIALIZE_RESTORE_RESULT",InitializeRestore:"INITIALIZE_RESTORE",DeleteAndInsertPakeMessage:"DELETE_AND_INSERT_PAKE_MESSAGE",RotateDeviceKeysStart:"ROTATE_DEVICE_KEYS_START",LegacyRetroactiveBackup:"LEGACY_RETROACTIVE_BACKUP",UpdatePbqWithNeedsBackupUploadStatus:"UPDATE_PBQ_WITH_NEEDS_BACKUP_UPLOAD_STATUS",SyncDeviceCreationTimestamp:"SYNC_DEVICE_CREATION_TIMESTAMP"}),H=e({Message:"MESSAGE",Thread:"THREAD"}),G=e({UpsertBackupItem:"UPSERT_BACKUP_ITEM",RemoveBackupItem:"REMOVE_BACKUP_ITEM"}),z=e({Retroactive:"RETROACTIVE",Realtime:"REALTIME",InfiniteRetroactive:"INFINITE_RETROACTIVE",Retry:"RETRY"}),j=e({Before:"BEFORE",After:"AFTER"}),K=e({Photo:"PHOTO",Permanent:"PERMANENT",Ephemeral:"EPHEMERAL",Video:"VIDEO",Gif:"GIF",Audio:"AUDIO",File:"FILE",Raven:"RAVEN",UnreadRaven:"UNREAD_RAVEN",ShareIgMedia:"SHARE_IG_MEDIA",ShareLink:"SHARE_LINK",ShareIgClips:"SHARE_IG_CLIPS",Shh:"SHH",StoryReply:"STORY_REPLY",DisappearingMessage:"DISAPPEARING_MESSAGE",RavenSeen:"RAVEN_SEEN",RavenReplayed:"RAVEN_REPLAYED",RavenReadOnce:"RAVEN_READ_ONCE",RavenReplayable:"RAVEN_REPLAYABLE",RavenPermanent:"RAVEN_PERMANENT",ActionLog:"ACTION_LOG"}),Q=e({HistoryRestore:"HISTORY_RESTORE",Reporting:"REPORTING",Fts:"FTS",NewMemberExport:"NEW_MEMBER_EXPORT",MpsReadApis:"MPS_READ_APIS"}),X=e({NotApplicable:"NOT_APPLICABLE",NeedsUpload:"NEEDS_UPLOAD",AlreadyUploaded:"ALREADY_UPLOADED"}),Y=e({Success:"SUCCESS",RetryableException:"RETRYABLE_EXCEPTION",PermanentFailure:"PERMANENT_FAILURE"}),J=e({Fbn:"FBN",Instamadillo:"INSTAMADILLO",Unknown:"UNKNOWN"}),Z=e({User:"USER",Assistant:"ASSISTANT"}),ee=e({Unknown:"UNKNOWN",Memu:"MEMU",Synthetic:"SYNTHETIC",UserUploaded:"USER_UPLOADED"}),te=e({AskMetaAi:"ASK_META_AI",Summarize:"SUMMARIZE"}),ne=e({GetInfo:"GET_INFO",GetRestaurantInfo:"GET_RESTAURANT_INFO",Reviews:"REVIEWS",MenuHighlights:"MENU_HIGHLIGHTS",Address:"ADDRESS",WhereToWatch:"WHERE_TO_WATCH",LatestNews:"LATEST_NEWS",FindNextGame:"FIND_NEXT_GAME",ResponseCard:"RESPONSE_CARD"}),re=e({Restaurant:"RESTAURANT",Movie:"MOVIE",TvShows:"TV_SHOWS",Celebrity:"CELEBRITY",SportsTeam:"SPORTS_TEAM"}),oe=e({MagicModBackdrop:"MAGIC_MOD_BACKDROP",MagicModRestyle:"MAGIC_MOD_RESTYLE",Imagine:"IMAGINE",Memu:"MEMU",HiddenMetadata:"HIDDEN_METADATA",AiVoiceNotes:"AI_VOICE_NOTES"}),ae=e({XmaWebUrl:"XMA_WEB_URL",XmaOpenNative:"XMA_OPEN_NATIVE",XmaMsgExternalLinkShare:"XMA_MSG_EXTERNAL_LINK_SHARE",XmaGenAiSearchPluginResponseSources:"XMA_GEN_AI_SEARCH_PLUGIN_RESPONSE_SOURCES",XmaSharedAlbumViewer:"XMA_SHARED_ALBUM_VIEWER",XmaMetaAiSingleSubscription:"XMA_META_AI_SINGLE_SUBSCRIPTION",XmaMetaAiSubscriptions:"XMA_META_AI_SUBSCRIPTIONS",XmaMetaAiReminders:"XMA_META_AI_REMINDERS",XmaMetaAiTask:"XMA_META_AI_TASK",XmaGamePlay:"XMA_GAME_PLAY",ViewSingleAiTask:"VIEW_SINGLE_AI_TASK",ViewAllAiTasks:"VIEW_ALL_AI_TASKS",XmaMetaAiLocation:"XMA_META_AI_LOCATION",XmaMetaAiLookupEntity:"XMA_META_AI_LOOKUP_ENTITY",XmaP2POpgTransfer:"XMA_P2P_OPG_TRANSFER",MarketplaceXmaCallFunction:"MARKETPLACE_XMA_CALL_FUNCTION",XmaMetaAiDigestSeeSummary:"XMA_META_AI_DIGEST_SEE_SUMMARY",XmaMusicArtist:"XMA_MUSIC_ARTIST",MarketplaceXmatCallFunction:"MARKETPLACE_XMAT_CALL_FUNCTION"}),ie=e({PaidPartnership:"PAID_PARTNERSHIP",NoBranding:"NO_BRANDING"}),le=e({Imagine:"IMAGINE",Imaginev2:"IMAGINEV2",Imagineme:"IMAGINEME"}),se=e({Animate:"ANIMATE",AnimateImagineme:"ANIMATE_IMAGINEME"}),ue=e({Mention:"MENTION",SuperReact:"SUPER_REACT",StoryReply:"STORY_REPLY",MessageReply:"MESSAGE_REPLY",ContentReply:"CONTENT_REPLY",ContentMention:"CONTENT_MENTION",ContentShare:"CONTENT_SHARE",OnPlatform:"ON_PLATFORM",OffPlatform:"OFF_PLATFORM",MessageForward:"MESSAGE_FORWARD",Avatar:"AVATAR",SocialSticker:"SOCIAL_STICKER",NoteReply:"NOTE_REPLY",InvokesGenAiResponse:"INVOKES_GEN_AI_RESPONSE",SentFromGenAiBot:"SENT_FROM_GEN_AI_BOT",DisappearingMessage:"DISAPPEARING_MESSAGE",IncludesOnPlatformContent:"INCLUDES_ON_PLATFORM_CONTENT",IncludesOffPlatformContent:"INCLUDES_OFF_PLATFORM_CONTENT",IncludesLink:"INCLUDES_LINK",MultitabEnv:"MULTITAB_ENV",PowerUp:"POWER_UP",MsysSend:"MSYS_SEND",EditMessage:"EDIT_MESSAGE",VanishMode:"VANISH_MODE",Superlative:"SUPERLATIVE",Raven:"RAVEN",Hotlike:"HOTLIKE",IsDialtone:"IS_DIALTONE",MessageReshare:"MESSAGE_RESHARE",PostReply:"POST_REPLY",IsNotDialtone:"IS_NOT_DIALTONE",ThirdPartyReshare:"THIRD_PARTY_RESHARE",ZeroBalanceDetected:"ZERO_BALANCE_DETECTED",ConversationStarter:"CONVERSATION_STARTER",AnimatedAiSticker:"ANIMATED_AI_STICKER",AiGeneratedSticker:"AI_GENERATED_STICKER",AiSummaryBottomSheet:"AI_SUMMARY_BOTTOM_SHEET",MagicModImage:"MAGIC_MOD_IMAGE",ShareOfOriginalUserContent:"SHARE_OF_ORIGINAL_USER_CONTENT",LightweightInteractionAsStoryReply:"LIGHTWEIGHT_INTERACTION_AS_STORY_REPLY",WriteWithMetaAi:"WRITE_WITH_META_AI",AvatarStyle_1:"AVATAR_STYLE_1",AvatarStyle_2:"AVATAR_STYLE_2",MetaAiEntitySuggestedPrompts:"META_AI_ENTITY_SUGGESTED_PROMPTS",ContentConversationStarter:"CONTENT_CONVERSATION_STARTER",MetaAiIntents:"META_AI_INTENTS",QuicksnapReply:"QUICKSNAP_REPLY",ContentBasedSparks:"CONTENT_BASED_SPARKS"}),ce=e({Memu:"MEMU",Imagine:"IMAGINE",ImagineRestyle:"IMAGINE_RESTYLE"}),de=e({Reminder:"REMINDER",Subscription:"SUBSCRIPTION"}),me=e({Text:"text",Image:"image",Voice:"voice",Link_1p:"link_1p",Link_3p:"link_3p"}),pe=e({MothersDay:"MOTHERS_DAY",FathersDay:"FATHERS_DAY",Graduation:"GRADUATION",NationalSelfie:"NATIONAL_SELFIE",PhIndependenceDay:"PH_INDEPENDENCE_DAY",JulyFourth:"JULY_FOURTH",FriendshipDay:"FRIENDSHIP_DAY"}),_e=e({Birthday:"BIRTHDAY",Attribution:"ATTRIBUTION"}),fe=e({Note:"NOTE",Story:"STORY",Profile:"PROFILE",Clip:"CLIP",Feed:"FEED",Live:"LIVE",Comment:"COMMENT",LocationShare:"LOCATION_SHARE",ReelsAudio:"REELS_AUDIO",MediaNote:"MEDIA_NOTE",StoryHighlight:"STORY_HIGHLIGHT",SocialContext:"SOCIAL_CONTEXT"}),ge=e({Mention:"MENTION",Reply:"REPLY"}),he=e({Share:"SHARE",Reply:"REPLY",React:"REACT",Mention:"MENTION"}),ye=e({Undefined:"UNDEFINED",Genmoji:"GENMOJI",Metamoji:"METAMOJI",AnimatedEmoji:"ANIMATED_EMOJI"}),Ce=e({GenAiGetInfo:"GEN_AI_GET_INFO",GenAiReminder:"GEN_AI_REMINDER",GenAiThreadSurfing:"GEN_AI_THREAD_SURFING"}),be=e({Unknown:"UNKNOWN",AnimatedThankImage:"ANIMATED_THANK_IMAGE",AnimatedThankImageWithTextMessage:"ANIMATED_THANK_IMAGE_WITH_TEXT_MESSAGE"}),ve=e({Unknown:"UNKNOWN",BulkReply:"BULK_REPLY",AutoReply:"AUTO_REPLY"}),Se=e({AttachmentPreviewMedia:"ATTACHMENT_PREVIEW_MEDIA",AttachmentPreviewHeaderMedia:"ATTACHMENT_PREVIEW_HEADER_MEDIA"}),Re=e({Simple:"SIMPLE",Retro:"RETRO",Messages:"MESSAGES"}),Le=e({Simple:"SIMPLE",Retro:"RETRO",Messages:"MESSAGES"}),Ee=e({Unactioned:"UNACTIONED",Accepted:"ACCEPTED",Deleted:"DELETED"}),ke=e({FbmInbox:"FBM_INBOX",Profile:"PROFILE",Feed:"FEED",FbSearch:"FB_SEARCH",Watch:"WATCH",Shorts:"SHORTS",Ufi:"UFI",Ctm:"CTM",Cts:"CTS",Psrib:"PSRIB",Srib:"SRIB",Rta:"RTA",Mp:"MP",CommentMentions:"COMMENT_MENTIONS",ZorroMessage:"ZORRO_MESSAGE",FbHelpCenterXsMetaAi:"FB_HELP_CENTER_XS_META_AI",Dating:"DATING",IgReels:"IG_REELS",IgStory:"IG_STORY",IgFeed:"IG_FEED",IgProfile:"IG_PROFILE",IgNotes:"IG_NOTES",IgLive:"IG_LIVE",IgExternalLink:"IG_EXTERNAL_LINK",IgComment:"IG_COMMENT",FbNotes:"FB_NOTES",FbGroups:"FB_GROUPS",GenAiSuggestedPrompts:"GEN_AI_SUGGESTED_PROMPTS",GenAiMultiModal:"GEN_AI_MULTI_MODAL",GenAiFlAshImagine:"GEN_AI_FlASH_IMAGINE",GenAiAssistant:"GEN_AI_ASSISTANT",GenAiLocation:"GEN_AI_LOCATION",Sharesheet:"SHARESHEET",ProductHighlights:"PRODUCT_HIGHLIGHTS",MagicMessenger:"MAGIC_MESSENGER",SpectraAction:"SPECTRA_ACTION"}),Ie=e({MsgrE2EeGenai:"MSGR_E2EE_GENAI"}),Te=e({Statusupdate:"STATUSUPDATE",Grouppost:"GROUPPOST",Shareurl:"SHAREURL",Unifiedresponse:"UNIFIEDRESPONSE"}),De=e({Single:"SINGLE",Hscroll:"HSCROLL",Xcenter:"XCENTER",Portrait:"PORTRAIT",Layered:"LAYERED",Placeholder:"PLACEHOLDER",ExpiredPlaceholder:"EXPIRED_PLACEHOLDER",PilePrompt:"PILE_PROMPT",Stack:"STACK",SharedStack:"SHARED_STACK",StackCard:"STACK_CARD",StandardDxma:"STANDARD_DXMA",DxmaPlaceholder:"DXMA_PLACEHOLDER",Grid:"GRID"}),xe=e({Share:"SHARE",Reply:"REPLY",Mention:"MENTION",Bump:"BUMP"}),$e=e({XmaWebUrl:"XMA_WEB_URL"}),Pe=e({Mention:"MENTION",Reply:"REPLY"}),Ne=e({Note:"NOTE",Prompt:"PROMPT",PromptResponse:"PROMPT_RESPONSE",Status:"STATUS"}),Me=e({Video:"VIDEO",Image:"IMAGE",Other:"OTHER"}),we=e({Love:"LOVE",Giftwrap:"GIFTWRAP",Celebration:"CELEBRATION",Fire:"FIRE",AvatarLove:"AVATAR_LOVE",AvatarAngry:"AVATAR_ANGRY",AvatarCry:"AVATAR_CRY",AvatarLaugh:"AVATAR_LAUGH",Halloween:"HALLOWEEN",NomNomDash:"NOM_NOM_DASH",NewYears:"NEW_YEARS",ValentinesDay:"VALENTINES_DAY",AntiValentines:"ANTI_VALENTINES"}),Ae=e({None:"NONE",BasicSuperReactAnimation:"BASIC_SUPER_REACT_ANIMATION",FbEmoji:"FB_EMOJI",NonDefaultEmoji:"NON_DEFAULT_EMOJI"}),Fe=e({Text:"TEXT",Media:"MEDIA"}),Oe=e({SenderParent:"SENDER_PARENT",RecipientParent:"RECIPIENT_PARENT",Classifier:"CLASSIFIER",ReactiveEnforcement:"REACTIVE_ENFORCEMENT"}),Be=e({Takedown:"TAKEDOWN",Restore:"RESTORE"}),We=e({Unknown:"UNKNOWN",SoftDeleteWithAppeal:"SOFT_DELETE_WITH_APPEAL",SoftDeleteWithoutAppeal:"SOFT_DELETE_WITHOUT_APPEAL",PermanentDelete:"PERMANENT_DELETE",SoftDeleteWithAppealParentUnviewable:"SOFT_DELETE_WITH_APPEAL_PARENT_UNVIEWABLE",SoftDeleteWithoutAppealParentUnviewable:"SOFT_DELETE_WITHOUT_APPEAL_PARENT_UNVIEWABLE"}),qe=e({Unknown:"UNKNOWN",TwoOptionCombined:"TWO_OPTION_COMBINED",IgTwoOptionCombined:"IG_TWO_OPTION_COMBINED",FiveOptionStarRating:"FIVE_OPTION_STAR_RATING"}),Ue=e({Unknown:"UNKNOWN",Location:"LOCATION",People:"PEOPLE",Event:"EVENT",ResharedPost:"RESHARED_POST",ResharedContent:"RESHARED_CONTENT",Page:"PAGE",Fundraiser:"FUNDRAISER",Product:"PRODUCT",AntiBully:"ANTI_BULLY",Instagram:"INSTAGRAM"}),Ve=e({Unspecified:"UNSPECIFIED",QuickEmoji:"QUICK_EMOJI",Avatar:"AVATAR",SuggestedReply:"SUGGESTED_REPLY",PostLwrSuggestedReply:"POST_LWR_SUGGESTED_REPLY",WriteWithAi:"WRITE_WITH_AI",GifLightWeight:"GIF_LIGHT_WEIGHT",StickerLightWeight:"STICKER_LIGHT_WEIGHT",QuickEmojiPalette:"QUICK_EMOJI_PALETTE",SuggestedText:"SUGGESTED_TEXT",SuggestedEmoji:"SUGGESTED_EMOJI",SuggestedEmojiText:"SUGGESTED_EMOJI_TEXT"}),He=e({RequestStart:"REQUEST_START",Searching:"SEARCHING",Imagining:"IMAGINING",UnderstandingImage:"UNDERSTANDING_IMAGE",Generating:"GENERATING",StreamingImage:"STREAMING_IMAGE"}),Ge=e({BanUser:"BAN_USER",RemoveUser:"REMOVE_USER",SuspendUser:"SUSPEND_USER",RemoveMessage:"REMOVE_MESSAGE",ReportMessage:"REPORT_MESSAGE",HideMessage:"HIDE_MESSAGE"}),ze=e({Foo:"FOO",Bar:"BAR",Baz:"BAZ"}),je=e({Foo:"FOO",Bar:"BAR",Baz:"BAZ"}),Ke=e({Untranscribed:"UNTRANSCRIBED",Transcribing:"TRANSCRIBING",Success:"SUCCESS",Error:"ERROR",UnsupportedLanguage:"UNSUPPORTED_LANGUAGE"}),Qe=e({Unknown:"UNKNOWN",Product:"PRODUCT",Faq:"FAQ",Chat:"CHAT",Post:"POST",Other:"OTHER"}),Xe=e({Unknown:"UNKNOWN",Product:"PRODUCT",Faq:"FAQ",Chat:"CHAT",Post:"POST",Pricelist:"PRICELIST",Other:"OTHER"}),Ye=e({Keyword:"KEYWORD",Method:"METHOD",Str:"STR",Number:"NUMBER",Comment:"COMMENT",Default:"DEFAULT"}),Je=e({Chevron:"CHEVRON"}),Ze=e({Square:"SQUARE",Circle:"CIRCLE"}),et=e({Album:"ALBUM",Clips:"CLIPS",Video:"VIDEO"}),tt=e({Test:"TEST",None:"NONE",IgMediaShare:"IG_MEDIA_SHARE",IgMultipostShare:"IG_MULTIPOST_SHARE",IgStoryReply:"IG_STORY_REPLY",IgStoryPhotoShare:"IG_STORY_PHOTO_SHARE",IgStoryPhotoMention:"IG_STORY_PHOTO_MENTION",IgClipsShare:"IG_CLIPS_SHARE",IgSingleVideoPostShare:"IG_SINGLE_VIDEO_POST_SHARE",IgStoryVideoShare:"IG_STORY_VIDEO_SHARE",IgStoryReaction:"IG_STORY_REACTION",IgIgtvShare:"IG_IGTV_SHARE",IgShopShare:"IG_SHOP_SHARE",IgProfileShare:"IG_PROFILE_SHARE",IgStoryPhotoHighlightShare:"IG_STORY_PHOTO_HIGHLIGHT_SHARE",IgStoryVideoHighlightShare:"IG_STORY_VIDEO_HIGHLIGHT_SHARE",IgStoryVideoMention:"IG_STORY_VIDEO_MENTION",IgStoryHighlightReply:"IG_STORY_HIGHLIGHT_REPLY",IgStoryHighlightReaction:"IG_STORY_HIGHLIGHT_REACTION",IgExternalLink:"IG_EXTERNAL_LINK",IgReceiverFetch:"IG_RECEIVER_FETCH",IgTextPostAppShare:"IG_TEXT_POST_APP_SHARE",FbFeedShare:"FB_FEED_SHARE",FbStoryReply:"FB_STORY_REPLY",FbStoryShare:"FB_STORY_SHARE",FbStoryMention:"FB_STORY_MENTION",FbFeedVideoShare:"FB_FEED_VIDEO_SHARE",FbGamingCustomUpdate:"FB_GAMING_CUSTOM_UPDATE",FbProducerStoryReply:"FB_PRODUCER_STORY_REPLY",FbEvent:"FB_EVENT",FbFeedPostPrivateReply:"FB_FEED_POST_PRIVATE_REPLY",FbShort:"FB_SHORT",FbCommentMentionShare:"FB_COMMENT_MENTION_SHARE",FbPostMention:"FB_POST_MENTION",FbFeedPostReactionReply:"FB_FEED_POST_REACTION_REPLY",MsgExternalLinkShare:"MSG_EXTERNAL_LINK_SHARE",MsgP2PPayment:"MSG_P2P_PAYMENT",MsgOpgP2PPayment:"MSG_OPG_P2P_PAYMENT",MsgLocationSharingDeprecated:"MSG_LOCATION_SHARING_DEPRECATED",MsgLocationSharingV2:"MSG_LOCATION_SHARING_V2",MsgReceiverFetch:"MSG_RECEIVER_FETCH",MsgIgMediaShare:"MSG_IG_MEDIA_SHARE",MsgGenAiSearchPluginResponse:"MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE",MsgReelsList:"MSG_REELS_LIST",MsgContact:"MSG_CONTACT",MsgFile:"MSG_FILE",MsgAiContact:"MSG_AI_CONTACT",MsgMemoriesShare:"MSG_MEMORIES_SHARE",MsgEarlyAccessFbShare:"MSG_EARLY_ACCESS_FB_SHARE",MsgSharedAlbum:"MSG_SHARED_ALBUM",MsgPhoneNumber:"MSG_PHONE_NUMBER",MsgPrivateXma:"MSG_PRIVATE_XMA",MsgMusicSticker:"MSG_MUSIC_STICKER",MsgReceiverFetchFallback:"MSG_RECEIVER_FETCH_FALLBACK",MsgAiBotSearchResult:"MSG_AI_BOT_SEARCH_RESULT",MsgGenAiSubscription:"MSG_GEN_AI_SUBSCRIPTION",MsgGenAiReminder:"MSG_GEN_AI_REMINDER",MsgGenAiTask:"MSG_GEN_AI_TASK",MsgGenAi_1PSearchResult:"MSG_GEN_AI_1P_SEARCH_RESULT",MsgGenAiMemuOnboardingResponse:"MSG_GEN_AI_MEMU_ONBOARDING_RESPONSE",MsgGenAiRichResponse:"MSG_GEN_AI_RICH_RESPONSE",RtcAudioCall:"RTC_AUDIO_CALL",RtcVideoCall:"RTC_VIDEO_CALL",RtcMissedAudioCall:"RTC_MISSED_AUDIO_CALL",RtcMissedVideoCall:"RTC_MISSED_VIDEO_CALL",RtcGroupAudioCall:"RTC_GROUP_AUDIO_CALL",RtcGroupVideoCall:"RTC_GROUP_VIDEO_CALL",RtcMissedGroupAudioCall:"RTC_MISSED_GROUP_AUDIO_CALL",RtcMissedGroupVideoCall:"RTC_MISSED_GROUP_VIDEO_CALL",RtcOngoingVideoCall:"RTC_ONGOING_VIDEO_CALL",RtcOngoingAudioCall:"RTC_ONGOING_AUDIO_CALL",LiveLocation:"LIVE_LOCATION",OcAvatarStaticSticker:"OC_AVATAR_STATIC_STICKER"}),nt=e({None:"NONE",Fb:"FB",FbAlwaysWhite:"FB_ALWAYS_WHITE",DotsThreeHorizontal:"DOTS_THREE_HORIZONTAL",ChevronDown:"CHEVRON_DOWN",FbInfoSmall:"FB_INFO_SMALL"}),rt=e({Default:"DEFAULT",P2PPreviewImageWithTextOverlay:"P2P_PREVIEW_IMAGE_WITH_TEXT_OVERLAY",Playable:"PLAYABLE",AutoPlayable:"AUTO_PLAYABLE",BlurredImage:"BLURRED_IMAGE",BlurredPlayable:"BLURRED_PLAYABLE",InformTreatmentWithLabel:"INFORM_TREATMENT_WITH_LABEL",InformTreatmentWithWarningScreen:"INFORM_TREATMENT_WITH_WARNING_SCREEN",YoutubePlayer:"YOUTUBE_PLAYER",ImageWithPlayButton:"IMAGE_WITH_PLAY_BUTTON",Placeholder:"PLACEHOLDER",AutoPlayableWithAspectRatio:"AUTO_PLAYABLE_WITH_ASPECT_RATIO"}),ot=e({OnTime:"ON_TIME",Delayed:"DELAYED",Cancelled:"CANCELLED",Arrived:"ARRIVED",Departed:"DEPARTED",Unknown:"UNKNOWN"}),at=e({MediaLabel:"MEDIA_LABEL",Misinformation:"MISINFORMATION",PostCover:"POST_COVER",PostLabel:"POST_LABEL",Private:"PRIVATE",Sensitive:"SENSITIVE",WarningScreens:"WARNING_SCREENS"}),it=e({None:"NONE",Collage:"COLLAGE",Photo:"PHOTO",Video:"VIDEO",MultiPhoto:"MULTI_PHOTO",MessengerIcon:"MESSENGER_ICON",InstagramIcon:"INSTAGRAM_ICON",ReelsIcon:"REELS_ICON",Live:"LIVE",YoutubeVideo:"YOUTUBE_VIDEO",YoutubeShorts:"YOUTUBE_SHORTS",Blur:"BLUR",Pill:"PILL"}),lt=e({Grid:"GRID",Hscroll:"HSCROLL",Portrait:"PORTRAIT",Single:"SINGLE",Vstack:"VSTACK",SharedStack:"SHARED_STACK"}),st=e({Started:"STARTED",Ended:"ENDED",Active:"ACTIVE",Expired:"EXPIRED"}),ut=e({Default:"DEFAULT",Rounded:"ROUNDED",BlurredCircle:"BLURRED_CIRCLE",TemplateAsset:"TEMPLATE_ASSET",DefaultWithGradient:"DEFAULT_WITH_GRADIENT"}),ct=e({Paypal:"PAYPAL",Venmo:"VENMO"}),dt=e({Payment:"PAYMENT",Request:"REQUEST"}),mt=e({None:"NONE",VodVideo:"VOD_VIDEO",LiveVideo:"LIVE_VIDEO",ShortsVideo:"SHORTS_VIDEO"}),pt=e({Missed:"MISSED",Ended:"ENDED",Started:"STARTED"}),_t=e({Video:"VIDEO",Audio:"AUDIO"}),ft=e({Default:"DEFAULT",Overlay:"OVERLAY"}),gt=e({Regular:"REGULAR",Bold:"BOLD"}),ht=e({Weekly:"WEEKLY",Daily:"DAILY"}),yt=e({Default:"DEFAULT",ThreadsIcon:"THREADS_ICON",FacebookIcon:"FACEBOOK_ICON",ExternalLinkIcon:"EXTERNAL_LINK_ICON",MessengerIcon:"MESSENGER_ICON",InstagramIcon:"INSTAGRAM_ICON",OculusIcon:"OCULUS_ICON",MetaAiIcon:"META_AI_ICON",MetaHorizonIcon:"META_HORIZON_ICON",VibesIcon:"VIBES_ICON"}),Ct=e({Left:"LEFT",Center:"CENTER"}),bt=e({Default:"DEFAULT"}),vt=e({None:"NONE",YoutubeVideo:"YOUTUBE_VIDEO",YoutubeShorts:"YOUTUBE_SHORTS"});i.AiBotEmbodimentTrigger=l,i.ClientInstructionType=s,i.GenAiAddonActionAlignment=u,i.GenAiAddonActionType=c,i.GenAiCodeBlockType=d,i.GenAiCompactEntityActionType=m,i.GenAiCompactEntityType=p,i.GenAiDividerType=_,i.GenAiFooterActionType=f,i.GenAiImageAssetQueryStatus=g,i.GenAiImaginePrimitiveStatus=h,i.GenAiImagineType=y,i.GenAiMapQueryStatus=C,i.GenAiMediaHorizontalAlignment=b,i.GenAiMediaShape=v,i.GenAiMediaVerticalAlignment=S,i.GenAiMultipleResponseLayoutType=R,i.GenAiOrchestratorSearchEngine=L,i.GenAiPostOrientation=E,i.GenAiPostType=k,i.GenAiProductSurface=I,i.GenAiSearchPlannerStepStatus=T,i.GenAiSocialEntityItemType=D,i.GenAiSourceApp=x,i.GenAiSourcedItemType=$,i.GenAiThinkingStatusIcon=P,i.GenAiThinkingStatusSecondaryScreenId=N,i.GenAiThinkingStatusSecondaryScreenTabId=M,i.GenAiThinkingToolStatus=w,i.GenAiThirdPartyAccountLinkingIntegration=A,i.GenAiThirdPartyAccountLinkingIntegrationStatus=F,i.GenAiThreadSurfingActionType=O,i.GenAiThreadSurfingEntityType=B,i.GenAiUnifiedResponseSectionType=W,i.GenAiContextInjectionType=q,i.GenAiPromptType=U,i.MebSplitDatabaseExecutionType=V,i.MpsBackupContentType=H,i.MpsBackupOperation=G,i.MpsMessageBackupSource=z,i.MpsMessageRangeQueryDirection=j,i.MpsMessageTag=K,i.MpsQueryCaller=Q,i.MpsServerAttachmentUploadStatus=X,i.MpsServerMessageUploadStatus=Y,i.MpsUploadType=J,i.SlvResponseRole=Z,i.XmsgaiBotResponseImagineSource=ee,i.XmsgaiInvocationOptions=te,i.XmsgaiLookupActionType=ne,i.XmsgaiLookupEntityType=re,i.XmsgaiProduct=oe,i.XmsgctaType=ae,i.XmsgContentBrandingOption=ie,i.Xmsge2EeGenAiEncryptedImageProductType=le,i.Xmsge2EeGenAiEncryptedVideoProductType=se,i.XmsgFeatureTags=ue,i.XmsgGenAiBotResponseProductType=ce,i.XmsgGenAiBotSubscriptionProductType=de,i.XmsgGenAiMessageType=me,i.XmsgHighlightsTabMoment=pe,i.XmsgHighlightsTabReplySourceType=_e,i.XmsgIgReceiverFetchContentType=fe,i.XmsgIgReceiverFetchXmaMediaNoteFetchParamsMessageType=ge,i.XmsgIgXmaActionType=he,i.XmsgImageGlyphType=ye,i.XmsgInlineEntityType=Ce,i.XmsgMarketplaceLightweightReplyType=be,i.XmsgMarketplaceSmartRepliesTriggerType=ve,i.XmsgMediaDispatchKey=Se,i.XmsgMemoriesE2EeSendTemplateType=Re,i.XmsgMemoriesTemplateType=Le,i.XmsgMessageRequestStatus=Ee,i.XmsgMessageSendProductType=ke,i.XmsgMessageStreamingProductType=Ie,i.XmsgMsgrReceiverFetchContentType=Te,i.XmsgMsgrReceiverFetchXmaLayoutType=De,i.XmsgMsgrXmaActionType=xe,i.XmsgMustacheCtaType=$e,i.XmsgNoteMessageType=Pe,i.XmsgNoteModelType=Ne,i.XmsgOculusMediaType=Me,i.XmsgPowerUpStyle=we,i.XmsgReactionStyle=Ae,i.XmsgReportedMessageType=Fe,i.XmsgSpectraActionSource=Oe,i.XmsgSpectraActionType=Be,i.XmsgSpectraTakeDownActionType=We,i.XmsgStoryOverlayPollStyle=qe,i.XmsgStoryOverlayTagType=Ue,i.XmsgStoryReplyType=Ve,i.XmsgStreamStatusType=He,i.XmsgSuggestedModerationActionType=Ge,i.XmsgTestEnum=ze,i.XmsgTestMinimalEnum=je,i.XmsgTranscriptionStatus=Ke,i.XmsgXmaBizAiUnifiedResponseAttributionType=Qe,i.XmsgXmaBizAiUnifiedResponseSourceAttributionType=Xe,i.XmsgXmaCodeBlockType=Ye,i.XmsgXmaCompactGenericTemplateAccessoryType=Je,i.XmsgXmaCompactGenericTemplatePreviewStyle=Ze,i.XmsgXmaContentAttributionIcon=et,i.XmsgXmaContentType=tt,i.XmsgXmaCtaIconType=nt,i.XmsgXmaCustomPreviewType=rt,i.XmsgXmaFlightStatusEnum=ot,i.XmsgXmaGatingType=at,i.XmsgXmaImageDecorationType=it,i.XmsgXmaLayoutType=lt,i.XmsgXmaLiveLocationSessionState=st,i.XmsgXmaMessagingAttachmentFaviconStyle=ut,i.XmsgXmaOpgP2pPaymentMethodType=ct,i.XmsgXmaOpgP2pTransactionType=dt,i.XmsgXmaOverlayContentType=mt,i.XmsgXmaRtcCallState=pt,i.XmsgXmaRtcCallType=_t,i.XmsgXmaStandardGenericBodyLayoutType=ft,i.XmsgXmaStandardGenericBodyTitleStyle=gt,i.XmsgXmaSubscriptionRecurrenceType=ht,i.XmsgXmaSubtitleDecorationType=yt,i.XmsgXmaVStackLayoutHeaderAlignmentType=Ct,i.XmsgXmaVerifiedType=bt,i.XmsgXmaYoutubePreviewMediaType=vt}),66);
__d("QPLFlow",["QPLUserFlow","Random","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=0,s="FinalizationRegistry"in self?new FinalizationRegistry(function(e){var t=e.notClosedEvent;t()}):null;function u(e,t){if(s!=null){var n=s,o=e.getQPLAttrs().instanceKey;n.register(e,{notClosedEvent:function(){r("QPLUserFlow").endFailure(t,"event-not-closed",{instanceKey:o})}})}}function c(e,t){var n=m(e,t);return n.start(t==null?void 0:t.annotations),n}function d(e,t){return m(e,t)}function m(t,n){var o,a=(o=n==null?void 0:n.instanceKey)!=null?o:e++,i=n==null?void 0:n.timeoutInMs,l=!1,c={addAnnotations:function(n){r("QPLUserFlow").addAnnotations(t,n,{instanceKey:a})},addPoint:function(n,o){r("QPLUserFlow").addPoint(t,n,{instanceKey:a}),o!=null&&t!=null&&r("QPLUserFlow").addAnnotations(t,o,{instanceKey:a})},endCancel:function(n,o){r("QPLUserFlow").endCancel(t,{annotations:o,cancelReason:n,instanceKey:a}),l=!1,s==null||s.unregister(c)},endFail:function(n,o){r("QPLUserFlow").endFailure(t,n,{annotations:o,instanceKey:a}),l=!1,s==null||s.unregister(c)},endSuccess:function(n){r("QPLUserFlow").endSuccess(t,{annotations:n,instanceKey:a}),l=!1,s==null||s.unregister(c)},getQPLAttrs:function(){return{instanceKey:a}},isActive:function(){return l},start:function(n){l=!0,r("QPLUserFlow").start(t,{annotations:n,instanceKey:a,timeoutInMs:i!=null?i:void 0}),u(c,t)}};return c}function p(){var e=!0;return{addAnnotations:function(t){},addPoint:function(t,n){},endCancel:function(t){},endFail:function(n,r){e=!1},endSuccess:function(n){e=!1},getQPLAttrs:function(){return{instanceKey:0}},isActive:function(){return e},start:function(t){}}}function _(e,t,n){return o("Random").coinflip(t)?c(e,n):p()}var f=(function(){function e(e,t){this.qplFlow=e,this.subspanName=t}var t=e.prototype;return t.start=function(t){this.qplFlow.addPoint(this.subspanName+"_start",t)},t.end=function(t){this.qplFlow.addPoint(this.subspanName+"_end",t)},t.endFail=function(t){var e,n=babelHelpers.extends({},t,{bool:babelHelpers.extends({},t==null?void 0:t.bool,(e={},e[this.subspanName+"_failed"]=!0,e))});this.end(n)},e.start=function(n,r){var t=new e(n,r);return t.start(),t},e.wrapInSubspan=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r){var o=e.start(t,n);try{var a=yield r();return o.end(),a}catch(e){throw o.endFail(),e}});function r(e,n,r){return t.apply(this,arguments)}return r})(),e})();l.startQPLFlow=c,l.continueQPLFlow=d,l.makeQplFlow=m,l.startNoopQPLFlow=p,l.startQplFlowWithCoinflip=_,l.QplSubspan=f}),98);
__d("WABase64",["WALogger","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=43,u=47,c=61,d=45,m=95,p=3e3,_="data:image/jpeg;base64,",f=function(t){return typeof t=="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)};function g(e){return y(e,s,u,!0)}function h(e,t){return t===void 0&&(t=!1),y(e,d,m,t)}function y(e,t,n,r){var o=Array.isArray(e)||e instanceof ArrayBuffer?new Uint8Array(e):e;if(o.length<=p)return C(o,t,n,r);for(var a=[],i=0;i<o.length;i+=p)a.push(C(o.subarray(i,i+p),t,n,r));return a.join("")}function C(e,t,n,r){for(var o=Math.ceil(e.length*4/3),a=4*Math.ceil(e.length/3),i=new Array(a),l=0,s=0;l<a;l+=4,s+=3){var u=e[s]<<16|e[s+1]<<8|e[s+2];i[l]=u>>18,i[l+1]=u>>12&63,i[l+2]=u>>6&63,i[l+3]=u&63}for(var c=0;c<o;c++){var d=i[c];d<26?i[c]=65+d:d<52?i[c]=71+d:d<62?i[c]=d-4:d===62?i[c]=t:i[c]=n}for(var m=o;m<a;m++)i[m]=61;var p=String.fromCharCode.apply(String,i);return r?p:p.substring(0,o)}function b(t,n,r,a){for(var i=t.length,l=new Int32Array(i+i%4),s=0;s<i;s++){var u=t.charCodeAt(s);if(65<=u&&u<=90)l[s]=u-65;else if(97<=u&&u<=122)l[s]=u-71;else if(48<=u&&u<=57)l[s]=u+4;else if(u===n)l[s]=62;else if(u===r)l[s]=63;else if(u===a){i=s;break}else return self.ERROR!=null&&o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Found unexpected character code while decoding B64 at index ",", length ",": ",""])),s,i,u),null}for(var c=l.length/4,d=0,m=0;d<c;d++,m+=4)l[d]=l[m]<<18|l[m+1]<<12|l[m+2]<<6|l[m+3];for(var p=Math.floor(i*3/4),_=new Uint8Array(p),f=0,g=0;g+3<=p;f++,g+=3){var h=l[f];_[g]=h>>16,_[g+1]=h>>8&255,_[g+2]=h&255}switch(p-g){case 2:_[g]=l[f]>>16,_[g+1]=l[f]>>8&255;break;case 1:_[g]=l[f]>>16}return _}function v(e){var t=b(e,s,u,c);if(t)return t.buffer;throw r("err")("Base64.decode given invalid string")}function S(e,t){t===void 0&&(t=!1);var n=b(e,d,m,t?c:-1);if(n)return n.buffer;throw r("err")("Base64.decode given invalid string")}function R(e){var t=e instanceof ArrayBuffer?new Uint8Array(e):b(e,s,u,c);return t&&Array.from(t)}function L(e){return Math.floor(e.length*3/4)}l.BASE64_DATA_URL_SCHEME=_,l.isBase64=f,l.encodeB64=g,l.encodeB64UrlSafe=h,l.decodeB64=v,l.decodeB64UrlSafe=S,l.decodeB64ToJsArray=R,l.sizeWhenB64Decoded=L}),98);
__d("WABinary",["WAHex","err"],(function(t,n,r,o,a,i,l){"use strict";var e=65533,s=10,u=new Uint8Array(s),c=new Uint8Array(0),d=(function(){function e(t,n){var r=this;t===void 0&&(t=c),n===void 0&&(n=!1),this.$1=new Uint8Array(0),this.$2=0,this.$4=0,this.write=function(){for(var t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];typeof n=="string"?r.writeString(n):typeof n=="number"?r.writeUint8(n):n instanceof e?r.writeBinary(n):n instanceof ArrayBuffer?r.writeBuffer(n):n instanceof Uint8Array&&r.writeByteArray(n)}},t instanceof ArrayBuffer?(this.$1=new Uint8Array(t),this.$2=this.$4=t.byteLength):t instanceof Uint8Array&&(this.$1=t,this.$2=this.$4=t.length),this.$5=0,this.$6=this.$3=0,this.$7=null,this.$8=n,this.$9=0,this.$10=0}var t=e.prototype;return t.size=function(){return this.$2-this.$3},t.peek=function(t,n){this.$9++;var e=this.$3,r=this.$5;try{return t(this,n)}finally{this.$9--,this.$3=e-(this.$5-r)}},t.advance=function(t){this.$11(t)},t.readWithViewParser=function(t,n,r,o){return n(this.$12(),this.$11(t),t,r,o)},t.readWithBytesParser=function(t,n,r,o){return n(this.$1,this.$11(t),t,r,o)},t.readUint8=function(){return g(this,1,y,!1)},t.readInt8=function(){return g(this,1,y,!0)},t.readUint16=function(t){return t===void 0&&(t=this.$8),g(this,2,C,t)},t.readInt32=function(t){return t===void 0&&(t=this.$8),g(this,4,b,t)},t.readUint32=function(t){return t===void 0&&(t=this.$8),g(this,4,v,t)},t.readInt64=function(t){return t===void 0&&(t=this.$8),g(this,8,S,j,t)},t.readUint64=function(t){return t===void 0&&(t=this.$8),g(this,8,S,K,t)},t.readLong=function(t,n){return n===void 0&&(n=this.$8),g(this,8,S,t,n)},t.readFloat32=function(t){return t===void 0&&(t=this.$8),g(this,4,R,t)},t.readFloat64=function(t){return t===void 0&&(t=this.$8),g(this,8,L,t)},t.readVarInt=function(t){var e=this.size(),n=h(this,0,E,e);return h(this,n,k,t)},t.readBuffer=function(t){return t===void 0&&(t=this.size()),t===0?new ArrayBuffer(0):h(this,t,I)},t.readByteArrayView=function(t){return t===void 0&&(t=this.size()),t===0?new Uint8Array(0):h(this,t,T)},t.readBinary=function(n,r){if(n===void 0&&(n=this.size()),r===void 0&&(r=this.$8),n===0)return new e(void 0,r);var t=h(this,n,T);return new e(t,r)},t.indexOf=function(t){if(t.length===0)return 0;for(var e=this.$1,n=this.$2,r=this.$3,o=0,a=r,i=r;i<n;i++)if(e[i]===t[o]){if(o===0&&(a=i),o++,o===t.byteLength)return i-r-t.byteLength+1}else o>0&&(o=0,i=a);return-1},t.readString=function(t){return h(this,t,D)},t.ensureCapacity=function(t){this.$13(this.$3+t)},t.ensureAdditionalCapacity=function(t){this.$13(this.$4+t)},t.writeToView=function(t,n,r,o){var e=this.$14(t);return n(this.$12(),e,t,r,o)},t.writeToBytes=function(t,n,r,o){var e=this.$14(t);return n(this.$1,e,t,r,o)},t.writeUint8=function(t){G(t,0,256,"uint8"),$(this,1,P,t,!1)},t.writeInt8=function(t){G(t,-128,128,"signed int8"),$(this,1,P,t,!0)},t.writeUint16=function(t,n){n===void 0&&(n=this.$8),G(t,0,65536,"uint16"),x(this,2,N,t,n)},t.writeInt16=function(t,n){n===void 0&&(n=this.$8),G(t,-32768,32768,"signed int16"),x(this,2,M,t,n)},t.writeUint32=function(t,n){n===void 0&&(n=this.$8),G(t,0,4294967296,"uint32"),x(this,4,w,t,n)},t.writeInt32=function(t,n){n===void 0&&(n=this.$8),G(t,-2147483648,2147483648,"signed int32"),x(this,4,A,t,n)},t.writeUint64=function(t,n){n===void 0&&(n=this.$8),G(t,0,18446744073709552e3,"uint64"),x(this,8,F,t,n)},t.writeInt64=function(t,n){n===void 0&&(n=this.$8),G(t,-9223372036854776e3,9223372036854776e3,"signed int64"),x(this,8,F,t,n)},t.writeFloat32=function(t,n){n===void 0&&(n=this.$8),x(this,4,O,t,n)},t.writeFloat64=function(t,n){n===void 0&&(n=this.$8),x(this,8,B,t,n)},t.writeVarInt=function(t){G(t,-9223372036854776e3,9223372036854776e3,"varint (signed int64)");var e=t<0,n=e?-t:t,r=Math.floor(n/4294967296),o=n-r*4294967296;e&&(r=~r,o===0?r++:o=-o);var a=H(r,o);$(this,a,W,r,o)},t.writeVarIntFromHexLong=function(t){for(var e=o("WAHex").hexLongIsNegative(t),n=e?o("WAHex").negateHexLong(t):t,r=o("WAHex").hexLongToHex(n),a=0,i=0,l=0;l<o("WAHex").NUM_HEX_IN_LONG;l++)a=a<<4|i>>>28,i=i<<4|o("WAHex").hexAt(r,l);e&&(a=~a,i===0?a++:i=-i);var s=H(a,i);$(this,s,W,a,i)},t.writeBinary=function(t){var e=t.peek(function(e){return e.readByteArrayView()});if(e.length){var n=this.$14(e.length);this.$1.set(e,n)}},t.writeBuffer=function(t){this.writeByteArray(new Uint8Array(t))},t.writeByteArray=function(t){var e=this.$14(t.length);this.$1.set(t,e)},t.writeBufferView=function(t){this.writeByteArray(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},t.writeString=function(t){$(this,_(t),q,t)},t.writeHexLong=function(t,n){n===void 0&&(n=this.$8),x(this,8,U,t,n)},t.writeBytes=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r++)G(t[r],0,256,"byte");$(this,t.length,V,t)},t.writeAtomically=function(t,n){this.$10++;var e=this.$4,r=this.$5;try{var o=t(this,n);return e=this.$4,r=this.$5,o}finally{this.$10--,this.$4=e-(this.$5-r)}},t.writeWithVarIntLength=function(t,n){var e=this.$4,r=this.writeAtomically(t,n),o=this.$4;this.writeVarInt(o-e);for(var a=this.$4-o,i=this.$1,l=0;l<a;l++)u[l]=i[o+l];for(var s=o-1;s>=e;s--)i[s+a]=i[s];for(var c=0;c<a;c++)i[e+c]=u[c];return r},e.build=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0,a=0;a<n.length;a++){var i=n[a];typeof i=="string"?o+=_(i):typeof i=="number"?o++:i instanceof e?o+=i.size():i instanceof ArrayBuffer?o+=i.byteLength:i instanceof Uint8Array&&(o+=i.length)}var l=new e;return l.ensureCapacity(o),l.write.apply(l,arguments),l},t.$12=function(){return this.$7||(this.$7=new DataView(this.$1.buffer,this.$1.byteOffset))},t.$11=function(t){if(t<0)throw r("err")("ReadError: given negative number of bytes to read");var e=this.$3,n=e+t;if(n>this.$2)throw r("err")(e===this.$2?"ReadError: tried to read from depleted binary":"ReadError: tried to read beyond end of binary");return this.$3=n,this.$9||(this.$6=n),e},t.$13=function(t){var e=this.$1;if(t<=e.length)return t;var n=this.$6,r=t-n,o=Math.max(r,2*(e.length-n),64),a=new Uint8Array(o);return n?(a.set(e.subarray(n)),this.$5+=n,this.$3-=n,this.$2-=n,this.$4-=n,this.$6=0):a.set(e),this.$1=a,this.$7=null,r},t.$14=function(t){var e=this.$13(this.$4+t),n=this.$4;return this.$4=e,this.$10||(this.$2=e),n},e})(),m="",p=0;function _(e){if(e===m)return p;for(var t=e.length,n=0,r=0;r<t;r++){var o=e.charCodeAt(r);if(o<128)n++;else if(o<2048)n+=2;else if(o<55296||57344<=o&&o<=65535)n+=3;else if(55296<=o&&o<56320&&r+1!==t){var a=e.charCodeAt(r+1);56320<=a&&a<57344?(r++,n+=4):n+=3}else n+=3}return m=e,p=n}function f(e,t,n){var r=t>>21;if(e){var o=t&2097151,a=!!(o||n);return r===0||r===-1&&a}else return r===0}function g(e,t,n,r,o){return e.readWithViewParser(t,n,r,o)}function h(e,t,n,r,o){return e.readWithBytesParser(t,n,r,o)}function y(e,t,n,r){return r?e.getInt8(t):e.getUint8(t)}function C(e,t,n,r){return e.getUint16(t,r)}function b(e,t,n,r){return e.getInt32(t,r)}function v(e,t,n,r){return e.getUint32(t,r)}function S(e,t,n,r,o){var a=e.getInt32(o?t+4:t,o),i=e.getInt32(o?t:t+4,o);return r(a,i)}function R(e,t,n,r){return e.getFloat32(t,r)}function L(e,t,n,r){return e.getFloat64(t,r)}function E(e,t,n,o){for(var a=Math.min(o,s),i=0,l=128;i<a&&l&128;)l=e[t+i++];if(i===s&&l>1)throw r("err")("ParseError: varint exceeds 64 bits");return l&128?i+1:i}function k(e,t,n,r){var o=0,a=0,i=n;n===s&&(i--,a=e[t+i]&1);for(var l=i-1;l>=0;l--)o=o<<7|a>>>25,a=a<<7|e[t+l]&127;return r(o,a)}function I(e,t,n){var r=t+e.byteOffset,o=e.buffer;return r===0&&n===o.byteLength?o:o.slice(r,r+n)}function T(e,t,n){return e.subarray(t,t+n)}function D(t,n,r){for(var o=n+r,a=[],i=null,l=n;l<o;l++){a.length>5e3&&(i||(i=[]),i.push(String.fromCharCode.apply(String,a)),a=[]);var s=t[l]|0;if((s&128)===0)a.push(s);else if((s&224)===192){var u=Q(t,l+1,o);if(u){l++;var c=(s&31)<<6|u&63;c>=128?a.push(c):a.push(e)}else a.push(e)}else if((s&240)===224){var d=Q(t,l+1,o),m=Q(t,l+2,o);if(d&&m){l+=2;var p=(s&15)<<12|(d&63)<<6|m&63;p>=2048&&!(55296<=p&&p<57344)?a.push(p):a.push(e)}else d&&l++,a.push(e)}else if((s&248)===240){var _=Q(t,l+1,o),f=Q(t,l+2,o),g=Q(t,l+3,o);if(_&&f&&g){l+=3;var h=(s&7)<<18|(_&63)<<12|(f&63)<<6|g&63;if(h>=65536&&h<=1114111){var y=h-65536;a.push(55296|y>>10,56320|y&1023)}else a.push(e)}else _&&f?(l+=2,a.push(e)):(_&&l++,a.push(e))}else a.push(e)}var C=String.fromCharCode.apply(String,a);return i?(i.push(C),i.join("")):C}function x(e,t,n,r,o){return e.writeToView(t,n,r,o)}function $(e,t,n,r,o){return e.writeToBytes(t,n,r,o)}function P(e,t,n,r){e[t]=r}function N(e,t,n,r,o){e.setUint16(t,r,o)}function M(e,t,n,r,o){e.setInt16(t,r,o)}function w(e,t,n,r,o){e.setUint32(t,r,o)}function A(e,t,n,r,o){e.setInt32(t,r,o)}function F(e,t,n,r,o){var a=r<0,i=a?-r:r,l=Math.floor(i/4294967296),s=i-l*4294967296;a&&(l=~l,s===0?l++:s=-s),e.setUint32(o?t+4:t,l,o),e.setUint32(o?t:t+4,s,o)}function O(e,t,n,r,o){e.setFloat32(t,r,o)}function B(e,t,n,r,o){e.setFloat64(t,r,o)}function W(e,t,n,r,o){for(var a=r,i=o,l=t+n-1,s=t;s<l;s++)e[s]=128|i&127,i=a<<25|i>>>7,a>>>=7;e[l]=i}function q(e,t,n,r){for(var o=t,a=r.length,i=0;i<a;i++){var l=r.charCodeAt(i);if(l<128)e[o++]=l;else if(l<2048)e[o++]=192|l>>6,e[o++]=128|l&63;else if(l<55296||57344<=l)e[o++]=224|l>>12,e[o++]=128|l>>6&63,e[o++]=128|l&63;else if(55296<=l&&l<56320&&i+1!==a){var s=r.charCodeAt(i+1);if(56320<=s&&s<57344){i++;var u=65536+((l&1023)<<10|s&1023);e[o++]=240|u>>18,e[o++]=128|u>>12&63,e[o++]=128|u>>6&63,e[o++]=128|u&63}else e[o++]=239,e[o++]=191,e[o++]=189}else e[o++]=239,e[o++]=191,e[o++]=189}}function U(e,t,n,r,a){for(var i=o("WAHex").hexLongIsNegative(r),l=o("WAHex").hexLongToHex(r),s=0,u=0,c=0;c<16;c++)s=s<<4|u>>>28,u=u<<4|o("WAHex").hexAt(l,c);i&&(s=~s,u===0?s++:u=-u),e.setUint32(a?t+4:t,s,a),e.setUint32(a?t:t+4,u,a)}function V(e,t,n,r){for(var o=0;o<n;o++)e[t+o]=r[o]}function H(e,t){var n,r;for(e?(n=5,r=e>>>3):(n=1,r=t>>>7);r;)n++,r>>>=7;return n}function G(e,t,n,o){if(typeof e!="number"||e!==e||Math.floor(e)!==e||e<t||e>=n)throw r("err")(typeof e=="string"?'TyperError WriteError: string "'+e+'" is not a valid '+o:"TypeError WriteError: "+String(e)+" is not a valid "+o)}function z(e,t,n){var o=f(e,t,n),a;t>=0?a=t:a=e?t:4294967296+t;var i=n>=0?n:4294967296+n,l=a*4294967296+i;if(!o)throw r("err")("ReadError: integer exceeded 53 bits ("+l+")");return l}function j(e,t){return z(!0,e,t)}function K(e,t){return z(!1,e,t)}function Q(e,t,n){if(t>=n)return 0;var r=e[t]|0;return(r&192)===128?r:0}l.Binary=d,l.numUtf8Bytes=_,l.longFitsInDouble=f,l.parseInt64OrThrow=j,l.parseUint64OrThrow=K}),98);
/**
 * License: https://www.facebook.com/legal/license/OKBVmODmb-W/
 */
__d("tweetnacl-1.0.3",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){(function(e){var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},n=function(){throw new Error("no PRNG")},r=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=t(),i=t([1]),l=t([56129,1]),s=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=n&255,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=r&255}function _(e,t,n,r,o){var a,i=0;for(a=0;a<o;a++)i|=e[t+a]^n[r+a];return(1&i-1>>>8)-1}function f(e,t,n,r){return _(e,t,n,r,16)}function g(e,t,n,r){return _(e,t,n,r,32)}function h(e,t,n,r){for(var o=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,a=n[0]&255|(n[1]&255)<<8|(n[2]&255)<<16|(n[3]&255)<<24,i=n[4]&255|(n[5]&255)<<8|(n[6]&255)<<16|(n[7]&255)<<24,l=n[8]&255|(n[9]&255)<<8|(n[10]&255)<<16|(n[11]&255)<<24,s=n[12]&255|(n[13]&255)<<8|(n[14]&255)<<16|(n[15]&255)<<24,u=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,c=t[0]&255|(t[1]&255)<<8|(t[2]&255)<<16|(t[3]&255)<<24,d=t[4]&255|(t[5]&255)<<8|(t[6]&255)<<16|(t[7]&255)<<24,m=t[8]&255|(t[9]&255)<<8|(t[10]&255)<<16|(t[11]&255)<<24,p=t[12]&255|(t[13]&255)<<8|(t[14]&255)<<16|(t[15]&255)<<24,_=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,f=n[16]&255|(n[17]&255)<<8|(n[18]&255)<<16|(n[19]&255)<<24,g=n[20]&255|(n[21]&255)<<8|(n[22]&255)<<16|(n[23]&255)<<24,h=n[24]&255|(n[25]&255)<<8|(n[26]&255)<<16|(n[27]&255)<<24,y=n[28]&255|(n[29]&255)<<8|(n[30]&255)<<16|(n[31]&255)<<24,C=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,b=o,v=a,S=i,R=l,L=s,E=u,k=c,I=d,T=m,D=p,x=_,$=f,P=g,N=h,M=y,w=C,A,F=0;F<20;F+=2)A=b+P|0,L^=A<<7|A>>>25,A=L+b|0,T^=A<<9|A>>>23,A=T+L|0,P^=A<<13|A>>>19,A=P+T|0,b^=A<<18|A>>>14,A=E+v|0,D^=A<<7|A>>>25,A=D+E|0,N^=A<<9|A>>>23,A=N+D|0,v^=A<<13|A>>>19,A=v+N|0,E^=A<<18|A>>>14,A=x+k|0,M^=A<<7|A>>>25,A=M+x|0,S^=A<<9|A>>>23,A=S+M|0,k^=A<<13|A>>>19,A=k+S|0,x^=A<<18|A>>>14,A=w+$|0,R^=A<<7|A>>>25,A=R+w|0,I^=A<<9|A>>>23,A=I+R|0,$^=A<<13|A>>>19,A=$+I|0,w^=A<<18|A>>>14,A=b+R|0,v^=A<<7|A>>>25,A=v+b|0,S^=A<<9|A>>>23,A=S+v|0,R^=A<<13|A>>>19,A=R+S|0,b^=A<<18|A>>>14,A=E+L|0,k^=A<<7|A>>>25,A=k+E|0,I^=A<<9|A>>>23,A=I+k|0,L^=A<<13|A>>>19,A=L+I|0,E^=A<<18|A>>>14,A=x+D|0,$^=A<<7|A>>>25,A=$+x|0,T^=A<<9|A>>>23,A=T+$|0,D^=A<<13|A>>>19,A=D+T|0,x^=A<<18|A>>>14,A=w+M|0,P^=A<<7|A>>>25,A=P+w|0,N^=A<<9|A>>>23,A=N+P|0,M^=A<<13|A>>>19,A=M+N|0,w^=A<<18|A>>>14;b=b+o|0,v=v+a|0,S=S+i|0,R=R+l|0,L=L+s|0,E=E+u|0,k=k+c|0,I=I+d|0,T=T+m|0,D=D+p|0,x=x+_|0,$=$+f|0,P=P+g|0,N=N+h|0,M=M+y|0,w=w+C|0,e[0]=b>>>0&255,e[1]=b>>>8&255,e[2]=b>>>16&255,e[3]=b>>>24&255,e[4]=v>>>0&255,e[5]=v>>>8&255,e[6]=v>>>16&255,e[7]=v>>>24&255,e[8]=S>>>0&255,e[9]=S>>>8&255,e[10]=S>>>16&255,e[11]=S>>>24&255,e[12]=R>>>0&255,e[13]=R>>>8&255,e[14]=R>>>16&255,e[15]=R>>>24&255,e[16]=L>>>0&255,e[17]=L>>>8&255,e[18]=L>>>16&255,e[19]=L>>>24&255,e[20]=E>>>0&255,e[21]=E>>>8&255,e[22]=E>>>16&255,e[23]=E>>>24&255,e[24]=k>>>0&255,e[25]=k>>>8&255,e[26]=k>>>16&255,e[27]=k>>>24&255,e[28]=I>>>0&255,e[29]=I>>>8&255,e[30]=I>>>16&255,e[31]=I>>>24&255,e[32]=T>>>0&255,e[33]=T>>>8&255,e[34]=T>>>16&255,e[35]=T>>>24&255,e[36]=D>>>0&255,e[37]=D>>>8&255,e[38]=D>>>16&255,e[39]=D>>>24&255,e[40]=x>>>0&255,e[41]=x>>>8&255,e[42]=x>>>16&255,e[43]=x>>>24&255,e[44]=$>>>0&255,e[45]=$>>>8&255,e[46]=$>>>16&255,e[47]=$>>>24&255,e[48]=P>>>0&255,e[49]=P>>>8&255,e[50]=P>>>16&255,e[51]=P>>>24&255,e[52]=N>>>0&255,e[53]=N>>>8&255,e[54]=N>>>16&255,e[55]=N>>>24&255,e[56]=M>>>0&255,e[57]=M>>>8&255,e[58]=M>>>16&255,e[59]=M>>>24&255,e[60]=w>>>0&255,e[61]=w>>>8&255,e[62]=w>>>16&255,e[63]=w>>>24&255}function y(e,t,n,r){for(var o=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,a=n[0]&255|(n[1]&255)<<8|(n[2]&255)<<16|(n[3]&255)<<24,i=n[4]&255|(n[5]&255)<<8|(n[6]&255)<<16|(n[7]&255)<<24,l=n[8]&255|(n[9]&255)<<8|(n[10]&255)<<16|(n[11]&255)<<24,s=n[12]&255|(n[13]&255)<<8|(n[14]&255)<<16|(n[15]&255)<<24,u=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,c=t[0]&255|(t[1]&255)<<8|(t[2]&255)<<16|(t[3]&255)<<24,d=t[4]&255|(t[5]&255)<<8|(t[6]&255)<<16|(t[7]&255)<<24,m=t[8]&255|(t[9]&255)<<8|(t[10]&255)<<16|(t[11]&255)<<24,p=t[12]&255|(t[13]&255)<<8|(t[14]&255)<<16|(t[15]&255)<<24,_=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,f=n[16]&255|(n[17]&255)<<8|(n[18]&255)<<16|(n[19]&255)<<24,g=n[20]&255|(n[21]&255)<<8|(n[22]&255)<<16|(n[23]&255)<<24,h=n[24]&255|(n[25]&255)<<8|(n[26]&255)<<16|(n[27]&255)<<24,y=n[28]&255|(n[29]&255)<<8|(n[30]&255)<<16|(n[31]&255)<<24,C=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,b=o,v=a,S=i,R=l,L=s,E=u,k=c,I=d,T=m,D=p,x=_,$=f,P=g,N=h,M=y,w=C,A,F=0;F<20;F+=2)A=b+P|0,L^=A<<7|A>>>25,A=L+b|0,T^=A<<9|A>>>23,A=T+L|0,P^=A<<13|A>>>19,A=P+T|0,b^=A<<18|A>>>14,A=E+v|0,D^=A<<7|A>>>25,A=D+E|0,N^=A<<9|A>>>23,A=N+D|0,v^=A<<13|A>>>19,A=v+N|0,E^=A<<18|A>>>14,A=x+k|0,M^=A<<7|A>>>25,A=M+x|0,S^=A<<9|A>>>23,A=S+M|0,k^=A<<13|A>>>19,A=k+S|0,x^=A<<18|A>>>14,A=w+$|0,R^=A<<7|A>>>25,A=R+w|0,I^=A<<9|A>>>23,A=I+R|0,$^=A<<13|A>>>19,A=$+I|0,w^=A<<18|A>>>14,A=b+R|0,v^=A<<7|A>>>25,A=v+b|0,S^=A<<9|A>>>23,A=S+v|0,R^=A<<13|A>>>19,A=R+S|0,b^=A<<18|A>>>14,A=E+L|0,k^=A<<7|A>>>25,A=k+E|0,I^=A<<9|A>>>23,A=I+k|0,L^=A<<13|A>>>19,A=L+I|0,E^=A<<18|A>>>14,A=x+D|0,$^=A<<7|A>>>25,A=$+x|0,T^=A<<9|A>>>23,A=T+$|0,D^=A<<13|A>>>19,A=D+T|0,x^=A<<18|A>>>14,A=w+M|0,P^=A<<7|A>>>25,A=P+w|0,N^=A<<9|A>>>23,A=N+P|0,M^=A<<13|A>>>19,A=M+N|0,w^=A<<18|A>>>14;e[0]=b>>>0&255,e[1]=b>>>8&255,e[2]=b>>>16&255,e[3]=b>>>24&255,e[4]=E>>>0&255,e[5]=E>>>8&255,e[6]=E>>>16&255,e[7]=E>>>24&255,e[8]=x>>>0&255,e[9]=x>>>8&255,e[10]=x>>>16&255,e[11]=x>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=k>>>0&255,e[17]=k>>>8&255,e[18]=k>>>16&255,e[19]=k>>>24&255,e[20]=I>>>0&255,e[21]=I>>>8&255,e[22]=I>>>16&255,e[23]=I>>>24&255,e[24]=T>>>0&255,e[25]=T>>>8&255,e[26]=T>>>16&255,e[27]=T>>>24&255,e[28]=D>>>0&255,e[29]=D>>>8&255,e[30]=D>>>16&255,e[31]=D>>>24&255}function C(e,t,n,r){h(e,t,n,r)}function b(e,t,n,r){y(e,t,n,r)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function S(e,t,n,r,o,a,i){var l=new Uint8Array(16),s=new Uint8Array(64),u,c;for(c=0;c<16;c++)l[c]=0;for(c=0;c<8;c++)l[c]=a[c];for(;o>=64;){for(C(s,l,i,v),c=0;c<64;c++)e[t+c]=n[r+c]^s[c];for(u=1,c=8;c<16;c++)u=u+(l[c]&255)|0,l[c]=u&255,u>>>=8;o-=64,t+=64,r+=64}if(o>0)for(C(s,l,i,v),c=0;c<o;c++)e[t+c]=n[r+c]^s[c];return 0}function R(e,t,n,r,o){var a=new Uint8Array(16),i=new Uint8Array(64),l,s;for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=r[s];for(;n>=64;){for(C(i,a,o,v),s=0;s<64;s++)e[t+s]=i[s];for(l=1,s=8;s<16;s++)l=l+(a[s]&255)|0,a[s]=l&255,l>>>=8;n-=64,t+=64}if(n>0)for(C(i,a,o,v),s=0;s<n;s++)e[t+s]=i[s];return 0}function L(e,t,n,r,o){var a=new Uint8Array(32);b(a,r,o,v);for(var i=new Uint8Array(8),l=0;l<8;l++)i[l]=r[l+16];return R(e,t,n,i,a)}function E(e,t,n,r,o,a,i){var l=new Uint8Array(32);b(l,a,i,v);for(var s=new Uint8Array(8),u=0;u<8;u++)s[u]=a[u+16];return S(e,t,n,r,o,s,l)}var k=function(e){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var t,n,r,o,a,i,l,s;t=e[0]&255|(e[1]&255)<<8,this.r[0]=t&8191,n=e[2]&255|(e[3]&255)<<8,this.r[1]=(t>>>13|n<<3)&8191,r=e[4]&255|(e[5]&255)<<8,this.r[2]=(n>>>10|r<<6)&7939,o=e[6]&255|(e[7]&255)<<8,this.r[3]=(r>>>7|o<<9)&8191,a=e[8]&255|(e[9]&255)<<8,this.r[4]=(o>>>4|a<<12)&255,this.r[5]=a>>>1&8190,i=e[10]&255|(e[11]&255)<<8,this.r[6]=(a>>>14|i<<2)&8191,l=e[12]&255|(e[13]&255)<<8,this.r[7]=(i>>>11|l<<5)&8065,s=e[14]&255|(e[15]&255)<<8,this.r[8]=(l>>>8|s<<8)&8191,this.r[9]=s>>>5&127,this.pad[0]=e[16]&255|(e[17]&255)<<8,this.pad[1]=e[18]&255|(e[19]&255)<<8,this.pad[2]=e[20]&255|(e[21]&255)<<8,this.pad[3]=e[22]&255|(e[23]&255)<<8,this.pad[4]=e[24]&255|(e[25]&255)<<8,this.pad[5]=e[26]&255|(e[27]&255)<<8,this.pad[6]=e[28]&255|(e[29]&255)<<8,this.pad[7]=e[30]&255|(e[31]&255)<<8};k.prototype.blocks=function(e,t,n){for(var r=this.fin?0:2048,o,a,i,l,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R=this.h[0],L=this.h[1],E=this.h[2],k=this.h[3],I=this.h[4],T=this.h[5],D=this.h[6],x=this.h[7],$=this.h[8],P=this.h[9],N=this.r[0],M=this.r[1],w=this.r[2],A=this.r[3],F=this.r[4],O=this.r[5],B=this.r[6],W=this.r[7],q=this.r[8],U=this.r[9];n>=16;)o=e[t+0]&255|(e[t+1]&255)<<8,R+=o&8191,a=e[t+2]&255|(e[t+3]&255)<<8,L+=(o>>>13|a<<3)&8191,i=e[t+4]&255|(e[t+5]&255)<<8,E+=(a>>>10|i<<6)&8191,l=e[t+6]&255|(e[t+7]&255)<<8,k+=(i>>>7|l<<9)&8191,s=e[t+8]&255|(e[t+9]&255)<<8,I+=(l>>>4|s<<12)&8191,T+=s>>>1&8191,u=e[t+10]&255|(e[t+11]&255)<<8,D+=(s>>>14|u<<2)&8191,c=e[t+12]&255|(e[t+13]&255)<<8,x+=(u>>>11|c<<5)&8191,d=e[t+14]&255|(e[t+15]&255)<<8,$+=(c>>>8|d<<8)&8191,P+=d>>>5|r,m=0,p=m,p+=R*N,p+=L*(5*U),p+=E*(5*q),p+=k*(5*W),p+=I*(5*B),m=p>>>13,p&=8191,p+=T*(5*O),p+=D*(5*F),p+=x*(5*A),p+=$*(5*w),p+=P*(5*M),m+=p>>>13,p&=8191,_=m,_+=R*M,_+=L*N,_+=E*(5*U),_+=k*(5*q),_+=I*(5*W),m=_>>>13,_&=8191,_+=T*(5*B),_+=D*(5*O),_+=x*(5*F),_+=$*(5*A),_+=P*(5*w),m+=_>>>13,_&=8191,f=m,f+=R*w,f+=L*M,f+=E*N,f+=k*(5*U),f+=I*(5*q),m=f>>>13,f&=8191,f+=T*(5*W),f+=D*(5*B),f+=x*(5*O),f+=$*(5*F),f+=P*(5*A),m+=f>>>13,f&=8191,g=m,g+=R*A,g+=L*w,g+=E*M,g+=k*N,g+=I*(5*U),m=g>>>13,g&=8191,g+=T*(5*q),g+=D*(5*W),g+=x*(5*B),g+=$*(5*O),g+=P*(5*F),m+=g>>>13,g&=8191,h=m,h+=R*F,h+=L*A,h+=E*w,h+=k*M,h+=I*N,m=h>>>13,h&=8191,h+=T*(5*U),h+=D*(5*q),h+=x*(5*W),h+=$*(5*B),h+=P*(5*O),m+=h>>>13,h&=8191,y=m,y+=R*O,y+=L*F,y+=E*A,y+=k*w,y+=I*M,m=y>>>13,y&=8191,y+=T*N,y+=D*(5*U),y+=x*(5*q),y+=$*(5*W),y+=P*(5*B),m+=y>>>13,y&=8191,C=m,C+=R*B,C+=L*O,C+=E*F,C+=k*A,C+=I*w,m=C>>>13,C&=8191,C+=T*M,C+=D*N,C+=x*(5*U),C+=$*(5*q),C+=P*(5*W),m+=C>>>13,C&=8191,b=m,b+=R*W,b+=L*B,b+=E*O,b+=k*F,b+=I*A,m=b>>>13,b&=8191,b+=T*w,b+=D*M,b+=x*N,b+=$*(5*U),b+=P*(5*q),m+=b>>>13,b&=8191,v=m,v+=R*q,v+=L*W,v+=E*B,v+=k*O,v+=I*F,m=v>>>13,v&=8191,v+=T*A,v+=D*w,v+=x*M,v+=$*N,v+=P*(5*U),m+=v>>>13,v&=8191,S=m,S+=R*U,S+=L*q,S+=E*W,S+=k*B,S+=I*O,m=S>>>13,S&=8191,S+=T*F,S+=D*A,S+=x*w,S+=$*M,S+=P*N,m+=S>>>13,S&=8191,m=(m<<2)+m|0,m=m+p|0,p=m&8191,m=m>>>13,_+=m,R=p,L=_,E=f,k=g,I=h,T=y,D=C,x=b,$=v,P=S,t+=16,n-=16;this.h[0]=R,this.h[1]=L,this.h[2]=E,this.h[3]=k,this.h[4]=I,this.h[5]=T,this.h[6]=D,this.h[7]=x,this.h[8]=$,this.h[9]=P},k.prototype.finish=function(e,t){var n=new Uint16Array(10),r,o,a,i;if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=r,r=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=r*5,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,n[0]=this.h[0]+5,r=n[0]>>>13,n[0]&=8191,i=1;i<10;i++)n[i]=this.h[i]+r,r=n[i]>>>13,n[i]&=8191;for(n[9]-=8192,o=(r^1)-1,i=0;i<10;i++)n[i]&=o;for(o=~o,i=0;i<10;i++)this.h[i]=this.h[i]&o|n[i];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,a=this.h[0]+this.pad[0],this.h[0]=a&65535,i=1;i<8;i++)a=(this.h[i]+this.pad[i]|0)+(a>>>16)|0,this.h[i]=a&65535;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},k.prototype.update=function(e,t,n){var r,o;if(this.leftover){for(o=16-this.leftover,o>n&&(o=n),r=0;r<o;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=o,t+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(o=n-n%16,this.blocks(e,t,o),t+=o,n-=o),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};function I(e,t,n,r,o,a){var i=new k(a);return i.update(n,r,o),i.finish(e,t),0}function T(e,t,n,r,o,a){var i=new Uint8Array(16);return I(i,0,n,r,o,a),f(e,t,i,0)}function D(e,t,n,r,o){var a;if(n<32)return-1;for(E(e,0,t,0,n,r,o),I(e,16,e,32,n-32,e),a=0;a<16;a++)e[a]=0;return 0}function x(e,t,n,r,o){var a,i=new Uint8Array(32);if(n<32||(L(i,0,32,r,o),T(t,16,t,32,n-32,i)!==0))return-1;for(E(e,0,t,0,n,r,o),a=0;a<32;a++)e[a]=0;return 0}function $(e,t){var n;for(n=0;n<16;n++)e[n]=t[n]|0}function P(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-r*65536;e[0]+=r-1+37*(r-1)}function N(e,t,n){for(var r,o=~(n-1),a=0;a<16;a++)r=o&(e[a]^t[a]),e[a]^=r,t[a]^=r}function M(e,n){var r,o,a,i=t(),l=t();for(r=0;r<16;r++)l[r]=n[r];for(P(l),P(l),P(l),o=0;o<2;o++){for(i[0]=l[0]-65517,r=1;r<15;r++)i[r]=l[r]-65535-(i[r-1]>>16&1),i[r-1]&=65535;i[15]=l[15]-32767-(i[14]>>16&1),a=i[15]>>16&1,i[14]&=65535,N(l,i,1-a)}for(r=0;r<16;r++)e[2*r]=l[r]&255,e[2*r+1]=l[r]>>8}function w(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return M(n,e),M(r,t),g(n,0,r,0)}function A(e){var t=new Uint8Array(32);return M(t,e),t[0]&1}function F(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function O(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function B(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function W(e,t,n){var r,o,a=0,i=0,l=0,s=0,u=0,c=0,d=0,m=0,p=0,_=0,f=0,g=0,h=0,y=0,C=0,b=0,v=0,S=0,R=0,L=0,E=0,k=0,I=0,T=0,D=0,x=0,$=0,P=0,N=0,M=0,w=0,A=n[0],F=n[1],O=n[2],B=n[3],W=n[4],q=n[5],U=n[6],V=n[7],H=n[8],G=n[9],z=n[10],j=n[11],K=n[12],Q=n[13],X=n[14],Y=n[15];r=t[0],a+=r*A,i+=r*F,l+=r*O,s+=r*B,u+=r*W,c+=r*q,d+=r*U,m+=r*V,p+=r*H,_+=r*G,f+=r*z,g+=r*j,h+=r*K,y+=r*Q,C+=r*X,b+=r*Y,r=t[1],i+=r*A,l+=r*F,s+=r*O,u+=r*B,c+=r*W,d+=r*q,m+=r*U,p+=r*V,_+=r*H,f+=r*G,g+=r*z,h+=r*j,y+=r*K,C+=r*Q,b+=r*X,v+=r*Y,r=t[2],l+=r*A,s+=r*F,u+=r*O,c+=r*B,d+=r*W,m+=r*q,p+=r*U,_+=r*V,f+=r*H,g+=r*G,h+=r*z,y+=r*j,C+=r*K,b+=r*Q,v+=r*X,S+=r*Y,r=t[3],s+=r*A,u+=r*F,c+=r*O,d+=r*B,m+=r*W,p+=r*q,_+=r*U,f+=r*V,g+=r*H,h+=r*G,y+=r*z,C+=r*j,b+=r*K,v+=r*Q,S+=r*X,R+=r*Y,r=t[4],u+=r*A,c+=r*F,d+=r*O,m+=r*B,p+=r*W,_+=r*q,f+=r*U,g+=r*V,h+=r*H,y+=r*G,C+=r*z,b+=r*j,v+=r*K,S+=r*Q,R+=r*X,L+=r*Y,r=t[5],c+=r*A,d+=r*F,m+=r*O,p+=r*B,_+=r*W,f+=r*q,g+=r*U,h+=r*V,y+=r*H,C+=r*G,b+=r*z,v+=r*j,S+=r*K,R+=r*Q,L+=r*X,E+=r*Y,r=t[6],d+=r*A,m+=r*F,p+=r*O,_+=r*B,f+=r*W,g+=r*q,h+=r*U,y+=r*V,C+=r*H,b+=r*G,v+=r*z,S+=r*j,R+=r*K,L+=r*Q,E+=r*X,k+=r*Y,r=t[7],m+=r*A,p+=r*F,_+=r*O,f+=r*B,g+=r*W,h+=r*q,y+=r*U,C+=r*V,b+=r*H,v+=r*G,S+=r*z,R+=r*j,L+=r*K,E+=r*Q,k+=r*X,I+=r*Y,r=t[8],p+=r*A,_+=r*F,f+=r*O,g+=r*B,h+=r*W,y+=r*q,C+=r*U,b+=r*V,v+=r*H,S+=r*G,R+=r*z,L+=r*j,E+=r*K,k+=r*Q,I+=r*X,T+=r*Y,r=t[9],_+=r*A,f+=r*F,g+=r*O,h+=r*B,y+=r*W,C+=r*q,b+=r*U,v+=r*V,S+=r*H,R+=r*G,L+=r*z,E+=r*j,k+=r*K,I+=r*Q,T+=r*X,D+=r*Y,r=t[10],f+=r*A,g+=r*F,h+=r*O,y+=r*B,C+=r*W,b+=r*q,v+=r*U,S+=r*V,R+=r*H,L+=r*G,E+=r*z,k+=r*j,I+=r*K,T+=r*Q,D+=r*X,x+=r*Y,r=t[11],g+=r*A,h+=r*F,y+=r*O,C+=r*B,b+=r*W,v+=r*q,S+=r*U,R+=r*V,L+=r*H,E+=r*G,k+=r*z,I+=r*j,T+=r*K,D+=r*Q,x+=r*X,$+=r*Y,r=t[12],h+=r*A,y+=r*F,C+=r*O,b+=r*B,v+=r*W,S+=r*q,R+=r*U,L+=r*V,E+=r*H,k+=r*G,I+=r*z,T+=r*j,D+=r*K,x+=r*Q,$+=r*X,P+=r*Y,r=t[13],y+=r*A,C+=r*F,b+=r*O,v+=r*B,S+=r*W,R+=r*q,L+=r*U,E+=r*V,k+=r*H,I+=r*G,T+=r*z,D+=r*j,x+=r*K,$+=r*Q,P+=r*X,N+=r*Y,r=t[14],C+=r*A,b+=r*F,v+=r*O,S+=r*B,R+=r*W,L+=r*q,E+=r*U,k+=r*V,I+=r*H,T+=r*G,D+=r*z,x+=r*j,$+=r*K,P+=r*Q,N+=r*X,M+=r*Y,r=t[15],b+=r*A,v+=r*F,S+=r*O,R+=r*B,L+=r*W,E+=r*q,k+=r*U,I+=r*V,T+=r*H,D+=r*G,x+=r*z,$+=r*j,P+=r*K,N+=r*Q,M+=r*X,w+=r*Y,a+=38*v,i+=38*S,l+=38*R,s+=38*L,u+=38*E,c+=38*k,d+=38*I,m+=38*T,p+=38*D,_+=38*x,f+=38*$,g+=38*P,h+=38*N,y+=38*M,C+=38*w,o=1,r=a+o+65535,o=Math.floor(r/65536),a=r-o*65536,r=i+o+65535,o=Math.floor(r/65536),i=r-o*65536,r=l+o+65535,o=Math.floor(r/65536),l=r-o*65536,r=s+o+65535,o=Math.floor(r/65536),s=r-o*65536,r=u+o+65535,o=Math.floor(r/65536),u=r-o*65536,r=c+o+65535,o=Math.floor(r/65536),c=r-o*65536,r=d+o+65535,o=Math.floor(r/65536),d=r-o*65536,r=m+o+65535,o=Math.floor(r/65536),m=r-o*65536,r=p+o+65535,o=Math.floor(r/65536),p=r-o*65536,r=_+o+65535,o=Math.floor(r/65536),_=r-o*65536,r=f+o+65535,o=Math.floor(r/65536),f=r-o*65536,r=g+o+65535,o=Math.floor(r/65536),g=r-o*65536,r=h+o+65535,o=Math.floor(r/65536),h=r-o*65536,r=y+o+65535,o=Math.floor(r/65536),y=r-o*65536,r=C+o+65535,o=Math.floor(r/65536),C=r-o*65536,r=b+o+65535,o=Math.floor(r/65536),b=r-o*65536,a+=o-1+37*(o-1),o=1,r=a+o+65535,o=Math.floor(r/65536),a=r-o*65536,r=i+o+65535,o=Math.floor(r/65536),i=r-o*65536,r=l+o+65535,o=Math.floor(r/65536),l=r-o*65536,r=s+o+65535,o=Math.floor(r/65536),s=r-o*65536,r=u+o+65535,o=Math.floor(r/65536),u=r-o*65536,r=c+o+65535,o=Math.floor(r/65536),c=r-o*65536,r=d+o+65535,o=Math.floor(r/65536),d=r-o*65536,r=m+o+65535,o=Math.floor(r/65536),m=r-o*65536,r=p+o+65535,o=Math.floor(r/65536),p=r-o*65536,r=_+o+65535,o=Math.floor(r/65536),_=r-o*65536,r=f+o+65535,o=Math.floor(r/65536),f=r-o*65536,r=g+o+65535,o=Math.floor(r/65536),g=r-o*65536,r=h+o+65535,o=Math.floor(r/65536),h=r-o*65536,r=y+o+65535,o=Math.floor(r/65536),y=r-o*65536,r=C+o+65535,o=Math.floor(r/65536),C=r-o*65536,r=b+o+65535,o=Math.floor(r/65536),b=r-o*65536,a+=o-1+37*(o-1),e[0]=a,e[1]=i,e[2]=l,e[3]=s,e[4]=u,e[5]=c,e[6]=d,e[7]=m,e[8]=p,e[9]=_,e[10]=f,e[11]=g,e[12]=h,e[13]=y,e[14]=C,e[15]=b}function q(e,t){W(e,t,t)}function U(e,n){var r=t(),o;for(o=0;o<16;o++)r[o]=n[o];for(o=253;o>=0;o--)q(r,r),o!==2&&o!==4&&W(r,r,n);for(o=0;o<16;o++)e[o]=r[o]}function V(e,n){var r=t(),o;for(o=0;o<16;o++)r[o]=n[o];for(o=250;o>=0;o--)q(r,r),o!==1&&W(r,r,n);for(o=0;o<16;o++)e[o]=r[o]}function H(e,n,r){var o=new Uint8Array(32),a=new Float64Array(80),i,s,u=t(),c=t(),d=t(),m=t(),p=t(),_=t();for(s=0;s<31;s++)o[s]=n[s];for(o[31]=n[31]&127|64,o[0]&=248,F(a,r),s=0;s<16;s++)c[s]=a[s],m[s]=u[s]=d[s]=0;for(u[0]=m[0]=1,s=254;s>=0;--s)i=o[s>>>3]>>>(s&7)&1,N(u,c,i),N(d,m,i),O(p,u,d),B(u,u,d),O(d,c,m),B(c,c,m),q(m,p),q(_,u),W(u,d,u),W(d,c,p),O(p,u,d),B(u,u,d),q(c,u),B(d,m,_),W(u,d,l),O(u,u,m),W(d,d,u),W(u,m,_),W(m,c,a),q(c,p),N(u,c,i),N(d,m,i);for(s=0;s<16;s++)a[s+16]=u[s],a[s+32]=d[s],a[s+48]=c[s],a[s+64]=m[s];var f=a.subarray(32),g=a.subarray(16);return U(f,f),W(g,g,f),M(e,g),0}function G(e,t){return H(e,t,o)}function z(e,t){return n(t,32),G(e,t)}function j(e,t,n){var o=new Uint8Array(32);return H(o,n,t),b(e,r,o,v)}var K=D,Q=x;function X(e,t,n,r,o,a){var i=new Uint8Array(32);return j(i,o,a),K(e,t,n,r,i)}function Y(e,t,n,r,o,a){var i=new Uint8Array(32);return j(i,o,a),Q(e,t,n,r,i)}var J=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(e,t,n,r){for(var o=new Int32Array(16),a=new Int32Array(16),i,l,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I,T,D,x,$,P=e[0],N=e[1],M=e[2],w=e[3],A=e[4],F=e[5],O=e[6],B=e[7],W=t[0],q=t[1],U=t[2],V=t[3],H=t[4],G=t[5],z=t[6],j=t[7],K=0;r>=128;){for(L=0;L<16;L++)E=8*L+K,o[L]=n[E+0]<<24|n[E+1]<<16|n[E+2]<<8|n[E+3],a[L]=n[E+4]<<24|n[E+5]<<16|n[E+6]<<8|n[E+7];for(L=0;L<80;L++)if(i=P,l=N,s=M,u=w,c=A,d=F,m=O,p=B,_=W,f=q,g=U,h=V,y=H,C=G,b=z,v=j,k=B,I=j,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=(A>>>14|H<<18)^(A>>>18|H<<14)^(H>>>9|A<<23),I=(H>>>14|A<<18)^(H>>>18|A<<14)^(A>>>9|H<<23),T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,k=A&F^~A&O,I=H&G^~H&z,T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,k=J[L*2],I=J[L*2+1],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,k=o[L%16],I=a[L%16],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,S=x&65535|$<<16,R=T&65535|D<<16,k=S,I=R,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=(P>>>28|W<<4)^(W>>>2|P<<30)^(W>>>7|P<<25),I=(W>>>28|P<<4)^(P>>>2|W<<30)^(P>>>7|W<<25),T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,k=P&N^P&M^N&M,I=W&q^W&U^q&U,T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,p=x&65535|$<<16,v=T&65535|D<<16,k=u,I=h,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=S,I=R,T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,u=x&65535|$<<16,h=T&65535|D<<16,N=i,M=l,w=s,A=u,F=c,O=d,B=m,P=p,q=_,U=f,V=g,H=h,G=y,z=C,j=b,W=v,L%16===15)for(E=0;E<16;E++)k=o[E],I=a[E],T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=o[(E+9)%16],I=a[(E+9)%16],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,S=o[(E+1)%16],R=a[(E+1)%16],k=(S>>>1|R<<31)^(S>>>8|R<<24)^S>>>7,I=(R>>>1|S<<31)^(R>>>8|S<<24)^(R>>>7|S<<25),T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,S=o[(E+14)%16],R=a[(E+14)%16],k=(S>>>19|R<<13)^(R>>>29|S<<3)^S>>>6,I=(R>>>19|S<<13)^(S>>>29|R<<3)^(R>>>6|S<<26),T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,o[E]=x&65535|$<<16,a[E]=T&65535|D<<16;k=P,I=W,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[0],I=t[0],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[0]=P=x&65535|$<<16,t[0]=W=T&65535|D<<16,k=N,I=q,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[1],I=t[1],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[1]=N=x&65535|$<<16,t[1]=q=T&65535|D<<16,k=M,I=U,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[2],I=t[2],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[2]=M=x&65535|$<<16,t[2]=U=T&65535|D<<16,k=w,I=V,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[3],I=t[3],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[3]=w=x&65535|$<<16,t[3]=V=T&65535|D<<16,k=A,I=H,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[4],I=t[4],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[4]=A=x&65535|$<<16,t[4]=H=T&65535|D<<16,k=F,I=G,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[5],I=t[5],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[5]=F=x&65535|$<<16,t[5]=G=T&65535|D<<16,k=O,I=z,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[6],I=t[6],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[6]=O=x&65535|$<<16,t[6]=z=T&65535|D<<16,k=B,I=j,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[7],I=t[7],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[7]=B=x&65535|$<<16,t[7]=j=T&65535|D<<16,K+=128,r-=128}return r}function ee(e,t,n){var r=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),i,l=n;for(r[0]=1779033703,r[1]=3144134277,r[2]=1013904242,r[3]=2773480762,r[4]=1359893119,r[5]=2600822924,r[6]=528734635,r[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Z(r,o,t,n),n%=128,i=0;i<n;i++)a[i]=t[l-n+i];for(a[n]=128,n=256-128*(n<112?1:0),a[n-9]=0,p(a,n-8,l/536870912|0,l<<3),Z(r,o,a,n),i=0;i<8;i++)p(e,8*i,r[i],o[i]);return 0}function te(e,n){var r=t(),o=t(),a=t(),i=t(),l=t(),s=t(),c=t(),d=t(),m=t();B(r,e[1],e[0]),B(m,n[1],n[0]),W(r,r,m),O(o,e[0],e[1]),O(m,n[0],n[1]),W(o,o,m),W(a,e[3],n[3]),W(a,a,u),W(i,e[2],n[2]),O(i,i,i),B(l,o,r),B(s,i,a),O(c,i,a),O(d,o,r),W(e[0],l,s),W(e[1],d,c),W(e[2],c,s),W(e[3],l,d)}function ne(e,t,n){var r;for(r=0;r<4;r++)N(e[r],t[r],n)}function re(e,n){var r=t(),o=t(),a=t();U(a,n[2]),W(r,n[0],a),W(o,n[1],a),M(e,o),e[31]^=A(r)<<7}function oe(e,t,n){var r,o;for($(e[0],a),$(e[1],i),$(e[2],i),$(e[3],a),o=255;o>=0;--o)r=n[o/8|0]>>(o&7)&1,ne(e,t,r),te(t,e),te(e,e),ne(e,t,r)}function ae(e,n){var r=[t(),t(),t(),t()];$(r[0],c),$(r[1],d),$(r[2],i),W(r[3],c,d),oe(e,r,n)}function ie(e,r,o){var a=new Uint8Array(64),i=[t(),t(),t(),t()],l;for(o||n(r,32),ee(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64,ae(i,a),re(e,i),l=0;l<32;l++)r[l+32]=e[l];return 0}var le=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function se(e,t){var n,r,o,a;for(r=63;r>=32;--r){for(n=0,o=r-32,a=r-12;o<a;++o)t[o]+=n-16*t[r]*le[o-(r-32)],n=Math.floor((t[o]+128)/256),t[o]-=n*256;t[o]+=n,t[r]=0}for(n=0,o=0;o<32;o++)t[o]+=n-(t[31]>>4)*le[o],n=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=n*le[o];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=t[r]&255}function ue(e){var t=new Float64Array(64),n;for(n=0;n<64;n++)t[n]=e[n];for(n=0;n<64;n++)e[n]=0;se(e,t)}function ce(e,n,r,o){var a=new Uint8Array(64),i=new Uint8Array(64),l=new Uint8Array(64),s,u,c=new Float64Array(64),d=[t(),t(),t(),t()];ee(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64;var m=r+64;for(s=0;s<r;s++)e[64+s]=n[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for(ee(l,e.subarray(32),r+32),ue(l),ae(d,l),re(e,d),s=32;s<64;s++)e[s]=o[s];for(ee(i,e,r+64),ue(i),s=0;s<64;s++)c[s]=0;for(s=0;s<32;s++)c[s]=l[s];for(s=0;s<32;s++)for(u=0;u<32;u++)c[s+u]+=i[s]*a[u];return se(e.subarray(32),c),m}function de(e,n){var r=t(),o=t(),l=t(),u=t(),c=t(),d=t(),p=t();return $(e[2],i),F(e[1],n),q(l,e[1]),W(u,l,s),B(l,l,e[2]),O(u,e[2],u),q(c,u),q(d,c),W(p,d,c),W(r,p,l),W(r,r,u),V(r,r),W(r,r,l),W(r,r,u),W(r,r,u),W(e[0],r,u),q(o,e[0]),W(o,o,u),w(o,l)&&W(e[0],e[0],m),q(o,e[0]),W(o,o,u),w(o,l)?-1:(A(e[0])===n[31]>>7&&B(e[0],a,e[0]),W(e[3],e[0],e[1]),0)}function me(e,n,r,o){var a,i=new Uint8Array(32),l=new Uint8Array(64),s=[t(),t(),t(),t()],u=[t(),t(),t(),t()];if(r<64||de(u,o))return-1;for(a=0;a<r;a++)e[a]=n[a];for(a=0;a<32;a++)e[a+32]=o[a];if(ee(l,e,r),ue(l),oe(s,u,l),ae(u,n.subarray(32)),te(s,u),re(i,s),r-=64,g(n,0,i,0)){for(a=0;a<r;a++)e[a]=0;return-1}for(a=0;a<r;a++)e[a]=n[a+64];return r}var pe=32,_e=24,fe=32,ge=16,he=32,ye=32,Ce=32,be=32,ve=32,Se=_e,Re=fe,Le=ge,Ee=64,ke=32,Ie=64,Te=32,De=64;e.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:E,crypto_stream:L,crypto_stream_salsa20_xor:S,crypto_stream_salsa20:R,crypto_onetimeauth:I,crypto_onetimeauth_verify:T,crypto_verify_16:f,crypto_verify_32:g,crypto_secretbox:D,crypto_secretbox_open:x,crypto_scalarmult:H,crypto_scalarmult_base:G,crypto_box_beforenm:j,crypto_box_afternm:K,crypto_box:X,crypto_box_open:Y,crypto_box_keypair:z,crypto_hash:ee,crypto_sign:ce,crypto_sign_keypair:ie,crypto_sign_open:me,crypto_secretbox_KEYBYTES:pe,crypto_secretbox_NONCEBYTES:_e,crypto_secretbox_ZEROBYTES:fe,crypto_secretbox_BOXZEROBYTES:ge,crypto_scalarmult_BYTES:he,crypto_scalarmult_SCALARBYTES:ye,crypto_box_PUBLICKEYBYTES:Ce,crypto_box_SECRETKEYBYTES:be,crypto_box_BEFORENMBYTES:ve,crypto_box_NONCEBYTES:Se,crypto_box_ZEROBYTES:Re,crypto_box_BOXZEROBYTES:Le,crypto_sign_BYTES:Ee,crypto_sign_PUBLICKEYBYTES:ke,crypto_sign_SECRETKEYBYTES:Ie,crypto_sign_SEEDBYTES:Te,crypto_hash_BYTES:De,gf:t,D:s,L:le,pack25519:M,unpack25519:F,M:W,A:O,S:q,Z:B,pow2523:V,add:te,set25519:$,modL:se,scalarmult:oe,scalarbase:ae};function xe(e,t){if(e.length!==pe)throw new Error("bad key size");if(t.length!==_e)throw new Error("bad nonce size")}function $e(e,t){if(e.length!==Ce)throw new Error("bad public key size");if(t.length!==be)throw new Error("bad secret key size")}function Pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ne(e){for(var t=0;t<e.length;t++)e[t]=0}e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,n){Pe(e,t,n),xe(n,t);for(var r=new Uint8Array(fe+e.length),o=new Uint8Array(r.length),a=0;a<e.length;a++)r[a+fe]=e[a];return D(o,r,r.length,t,n),o.subarray(ge)},e.secretbox.open=function(e,t,n){Pe(e,t,n),xe(n,t);for(var r=new Uint8Array(ge+e.length),o=new Uint8Array(r.length),a=0;a<e.length;a++)r[a+ge]=e[a];return r.length<32||x(o,r,r.length,t,n)!==0?null:o.subarray(fe)},e.secretbox.keyLength=pe,e.secretbox.nonceLength=_e,e.secretbox.overheadLength=ge,e.scalarMult=function(e,t){if(Pe(e,t),e.length!==ye)throw new Error("bad n size");if(t.length!==he)throw new Error("bad p size");var n=new Uint8Array(he);return H(n,e,t),n},e.scalarMult.base=function(e){if(Pe(e),e.length!==ye)throw new Error("bad n size");var t=new Uint8Array(he);return G(t,e),t},e.scalarMult.scalarLength=ye,e.scalarMult.groupElementLength=he,e.box=function(t,n,r,o){var a=e.box.before(r,o);return e.secretbox(t,n,a)},e.box.before=function(e,t){Pe(e,t),$e(e,t);var n=new Uint8Array(ve);return j(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,r,o){var a=e.box.before(r,o);return e.secretbox.open(t,n,a)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(Ce),t=new Uint8Array(be);return z(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(Pe(e),e.length!==be)throw new Error("bad secret key size");var t=new Uint8Array(Ce);return G(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=Ce,e.box.secretKeyLength=be,e.box.sharedKeyLength=ve,e.box.nonceLength=Se,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(Pe(e,t),t.length!==Ie)throw new Error("bad secret key size");var n=new Uint8Array(Ee+e.length);return ce(n,e,e.length,t),n},e.sign.open=function(e,t){if(Pe(e,t),t.length!==ke)throw new Error("bad public key size");var n=new Uint8Array(e.length),r=me(n,e,e.length,t);if(r<0)return null;for(var o=new Uint8Array(r),a=0;a<o.length;a++)o[a]=n[a];return o},e.sign.detached=function(t,n){for(var r=e.sign(t,n),o=new Uint8Array(Ee),a=0;a<o.length;a++)o[a]=r[a];return o},e.sign.detached.verify=function(e,t,n){if(Pe(e,t,n),t.length!==Ee)throw new Error("bad signature size");if(n.length!==ke)throw new Error("bad public key size");var r=new Uint8Array(Ee+e.length),o=new Uint8Array(Ee+e.length),a;for(a=0;a<Ee;a++)r[a]=t[a];for(a=0;a<e.length;a++)r[a+Ee]=e[a];return me(o,r,r.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(ke),t=new Uint8Array(Ie);return ie(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(Pe(e),e.length!==Ie)throw new Error("bad secret key size");for(var t=new Uint8Array(ke),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(Pe(e),e.length!==Te)throw new Error("bad seed size");for(var t=new Uint8Array(ke),n=new Uint8Array(Ie),r=0;r<32;r++)n[r]=e[r];return ie(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=ke,e.sign.secretKeyLength=Ie,e.sign.seedLength=Te,e.sign.signatureLength=Ee,e.hash=function(e){Pe(e);var t=new Uint8Array(De);return ee(t,e,e.length),t},e.hash.hashLength=De,e.verify=function(e,t){return Pe(e,t),e.length===0||t.length===0||e.length!==t.length?!1:_(e,0,t,0,e.length)===0},e.setPRNG=function(e){n=e},(function(){var t=typeof self!="undefined"?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){var n=65536;e.setPRNG(function(e,r){var o,a=new Uint8Array(r);for(o=0;o<r;o+=n)t.getRandomValues(a.subarray(o,o+Math.min(r-o,n)));for(o=0;o<r;o++)e[o]=a[o];Ne(a)})}else t&&t.randomBytes&&e.setPRNG(function(e,n){var r,o=t.randomBytes(n);for(r=0;r<n;r++)e[r]=o[r];Ne(o)})})()})(typeof l!="undefined"&&l.exports?l.exports:self.nacl=self.nacl||{})}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
__d("tweetnacl",["tweetnacl-1.0.3"],(function(t,n,r,o,a,i){"use strict";a.exports=n("tweetnacl-1.0.3")()}),null);
__d("WACryptoDependencies",["tweetnacl"],(function(t,n,r,o,a,i,l){"use strict";var e=self.crypto;function s(t){e=t;var n=65536;o("tweetnacl").setPRNG(function(e,r){var o,a=new Uint8Array(r);for(o=0;o<r;o+=n)t.getRandomValues(a.subarray(o,o+Math.min(r-o,n)));for(o=0;o<r;o++)e[o]=a[o];for(var i=0;i<a.length;i++)a[i]=0})}function u(){return e}l.setCrypto=s,l.getCrypto=u}),98);
__d("WACryptoSha256",["WABase64","WACryptoDependencies"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("WACryptoDependencies").getCrypto().subtle.digest({name:"SHA-256"},e)}function s(t){return e(t).then(o("WABase64").encodeB64)}function u(e){return s(c(e))}function c(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,o=e.length;r<o;r++)n[r]=e.charCodeAt(r);return t}l.sha256=e,l.sha256Base64=s,l.sha256Str=u}),98);
__d("WACryptoSha256Builder",["WABinary"],(function(t,n,r,o,a,i,l){"use strict";var e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=64,u=4,c=(function(){function t(){this.h0=0,this.h1=0,this.h2=0,this.h3=0,this.h4=0,this.h5=0,this.h6=0,this.h7=0,this.tail=new Uint8Array(0),this.size=0,this.reset()}var n=t.prototype;return n.reset=function(){this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225,this.tail=new Uint8Array(0),this.size=0},n.update=function(t){var e=new Uint8Array(this.tail.length+t.length);for(e.set(this.tail),e.set(t,this.tail.length),this.size+=t.length*8;e.length>=s;){var n=e.subarray(0,s);this.$1(n),e=e.slice(s)}return this.tail=e,this},n.$2=function(){var e=new Uint8Array(64);if(e.set(this.tail),e.set(new Uint8Array([128]),this.tail.length),this.tail.length+9>s){this.$1(e);var t=g(new Uint8Array(0),this.size);this.$1(t)}else{var n=g(e,this.size);this.$1(n)}},n.finish=function(){this.$2();var e=new(o("WABinary")).Binary;return e.writeUint32(this.h0),e.writeUint32(this.h1),e.writeUint32(this.h2),e.writeUint32(this.h3),e.writeUint32(this.h4),e.writeUint32(this.h5),e.writeUint32(this.h6),e.writeUint32(this.h7),this.reset(),e.readByteArrayView()},n.$1=function(n){for(var t=[],r=0;r<16;r++){var o=n.subarray(r*u,u*(r+1)),a=o[0]<<24|o[1]<<16|o[2]<<8|o[3];t.push(a)}for(var i=16;i<64;i++){var l=d(t[i-15]),s=m(t[i-2]),c=t[i-16]+(t[i-7]+l+s)>>>0;t.push(c)}for(var _=this.h0,f=this.h1,g=this.h2,h=this.h3,y=this.h4,C=this.h5,b=this.h6,v=this.h7,S=0;S<64;S++){var R=p(y,6)^p(y,11)^p(y,25),L=y&C^~y&b,E=p(_,2)^p(_,13)^p(_,22),k=_&f^_&g^f&g,I=v+R+L+e[S]+t[S],T=E+k;v=b,b=C,C=y,y=h+I>>>0,h=g,g=f,f=_,_=I+T>>>0}this.h0=this.h0+_>>>0,this.h1=this.h1+f>>>0,this.h2=this.h2+g>>>0,this.h3=this.h3+h>>>0,this.h4=this.h4+y>>>0,this.h5=this.h5+C>>>0,this.h6=this.h6+b>>>0,this.h7=this.h7+v>>>0},t})();function d(e){var t=p(e,7),n=p(e,18),r=_(e,3);return t^n^r}function m(e){var t=p(e,17),n=p(e,19),r=_(e,10);return t^n^r}function p(e,t){return e>>>t|e<<32-t}function _(e,t){return e>>>t}function f(e){return new Uint8Array(new Uint32Array([e]).buffer)}function g(e,t){var n=new Uint8Array(s);n.set(e);var r=f(t);return n.set(r.subarray(0,1),n.length-1),n.set(r.subarray(1,2),n.length-2),n.set(r.subarray(2,3),n.length-3),n.set(r.subarray(3,4),n.length-4),n.set(r.subarray(4,5),n.length-5),n.set(r.subarray(5,6),n.length-6),n.set(r.subarray(6,7),n.length-7),n.set(r.subarray(7,8),n.length-8),n}l.Sha256Builder=c,l.sigma0=d,l.sigma1=m,l.rotateRight=p,l.shiftRight=_}),98);
__d("WACryptoSha256HmacBuilder",["WACryptoSha256Builder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$1=new(o("WACryptoSha256Builder")).Sha256Builder,this.$2=new Uint8Array(0),this.reset(e)}var t=e.prototype;return t.reset=function(t){this.$2=new Uint8Array(64),t.length>64?this.$2.set(new(o("WACryptoSha256Builder")).Sha256Builder().update(t).finish(),0):this.$2.set(t,0);var e=this.$2.map(function(e){return e^54});this.$1=new(o("WACryptoSha256Builder")).Sha256Builder().update(e)},t.update=function(t){return this.$1.update(t),this},t.finish=function(){var e=this.$2.map(function(e){return e^92}),t=this.$1.finish();return new(o("WACryptoSha256Builder")).Sha256Builder().update(e).update(t).finish()},e})();l.Sha256HMacBuilder=e}),98);
__d("WAIDBTypes",[],(function(t,n,r,o,a,i){"use strict";function e(){return indexedDB}i.idb=e}),66);
__d("WormDump",["FBLogger","Promise","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return e}function u(e){return"redacted:"+String(e).length}function c(e,t,n){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,o,a){var i=yield o.runInTransaction(a,"readonly",function(o){return(e||(e=n("Promise"))).all(a.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=t[e],a=yield o.stores[e].readAll({limit:n==null?void 0:n.limit,order:"desc"});return[e,a.map(function(e){var t={};return Object.keys(e).forEach(function(o){var a,i=n==null||(a=n.customFields)==null?void 0:a[o];if(i)try{t[o]=i(e[o])}catch(e){r("FBLogger")("worm").catching(r("getErrorSafe")(e)).mustfix("Failed to process special handling for DB dump")}else t[o]=u(e[o])}),t})]});return function(t){return e.apply(this,arguments)}})()))},"dump"),l={};return i.forEach(function(e){var t=e[0],n=e[1];l[t]=n}),l}),d.apply(this,arguments)}l.wormNonSensitiveField=s,l.wormRedact=u,l.dump=c}),98);
__d("Worm",["FBLogger","QPLFlow","WormDump","WormReadOnlyStoreAccessor","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=1e4,s=(function(){function t(e,t){this.$2=e,this.$1=t}var a=t.prototype;return a.init=function(t){return this.$2.init(t)},a.close=function(){this.$2.close()},a.store=function(t){return new(o("WormReadOnlyStoreAccessor")).ReadOnlyStoreAccessor(this.$2,t,this.$1)},a.dump=function(t){var e=Object.keys(this.$2.getSchema());return o("WormDump").dump(t,this,e)},a.runInTransaction=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,a,i){var l=this.$1!=null?o("QPLFlow").startQPLFlow(this.$1,{annotations:{bool:{isReadonly:n==="readonly"},string:{dbAlias:this.$2.getDbAlias(),operationType:i}},timeoutInMs:e}):void 0;try{var s=yield this.$2.runInTransaction(t,n,a,{eventFlow:l});return l==null||l.endSuccess(),s}catch(e){throw l==null||l.endFail("error"),r("FBLogger")("worm").catching(r("getErrorSafe")(e)).mustfix("Error performing %s",i),e}});function a(e,n,r,o){return t.apply(this,arguments)}return a})(),t})();l.OP_TIMEOUT_MS=e,l.WormDatabase=s}),98);
__d("WormPromise",["Promise"],(function(t,n,r,o,a,i){"use strict";var e,l=typeof self=="object"?self.Promise:typeof globalThis=="object"?globalThis.Promise:e||(e=n("Promise"));i.WormPromise=l}),66);
__d("WormRangeIterator",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=t.map(function(t){return e[t]});return n}function l(t,n,r,o){var a=t.at(0),i=t.at(-1);return{endCursor:i&&e(i,n),hasNext:r,hasPrevious:o,startCursor:a&&e(a,n)}}function s(e,t,n,r){var o=e.flatMap(function(e){return e.data}).sort(function(e,r){return u(e,r,t)*(n==="asc"?1:-1)}).slice(0,r+1),a=o.slice(0,r),i=o.length>r,s=e.some(function(e){return e.cursorInfo.hasPrevious}),c=l(a,t,i,s);return{cursorInfo:c,data:a}}function u(t,n,r){for(var o=e(t,r),a=e(n,r),i=0;i<o.length;i++)if(o[i]!==a[i]){var l=o[i]>a[i];return l?1:-1}return 0}i.makeCursor=e,i.makeCursorInfoFromList=l,i.mergeRanges=s}),66);
__d("WormStoreFunctions",["WormPromise","WormRangeIterator","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){var a=t.indexes[n],i=r;return a.unique&&(i=Array.from(new Map(r.map(function(e){var t=e.item,n=e.selector;return[n.join("_"),{item:t,selector:n}]})).values())),o("WormPromise").WormPromise.all(i.map(function(t){var r=t.item,o=t.selector;return e.getByIndex(n,o).then(function(e){return{existingItem:e,item:r}}).then(function(t){return e.bulkPut([babelHelpers.extends({},t.existingItem,t.item)])}).then(function(e){return e[0]})}))}function s(e,t,n,r){return e.readIndex(t,n,babelHelpers.extends({},r,{limit:1})).then(function(e){var t;return(t=e[0])!=null?t:null})}var u=(function(){function e(e,t,n,r,o,a){this.query=e,this.indexName=n,this.storeSchema=t,this.order=r,this.filter=a,this.boundaries=o,(o==null?void 0:o.greaterThan)!=null?this.lowerBoundary={greaterThan:o.greaterThan}:(o==null?void 0:o.greaterThanOrEqual)!=null&&(this.lowerBoundary={greaterThanOrEqual:o.greaterThanOrEqual}),(o==null?void 0:o.lessThan)!=null?this.upperBoundary={lessThan:o.lessThan}:(o==null?void 0:o.lessThanOrEqual)!=null&&(this.upperBoundary={lessThanOrEqual:o.lessThanOrEqual})}var t=e.prototype;return t.read=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=this.order==="asc",a;e==null?a=this.boundaries:n?a=babelHelpers.extends({},this.upperBoundary,{greaterThan:e}):a=babelHelpers.extends({},this.lowerBoundary,{lessThan:e});var i=yield this.query(a,{filter:this.filter,limit:t+1,order:this.order}),l,s=null;if(i.length<=t)l=i;else if(i.length===t+1)l=i.slice(0,t),s=i[t];else throw r("err")("unreachable");var u=o("WormRangeIterator").makeCursorInfoFromList(l,this.storeSchema.indexes[this.indexName].fields,s!=null,e!=null);return{cursorInfo:u,data:l}});function t(t,n){return e.apply(this,arguments)}return t})(),e})();function c(e,t,n,o,a,i){var l=t.indexes;if(l==null)throw r("err")("No indexes found");var s=l[n];if(s==null)throw r("err")("Index not found");return new u(function(t,r){return e(n,t!=null?t:void 0,r)},t,n,o,a,i)}l.bulkUpsert=e,l.getByIndex=s,l.getIndexRangeIterator=c}),98);
__d("WormReadOnlyStoreAccessor",["FBLogger","QPLFlow","Worm","WormStoreFunctions","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){this.$1=e,this.$2=t,this.$3=n}var t=e.prototype;return t.$4=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=this.$2+"."+t+"_inline",a=this.$3!=null?o("QPLFlow").startQPLFlow(this.$3,{annotations:{string:{operationType:n}},timeoutInMs:o("Worm").OP_TIMEOUT_MS}):void 0;try{var i=yield this.$1.runInTransaction([this.$2],"readonly",e,{eventFlow:a});return a==null||a.endSuccess(),i}catch(e){a==null||a.endFail("error");var l=r("getErrorSafe")(e);throw r("FBLogger")("worm").catching(l).mustfix("Error performing %s",n),l}});function t(t,n){return e.apply(this,arguments)}return t})(),t.bulkGet=function(t){var e=this;return this.$4(function(n){return n.stores[e.$2].bulkGet(t)},"bulkGet")},t.count=function(){var e=this;return this.$4(function(t){return t.stores[e.$2].count()},"count")},t.get=function(t){var e=this;return this.$4(function(n){return n.stores[e.$2].get(t)},"get")},t.getByIndex=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].getByIndex(t,n,r)},"getByIndex")},t.getIndexRangeIterator=function(t,n,r,a){var e=this;return o("WormStoreFunctions").getIndexRangeIterator(function(t,n,r){return e.$4(function(o){return o.stores[e.$2].readIndexRange(t,n,r)},"getIndexRangeIterator")},this.$1.getSchema()[this.$2],t,n,r,a)},t.readAll=function(t){var e=this;return this.$4(function(n){return n.stores[e.$2].readAll(t)},"readAll")},t.readByKeyRange=function(t,n){var e=this;return this.$4(function(r){return r.stores[e.$2].readByKeyRange(t,n)},"readByKeyRange")},t.readIndex=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].readIndex(t,n,r)},"readIndex")},t.readIndexAnyOf=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].readIndexAnyOf(t,n,r)},"readIndexAnyOf")},t.readIndexKeys=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].readIndexKeys(t,n,r)},"readIndexKeys")},t.readIndexRange=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].readIndexRange(t,n,r)},"readIndexRange")},t.readKeys=function(t){var e=this;return this.$4(function(n){return n.stores[e.$2].readKeys(t)},"readKeys")},t.readKeysByIndexRange=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].readKeysByIndexRange(t,n,r)},"readKeysByIndexRange")},e})();l.ReadOnlyStoreAccessor=e}),98);
__d("WormEncoding",["msgpack-msgpack"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=new(o("msgpack-msgpack")).ExtensionCodec,t=0;e.register({decode:function(t){var e=o("msgpack-msgpack").decode(t);return e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset)},encode:function(t){if(t instanceof ArrayBuffer)return o("msgpack-msgpack").encode(new Uint8Array(t))},type:t});var n=1;e.register({decode:function(t){var e=o("msgpack-msgpack").decode(t);return new Uint8Array(e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset))},encode:function(t){if(t instanceof Uint8Array)return o("msgpack-msgpack").encode(t)},type:n});var r=2;e.register({decode:function(t){var e=o("msgpack-msgpack").decode(t);return BigInt(e)},encode:function(t){if(typeof t=="bigint")return o("msgpack-msgpack").encode(String(t))},type:r});var a=3;return e.register({decode:function(t){var e=o("msgpack-msgpack").decode(t);return new Set(e)},encode:function(t){if(t instanceof Set)return o("msgpack-msgpack").encode(Array.from(t))},type:a}),{decode:function(n){return o("msgpack-msgpack").decode(n,{extensionCodec:e})},encode:function(n){return o("msgpack-msgpack").encode(n,{extensionCodec:e,ignoreUndefined:!0})}}}l.createEncoding=e}),98);
__d("WormIDbGetMinMaxKeySelector",[],(function(t,n,r,o,a,i){"use strict";var e=-1/0,l,s=function(){if(l!=null)return l;try{return IDBKeyRange.only([[]]),l=[[]],l}catch(t){var e="\uFFFF";return l=e,e}};i.MIN_KEY=e,i.getMaxSelector=s}),66);
__d("WormEAR",["FBLogger","Promise","WABinary","WACryptoDependencies","WACryptoSha256","WACryptoSha256HmacBuilder","WATimeUtils","WormEncoding","WormIDbGetMinMaxKeySelector","asyncToGeneratorRuntime","getErrorSafe","memoizeStringOnly","tweetnacl"],(function(t,n,r,o,a,i,l){"use strict";var e,s="_encryptedContent",u=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.name="WormEAREncryptionError",n.message=t,n}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),c=(function(e){function t(t,n,r){var o;return o=e.call(this,t)||this,o.name="WormEARDecryptionError",o.message=t,o.store=n,o.maybeHashedPk=r,o}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));function d(e,t,n){if(typeof e=="number")return e;var r=t.encode(e),a=new(o("WACryptoSha256HmacBuilder")).Sha256HMacBuilder(new Uint8Array(n)).update(r).finish();return a.buffer}var m=32,p=2,_=128,f=12,g=256,h=new Uint8Array(0).buffer,y="AES-GCM",C="HKDF",b="SHA-256",v=3600,S=24*v,R=0,L=S*30*6,E=(function(){function t(e,t,n,a){var i=this,l;this.$7=0,this.$9=!1,this.$10=!1,this.$11=r("memoizeStringOnly")(function(e){var t=i.$2[e].nonEncryptedFields;if(t!=null)return new Set(t)}),this.$2=e,this.$1=t,this.$8=(l=a==null?void 0:a.encKeyTtl)!=null?l:L,this.$3=o("WormEncoding").createEncoding(),this.$4=n,this.$6=crypto.subtle.importKey("raw",n,{name:y},!1,["encrypt","decrypt"]),this.$5=new Map}var a=t.prototype;return a.isSecureStore=function(t){return this.$2[t].secure!==!1},a.$12=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return(yield o("WACryptoSha256").sha256Base64(this.$4)).substring(0,5)});function t(){return e.apply(this,arguments)}return t})(),a.prepareNewKeyVersion=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=o("WACryptoDependencies").getCrypto(),t=e.getRandomValues(new Uint8Array(m)).buffer,n=e.getRandomValues(new Uint8Array(m)).buffer,r=e.getRandomValues(new Uint8Array(f)),a=yield this.$6,i=yield e.subtle.encrypt({iv:r,name:y,tagLength:_},a,n);return{clientKey:t,expiration:o("WATimeUtils").castToUnixTime(o("WATimeUtils").unixTime()+this.$8),keyHash:yield this.$12(),salt:o("WABinary").Binary.build(r,i).readBuffer()}});function t(){return e.apply(this,arguments)}return t})(),a.init=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i){var l=this;this.$5=new Map,this.$7=0,this.$9=a.incorrectVersions,this.$10=a.versionsLoss;var s=o("WACryptoDependencies").getCrypto(),u=yield this.$12(),c=!0;try{yield(e||(e=n("Promise"))).all(t.map(function(t){c=c&&t.keyHash===u;var r=t.salt,o=r.slice(0,f),a=r.slice(f);return l.$6.then(function(r){return(e||(e=n("Promise"))).all([s.subtle.importKey("raw",t.clientKey,{name:C},!1,["deriveKey"]),s.subtle.decrypt({iv:new Uint8Array(o),name:y,tagLength:_},r,a)])}).then(function(e){var t=e[0],n=e[1];return s.subtle.deriveKey({hash:{name:b},info:h,name:C,salt:n},t,{length:g,name:y},!0,["encrypt","decrypt"])}).then(function(e){return s.subtle.exportKey("raw",e)}).then(function(e){l.$7=Math.max(l.$7,t.version),l.$5.set(t.version,e)})}))}catch(e){throw r("FBLogger")("worm").catching(r("getErrorSafe")(e)).mustfix("Error on keychain initialisation keyHashCheck: %s",c),e}finally{var d;i==null||(d=i.eventFlow)==null||d.addAnnotations({bool:{keyHashCheck:c}})}});function a(e,n,r){return t.apply(this,arguments)}return a})(),a.$13=function(t){if(this.$7===0)throw new u("EAR.Encryption. EAR is not initialised ");var e=this.$5.get(this.$7);if(e==null)throw new u("EAR.Encryption.Key does not exist for version");var n=o("tweetnacl").randomBytes(o("tweetnacl").secretbox.nonceLength),r=o("tweetnacl").secretbox(t,n,new Uint8Array(e));return o("WABinary").Binary.build(R,this.$7,n,r).readBuffer()},a.$14=function(t,n,r){var e=t.slice(0,p),a=new DataView(e).getUint8(1),i=this.$5.get(a);if(i==null)throw new c("EAR.Decryption.Key does not exist for version: "+a+"; db: "+this.$1+"; store: "+n+"; incorrectVersions: "+this.$9.toString()+" versionsLoss: "+this.$10.toString(),n,r);var l=t.slice(p,p+o("tweetnacl").secretbox.nonceLength),s=t.slice(p+o("tweetnacl").secretbox.nonceLength),u=o("tweetnacl").secretbox.open(new Uint8Array(s),new Uint8Array(l),new Uint8Array(i));if(u==null)throw new c("EAR.Decryption. Unable to decrypt; db: "+this.$1+"; store: "+n+"; incorrectVersions: "+this.$9.toString()+" versionsLoss: "+this.$10.toString(),n,r);return u},a.encryptEntity=function(t,n){var e,r=this.$2[n],o=new Set;r.autoIncrement!==!0&&o.add(r.primaryKey);var a=r.indexes;if(a!=null)for(var i of Object.keys(a)){var l=a[i];for(var u of l.fields)o.add(u)}var c={};for(var m of o){var p;c[m]=(p=this.$11(n))!=null&&p.has(m)?t[m]:d(t[m],this.$3,this.$4)}return r.autoIncrement===!0&&t[r.primaryKey]!=null&&(c[r.primaryKey]=t[r.primaryKey]),babelHelpers.extends({},c,(e={},e[s]=this.$13(this.$3.encode(t)),e))},a.$15=function(t,n,o){if((t==null||typeof t!="object")&&r("FBLogger")("worm").mustfix("WORM.EAR: dbRecord is null or not object: %s, store: %s, reason %s",String(t),n,o),t!=null&&t[s]!=null){var e=t[this.$2[n].primaryKey];return{encrypted:!0,encryptedEntity:t,pk:e}}else return{encrypted:!1,entity:t}},a.maybeDecrypt=function(t,n,r,o,a){if(t==null||this.isSecureStore(n)===!1)return t;var e=this.$15(t,n,r);if(!e.encrypted){if(a!=null&&a.shouldNotFailIfEntityIsNotEncrypted)return t;var i=t[this.$2[n].primaryKey];throw new c("EAR.Decryption. Attempt to decrypt malformed encrypted entity in  db: "+this.$1+", store: "+n+". Missing '"+s+"' property. Pk is "+(i==null?"empty":"not empty"),n,i)}o==null||o.addPoint("decrypt_start");var l=this.decryptEntity(e.encryptedEntity,n,e.pk);o==null||o.addPoint("decrypt_end");var u=this.$2[n];if(u.autoIncrement===!0){var d;return babelHelpers.extends({},l,(d={},d[u.primaryKey]=e.pk,d))}return l},a.maybeEncrypt=function(t,n,r){if(this.isSecureStore(n)===!1)return t;r==null||r.addPoint("encrypt_start");var e=this.encryptEntity(t,n);return r==null||r.addPoint("encrypt_end"),e},a.decryptEntity=function(t,n,r){return this.$3.decode(this.$14(t[s],n,r))},a.hashPk=function(t,n,r){var e;return(e=this.$11(t))!=null&&e.has(n)?r:d(r,this.$3,this.$4)},a.hashSelector=function(t,n,r){for(var e,a,i=[].concat(t),l=(e=(a=this.$2[n].indexes)==null||(a=a[r])==null?void 0:a.fields)!=null?e:[],s=0;s<i.length;s++){var u,c=i[s],m=l[s];c!==o("WormIDbGetMinMaxKeySelector").getMaxSelector()&&c!==-1/0&&((u=this.$11(n))!=null&&u.has(m)||(i[s]=d(c,this.$3,this.$4)))}return i},t})();l.ENCRYPTED_COLUMN_NAME=s,l.EncryptionError=u,l.DecryptionError=c,l.WormEAR=E}),98);
__d("WormGlobalConfig",[],(function(t,n,r,o,a,i){"use strict";var e={isOptimisedReadAll:function(){return!1}};function l(){return e}function s(t){e=t}i.getWormGlobalConfig=l,i.setWormGlobalConfig=s}),66);
__d("WormIDbConsts",[],(function(t,n,r,o,a,i){"use strict";var e="InvalidStateError",l="AbortError",s="NotFoundError",u="UnknownError",c=new Set([e,l,s,u]);i.IDB_ERROR_INVALID_STATE=e,i.IDB_ERROR_ABORT=l,i.IDB_ERROR_NOT_FOUND=s,i.IDB_ERROR_UNKNOWN=u,i.IDB_ERRORS=c}),66);
__d("WormIDbStore",["Promise","WormGlobalConfig","WormIDbGetMinMaxKeySelector","WormPromise","WormStoreFunctions","err","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){},u=(function(){function t(e,t,n,r,o){var a=this;this.readIndexRange=function(e,t,n){return t==null?a.$11(function(){return a.$1.index(e).openCursor(null,(n==null?void 0:n.order)==="desc"?"prev":"next")},n):a.$11(function(){return a.$1.index(e).openCursor(a.$12(t,e),(n==null?void 0:n.order)==="desc"?"prev":"next")},n)},this.$1=t.objectStore(e),this.$2=e,this.$3=r,this.$4=n,this.$5=o}var a=t.prototype;return a.$6=function(t,n){var e,r=(e=this.$4.eventFlow)!=null&&e.isActive()?this.$4.eventFlow:null;r==null||r.addPoint(n+"_start");var o=t();return r==null||r.addPoint(n+"_end"),o},a.$7=function(){return this.$3.isSecureStore(this.$2)},a.$8=function(t){var e=this;return this.$7()?this.$6(function(){return e.$3.hashPk(e.$2,e.$5.primaryKey,t)},"hashPk"):t},a.$9=function(t,n){var e=this;return!this.$7()||t==null?t:this.$6(function(){return e.$3.hashSelector(t,e.$2,n)},"hashSelector")},a.$10=function(t){var e=this;return new(o("WormPromise")).WormPromise(function(n,r){var o=t();o.onsuccess=function(){try{n(o.result.map(function(t){return e.$3.maybeDecrypt(t,e.$2,"readArray",e.$4.eventFlow)}))}catch(e){r(e)}},o.onerror=function(){return r(o.error)}})},a.$11=function(t,n){var e=this;return new(o("WormPromise")).WormPromise(function(r,o){var a,i=[],l=(n==null?void 0:n.limit)!=null,s=Math.max(0,(a=n==null?void 0:n.limit)!=null?a:0);if(l&&s===0){r(i);return}var u=t();u.onsuccess=function(){var t=u.result;if(t){var a;try{a=e.$3.maybeDecrypt(t.value,e.$2,"readCursor",e.$4.eventFlow)}catch(e){o(e);return}if((!(n!=null&&n.filter)||n.filter(a))&&i.push(a),l&&s===i.length){r(i);return}t.continue()}else r(i)},u.onerror=function(){return o(u.error)}})},a.bulkAdd=function(r){var t=this;return(e||(e=n("Promise"))).all(r.map(function(e){return new(o("WormPromise")).WormPromise(function(n,r){var o=t.$1.add(t.$3.maybeEncrypt(e,t.$2,t.$4.eventFlow));o.onsuccess=function(){t.$5.autoIncrement===!0?n(o.result):n(e[t.$5.primaryKey])},o.onerror=function(){return r(o.error)}})}))},a.bulkPut=function(r){var t=this;return(e||(e=n("Promise"))).all(r.map(function(e){return new(o("WormPromise")).WormPromise(function(n,r){var o,a=t.$1.put(t.$3.maybeEncrypt(e,t.$2,(o=t.$4.eventFlow)!=null?o:void 0));a.onsuccess=function(){t.$5.autoIncrement===!0?n(a.result):n(e[t.$5.primaryKey])},a.onerror=function(){return r(a.error)}})}))},a.bulkUpsert=function(t,n){return o("WormStoreFunctions").bulkUpsert(this,this.$5,t,n)},a.bulkGet=function(r){var t=this;return(e||(e=n("Promise"))).all(r.map(function(e){return new(o("WormPromise")).WormPromise(function(n,r){var o=t.$1.get(t.$8(e));o.onsuccess=function(){try{var e;n(t.$3.maybeDecrypt(o.result,t.$2,"bulkGet",(e=t.$4.eventFlow)!=null?e:void 0))}catch(e){r(e)}},o.onerror=function(){return r(o.error)}})}))},a.get=function(t){return this.bulkGet([t]).then(function(e){return e[0]})},a.getByIndex=function(t,n,r){return o("WormStoreFunctions").getByIndex(this,t,n,r)},a.readByKeyRange=function(t,n){var e=this;return t==null?this.$11(function(){return e.$1.openCursor(null,(n==null?void 0:n.order)==="desc"?"prev":"next")},n):this.$11(function(){return e.$1.openCursor(e.$12(t,e.$5.primaryKey),(n==null?void 0:n.order)==="desc"?"prev":"next")},n)},a.$13=function(t,n,a){if(this.$5.indexes==null)throw r("err")("No indexes found for store");var e=this.$5.indexes[t].fields;if(n.length===e.length)return n;var i=e.map(function(e,t){var r;return(r=n[t])!=null?r:a==="max"?o("WormIDbGetMinMaxKeySelector").getMaxSelector():o("WormIDbGetMinMaxKeySelector").MIN_KEY});return i},a.$12=function(t,n){var e,o,a=n===this.$5.primaryKey;if(t.only!=null){if(this.$5.indexes==null)throw r("err")("No indexes found for store");var i=this.$5.indexes[n].fields;return t.only.length===i.length?IDBKeyRange.only(this.$9(t.only,n)):IDBKeyRange.bound(a?this.$8(t.only):this.$9(this.$13(n,t.only,"min"),n),a?this.$8(t.only):this.$9(this.$13(n,t.only,"max"),n),!0,!0)}var l=(e=t.lessThan)!=null?e:t.lessThanOrEqual,s=(o=t.greaterThan)!=null?o:t.greaterThanOrEqual;if(l!=null)return s!=null?IDBKeyRange.bound(a?this.$8(s):this.$9(this.$13(n,s,"min"),n),a?this.$8(l):this.$9(this.$13(n,l,"max"),n),t.greaterThan!=null,t.lessThan!=null):IDBKeyRange.upperBound(a?this.$8(l):this.$9(this.$13(n,l,"max"),n),t.lessThan!=null);if(s!=null)return IDBKeyRange.lowerBound(a?this.$8(s):this.$9(this.$13(n,s,"min"),n),t.greaterThan!=null);throw r("err")("Invalid range")},a.readIndex=function(t,n,r){var e=this;return(r==null?void 0:r.filter)==null&&(r==null?void 0:r.order)!=="desc"?this.$10(function(){var o;return e.$1.index(t).getAll(e.$9(n,t),(o=r==null?void 0:r.limit)!=null?o:void 0)}):this.$11(function(){return e.$1.index(t).openCursor(e.$9(n,t),(r==null?void 0:r.order)==="desc"?"prev":"next")},r)},a.readIndexAnyOf=function(t,n,a){var e=this;return new(o("WormPromise")).WormPromise(function(i,l){var s,u;if(n.length===0){i([]);return}var c=(a==null?void 0:a.limit)!=null,d=Math.max(0,(s=a==null?void 0:a.limit)!=null?s:0);if(c&&d===0){i([]);return}var m=(u=e.$5.indexes)==null||(u=u[t])==null?void 0:u.fields;if(!m){l(r("err")("No index fields found"));return}var p=n.every(function(e){return Array.isArray(e)?e.length===m.length:!0});if(p){var _=n.map(function(n){return e.$10(function(){return e.$1.index(t).getAll(e.$9(n,t),c?d:void 0)})});o("WormPromise").WormPromise.all(_).then(function(e){var t=e.flat();a!=null&&a.filter&&(t=t.filter(a.filter)),i(t)}).catch(l)}else{var f=n.map(function(n){return e.readIndexRange(t,{only:n},a)});o("WormPromise").WormPromise.all(f).then(function(t){var n=t.flat(),r=new Set;n=n.filter(function(t){var n=t[e.$5.primaryKey];return r.has(n)?!1:(r.add(n),!0)}),i(n)}).catch(l)}})},a.readIndexKeys=function(t,n,r){var e=this;return this.readIndex(t,n,r).then(function(t){return t.map(function(t){return t[e.$5.primaryKey]})})},a.readKeysByIndexRange=function(t,n,r){var e=this;return this.readIndexRange(t,n,r).then(function(t){return t.map(function(t){return t[e.$5.primaryKey]})})},a.getIndexRangeIterator=function(t,n,r,a){return o("WormStoreFunctions").getIndexRangeIterator(this.readIndexRange,this.$5,t,n,r,a)},a.readAll=function(t){var e=this;return r("vulture")("eAbPo6f29hMUnU3-1lVn-oE5UDI="),o("WormGlobalConfig").getWormGlobalConfig().isOptimisedReadAll()&&(t==null?void 0:t.filter)==null&&(t==null?void 0:t.order)!=="desc"?this.$10(function(){return e.$1.getAll(void 0,t==null?void 0:t.limit)}):this.$11(function(){return e.$1.openCursor(null,(t==null?void 0:t.order)==="desc"?"prev":"next")},t)},a.readKeys=function(t){var e=this;return this.readAll(t).then(function(t){return t.map(function(t){return t[e.$5.primaryKey]})})},a.bulkDelete=function(r){var t=this;return(e||(e=n("Promise"))).all(r.map(function(e){return new(o("WormPromise")).WormPromise(function(n,r){var o=t.$1.delete(t.$8(e));o.onsuccess=n,o.onerror=function(){return r(o.error)}})})).then(s)},a.delete=function(t){var e=this;return new(o("WormPromise")).WormPromise(function(n,r){var o=e.$1.delete(e.$8(t));o.onsuccess=function(){return n()},o.onerror=function(){return r(o.error)}})},a.clear=function(){var e=this;return new(o("WormPromise")).WormPromise(function(t,n){var r=e.$1.clear();r.onsuccess=t,r.onerror=function(){return n(r.error)}}).then(s)},a.count=function(){var e=this;return new(o("WormPromise")).WormPromise(function(t,n){var r=e.$1.count();r.onsuccess=function(){return t(r.result)},r.onerror=function(){return n(r.error)}})},t})();l.WormIDbStore=u}),98);
__d("WormIDbTransaction",["WAResolvable","WormIDbStore"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){var t,n="WormUnknownError";return t=e.call(this,n)||this,t.name=n,t.message=n,t}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),s=(function(e){function t(){var t,n="WormUnknownAbortError";return t=e.call(this,n)||this,t.name=n,t.message=n,t}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),u=(function(){function t(t,n,r,a,i){var l=this;this.$1=t,this.$2=new(o("WAResolvable")).Resolvable,this.$1.oncomplete=function(){l.$2.resolve()},this.$1.onerror=function(t){var n,r,o,a=(n=(r=(o=t.target)==null?void 0:o.error)!=null?r:l.$1.error)!=null?n:new e;l.$2.reject(a)},this.$1.onabort=function(e){var t,n,r,o=(t=(n=(r=e.target)==null?void 0:r.error)!=null?n:l.$1.error)!=null?t:new s;l.$2.reject(o)},this.$3=a.reduce(function(e,t){var a;return babelHelpers.extends({},e,(a={},a[t]=new(o("WormIDbStore")).WormIDbStore(t,l.$1,n,r,i[t]),a))},{})}var n=t.prototype;return n.commit=function(){var e,t;return(e=(t=this.$1).commit)==null||e.call(t),this.$2.promise},n.abort=function(){this.$2.isSettled||this.$1.abort()},babelHelpers.createClass(t,[{key:"stores",get:function(){return this.$3}}])})();l.WormIDbTransaction=u}),98);
__d("WormIDbTypes",[],(function(t,n,r,o,a,i){"use strict";var e="_worm_db_version_",l="_worm_ear_",s="schema_hash",u="creation_ts",c={indexes:{},primaryKey:"key"},d={indexes:{},primaryKey:"version"},m={_worm_db_version_:c,_worm_ear_:d};i.DB_VERSION_STORE=e,i.EAR_STORE=l,i.SCHEMA_HASH_KEY=s,i.DB_CREATION_TS=u,i.sysSchema=m}),66);
__d("WormIDbUtils",["Promise","WAIDBTypes","err"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return new(e||(e=n("Promise")))(function(e,n){t.onsuccess=function(){return e(t.result)},t.onerror=function(){return n(t.error)}})}function u(t,a,i){var l=a.onBecomeStale,s=a.onClose,u=a.onError,c=a.onUpgrade;return new(e||(e=n("Promise")))(function(e,n){var a=o("WAIDBTypes").idb().open(t,i);c!=null&&(a.onupgradeneeded=function(){if(a.transaction==null)throw r("err")("Transaction is null on upgradeneeded event");c(a.result,a.transaction)}),a.onsuccess=function(){var t=a.result;s!=null&&(t.onclose=s),t.onversionchange=function(){t.close(),l!=null&&l()},e(t)},a.onerror=function(){n(a.error),u!=null&&u(a.error)}})}l.promisifyIDbRequest=s,l.openIDb=u}),98);
__d("WormIDbUpgrade",["WATimeUtils","WormIDbTypes","WormIDbUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=[],o=[],a=new Map,i=Array.from(Object.keys(n)).map(function(e){return e.toString()}),l=new Set(i);for(var s of Object.keys(n))if(!e.objectStoreNames.contains(s))r.push(s);else{var u,c=n[s],d=(u=c.indexes)!=null?u:{},m=t.objectStore(s),p=m.indexNames,_=new Set(Object.keys(d)),f=[],g=[];for(var h of _)p.contains(h)?m.index(h).unique!==d[h].unique&&(f.push(h),g.push(h)):f.push(h);for(var y=0;y<p.length;y++){var C=p[y];_.has(C)||g.push(C)}(f.length>0||g.length>0)&&a.set(s,{indexesToCreate:f,indexesToDelete:g})}for(var b=0;b<e.objectStoreNames.length;b++){var v=e.objectStoreNames[b];l.has(v)||o.push(v)}return{storesToCreate:r,storesToDelete:o,storesToModify:a}}function s(e,t){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){if(!e.objectStoreNames.contains(o("WormIDbTypes").DB_VERSION_STORE))return{isNewDb:!0,shouldUpgrade:!0};var n=e.transaction(o("WormIDbTypes").DB_VERSION_STORE,"readonly"),r=yield o("WormIDbUtils").promisifyIDbRequest(n.objectStore(o("WormIDbTypes").DB_VERSION_STORE).get(o("WormIDbTypes").SCHEMA_HASH_KEY));return{isNewDb:!1,shouldUpgrade:(r==null?void 0:r.value)!==t}}),u.apply(this,arguments)}function c(e,t,n){for(var r of n){var o=t[r],a=e.createObjectStore(r,{autoIncrement:!!o.autoIncrement,keyPath:o.primaryKey}),i=o.indexes;if(i!=null)for(var l of Object.keys(i)){var s=i[l];a.createIndex(l,s.fields.map(function(e){return e.toString()}),{unique:s.unique})}}}function d(t,n,r,a,i){var l=e(t,n,r),s=l.storesToCreate,u=l.storesToDelete,d=l.storesToModify;if(c(t,r,s),!i.onlyCreateNewStores){for(var m of u)i.safeToDeleteStores.has(m)&&t.deleteObjectStore(m);var p=function(){var e=f[0];_=f[1];var t=_.indexesToCreate,o=_.indexesToDelete;for(var a of o)n.objectStore(e).deleteIndex(a);var l=r[e].indexes;if(l==null)return 1;var s=!1;for(var u of t){var c=l[u];n.objectStore(e).createIndex(u,[].concat(c.fields),{unique:c.unique}),s=!0}if(s&&r[e].secure===!0&&i.maybeEar!=null){var d=e,m=i.maybeEar,p=n.objectStore(d).getAll();p.onsuccess=function(){var t=p.result;t.forEach(function(t){t!=null&&n.objectStore(e).put(m.maybeEncrypt(m.maybeDecrypt(t,d,"dbUpgrade",void 0,{shouldNotFailIfEntityIsNotEncrypted:!0}),d,void 0))})}}},_;for(var f of d)p();n.objectStore(o("WormIDbTypes").DB_VERSION_STORE).put({key:o("WormIDbTypes").SCHEMA_HASH_KEY,value:a}),i.isNewDbInstance&&n.objectStore(o("WormIDbTypes").DB_VERSION_STORE).put({key:o("WormIDbTypes").DB_CREATION_TS,value:o("WATimeUtils").performanceAbsoluteNow()})}}l.shouldUpgradeDb=s,l.createNewStores=c,l.upgradeDb=d}),98);
__d("WormIDbDriver",["FBLogger","Promise","WACryptoSha256","WAResolvable","WATimeUtils","WormIDbConsts","WormIDbTransaction","WormIDbTypes","WormIDbUpgrade","WormIDbUtils","asyncToGeneratorRuntime","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t,n,o,a,i){var l=this,s,u,c;this.$5=null,this.$8=[],this.$13=function(){l.$12.log(l.$3+".error.db_stale")},this.$14=function(){l.$12.log(l.$3+".error.db_close")},this.$15=function(e){r("FBLogger")("worm").catching(r("getErrorSafe")(e)).mustfix("Unexpected error  %s",l.$3)},this.$2=e,this.$3=t,this.$4=n,this.$6=(s=i==null?void 0:i.safeToDeleteStores)!=null?s:new Set,this.$9=i==null?void 0:i.blockingErrorThreshold,this.$10=(u=i==null?void 0:i.onBlockingError)!=null?u:function(){},this.$11=(c=i==null?void 0:i.onTransactionError)!=null?c:function(){},this.$7=o,this.$12=a}var a=t.prototype;return a.getDbAlias=function(){return this.$3},a.getSchema=function(){return this.$4},a.$16=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){if(this.$5!=null&&(yield this.$5.promise),this.$1==null)throw r("err")("IDB is not initialised: "+this.$3);var i=new(o("WormIDbTransaction")).WormIDbTransaction(this.$1.transaction(e.map(function(e){return e.toString()}),t,{durability:"relaxed"}),a,this.$7,e,this.$4),l;try{l=yield n(i),yield i.commit()}catch(e){var s=r("getErrorSafe")(e);throw o("WormIDbConsts").IDB_ERRORS.has(s.name)||i.abort(),e}return l});function t(t,n,r,o){return e.apply(this,arguments)}return t})(),a.$17=function(t){var e,n,o;if(this.$9!=null){var a=this.$9,i=(e=(n=(o=t==null?void 0:t.name)!=null?o:t==null?void 0:t.message)!=null?n:t==null?void 0:t.toString())!=null?e:"unknown";if(this.$8.push(i),!(this.$8.length<Math.max(a,1))){var l=this.$8[this.$8.length-1],s=this.$8.every(function(e){return e===l})?l:"mixed";r("FBLogger")("worm").mustfix("Unrecoverable error (%s): %s",this.$3,s),this.$10(s),this.$8=[]}}},a.$18=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){if(this.$1==null){var i,l;(i=a.eventFlow)==null||i.addPoint("db_reinit_start",{bool:{isDbNull:!0}}),yield this.$19(),(l=a.eventFlow)==null||l.addPoint("db_reinit_end")}var s;try{s=yield this.$16(e,t,n,a)}catch(i){var u=r("getErrorSafe")(i);if(u.name===o("WormIDbConsts").IDB_ERROR_INVALID_STATE||u.name===o("WormIDbConsts").IDB_ERROR_NOT_FOUND||u.name===o("WormIDbConsts").IDB_ERROR_UNKNOWN){var c,d;(c=a.eventFlow)==null||c.addPoint("db_reinit_start",{bool:{isDbInvalid:!0}}),yield this.$19({forceUpgrade:u.name===o("WormIDbConsts").IDB_ERROR_NOT_FOUND}),(d=a.eventFlow)==null||d.addPoint("db_reinit_end"),s=yield this.$16(e,t,n,a)}else throw i}return s});function t(t,n,r,o){return e.apply(this,arguments)}return t})(),a.runInTransaction=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,o){var a;try{a=yield this.$18(e,t,n,o),this.$8=[]}catch(e){var i=r("getErrorSafe")(e);throw this.$11(i),this.$17(i),e}return a});function t(t,n,r,o){return e.apply(this,arguments)}return t})(),a.close=function(){var e;(e=this.$1)==null||e.close()},a.init=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t;try{var n;t=yield this.$19({eventFlow:(n=e==null?void 0:e.eventFlow)!=null?n:void 0})}catch(e){var a=r("getErrorSafe")(e);if((a==null?void 0:a.name)===o("WormIDbConsts").IDB_ERROR_INVALID_STATE)t=yield this.$19();else throw e}return t});function t(t){return e.apply(this,arguments)}return t})(),a.$20=function(t,n){var e=t.version;return t.close(),o("WormIDbUtils").openIDb(this.$2,{onBecomeStale:this.$13,onClose:this.$14,onError:this.$15,onUpgrade:function(t,r){return o("WormIDbUpgrade").upgradeDb(t,r,o("WormIDbTypes").sysSchema,n,{isNewDbInstance:!1,maybeEar:null,onlyCreateNewStores:!0,safeToDeleteStores:new Set})}},e+1)},a.$19=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=this,n=!1;if(this.$5)return n=!0,this.$5.promise;this.$5=new(o("WAResolvable")).Resolvable;var a=!1;this.$1!=null&&(this.$1.close(),this.$1=null,a=!0);var i=!0;try{var l,s,u,c,d=babelHelpers.extends({},this.$4,o("WormIDbTypes").sysSchema),m=JSON.stringify(d);if(m==null)throw r("err")("DB schema cannot be serialized: "+this.$3);var p=yield o("WACryptoSha256").sha256Str(m),_=null,f=yield o("WormIDbUtils").openIDb(this.$2,{onBecomeStale:this.$13,onClose:this.$14,onError:this.$15,onUpgrade:function(n,r){return _={isNewDb:!0,shouldUpgrade:!1},o("WormIDbUpgrade").upgradeDb(n,r,d,p,{isNewDbInstance:!0,maybeEar:null,onlyCreateNewStores:!1,safeToDeleteStores:t.$6})}});try{if(Object.keys(o("WormIDbTypes").sysSchema).some(function(e){return f.objectStoreNames.contains(e)===!1})){var g,h;e==null||(g=e.eventFlow)==null||g.addPoint("ear_schema_recovery_start"),f=yield this.$20(f,p),e==null||(h=e.eventFlow)==null||h.addPoint("ear_schema_recovery_end")}}catch(t){var y;e==null||(y=e.eventFlow)==null||y.addPoint("ear_schema_recovery_fail"),r("FBLogger")("worm").catching(r("getErrorSafe")(t)).mustfix("EAR initialization error")}this.$1=f,e==null||(l=e.eventFlow)==null||l.addPoint("ear_init_start");try{var C,b,v;yield this.$21((C=(b=_)==null?void 0:b.isNewDb)!=null?C:!1,{eventFlow:(v=e==null?void 0:e.eventFlow)!=null?v:void 0})}catch(t){var S;throw e==null||(S=e.eventFlow)==null||S.addPoint("ear_init_err"),r("FBLogger")("worm").catching(r("getErrorSafe")(t)).mustfix("EAR initialization error"),t}e==null||(s=e.eventFlow)==null||s.addPoint("ear_init_end");var R=_!=null?_:yield o("WormIDbUpgrade").shouldUpgradeDb(f,p);if(i=R.shouldUpgrade||((u=e==null?void 0:e.forceUpgrade)!=null?u:!1),i){this.$1=null;var L=f.version;f.close(),this.$1=yield o("WormIDbUtils").openIDb(this.$2,{onBecomeStale:this.$13,onClose:this.$14,onError:this.$15,onUpgrade:function(n,r){return o("WormIDbUpgrade").upgradeDb(n,r,d,p,{isNewDbInstance:R.isNewDb,maybeEar:t.$7,onlyCreateNewStores:!1,safeToDeleteStores:t.$6})}},L+1)}var E={isNewDb:R.isNewDb,isUpgraded:i};return(c=this.$5)==null||c.resolve(E),E}catch(e){var k;throw(k=this.$5)==null||k.reject(e),e}finally{var I;e==null||(I=e.eventFlow)==null||I.addAnnotations({bool:{isClosingDb:a,isCompetingInit:n,shouldUpgrade:i}}),this.$5=null}});function t(t){return e.apply(this,arguments)}return t})(),a.$21=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a){var i=this,l=yield this.$7.prepareNewKeyVersion(),s=!1,c=!1,d=yield new(e||(e=n("Promise")))(function(e,n){if(i.$1==null)throw r("err")("IDB is not initialised: "+i.$3);var a=[],d=i.$1.transaction(o("WormIDbTypes").EAR_STORE,"readwrite");d.oncomplete=function(){return e(a)},d.onerror=d.onabort=function(){return n(d.error)};var m=d.objectStore(o("WormIDbTypes").EAR_STORE),p=m.getAll();p.onsuccess=function(){var n,r=(n=p.result)!=null?n:[];a=r.filter(u),s=r.length!==a.length,a.sort(function(e,t){return e.version-t.version});var i=a.length===0||!o("WATimeUtils").isInFuture(a[a.length-1].expiration);if(!i){e(a);return}var d=a.length===0?0:a[a.length-1].version;c=!t&&d===0;var _=babelHelpers.extends({},l,{version:d+1});m.add(_),a.push(_)},p.onerror=function(){return n(p.error)}});yield this.$7.init(d,{incorrectVersions:s,versionsLoss:c},{eventFlow:a==null?void 0:a.eventFlow})});function a(e,n){return t.apply(this,arguments)}return a})(),t})();function u(e){return!(e==null||e.version==null||e.expiration==null||e.clientKey==null||e.clientKey.byteLength===0||e.salt==null||e.salt.byteLength===0)}l.WormIDbDriver=s}),98);
__d("createReStoreEphemeralPersistence",["FBLogger","Promise","ReStorePersistence","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){var r=e.get(t);if(r!==void 0)return r;var o=n();return e.set(t,o),o}function u(t,a){var i=(e||(e=n("Promise"))).resolve(),l=new Map;function u(e){return s(l,e,function(){return new Map})}return{flush:function(r){return r.forEach(function(e,t){var n=u(t);e.forEach(function(e,t){o("ReStorePersistence").isDeletedValue(e)?n.delete(t):n.set(t,e)})}),(e||(e=n("Promise"))).resolve()},get:function(t,n,r){var e=u(n);return e.get(r)},logError:function(t,n,o,a){if(o==="dbCorruption"){var e,i;throw r("FBLogger")("messenger_web").mustfixThrow("Got unexpected undefined in edb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",n,t,(e=a==null?void 0:a.id)!=null?e:"",(i=a==null?void 0:a.deletedInThisTxn)!=null?i:"")}},permitsSynchronousIO:function(t){return!0},queueCommitWork:void 0,runExclusively:function(r){var t=a==null?void 0:a.startTracking(!1);return t==null||t.addAnnotations({string:{source:"createReStoreEphemeralPersistence",type:"runExclusivelyPromiseChain"}}),new(e||(e=n("Promise")))(function(e,o){i=i.then(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var n=yield r(),a=n[0],i=n[1];try{e(yield a()),t==null||t.end()}catch(e){o(e),t==null||t.fail()}})).catch(function(e){o(e)})})},shouldApplySync:function(){return!1},shouldInline:function(t,n){return!0},shouldSync:function(){return!1},types:["ephemeral"],uniqueId:t}}l.default=u}),98);
__d("createLSReStoreEphemeralPersistence",["LSReStoreQplLogger","MAWCurrentUser","createReStoreEphemeralPersistence","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("MAWCurrentUser").getID();return r("createReStoreEphemeralPersistence")("LSEphemeral "+e,o("LSReStoreQplLogger").createQplLogger(r("qpl")._(25303045,"817")))}l.createLSReStoreEphemeralPersistence=e}),98);